<!--author=alkohli last changed: 08/29/17-->

## <a name="troubleshooting-update-failures"></a><span data-ttu-id="6f224-101">Troubleshooting update failures</span><span class="sxs-lookup"><span data-stu-id="6f224-101">Troubleshooting update failures</span></span>
<span data-ttu-id="6f224-102">**What if you see a notification that the pre-upgrade checks have failed?**</span><span class="sxs-lookup"><span data-stu-id="6f224-102">**What if you see a notification that the pre-upgrade checks have failed?**</span></span>

<span data-ttu-id="6f224-103">If a pre-check fails, make sure that you have looked at the detailed notification bar at the bottom of the page.</span><span class="sxs-lookup"><span data-stu-id="6f224-103">If a pre-check fails, make sure that you have looked at the detailed notification bar at the bottom of the page.</span></span> <span data-ttu-id="6f224-104">This provides guidance as to which pre-check has failed.</span><span class="sxs-lookup"><span data-stu-id="6f224-104">This provides guidance as to which pre-check has failed.</span></span> <span data-ttu-id="6f224-105">For instance, you receive a notification that the controller health check and hardware component health check have failed.</span><span class="sxs-lookup"><span data-stu-id="6f224-105">For instance, you receive a notification that the controller health check and hardware component health check have failed.</span></span> <span data-ttu-id="6f224-106">Go to **Monitor > Hardware health**.</span><span class="sxs-lookup"><span data-stu-id="6f224-106">Go to **Monitor > Hardware health**.</span></span> <span data-ttu-id="6f224-107">You need to make sure that both controllers are healthy and online.</span><span class="sxs-lookup"><span data-stu-id="6f224-107">You need to make sure that both controllers are healthy and online.</span></span> <span data-ttu-id="6f224-108">You also need to make sure that all the hardware components in the StorSimple device are shown to be healthy in this blade.</span><span class="sxs-lookup"><span data-stu-id="6f224-108">You also need to make sure that all the hardware components in the StorSimple device are shown to be healthy in this blade.</span></span> <span data-ttu-id="6f224-109">You can then try to install updates.</span><span class="sxs-lookup"><span data-stu-id="6f224-109">You can then try to install updates.</span></span> <span data-ttu-id="6f224-110">If you are not able to fix the hardware component issues, then you will need to contact Microsoft Support for next steps.</span><span class="sxs-lookup"><span data-stu-id="6f224-110">If you are not able to fix the hardware component issues, then you will need to contact Microsoft Support for next steps.</span></span>

<span data-ttu-id="6f224-111">**What if you receive a "Could not install updates" error message, and the recommendation is to refer to the update troubleshooting guide to determine the cause of the failure?**</span><span class="sxs-lookup"><span data-stu-id="6f224-111">**What if you receive a "Could not install updates" error message, and the recommendation is to refer to the update troubleshooting guide to determine the cause of the failure?**</span></span>

<span data-ttu-id="6f224-112">One likely cause for this could be that you do not have connectivity to the Microsoft Update servers.</span><span class="sxs-lookup"><span data-stu-id="6f224-112">One likely cause for this could be that you do not have connectivity to the Microsoft Update servers.</span></span> <span data-ttu-id="6f224-113">This is a manual check that needs to be performed.</span><span class="sxs-lookup"><span data-stu-id="6f224-113">This is a manual check that needs to be performed.</span></span> <span data-ttu-id="6f224-114">If you lose connectivity to the update server, your update job would fail.</span><span class="sxs-lookup"><span data-stu-id="6f224-114">If you lose connectivity to the update server, your update job would fail.</span></span> <span data-ttu-id="6f224-115">You can check the connectivity by running the following cmdlet from the Windows PowerShell interface of your StorSimple device:</span><span class="sxs-lookup"><span data-stu-id="6f224-115">You can check the connectivity by running the following cmdlet from the Windows PowerShell interface of your StorSimple device:</span></span>

 `Test-Connection -Source <Fixed IP of your device controller> -Destination <Any IP or computer name outside of datacenter>`

<span data-ttu-id="6f224-116">Run the cmdlet on both controllers.</span><span class="sxs-lookup"><span data-stu-id="6f224-116">Run the cmdlet on both controllers.</span></span>

<span data-ttu-id="6f224-117">If you have verified the connectivity exists, and you continue to see this issue, please contact Microsoft Support for next steps.</span><span class="sxs-lookup"><span data-stu-id="6f224-117">If you have verified the connectivity exists, and you continue to see this issue, please contact Microsoft Support for next steps.</span></span>

<span data-ttu-id="6f224-118">**What if you see an update failure when updating your device to Update 4 and both the controllers are running Update 4?**</span><span class="sxs-lookup"><span data-stu-id="6f224-118">**What if you see an update failure when updating your device to Update 4 and both the controllers are running Update 4?**</span></span>

<span data-ttu-id="6f224-119">Starting Update 4, if both the controllers are running the same software version and if there is an update failure, the controllers do not go into recovery mode.</span><span class="sxs-lookup"><span data-stu-id="6f224-119">Starting Update 4, if both the controllers are running the same software version and if there is an update failure, the controllers do not go into recovery mode.</span></span> <span data-ttu-id="6f224-120">This situation can arise if the device software hotfix (1st order update) is applied to both the controllers successfully but other hotfixes (2nd order and 3rd order) are yet to be applied.</span><span class="sxs-lookup"><span data-stu-id="6f224-120">This situation can arise if the device software hotfix (1st order update) is applied to both the controllers successfully but other hotfixes (2nd order and 3rd order) are yet to be applied.</span></span> <span data-ttu-id="6f224-121">Starting Update 4, the controllers will go into recovery mode only if the two controllers are running different software versions.</span><span class="sxs-lookup"><span data-stu-id="6f224-121">Starting Update 4, the controllers will go into recovery mode only if the two controllers are running different software versions.</span></span> 

<span data-ttu-id="6f224-122">If the user sees an update failure when both controllers are running Update 4, we recommend that they wait a few minutes and then retry updating.</span><span class="sxs-lookup"><span data-stu-id="6f224-122">If the user sees an update failure when both controllers are running Update 4, we recommend that they wait a few minutes and then retry updating.</span></span> <span data-ttu-id="6f224-123">If the retry does not succeed, then they should contact Microsoft Support.</span><span class="sxs-lookup"><span data-stu-id="6f224-123">If the retry does not succeed, then they should contact Microsoft Support.</span></span>
