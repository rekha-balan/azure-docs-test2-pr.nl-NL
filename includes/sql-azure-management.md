
# <a name="managing-azure-sql-database-using-sql-server-management-studio"></a><span data-ttu-id="ec4e6-101">Managing Azure SQL Database using SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="ec4e6-101">Managing Azure SQL Database using SQL Server Management Studio</span></span>
<span data-ttu-id="ec4e6-102">You can use SQL Server Management Studio (SSMS) to administer Azure SQL Database logical servers and databases.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-102">You can use SQL Server Management Studio (SSMS) to administer Azure SQL Database logical servers and databases.</span></span> <span data-ttu-id="ec4e6-103">This topic walks you through common tasks with SSMS.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-103">This topic walks you through common tasks with SSMS.</span></span> <span data-ttu-id="ec4e6-104">You should already have a logical server and database created in Azure SQL Database before you begin.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-104">You should already have a logical server and database created in Azure SQL Database before you begin.</span></span> <span data-ttu-id="ec4e6-105">To get started, read [Create your first Azure SQL Database](../articles/sql-database/sql-database-get-started.md) and then come back.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-105">To get started, read [Create your first Azure SQL Database](../articles/sql-database/sql-database-get-started.md) and then come back.</span></span>

<span data-ttu-id="ec4e6-106">It's recommended that you use the latest version of SSMS whenever you work with Azure SQL Database.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-106">It's recommended that you use the latest version of SSMS whenever you work with Azure SQL Database.</span></span> <span data-ttu-id="ec4e6-107">Visit [Download SQL Server Management Studio](https://msdn.microsoft.com/en-us/library/mt238290.aspx) to get it.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-107">Visit [Download SQL Server Management Studio](https://msdn.microsoft.com/en-us/library/mt238290.aspx) to get it.</span></span> 

## <a name="connect-to-a-sql-database-logical-server"></a><span data-ttu-id="ec4e6-108">Connect to a SQL Database logical server</span><span class="sxs-lookup"><span data-stu-id="ec4e6-108">Connect to a SQL Database logical server</span></span>
<span data-ttu-id="ec4e6-109">Connecting to SQL Database requires that you know the server name on Azure.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-109">Connecting to SQL Database requires that you know the server name on Azure.</span></span> <span data-ttu-id="ec4e6-110">You might need to sign in to the portal to get this information.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-110">You might need to sign in to the portal to get this information.</span></span>

1. <span data-ttu-id="ec4e6-111">Sign in to the [Azure Management Portal](http://manage.windowsazure.com).</span><span class="sxs-lookup"><span data-stu-id="ec4e6-111">Sign in to the [Azure Management Portal](http://manage.windowsazure.com).</span></span>
2. <span data-ttu-id="ec4e6-112">In the left pane, click **SQL Databases**.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-112">In the left pane, click **SQL Databases**.</span></span>
3. <span data-ttu-id="ec4e6-113">On the SQL Databases home page, click **SERVERS** at the top of the page to list all of the servers associated with your subscription.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-113">On the SQL Databases home page, click **SERVERS** at the top of the page to list all of the servers associated with your subscription.</span></span> <span data-ttu-id="ec4e6-114">Find the name of the server to which you want to connect and copy it to the clipboard.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-114">Find the name of the server to which you want to connect and copy it to the clipboard.</span></span>
   
   <span data-ttu-id="ec4e6-115">Next, configure your SQL Database firewall to allow connections from your local machine.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-115">Next, configure your SQL Database firewall to allow connections from your local machine.</span></span> <span data-ttu-id="ec4e6-116">You do this by adding your local machines IP address to the firewall exception list.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-116">You do this by adding your local machines IP address to the firewall exception list.</span></span>
4. <span data-ttu-id="ec4e6-117">On SQL Databases home page, click **SERVERS** and then click the server to which you want to connect.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-117">On SQL Databases home page, click **SERVERS** and then click the server to which you want to connect.</span></span>
5. <span data-ttu-id="ec4e6-118">Click **Configure** at the top of the page.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-118">Click **Configure** at the top of the page.</span></span>
6. <span data-ttu-id="ec4e6-119">Copy the IP address in CURRENT CLIENT IP ADDRESS.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-119">Copy the IP address in CURRENT CLIENT IP ADDRESS.</span></span>
7. <span data-ttu-id="ec4e6-120">In the Configure page, **Allowed IP Addresses** includes three boxes where you can specify a rule name and a range of IP addresses as starting and ending values.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-120">In the Configure page, **Allowed IP Addresses** includes three boxes where you can specify a rule name and a range of IP addresses as starting and ending values.</span></span> <span data-ttu-id="ec4e6-121">For a rule name, you might enter the name of your computer.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-121">For a rule name, you might enter the name of your computer.</span></span> <span data-ttu-id="ec4e6-122">For the start and end range, paste in the IP address of your computer into both boxes, and then click the checkbox that appears.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-122">For the start and end range, paste in the IP address of your computer into both boxes, and then click the checkbox that appears.</span></span>
   
   <span data-ttu-id="ec4e6-123">The rule name must be unique.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-123">The rule name must be unique.</span></span> <span data-ttu-id="ec4e6-124">If this is your development computer, you can enter the IP address in both the IP range start box and the IP range end box.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-124">If this is your development computer, you can enter the IP address in both the IP range start box and the IP range end box.</span></span> <span data-ttu-id="ec4e6-125">Otherwise, you might need to enter a broader range of IP addresses to accommodate connections from additional computers in your organization.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-125">Otherwise, you might need to enter a broader range of IP addresses to accommodate connections from additional computers in your organization.</span></span>
8. <span data-ttu-id="ec4e6-126">Click **SAVE** at the bottom of the page.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-126">Click **SAVE** at the bottom of the page.</span></span>
   
    <span data-ttu-id="ec4e6-127">**Note:** There can be up as much as a five-minute delay for changes  to the firewall settings to take effect.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-127">**Note:** There can be up as much as a five-minute delay for changes  to the firewall settings to take effect.</span></span>
   
    <span data-ttu-id="ec4e6-128">You are now ready to connect to SQL Database using Management Studio.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-128">You are now ready to connect to SQL Database using Management Studio.</span></span>
9. <span data-ttu-id="ec4e6-129">On the taskbar, click **Start**, point to **All Programs**, point to **Microsoft SQL Server 2014**, and then click **SQL Server Management Studio**.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-129">On the taskbar, click **Start**, point to **All Programs**, point to **Microsoft SQL Server 2014**, and then click **SQL Server Management Studio**.</span></span>
10. <span data-ttu-id="ec4e6-130">In **Connect to Server**, specify the fully-qualified server name  as *serverName*.database.windows.net.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-130">In **Connect to Server**, specify the fully-qualified server name  as *serverName*.database.windows.net.</span></span> <span data-ttu-id="ec4e6-131">On Azure, the server name is an autogenerated string composed of alphanumeric characters.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-131">On Azure, the server name is an autogenerated string composed of alphanumeric characters.</span></span>
11. <span data-ttu-id="ec4e6-132">Select **SQL Server Authentication**.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-132">Select **SQL Server Authentication**.</span></span>
12. <span data-ttu-id="ec4e6-133">In the **Login** box, enter the SQL Server administrator login that you specified in the portal when you created  your server.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-133">In the **Login** box, enter the SQL Server administrator login that you specified in the portal when you created  your server.</span></span>
13. <span data-ttu-id="ec4e6-134">In the **Password** box, enter the password that you specified in the portal when you created  your server.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-134">In the **Password** box, enter the password that you specified in the portal when you created  your server.</span></span>
14. <span data-ttu-id="ec4e6-135">Click **Connect** to establish the connection.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-135">Click **Connect** to establish the connection.</span></span>

<span data-ttu-id="ec4e6-136">SQL Server 2014 SSMS with the latest updates offers expanded support for tasks like creating and modifying Azure SQL databases.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-136">SQL Server 2014 SSMS with the latest updates offers expanded support for tasks like creating and modifying Azure SQL databases.</span></span> <span data-ttu-id="ec4e6-137">In addition, you can also use Transact-SQL statements to accomplish these tasks.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-137">In addition, you can also use Transact-SQL statements to accomplish these tasks.</span></span> <span data-ttu-id="ec4e6-138">The steps below provide examples of these statements.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-138">The steps below provide examples of these statements.</span></span> <span data-ttu-id="ec4e6-139">For more information about using Transact-SQL with SQL Database, including details about which commands are supported, see [Transact-SQL Reference (SQL Database)](http://msdn.microsoft.com/library/bb510741.aspx).</span><span class="sxs-lookup"><span data-stu-id="ec4e6-139">For more information about using Transact-SQL with SQL Database, including details about which commands are supported, see [Transact-SQL Reference (SQL Database)](http://msdn.microsoft.com/library/bb510741.aspx).</span></span>

## <a name="create-and-manage-azure-sql-databases"></a><span data-ttu-id="ec4e6-140">Create and manage Azure SQL databases</span><span class="sxs-lookup"><span data-stu-id="ec4e6-140">Create and manage Azure SQL databases</span></span>
<span data-ttu-id="ec4e6-141">While connected to the **master** database, you can create new databases on the server and modify or drop existing databases.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-141">While connected to the **master** database, you can create new databases on the server and modify or drop existing databases.</span></span> <span data-ttu-id="ec4e6-142">The steps below describe how to accomplish several common database management tasks through Management Studio.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-142">The steps below describe how to accomplish several common database management tasks through Management Studio.</span></span> <span data-ttu-id="ec4e6-143">To perform these tasks, make sure you are connected to the **master** database with the server-level principal login that you created when you set up your server.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-143">To perform these tasks, make sure you are connected to the **master** database with the server-level principal login that you created when you set up your server.</span></span>

<span data-ttu-id="ec4e6-144">To open a query window in Management Studio, open the Databases folder, expand the **System Databases** folder, right-click on **master**, and then click **New Query**.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-144">To open a query window in Management Studio, open the Databases folder, expand the **System Databases** folder, right-click on **master**, and then click **New Query**.</span></span>

* <span data-ttu-id="ec4e6-145">Use the **CREATE DATABASE** statement to create a new database.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-145">Use the **CREATE DATABASE** statement to create a new database.</span></span> <span data-ttu-id="ec4e6-146">For more information, see [CREATE DATABASE (SQL Database)](https://msdn.microsoft.com/library/dn268335.aspx).</span><span class="sxs-lookup"><span data-stu-id="ec4e6-146">For more information, see [CREATE DATABASE (SQL Database)](https://msdn.microsoft.com/library/dn268335.aspx).</span></span> <span data-ttu-id="ec4e6-147">The statement below creates a new database named **myTestDB** and specifies that it is a Standard S0 Edition database with a default maximum size of 250GB.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-147">The statement below creates a new database named **myTestDB** and specifies that it is a Standard S0 Edition database with a default maximum size of 250GB.</span></span>
  
      CREATE DATABASE myTestDB
      (EDITION='Standard',
       SERVICE_OBJECTIVE='S0');

<span data-ttu-id="ec4e6-148">Click **Execute** to run the query.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-148">Click **Execute** to run the query.</span></span>

* <span data-ttu-id="ec4e6-149">Use the **ALTER DATABASE** statement to modify an existing database, for example if you want to change the name and edition of the database.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-149">Use the **ALTER DATABASE** statement to modify an existing database, for example if you want to change the name and edition of the database.</span></span> <span data-ttu-id="ec4e6-150">For more information, see [ALTER DATABASE (SQL Database)](https://msdn.microsoft.com/library/ms174269.aspx).</span><span class="sxs-lookup"><span data-stu-id="ec4e6-150">For more information, see [ALTER DATABASE (SQL Database)](https://msdn.microsoft.com/library/ms174269.aspx).</span></span> <span data-ttu-id="ec4e6-151">The statement below modifies the database you created in the previous step to change edition to Standard S1.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-151">The statement below modifies the database you created in the previous step to change edition to Standard S1.</span></span>
  
      ALTER DATABASE myTestDB
      MODIFY
      (SERVICE_OBJECTIVE='S1');
* <span data-ttu-id="ec4e6-152">Use **the DROP DATABASE** Statement to delete an existing database.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-152">Use **the DROP DATABASE** Statement to delete an existing database.</span></span>
  <span data-ttu-id="ec4e6-153">For more information, see [DROP DATABASE (SQL Database)](https://msdn.microsoft.com/library/ms178613.aspx).</span><span class="sxs-lookup"><span data-stu-id="ec4e6-153">For more information, see [DROP DATABASE (SQL Database)](https://msdn.microsoft.com/library/ms178613.aspx).</span></span> <span data-ttu-id="ec4e6-154">The statement below deletes the **myTestDB** database, but don't drop it now because you will use it create logins in the next step.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-154">The statement below deletes the **myTestDB** database, but don't drop it now because you will use it create logins in the next step.</span></span>
  
      DROP DATABASE myTestBase;
* <span data-ttu-id="ec4e6-155">The master database has the **sys.databases** view that you can use to view details about all databases.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-155">The master database has the **sys.databases** view that you can use to view details about all databases.</span></span> <span data-ttu-id="ec4e6-156">To view all existing databases, execute the following statement:</span><span class="sxs-lookup"><span data-stu-id="ec4e6-156">To view all existing databases, execute the following statement:</span></span>
  
      SELECT * FROM sys.databases;
* <span data-ttu-id="ec4e6-157">In SQL Database, the **USE** statement is not supported for switching between databases.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-157">In SQL Database, the **USE** statement is not supported for switching between databases.</span></span> <span data-ttu-id="ec4e6-158">Instead, you need to establish a connection directly to the target database.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-158">Instead, you need to establish a connection directly to the target database.</span></span>

> [!NOTE]
> <span data-ttu-id="ec4e6-159">Many of the Transact-SQL statements that create or modify a database must be run within their own batch and cannot be grouped with other Transact-SQL statements.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-159">Many of the Transact-SQL statements that create or modify a database must be run within their own batch and cannot be grouped with other Transact-SQL statements.</span></span> <span data-ttu-id="ec4e6-160">For more information, see the statement-specific information available from the links listed above.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-160">For more information, see the statement-specific information available from the links listed above.</span></span>
> 
> 

## <a name="create-and-manage-logins"></a><span data-ttu-id="ec4e6-161">Create and manage logins</span><span class="sxs-lookup"><span data-stu-id="ec4e6-161">Create and manage logins</span></span>
<span data-ttu-id="ec4e6-162">The **master** database keeps track of logins and which logins have permission to create databases or other logins.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-162">The **master** database keeps track of logins and which logins have permission to create databases or other logins.</span></span> <span data-ttu-id="ec4e6-163">Manage logins by connecting to the **master** database with the server-level principal login that you created when you set up your server.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-163">Manage logins by connecting to the **master** database with the server-level principal login that you created when you set up your server.</span></span> <span data-ttu-id="ec4e6-164">You can use the **CREATE LOGIN**, **ALTER LOGIN**, or **DROP LOGIN** statements to execute queries against the master database that will manage logins across the entire server.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-164">You can use the **CREATE LOGIN**, **ALTER LOGIN**, or **DROP LOGIN** statements to execute queries against the master database that will manage logins across the entire server.</span></span> <span data-ttu-id="ec4e6-165">For more information, see [Managing Databases and Logins in SQL Database](http://msdn.microsoft.com/library/azure/ee336235.aspx).</span><span class="sxs-lookup"><span data-stu-id="ec4e6-165">For more information, see [Managing Databases and Logins in SQL Database](http://msdn.microsoft.com/library/azure/ee336235.aspx).</span></span> 

* <span data-ttu-id="ec4e6-166">Use the **CREATE LOGIN** statement to create a new server-level login.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-166">Use the **CREATE LOGIN** statement to create a new server-level login.</span></span> <span data-ttu-id="ec4e6-167">For more information, see [CREATE LOGIN (SQL Database)](https://msdn.microsoft.com/library/ms189751.aspx).</span><span class="sxs-lookup"><span data-stu-id="ec4e6-167">For more information, see [CREATE LOGIN (SQL Database)](https://msdn.microsoft.com/library/ms189751.aspx).</span></span> <span data-ttu-id="ec4e6-168">The statement below creates a new login called **login1**.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-168">The statement below creates a new login called **login1**.</span></span> <span data-ttu-id="ec4e6-169">Replace **password1** with the password of your choice.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-169">Replace **password1** with the password of your choice.</span></span>
  
      CREATE LOGIN login1 WITH password='password1';
* <span data-ttu-id="ec4e6-170">Use the **CREATE USER** statement to grant database-level permissions.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-170">Use the **CREATE USER** statement to grant database-level permissions.</span></span> <span data-ttu-id="ec4e6-171">All logins must be created in the **master** database, but for a login to connect to a different database, you must grant it database-level permissions using the **CREATE USER** statement on that database.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-171">All logins must be created in the **master** database, but for a login to connect to a different database, you must grant it database-level permissions using the **CREATE USER** statement on that database.</span></span> <span data-ttu-id="ec4e6-172">For more information, see [CREATE USER (SQL Database)](https://msdn.microsoft.com/library/ms173463.aspx).</span><span class="sxs-lookup"><span data-stu-id="ec4e6-172">For more information, see [CREATE USER (SQL Database)](https://msdn.microsoft.com/library/ms173463.aspx).</span></span> 
* <span data-ttu-id="ec4e6-173">To give login1 permissions to a database called **myTestDB**, complete the following steps:</span><span class="sxs-lookup"><span data-stu-id="ec4e6-173">To give login1 permissions to a database called **myTestDB**, complete the following steps:</span></span>
  
  1. <span data-ttu-id="ec4e6-174">To refresh Object Explorer to view the **myTestDB** database that you just created, right-click the server name in Object Explorer and then click **Refresh**.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-174">To refresh Object Explorer to view the **myTestDB** database that you just created, right-click the server name in Object Explorer and then click **Refresh**.</span></span>  
     
     <span data-ttu-id="ec4e6-175">If you closed the connection, you can reconnect by selecting **Connect Object Explorer** on the File menu.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-175">If you closed the connection, you can reconnect by selecting **Connect Object Explorer** on the File menu.</span></span>
  2. <span data-ttu-id="ec4e6-176">Right-click **myTestDB** database and select **New Query**.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-176">Right-click **myTestDB** database and select **New Query**.</span></span>
  3. <span data-ttu-id="ec4e6-177">Execute the following statement against the myTestDB database to create a database user named **login1User** that corresponds to the server-level login **login1**.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-177">Execute the following statement against the myTestDB database to create a database user named **login1User** that corresponds to the server-level login **login1**.</span></span>
     
         CREATE USER login1User FROM LOGIN login1;
* <span data-ttu-id="ec4e6-178">Use the **sp\_addrolemember** stored procedure to give the user account the appropriate level of permissions on the database.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-178">Use the **sp\_addrolemember** stored procedure to give the user account the appropriate level of permissions on the database.</span></span> <span data-ttu-id="ec4e6-179">For more information, see [sp_addrolemember (Transact-SQL)](http://msdn.microsoft.com/library/ms187750.aspx).</span><span class="sxs-lookup"><span data-stu-id="ec4e6-179">For more information, see [sp_addrolemember (Transact-SQL)](http://msdn.microsoft.com/library/ms187750.aspx).</span></span> <span data-ttu-id="ec4e6-180">The statement below gives **login1User** read-only permissions to the database by adding **login1User** to the **db\_datareader** role.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-180">The statement below gives **login1User** read-only permissions to the database by adding **login1User** to the **db\_datareader** role.</span></span>
  
      exec sp_addrolemember 'db_datareader', 'login1User';    
* <span data-ttu-id="ec4e6-181">Use the **ALTER LOGIN** statement to modify an existing login, for example if you want to change the password for the login.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-181">Use the **ALTER LOGIN** statement to modify an existing login, for example if you want to change the password for the login.</span></span> <span data-ttu-id="ec4e6-182">For more information, see [ALTER LOGIN (SQL Database)](https://msdn.microsoft.com/library/ms189828.aspx).</span><span class="sxs-lookup"><span data-stu-id="ec4e6-182">For more information, see [ALTER LOGIN (SQL Database)](https://msdn.microsoft.com/library/ms189828.aspx).</span></span> <span data-ttu-id="ec4e6-183">The **ALTER LOGIN** statement should be run against the **master** database.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-183">The **ALTER LOGIN** statement should be run against the **master** database.</span></span> <span data-ttu-id="ec4e6-184">Switch back to the query window that is connected to that database.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-184">Switch back to the query window that is connected to that database.</span></span> 
  
  <span data-ttu-id="ec4e6-185">The statement below modifies the **login1** login to reset the password.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-185">The statement below modifies the **login1** login to reset the password.</span></span>
  <span data-ttu-id="ec4e6-186">Replace **newPassword** with the password of your choice, and **oldPassword** with the current password for the login.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-186">Replace **newPassword** with the password of your choice, and **oldPassword** with the current password for the login.</span></span>
  
      ALTER LOGIN login1
      WITH PASSWORD = 'newPassword'
      OLD_PASSWORD = 'oldPassword';
* <span data-ttu-id="ec4e6-187">Use **the DROP LOGIN** statement to delete an existing login.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-187">Use **the DROP LOGIN** statement to delete an existing login.</span></span>
  <span data-ttu-id="ec4e6-188">Deleting a login at the server level also deletes any associated database user accounts.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-188">Deleting a login at the server level also deletes any associated database user accounts.</span></span> <span data-ttu-id="ec4e6-189">For more information, see [DROP DATABASE (SQL Database)](https://msdn.microsoft.com/library/ms178613.aspx).</span><span class="sxs-lookup"><span data-stu-id="ec4e6-189">For more information, see [DROP DATABASE (SQL Database)](https://msdn.microsoft.com/library/ms178613.aspx).</span></span> <span data-ttu-id="ec4e6-190">The **DROP LOGIN** statement should be run against the **master** database.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-190">The **DROP LOGIN** statement should be run against the **master** database.</span></span> <span data-ttu-id="ec4e6-191">The statement below deletes the **login1** login.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-191">The statement below deletes the **login1** login.</span></span>
  
      DROP LOGIN login1;
* <span data-ttu-id="ec4e6-192">The master database has the **sys.sql\_logins** view that you can use to view logins.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-192">The master database has the **sys.sql\_logins** view that you can use to view logins.</span></span> <span data-ttu-id="ec4e6-193">To view all existing logins, execute the following statement:</span><span class="sxs-lookup"><span data-stu-id="ec4e6-193">To view all existing logins, execute the following statement:</span></span>
  
      SELECT * FROM sys.sql_logins;

## <a name="monitor-sql-database-using-dynamic-management-viewsh2"></a><span data-ttu-id="ec4e6-194">Monitor SQL Database using Dynamic Management Views</span><span class="sxs-lookup"><span data-stu-id="ec4e6-194">Monitor SQL Database using Dynamic Management Views</span></span></h2>
<span data-ttu-id="ec4e6-195">SQL Database supports several dynamic management views that you can use to monitor an individual database.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-195">SQL Database supports several dynamic management views that you can use to monitor an individual database.</span></span> <span data-ttu-id="ec4e6-196">Below are a few examples of the type of monitor data you can retrieve through these views.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-196">Below are a few examples of the type of monitor data you can retrieve through these views.</span></span> <span data-ttu-id="ec4e6-197">For complete details and more usage examples, see [Monitoring SQL Database using Dynamic Management Views](https://msdn.microsoft.com/library/azure/ff394114.aspx).</span><span class="sxs-lookup"><span data-stu-id="ec4e6-197">For complete details and more usage examples, see [Monitoring SQL Database using Dynamic Management Views](https://msdn.microsoft.com/library/azure/ff394114.aspx).</span></span>

* <span data-ttu-id="ec4e6-198">Querying a dynamic management view requires **VIEW DATABASE STATE** permissions.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-198">Querying a dynamic management view requires **VIEW DATABASE STATE** permissions.</span></span> <span data-ttu-id="ec4e6-199">To grant the **VIEW DATABASE STATE** permission to a specific database user, connect to the database you want to manage with your server-level principle login and execute the following statement against the database:</span><span class="sxs-lookup"><span data-stu-id="ec4e6-199">To grant the **VIEW DATABASE STATE** permission to a specific database user, connect to the database you want to manage with your server-level principle login and execute the following statement against the database:</span></span>
  
      GRANT VIEW DATABASE STATE TO login1User;
* <span data-ttu-id="ec4e6-200">Calculate database size using the **sys.dm\_db\_partition\_stats** view.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-200">Calculate database size using the **sys.dm\_db\_partition\_stats** view.</span></span> <span data-ttu-id="ec4e6-201">The **sys.dm\_db\_partition\_stats** view returns page and row-count information for every partition in the database, which you can use to calculate the database size.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-201">The **sys.dm\_db\_partition\_stats** view returns page and row-count information for every partition in the database, which you can use to calculate the database size.</span></span> <span data-ttu-id="ec4e6-202">The following query returns the size of your database in megabytes:</span><span class="sxs-lookup"><span data-stu-id="ec4e6-202">The following query returns the size of your database in megabytes:</span></span>
  
      SELECT SUM(reserved_page_count)*8.0/1024
      FROM sys.dm_db_partition_stats;   
* <span data-ttu-id="ec4e6-203">Use the **sys.dm\_exec\_connections** and **sys.dm\_exec\_sessions** views to retrieve information about current user connections and internal tasks associated with the database.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-203">Use the **sys.dm\_exec\_connections** and **sys.dm\_exec\_sessions** views to retrieve information about current user connections and internal tasks associated with the database.</span></span> <span data-ttu-id="ec4e6-204">The following query returns information about the current connection:</span><span class="sxs-lookup"><span data-stu-id="ec4e6-204">The following query returns information about the current connection:</span></span>
  
      SELECT
          e.connection_id,
          s.session_id,
          s.login_name,
          s.last_request_end_time,
          s.cpu_time
      FROM
          sys.dm_exec_sessions s
          INNER JOIN sys.dm_exec_connections e
            ON s.session_id = e.session_id;
* <span data-ttu-id="ec4e6-205">Use the **sys.dm\_exec\_query\_stats** view to retrieve aggregate performance statistics for cached query plans.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-205">Use the **sys.dm\_exec\_query\_stats** view to retrieve aggregate performance statistics for cached query plans.</span></span> <span data-ttu-id="ec4e6-206">The following query returns information about the top five queries ranked by average CPU time.</span><span class="sxs-lookup"><span data-stu-id="ec4e6-206">The following query returns information about the top five queries ranked by average CPU time.</span></span>
  
      SELECT TOP 5 query_stats.query_hash AS "Query Hash",
          SUM(query_stats.total_worker_time), SUM(query_stats.execution_count) AS "Avg CPU Time",
          MIN(query_stats.statement_text) AS "Statement Text"
      FROM
          (SELECT QS.*,
          SUBSTRING(ST.text, (QS.statement_start_offset/2) + 1,
          ((CASE statement_end_offset
              WHEN -1 THEN DATALENGTH(ST.text)
              ELSE QS.statement_end_offset END
                  - QS.statement_start_offset)/2) + 1) AS statement_text
           FROM sys.dm_exec_query_stats AS QS
           CROSS APPLY sys.dm_exec_sql_text(QS.sql_handle) as ST) as query_stats
      GROUP BY query_stats.query_hash
      ORDER BY 2 DESC;

