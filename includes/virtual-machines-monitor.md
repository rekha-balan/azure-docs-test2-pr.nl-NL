<span data-ttu-id="578a7-101">You can take advantage of many opportunities to monitor your VMs by collecting, viewing, and analyzing diagnostic and log data.</span><span class="sxs-lookup"><span data-stu-id="578a7-101">You can take advantage of many opportunities to monitor your VMs by collecting, viewing, and analyzing diagnostic and log data.</span></span> <span data-ttu-id="578a7-102">To do simple [monitoring](../articles/monitoring-and-diagnostics/monitoring-overview-azure-monitor.md) of your VM, you can use the Overview screen for the VM in the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="578a7-102">To do simple [monitoring](../articles/monitoring-and-diagnostics/monitoring-overview-azure-monitor.md) of your VM, you can use the Overview screen for the VM in the Azure portal.</span></span> <span data-ttu-id="578a7-103">You can use [extensions](../articles/virtual-machines/windows/extensions-features.md) to configure diagnostics on your VMs to collect additional metric data.</span><span class="sxs-lookup"><span data-stu-id="578a7-103">You can use [extensions](../articles/virtual-machines/windows/extensions-features.md) to configure diagnostics on your VMs to collect additional metric data.</span></span> <span data-ttu-id="578a7-104">You can also use more advanced monitoring options, such as [Application Insights](../articles/application-insights/app-insights-overview.md) and [Log Analytics](../articles/log-analytics/log-analytics-overview.md).</span><span class="sxs-lookup"><span data-stu-id="578a7-104">You can also use more advanced monitoring options, such as [Application Insights](../articles/application-insights/app-insights-overview.md) and [Log Analytics](../articles/log-analytics/log-analytics-overview.md).</span></span>

## <a name="diagnostics-and-metrics"></a><span data-ttu-id="578a7-105">Diagnostics and metrics</span><span class="sxs-lookup"><span data-stu-id="578a7-105">Diagnostics and metrics</span></span> 

<span data-ttu-id="578a7-106">You can set up and monitor the collection of [diagnostics data](https://docs.microsoft.com/cli/azure/vm/diagnostics) using [metrics](../articles/monitoring-and-diagnostics/monitoring-overview-metrics.md) in the Azure portal, the Azure CLI, Azure PowerShell, and programming Applications Programming Interfaces (APIs).</span><span class="sxs-lookup"><span data-stu-id="578a7-106">You can set up and monitor the collection of [diagnostics data](https://docs.microsoft.com/cli/azure/vm/diagnostics) using [metrics](../articles/monitoring-and-diagnostics/monitoring-overview-metrics.md) in the Azure portal, the Azure CLI, Azure PowerShell, and programming Applications Programming Interfaces (APIs).</span></span> <span data-ttu-id="578a7-107">For example, you can:</span><span class="sxs-lookup"><span data-stu-id="578a7-107">For example, you can:</span></span>

- <span data-ttu-id="578a7-108">**Observe basic metrics for the VM.**</span><span class="sxs-lookup"><span data-stu-id="578a7-108">**Observe basic metrics for the VM.**</span></span> <span data-ttu-id="578a7-109">On the Overview screen of the Azure portal, the basic metrics shown include CPU usage, network usage, total of disk bytes, and disk operations per second.</span><span class="sxs-lookup"><span data-stu-id="578a7-109">On the Overview screen of the Azure portal, the basic metrics shown include CPU usage, network usage, total of disk bytes, and disk operations per second.</span></span>

- <span data-ttu-id="578a7-110">**Enable the collection of boot diagnostics and view it using the Azure portal.**</span><span class="sxs-lookup"><span data-stu-id="578a7-110">**Enable the collection of boot diagnostics and view it using the Azure portal.**</span></span> <span data-ttu-id="578a7-111">When bringing your own image to Azure or even booting one of the platform images, there can be many reasons why a VM gets into a non-bootable state.</span><span class="sxs-lookup"><span data-stu-id="578a7-111">When bringing your own image to Azure or even booting one of the platform images, there can be many reasons why a VM gets into a non-bootable state.</span></span> <span data-ttu-id="578a7-112">You can easily enable boot diagnostics when you create a VM by clicking **Enabled** for Boot Diagnostics under the Monitoring section of the Settings screen.</span><span class="sxs-lookup"><span data-stu-id="578a7-112">You can easily enable boot diagnostics when you create a VM by clicking **Enabled** for Boot Diagnostics under the Monitoring section of the Settings screen.</span></span>

    <span data-ttu-id="578a7-113">As VMs boot, the boot diagnostic agent captures boot output and stores it in Azure storage.</span><span class="sxs-lookup"><span data-stu-id="578a7-113">As VMs boot, the boot diagnostic agent captures boot output and stores it in Azure storage.</span></span> <span data-ttu-id="578a7-114">This data can be used to troubleshoot VM boot issues.</span><span class="sxs-lookup"><span data-stu-id="578a7-114">This data can be used to troubleshoot VM boot issues.</span></span> <span data-ttu-id="578a7-115">Boot diagnostics are not automatically enabled when you create a VM from command-line tools.</span><span class="sxs-lookup"><span data-stu-id="578a7-115">Boot diagnostics are not automatically enabled when you create a VM from command-line tools.</span></span> <span data-ttu-id="578a7-116">Before enabling boot diagnostics, a storage account needs to be created for storing boot logs.</span><span class="sxs-lookup"><span data-stu-id="578a7-116">Before enabling boot diagnostics, a storage account needs to be created for storing boot logs.</span></span> <span data-ttu-id="578a7-117">If you enable boot diagnostics in the Azure portal, a storage account is automatically created for you.</span><span class="sxs-lookup"><span data-stu-id="578a7-117">If you enable boot diagnostics in the Azure portal, a storage account is automatically created for you.</span></span>

    <span data-ttu-id="578a7-118">If you didn’t enable boot diagnostics when the VM was created, you can always enable it later by using [Azure CLI](https://docs.microsoft.com/cli/azure/vm/boot-diagnostics), [Azure PowerShell](https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmbootdiagnostics), or an [Azure Resource Manager template](../articles/virtual-machines/windows/extensions-diagnostics-template.md).</span><span class="sxs-lookup"><span data-stu-id="578a7-118">If you didn’t enable boot diagnostics when the VM was created, you can always enable it later by using [Azure CLI](https://docs.microsoft.com/cli/azure/vm/boot-diagnostics), [Azure PowerShell](https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmbootdiagnostics), or an [Azure Resource Manager template](../articles/virtual-machines/windows/extensions-diagnostics-template.md).</span></span>

- <span data-ttu-id="578a7-119">**Enable the collection of guest OS diagnostics data.**</span><span class="sxs-lookup"><span data-stu-id="578a7-119">**Enable the collection of guest OS diagnostics data.**</span></span> <span data-ttu-id="578a7-120">When you create a VM, you have the opportunity on the settings screen to enable guest OS diagnostics.</span><span class="sxs-lookup"><span data-stu-id="578a7-120">When you create a VM, you have the opportunity on the settings screen to enable guest OS diagnostics.</span></span> <span data-ttu-id="578a7-121">When you do enable the collection of diagnostics data, the [IaaSDiagnostics extension for Linux](../articles/virtual-machines/linux/diagnostic-extension.md) or the [IaaSDiagnostics extension for Windows](../articles/virtual-machines/windows/ps-extensions-diagnostics.md) is added to the VM, which enables you to collect additional disk, CPU, and memory data.</span><span class="sxs-lookup"><span data-stu-id="578a7-121">When you do enable the collection of diagnostics data, the [IaaSDiagnostics extension for Linux](../articles/virtual-machines/linux/diagnostic-extension.md) or the [IaaSDiagnostics extension for Windows](../articles/virtual-machines/windows/ps-extensions-diagnostics.md) is added to the VM, which enables you to collect additional disk, CPU, and memory data.</span></span>

    <span data-ttu-id="578a7-122">Using the collected diagnostics data, you can configure autoscaling for your VMs.</span><span class="sxs-lookup"><span data-stu-id="578a7-122">Using the collected diagnostics data, you can configure autoscaling for your VMs.</span></span> <span data-ttu-id="578a7-123">You can also configure logs to store the data and set up alerts to let you know when performance isn't quite right.</span><span class="sxs-lookup"><span data-stu-id="578a7-123">You can also configure logs to store the data and set up alerts to let you know when performance isn't quite right.</span></span>

## <a name="alerts"></a><span data-ttu-id="578a7-124">Alerts</span><span class="sxs-lookup"><span data-stu-id="578a7-124">Alerts</span></span>

<span data-ttu-id="578a7-125">You can create [alerts](../articles/monitoring-and-diagnostics/monitoring-overview-alerts.md) based on specific performance metrics.</span><span class="sxs-lookup"><span data-stu-id="578a7-125">You can create [alerts](../articles/monitoring-and-diagnostics/monitoring-overview-alerts.md) based on specific performance metrics.</span></span> <span data-ttu-id="578a7-126">Examples of the issues you can be alerted about include when average CPU usage exceeds a certain threshold, or available free disk space drops below a certain amount.</span><span class="sxs-lookup"><span data-stu-id="578a7-126">Examples of the issues you can be alerted about include when average CPU usage exceeds a certain threshold, or available free disk space drops below a certain amount.</span></span> <span data-ttu-id="578a7-127">Alerts can be configured in the [Azure portal](../articles/monitoring-and-diagnostics/insights-alerts-portal.md), using [Azure PowerShell](../articles/monitoring-and-diagnostics/insights-alerts-powershell.md), or the [Azure CLI](../articles/monitoring-and-diagnostics/insights-alerts-command-line-interface.md).</span><span class="sxs-lookup"><span data-stu-id="578a7-127">Alerts can be configured in the [Azure portal](../articles/monitoring-and-diagnostics/insights-alerts-portal.md), using [Azure PowerShell](../articles/monitoring-and-diagnostics/insights-alerts-powershell.md), or the [Azure CLI](../articles/monitoring-and-diagnostics/insights-alerts-command-line-interface.md).</span></span>

## <a name="azure-service-health"></a><span data-ttu-id="578a7-128">Azure Service Health</span><span class="sxs-lookup"><span data-stu-id="578a7-128">Azure Service Health</span></span>

<span data-ttu-id="578a7-129">[Azure Service Health](../articles/service-health/service-health-overview.md) provides personalized guidance and support when issues in Azure services affect you, and helps you prepare for upcoming planned maintenance.</span><span class="sxs-lookup"><span data-stu-id="578a7-129">[Azure Service Health](../articles/service-health/service-health-overview.md) provides personalized guidance and support when issues in Azure services affect you, and helps you prepare for upcoming planned maintenance.</span></span> <span data-ttu-id="578a7-130">Azure Service Health alerts you and your teams using targeted and flexible notifications.</span><span class="sxs-lookup"><span data-stu-id="578a7-130">Azure Service Health alerts you and your teams using targeted and flexible notifications.</span></span>

## <a name="azure-resource-health"></a><span data-ttu-id="578a7-131">Azure Resource Health</span><span class="sxs-lookup"><span data-stu-id="578a7-131">Azure Resource Health</span></span>

<span data-ttu-id="578a7-132">[Azure Resource health](../articles/service-health/resource-health-overview.md) helps you diagnose and get support when an Azure issue impacts your resources.</span><span class="sxs-lookup"><span data-stu-id="578a7-132">[Azure Resource health](../articles/service-health/resource-health-overview.md) helps you diagnose and get support when an Azure issue impacts your resources.</span></span> <span data-ttu-id="578a7-133">It informs you about the current and past health of your resources and helps you mitigate issues.</span><span class="sxs-lookup"><span data-stu-id="578a7-133">It informs you about the current and past health of your resources and helps you mitigate issues.</span></span> <span data-ttu-id="578a7-134">Resource health provides technical support when you need help with Azure service issues.</span><span class="sxs-lookup"><span data-stu-id="578a7-134">Resource health provides technical support when you need help with Azure service issues.</span></span>

## <a name="logs"></a><span data-ttu-id="578a7-135">Logs</span><span class="sxs-lookup"><span data-stu-id="578a7-135">Logs</span></span>

<span data-ttu-id="578a7-136">The [Azure Activity Log](../articles/monitoring-and-diagnostics/monitoring-overview-activity-logs.md) is a subscription log that provides insight into subscription-level events that have occurred in Azure.</span><span class="sxs-lookup"><span data-stu-id="578a7-136">The [Azure Activity Log](../articles/monitoring-and-diagnostics/monitoring-overview-activity-logs.md) is a subscription log that provides insight into subscription-level events that have occurred in Azure.</span></span> <span data-ttu-id="578a7-137">The log includes a range of data, from Azure Resource Manager operational data to updates on Service Health events.</span><span class="sxs-lookup"><span data-stu-id="578a7-137">The log includes a range of data, from Azure Resource Manager operational data to updates on Service Health events.</span></span> <span data-ttu-id="578a7-138">You can click Activity Log in the Azure portal to view the log for your VM.</span><span class="sxs-lookup"><span data-stu-id="578a7-138">You can click Activity Log in the Azure portal to view the log for your VM.</span></span>

<span data-ttu-id="578a7-139">Some of the things you can do with the activity log include:</span><span class="sxs-lookup"><span data-stu-id="578a7-139">Some of the things you can do with the activity log include:</span></span>

- <span data-ttu-id="578a7-140">Create an [alert on an Activity Log event](../articles/monitoring-and-diagnostics/monitoring-overview-activity-logs.md).</span><span class="sxs-lookup"><span data-stu-id="578a7-140">Create an [alert on an Activity Log event](../articles/monitoring-and-diagnostics/monitoring-overview-activity-logs.md).</span></span>
- <span data-ttu-id="578a7-141">[Stream it to an Event Hub](../articles/monitoring-and-diagnostics/monitoring-stream-activity-logs-event-hubs.md) for ingestion by a third-party service or custom analytics solution such as PowerBI.</span><span class="sxs-lookup"><span data-stu-id="578a7-141">[Stream it to an Event Hub](../articles/monitoring-and-diagnostics/monitoring-stream-activity-logs-event-hubs.md) for ingestion by a third-party service or custom analytics solution such as PowerBI.</span></span>
- <span data-ttu-id="578a7-142">Analyze it in PowerBI using the [PowerBI content pack](https://powerbi.microsoft.com/documentation/powerbi-content-pack-azure-audit-logs/).</span><span class="sxs-lookup"><span data-stu-id="578a7-142">Analyze it in PowerBI using the [PowerBI content pack](https://powerbi.microsoft.com/documentation/powerbi-content-pack-azure-audit-logs/).</span></span>
- <span data-ttu-id="578a7-143">[Save it to a storage account](../articles/monitoring-and-diagnostics/monitoring-archive-activity-log.md) for archival or manual inspection.</span><span class="sxs-lookup"><span data-stu-id="578a7-143">[Save it to a storage account](../articles/monitoring-and-diagnostics/monitoring-archive-activity-log.md) for archival or manual inspection.</span></span> <span data-ttu-id="578a7-144">You can specify the retention time (in days) using the Log Profile.</span><span class="sxs-lookup"><span data-stu-id="578a7-144">You can specify the retention time (in days) using the Log Profile.</span></span>

<span data-ttu-id="578a7-145">You can also access activity log data by using [Azure PowerShell](https://docs.microsoft.com/powershell/module/azurerm.insights/), the [Azure CLI](https://docs.microsoft.com/cli/azure/monitor), or [Monitor REST APIs](https://docs.microsoft.com/rest/api/monitor/).</span><span class="sxs-lookup"><span data-stu-id="578a7-145">You can also access activity log data by using [Azure PowerShell](https://docs.microsoft.com/powershell/module/azurerm.insights/), the [Azure CLI](https://docs.microsoft.com/cli/azure/monitor), or [Monitor REST APIs](https://docs.microsoft.com/rest/api/monitor/).</span></span>

<span data-ttu-id="578a7-146">[Azure Diagnostic Logs](../articles/monitoring-and-diagnostics/monitoring-overview-of-diagnostic-logs.md) are logs emitted by your VM that provide rich, frequent data about its operation.</span><span class="sxs-lookup"><span data-stu-id="578a7-146">[Azure Diagnostic Logs](../articles/monitoring-and-diagnostics/monitoring-overview-of-diagnostic-logs.md) are logs emitted by your VM that provide rich, frequent data about its operation.</span></span> <span data-ttu-id="578a7-147">Diagnostic logs differ from the activity log by providing insight about operations that were performed within the VM.</span><span class="sxs-lookup"><span data-stu-id="578a7-147">Diagnostic logs differ from the activity log by providing insight about operations that were performed within the VM.</span></span>

<span data-ttu-id="578a7-148">Some of the things you can do with diagnostics logs include:</span><span class="sxs-lookup"><span data-stu-id="578a7-148">Some of the things you can do with diagnostics logs include:</span></span>

- <span data-ttu-id="578a7-149">[Save them to a storage account](../articles/monitoring-and-diagnostics/monitoring-archive-diagnostic-logs.md) for auditing or manual inspection.</span><span class="sxs-lookup"><span data-stu-id="578a7-149">[Save them to a storage account](../articles/monitoring-and-diagnostics/monitoring-archive-diagnostic-logs.md) for auditing or manual inspection.</span></span> <span data-ttu-id="578a7-150">You can specify the retention time (in days) using Resource Diagnostic Settings.</span><span class="sxs-lookup"><span data-stu-id="578a7-150">You can specify the retention time (in days) using Resource Diagnostic Settings.</span></span>
- <span data-ttu-id="578a7-151">[Stream them to Event Hubs](../articles/monitoring-and-diagnostics/monitoring-stream-diagnostic-logs-to-event-hubs.md) for ingestion by a third-party service or custom analytics solution such as PowerBI.</span><span class="sxs-lookup"><span data-stu-id="578a7-151">[Stream them to Event Hubs](../articles/monitoring-and-diagnostics/monitoring-stream-diagnostic-logs-to-event-hubs.md) for ingestion by a third-party service or custom analytics solution such as PowerBI.</span></span>
- <span data-ttu-id="578a7-152">Analyze them with [OMS Log Analytics](../articles/log-analytics/log-analytics-azure-storage.md).</span><span class="sxs-lookup"><span data-stu-id="578a7-152">Analyze them with [OMS Log Analytics](../articles/log-analytics/log-analytics-azure-storage.md).</span></span>

## <a name="advanced-monitoring"></a><span data-ttu-id="578a7-153">Advanced monitoring</span><span class="sxs-lookup"><span data-stu-id="578a7-153">Advanced monitoring</span></span>

- <span data-ttu-id="578a7-154">[Operations Management Suite (OMS)](https://docs.microsoft.com/azure/operations-management-suite/) provides monitoring, alerting, and alert remediation capabilities across cloud and on-premises assets.</span><span class="sxs-lookup"><span data-stu-id="578a7-154">[Operations Management Suite (OMS)](https://docs.microsoft.com/azure/operations-management-suite/) provides monitoring, alerting, and alert remediation capabilities across cloud and on-premises assets.</span></span> <span data-ttu-id="578a7-155">You can install an extension on a [Linux VM](../articles/virtual-machines/linux/extensions-oms.md) or a [Windows VM](../articles/virtual-machines/windows/extensions-oms.md) that installs the OMS agent, and enrolls the VM into an existing OMS workspace.</span><span class="sxs-lookup"><span data-stu-id="578a7-155">You can install an extension on a [Linux VM](../articles/virtual-machines/linux/extensions-oms.md) or a [Windows VM](../articles/virtual-machines/windows/extensions-oms.md) that installs the OMS agent, and enrolls the VM into an existing OMS workspace.</span></span>

- <span data-ttu-id="578a7-156">[Log Analytics](../articles/log-analytics/log-analytics-overview.md) is a service in OMS that monitors your cloud and on-premises environments to maintain their availability and performance.</span><span class="sxs-lookup"><span data-stu-id="578a7-156">[Log Analytics](../articles/log-analytics/log-analytics-overview.md) is a service in OMS that monitors your cloud and on-premises environments to maintain their availability and performance.</span></span> <span data-ttu-id="578a7-157">It collects data generated by resources in your cloud and on-premises environments and from other monitoring tools to provide analysis across multiple sources.</span><span class="sxs-lookup"><span data-stu-id="578a7-157">It collects data generated by resources in your cloud and on-premises environments and from other monitoring tools to provide analysis across multiple sources.</span></span>

    <span data-ttu-id="578a7-158">For Windows and Linux VMs, the recommended method for collecting logs and metrics is by installing the Log Analytics agent.</span><span class="sxs-lookup"><span data-stu-id="578a7-158">For Windows and Linux VMs, the recommended method for collecting logs and metrics is by installing the Log Analytics agent.</span></span> <span data-ttu-id="578a7-159">The easiest way to install the Log Analytics agent on a VM is through the [Log Analytics VM Extension](../articles/log-analytics/log-analytics-azure-vm-extension.md).</span><span class="sxs-lookup"><span data-stu-id="578a7-159">The easiest way to install the Log Analytics agent on a VM is through the [Log Analytics VM Extension](../articles/log-analytics/log-analytics-azure-vm-extension.md).</span></span> <span data-ttu-id="578a7-160">Using the extension simplifies the installation process and automatically configures the agent to send data to the Log Analytics workspace that you specify.</span><span class="sxs-lookup"><span data-stu-id="578a7-160">Using the extension simplifies the installation process and automatically configures the agent to send data to the Log Analytics workspace that you specify.</span></span> <span data-ttu-id="578a7-161">The agent is also upgraded automatically, ensuring that you have the latest features and fixes.</span><span class="sxs-lookup"><span data-stu-id="578a7-161">The agent is also upgraded automatically, ensuring that you have the latest features and fixes.</span></span>

- <span data-ttu-id="578a7-162">[Network Watcher](../articles/network-watcher/network-watcher-monitoring-overview.md) enables you to monitor your VM and its associated resources as they relate to the network that they are in.</span><span class="sxs-lookup"><span data-stu-id="578a7-162">[Network Watcher](../articles/network-watcher/network-watcher-monitoring-overview.md) enables you to monitor your VM and its associated resources as they relate to the network that they are in.</span></span> <span data-ttu-id="578a7-163">You can install the Network Watcher Agent extension on a [Linux VM](../articles/virtual-machines/linux/extensions-nwa.md) or a [Windows VM](../articles/virtual-machines/windows/extensions-nwa.md).</span><span class="sxs-lookup"><span data-stu-id="578a7-163">You can install the Network Watcher Agent extension on a [Linux VM](../articles/virtual-machines/linux/extensions-nwa.md) or a [Windows VM](../articles/virtual-machines/windows/extensions-nwa.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="578a7-164">Next steps</span><span class="sxs-lookup"><span data-stu-id="578a7-164">Next steps</span></span>
- <span data-ttu-id="578a7-165">Walk through the steps in [Monitor a Windows Virtual Machine with Azure PowerShell](../articles/virtual-machines/windows/tutorial-monitoring.md) or [Monitor a Linux Virtual Machine with the Azure CLI](../articles/virtual-machines/linux/tutorial-monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="578a7-165">Walk through the steps in [Monitor a Windows Virtual Machine with Azure PowerShell](../articles/virtual-machines/windows/tutorial-monitoring.md) or [Monitor a Linux Virtual Machine with the Azure CLI](../articles/virtual-machines/linux/tutorial-monitoring.md).</span></span>
- <span data-ttu-id="578a7-166">Learn more about the best practices around [Monitoring and diagnostics](https://docs.microsoft.com/azure/architecture/best-practices/monitoring).</span><span class="sxs-lookup"><span data-stu-id="578a7-166">Learn more about the best practices around [Monitoring and diagnostics](https://docs.microsoft.com/azure/architecture/best-practices/monitoring).</span></span>
