<span data-ttu-id="ce399-101">In this step, you test the availability group listener using a client application running on the same network.</span><span class="sxs-lookup"><span data-stu-id="ce399-101">In this step, you test the availability group listener using a client application running on the same network.</span></span>

<span data-ttu-id="ce399-102">For client connectivity, please note the following requirements:</span><span class="sxs-lookup"><span data-stu-id="ce399-102">For client connectivity, please note the following requirements:</span></span>

* <span data-ttu-id="ce399-103">Client connections to the listener must come from machines that reside in a different cloud service than the one that hosts the AlwaysOn Availability replicas.</span><span class="sxs-lookup"><span data-stu-id="ce399-103">Client connections to the listener must come from machines that reside in a different cloud service than the one that hosts the AlwaysOn Availability replicas.</span></span>
* <span data-ttu-id="ce399-104">If the AlwaysOn replicas are in different subnets, clients must specify "MultisubnetFailover=True" in the connection string.</span><span class="sxs-lookup"><span data-stu-id="ce399-104">If the AlwaysOn replicas are in different subnets, clients must specify "MultisubnetFailover=True" in the connection string.</span></span> <span data-ttu-id="ce399-105">This results in parallel connection attempts to replicas in the different subnets.</span><span class="sxs-lookup"><span data-stu-id="ce399-105">This results in parallel connection attempts to replicas in the different subnets.</span></span> <span data-ttu-id="ce399-106">Note that this scenario includes a cross-region AlwaysOn Availability Group deployment.</span><span class="sxs-lookup"><span data-stu-id="ce399-106">Note that this scenario includes a cross-region AlwaysOn Availability Group deployment.</span></span>

<span data-ttu-id="ce399-107">One example would be to connect to the listener from one of the VMs in the same Azure VNet (but not one that hosts a replica).</span><span class="sxs-lookup"><span data-stu-id="ce399-107">One example would be to connect to the listener from one of the VMs in the same Azure VNet (but not one that hosts a replica).</span></span> <span data-ttu-id="ce399-108">An easy way to complete this test is to try to connect SSMS to the availability group listener.</span><span class="sxs-lookup"><span data-stu-id="ce399-108">An easy way to complete this test is to try to connect SSMS to the availability group listener.</span></span> <span data-ttu-id="ce399-109">Another simple method is to run [SQLCMD.exe](https://technet.microsoft.com/library/ms162773.aspx) as follows:</span><span class="sxs-lookup"><span data-stu-id="ce399-109">Another simple method is to run [SQLCMD.exe](https://technet.microsoft.com/library/ms162773.aspx) as follows:</span></span>

    sqlcmd -S "<ListenerName>,<EndpointPort>" -d "<DatabaseName>" -Q "select @@servername, db_name()" -l 15

> [!NOTE]
> <span data-ttu-id="ce399-110">If the EndpointPort value is 1433, it is not required to specify it in the call.</span><span class="sxs-lookup"><span data-stu-id="ce399-110">If the EndpointPort value is 1433, it is not required to specify it in the call.</span></span> <span data-ttu-id="ce399-111">The previous call also assumes that the client machine is joined to the same domain and that the caller has been granted permissions on the database using windows authentication.</span><span class="sxs-lookup"><span data-stu-id="ce399-111">The previous call also assumes that the client machine is joined to the same domain and that the caller has been granted permissions on the database using windows authentication.</span></span>
> 
> 

<span data-ttu-id="ce399-112">When testing the listener, be sure to fail over the availability group to make sure that clients can connect to the listener across failovers.</span><span class="sxs-lookup"><span data-stu-id="ce399-112">When testing the listener, be sure to fail over the availability group to make sure that clients can connect to the listener across failovers.</span></span>

