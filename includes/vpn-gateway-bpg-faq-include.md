### <a name="is-bgp-supported-on-all-azure-vpn-gateway-skus"></a><span data-ttu-id="4bdcf-101">Is BGP supported on all Azure VPN Gateway SKUs?</span><span class="sxs-lookup"><span data-stu-id="4bdcf-101">Is BGP supported on all Azure VPN Gateway SKUs?</span></span>
<span data-ttu-id="4bdcf-102">No, BGP is supported on Azure **Standard** and **HighPerformance** VPN gateways.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-102">No, BGP is supported on Azure **Standard** and **HighPerformance** VPN gateways.</span></span> <span data-ttu-id="4bdcf-103">**Basic** SKU is NOT supported.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-103">**Basic** SKU is NOT supported.</span></span>

### <a name="can-i-use-bgp-with-azure-policy-based-vpn-gateways"></a><span data-ttu-id="4bdcf-104">Can I use BGP with Azure Policy-Based VPN gateways?</span><span class="sxs-lookup"><span data-stu-id="4bdcf-104">Can I use BGP with Azure Policy-Based VPN gateways?</span></span>
<span data-ttu-id="4bdcf-105">No, BGP is supported on Route-Based VPN gateways only.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-105">No, BGP is supported on Route-Based VPN gateways only.</span></span>

### <a name="can-i-use-private-asns-autonomous-system-numbers"></a><span data-ttu-id="4bdcf-106">Can I use private ASNs (Autonomous System Numbers)?</span><span class="sxs-lookup"><span data-stu-id="4bdcf-106">Can I use private ASNs (Autonomous System Numbers)?</span></span>
<span data-ttu-id="4bdcf-107">Yes, you can use your own public ASNs or private ASNs for both your on-premises networks and Azure virtual networks.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-107">Yes, you can use your own public ASNs or private ASNs for both your on-premises networks and Azure virtual networks.</span></span>

### <a name="are-there-asns-reserved-by-azure"></a><span data-ttu-id="4bdcf-108">Are there ASNs reserved by Azure?</span><span class="sxs-lookup"><span data-stu-id="4bdcf-108">Are there ASNs reserved by Azure?</span></span>
<span data-ttu-id="4bdcf-109">Yes, the following ASNs are reserved by Azure for both internal and external peerings:</span><span class="sxs-lookup"><span data-stu-id="4bdcf-109">Yes, the following ASNs are reserved by Azure for both internal and external peerings:</span></span>

* <span data-ttu-id="4bdcf-110">Public ASNs: 8075, 8076, 12076</span><span class="sxs-lookup"><span data-stu-id="4bdcf-110">Public ASNs: 8075, 8076, 12076</span></span>
* <span data-ttu-id="4bdcf-111">Private ASNs: 65515, 65517, 65518, 65519, 65520</span><span class="sxs-lookup"><span data-stu-id="4bdcf-111">Private ASNs: 65515, 65517, 65518, 65519, 65520</span></span>

<span data-ttu-id="4bdcf-112">You cannot specify these ASNs for your on premises VPN devices when connecting to Azure VPN gateways.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-112">You cannot specify these ASNs for your on premises VPN devices when connecting to Azure VPN gateways.</span></span>

### <a name="can-i-use-the-same-asn-for-both-on-premises-vpn-networks-and-azure-vnets"></a><span data-ttu-id="4bdcf-113">Can I use the same ASN for both on-premises VPN networks and Azure VNets?</span><span class="sxs-lookup"><span data-stu-id="4bdcf-113">Can I use the same ASN for both on-premises VPN networks and Azure VNets?</span></span>
<span data-ttu-id="4bdcf-114">No, you must assign different ASNs between your on-premises networks and your Azure VNets if you are connecting them together with BGP.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-114">No, you must assign different ASNs between your on-premises networks and your Azure VNets if you are connecting them together with BGP.</span></span> <span data-ttu-id="4bdcf-115">Azure VPN Gateways have a default ASN of 65515 assigned, whether BGP is enabled for not for your cross-premises connectivity.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-115">Azure VPN Gateways have a default ASN of 65515 assigned, whether BGP is enabled for not for your cross-premises connectivity.</span></span> <span data-ttu-id="4bdcf-116">You can override this default by assigning a different ASN when creating the VPN gateway, or change the ASN after the gateway is created.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-116">You can override this default by assigning a different ASN when creating the VPN gateway, or change the ASN after the gateway is created.</span></span> <span data-ttu-id="4bdcf-117">You will need to assign your on-premises ASNs to the corresponding Azure Local Network Gateways.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-117">You will need to assign your on-premises ASNs to the corresponding Azure Local Network Gateways.</span></span>

### <a name="what-address-prefixes-will-azure-vpn-gateways-advertise-to-me"></a><span data-ttu-id="4bdcf-118">What address prefixes will Azure VPN gateways advertise to me?</span><span class="sxs-lookup"><span data-stu-id="4bdcf-118">What address prefixes will Azure VPN gateways advertise to me?</span></span>
<span data-ttu-id="4bdcf-119">Azure VPN gateway will advertise the following routes to your on-premises BGP devices:</span><span class="sxs-lookup"><span data-stu-id="4bdcf-119">Azure VPN gateway will advertise the following routes to your on-premises BGP devices:</span></span>

* <span data-ttu-id="4bdcf-120">Your VNet address prefixes</span><span class="sxs-lookup"><span data-stu-id="4bdcf-120">Your VNet address prefixes</span></span>
* <span data-ttu-id="4bdcf-121">Address prefixes for each Local Network Gateways connected to the Azure VPN gateway</span><span class="sxs-lookup"><span data-stu-id="4bdcf-121">Address prefixes for each Local Network Gateways connected to the Azure VPN gateway</span></span>
* <span data-ttu-id="4bdcf-122">Routes learned from other BGP peering sessions connected to the Azure VPN gateway, **except default route or routes overlapped with any VNet prefix**.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-122">Routes learned from other BGP peering sessions connected to the Azure VPN gateway, **except default route or routes overlapped with any VNet prefix**.</span></span>

### <a name="can-i-advertise-default-route-00000-to-azure-vpn-gateways"></a><span data-ttu-id="4bdcf-123">Can I advertise default route (0.0.0.0/0) to Azure VPN gateways?</span><span class="sxs-lookup"><span data-stu-id="4bdcf-123">Can I advertise default route (0.0.0.0/0) to Azure VPN gateways?</span></span>
<span data-ttu-id="4bdcf-124">Yes.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-124">Yes.</span></span>

<span data-ttu-id="4bdcf-125">Please note this will force all VNet egress traffic towards your on-premises site, and will prevent the VNet VMs from accepting public communication from the Internet directly, such RDP or SSH from the Internet to the VMs.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-125">Please note this will force all VNet egress traffic towards your on-premises site, and will prevent the VNet VMs from accepting public communication from the Internet directly, such RDP or SSH from the Internet to the VMs.</span></span>

### <a name="can-i-advertise-the-exact-prefixes-as-my-virtual-network-prefixes"></a><span data-ttu-id="4bdcf-126">Can I advertise the exact prefixes as my Virtual Network prefixes?</span><span class="sxs-lookup"><span data-stu-id="4bdcf-126">Can I advertise the exact prefixes as my Virtual Network prefixes?</span></span>

<span data-ttu-id="4bdcf-127">No, advertising the same prefixes as any one of your Virtual Network address prefixes will be blocked or filtered by the Azure platform.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-127">No, advertising the same prefixes as any one of your Virtual Network address prefixes will be blocked or filtered by the Azure platform.</span></span> <span data-ttu-id="4bdcf-128">However you can advertise a prefix that is a superset of what you have inside your Virtual Network.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-128">However you can advertise a prefix that is a superset of what you have inside your Virtual Network.</span></span> 

<span data-ttu-id="4bdcf-129">For example, if your virtual network used the address space 10.0.0.0/16, you could advertise 10.0.0.0/8.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-129">For example, if your virtual network used the address space 10.0.0.0/16, you could advertise 10.0.0.0/8.</span></span> <span data-ttu-id="4bdcf-130">But you cannot advertise 10.0.0.0/16 or 10.0.0.0/24.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-130">But you cannot advertise 10.0.0.0/16 or 10.0.0.0/24.</span></span>

### <a name="can-i-use-bgp-with-my-vnet-to-vnet-connections"></a><span data-ttu-id="4bdcf-131">Can I use BGP with my VNet-to-VNet connections?</span><span class="sxs-lookup"><span data-stu-id="4bdcf-131">Can I use BGP with my VNet-to-VNet connections?</span></span>
<span data-ttu-id="4bdcf-132">Yes, you can use BGP for both cross-premises connections and VNet-to-VNet connections.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-132">Yes, you can use BGP for both cross-premises connections and VNet-to-VNet connections.</span></span>

### <a name="can-i-mix-bgp-with-non-bgp-connections-for-my-azure-vpn-gateways"></a><span data-ttu-id="4bdcf-133">Can I mix BGP with non-BGP connections for my Azure VPN gateways?</span><span class="sxs-lookup"><span data-stu-id="4bdcf-133">Can I mix BGP with non-BGP connections for my Azure VPN gateways?</span></span>
<span data-ttu-id="4bdcf-134">Yes, you can mix both BGP and non-BGP connections for the same Azure VPN gateway.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-134">Yes, you can mix both BGP and non-BGP connections for the same Azure VPN gateway.</span></span>

### <a name="does-azure-vpn-gateway-support-bgp-transit-routing"></a><span data-ttu-id="4bdcf-135">Does Azure VPN gateway support BGP transit routing?</span><span class="sxs-lookup"><span data-stu-id="4bdcf-135">Does Azure VPN gateway support BGP transit routing?</span></span>
<span data-ttu-id="4bdcf-136">Yes, BGP transit routing is supported, with the exception that Azure VPN gateways will **NOT** advertise default routes to other BGP peers.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-136">Yes, BGP transit routing is supported, with the exception that Azure VPN gateways will **NOT** advertise default routes to other BGP peers.</span></span> <span data-ttu-id="4bdcf-137">To enable transit routing across multiple Azure VPN gateways, you must enable BGP on all intermediate VNet-to-VNet connections.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-137">To enable transit routing across multiple Azure VPN gateways, you must enable BGP on all intermediate VNet-to-VNet connections.</span></span>

### <a name="can-i-have-more-than-one-tunnel-between-azure-vpn-gateway-and-my-on-premises-network"></a><span data-ttu-id="4bdcf-138">Can I have more than one tunnel between Azure VPN gateway and my on-premises network?</span><span class="sxs-lookup"><span data-stu-id="4bdcf-138">Can I have more than one tunnel between Azure VPN gateway and my on-premises network?</span></span>
<span data-ttu-id="4bdcf-139">Yes, you can establish more than one S2S VPN tunnel between an Azure VPN gateway and your on-premises network.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-139">Yes, you can establish more than one S2S VPN tunnel between an Azure VPN gateway and your on-premises network.</span></span> <span data-ttu-id="4bdcf-140">Please note that all these tunnels will be counted against the total number of tunnels for your Azure VPN gateways and you must enable BGP on both tunnels.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-140">Please note that all these tunnels will be counted against the total number of tunnels for your Azure VPN gateways and you must enable BGP on both tunnels.</span></span>

<span data-ttu-id="4bdcf-141">For example, if you have two redundant tunnels between your Azure VPN gateway and one of your on-premises networks, they will consume 2 tunnels out of the total quota for your Azure VPN gateway (10 for Standard and 30 for HighPerformance).</span><span class="sxs-lookup"><span data-stu-id="4bdcf-141">For example, if you have two redundant tunnels between your Azure VPN gateway and one of your on-premises networks, they will consume 2 tunnels out of the total quota for your Azure VPN gateway (10 for Standard and 30 for HighPerformance).</span></span>

### <a name="can-i-have-multiple-tunnels-between-two-azure-vnets-with-bgp"></a><span data-ttu-id="4bdcf-142">Can I have multiple tunnels between two Azure VNets with BGP?</span><span class="sxs-lookup"><span data-stu-id="4bdcf-142">Can I have multiple tunnels between two Azure VNets with BGP?</span></span>
<span data-ttu-id="4bdcf-143">Yes, but at least one of the virtual network gateways must be in active-active configuration.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-143">Yes, but at least one of the virtual network gateways must be in active-active configuration.</span></span>

### <a name="can-i-use-bgp-for-s2s-vpn-in-an-expressroutes2s-vpn-co-existence-configuration"></a><span data-ttu-id="4bdcf-144">Can I use BGP for S2S VPN in an ExpressRoute/S2S VPN co-existence configuration?</span><span class="sxs-lookup"><span data-stu-id="4bdcf-144">Can I use BGP for S2S VPN in an ExpressRoute/S2S VPN co-existence configuration?</span></span>
<span data-ttu-id="4bdcf-145">Yes.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-145">Yes.</span></span> 

### <a name="what-address-does-azure-vpn-gateway-use-for-bgp-peer-ip"></a><span data-ttu-id="4bdcf-146">What address does Azure VPN gateway use for BGP Peer IP?</span><span class="sxs-lookup"><span data-stu-id="4bdcf-146">What address does Azure VPN gateway use for BGP Peer IP?</span></span>
<span data-ttu-id="4bdcf-147">The Azure VPN gateway will allocate a single IP address from the GatewaySubnet range defined for the virtual network.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-147">The Azure VPN gateway will allocate a single IP address from the GatewaySubnet range defined for the virtual network.</span></span> <span data-ttu-id="4bdcf-148">By default, it is the second last address of the range.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-148">By default, it is the second last address of the range.</span></span> <span data-ttu-id="4bdcf-149">For example, if your GatewaySubnet is 10.12.255.0/27, ranging from 10.12.255.0 to 10.12.255.31, the BGP Peer IP address on the Azure VPN gateway will be 10.12.255.30.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-149">For example, if your GatewaySubnet is 10.12.255.0/27, ranging from 10.12.255.0 to 10.12.255.31, the BGP Peer IP address on the Azure VPN gateway will be 10.12.255.30.</span></span> <span data-ttu-id="4bdcf-150">You can find this information when you list the Azure VPN gateway information.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-150">You can find this information when you list the Azure VPN gateway information.</span></span>

### <a name="what-are-the-requirements-for-the-bgp-peer-ip-addresses-on-my-vpn-device"></a><span data-ttu-id="4bdcf-151">What are the requirements for the BGP Peer IP addresses on my VPN device?</span><span class="sxs-lookup"><span data-stu-id="4bdcf-151">What are the requirements for the BGP Peer IP addresses on my VPN device?</span></span>
<span data-ttu-id="4bdcf-152">Your on-premises BGP peer address **MUST NOT** be the same as the public IP address of your VPN device.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-152">Your on-premises BGP peer address **MUST NOT** be the same as the public IP address of your VPN device.</span></span> <span data-ttu-id="4bdcf-153">Use a different IP address on the VPN device for your BGP Peer IP.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-153">Use a different IP address on the VPN device for your BGP Peer IP.</span></span> <span data-ttu-id="4bdcf-154">It can be an address assigned to the loopback interface on the device.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-154">It can be an address assigned to the loopback interface on the device.</span></span> <span data-ttu-id="4bdcf-155">Specify this address in the corresponding Local Network Gateway representing the location.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-155">Specify this address in the corresponding Local Network Gateway representing the location.</span></span>

### <a name="what-should-i-specify-as-my-address-prefixes-for-the-local-network-gateway-when-i-use-bgp"></a><span data-ttu-id="4bdcf-156">What should I specify as my address prefixes for the Local Network Gateway when I use BGP?</span><span class="sxs-lookup"><span data-stu-id="4bdcf-156">What should I specify as my address prefixes for the Local Network Gateway when I use BGP?</span></span>
<span data-ttu-id="4bdcf-157">Azure Local Network Gateway specifies the initial address prefixes for the on-premises network.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-157">Azure Local Network Gateway specifies the initial address prefixes for the on-premises network.</span></span> <span data-ttu-id="4bdcf-158">With BGP, you must allocate the host prefix (/32 prefix) of your BGP Peer IP address as the address space for that on-premises network.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-158">With BGP, you must allocate the host prefix (/32 prefix) of your BGP Peer IP address as the address space for that on-premises network.</span></span> <span data-ttu-id="4bdcf-159">If your BGP Peer IP is 10.52.255.254, you should specify "10.52.255.254/32" as the localNetworkAddressSpace of the Local Network Gateway representing this on-premises network.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-159">If your BGP Peer IP is 10.52.255.254, you should specify "10.52.255.254/32" as the localNetworkAddressSpace of the Local Network Gateway representing this on-premises network.</span></span> <span data-ttu-id="4bdcf-160">This is to ensure that the Azure VPN gateway establishes the BGP session through the S2S VPN tunnel.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-160">This is to ensure that the Azure VPN gateway establishes the BGP session through the S2S VPN tunnel.</span></span>

### <a name="what-should-i-add-to-my-on-premises-vpn-device-for-the-bgp-peering-session"></a><span data-ttu-id="4bdcf-161">What should I add to my on-premises VPN device for the BGP peering session?</span><span class="sxs-lookup"><span data-stu-id="4bdcf-161">What should I add to my on-premises VPN device for the BGP peering session?</span></span>
<span data-ttu-id="4bdcf-162">You should add a host route of the Azure BGP Peer IP address on your VPN device pointing to the IPsec S2S VPN tunnel.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-162">You should add a host route of the Azure BGP Peer IP address on your VPN device pointing to the IPsec S2S VPN tunnel.</span></span> <span data-ttu-id="4bdcf-163">For example, if the Azure VPN Peer IP is "10.12.255.30", you should add a host route for "10.12.255.30" with a nexthop interface of the matching IPsec tunnel interface on your VPN device.</span><span class="sxs-lookup"><span data-stu-id="4bdcf-163">For example, if the Azure VPN Peer IP is "10.12.255.30", you should add a host route for "10.12.255.30" with a nexthop interface of the matching IPsec tunnel interface on your VPN device.</span></span>

