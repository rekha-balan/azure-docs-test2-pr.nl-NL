---
title: Security concepts in Azure IoT Hub Device Provisioning Service | Microsoft Docs
description: Describes security provisioning concepts specific to devices with Device Provisioning Service and IoT Hub
author: nberdy
ms.author: nberdy
ms.date: 03/30/2018
ms.topic: conceptual
ms.service: iot-dps
services: iot-dps
manager: briz
ms.openlocfilehash: 82548ef8fd3f992eedd77c93be47cb5328a584c7
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44868101"
---
# <a name="iot-hub-device-provisioning-service-security-concepts"></a><span data-ttu-id="1de9d-103">IoT Hub Device Provisioning Service security concepts</span><span class="sxs-lookup"><span data-stu-id="1de9d-103">IoT Hub Device Provisioning Service security concepts</span></span> 

<span data-ttu-id="1de9d-104">IoT Hub Device Provisioning Service is a helper service for IoT Hub that you use to configure zero-touch device provisioning to a specified IoT hub.</span><span class="sxs-lookup"><span data-stu-id="1de9d-104">IoT Hub Device Provisioning Service is a helper service for IoT Hub that you use to configure zero-touch device provisioning to a specified IoT hub.</span></span> <span data-ttu-id="1de9d-105">With the Device Provisioning Service, you can [auto-provision](concepts-auto-provisioning.md) millions of devices in a secure and scalable manner.</span><span class="sxs-lookup"><span data-stu-id="1de9d-105">With the Device Provisioning Service, you can [auto-provision](concepts-auto-provisioning.md) millions of devices in a secure and scalable manner.</span></span> <span data-ttu-id="1de9d-106">This article gives an overview of the *security* concepts involved in device provisioning.</span><span class="sxs-lookup"><span data-stu-id="1de9d-106">This article gives an overview of the *security* concepts involved in device provisioning.</span></span> <span data-ttu-id="1de9d-107">This article is relevant to all personas involved in getting a device ready for deployment.</span><span class="sxs-lookup"><span data-stu-id="1de9d-107">This article is relevant to all personas involved in getting a device ready for deployment.</span></span>

## <a name="attestation-mechanism"></a><span data-ttu-id="1de9d-108">Attestation mechanism</span><span class="sxs-lookup"><span data-stu-id="1de9d-108">Attestation mechanism</span></span>

<span data-ttu-id="1de9d-109">The attestation mechanism is the method used for confirming a device's identity.</span><span class="sxs-lookup"><span data-stu-id="1de9d-109">The attestation mechanism is the method used for confirming a device's identity.</span></span> <span data-ttu-id="1de9d-110">The attestation mechanism is also relevant to the enrollment list, which tells the provisioning service which method of attestation to use with a given device.</span><span class="sxs-lookup"><span data-stu-id="1de9d-110">The attestation mechanism is also relevant to the enrollment list, which tells the provisioning service which method of attestation to use with a given device.</span></span>

> [!NOTE]
> <span data-ttu-id="1de9d-111">IoT Hub uses "authentication scheme" for a similar concept in that service.</span><span class="sxs-lookup"><span data-stu-id="1de9d-111">IoT Hub uses "authentication scheme" for a similar concept in that service.</span></span>

<span data-ttu-id="1de9d-112">Device Provisioning Service supports two forms of attestation:</span><span class="sxs-lookup"><span data-stu-id="1de9d-112">Device Provisioning Service supports two forms of attestation:</span></span>
* <span data-ttu-id="1de9d-113">**X.509 certificates** based on the standard X.509 certificate authentication flow.</span><span class="sxs-lookup"><span data-stu-id="1de9d-113">**X.509 certificates** based on the standard X.509 certificate authentication flow.</span></span>
* <span data-ttu-id="1de9d-114">**Trusted Platform Module (TPM)** based on a nonce challenge, using the TPM standard for keys to present a signed Shared Access Signature (SAS) token.</span><span class="sxs-lookup"><span data-stu-id="1de9d-114">**Trusted Platform Module (TPM)** based on a nonce challenge, using the TPM standard for keys to present a signed Shared Access Signature (SAS) token.</span></span> <span data-ttu-id="1de9d-115">This does not require a physical TPM on the device, but the service expects to attest using the endorsement key per the [TPM spec](https://trustedcomputinggroup.org/work-groups/trusted-platform-module/).</span><span class="sxs-lookup"><span data-stu-id="1de9d-115">This does not require a physical TPM on the device, but the service expects to attest using the endorsement key per the [TPM spec](https://trustedcomputinggroup.org/work-groups/trusted-platform-module/).</span></span>

## <a name="hardware-security-module"></a><span data-ttu-id="1de9d-116">Hardware security module</span><span class="sxs-lookup"><span data-stu-id="1de9d-116">Hardware security module</span></span>

<span data-ttu-id="1de9d-117">The hardware security module, or HSM, is used for secure, hardware-based storage of device secrets, and is the most secure form of secret storage.</span><span class="sxs-lookup"><span data-stu-id="1de9d-117">The hardware security module, or HSM, is used for secure, hardware-based storage of device secrets, and is the most secure form of secret storage.</span></span> <span data-ttu-id="1de9d-118">Both X.509 certificates and SAS tokens can be stored in the HSM.</span><span class="sxs-lookup"><span data-stu-id="1de9d-118">Both X.509 certificates and SAS tokens can be stored in the HSM.</span></span> <span data-ttu-id="1de9d-119">HSMs can be used with both attestation mechanisms the provisioning supports.</span><span class="sxs-lookup"><span data-stu-id="1de9d-119">HSMs can be used with both attestation mechanisms the provisioning supports.</span></span>

> [!TIP]
> <span data-ttu-id="1de9d-120">We strongly recommend using an HSM with devices to securely store secrets on your devices.</span><span class="sxs-lookup"><span data-stu-id="1de9d-120">We strongly recommend using an HSM with devices to securely store secrets on your devices.</span></span>

<span data-ttu-id="1de9d-121">Device secrets may also be stored in software (memory), but it is a less secure form of storage than an HSM.</span><span class="sxs-lookup"><span data-stu-id="1de9d-121">Device secrets may also be stored in software (memory), but it is a less secure form of storage than an HSM.</span></span>

## <a name="trusted-platform-module"></a><span data-ttu-id="1de9d-122">Trusted Platform Module</span><span class="sxs-lookup"><span data-stu-id="1de9d-122">Trusted Platform Module</span></span>

<span data-ttu-id="1de9d-123">TPM can refer to a standard for securely storing keys used to authenticate the platform, or it can refer to the I/O interface used to interact with the modules implementing the standard.</span><span class="sxs-lookup"><span data-stu-id="1de9d-123">TPM can refer to a standard for securely storing keys used to authenticate the platform, or it can refer to the I/O interface used to interact with the modules implementing the standard.</span></span> <span data-ttu-id="1de9d-124">TPMs can exist as discrete hardware, integrated hardware, firmware-based, or software-based.</span><span class="sxs-lookup"><span data-stu-id="1de9d-124">TPMs can exist as discrete hardware, integrated hardware, firmware-based, or software-based.</span></span> <span data-ttu-id="1de9d-125">Learn more about [TPMs and TPM attestation](/windows-server/identity/ad-ds/manage/component-updates/tpm-key-attestation).</span><span class="sxs-lookup"><span data-stu-id="1de9d-125">Learn more about [TPMs and TPM attestation](/windows-server/identity/ad-ds/manage/component-updates/tpm-key-attestation).</span></span> <span data-ttu-id="1de9d-126">Device Provisioning Service only supports TPM 2.0.</span><span class="sxs-lookup"><span data-stu-id="1de9d-126">Device Provisioning Service only supports TPM 2.0.</span></span>

<span data-ttu-id="1de9d-127">TPM attestation is based on a nonce challenge, which uses the endorsement and storage root keys to present a signed Shared Access Signature (SAS) token.</span><span class="sxs-lookup"><span data-stu-id="1de9d-127">TPM attestation is based on a nonce challenge, which uses the endorsement and storage root keys to present a signed Shared Access Signature (SAS) token.</span></span>

### <a name="endorsement-key"></a><span data-ttu-id="1de9d-128">Endorsement key</span><span class="sxs-lookup"><span data-stu-id="1de9d-128">Endorsement key</span></span>

<span data-ttu-id="1de9d-129">The endorsement key is an asymmetric key contained inside the TPM, which was internally generated or injected at manufacturing time and is unique for every TPM.</span><span class="sxs-lookup"><span data-stu-id="1de9d-129">The endorsement key is an asymmetric key contained inside the TPM, which was internally generated or injected at manufacturing time and is unique for every TPM.</span></span> <span data-ttu-id="1de9d-130">The endorsement key cannot be changed or removed.</span><span class="sxs-lookup"><span data-stu-id="1de9d-130">The endorsement key cannot be changed or removed.</span></span> <span data-ttu-id="1de9d-131">The private portion of the endorsement key is never released outside of the TPM, while the public portion of the endorsement key is used to recognize a genuine TPM.</span><span class="sxs-lookup"><span data-stu-id="1de9d-131">The private portion of the endorsement key is never released outside of the TPM, while the public portion of the endorsement key is used to recognize a genuine TPM.</span></span> <span data-ttu-id="1de9d-132">Learn more about the [endorsement key](https://technet.microsoft.com/library/cc770443(v=ws.11).aspx).</span><span class="sxs-lookup"><span data-stu-id="1de9d-132">Learn more about the [endorsement key](https://technet.microsoft.com/library/cc770443(v=ws.11).aspx).</span></span>

### <a name="storage-root-key"></a><span data-ttu-id="1de9d-133">Storage root key</span><span class="sxs-lookup"><span data-stu-id="1de9d-133">Storage root key</span></span>

<span data-ttu-id="1de9d-134">The storage root key is stored in the TPM and is used to protect TPM keys created by applications, so that these keys cannot be used without the TPM.</span><span class="sxs-lookup"><span data-stu-id="1de9d-134">The storage root key is stored in the TPM and is used to protect TPM keys created by applications, so that these keys cannot be used without the TPM.</span></span> <span data-ttu-id="1de9d-135">The storage root key is generated when you take ownership of the TPM; when you clear the TPM so a new user can take ownership, a new storage root key is generated.</span><span class="sxs-lookup"><span data-stu-id="1de9d-135">The storage root key is generated when you take ownership of the TPM; when you clear the TPM so a new user can take ownership, a new storage root key is generated.</span></span> <span data-ttu-id="1de9d-136">Learn more about the [storage root key](https://technet.microsoft.com/library/cc753560(v=ws.11).aspx).</span><span class="sxs-lookup"><span data-stu-id="1de9d-136">Learn more about the [storage root key](https://technet.microsoft.com/library/cc753560(v=ws.11).aspx).</span></span>

## <a name="x509-certificates"></a><span data-ttu-id="1de9d-137">X.509 certificates</span><span class="sxs-lookup"><span data-stu-id="1de9d-137">X.509 certificates</span></span>

<span data-ttu-id="1de9d-138">Using X.509 certificates as an attestation mechanism is an excellent way to scale production and simplify device provisioning.</span><span class="sxs-lookup"><span data-stu-id="1de9d-138">Using X.509 certificates as an attestation mechanism is an excellent way to scale production and simplify device provisioning.</span></span> <span data-ttu-id="1de9d-139">X.509 certificates are typically arranged in a certificate chain of trust in which each certificate in the chain is signed by the private key of the next higher certificate, and so on, terminating in a self-signed root certificate.</span><span class="sxs-lookup"><span data-stu-id="1de9d-139">X.509 certificates are typically arranged in a certificate chain of trust in which each certificate in the chain is signed by the private key of the next higher certificate, and so on, terminating in a self-signed root certificate.</span></span> <span data-ttu-id="1de9d-140">This establishes a delegated chain of trust from the root certificate generated by a trusted root certificate authority (CA) down through each intermediate CA to the end-entity "leaf" certificate installed on a device.</span><span class="sxs-lookup"><span data-stu-id="1de9d-140">This establishes a delegated chain of trust from the root certificate generated by a trusted root certificate authority (CA) down through each intermediate CA to the end-entity "leaf" certificate installed on a device.</span></span> <span data-ttu-id="1de9d-141">To learn more, see [Device Authentication using X.509 CA Certificates](/azure/iot-hub/iot-hub-x509ca-overview).</span><span class="sxs-lookup"><span data-stu-id="1de9d-141">To learn more, see [Device Authentication using X.509 CA Certificates](/azure/iot-hub/iot-hub-x509ca-overview).</span></span> 

<span data-ttu-id="1de9d-142">Often the certificate chain represents some logical or physical hierarchy associated with devices.</span><span class="sxs-lookup"><span data-stu-id="1de9d-142">Often the certificate chain represents some logical or physical hierarchy associated with devices.</span></span> <span data-ttu-id="1de9d-143">For example, a manufacturer may:</span><span class="sxs-lookup"><span data-stu-id="1de9d-143">For example, a manufacturer may:</span></span>
- <span data-ttu-id="1de9d-144">issue a self-signed root CA certificate</span><span class="sxs-lookup"><span data-stu-id="1de9d-144">issue a self-signed root CA certificate</span></span>
- <span data-ttu-id="1de9d-145">use the root certificate to generate a unique intermediate CA certificate for each factory</span><span class="sxs-lookup"><span data-stu-id="1de9d-145">use the root certificate to generate a unique intermediate CA certificate for each factory</span></span>
- <span data-ttu-id="1de9d-146">use each factory's certificate to generate a unique intermediate CA certificate for each production line in the plant</span><span class="sxs-lookup"><span data-stu-id="1de9d-146">use each factory's certificate to generate a unique intermediate CA certificate for each production line in the plant</span></span>
- <span data-ttu-id="1de9d-147">and finally use the production line certificate, to generate a unique device (end-entity) certificate for each device manufactured on the line.</span><span class="sxs-lookup"><span data-stu-id="1de9d-147">and finally use the production line certificate, to generate a unique device (end-entity) certificate for each device manufactured on the line.</span></span> 

<span data-ttu-id="1de9d-148">To learn more, see [Conceptual understanding of X.509 CA certificates in the IoT industry](/azure/iot-hub/iot-hub-x509ca-concept).</span><span class="sxs-lookup"><span data-stu-id="1de9d-148">To learn more, see [Conceptual understanding of X.509 CA certificates in the IoT industry](/azure/iot-hub/iot-hub-x509ca-concept).</span></span> 

### <a name="root-certificate"></a><span data-ttu-id="1de9d-149">Root certificate</span><span class="sxs-lookup"><span data-stu-id="1de9d-149">Root certificate</span></span>

<span data-ttu-id="1de9d-150">A root certificate is a self-signed X.509 certificate representing a certificate authority (CA).</span><span class="sxs-lookup"><span data-stu-id="1de9d-150">A root certificate is a self-signed X.509 certificate representing a certificate authority (CA).</span></span> <span data-ttu-id="1de9d-151">It is the terminus, or trust anchor, of the certificate chain.</span><span class="sxs-lookup"><span data-stu-id="1de9d-151">It is the terminus, or trust anchor, of the certificate chain.</span></span> <span data-ttu-id="1de9d-152">Root certificates can be self-issued by an organization or purchased from a root certificate authority.</span><span class="sxs-lookup"><span data-stu-id="1de9d-152">Root certificates can be self-issued by an organization or purchased from a root certificate authority.</span></span> <span data-ttu-id="1de9d-153">To learn more, see [Get X.509 CA certificates](/azure/iot-hub/iot-hub-security-x509-get-started#get-x509-ca-certificates).</span><span class="sxs-lookup"><span data-stu-id="1de9d-153">To learn more, see [Get X.509 CA certificates](/azure/iot-hub/iot-hub-security-x509-get-started#get-x509-ca-certificates).</span></span> <span data-ttu-id="1de9d-154">The root certificate can also be referred to as a root CA certificate.</span><span class="sxs-lookup"><span data-stu-id="1de9d-154">The root certificate can also be referred to as a root CA certificate.</span></span>

### <a name="intermediate-certificate"></a><span data-ttu-id="1de9d-155">Intermediate certificate</span><span class="sxs-lookup"><span data-stu-id="1de9d-155">Intermediate certificate</span></span>

<span data-ttu-id="1de9d-156">An intermediate certificate is an X.509 certificate, which has been signed by the root certificate (or by another intermediate certificate with the root certificate in its chain).</span><span class="sxs-lookup"><span data-stu-id="1de9d-156">An intermediate certificate is an X.509 certificate, which has been signed by the root certificate (or by another intermediate certificate with the root certificate in its chain).</span></span> <span data-ttu-id="1de9d-157">The last intermediate certificate in a chain is used to sign the leaf certificate.</span><span class="sxs-lookup"><span data-stu-id="1de9d-157">The last intermediate certificate in a chain is used to sign the leaf certificate.</span></span> <span data-ttu-id="1de9d-158">An intermediate certificate can also be referred to as an intermediate CA certificate.</span><span class="sxs-lookup"><span data-stu-id="1de9d-158">An intermediate certificate can also be referred to as an intermediate CA certificate.</span></span>

### <a name="end-entity-leaf-certificate"></a><span data-ttu-id="1de9d-159">End-entity "leaf" certificate</span><span class="sxs-lookup"><span data-stu-id="1de9d-159">End-entity "leaf" certificate</span></span>

<span data-ttu-id="1de9d-160">The leaf certificate, or end-entity certificate, identifies the certificate holder.</span><span class="sxs-lookup"><span data-stu-id="1de9d-160">The leaf certificate, or end-entity certificate, identifies the certificate holder.</span></span> <span data-ttu-id="1de9d-161">It has the root certificate in its certificate chain as well as zero or more intermediate certificates.</span><span class="sxs-lookup"><span data-stu-id="1de9d-161">It has the root certificate in its certificate chain as well as zero or more intermediate certificates.</span></span> <span data-ttu-id="1de9d-162">The leaf certificate is not used to sign any other certificates.</span><span class="sxs-lookup"><span data-stu-id="1de9d-162">The leaf certificate is not used to sign any other certificates.</span></span> <span data-ttu-id="1de9d-163">It uniquely identifies the device to the provisioning service and is sometimes referred to as the device certificate.</span><span class="sxs-lookup"><span data-stu-id="1de9d-163">It uniquely identifies the device to the provisioning service and is sometimes referred to as the device certificate.</span></span> <span data-ttu-id="1de9d-164">During authentication, the device uses the private key associated with this certificate to respond to a proof of possession challenge from the service.</span><span class="sxs-lookup"><span data-stu-id="1de9d-164">During authentication, the device uses the private key associated with this certificate to respond to a proof of possession challenge from the service.</span></span> <span data-ttu-id="1de9d-165">To learn more, see [Authenticating devices signed with X.509 CA certificates](/azure/iot-hub/iot-hub-x509ca-overview#authenticating-devices-signed-with-x509-ca-certificates).</span><span class="sxs-lookup"><span data-stu-id="1de9d-165">To learn more, see [Authenticating devices signed with X.509 CA certificates](/azure/iot-hub/iot-hub-x509ca-overview#authenticating-devices-signed-with-x509-ca-certificates).</span></span>

## <a name="controlling-device-access-to-the-provisioning-service-with-x509-certificates"></a><span data-ttu-id="1de9d-166">Controlling device access to the provisioning service with X.509 certificates</span><span class="sxs-lookup"><span data-stu-id="1de9d-166">Controlling device access to the provisioning service with X.509 certificates</span></span>

<span data-ttu-id="1de9d-167">The provisioning service exposes two types of enrollment entry that you can use to control access for devices that use the X.509 attestation mechanism:</span><span class="sxs-lookup"><span data-stu-id="1de9d-167">The provisioning service exposes two types of enrollment entry that you can use to control access for devices that use the X.509 attestation mechanism:</span></span>  

- <span data-ttu-id="1de9d-168">[Individual enrollment](./concepts-service.md#individual-enrollment) entries are configured with the device certificate associated with a specific device.</span><span class="sxs-lookup"><span data-stu-id="1de9d-168">[Individual enrollment](./concepts-service.md#individual-enrollment) entries are configured with the device certificate associated with a specific device.</span></span> <span data-ttu-id="1de9d-169">These entries control enrollments for specific devices.</span><span class="sxs-lookup"><span data-stu-id="1de9d-169">These entries control enrollments for specific devices.</span></span>
- <span data-ttu-id="1de9d-170">[Enrollment group](./concepts-service.md#enrollment-group) entries are associated with a specific intermediate or root CA certificate.</span><span class="sxs-lookup"><span data-stu-id="1de9d-170">[Enrollment group](./concepts-service.md#enrollment-group) entries are associated with a specific intermediate or root CA certificate.</span></span> <span data-ttu-id="1de9d-171">These entries control enrollments for all devices that have that intermediate or root certificate in their certificate chain.</span><span class="sxs-lookup"><span data-stu-id="1de9d-171">These entries control enrollments for all devices that have that intermediate or root certificate in their certificate chain.</span></span> 

<span data-ttu-id="1de9d-172">When a device connects to the provisioning service, the service prioritizes more specific enrollment entries over less specific enrollment entries.</span><span class="sxs-lookup"><span data-stu-id="1de9d-172">When a device connects to the provisioning service, the service prioritizes more specific enrollment entries over less specific enrollment entries.</span></span> <span data-ttu-id="1de9d-173">That is, if an individual enrollment for the device exists, the provisioning service applies that entry.</span><span class="sxs-lookup"><span data-stu-id="1de9d-173">That is, if an individual enrollment for the device exists, the provisioning service applies that entry.</span></span> <span data-ttu-id="1de9d-174">If there is no individual enrollment for the device and an enrollment group for the first intermediate certificate in the device's certificate chain exists, the service applies that entry, and so on, up the chain to the root.</span><span class="sxs-lookup"><span data-stu-id="1de9d-174">If there is no individual enrollment for the device and an enrollment group for the first intermediate certificate in the device's certificate chain exists, the service applies that entry, and so on, up the chain to the root.</span></span> <span data-ttu-id="1de9d-175">The service applies the first applicable entry that it finds, such that:</span><span class="sxs-lookup"><span data-stu-id="1de9d-175">The service applies the first applicable entry that it finds, such that:</span></span>

- <span data-ttu-id="1de9d-176">If the first enrollment entry found is enabled, the service provisions the device.</span><span class="sxs-lookup"><span data-stu-id="1de9d-176">If the first enrollment entry found is enabled, the service provisions the device.</span></span>
- <span data-ttu-id="1de9d-177">If the first enrollment entry found is disabled, the service does not provision the device.</span><span class="sxs-lookup"><span data-stu-id="1de9d-177">If the first enrollment entry found is disabled, the service does not provision the device.</span></span>  
- <span data-ttu-id="1de9d-178">If no enrollment entry is found for any of the certificates in the device's certificate chain, the service does not provision the device.</span><span class="sxs-lookup"><span data-stu-id="1de9d-178">If no enrollment entry is found for any of the certificates in the device's certificate chain, the service does not provision the device.</span></span> 

<span data-ttu-id="1de9d-179">This mechanism and the hierarchical structure of certificate chains provides powerful flexibility in how you can control access for individual devices as well as for groups of devices.</span><span class="sxs-lookup"><span data-stu-id="1de9d-179">This mechanism and the hierarchical structure of certificate chains provides powerful flexibility in how you can control access for individual devices as well as for groups of devices.</span></span> <span data-ttu-id="1de9d-180">For example, imagine five devices with the following certificate chains:</span><span class="sxs-lookup"><span data-stu-id="1de9d-180">For example, imagine five devices with the following certificate chains:</span></span> 

- <span data-ttu-id="1de9d-181">*Device 1*: root certificate -> certificate A -> device 1 certificate</span><span class="sxs-lookup"><span data-stu-id="1de9d-181">*Device 1*: root certificate -> certificate A -> device 1 certificate</span></span>
- <span data-ttu-id="1de9d-182">*Device 2*: root certificate -> certificate A -> device 2 certificate</span><span class="sxs-lookup"><span data-stu-id="1de9d-182">*Device 2*: root certificate -> certificate A -> device 2 certificate</span></span>
- <span data-ttu-id="1de9d-183">*Device 3*: root certificate -> certificate A -> device 3 certificate</span><span class="sxs-lookup"><span data-stu-id="1de9d-183">*Device 3*: root certificate -> certificate A -> device 3 certificate</span></span>
- <span data-ttu-id="1de9d-184">*Device 4*: root certificate -> certificate B -> device 4 certificate</span><span class="sxs-lookup"><span data-stu-id="1de9d-184">*Device 4*: root certificate -> certificate B -> device 4 certificate</span></span>
- <span data-ttu-id="1de9d-185">*Device 5*: root certificate -> certificate B -> device 5 certificate</span><span class="sxs-lookup"><span data-stu-id="1de9d-185">*Device 5*: root certificate -> certificate B -> device 5 certificate</span></span>

<span data-ttu-id="1de9d-186">Initially, you can create a single enabled group enrollment entry for the root certificate to enable access for all five devices.</span><span class="sxs-lookup"><span data-stu-id="1de9d-186">Initially, you can create a single enabled group enrollment entry for the root certificate to enable access for all five devices.</span></span> <span data-ttu-id="1de9d-187">If certificate B later becomes compromised, you can create a disabled enrollment group entry for certificate B to prevent *Device 4* and *Device 5* from enrolling.</span><span class="sxs-lookup"><span data-stu-id="1de9d-187">If certificate B later becomes compromised, you can create a disabled enrollment group entry for certificate B to prevent *Device 4* and *Device 5* from enrolling.</span></span> <span data-ttu-id="1de9d-188">If still later *Device 3* becomes compromised, you can create a disabled individual enrollment entry for its certificate.</span><span class="sxs-lookup"><span data-stu-id="1de9d-188">If still later *Device 3* becomes compromised, you can create a disabled individual enrollment entry for its certificate.</span></span> <span data-ttu-id="1de9d-189">This revokes access for *Device 3*, but still allows *Device 1* and *Device 2* to enroll.</span><span class="sxs-lookup"><span data-stu-id="1de9d-189">This revokes access for *Device 3*, but still allows *Device 1* and *Device 2* to enroll.</span></span>