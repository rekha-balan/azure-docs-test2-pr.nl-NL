---
title: 'Collecting Data to Train your Model: Machine Learning Recommendations API | Microsoft Docs'
description: Azure Machine Learning Recommendations - Collecting Data to Train your Model
services: cognitive-services
documentationcenter: ''
author: luiscabrer
manager: jhubbard
editor: cgronlun
ms.assetid: 4040d2b7-bd79-4946-ad83-5a31529151f8
ms.service: cognitive-services
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/06/2016
ms.author: luisca
ms.openlocfilehash: d0fbf63e2ca026eda921621c481039ad5426a9f6
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44549984"
---
# <a name="collecting-data-to-train-your-model"></a><span data-ttu-id="4b587-103">Collecting Data to Train your Model</span><span class="sxs-lookup"><span data-stu-id="4b587-103">Collecting Data to Train your Model</span></span>
<span data-ttu-id="4b587-104">The Recommendations API learns from your past transactions to find what items should be recommended to a particular user.</span><span class="sxs-lookup"><span data-stu-id="4b587-104">The Recommendations API learns from your past transactions to find what items should be recommended to a particular user.</span></span>

<span data-ttu-id="4b587-105">After you have created a model, you will need to provide two piece of information before you can do any training: a catalog file, and usage data.</span><span class="sxs-lookup"><span data-stu-id="4b587-105">After you have created a model, you will need to provide two piece of information before you can do any training: a catalog file, and usage data.</span></span>

> <span data-ttu-id="4b587-106">If you have not done so already, we encourage you to complete the [quick start guide](cognitive-services-recommendations-quick-start.md).</span><span class="sxs-lookup"><span data-stu-id="4b587-106">If you have not done so already, we encourage you to complete the [quick start guide](cognitive-services-recommendations-quick-start.md).</span></span>
> 
> 

## <a name="catalog-data"></a><span data-ttu-id="4b587-107">Catalog Data</span><span class="sxs-lookup"><span data-stu-id="4b587-107">Catalog Data</span></span>
### <a name="catalog-file-format"></a><span data-ttu-id="4b587-108">Catalog file format</span><span class="sxs-lookup"><span data-stu-id="4b587-108">Catalog file format</span></span>
<span data-ttu-id="4b587-109">The catalog file contains information about the items you are offering to your customer.</span><span class="sxs-lookup"><span data-stu-id="4b587-109">The catalog file contains information about the items you are offering to your customer.</span></span>
<span data-ttu-id="4b587-110">The catalog data should follow the following format:</span><span class="sxs-lookup"><span data-stu-id="4b587-110">The catalog data should follow the following format:</span></span>

* <span data-ttu-id="4b587-111">Without features - `<Item Id>,<Item Name>,<Item Category>[,<Description>]`</span><span class="sxs-lookup"><span data-stu-id="4b587-111">Without features - `<Item Id>,<Item Name>,<Item Category>[,<Description>]`</span></span>
* <span data-ttu-id="4b587-112">With features - `<Item Id>,<Item Name>,<Item Category>,[<Description>],<Features list>`</span><span class="sxs-lookup"><span data-stu-id="4b587-112">With features - `<Item Id>,<Item Name>,<Item Category>,[<Description>],<Features list>`</span></span>

#### <a name="sample-rows-in-a-catalog-file"></a><span data-ttu-id="4b587-113">Sample Rows in a Catalog File</span><span class="sxs-lookup"><span data-stu-id="4b587-113">Sample Rows in a Catalog File</span></span>
<span data-ttu-id="4b587-114">Without features:</span><span class="sxs-lookup"><span data-stu-id="4b587-114">Without features:</span></span>

    AAA04294,Office Language Pack Online DwnLd,Office
    AAA04303,Minecraft Download Game,Games
    C9F00168,Kiruna Flip Cover,Accessories

<span data-ttu-id="4b587-115">With features:</span><span class="sxs-lookup"><span data-stu-id="4b587-115">With features:</span></span>

    AAA04294,Office Language Pack Online DwnLd,Office,, softwaretype=productivity, compatibility=Windows
    BAB04303,Minecraft DwnLd,Games, softwaretype=gaming,, compatibility=iOS, agegroup=all
    C9F00168,Kiruna Flip Cover,Accessories, compatibility=lumia,, hardwaretype=mobile

#### <a name="format-details"></a><span data-ttu-id="4b587-116">Format details</span><span class="sxs-lookup"><span data-stu-id="4b587-116">Format details</span></span>
| <span data-ttu-id="4b587-117">Name</span><span class="sxs-lookup"><span data-stu-id="4b587-117">Name</span></span> | <span data-ttu-id="4b587-118">Mandatory</span><span class="sxs-lookup"><span data-stu-id="4b587-118">Mandatory</span></span> | <span data-ttu-id="4b587-119">Type</span><span class="sxs-lookup"><span data-stu-id="4b587-119">Type</span></span> | <span data-ttu-id="4b587-120">Description</span><span class="sxs-lookup"><span data-stu-id="4b587-120">Description</span></span> |
|:--- |:--- |:--- |:--- |
| <span data-ttu-id="4b587-121">Item Id</span><span class="sxs-lookup"><span data-stu-id="4b587-121">Item Id</span></span> |<span data-ttu-id="4b587-122">Yes</span><span class="sxs-lookup"><span data-stu-id="4b587-122">Yes</span></span> |<span data-ttu-id="4b587-123">[A-z], [a-z], [0-9], [_] &#40;Underscore&#41;, [-] &#40;Dash&#41;</span><span class="sxs-lookup"><span data-stu-id="4b587-123">[A-z], [a-z], [0-9], [_] &#40;Underscore&#41;, [-] &#40;Dash&#41;</span></span><br> <span data-ttu-id="4b587-124">Max length: 50</span><span class="sxs-lookup"><span data-stu-id="4b587-124">Max length: 50</span></span> |<span data-ttu-id="4b587-125">Unique identifier of an item.</span><span class="sxs-lookup"><span data-stu-id="4b587-125">Unique identifier of an item.</span></span> |
| <span data-ttu-id="4b587-126">Item Name</span><span class="sxs-lookup"><span data-stu-id="4b587-126">Item Name</span></span> |<span data-ttu-id="4b587-127">Yes</span><span class="sxs-lookup"><span data-stu-id="4b587-127">Yes</span></span> |<span data-ttu-id="4b587-128">Any alphanumeric characters</span><span class="sxs-lookup"><span data-stu-id="4b587-128">Any alphanumeric characters</span></span><br> <span data-ttu-id="4b587-129">Max length: 255</span><span class="sxs-lookup"><span data-stu-id="4b587-129">Max length: 255</span></span> |<span data-ttu-id="4b587-130">Item name.</span><span class="sxs-lookup"><span data-stu-id="4b587-130">Item name.</span></span> |
| <span data-ttu-id="4b587-131">Item Category</span><span class="sxs-lookup"><span data-stu-id="4b587-131">Item Category</span></span> |<span data-ttu-id="4b587-132">Yes</span><span class="sxs-lookup"><span data-stu-id="4b587-132">Yes</span></span> |<span data-ttu-id="4b587-133">Any alphanumeric characters</span><span class="sxs-lookup"><span data-stu-id="4b587-133">Any alphanumeric characters</span></span> <br> <span data-ttu-id="4b587-134">Max length: 255</span><span class="sxs-lookup"><span data-stu-id="4b587-134">Max length: 255</span></span> |<span data-ttu-id="4b587-135">Category to which this item belongs (e.g. Cooking Books, Drama…); can be empty.</span><span class="sxs-lookup"><span data-stu-id="4b587-135">Category to which this item belongs (e.g. Cooking Books, Drama…); can be empty.</span></span> |
| <span data-ttu-id="4b587-136">Description</span><span class="sxs-lookup"><span data-stu-id="4b587-136">Description</span></span> |<span data-ttu-id="4b587-137">No, unless features are present (but can be empty)</span><span class="sxs-lookup"><span data-stu-id="4b587-137">No, unless features are present (but can be empty)</span></span> |<span data-ttu-id="4b587-138">Any alphanumeric characters</span><span class="sxs-lookup"><span data-stu-id="4b587-138">Any alphanumeric characters</span></span> <br> <span data-ttu-id="4b587-139">Max length: 4000</span><span class="sxs-lookup"><span data-stu-id="4b587-139">Max length: 4000</span></span> |<span data-ttu-id="4b587-140">Description of this item.</span><span class="sxs-lookup"><span data-stu-id="4b587-140">Description of this item.</span></span> |
| <span data-ttu-id="4b587-141">Features list</span><span class="sxs-lookup"><span data-stu-id="4b587-141">Features list</span></span> |<span data-ttu-id="4b587-142">No</span><span class="sxs-lookup"><span data-stu-id="4b587-142">No</span></span> |<span data-ttu-id="4b587-143">Any alphanumeric characters</span><span class="sxs-lookup"><span data-stu-id="4b587-143">Any alphanumeric characters</span></span> <br> <span data-ttu-id="4b587-144">Max length: 4000; Max number of features:20</span><span class="sxs-lookup"><span data-stu-id="4b587-144">Max length: 4000; Max number of features:20</span></span> |<span data-ttu-id="4b587-145">Comma-separated list of feature name=feature value that can be used to enhance model recommendation.</span><span class="sxs-lookup"><span data-stu-id="4b587-145">Comma-separated list of feature name=feature value that can be used to enhance model recommendation.</span></span> |

#### <a name="uploading-a-catalog-file"></a><span data-ttu-id="4b587-146">Uploading a Catalog file</span><span class="sxs-lookup"><span data-stu-id="4b587-146">Uploading a Catalog file</span></span>
<span data-ttu-id="4b587-147">Look at the [API reference](https://westus.dev.cognitive.microsoft.com/docs/services/Recommendations.V4.0/operations/56f316efeda5650db055a3e1) for uploading a catalog file.</span><span class="sxs-lookup"><span data-stu-id="4b587-147">Look at the [API reference](https://westus.dev.cognitive.microsoft.com/docs/services/Recommendations.V4.0/operations/56f316efeda5650db055a3e1) for uploading a catalog file.</span></span>  

<span data-ttu-id="4b587-148">Note that the content of the catalog file should be passed as the request body.</span><span class="sxs-lookup"><span data-stu-id="4b587-148">Note that the content of the catalog file should be passed as the request body.</span></span>

<span data-ttu-id="4b587-149">If you upload several catalog files to the same model with several calls, we will insert only the new catalog items.</span><span class="sxs-lookup"><span data-stu-id="4b587-149">If you upload several catalog files to the same model with several calls, we will insert only the new catalog items.</span></span> <span data-ttu-id="4b587-150">Existing items will remain with the original values.</span><span class="sxs-lookup"><span data-stu-id="4b587-150">Existing items will remain with the original values.</span></span> <span data-ttu-id="4b587-151">You cannot update catalog data by using this method.</span><span class="sxs-lookup"><span data-stu-id="4b587-151">You cannot update catalog data by using this method.</span></span>

> <span data-ttu-id="4b587-152">Note: The maximum file size is 200MB.</span><span class="sxs-lookup"><span data-stu-id="4b587-152">Note: The maximum file size is 200MB.</span></span>
> <span data-ttu-id="4b587-153">The maximum number of items in the catalog supported is 100,000 items.</span><span class="sxs-lookup"><span data-stu-id="4b587-153">The maximum number of items in the catalog supported is 100,000 items.</span></span>
> 
> 

## <a name="why-add-features-to-the-catalog"></a><span data-ttu-id="4b587-154">Why add features to the catalog?</span><span class="sxs-lookup"><span data-stu-id="4b587-154">Why add features to the catalog?</span></span>
<span data-ttu-id="4b587-155">The recommendations engine creates a statistical model that tells you what items are likely to be liked or purchased by a customer.</span><span class="sxs-lookup"><span data-stu-id="4b587-155">The recommendations engine creates a statistical model that tells you what items are likely to be liked or purchased by a customer.</span></span> <span data-ttu-id="4b587-156">When you have a new product that has never been interacted with it is not possible to create a model on co-occurrences alone.</span><span class="sxs-lookup"><span data-stu-id="4b587-156">When you have a new product that has never been interacted with it is not possible to create a model on co-occurrences alone.</span></span> <span data-ttu-id="4b587-157">Let's say you start offering a new "children's violin" in your store, since you have never sold that violin before you cannot tell what other items to recommend with that violin.</span><span class="sxs-lookup"><span data-stu-id="4b587-157">Let's say you start offering a new "children's violin" in your store, since you have never sold that violin before you cannot tell what other items to recommend with that violin.</span></span>

<span data-ttu-id="4b587-158">That said, if the engine knows information about that violin (i.e. It's a musical instrument, it is for children ages 7-10, it is not an expensive violin, etc.), then the engine can learn from other products with similar features.</span><span class="sxs-lookup"><span data-stu-id="4b587-158">That said, if the engine knows information about that violin (i.e. It's a musical instrument, it is for children ages 7-10, it is not an expensive violin, etc.), then the engine can learn from other products with similar features.</span></span> <span data-ttu-id="4b587-159">For instance, you have sold violin's in the past and usually people that buy violins tend to buy classical music CDs and sheet music stands.</span><span class="sxs-lookup"><span data-stu-id="4b587-159">For instance, you have sold violin's in the past and usually people that buy violins tend to buy classical music CDs and sheet music stands.</span></span>  <span data-ttu-id="4b587-160">The system can find these connections between the features and provide recommendations based on the features while your new violin has little usage.</span><span class="sxs-lookup"><span data-stu-id="4b587-160">The system can find these connections between the features and provide recommendations based on the features while your new violin has little usage.</span></span>

<span data-ttu-id="4b587-161">Features are imported as part of the catalog data, and then their rank (or the importance of the feature in the model) is associated when a rank build is done.</span><span class="sxs-lookup"><span data-stu-id="4b587-161">Features are imported as part of the catalog data, and then their rank (or the importance of the feature in the model) is associated when a rank build is done.</span></span> <span data-ttu-id="4b587-162">Feature rank can change according to the pattern of usage data and type of items.</span><span class="sxs-lookup"><span data-stu-id="4b587-162">Feature rank can change according to the pattern of usage data and type of items.</span></span> <span data-ttu-id="4b587-163">But for consistent usage/items, the rank should have only small fluctuations.</span><span class="sxs-lookup"><span data-stu-id="4b587-163">But for consistent usage/items, the rank should have only small fluctuations.</span></span> <span data-ttu-id="4b587-164">The rank of features is a non-negative number.</span><span class="sxs-lookup"><span data-stu-id="4b587-164">The rank of features is a non-negative number.</span></span> <span data-ttu-id="4b587-165">The number 0 means that the feature was not ranked (happens if you invoke this API prior to the completion of the first rank build).</span><span class="sxs-lookup"><span data-stu-id="4b587-165">The number 0 means that the feature was not ranked (happens if you invoke this API prior to the completion of the first rank build).</span></span> <span data-ttu-id="4b587-166">The date at which the rank was attributed is called the score freshness.</span><span class="sxs-lookup"><span data-stu-id="4b587-166">The date at which the rank was attributed is called the score freshness.</span></span>

### <a name="features-are-categorical"></a><span data-ttu-id="4b587-167">Features are Categorical</span><span class="sxs-lookup"><span data-stu-id="4b587-167">Features are Categorical</span></span>
<span data-ttu-id="4b587-168">This means that you should create features that resemble a category.</span><span class="sxs-lookup"><span data-stu-id="4b587-168">This means that you should create features that resemble a category.</span></span> <span data-ttu-id="4b587-169">For instance, price=9.34 is not a categorical feature.</span><span class="sxs-lookup"><span data-stu-id="4b587-169">For instance, price=9.34 is not a categorical feature.</span></span> <span data-ttu-id="4b587-170">On the other hand, a feature like priceRange=Under5Dollars is a categorical feature.</span><span class="sxs-lookup"><span data-stu-id="4b587-170">On the other hand, a feature like priceRange=Under5Dollars is a categorical feature.</span></span> <span data-ttu-id="4b587-171">Another common mistake is to use the name of the item as a feature.</span><span class="sxs-lookup"><span data-stu-id="4b587-171">Another common mistake is to use the name of the item as a feature.</span></span> <span data-ttu-id="4b587-172">This would cause the name of an item to be unique so it would not describe a category.</span><span class="sxs-lookup"><span data-stu-id="4b587-172">This would cause the name of an item to be unique so it would not describe a category.</span></span> <span data-ttu-id="4b587-173">Make sure the features represent categories of items.</span><span class="sxs-lookup"><span data-stu-id="4b587-173">Make sure the features represent categories of items.</span></span>

### <a name="how-manywhich-features-should-i-use"></a><span data-ttu-id="4b587-174">How many/which features should I use?</span><span class="sxs-lookup"><span data-stu-id="4b587-174">How many/which features should I use?</span></span>
<span data-ttu-id="4b587-175">Ultimately the Recommendations build supports building a model with up to 20 features.</span><span class="sxs-lookup"><span data-stu-id="4b587-175">Ultimately the Recommendations build supports building a model with up to 20 features.</span></span> <span data-ttu-id="4b587-176">You could assign more than 20 features to the items in your catalog, but you are expected to do a ranking build and pick only the features that rank high.</span><span class="sxs-lookup"><span data-stu-id="4b587-176">You could assign more than 20 features to the items in your catalog, but you are expected to do a ranking build and pick only the features that rank high.</span></span> <span data-ttu-id="4b587-177">(A feature with a rank of 2.0 or more is a really good feature to use!).</span><span class="sxs-lookup"><span data-stu-id="4b587-177">(A feature with a rank of 2.0 or more is a really good feature to use!).</span></span> 

### <a name="when-are-features-actually-used"></a><span data-ttu-id="4b587-178">When are features actually used?</span><span class="sxs-lookup"><span data-stu-id="4b587-178">When are features actually used?</span></span>
<span data-ttu-id="4b587-179">Features are used by the model when there is not enough transaction data to provide recommendations on transaction information alone.</span><span class="sxs-lookup"><span data-stu-id="4b587-179">Features are used by the model when there is not enough transaction data to provide recommendations on transaction information alone.</span></span> <span data-ttu-id="4b587-180">So features will have the greatest impact on “cold items” – items with few transactions.</span><span class="sxs-lookup"><span data-stu-id="4b587-180">So features will have the greatest impact on “cold items” – items with few transactions.</span></span> <span data-ttu-id="4b587-181">If all your items have sufficient transaction information you may not need to enrich your model with features.</span><span class="sxs-lookup"><span data-stu-id="4b587-181">If all your items have sufficient transaction information you may not need to enrich your model with features.</span></span>

### <a name="using-product-features"></a><span data-ttu-id="4b587-182">Using product features</span><span class="sxs-lookup"><span data-stu-id="4b587-182">Using product features</span></span>
<span data-ttu-id="4b587-183">To use features as part of your build you need to:</span><span class="sxs-lookup"><span data-stu-id="4b587-183">To use features as part of your build you need to:</span></span>

1. <span data-ttu-id="4b587-184">Make sure your catalog has features when you upload it.</span><span class="sxs-lookup"><span data-stu-id="4b587-184">Make sure your catalog has features when you upload it.</span></span>
2. <span data-ttu-id="4b587-185">Trigger a ranking build.</span><span class="sxs-lookup"><span data-stu-id="4b587-185">Trigger a ranking build.</span></span> <span data-ttu-id="4b587-186">This will do the analysis on the importance/rank of the features.</span><span class="sxs-lookup"><span data-stu-id="4b587-186">This will do the analysis on the importance/rank of the features.</span></span>
3. <span data-ttu-id="4b587-187">Trigger a recommendations build, setting the following build parameters: Set useFeaturesInModel to true, allowColdItemPlacement to true, and modelingFeatureList should be set to the comma separated list of features that you want to use to enhance your model.</span><span class="sxs-lookup"><span data-stu-id="4b587-187">Trigger a recommendations build, setting the following build parameters: Set useFeaturesInModel to true, allowColdItemPlacement to true, and modelingFeatureList should be set to the comma separated list of features that you want to use to enhance your model.</span></span> <span data-ttu-id="4b587-188">See [Recommendations build type parameters](https://westus.dev.cognitive.microsoft.com/docs/services/Recommendations.V4.0/operations/56f30d77eda5650db055a3d0) for more information.</span><span class="sxs-lookup"><span data-stu-id="4b587-188">See [Recommendations build type parameters](https://westus.dev.cognitive.microsoft.com/docs/services/Recommendations.V4.0/operations/56f30d77eda5650db055a3d0) for more information.</span></span>

## <a name="usage-data"></a><span data-ttu-id="4b587-189">Usage Data</span><span class="sxs-lookup"><span data-stu-id="4b587-189">Usage Data</span></span>
<span data-ttu-id="4b587-190">A usage file contains information about how those items are used, or the transactions from your business.</span><span class="sxs-lookup"><span data-stu-id="4b587-190">A usage file contains information about how those items are used, or the transactions from your business.</span></span>

#### <a name="usage-format-details"></a><span data-ttu-id="4b587-191">Usage Format details</span><span class="sxs-lookup"><span data-stu-id="4b587-191">Usage Format details</span></span>
<span data-ttu-id="4b587-192">A usage file is a CSV (comma separated value) file where each row in a usage file represents an interaction between a user and an item.</span><span class="sxs-lookup"><span data-stu-id="4b587-192">A usage file is a CSV (comma separated value) file where each row in a usage file represents an interaction between a user and an item.</span></span> <span data-ttu-id="4b587-193">Each row is formatted as follows:</span><span class="sxs-lookup"><span data-stu-id="4b587-193">Each row is formatted as follows:</span></span><br>
`<User Id>,<Item Id>,<Time>,[<Event>]`

| <span data-ttu-id="4b587-194">Name</span><span class="sxs-lookup"><span data-stu-id="4b587-194">Name</span></span> | <span data-ttu-id="4b587-195">Mandatory</span><span class="sxs-lookup"><span data-stu-id="4b587-195">Mandatory</span></span> | <span data-ttu-id="4b587-196">Type</span><span class="sxs-lookup"><span data-stu-id="4b587-196">Type</span></span> | <span data-ttu-id="4b587-197">Description</span><span class="sxs-lookup"><span data-stu-id="4b587-197">Description</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="4b587-198">User Id</span><span class="sxs-lookup"><span data-stu-id="4b587-198">User Id</span></span> |<span data-ttu-id="4b587-199">Yes</span><span class="sxs-lookup"><span data-stu-id="4b587-199">Yes</span></span> |<span data-ttu-id="4b587-200">[A-z], [a-z], [0-9], [_] &#40;Underscore&#41;, [-] &#40;Dash&#41;</span><span class="sxs-lookup"><span data-stu-id="4b587-200">[A-z], [a-z], [0-9], [_] &#40;Underscore&#41;, [-] &#40;Dash&#41;</span></span><br> <span data-ttu-id="4b587-201">Max length: 255</span><span class="sxs-lookup"><span data-stu-id="4b587-201">Max length: 255</span></span> |<span data-ttu-id="4b587-202">Unique identifier of a user.</span><span class="sxs-lookup"><span data-stu-id="4b587-202">Unique identifier of a user.</span></span> |
| <span data-ttu-id="4b587-203">Item Id</span><span class="sxs-lookup"><span data-stu-id="4b587-203">Item Id</span></span> |<span data-ttu-id="4b587-204">Yes</span><span class="sxs-lookup"><span data-stu-id="4b587-204">Yes</span></span> |<span data-ttu-id="4b587-205">[A-z], [a-z], [0-9], [&#95;] &#40;Underscore&#41;, [-] &#40;Dash&#41;</span><span class="sxs-lookup"><span data-stu-id="4b587-205">[A-z], [a-z], [0-9], [&#95;] &#40;Underscore&#41;, [-] &#40;Dash&#41;</span></span><br> <span data-ttu-id="4b587-206">Max length: 50</span><span class="sxs-lookup"><span data-stu-id="4b587-206">Max length: 50</span></span> |<span data-ttu-id="4b587-207">Unique identifier of an item.</span><span class="sxs-lookup"><span data-stu-id="4b587-207">Unique identifier of an item.</span></span> |
| <span data-ttu-id="4b587-208">Time</span><span class="sxs-lookup"><span data-stu-id="4b587-208">Time</span></span> |<span data-ttu-id="4b587-209">Yes</span><span class="sxs-lookup"><span data-stu-id="4b587-209">Yes</span></span> |<span data-ttu-id="4b587-210">Date in format: YYYY/MM/DDTHH:MM:SS (e.g. 2013/06/20T10:00:00)</span><span class="sxs-lookup"><span data-stu-id="4b587-210">Date in format: YYYY/MM/DDTHH:MM:SS (e.g. 2013/06/20T10:00:00)</span></span> |<span data-ttu-id="4b587-211">Time of data.</span><span class="sxs-lookup"><span data-stu-id="4b587-211">Time of data.</span></span> |
| <span data-ttu-id="4b587-212">Event</span><span class="sxs-lookup"><span data-stu-id="4b587-212">Event</span></span> |<span data-ttu-id="4b587-213">No</span><span class="sxs-lookup"><span data-stu-id="4b587-213">No</span></span> |<span data-ttu-id="4b587-214">One of the following:</span><span class="sxs-lookup"><span data-stu-id="4b587-214">One of the following:</span></span><br><span data-ttu-id="4b587-215">• Click</span><span class="sxs-lookup"><span data-stu-id="4b587-215">• Click</span></span><br><span data-ttu-id="4b587-216">• RecommendationClick</span><span class="sxs-lookup"><span data-stu-id="4b587-216">• RecommendationClick</span></span><br><span data-ttu-id="4b587-217">•    AddShopCart</span><span class="sxs-lookup"><span data-stu-id="4b587-217">•    AddShopCart</span></span><br><span data-ttu-id="4b587-218">• RemoveShopCart</span><span class="sxs-lookup"><span data-stu-id="4b587-218">• RemoveShopCart</span></span><br><span data-ttu-id="4b587-219">• Purchase</span><span class="sxs-lookup"><span data-stu-id="4b587-219">• Purchase</span></span> |<span data-ttu-id="4b587-220">The type of transaction.</span><span class="sxs-lookup"><span data-stu-id="4b587-220">The type of transaction.</span></span> |

#### <a name="sample-rows-in-a-usage-file"></a><span data-ttu-id="4b587-221">Sample Rows in a Usage File</span><span class="sxs-lookup"><span data-stu-id="4b587-221">Sample Rows in a Usage File</span></span>
    00037FFEA61FCA16,288186200,2015/08/04T11:02:52,Purchase
    0003BFFDD4C2148C,297833400,2015/08/04T11:02:50,Purchase
    0003BFFDD4C2118D,297833300,2015/08/04T11:02:40,Purchase
    00030000D16C4237,297833300,2015/08/04T11:02:37,Purchase
    0003BFFDD4C20B63,297833400,2015/08/04T11:02:12,Purchase
    00037FFEC8567FB8,297833400,2015/08/04T11:02:04,Purchase

#### <a name="uploading-a-usage-file"></a><span data-ttu-id="4b587-222">Uploading a usage file</span><span class="sxs-lookup"><span data-stu-id="4b587-222">Uploading a usage file</span></span>
<span data-ttu-id="4b587-223">Look at the [API reference](https://westus.dev.cognitive.microsoft.com/docs/services/Recommendations.V4.0/operations/56f316efeda5650db055a3e2) for uploading usage files.</span><span class="sxs-lookup"><span data-stu-id="4b587-223">Look at the [API reference](https://westus.dev.cognitive.microsoft.com/docs/services/Recommendations.V4.0/operations/56f316efeda5650db055a3e2) for uploading usage files.</span></span>
<span data-ttu-id="4b587-224">Note that you need to pass the content of the usage file as the body of the HTTP call.</span><span class="sxs-lookup"><span data-stu-id="4b587-224">Note that you need to pass the content of the usage file as the body of the HTTP call.</span></span>

> <span data-ttu-id="4b587-225">Note:</span><span class="sxs-lookup"><span data-stu-id="4b587-225">Note:</span></span>
> 
> <span data-ttu-id="4b587-226">Maximum file size: 200MB.</span><span class="sxs-lookup"><span data-stu-id="4b587-226">Maximum file size: 200MB.</span></span> <span data-ttu-id="4b587-227">You may upload several usage files.</span><span class="sxs-lookup"><span data-stu-id="4b587-227">You may upload several usage files.</span></span>
> 
> <span data-ttu-id="4b587-228">You need to upload a catalog file before you start adding usage data to your model.</span><span class="sxs-lookup"><span data-stu-id="4b587-228">You need to upload a catalog file before you start adding usage data to your model.</span></span> <span data-ttu-id="4b587-229">Only items in the catalog file will be used during the training phase.</span><span class="sxs-lookup"><span data-stu-id="4b587-229">Only items in the catalog file will be used during the training phase.</span></span> <span data-ttu-id="4b587-230">All other items will be ignored.</span><span class="sxs-lookup"><span data-stu-id="4b587-230">All other items will be ignored.</span></span>
> 
> 

## <a name="how-much-data-do-you-need"></a><span data-ttu-id="4b587-231">How much data do you need?</span><span class="sxs-lookup"><span data-stu-id="4b587-231">How much data do you need?</span></span>
<span data-ttu-id="4b587-232">The quality of your model is heavily dependent on the quality and quantity of your data.</span><span class="sxs-lookup"><span data-stu-id="4b587-232">The quality of your model is heavily dependent on the quality and quantity of your data.</span></span>
<span data-ttu-id="4b587-233">The system learns when users buy different items (We call this co-occurrences).</span><span class="sxs-lookup"><span data-stu-id="4b587-233">The system learns when users buy different items (We call this co-occurrences).</span></span> <span data-ttu-id="4b587-234">For FBT builds, it is also important to know which items are purchased in the same transactions.</span><span class="sxs-lookup"><span data-stu-id="4b587-234">For FBT builds, it is also important to know which items are purchased in the same transactions.</span></span> 

<span data-ttu-id="4b587-235">A good rule of thumb is to have most items be in 20 transactions or more, so if you had 10,000 items in your catalog, we would recommend that you have at least 20 times that number of transactions or about 200,000 transactions.</span><span class="sxs-lookup"><span data-stu-id="4b587-235">A good rule of thumb is to have most items be in 20 transactions or more, so if you had 10,000 items in your catalog, we would recommend that you have at least 20 times that number of transactions or about 200,000 transactions.</span></span> <span data-ttu-id="4b587-236">Once again, this is a rule of thumb.</span><span class="sxs-lookup"><span data-stu-id="4b587-236">Once again, this is a rule of thumb.</span></span> <span data-ttu-id="4b587-237">You will need to experiment with your data.</span><span class="sxs-lookup"><span data-stu-id="4b587-237">You will need to experiment with your data.</span></span>

<span data-ttu-id="4b587-238">Once you have created a model, you can perform an [offline evaluation](cognitive-services-recommendations-buildtypes.md) to check how well your model is likely to perform.</span><span class="sxs-lookup"><span data-stu-id="4b587-238">Once you have created a model, you can perform an [offline evaluation](cognitive-services-recommendations-buildtypes.md) to check how well your model is likely to perform.</span></span>

