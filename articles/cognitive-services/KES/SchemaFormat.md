---
title: Schema format in the Knowledge Exploration Service API | Microsoft Docs
description: Learn about the schema format in the Knowledge Exploration Service (KES) API in Cognitive Services.
services: cognitive-services
author: bojunehsu
manager: stesp
ms.service: cognitive-services
ms.component: knowledge-exploration
ms.topic: article
ms.date: 03/26/2016
ms.author: paulhsu
ms.openlocfilehash: 3009392a5acb12a8f4df3d30a2cbe5e74f2172fc
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44790249"
---
# <a name="schema-format"></a><span data-ttu-id="afa41-103">Schema Format</span><span class="sxs-lookup"><span data-stu-id="afa41-103">Schema Format</span></span>
<span data-ttu-id="afa41-104">The schema is specified in a JSON file that describes the attribute structure of the objects in the data file used to create the index.</span><span class="sxs-lookup"><span data-stu-id="afa41-104">The schema is specified in a JSON file that describes the attribute structure of the objects in the data file used to create the index.</span></span>  <span data-ttu-id="afa41-105">For each attribute, the schema specifies the name, data type, optional operations, and optional synonyms list.</span><span class="sxs-lookup"><span data-stu-id="afa41-105">For each attribute, the schema specifies the name, data type, optional operations, and optional synonyms list.</span></span>  <span data-ttu-id="afa41-106">An object may have 0 or more values of each attribute.</span><span class="sxs-lookup"><span data-stu-id="afa41-106">An object may have 0 or more values of each attribute.</span></span>  <span data-ttu-id="afa41-107">Below is a simplified example from an academic publication domain:</span><span class="sxs-lookup"><span data-stu-id="afa41-107">Below is a simplified example from an academic publication domain:</span></span>

``` json
{
  "attributes":[
    {"name":"Title", "type":"String"},
    {"name":"Year", "type":"Int32"},
    {"name":"Author", "type":"Composite"},
    {"name":"Author.Id", "type":"Int64", "operations":["equals"]},
    {"name":"Author.Name", "type":"String"},
    {"name":"Author.Affiliation", "type":"String"},
    {"name":"Keyword", "type":"String", "synonyms":"Keyword.syn"}
  ]
}
```

<span data-ttu-id="afa41-108">Attribute names are case-sensitive identifiers that start with a letter and consist only of letters (A-Z), numbers (0-9), and underscore (\_).</span><span class="sxs-lookup"><span data-stu-id="afa41-108">Attribute names are case-sensitive identifiers that start with a letter and consist only of letters (A-Z), numbers (0-9), and underscore (\_).</span></span>  <span data-ttu-id="afa41-109">The reserved "logprob" attribute is used to specify the relative natural log probabilities among objects.</span><span class="sxs-lookup"><span data-stu-id="afa41-109">The reserved "logprob" attribute is used to specify the relative natural log probabilities among objects.</span></span>

## <a name="attribute-type"></a><span data-ttu-id="afa41-110">Attribute Type</span><span class="sxs-lookup"><span data-stu-id="afa41-110">Attribute Type</span></span>
<span data-ttu-id="afa41-111">Below is a list of supported attribute data types:</span><span class="sxs-lookup"><span data-stu-id="afa41-111">Below is a list of supported attribute data types:</span></span>

| <span data-ttu-id="afa41-112">Type</span><span class="sxs-lookup"><span data-stu-id="afa41-112">Type</span></span> | <span data-ttu-id="afa41-113">Description</span><span class="sxs-lookup"><span data-stu-id="afa41-113">Description</span></span> | <span data-ttu-id="afa41-114">Operations</span><span class="sxs-lookup"><span data-stu-id="afa41-114">Operations</span></span> | <span data-ttu-id="afa41-115">Example</span><span class="sxs-lookup"><span data-stu-id="afa41-115">Example</span></span> |
|------|-------------|------------|---------|
| <span data-ttu-id="afa41-116">String</span><span class="sxs-lookup"><span data-stu-id="afa41-116">String</span></span> | <span data-ttu-id="afa41-117">String (1-1024 characters)</span><span class="sxs-lookup"><span data-stu-id="afa41-117">String (1-1024 characters)</span></span> | <span data-ttu-id="afa41-118">equals, starts_with</span><span class="sxs-lookup"><span data-stu-id="afa41-118">equals, starts_with</span></span> | <span data-ttu-id="afa41-119">"hello world"</span><span class="sxs-lookup"><span data-stu-id="afa41-119">"hello world"</span></span> |
| <span data-ttu-id="afa41-120">Int32</span><span class="sxs-lookup"><span data-stu-id="afa41-120">Int32</span></span> | <span data-ttu-id="afa41-121">Signed 32-bit integer</span><span class="sxs-lookup"><span data-stu-id="afa41-121">Signed 32-bit integer</span></span> | <span data-ttu-id="afa41-122">equals, starts_with, is_between</span><span class="sxs-lookup"><span data-stu-id="afa41-122">equals, starts_with, is_between</span></span> | <span data-ttu-id="afa41-123">2016</span><span class="sxs-lookup"><span data-stu-id="afa41-123">2016</span></span> |
| <span data-ttu-id="afa41-124">Int64</span><span class="sxs-lookup"><span data-stu-id="afa41-124">Int64</span></span> | <span data-ttu-id="afa41-125">Signed 64-bit integer</span><span class="sxs-lookup"><span data-stu-id="afa41-125">Signed 64-bit integer</span></span> | <span data-ttu-id="afa41-126">equals, starts_with, is_between</span><span class="sxs-lookup"><span data-stu-id="afa41-126">equals, starts_with, is_between</span></span> | <span data-ttu-id="afa41-127">9876543210</span><span class="sxs-lookup"><span data-stu-id="afa41-127">9876543210</span></span> |
| <span data-ttu-id="afa41-128">Double</span><span class="sxs-lookup"><span data-stu-id="afa41-128">Double</span></span> | <span data-ttu-id="afa41-129">Double-precision floating-point value</span><span class="sxs-lookup"><span data-stu-id="afa41-129">Double-precision floating-point value</span></span> | <span data-ttu-id="afa41-130">equals, starts_with, is_between</span><span class="sxs-lookup"><span data-stu-id="afa41-130">equals, starts_with, is_between</span></span> | <span data-ttu-id="afa41-131">1.602e-19</span><span class="sxs-lookup"><span data-stu-id="afa41-131">1.602e-19</span></span> |
| <span data-ttu-id="afa41-132">Date</span><span class="sxs-lookup"><span data-stu-id="afa41-132">Date</span></span> | <span data-ttu-id="afa41-133">Date (1400-01-01 to 9999-12-31)</span><span class="sxs-lookup"><span data-stu-id="afa41-133">Date (1400-01-01 to 9999-12-31)</span></span> | <span data-ttu-id="afa41-134">equals, is_between</span><span class="sxs-lookup"><span data-stu-id="afa41-134">equals, is_between</span></span> | <span data-ttu-id="afa41-135">'2016-03-14'</span><span class="sxs-lookup"><span data-stu-id="afa41-135">'2016-03-14'</span></span> |
| <span data-ttu-id="afa41-136">Guid</span><span class="sxs-lookup"><span data-stu-id="afa41-136">Guid</span></span> | <span data-ttu-id="afa41-137">Globally unique identifier</span><span class="sxs-lookup"><span data-stu-id="afa41-137">Globally unique identifier</span></span> | <span data-ttu-id="afa41-138">equals</span><span class="sxs-lookup"><span data-stu-id="afa41-138">equals</span></span> | <span data-ttu-id="afa41-139">"602DD052-CC47-4B23-A16A-26B52D30C05B"</span><span class="sxs-lookup"><span data-stu-id="afa41-139">"602DD052-CC47-4B23-A16A-26B52D30C05B"</span></span> |
| <span data-ttu-id="afa41-140">Blob</span><span class="sxs-lookup"><span data-stu-id="afa41-140">Blob</span></span> | <span data-ttu-id="afa41-141">Internally compressed non-indexed data</span><span class="sxs-lookup"><span data-stu-id="afa41-141">Internally compressed non-indexed data</span></span> | <span data-ttu-id="afa41-142">*None*</span><span class="sxs-lookup"><span data-stu-id="afa41-142">*None*</span></span> | <span data-ttu-id="afa41-143">"Empower every person and every organization on the planet to achieve more"</span><span class="sxs-lookup"><span data-stu-id="afa41-143">"Empower every person and every organization on the planet to achieve more"</span></span> |
| <span data-ttu-id="afa41-144">Composite</span><span class="sxs-lookup"><span data-stu-id="afa41-144">Composite</span></span> | <span data-ttu-id="afa41-145">Composition of multiple sub-attributes</span><span class="sxs-lookup"><span data-stu-id="afa41-145">Composition of multiple sub-attributes</span></span>| <span data-ttu-id="afa41-146">*N/A*</span><span class="sxs-lookup"><span data-stu-id="afa41-146">*N/A*</span></span> | <span data-ttu-id="afa41-147">{ "Name":"harry shum", "Affiliation":"microsoft" }</span><span class="sxs-lookup"><span data-stu-id="afa41-147">{ "Name":"harry shum", "Affiliation":"microsoft" }</span></span> |

<span data-ttu-id="afa41-148">String attributes are used to represent string values that may appear as part of the user query.</span><span class="sxs-lookup"><span data-stu-id="afa41-148">String attributes are used to represent string values that may appear as part of the user query.</span></span>  <span data-ttu-id="afa41-149">They support the exact-match *equals* operation, as well as the *starts_with* operation for query completion scenarios, such as matching "micros" with "microsoft".</span><span class="sxs-lookup"><span data-stu-id="afa41-149">They support the exact-match *equals* operation, as well as the *starts_with* operation for query completion scenarios, such as matching "micros" with "microsoft".</span></span>  <span data-ttu-id="afa41-150">Case-insensitive and fuzzy matching to handle spelling errors will be supported in a future release.</span><span class="sxs-lookup"><span data-stu-id="afa41-150">Case-insensitive and fuzzy matching to handle spelling errors will be supported in a future release.</span></span>

<span data-ttu-id="afa41-151">Int32/Int64/Double attributes are used to represent numeric values.</span><span class="sxs-lookup"><span data-stu-id="afa41-151">Int32/Int64/Double attributes are used to represent numeric values.</span></span>  <span data-ttu-id="afa41-152">The *is_between* operation enables inequality support (lt, le, gt, ge) at run time.</span><span class="sxs-lookup"><span data-stu-id="afa41-152">The *is_between* operation enables inequality support (lt, le, gt, ge) at run time.</span></span>  <span data-ttu-id="afa41-153">The *starts_with* operation supports query completion scenarios, such as matching "20" with "2016", or "3."</span><span class="sxs-lookup"><span data-stu-id="afa41-153">The *starts_with* operation supports query completion scenarios, such as matching "20" with "2016", or "3."</span></span> <span data-ttu-id="afa41-154">with "3.14".</span><span class="sxs-lookup"><span data-stu-id="afa41-154">with "3.14".</span></span>

<span data-ttu-id="afa41-155">Date attributes are used to efficiently encode date values.</span><span class="sxs-lookup"><span data-stu-id="afa41-155">Date attributes are used to efficiently encode date values.</span></span>  <span data-ttu-id="afa41-156">The *is_between* operation enables inequality support (lt, le, gt, ge) at run time.</span><span class="sxs-lookup"><span data-stu-id="afa41-156">The *is_between* operation enables inequality support (lt, le, gt, ge) at run time.</span></span>
  
<span data-ttu-id="afa41-157">Guid attributes are used to efficiently represent GUID values with default support for the *equals* operation.</span><span class="sxs-lookup"><span data-stu-id="afa41-157">Guid attributes are used to efficiently represent GUID values with default support for the *equals* operation.</span></span>

<span data-ttu-id="afa41-158">Blob attributes are used to efficiently encode potentially large data blobs for runtime lookup from the corresponding object, without support for any indexing operation based on the content of the blob values.</span><span class="sxs-lookup"><span data-stu-id="afa41-158">Blob attributes are used to efficiently encode potentially large data blobs for runtime lookup from the corresponding object, without support for any indexing operation based on the content of the blob values.</span></span>

### <a name="composite-attributes"></a><span data-ttu-id="afa41-159">Composite Attributes</span><span class="sxs-lookup"><span data-stu-id="afa41-159">Composite Attributes</span></span>
<span data-ttu-id="afa41-160">Composite attributes are used to represent a grouping of attribute values.</span><span class="sxs-lookup"><span data-stu-id="afa41-160">Composite attributes are used to represent a grouping of attribute values.</span></span>  <span data-ttu-id="afa41-161">The name of each sub-attribute starts with the name of the composite attribute followed by ".".</span><span class="sxs-lookup"><span data-stu-id="afa41-161">The name of each sub-attribute starts with the name of the composite attribute followed by ".".</span></span>  <span data-ttu-id="afa41-162">Values for composite attributes are specified as a JSON object containing the nested attribute values.</span><span class="sxs-lookup"><span data-stu-id="afa41-162">Values for composite attributes are specified as a JSON object containing the nested attribute values.</span></span>  <span data-ttu-id="afa41-163">Composite attributes may have multiple object values.</span><span class="sxs-lookup"><span data-stu-id="afa41-163">Composite attributes may have multiple object values.</span></span>  <span data-ttu-id="afa41-164">However, composite attributes may not have sub-attributes that are themselves composite attributes.</span><span class="sxs-lookup"><span data-stu-id="afa41-164">However, composite attributes may not have sub-attributes that are themselves composite attributes.</span></span>

<span data-ttu-id="afa41-165">In the academic publication example above, this enables the service to query for papers by "harry shum" while he is at "microsoft".</span><span class="sxs-lookup"><span data-stu-id="afa41-165">In the academic publication example above, this enables the service to query for papers by "harry shum" while he is at "microsoft".</span></span>  <span data-ttu-id="afa41-166">Without composite attributes, the service can only query for papers where one of the authors is "harry shum" and one of the authors is at "microsoft".</span><span class="sxs-lookup"><span data-stu-id="afa41-166">Without composite attributes, the service can only query for papers where one of the authors is "harry shum" and one of the authors is at "microsoft".</span></span>  <span data-ttu-id="afa41-167">For more information, see [Composite Queries](SemanticInterpretation.md#composite-function).</span><span class="sxs-lookup"><span data-stu-id="afa41-167">For more information, see [Composite Queries](SemanticInterpretation.md#composite-function).</span></span>

## <a name="attribute-operations"></a><span data-ttu-id="afa41-168">Attribute Operations</span><span class="sxs-lookup"><span data-stu-id="afa41-168">Attribute Operations</span></span>
<span data-ttu-id="afa41-169">By default, each attribute is indexed to support all operations available to the attribute data type.</span><span class="sxs-lookup"><span data-stu-id="afa41-169">By default, each attribute is indexed to support all operations available to the attribute data type.</span></span>  <span data-ttu-id="afa41-170">If a particular operation is not required, the set of indexed operations can be explicitly specified to reduce the size of the index.</span><span class="sxs-lookup"><span data-stu-id="afa41-170">If a particular operation is not required, the set of indexed operations can be explicitly specified to reduce the size of the index.</span></span>  <span data-ttu-id="afa41-171">In the following snippet from the example schema above, the Author.Id attribute is indexed to support only the *equals* operation, but not the additional *starts_with* and *is_between* operations for Int32 attributes.</span><span class="sxs-lookup"><span data-stu-id="afa41-171">In the following snippet from the example schema above, the Author.Id attribute is indexed to support only the *equals* operation, but not the additional *starts_with* and *is_between* operations for Int32 attributes.</span></span>
```json
{"name":"Author.Id", "type":"Int32", "operations":["equals"]}
```

<span data-ttu-id="afa41-172">When an attribute is referenced inside a grammar, the *starts_with* operation needs to be specified in the schema in order for the service to generate completions from partial queries.</span><span class="sxs-lookup"><span data-stu-id="afa41-172">When an attribute is referenced inside a grammar, the *starts_with* operation needs to be specified in the schema in order for the service to generate completions from partial queries.</span></span>  

## <a name="attribute-synonyms"></a><span data-ttu-id="afa41-173">Attribute Synonyms</span><span class="sxs-lookup"><span data-stu-id="afa41-173">Attribute Synonyms</span></span>
<span data-ttu-id="afa41-174">It is often desirable to refer to a particular string attribute value by a synonym.</span><span class="sxs-lookup"><span data-stu-id="afa41-174">It is often desirable to refer to a particular string attribute value by a synonym.</span></span>  <span data-ttu-id="afa41-175">For example, users may refer to "Microsoft" as "MSFT" or "MS".</span><span class="sxs-lookup"><span data-stu-id="afa41-175">For example, users may refer to "Microsoft" as "MSFT" or "MS".</span></span>  <span data-ttu-id="afa41-176">In these cases, the attribute definition can specify the name of a schema file located in the same directory as the schema file.</span><span class="sxs-lookup"><span data-stu-id="afa41-176">In these cases, the attribute definition can specify the name of a schema file located in the same directory as the schema file.</span></span>  <span data-ttu-id="afa41-177">Each line in the synonym file represents a synonym entry in the following JSON format: `["<canonical>", "<synonym>"]`.</span><span class="sxs-lookup"><span data-stu-id="afa41-177">Each line in the synonym file represents a synonym entry in the following JSON format: `["<canonical>", "<synonym>"]`.</span></span>  <span data-ttu-id="afa41-178">In the example schema, "AuthorName.syn" is a JSON file that contains synonym values for the Author.Name attribute.</span><span class="sxs-lookup"><span data-stu-id="afa41-178">In the example schema, "AuthorName.syn" is a JSON file that contains synonym values for the Author.Name attribute.</span></span>

`{"name":"Author.Name", "type":"String", "synonyms":"AuthorName.syn"}`


<span data-ttu-id="afa41-179">A canonical value may have multiple synonyms.</span><span class="sxs-lookup"><span data-stu-id="afa41-179">A canonical value may have multiple synonyms.</span></span>  <span data-ttu-id="afa41-180">Multiple canonical values may share a common synonym.</span><span class="sxs-lookup"><span data-stu-id="afa41-180">Multiple canonical values may share a common synonym.</span></span>  <span data-ttu-id="afa41-181">In such cases, the service will resolve the ambiguity through multiple interpretations.</span><span class="sxs-lookup"><span data-stu-id="afa41-181">In such cases, the service will resolve the ambiguity through multiple interpretations.</span></span>  <span data-ttu-id="afa41-182">Below is an example AuthorName.syn synonyms file corresponding to the schema above:</span><span class="sxs-lookup"><span data-stu-id="afa41-182">Below is an example AuthorName.syn synonyms file corresponding to the schema above:</span></span>
```json
["harry shum","heung-yeung shum"]
["harry shum","h shum"]
["henry shum","h shum"]
...
```
