---
title: Upgrade Bing Autosuggest API v5 to v7 | Microsoft Docs
description: Identifies the parts of your application that you need to update to use version 7.
services: cognitive-services
author: swhite-msft
manager: ehansen
ms.assetid: 751EDCF0-0C8B-4C23-942C-FA06F5DAD3FD
ms.service: cognitive-services
ms.component: bing-autosuggest
ms.topic: article
ms.date: 01/12/2017
ms.author: scottwhi
ms.openlocfilehash: 5663a671711dba4f44c89e8221a729c6670ec8fc
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44868247"
---
# <a name="autosuggest-api-upgrade-guide"></a><span data-ttu-id="013e9-103">Autosuggest API upgrade guide</span><span class="sxs-lookup"><span data-stu-id="013e9-103">Autosuggest API upgrade guide</span></span>

<span data-ttu-id="013e9-104">This upgrade guide identifies the changes between version 5 and version 7 of the Bing Autosuggest API.</span><span class="sxs-lookup"><span data-stu-id="013e9-104">This upgrade guide identifies the changes between version 5 and version 7 of the Bing Autosuggest API.</span></span> <span data-ttu-id="013e9-105">Use this guide to help you identify the parts of your application that you need to update to use version 7.</span><span class="sxs-lookup"><span data-stu-id="013e9-105">Use this guide to help you identify the parts of your application that you need to update to use version 7.</span></span>

## <a name="breaking-changes"></a><span data-ttu-id="013e9-106">Breaking changes</span><span class="sxs-lookup"><span data-stu-id="013e9-106">Breaking changes</span></span>

### <a name="endpoints"></a><span data-ttu-id="013e9-107">Endpoints</span><span class="sxs-lookup"><span data-stu-id="013e9-107">Endpoints</span></span>

- <span data-ttu-id="013e9-108">The endpoint's version number changed from v5 to v7.</span><span class="sxs-lookup"><span data-stu-id="013e9-108">The endpoint's version number changed from v5 to v7.</span></span> <span data-ttu-id="013e9-109">For example, https://api.cognitive.microsoft.com/bing/\*\*v7.0\*\*/Suggestions.</span><span class="sxs-lookup"><span data-stu-id="013e9-109">For example, https://api.cognitive.microsoft.com/bing/\*\*v7.0\*\*/Suggestions.</span></span>

### <a name="error-response-objects-and-error-codes"></a><span data-ttu-id="013e9-110">Error response objects and error codes</span><span class="sxs-lookup"><span data-stu-id="013e9-110">Error response objects and error codes</span></span>

- <span data-ttu-id="013e9-111">All failed requests should now include an `ErrorResponse` object in the response body.</span><span class="sxs-lookup"><span data-stu-id="013e9-111">All failed requests should now include an `ErrorResponse` object in the response body.</span></span>

- <span data-ttu-id="013e9-112">Added the following fields to the `Error` object.</span><span class="sxs-lookup"><span data-stu-id="013e9-112">Added the following fields to the `Error` object.</span></span>  
  - <span data-ttu-id="013e9-113">`subCode`&mdash;Partitions the error code into discrete buckets, if possible</span><span class="sxs-lookup"><span data-stu-id="013e9-113">`subCode`&mdash;Partitions the error code into discrete buckets, if possible</span></span>
  - <span data-ttu-id="013e9-114">`moreDetails`&mdash;Additional information about the error described in the `message` field</span><span class="sxs-lookup"><span data-stu-id="013e9-114">`moreDetails`&mdash;Additional information about the error described in the `message` field</span></span>

- <span data-ttu-id="013e9-115">Replaced the v5 error codes with the following possible `code` and `subCode` values.</span><span class="sxs-lookup"><span data-stu-id="013e9-115">Replaced the v5 error codes with the following possible `code` and `subCode` values.</span></span>

|<span data-ttu-id="013e9-116">Code</span><span class="sxs-lookup"><span data-stu-id="013e9-116">Code</span></span>|<span data-ttu-id="013e9-117">SubCode</span><span class="sxs-lookup"><span data-stu-id="013e9-117">SubCode</span></span>|<span data-ttu-id="013e9-118">Description</span><span class="sxs-lookup"><span data-stu-id="013e9-118">Description</span></span>
|-|-|-
|<span data-ttu-id="013e9-119">ServerError</span><span class="sxs-lookup"><span data-stu-id="013e9-119">ServerError</span></span>|<span data-ttu-id="013e9-120">UnexpectedError</span><span class="sxs-lookup"><span data-stu-id="013e9-120">UnexpectedError</span></span><br/><span data-ttu-id="013e9-121">ResourceError</span><span class="sxs-lookup"><span data-stu-id="013e9-121">ResourceError</span></span><br/><span data-ttu-id="013e9-122">NotImplemented</span><span class="sxs-lookup"><span data-stu-id="013e9-122">NotImplemented</span></span>|<span data-ttu-id="013e9-123">Bing returns ServerError whenever any of the sub-code conditions occur.</span><span class="sxs-lookup"><span data-stu-id="013e9-123">Bing returns ServerError whenever any of the sub-code conditions occur.</span></span> <span data-ttu-id="013e9-124">The response includes these errors if the HTTP status code is 500.</span><span class="sxs-lookup"><span data-stu-id="013e9-124">The response includes these errors if the HTTP status code is 500.</span></span>
|<span data-ttu-id="013e9-125">InvalidRequest</span><span class="sxs-lookup"><span data-stu-id="013e9-125">InvalidRequest</span></span>|<span data-ttu-id="013e9-126">ParameterMissing</span><span class="sxs-lookup"><span data-stu-id="013e9-126">ParameterMissing</span></span><br/><span data-ttu-id="013e9-127">ParameterInvalidValue</span><span class="sxs-lookup"><span data-stu-id="013e9-127">ParameterInvalidValue</span></span><br/><span data-ttu-id="013e9-128">HttpNotAllowed</span><span class="sxs-lookup"><span data-stu-id="013e9-128">HttpNotAllowed</span></span><br/><span data-ttu-id="013e9-129">Blocked</span><span class="sxs-lookup"><span data-stu-id="013e9-129">Blocked</span></span>|<span data-ttu-id="013e9-130">Bing returns InvalidRequest whenever any part of the request is not valid.</span><span class="sxs-lookup"><span data-stu-id="013e9-130">Bing returns InvalidRequest whenever any part of the request is not valid.</span></span> <span data-ttu-id="013e9-131">For example, a required parameter is missing or a parameter value is not valid.</span><span class="sxs-lookup"><span data-stu-id="013e9-131">For example, a required parameter is missing or a parameter value is not valid.</span></span><br/><br/><span data-ttu-id="013e9-132">If the error is ParameterMissing or ParameterInvalidValue, the HTTP status code is 400.</span><span class="sxs-lookup"><span data-stu-id="013e9-132">If the error is ParameterMissing or ParameterInvalidValue, the HTTP status code is 400.</span></span><br/><br/><span data-ttu-id="013e9-133">If the error is HttpNotAllowed, the HTTP status code 410.</span><span class="sxs-lookup"><span data-stu-id="013e9-133">If the error is HttpNotAllowed, the HTTP status code 410.</span></span>
|<span data-ttu-id="013e9-134">RateLimitExceeded</span><span class="sxs-lookup"><span data-stu-id="013e9-134">RateLimitExceeded</span></span>||<span data-ttu-id="013e9-135">Bing returns RateLimitExceeded whenever you exceed your queries per second (QPS) or queries per month (QPM) quota.</span><span class="sxs-lookup"><span data-stu-id="013e9-135">Bing returns RateLimitExceeded whenever you exceed your queries per second (QPS) or queries per month (QPM) quota.</span></span><br/><br/><span data-ttu-id="013e9-136">Bing returns HTTP status code 429 if you exceeded QPS and 403 if you exceeded QPM.</span><span class="sxs-lookup"><span data-stu-id="013e9-136">Bing returns HTTP status code 429 if you exceeded QPS and 403 if you exceeded QPM.</span></span>
|<span data-ttu-id="013e9-137">InvalidAuthorization</span><span class="sxs-lookup"><span data-stu-id="013e9-137">InvalidAuthorization</span></span>|<span data-ttu-id="013e9-138">AuthorizationMissing</span><span class="sxs-lookup"><span data-stu-id="013e9-138">AuthorizationMissing</span></span><br/><span data-ttu-id="013e9-139">AuthorizationRedundancy</span><span class="sxs-lookup"><span data-stu-id="013e9-139">AuthorizationRedundancy</span></span>|<span data-ttu-id="013e9-140">Bing returns InvalidAuthorization when Bing cannot authenticate the caller.</span><span class="sxs-lookup"><span data-stu-id="013e9-140">Bing returns InvalidAuthorization when Bing cannot authenticate the caller.</span></span> <span data-ttu-id="013e9-141">For example, the `Ocp-Apim-Subscription-Key` header is missing or the subscription key is not valid.</span><span class="sxs-lookup"><span data-stu-id="013e9-141">For example, the `Ocp-Apim-Subscription-Key` header is missing or the subscription key is not valid.</span></span><br/><br/><span data-ttu-id="013e9-142">Redundancy occurs if you specify more than one authentication method.</span><span class="sxs-lookup"><span data-stu-id="013e9-142">Redundancy occurs if you specify more than one authentication method.</span></span><br/><br/><span data-ttu-id="013e9-143">If the error is InvalidAuthorization, the HTTP status code is 401.</span><span class="sxs-lookup"><span data-stu-id="013e9-143">If the error is InvalidAuthorization, the HTTP status code is 401.</span></span>
|<span data-ttu-id="013e9-144">InsufficientAuthorization</span><span class="sxs-lookup"><span data-stu-id="013e9-144">InsufficientAuthorization</span></span>|<span data-ttu-id="013e9-145">AuthorizationDisabled</span><span class="sxs-lookup"><span data-stu-id="013e9-145">AuthorizationDisabled</span></span><br/><span data-ttu-id="013e9-146">AuthorizationExpired</span><span class="sxs-lookup"><span data-stu-id="013e9-146">AuthorizationExpired</span></span>|<span data-ttu-id="013e9-147">Bing returns InsufficientAuthorization when the caller does not have permissions to access the resource.</span><span class="sxs-lookup"><span data-stu-id="013e9-147">Bing returns InsufficientAuthorization when the caller does not have permissions to access the resource.</span></span> <span data-ttu-id="013e9-148">This can occur if the subscription key has been disabled or has expired.</span><span class="sxs-lookup"><span data-stu-id="013e9-148">This can occur if the subscription key has been disabled or has expired.</span></span> <br/><br/><span data-ttu-id="013e9-149">If the error is InsufficientAuthorization, the HTTP status code is 403.</span><span class="sxs-lookup"><span data-stu-id="013e9-149">If the error is InsufficientAuthorization, the HTTP status code is 403.</span></span>

- <span data-ttu-id="013e9-150">The following maps the previous error codes to the new codes.</span><span class="sxs-lookup"><span data-stu-id="013e9-150">The following maps the previous error codes to the new codes.</span></span> <span data-ttu-id="013e9-151">If you've taken a dependency on v5 error codes, update your code accordingly.</span><span class="sxs-lookup"><span data-stu-id="013e9-151">If you've taken a dependency on v5 error codes, update your code accordingly.</span></span>

|<span data-ttu-id="013e9-152">Version 5 code</span><span class="sxs-lookup"><span data-stu-id="013e9-152">Version 5 code</span></span>|<span data-ttu-id="013e9-153">Version 7 code.subCode</span><span class="sxs-lookup"><span data-stu-id="013e9-153">Version 7 code.subCode</span></span>
|-|-
|<span data-ttu-id="013e9-154">RequestParameterMissing</span><span class="sxs-lookup"><span data-stu-id="013e9-154">RequestParameterMissing</span></span>|<span data-ttu-id="013e9-155">InvalidRequest.ParameterMissing</span><span class="sxs-lookup"><span data-stu-id="013e9-155">InvalidRequest.ParameterMissing</span></span>
<span data-ttu-id="013e9-156">RequestParameterInvalidValue</span><span class="sxs-lookup"><span data-stu-id="013e9-156">RequestParameterInvalidValue</span></span>|<span data-ttu-id="013e9-157">InvalidRequest.ParameterInvalidValue</span><span class="sxs-lookup"><span data-stu-id="013e9-157">InvalidRequest.ParameterInvalidValue</span></span>
<span data-ttu-id="013e9-158">ResourceAccessDenied</span><span class="sxs-lookup"><span data-stu-id="013e9-158">ResourceAccessDenied</span></span>|<span data-ttu-id="013e9-159">InsufficientAuthorization</span><span class="sxs-lookup"><span data-stu-id="013e9-159">InsufficientAuthorization</span></span>
<span data-ttu-id="013e9-160">ExceededVolume</span><span class="sxs-lookup"><span data-stu-id="013e9-160">ExceededVolume</span></span>|<span data-ttu-id="013e9-161">RateLimitExceeded</span><span class="sxs-lookup"><span data-stu-id="013e9-161">RateLimitExceeded</span></span>
<span data-ttu-id="013e9-162">ExceededQpsLimit</span><span class="sxs-lookup"><span data-stu-id="013e9-162">ExceededQpsLimit</span></span>|<span data-ttu-id="013e9-163">RateLimitExceeded</span><span class="sxs-lookup"><span data-stu-id="013e9-163">RateLimitExceeded</span></span>
<span data-ttu-id="013e9-164">Disabled</span><span class="sxs-lookup"><span data-stu-id="013e9-164">Disabled</span></span>|<span data-ttu-id="013e9-165">InsufficientAuthorization.AuthorizationDisabled</span><span class="sxs-lookup"><span data-stu-id="013e9-165">InsufficientAuthorization.AuthorizationDisabled</span></span>
<span data-ttu-id="013e9-166">UnexpectedError</span><span class="sxs-lookup"><span data-stu-id="013e9-166">UnexpectedError</span></span>|<span data-ttu-id="013e9-167">ServerError.UnexpectedError</span><span class="sxs-lookup"><span data-stu-id="013e9-167">ServerError.UnexpectedError</span></span>
<span data-ttu-id="013e9-168">DataSourceErrors</span><span class="sxs-lookup"><span data-stu-id="013e9-168">DataSourceErrors</span></span>|<span data-ttu-id="013e9-169">ServerError.ResourceError</span><span class="sxs-lookup"><span data-stu-id="013e9-169">ServerError.ResourceError</span></span>
<span data-ttu-id="013e9-170">AuthorizationMissing</span><span class="sxs-lookup"><span data-stu-id="013e9-170">AuthorizationMissing</span></span>|<span data-ttu-id="013e9-171">InvalidAuthorization.AuthorizationMissing</span><span class="sxs-lookup"><span data-stu-id="013e9-171">InvalidAuthorization.AuthorizationMissing</span></span>
<span data-ttu-id="013e9-172">HttpNotAllowed</span><span class="sxs-lookup"><span data-stu-id="013e9-172">HttpNotAllowed</span></span>|<span data-ttu-id="013e9-173">InvalidRequest.HttpNotAllowed</span><span class="sxs-lookup"><span data-stu-id="013e9-173">InvalidRequest.HttpNotAllowed</span></span>
<span data-ttu-id="013e9-174">UserAgentMissing</span><span class="sxs-lookup"><span data-stu-id="013e9-174">UserAgentMissing</span></span>|<span data-ttu-id="013e9-175">InvalidRequest.ParameterMissing</span><span class="sxs-lookup"><span data-stu-id="013e9-175">InvalidRequest.ParameterMissing</span></span>
<span data-ttu-id="013e9-176">NotImplemented</span><span class="sxs-lookup"><span data-stu-id="013e9-176">NotImplemented</span></span>|<span data-ttu-id="013e9-177">ServerError.NotImplemented</span><span class="sxs-lookup"><span data-stu-id="013e9-177">ServerError.NotImplemented</span></span>
<span data-ttu-id="013e9-178">InvalidAuthorization</span><span class="sxs-lookup"><span data-stu-id="013e9-178">InvalidAuthorization</span></span>|<span data-ttu-id="013e9-179">InvalidAuthorization</span><span class="sxs-lookup"><span data-stu-id="013e9-179">InvalidAuthorization</span></span>
<span data-ttu-id="013e9-180">InvalidAuthorizationMethod</span><span class="sxs-lookup"><span data-stu-id="013e9-180">InvalidAuthorizationMethod</span></span>|<span data-ttu-id="013e9-181">InvalidAuthorization</span><span class="sxs-lookup"><span data-stu-id="013e9-181">InvalidAuthorization</span></span>
<span data-ttu-id="013e9-182">MultipleAuthorizationMethod</span><span class="sxs-lookup"><span data-stu-id="013e9-182">MultipleAuthorizationMethod</span></span>|<span data-ttu-id="013e9-183">InvalidAuthorization.AuthorizationRedundancy</span><span class="sxs-lookup"><span data-stu-id="013e9-183">InvalidAuthorization.AuthorizationRedundancy</span></span>
<span data-ttu-id="013e9-184">ExpiredAuthorizationToken</span><span class="sxs-lookup"><span data-stu-id="013e9-184">ExpiredAuthorizationToken</span></span>|<span data-ttu-id="013e9-185">InsufficientAuthorization.AuthorizationExpired</span><span class="sxs-lookup"><span data-stu-id="013e9-185">InsufficientAuthorization.AuthorizationExpired</span></span>
<span data-ttu-id="013e9-186">InsufficientScope</span><span class="sxs-lookup"><span data-stu-id="013e9-186">InsufficientScope</span></span>|<span data-ttu-id="013e9-187">InsufficientAuthorization</span><span class="sxs-lookup"><span data-stu-id="013e9-187">InsufficientAuthorization</span></span>
<span data-ttu-id="013e9-188">Blocked</span><span class="sxs-lookup"><span data-stu-id="013e9-188">Blocked</span></span>|<span data-ttu-id="013e9-189">InvalidRequest.Blocked</span><span class="sxs-lookup"><span data-stu-id="013e9-189">InvalidRequest.Blocked</span></span>

## <a name="next-steps"></a><span data-ttu-id="013e9-190">Next steps</span><span class="sxs-lookup"><span data-stu-id="013e9-190">Next steps</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="013e9-191">Use and display requirements</span><span class="sxs-lookup"><span data-stu-id="013e9-191">Use and display requirements</span></span>](./UseAndDisplayRequirements.md)
