---
title: Upgrade Bing Video API v5 to v7 | Microsoft Docs
description: Identifies the parts of your application that you need to update to use version 7.
services: cognitive-services
author: swhite-msft
manager: ehansen
ms.assetid: FA7DDF07-97AC-4EBE-8C50-A9737D43B38E
ms.service: cognitive-services
ms.component: bing-video-search
ms.topic: article
ms.date: 04/15/2017
ms.author: scottwhi
ms.openlocfilehash: db1bc07c06f3d073b6cc0f206620e50a5f048e2a
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44968731"
---
# <a name="video-search-api-upgrade-guide"></a><span data-ttu-id="6db81-103">Video Search API upgrade guide</span><span class="sxs-lookup"><span data-stu-id="6db81-103">Video Search API upgrade guide</span></span>

<span data-ttu-id="6db81-104">This upgrade guide identifies the changes between version 5 and version 7 of the Bing Video Search API.</span><span class="sxs-lookup"><span data-stu-id="6db81-104">This upgrade guide identifies the changes between version 5 and version 7 of the Bing Video Search API.</span></span> <span data-ttu-id="6db81-105">Use this guide to help you identify the parts of your application that you need to update to use version 7.</span><span class="sxs-lookup"><span data-stu-id="6db81-105">Use this guide to help you identify the parts of your application that you need to update to use version 7.</span></span>

## <a name="breaking-changes"></a><span data-ttu-id="6db81-106">Breaking changes</span><span class="sxs-lookup"><span data-stu-id="6db81-106">Breaking changes</span></span>

### <a name="endpoints"></a><span data-ttu-id="6db81-107">Endpoints</span><span class="sxs-lookup"><span data-stu-id="6db81-107">Endpoints</span></span>

- <span data-ttu-id="6db81-108">The endpoint's version number changed from v5 to v7.</span><span class="sxs-lookup"><span data-stu-id="6db81-108">The endpoint's version number changed from v5 to v7.</span></span> <span data-ttu-id="6db81-109">For example, `https://api.cognitive.microsoft.com/bing/v7.0/videos/search`.</span><span class="sxs-lookup"><span data-stu-id="6db81-109">For example, `https://api.cognitive.microsoft.com/bing/v7.0/videos/search`.</span></span>

### <a name="error-response-objects-and-error-codes"></a><span data-ttu-id="6db81-110">Error response objects and error codes</span><span class="sxs-lookup"><span data-stu-id="6db81-110">Error response objects and error codes</span></span>

- <span data-ttu-id="6db81-111">All failed requests should now include an `ErrorResponse` object in the response body.</span><span class="sxs-lookup"><span data-stu-id="6db81-111">All failed requests should now include an `ErrorResponse` object in the response body.</span></span>

- <span data-ttu-id="6db81-112">Added the following fields to the `Error` object.</span><span class="sxs-lookup"><span data-stu-id="6db81-112">Added the following fields to the `Error` object.</span></span>  
  - <span data-ttu-id="6db81-113">`subCode`&mdash;Partitions the error code into discrete buckets, if possible</span><span class="sxs-lookup"><span data-stu-id="6db81-113">`subCode`&mdash;Partitions the error code into discrete buckets, if possible</span></span>
  - <span data-ttu-id="6db81-114">`moreDetails`&mdash;Additional information about the error described in the `message` field</span><span class="sxs-lookup"><span data-stu-id="6db81-114">`moreDetails`&mdash;Additional information about the error described in the `message` field</span></span>
   

- <span data-ttu-id="6db81-115">Replaced the v5 error codes with the following possible `code` and `subCode` values.</span><span class="sxs-lookup"><span data-stu-id="6db81-115">Replaced the v5 error codes with the following possible `code` and `subCode` values.</span></span>

|<span data-ttu-id="6db81-116">Code</span><span class="sxs-lookup"><span data-stu-id="6db81-116">Code</span></span>|<span data-ttu-id="6db81-117">SubCode</span><span class="sxs-lookup"><span data-stu-id="6db81-117">SubCode</span></span>|<span data-ttu-id="6db81-118">Description</span><span class="sxs-lookup"><span data-stu-id="6db81-118">Description</span></span>
|-|-|-
|<span data-ttu-id="6db81-119">ServerError</span><span class="sxs-lookup"><span data-stu-id="6db81-119">ServerError</span></span>|<span data-ttu-id="6db81-120">UnexpectedError</span><span class="sxs-lookup"><span data-stu-id="6db81-120">UnexpectedError</span></span><br/><span data-ttu-id="6db81-121">ResourceError</span><span class="sxs-lookup"><span data-stu-id="6db81-121">ResourceError</span></span><br/><span data-ttu-id="6db81-122">NotImplemented</span><span class="sxs-lookup"><span data-stu-id="6db81-122">NotImplemented</span></span>|<span data-ttu-id="6db81-123">Bing returns ServerError whenever any of the sub-code conditions occur.</span><span class="sxs-lookup"><span data-stu-id="6db81-123">Bing returns ServerError whenever any of the sub-code conditions occur.</span></span> <span data-ttu-id="6db81-124">The response includes these errors if the HTTP status code is 500.</span><span class="sxs-lookup"><span data-stu-id="6db81-124">The response includes these errors if the HTTP status code is 500.</span></span>
|<span data-ttu-id="6db81-125">InvalidRequest</span><span class="sxs-lookup"><span data-stu-id="6db81-125">InvalidRequest</span></span>|<span data-ttu-id="6db81-126">ParameterMissing</span><span class="sxs-lookup"><span data-stu-id="6db81-126">ParameterMissing</span></span><br/><span data-ttu-id="6db81-127">ParameterInvalidValue</span><span class="sxs-lookup"><span data-stu-id="6db81-127">ParameterInvalidValue</span></span><br/><span data-ttu-id="6db81-128">HttpNotAllowed</span><span class="sxs-lookup"><span data-stu-id="6db81-128">HttpNotAllowed</span></span><br/><span data-ttu-id="6db81-129">Blocked</span><span class="sxs-lookup"><span data-stu-id="6db81-129">Blocked</span></span>|<span data-ttu-id="6db81-130">Bing returns InvalidRequest whenever any part of the request is not valid.</span><span class="sxs-lookup"><span data-stu-id="6db81-130">Bing returns InvalidRequest whenever any part of the request is not valid.</span></span> <span data-ttu-id="6db81-131">For example, a required parameter is missing or a parameter value is not valid.</span><span class="sxs-lookup"><span data-stu-id="6db81-131">For example, a required parameter is missing or a parameter value is not valid.</span></span><br/><br/><span data-ttu-id="6db81-132">If the error is ParameterMissing or ParameterInvalidValue, the HTTP status code is 400.</span><span class="sxs-lookup"><span data-stu-id="6db81-132">If the error is ParameterMissing or ParameterInvalidValue, the HTTP status code is 400.</span></span><br/><br/><span data-ttu-id="6db81-133">If the error is HttpNotAllowed, the HTTP status code 410.</span><span class="sxs-lookup"><span data-stu-id="6db81-133">If the error is HttpNotAllowed, the HTTP status code 410.</span></span>
|<span data-ttu-id="6db81-134">RateLimitExceeded</span><span class="sxs-lookup"><span data-stu-id="6db81-134">RateLimitExceeded</span></span>||<span data-ttu-id="6db81-135">Bing returns RateLimitExceeded whenever you exceed your queries per second (QPS) or queries per month (QPM) quota.</span><span class="sxs-lookup"><span data-stu-id="6db81-135">Bing returns RateLimitExceeded whenever you exceed your queries per second (QPS) or queries per month (QPM) quota.</span></span><br/><br/><span data-ttu-id="6db81-136">Bing returns HTTP status code 429 if you exceeded QPS and 403 if you exceeded QPM.</span><span class="sxs-lookup"><span data-stu-id="6db81-136">Bing returns HTTP status code 429 if you exceeded QPS and 403 if you exceeded QPM.</span></span>
|<span data-ttu-id="6db81-137">InvalidAuthorization</span><span class="sxs-lookup"><span data-stu-id="6db81-137">InvalidAuthorization</span></span>|<span data-ttu-id="6db81-138">AuthorizationMissing</span><span class="sxs-lookup"><span data-stu-id="6db81-138">AuthorizationMissing</span></span><br/><span data-ttu-id="6db81-139">AuthorizationRedundancy</span><span class="sxs-lookup"><span data-stu-id="6db81-139">AuthorizationRedundancy</span></span>|<span data-ttu-id="6db81-140">Bing returns InvalidAuthorization when Bing cannot authenticate the caller.</span><span class="sxs-lookup"><span data-stu-id="6db81-140">Bing returns InvalidAuthorization when Bing cannot authenticate the caller.</span></span> <span data-ttu-id="6db81-141">For example, the `Ocp-Apim-Subscription-Key` header is missing or the subscription key is not valid.</span><span class="sxs-lookup"><span data-stu-id="6db81-141">For example, the `Ocp-Apim-Subscription-Key` header is missing or the subscription key is not valid.</span></span><br/><br/><span data-ttu-id="6db81-142">Redundancy occurs if you specify more than one authentication method.</span><span class="sxs-lookup"><span data-stu-id="6db81-142">Redundancy occurs if you specify more than one authentication method.</span></span><br/><br/><span data-ttu-id="6db81-143">If the error is InvalidAuthorization, the HTTP status code is 401.</span><span class="sxs-lookup"><span data-stu-id="6db81-143">If the error is InvalidAuthorization, the HTTP status code is 401.</span></span>
|<span data-ttu-id="6db81-144">InsufficientAuthorization</span><span class="sxs-lookup"><span data-stu-id="6db81-144">InsufficientAuthorization</span></span>|<span data-ttu-id="6db81-145">AuthorizationDisabled</span><span class="sxs-lookup"><span data-stu-id="6db81-145">AuthorizationDisabled</span></span><br/><span data-ttu-id="6db81-146">AuthorizationExpired</span><span class="sxs-lookup"><span data-stu-id="6db81-146">AuthorizationExpired</span></span>|<span data-ttu-id="6db81-147">Bing returns InsufficientAuthorization when the caller does not have permissions to access the resource.</span><span class="sxs-lookup"><span data-stu-id="6db81-147">Bing returns InsufficientAuthorization when the caller does not have permissions to access the resource.</span></span> <span data-ttu-id="6db81-148">This can occur if the subscription key has been disabled or has expired.</span><span class="sxs-lookup"><span data-stu-id="6db81-148">This can occur if the subscription key has been disabled or has expired.</span></span> <br/><br/><span data-ttu-id="6db81-149">If the error is InsufficientAuthorization, the HTTP status code is 403.</span><span class="sxs-lookup"><span data-stu-id="6db81-149">If the error is InsufficientAuthorization, the HTTP status code is 403.</span></span>

- <span data-ttu-id="6db81-150">The following maps the previous error codes to the new codes.</span><span class="sxs-lookup"><span data-stu-id="6db81-150">The following maps the previous error codes to the new codes.</span></span> <span data-ttu-id="6db81-151">If you've taken a dependency on v5 error codes, update your code accordingly.</span><span class="sxs-lookup"><span data-stu-id="6db81-151">If you've taken a dependency on v5 error codes, update your code accordingly.</span></span>

|<span data-ttu-id="6db81-152">Version 5 code</span><span class="sxs-lookup"><span data-stu-id="6db81-152">Version 5 code</span></span>|<span data-ttu-id="6db81-153">Version 7 code.subCode</span><span class="sxs-lookup"><span data-stu-id="6db81-153">Version 7 code.subCode</span></span>
|-|-
|<span data-ttu-id="6db81-154">RequestParameterMissing</span><span class="sxs-lookup"><span data-stu-id="6db81-154">RequestParameterMissing</span></span>|<span data-ttu-id="6db81-155">InvalidRequest.ParameterMissing</span><span class="sxs-lookup"><span data-stu-id="6db81-155">InvalidRequest.ParameterMissing</span></span>
<span data-ttu-id="6db81-156">RequestParameterInvalidValue</span><span class="sxs-lookup"><span data-stu-id="6db81-156">RequestParameterInvalidValue</span></span>|<span data-ttu-id="6db81-157">InvalidRequest.ParameterInvalidValue</span><span class="sxs-lookup"><span data-stu-id="6db81-157">InvalidRequest.ParameterInvalidValue</span></span>
<span data-ttu-id="6db81-158">ResourceAccessDenied</span><span class="sxs-lookup"><span data-stu-id="6db81-158">ResourceAccessDenied</span></span>|<span data-ttu-id="6db81-159">InsufficientAuthorization</span><span class="sxs-lookup"><span data-stu-id="6db81-159">InsufficientAuthorization</span></span>
<span data-ttu-id="6db81-160">ExceededVolume</span><span class="sxs-lookup"><span data-stu-id="6db81-160">ExceededVolume</span></span>|<span data-ttu-id="6db81-161">RateLimitExceeded</span><span class="sxs-lookup"><span data-stu-id="6db81-161">RateLimitExceeded</span></span>
<span data-ttu-id="6db81-162">ExceededQpsLimit</span><span class="sxs-lookup"><span data-stu-id="6db81-162">ExceededQpsLimit</span></span>|<span data-ttu-id="6db81-163">RateLimitExceeded</span><span class="sxs-lookup"><span data-stu-id="6db81-163">RateLimitExceeded</span></span>
<span data-ttu-id="6db81-164">Disabled</span><span class="sxs-lookup"><span data-stu-id="6db81-164">Disabled</span></span>|<span data-ttu-id="6db81-165">InsufficientAuthorization.AuthorizationDisabled</span><span class="sxs-lookup"><span data-stu-id="6db81-165">InsufficientAuthorization.AuthorizationDisabled</span></span>
<span data-ttu-id="6db81-166">UnexpectedError</span><span class="sxs-lookup"><span data-stu-id="6db81-166">UnexpectedError</span></span>|<span data-ttu-id="6db81-167">ServerError.UnexpectedError</span><span class="sxs-lookup"><span data-stu-id="6db81-167">ServerError.UnexpectedError</span></span>
<span data-ttu-id="6db81-168">DataSourceErrors</span><span class="sxs-lookup"><span data-stu-id="6db81-168">DataSourceErrors</span></span>|<span data-ttu-id="6db81-169">ServerError.ResourceError</span><span class="sxs-lookup"><span data-stu-id="6db81-169">ServerError.ResourceError</span></span>
<span data-ttu-id="6db81-170">AuthorizationMissing</span><span class="sxs-lookup"><span data-stu-id="6db81-170">AuthorizationMissing</span></span>|<span data-ttu-id="6db81-171">InvalidAuthorization.AuthorizationMissing</span><span class="sxs-lookup"><span data-stu-id="6db81-171">InvalidAuthorization.AuthorizationMissing</span></span>
<span data-ttu-id="6db81-172">HttpNotAllowed</span><span class="sxs-lookup"><span data-stu-id="6db81-172">HttpNotAllowed</span></span>|<span data-ttu-id="6db81-173">InvalidRequest.HttpNotAllowed</span><span class="sxs-lookup"><span data-stu-id="6db81-173">InvalidRequest.HttpNotAllowed</span></span>
<span data-ttu-id="6db81-174">UserAgentMissing</span><span class="sxs-lookup"><span data-stu-id="6db81-174">UserAgentMissing</span></span>|<span data-ttu-id="6db81-175">InvalidRequest.ParameterMissing</span><span class="sxs-lookup"><span data-stu-id="6db81-175">InvalidRequest.ParameterMissing</span></span>
<span data-ttu-id="6db81-176">NotImplemented</span><span class="sxs-lookup"><span data-stu-id="6db81-176">NotImplemented</span></span>|<span data-ttu-id="6db81-177">ServerError.NotImplemented</span><span class="sxs-lookup"><span data-stu-id="6db81-177">ServerError.NotImplemented</span></span>
<span data-ttu-id="6db81-178">InvalidAuthorization</span><span class="sxs-lookup"><span data-stu-id="6db81-178">InvalidAuthorization</span></span>|<span data-ttu-id="6db81-179">InvalidAuthorization</span><span class="sxs-lookup"><span data-stu-id="6db81-179">InvalidAuthorization</span></span>
<span data-ttu-id="6db81-180">InvalidAuthorizationMethod</span><span class="sxs-lookup"><span data-stu-id="6db81-180">InvalidAuthorizationMethod</span></span>|<span data-ttu-id="6db81-181">InvalidAuthorization</span><span class="sxs-lookup"><span data-stu-id="6db81-181">InvalidAuthorization</span></span>
<span data-ttu-id="6db81-182">MultipleAuthorizationMethod</span><span class="sxs-lookup"><span data-stu-id="6db81-182">MultipleAuthorizationMethod</span></span>|<span data-ttu-id="6db81-183">InvalidAuthorization.AuthorizationRedundancy</span><span class="sxs-lookup"><span data-stu-id="6db81-183">InvalidAuthorization.AuthorizationRedundancy</span></span>
<span data-ttu-id="6db81-184">ExpiredAuthorizationToken</span><span class="sxs-lookup"><span data-stu-id="6db81-184">ExpiredAuthorizationToken</span></span>|<span data-ttu-id="6db81-185">InsufficientAuthorization.AuthorizationExpired</span><span class="sxs-lookup"><span data-stu-id="6db81-185">InsufficientAuthorization.AuthorizationExpired</span></span>
<span data-ttu-id="6db81-186">InsufficientScope</span><span class="sxs-lookup"><span data-stu-id="6db81-186">InsufficientScope</span></span>|<span data-ttu-id="6db81-187">InsufficientAuthorization</span><span class="sxs-lookup"><span data-stu-id="6db81-187">InsufficientAuthorization</span></span>
<span data-ttu-id="6db81-188">Blocked</span><span class="sxs-lookup"><span data-stu-id="6db81-188">Blocked</span></span>|<span data-ttu-id="6db81-189">InvalidRequest.Blocked</span><span class="sxs-lookup"><span data-stu-id="6db81-189">InvalidRequest.Blocked</span></span>

### <a name="query-parameters"></a><span data-ttu-id="6db81-190">Query parameters</span><span class="sxs-lookup"><span data-stu-id="6db81-190">Query parameters</span></span>

- <span data-ttu-id="6db81-191">Renamed the `modulesRequested` query parameter to [modules](https://docs.microsoft.com/rest/api/cognitiveservices/bing-video-api-v7-reference#modulesrequested).</span><span class="sxs-lookup"><span data-stu-id="6db81-191">Renamed the `modulesRequested` query parameter to [modules](https://docs.microsoft.com/rest/api/cognitiveservices/bing-video-api-v7-reference#modulesrequested).</span></span>  

### <a name="object-changes"></a><span data-ttu-id="6db81-192">Object changes</span><span class="sxs-lookup"><span data-stu-id="6db81-192">Object changes</span></span>

- <span data-ttu-id="6db81-193">Renamed the `nextOffsetAddCount` field of [Videos](https://docs.microsoft.com/rest/api/cognitiveservices/bing-video-api-v7-reference#videos) to `nextOffset`.</span><span class="sxs-lookup"><span data-stu-id="6db81-193">Renamed the `nextOffsetAddCount` field of [Videos](https://docs.microsoft.com/rest/api/cognitiveservices/bing-video-api-v7-reference#videos) to `nextOffset`.</span></span> <span data-ttu-id="6db81-194">The way you use the offset has also changed.</span><span class="sxs-lookup"><span data-stu-id="6db81-194">The way you use the offset has also changed.</span></span> <span data-ttu-id="6db81-195">Previously, you would set the [offset](https://docs.microsoft.com/rest/api/cognitiveservices/bing-video-api-v7-reference#offset) query parameter to the `nextOffset` value plus the previous offset value plus the number of videos in the result.</span><span class="sxs-lookup"><span data-stu-id="6db81-195">Previously, you would set the [offset](https://docs.microsoft.com/rest/api/cognitiveservices/bing-video-api-v7-reference#offset) query parameter to the `nextOffset` value plus the previous offset value plus the number of videos in the result.</span></span> <span data-ttu-id="6db81-196">Now, you simply set the `offset` query parameter to the `nextOffset` value.</span><span class="sxs-lookup"><span data-stu-id="6db81-196">Now, you simply set the `offset` query parameter to the `nextOffset` value.</span></span>  
  
- <span data-ttu-id="6db81-197">Changed the data type of the `relatedVideos` field from `Video[]` to [VideosModule](https://docs.microsoft.com/rest/api/cognitiveservices/bing-video-api-v7-reference#videosmodule) (see [VideoDetails](https://docs.microsoft.com/rest/api/cognitiveservices/bing-video-api-v7-reference#videodetails)).</span><span class="sxs-lookup"><span data-stu-id="6db81-197">Changed the data type of the `relatedVideos` field from `Video[]` to [VideosModule](https://docs.microsoft.com/rest/api/cognitiveservices/bing-video-api-v7-reference#videosmodule) (see [VideoDetails](https://docs.microsoft.com/rest/api/cognitiveservices/bing-video-api-v7-reference#videodetails)).</span></span>

