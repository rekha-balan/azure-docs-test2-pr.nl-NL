---
title: Microsoft Translator Speech API Reference | Microsoft Docs
titleSuffix: Cognitive Services
description: Reference documentation for the Microsoft Translator Speech API.
services: cognitive-services
author: Jann-Skotdal
manager: chriswendt1
ms.service: cognitive-services
ms.technology: microsoft translator
ms.topic: article
ms.date: 05/18/2018
ms.author: v-jansko
ms.openlocfilehash: 9daa3ec06a2ca4e49e7a014a457c88c701aa5fc8
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44856103"
---
# <a name="microsoft-translator-speech-api"></a><span data-ttu-id="fe445-103">Microsoft Translator Speech API</span><span class="sxs-lookup"><span data-stu-id="fe445-103">Microsoft Translator Speech API</span></span>

<span data-ttu-id="fe445-104">This service offers a streaming API to transcribe conversational speech from one language into text of another language.</span><span class="sxs-lookup"><span data-stu-id="fe445-104">This service offers a streaming API to transcribe conversational speech from one language into text of another language.</span></span> <span data-ttu-id="fe445-105">The API also integrates text-to-speech capabilities to speak the translated text back.</span><span class="sxs-lookup"><span data-stu-id="fe445-105">The API also integrates text-to-speech capabilities to speak the translated text back.</span></span> <span data-ttu-id="fe445-106">Microsoft Translator Speech API enables scenarios like real-time translation of conversations as seen in Skype Translator.</span><span class="sxs-lookup"><span data-stu-id="fe445-106">Microsoft Translator Speech API enables scenarios like real-time translation of conversations as seen in Skype Translator.</span></span>

<span data-ttu-id="fe445-107">With Microsoft Translator Speech API, client applications stream speech audio to the service and receive back a stream of text-based results, which include the recognized text in the source language, and its translation in the target language.</span><span class="sxs-lookup"><span data-stu-id="fe445-107">With Microsoft Translator Speech API, client applications stream speech audio to the service and receive back a stream of text-based results, which include the recognized text in the source language, and its translation in the target language.</span></span> <span data-ttu-id="fe445-108">Text results are produced by applying Automatic Speech Recognition (ASR) powered by deep neural networks to the incoming audio stream.</span><span class="sxs-lookup"><span data-stu-id="fe445-108">Text results are produced by applying Automatic Speech Recognition (ASR) powered by deep neural networks to the incoming audio stream.</span></span> <span data-ttu-id="fe445-109">Raw ASR output is further improved by a new technique called TrueText in order to more closely reflect user intent.</span><span class="sxs-lookup"><span data-stu-id="fe445-109">Raw ASR output is further improved by a new technique called TrueText in order to more closely reflect user intent.</span></span> <span data-ttu-id="fe445-110">For example, TrueText removes disfluencies (the hmms and coughs) and restore proper punctuation and capitalization.</span><span class="sxs-lookup"><span data-stu-id="fe445-110">For example, TrueText removes disfluencies (the hmms and coughs) and restore proper punctuation and capitalization.</span></span> <span data-ttu-id="fe445-111">The ability to mask or exclude profanities is also included.</span><span class="sxs-lookup"><span data-stu-id="fe445-111">The ability to mask or exclude profanities is also included.</span></span> <span data-ttu-id="fe445-112">The recognition and translation engines are specifically trained to handle conversational speech.</span><span class="sxs-lookup"><span data-stu-id="fe445-112">The recognition and translation engines are specifically trained to handle conversational speech.</span></span> <span data-ttu-id="fe445-113">The Speech Translation service uses silence detection to determine the end of an utterance.</span><span class="sxs-lookup"><span data-stu-id="fe445-113">The Speech Translation service uses silence detection to determine the end of an utterance.</span></span> <span data-ttu-id="fe445-114">After a pause in voice activity, the service will stream back a final result for the completed utterance.</span><span class="sxs-lookup"><span data-stu-id="fe445-114">After a pause in voice activity, the service will stream back a final result for the completed utterance.</span></span> <span data-ttu-id="fe445-115">The service can also send back partial results, which give intermediate recognitions and translations for an utterance in progress.</span><span class="sxs-lookup"><span data-stu-id="fe445-115">The service can also send back partial results, which give intermediate recognitions and translations for an utterance in progress.</span></span> <span data-ttu-id="fe445-116">For final results, the service provides the ability to synthesize speech (text-to-speech) from the spoken text in the target languages.</span><span class="sxs-lookup"><span data-stu-id="fe445-116">For final results, the service provides the ability to synthesize speech (text-to-speech) from the spoken text in the target languages.</span></span> <span data-ttu-id="fe445-117">Text-to-speech audio is created in the format specified by the client.</span><span class="sxs-lookup"><span data-stu-id="fe445-117">Text-to-speech audio is created in the format specified by the client.</span></span> <span data-ttu-id="fe445-118">WAV and MP3 formats are available.</span><span class="sxs-lookup"><span data-stu-id="fe445-118">WAV and MP3 formats are available.</span></span>

<span data-ttu-id="fe445-119">Microsoft Translator Speech API leverages the WebSocket protocol to provide a full-duplex communication channel between the client and the server.</span><span class="sxs-lookup"><span data-stu-id="fe445-119">Microsoft Translator Speech API leverages the WebSocket protocol to provide a full-duplex communication channel between the client and the server.</span></span> <span data-ttu-id="fe445-120">An application will require these steps to use the service:</span><span class="sxs-lookup"><span data-stu-id="fe445-120">An application will require these steps to use the service:</span></span>

## <a name="1-getting-started"></a><span data-ttu-id="fe445-121">1. Getting started</span><span class="sxs-lookup"><span data-stu-id="fe445-121">1. Getting started</span></span>
<span data-ttu-id="fe445-122">To access the Microsoft Translator Text API you will need to [sign up for Microsoft Azure](translator-speech-how-to-signup.md).</span><span class="sxs-lookup"><span data-stu-id="fe445-122">To access the Microsoft Translator Text API you will need to [sign up for Microsoft Azure](translator-speech-how-to-signup.md).</span></span>

## <a name="2-authentication"></a><span data-ttu-id="fe445-123">2. Authentication</span><span class="sxs-lookup"><span data-stu-id="fe445-123">2. Authentication</span></span>

<span data-ttu-id="fe445-124">Use the subscription key to authenticate.</span><span class="sxs-lookup"><span data-stu-id="fe445-124">Use the subscription key to authenticate.</span></span> <span data-ttu-id="fe445-125">Microsoft Translator Speech API supports two modes of authentication:</span><span class="sxs-lookup"><span data-stu-id="fe445-125">Microsoft Translator Speech API supports two modes of authentication:</span></span>

* <span data-ttu-id="fe445-126">**Using an access token:** In your application, obtain an access token from the token service.</span><span class="sxs-lookup"><span data-stu-id="fe445-126">**Using an access token:** In your application, obtain an access token from the token service.</span></span> <span data-ttu-id="fe445-127">Use your Microsoft Translator Speech API subscription key to obtain an access token from the Cognitive Services authentication service.</span><span class="sxs-lookup"><span data-stu-id="fe445-127">Use your Microsoft Translator Speech API subscription key to obtain an access token from the Cognitive Services authentication service.</span></span> <span data-ttu-id="fe445-128">The access token is valid for 10 minutes.</span><span class="sxs-lookup"><span data-stu-id="fe445-128">The access token is valid for 10 minutes.</span></span> <span data-ttu-id="fe445-129">Obtain a new access token every 10 minutes, and keep using the same access token for repeated requests within these 10 minutes.</span><span class="sxs-lookup"><span data-stu-id="fe445-129">Obtain a new access token every 10 minutes, and keep using the same access token for repeated requests within these 10 minutes.</span></span>

* <span data-ttu-id="fe445-130">**Using a subscription key directly:** In your application, pass your subscription key as a value in `Ocp-Apim-Subscription-Key` header.</span><span class="sxs-lookup"><span data-stu-id="fe445-130">**Using a subscription key directly:** In your application, pass your subscription key as a value in `Ocp-Apim-Subscription-Key` header.</span></span>

<span data-ttu-id="fe445-131">Treat your subscription key and the access token as secrets that should be hidden from view.</span><span class="sxs-lookup"><span data-stu-id="fe445-131">Treat your subscription key and the access token as secrets that should be hidden from view.</span></span>

## <a name="3-query-languages"></a><span data-ttu-id="fe445-132">3. Query languages</span><span class="sxs-lookup"><span data-stu-id="fe445-132">3. Query languages</span></span>
<span data-ttu-id="fe445-133">**Query the Languages resource for the current set of supported languages.**</span><span class="sxs-lookup"><span data-stu-id="fe445-133">**Query the Languages resource for the current set of supported languages.**</span></span> <span data-ttu-id="fe445-134">The [languages resource](languages-reference.md) exposes the set of languages and voices available for speech recognition, for text translation and for text-to-speech.</span><span class="sxs-lookup"><span data-stu-id="fe445-134">The [languages resource](languages-reference.md) exposes the set of languages and voices available for speech recognition, for text translation and for text-to-speech.</span></span> <span data-ttu-id="fe445-135">Each language or voice is given an identifier which Microsoft Translator Speech API uses to identify the same language or voice.</span><span class="sxs-lookup"><span data-stu-id="fe445-135">Each language or voice is given an identifier which Microsoft Translator Speech API uses to identify the same language or voice.</span></span>

## <a name="4-stream-audio"></a><span data-ttu-id="fe445-136">4. Stream audio</span><span class="sxs-lookup"><span data-stu-id="fe445-136">4. Stream audio</span></span>
<span data-ttu-id="fe445-137">**Open a connection and begin streaming audio to the service.**</span><span class="sxs-lookup"><span data-stu-id="fe445-137">**Open a connection and begin streaming audio to the service.**</span></span> <span data-ttu-id="fe445-138">The service URL is `wss://dev.microsofttranslator.com/speech/translate`.</span><span class="sxs-lookup"><span data-stu-id="fe445-138">The service URL is `wss://dev.microsofttranslator.com/speech/translate`.</span></span> <span data-ttu-id="fe445-139">Parameters and audio formats expected by the service are described below, in the `/speech/translate` operation.</span><span class="sxs-lookup"><span data-stu-id="fe445-139">Parameters and audio formats expected by the service are described below, in the `/speech/translate` operation.</span></span> <span data-ttu-id="fe445-140">One of the parameters is used to pass the access token from Step 2 above.</span><span class="sxs-lookup"><span data-stu-id="fe445-140">One of the parameters is used to pass the access token from Step 2 above.</span></span>

## <a name="5-process-the-results"></a><span data-ttu-id="fe445-141">5. Process the results</span><span class="sxs-lookup"><span data-stu-id="fe445-141">5. Process the results</span></span>
<span data-ttu-id="fe445-142">**Process the results streamed back from the service.**</span><span class="sxs-lookup"><span data-stu-id="fe445-142">**Process the results streamed back from the service.**</span></span> <span data-ttu-id="fe445-143">The format of partial results, final results and text-to-speech audio segments are described in the documentation of the `/speech/translate` operation below.</span><span class="sxs-lookup"><span data-stu-id="fe445-143">The format of partial results, final results and text-to-speech audio segments are described in the documentation of the `/speech/translate` operation below.</span></span>

<span data-ttu-id="fe445-144">Code samples demonstrating use of Microsoft Translator Speech API are available from the [Microsoft Translator Github site](https://github.com/MicrosoftTranslator).</span><span class="sxs-lookup"><span data-stu-id="fe445-144">Code samples demonstrating use of Microsoft Translator Speech API are available from the [Microsoft Translator Github site](https://github.com/MicrosoftTranslator).</span></span>

## <a name="implementation-notes"></a><span data-ttu-id="fe445-145">Implementation notes</span><span class="sxs-lookup"><span data-stu-id="fe445-145">Implementation notes</span></span>

<span data-ttu-id="fe445-146">GET /speech/translate Establishes a session for speech translation</span><span class="sxs-lookup"><span data-stu-id="fe445-146">GET /speech/translate Establishes a session for speech translation</span></span>

### <a name="connecting"></a><span data-ttu-id="fe445-147">Connecting</span><span class="sxs-lookup"><span data-stu-id="fe445-147">Connecting</span></span>
<span data-ttu-id="fe445-148">Before connecting to the service, review the list of parameters given later in this section.</span><span class="sxs-lookup"><span data-stu-id="fe445-148">Before connecting to the service, review the list of parameters given later in this section.</span></span> <span data-ttu-id="fe445-149">An example request is:</span><span class="sxs-lookup"><span data-stu-id="fe445-149">An example request is:</span></span>

`GET wss://dev.microsofttranslator.com/speech/translate?from=en-US&to=it-IT&features=texttospeech&voice=it-IT-Elsa&api-version=1.0`
`Ocp-Apim-Subscription-Key: {subscription key}`
`X-ClientTraceId: {GUID}`

<span data-ttu-id="fe445-150">The request specifies that spoken English will be streamed to the service and translated into Italian.</span><span class="sxs-lookup"><span data-stu-id="fe445-150">The request specifies that spoken English will be streamed to the service and translated into Italian.</span></span> <span data-ttu-id="fe445-151">Each final recognition result will generate a text-to-speech audio response with the female voice named Elsa.</span><span class="sxs-lookup"><span data-stu-id="fe445-151">Each final recognition result will generate a text-to-speech audio response with the female voice named Elsa.</span></span> <span data-ttu-id="fe445-152">Notice that the request includes credentials in the `Ocp-Apim-Subscription-Key header`.</span><span class="sxs-lookup"><span data-stu-id="fe445-152">Notice that the request includes credentials in the `Ocp-Apim-Subscription-Key header`.</span></span> <span data-ttu-id="fe445-153">The request also follows a best practice by setting a globally unique identifier in header `X-ClientTraceId`.</span><span class="sxs-lookup"><span data-stu-id="fe445-153">The request also follows a best practice by setting a globally unique identifier in header `X-ClientTraceId`.</span></span> <span data-ttu-id="fe445-154">A client application should log the trace ID so that it can be used to troubleshoot issues when they occur.</span><span class="sxs-lookup"><span data-stu-id="fe445-154">A client application should log the trace ID so that it can be used to troubleshoot issues when they occur.</span></span>

### <a name="sending-audio"></a><span data-ttu-id="fe445-155">Sending audio</span><span class="sxs-lookup"><span data-stu-id="fe445-155">Sending audio</span></span>
<span data-ttu-id="fe445-156">Once the connection is established, the client begins streaming audio to the service.</span><span class="sxs-lookup"><span data-stu-id="fe445-156">Once the connection is established, the client begins streaming audio to the service.</span></span> <span data-ttu-id="fe445-157">The client sends audio in chunks.</span><span class="sxs-lookup"><span data-stu-id="fe445-157">The client sends audio in chunks.</span></span> <span data-ttu-id="fe445-158">Each chunk is transmitted using a Websocket message of type Binary.</span><span class="sxs-lookup"><span data-stu-id="fe445-158">Each chunk is transmitted using a Websocket message of type Binary.</span></span>

<span data-ttu-id="fe445-159">Audio input is in the Waveform Audio File Format (WAVE, or more commonly known as WAV due to its filename extension).</span><span class="sxs-lookup"><span data-stu-id="fe445-159">Audio input is in the Waveform Audio File Format (WAVE, or more commonly known as WAV due to its filename extension).</span></span> <span data-ttu-id="fe445-160">The client application should stream single channel, signed 16bit PCM audio sampled at 16 kHz.</span><span class="sxs-lookup"><span data-stu-id="fe445-160">The client application should stream single channel, signed 16bit PCM audio sampled at 16 kHz.</span></span> <span data-ttu-id="fe445-161">The first set of bytes streamed by the client will include the WAV header.</span><span class="sxs-lookup"><span data-stu-id="fe445-161">The first set of bytes streamed by the client will include the WAV header.</span></span> <span data-ttu-id="fe445-162">A 44-byte header for a single channel signed 16 bit PCM stream sampled at 16 kHz is:</span><span class="sxs-lookup"><span data-stu-id="fe445-162">A 44-byte header for a single channel signed 16 bit PCM stream sampled at 16 kHz is:</span></span>

|<span data-ttu-id="fe445-163">Offset</span><span class="sxs-lookup"><span data-stu-id="fe445-163">Offset</span></span>|<span data-ttu-id="fe445-164">Value</span><span class="sxs-lookup"><span data-stu-id="fe445-164">Value</span></span>|
|:---|:---|
|<span data-ttu-id="fe445-165">0 - 3</span><span class="sxs-lookup"><span data-stu-id="fe445-165">0 - 3</span></span>|<span data-ttu-id="fe445-166">"RIFF"</span><span class="sxs-lookup"><span data-stu-id="fe445-166">"RIFF"</span></span>|
|<span data-ttu-id="fe445-167">4 - 7</span><span class="sxs-lookup"><span data-stu-id="fe445-167">4 - 7</span></span>|<span data-ttu-id="fe445-168">0</span><span class="sxs-lookup"><span data-stu-id="fe445-168">0</span></span>|
|<span data-ttu-id="fe445-169">8 - 11</span><span class="sxs-lookup"><span data-stu-id="fe445-169">8 - 11</span></span>|<span data-ttu-id="fe445-170">"WAVE"</span><span class="sxs-lookup"><span data-stu-id="fe445-170">"WAVE"</span></span>|
|<span data-ttu-id="fe445-171">12 - 15</span><span class="sxs-lookup"><span data-stu-id="fe445-171">12 - 15</span></span>|<span data-ttu-id="fe445-172">"fmt"</span><span class="sxs-lookup"><span data-stu-id="fe445-172">"fmt"</span></span>|
|<span data-ttu-id="fe445-173">16 - 19</span><span class="sxs-lookup"><span data-stu-id="fe445-173">16 - 19</span></span>|<span data-ttu-id="fe445-174">16</span><span class="sxs-lookup"><span data-stu-id="fe445-174">16</span></span>|
|<span data-ttu-id="fe445-175">20 - 21</span><span class="sxs-lookup"><span data-stu-id="fe445-175">20 - 21</span></span>|<span data-ttu-id="fe445-176">1</span><span class="sxs-lookup"><span data-stu-id="fe445-176">1</span></span>|
|<span data-ttu-id="fe445-177">22 - 23</span><span class="sxs-lookup"><span data-stu-id="fe445-177">22 - 23</span></span>|<span data-ttu-id="fe445-178">1</span><span class="sxs-lookup"><span data-stu-id="fe445-178">1</span></span>|
|<span data-ttu-id="fe445-179">24 - 27</span><span class="sxs-lookup"><span data-stu-id="fe445-179">24 - 27</span></span>|<span data-ttu-id="fe445-180">16000</span><span class="sxs-lookup"><span data-stu-id="fe445-180">16000</span></span>|
|<span data-ttu-id="fe445-181">28 - 31</span><span class="sxs-lookup"><span data-stu-id="fe445-181">28 - 31</span></span>|<span data-ttu-id="fe445-182">32000</span><span class="sxs-lookup"><span data-stu-id="fe445-182">32000</span></span>|
|<span data-ttu-id="fe445-183">32 - 33</span><span class="sxs-lookup"><span data-stu-id="fe445-183">32 - 33</span></span>|<span data-ttu-id="fe445-184">2</span><span class="sxs-lookup"><span data-stu-id="fe445-184">2</span></span>|
|<span data-ttu-id="fe445-185">34 - 35</span><span class="sxs-lookup"><span data-stu-id="fe445-185">34 - 35</span></span>|<span data-ttu-id="fe445-186">16</span><span class="sxs-lookup"><span data-stu-id="fe445-186">16</span></span>|
|<span data-ttu-id="fe445-187">36 - 39</span><span class="sxs-lookup"><span data-stu-id="fe445-187">36 - 39</span></span>|<span data-ttu-id="fe445-188">"data"</span><span class="sxs-lookup"><span data-stu-id="fe445-188">"data"</span></span>|
|<span data-ttu-id="fe445-189">40 - 43</span><span class="sxs-lookup"><span data-stu-id="fe445-189">40 - 43</span></span>|<span data-ttu-id="fe445-190">0</span><span class="sxs-lookup"><span data-stu-id="fe445-190">0</span></span>|

<span data-ttu-id="fe445-191">Notice that the total file size (bytes 4-7) and the size of the "data" (bytes 40-43) are set to zero.</span><span class="sxs-lookup"><span data-stu-id="fe445-191">Notice that the total file size (bytes 4-7) and the size of the "data" (bytes 40-43) are set to zero.</span></span> <span data-ttu-id="fe445-192">This is OK for the streaming scenario where the total size is not necessarily known upfront.</span><span class="sxs-lookup"><span data-stu-id="fe445-192">This is OK for the streaming scenario where the total size is not necessarily known upfront.</span></span>

<span data-ttu-id="fe445-193">After sending the WAV (RIFF) header, the client sends chunks of the audio data.</span><span class="sxs-lookup"><span data-stu-id="fe445-193">After sending the WAV (RIFF) header, the client sends chunks of the audio data.</span></span> <span data-ttu-id="fe445-194">The client will typically stream fixed size chunks representing a fixed duration (e.g. stream 100ms of audio at a time).</span><span class="sxs-lookup"><span data-stu-id="fe445-194">The client will typically stream fixed size chunks representing a fixed duration (e.g. stream 100ms of audio at a time).</span></span>

### <a name="final-result"></a><span data-ttu-id="fe445-195">Final result</span><span class="sxs-lookup"><span data-stu-id="fe445-195">Final result</span></span>
<span data-ttu-id="fe445-196">A final speech recognition result is generated at the end of an utterance.</span><span class="sxs-lookup"><span data-stu-id="fe445-196">A final speech recognition result is generated at the end of an utterance.</span></span> <span data-ttu-id="fe445-197">A result is transmitted from the service to the client using a WebSocket message of type Text.</span><span class="sxs-lookup"><span data-stu-id="fe445-197">A result is transmitted from the service to the client using a WebSocket message of type Text.</span></span> <span data-ttu-id="fe445-198">The message content is the JSON serialization of an object with the following properties:</span><span class="sxs-lookup"><span data-stu-id="fe445-198">The message content is the JSON serialization of an object with the following properties:</span></span>

* <span data-ttu-id="fe445-199">`type`: String constant to identify the type of result.</span><span class="sxs-lookup"><span data-stu-id="fe445-199">`type`: String constant to identify the type of result.</span></span> <span data-ttu-id="fe445-200">The value is final for final results.</span><span class="sxs-lookup"><span data-stu-id="fe445-200">The value is final for final results.</span></span>
* <span data-ttu-id="fe445-201">`id`: String identifier assigned to the recognition result.</span><span class="sxs-lookup"><span data-stu-id="fe445-201">`id`: String identifier assigned to the recognition result.</span></span>
* <span data-ttu-id="fe445-202">`recognition`: Recognized text in the source language.</span><span class="sxs-lookup"><span data-stu-id="fe445-202">`recognition`: Recognized text in the source language.</span></span> <span data-ttu-id="fe445-203">The text may be an empty string in the case of a false recognition.</span><span class="sxs-lookup"><span data-stu-id="fe445-203">The text may be an empty string in the case of a false recognition.</span></span>
* <span data-ttu-id="fe445-204">`translation`: Recognized text translated in the target language.</span><span class="sxs-lookup"><span data-stu-id="fe445-204">`translation`: Recognized text translated in the target language.</span></span>
* <span data-ttu-id="fe445-205">`audioTimeOffset`: Time offset of the start of the recognition in ticks (1 tick = 100 nanoseconds).</span><span class="sxs-lookup"><span data-stu-id="fe445-205">`audioTimeOffset`: Time offset of the start of the recognition in ticks (1 tick = 100 nanoseconds).</span></span> <span data-ttu-id="fe445-206">The offset is relative to the beginning of streaming.</span><span class="sxs-lookup"><span data-stu-id="fe445-206">The offset is relative to the beginning of streaming.</span></span>
* <span data-ttu-id="fe445-207">`audioTimeSize`: Duration in ticks (100 nanoseconds) of the recognition.</span><span class="sxs-lookup"><span data-stu-id="fe445-207">`audioTimeSize`: Duration in ticks (100 nanoseconds) of the recognition.</span></span>
* <span data-ttu-id="fe445-208">`audioStreamPosition`: Byte offset of the start of the recognition.</span><span class="sxs-lookup"><span data-stu-id="fe445-208">`audioStreamPosition`: Byte offset of the start of the recognition.</span></span> <span data-ttu-id="fe445-209">The offset is relative to the beginning of the stream.</span><span class="sxs-lookup"><span data-stu-id="fe445-209">The offset is relative to the beginning of the stream.</span></span>
* <span data-ttu-id="fe445-210">`audioSizeBytes`: Size in bytes of the recognition.</span><span class="sxs-lookup"><span data-stu-id="fe445-210">`audioSizeBytes`: Size in bytes of the recognition.</span></span>

<span data-ttu-id="fe445-211">Note that positioning of the recognition in the audio stream is not included in the results by default.</span><span class="sxs-lookup"><span data-stu-id="fe445-211">Note that positioning of the recognition in the audio stream is not included in the results by default.</span></span> <span data-ttu-id="fe445-212">The `TimingInfo` feature must be selected by the client (see `features` parameter).</span><span class="sxs-lookup"><span data-stu-id="fe445-212">The `TimingInfo` feature must be selected by the client (see `features` parameter).</span></span>

<span data-ttu-id="fe445-213">A sample final result is as follows:</span><span class="sxs-lookup"><span data-stu-id="fe445-213">A sample final result is as follows:</span></span>

```
{
  type: "final"
  id: "23",
  recognition: "what was said", 
  translation: "translation of what was said",
  audioStreamPosition: 319680,
  audioSizeBytes: 35840,
  audioTimeOffset: 2731600000,
  audioTimeSize: 21900000
}
```

### <a name="partial-result"></a><span data-ttu-id="fe445-214">Partial result</span><span class="sxs-lookup"><span data-stu-id="fe445-214">Partial result</span></span>
<span data-ttu-id="fe445-215">Partial or intermediate speech recognition results are not streamed to the client by default.</span><span class="sxs-lookup"><span data-stu-id="fe445-215">Partial or intermediate speech recognition results are not streamed to the client by default.</span></span> <span data-ttu-id="fe445-216">The client can use the features query parameter to request them.</span><span class="sxs-lookup"><span data-stu-id="fe445-216">The client can use the features query parameter to request them.</span></span>

<span data-ttu-id="fe445-217">A partial result is transmitted from the service to the client using a WebSocket message of type Text.</span><span class="sxs-lookup"><span data-stu-id="fe445-217">A partial result is transmitted from the service to the client using a WebSocket message of type Text.</span></span> <span data-ttu-id="fe445-218">The message content is the JSON serialization of an object with the following properties:</span><span class="sxs-lookup"><span data-stu-id="fe445-218">The message content is the JSON serialization of an object with the following properties:</span></span>

* <span data-ttu-id="fe445-219">`type`: String constant to identify the type of result.</span><span class="sxs-lookup"><span data-stu-id="fe445-219">`type`: String constant to identify the type of result.</span></span> <span data-ttu-id="fe445-220">The value is partial for partial results.</span><span class="sxs-lookup"><span data-stu-id="fe445-220">The value is partial for partial results.</span></span>
* <span data-ttu-id="fe445-221">`id`: String identifier assigned to the recognition result.</span><span class="sxs-lookup"><span data-stu-id="fe445-221">`id`: String identifier assigned to the recognition result.</span></span>
* <span data-ttu-id="fe445-222">`recognition`: Recognized text in the source language.</span><span class="sxs-lookup"><span data-stu-id="fe445-222">`recognition`: Recognized text in the source language.</span></span>
* <span data-ttu-id="fe445-223">`translation`: Recognized text translated in the target language.</span><span class="sxs-lookup"><span data-stu-id="fe445-223">`translation`: Recognized text translated in the target language.</span></span>
* <span data-ttu-id="fe445-224">`audioTimeOffset`: Time offset of the start of the recognition in ticks (1 tick = 100 nanoseconds).</span><span class="sxs-lookup"><span data-stu-id="fe445-224">`audioTimeOffset`: Time offset of the start of the recognition in ticks (1 tick = 100 nanoseconds).</span></span> <span data-ttu-id="fe445-225">The offset is relative to the beginning of streaming.</span><span class="sxs-lookup"><span data-stu-id="fe445-225">The offset is relative to the beginning of streaming.</span></span>
* <span data-ttu-id="fe445-226">`audioTimeSize`: Duration in ticks (100 nanoseconds) of the recognition.</span><span class="sxs-lookup"><span data-stu-id="fe445-226">`audioTimeSize`: Duration in ticks (100 nanoseconds) of the recognition.</span></span>
* <span data-ttu-id="fe445-227">`audioStreamPosition`: Byte offset of the start of the recognition.</span><span class="sxs-lookup"><span data-stu-id="fe445-227">`audioStreamPosition`: Byte offset of the start of the recognition.</span></span> <span data-ttu-id="fe445-228">The offset is relative to the beginning of the stream.</span><span class="sxs-lookup"><span data-stu-id="fe445-228">The offset is relative to the beginning of the stream.</span></span>
* <span data-ttu-id="fe445-229">`audioSizeBytes`: Size in bytes of the recognition.</span><span class="sxs-lookup"><span data-stu-id="fe445-229">`audioSizeBytes`: Size in bytes of the recognition.</span></span>

<span data-ttu-id="fe445-230">Note that positioning of the recognition in the audio stream is not included in the results by default.</span><span class="sxs-lookup"><span data-stu-id="fe445-230">Note that positioning of the recognition in the audio stream is not included in the results by default.</span></span> <span data-ttu-id="fe445-231">The TimingInfo feature must be selected by the client (see features parameter).</span><span class="sxs-lookup"><span data-stu-id="fe445-231">The TimingInfo feature must be selected by the client (see features parameter).</span></span>

<span data-ttu-id="fe445-232">A sample final result is as follows:</span><span class="sxs-lookup"><span data-stu-id="fe445-232">A sample final result is as follows:</span></span>

```
{
  type: "partial"
  id: "23.2",
  recognition: "what was", 
  translation: "translation of what was",
  audioStreamPosition: 319680,
  audioSizeBytes: 25840,
  audioTimeOffset: 2731600000,
  audioTimeSize: 11900000
}
```

### <a name="text-to-speech"></a><span data-ttu-id="fe445-233">Text-to-speech</span><span class="sxs-lookup"><span data-stu-id="fe445-233">Text-to-speech</span></span>
<span data-ttu-id="fe445-234">When the text-to-speech feature is enabled (see `features` parameter below), a final result is followed by the audio of the spoken translated text.</span><span class="sxs-lookup"><span data-stu-id="fe445-234">When the text-to-speech feature is enabled (see `features` parameter below), a final result is followed by the audio of the spoken translated text.</span></span> <span data-ttu-id="fe445-235">Audio data is chunked and sent from the service to the client as a sequence of Websocket messages of type Binary.</span><span class="sxs-lookup"><span data-stu-id="fe445-235">Audio data is chunked and sent from the service to the client as a sequence of Websocket messages of type Binary.</span></span> <span data-ttu-id="fe445-236">A client can detect the end of the stream by checking the FIN bit of each message.</span><span class="sxs-lookup"><span data-stu-id="fe445-236">A client can detect the end of the stream by checking the FIN bit of each message.</span></span> <span data-ttu-id="fe445-237">The last Binary message will have its FIN bit set to one to indicate the end of the stream.</span><span class="sxs-lookup"><span data-stu-id="fe445-237">The last Binary message will have its FIN bit set to one to indicate the end of the stream.</span></span> <span data-ttu-id="fe445-238">The format of the stream depends on the value of the `format` parameter.</span><span class="sxs-lookup"><span data-stu-id="fe445-238">The format of the stream depends on the value of the `format` parameter.</span></span>

### <a name="closing-the-connection"></a><span data-ttu-id="fe445-239">Closing the connection</span><span class="sxs-lookup"><span data-stu-id="fe445-239">Closing the connection</span></span>
<span data-ttu-id="fe445-240">When a client application has finished streaming audio and has received the last final result, it should close the connection by initiating the WebSocket closing handshake.</span><span class="sxs-lookup"><span data-stu-id="fe445-240">When a client application has finished streaming audio and has received the last final result, it should close the connection by initiating the WebSocket closing handshake.</span></span> <span data-ttu-id="fe445-241">There are conditions that will cause the server to terminate the connection.</span><span class="sxs-lookup"><span data-stu-id="fe445-241">There are conditions that will cause the server to terminate the connection.</span></span> <span data-ttu-id="fe445-242">The following WebSocket Closed codes may be received by the client:</span><span class="sxs-lookup"><span data-stu-id="fe445-242">The following WebSocket Closed codes may be received by the client:</span></span>

* <span data-ttu-id="fe445-243">`1003 - Invalid Message Type`: The server is terminating the connection because it cannot accept the data type it received.</span><span class="sxs-lookup"><span data-stu-id="fe445-243">`1003 - Invalid Message Type`: The server is terminating the connection because it cannot accept the data type it received.</span></span> <span data-ttu-id="fe445-244">This commonly happens when incoming audio does not start with a proper header.</span><span class="sxs-lookup"><span data-stu-id="fe445-244">This commonly happens when incoming audio does not start with a proper header.</span></span>
* <span data-ttu-id="fe445-245">`1000 - Normal closure`: The connection has closed after the request was fulfilled.</span><span class="sxs-lookup"><span data-stu-id="fe445-245">`1000 - Normal closure`: The connection has closed after the request was fulfilled.</span></span> <span data-ttu-id="fe445-246">The server will close the connection: when no audio is received from the client for an extended period of time; when silence is streamed for an extended period of time; when a session reaches the maximum duration allowed (approximately 90 minutes).</span><span class="sxs-lookup"><span data-stu-id="fe445-246">The server will close the connection: when no audio is received from the client for an extended period of time; when silence is streamed for an extended period of time; when a session reaches the maximum duration allowed (approximately 90 minutes).</span></span>
* <span data-ttu-id="fe445-247">`1001 - Endpoint Unavailable`: Indicates that the server will become unavailable.</span><span class="sxs-lookup"><span data-stu-id="fe445-247">`1001 - Endpoint Unavailable`: Indicates that the server will become unavailable.</span></span> <span data-ttu-id="fe445-248">Client application may attempt to reconnect with a limit on the number of retries.</span><span class="sxs-lookup"><span data-stu-id="fe445-248">Client application may attempt to reconnect with a limit on the number of retries.</span></span>
* <span data-ttu-id="fe445-249">`1011 - Internal Server Error`: The connection will be closed by the server because of an error on the server.</span><span class="sxs-lookup"><span data-stu-id="fe445-249">`1011 - Internal Server Error`: The connection will be closed by the server because of an error on the server.</span></span>

### <a name="parameters"></a><span data-ttu-id="fe445-250">Parameters</span><span class="sxs-lookup"><span data-stu-id="fe445-250">Parameters</span></span>

|<span data-ttu-id="fe445-251">Parameter</span><span class="sxs-lookup"><span data-stu-id="fe445-251">Parameter</span></span>|<span data-ttu-id="fe445-252">Value</span><span class="sxs-lookup"><span data-stu-id="fe445-252">Value</span></span>|<span data-ttu-id="fe445-253">Description</span><span class="sxs-lookup"><span data-stu-id="fe445-253">Description</span></span>|<span data-ttu-id="fe445-254">Parameter Type</span><span class="sxs-lookup"><span data-stu-id="fe445-254">Parameter Type</span></span>|<span data-ttu-id="fe445-255">Data Type</span><span class="sxs-lookup"><span data-stu-id="fe445-255">Data Type</span></span>|
|:---|:---|:---|:---|:---|
|<span data-ttu-id="fe445-256">api-version</span><span class="sxs-lookup"><span data-stu-id="fe445-256">api-version</span></span>|<span data-ttu-id="fe445-257">1.0</span><span class="sxs-lookup"><span data-stu-id="fe445-257">1.0</span></span>|<span data-ttu-id="fe445-258">Version of the API requested by the client.</span><span class="sxs-lookup"><span data-stu-id="fe445-258">Version of the API requested by the client.</span></span> <span data-ttu-id="fe445-259">Allowed values are: `1.0`.</span><span class="sxs-lookup"><span data-stu-id="fe445-259">Allowed values are: `1.0`.</span></span>|<span data-ttu-id="fe445-260">query</span><span class="sxs-lookup"><span data-stu-id="fe445-260">query</span></span>   |<span data-ttu-id="fe445-261">string</span><span class="sxs-lookup"><span data-stu-id="fe445-261">string</span></span>|
|<span data-ttu-id="fe445-262">from</span><span class="sxs-lookup"><span data-stu-id="fe445-262">from</span></span>|<span data-ttu-id="fe445-263">(empty)</span><span class="sxs-lookup"><span data-stu-id="fe445-263">(empty)</span></span>   |<span data-ttu-id="fe445-264">Specifies the language of the incoming speech.</span><span class="sxs-lookup"><span data-stu-id="fe445-264">Specifies the language of the incoming speech.</span></span> <span data-ttu-id="fe445-265">The value is one of the language identifiers from the `speech` scope in the response from the Languages API.</span><span class="sxs-lookup"><span data-stu-id="fe445-265">The value is one of the language identifiers from the `speech` scope in the response from the Languages API.</span></span>|<span data-ttu-id="fe445-266">query</span><span class="sxs-lookup"><span data-stu-id="fe445-266">query</span></span>|<span data-ttu-id="fe445-267">string</span><span class="sxs-lookup"><span data-stu-id="fe445-267">string</span></span>|
|<span data-ttu-id="fe445-268">to</span><span class="sxs-lookup"><span data-stu-id="fe445-268">to</span></span>|<span data-ttu-id="fe445-269">(empty)</span><span class="sxs-lookup"><span data-stu-id="fe445-269">(empty)</span></span>|<span data-ttu-id="fe445-270">Specifies the language to translate the transcribed text into.</span><span class="sxs-lookup"><span data-stu-id="fe445-270">Specifies the language to translate the transcribed text into.</span></span> <span data-ttu-id="fe445-271">The value is one of the language identifiers from the `text` scope in the response from the Languages API.</span><span class="sxs-lookup"><span data-stu-id="fe445-271">The value is one of the language identifiers from the `text` scope in the response from the Languages API.</span></span>|<span data-ttu-id="fe445-272">query</span><span class="sxs-lookup"><span data-stu-id="fe445-272">query</span></span>|<span data-ttu-id="fe445-273">string</span><span class="sxs-lookup"><span data-stu-id="fe445-273">string</span></span>|
|<span data-ttu-id="fe445-274">features</span><span class="sxs-lookup"><span data-stu-id="fe445-274">features</span></span>|<span data-ttu-id="fe445-275">(empty)</span><span class="sxs-lookup"><span data-stu-id="fe445-275">(empty)</span></span>   |<span data-ttu-id="fe445-276">Comma-separated set of features selected by the client.</span><span class="sxs-lookup"><span data-stu-id="fe445-276">Comma-separated set of features selected by the client.</span></span> <span data-ttu-id="fe445-277">Available features include:</span><span class="sxs-lookup"><span data-stu-id="fe445-277">Available features include:</span></span><ul><li><span data-ttu-id="fe445-278">`TextToSpeech`: specifies that the service must return the translated audio of the final translated sentence.</span><span class="sxs-lookup"><span data-stu-id="fe445-278">`TextToSpeech`: specifies that the service must return the translated audio of the final translated sentence.</span></span></li><li><span data-ttu-id="fe445-279">`Partial`: specifies that the service must return intermediate recognition results while the audio is streaming to the service.</span><span class="sxs-lookup"><span data-stu-id="fe445-279">`Partial`: specifies that the service must return intermediate recognition results while the audio is streaming to the service.</span></span></li><li><span data-ttu-id="fe445-280">`TimingInfo`: specifies that the service must return timing information associated with each recognition.</span><span class="sxs-lookup"><span data-stu-id="fe445-280">`TimingInfo`: specifies that the service must return timing information associated with each recognition.</span></span></li></ul><span data-ttu-id="fe445-281">As an example, a client would specify  `features=partial,texttospeech` to receive partial results and text-to-speech, but no timing information.</span><span class="sxs-lookup"><span data-stu-id="fe445-281">As an example, a client would specify  `features=partial,texttospeech` to receive partial results and text-to-speech, but no timing information.</span></span> <span data-ttu-id="fe445-282">Note that final results are always streamed to the client.</span><span class="sxs-lookup"><span data-stu-id="fe445-282">Note that final results are always streamed to the client.</span></span>|<span data-ttu-id="fe445-283">query</span><span class="sxs-lookup"><span data-stu-id="fe445-283">query</span></span>|<span data-ttu-id="fe445-284">string</span><span class="sxs-lookup"><span data-stu-id="fe445-284">string</span></span>|
|<span data-ttu-id="fe445-285">voice</span><span class="sxs-lookup"><span data-stu-id="fe445-285">voice</span></span>|<span data-ttu-id="fe445-286">(empty)</span><span class="sxs-lookup"><span data-stu-id="fe445-286">(empty)</span></span>|<span data-ttu-id="fe445-287">Identifies what voice to use for text-to-speech rendering of the translated text.</span><span class="sxs-lookup"><span data-stu-id="fe445-287">Identifies what voice to use for text-to-speech rendering of the translated text.</span></span> <span data-ttu-id="fe445-288">The value is one of the voice identifiers from the tts scope in the response from the Languages API.</span><span class="sxs-lookup"><span data-stu-id="fe445-288">The value is one of the voice identifiers from the tts scope in the response from the Languages API.</span></span> <span data-ttu-id="fe445-289">If a voice is not specified the system will automatically choose one when the text-to-speech feature is enabled.</span><span class="sxs-lookup"><span data-stu-id="fe445-289">If a voice is not specified the system will automatically choose one when the text-to-speech feature is enabled.</span></span>|<span data-ttu-id="fe445-290">query</span><span class="sxs-lookup"><span data-stu-id="fe445-290">query</span></span>|<span data-ttu-id="fe445-291">string</span><span class="sxs-lookup"><span data-stu-id="fe445-291">string</span></span>|
|<span data-ttu-id="fe445-292">format</span><span class="sxs-lookup"><span data-stu-id="fe445-292">format</span></span>|<span data-ttu-id="fe445-293">(empty)</span><span class="sxs-lookup"><span data-stu-id="fe445-293">(empty)</span></span>|<span data-ttu-id="fe445-294">Specifies the format of the text-to-speech audio stream returned by the service.</span><span class="sxs-lookup"><span data-stu-id="fe445-294">Specifies the format of the text-to-speech audio stream returned by the service.</span></span> <span data-ttu-id="fe445-295">Available options are:</span><span class="sxs-lookup"><span data-stu-id="fe445-295">Available options are:</span></span><ul><li><span data-ttu-id="fe445-296">`audio/wav`: Waveform audio stream.</span><span class="sxs-lookup"><span data-stu-id="fe445-296">`audio/wav`: Waveform audio stream.</span></span> <span data-ttu-id="fe445-297">Client should use the WAV header to properly interpret the audio format.</span><span class="sxs-lookup"><span data-stu-id="fe445-297">Client should use the WAV header to properly interpret the audio format.</span></span> <span data-ttu-id="fe445-298">WAV audio for text-to-speech is 16 bit, single channel PCM with a sampling rate of 24kHz or 16kHz.</span><span class="sxs-lookup"><span data-stu-id="fe445-298">WAV audio for text-to-speech is 16 bit, single channel PCM with a sampling rate of 24kHz or 16kHz.</span></span></li><li><span data-ttu-id="fe445-299">`audio/mp3`: MP3 audio stream.</span><span class="sxs-lookup"><span data-stu-id="fe445-299">`audio/mp3`: MP3 audio stream.</span></span></li></ul><span data-ttu-id="fe445-300">Default is `audio/wav`.</span><span class="sxs-lookup"><span data-stu-id="fe445-300">Default is `audio/wav`.</span></span>|<span data-ttu-id="fe445-301">query</span><span class="sxs-lookup"><span data-stu-id="fe445-301">query</span></span>|<span data-ttu-id="fe445-302">string</span><span class="sxs-lookup"><span data-stu-id="fe445-302">string</span></span>|
|<span data-ttu-id="fe445-303">ProfanityAction</span><span class="sxs-lookup"><span data-stu-id="fe445-303">ProfanityAction</span></span>    |<span data-ttu-id="fe445-304">(empty)</span><span class="sxs-lookup"><span data-stu-id="fe445-304">(empty)</span></span>    |<span data-ttu-id="fe445-305">Specifies how the service should handle profanities recognized in the speech.</span><span class="sxs-lookup"><span data-stu-id="fe445-305">Specifies how the service should handle profanities recognized in the speech.</span></span> <span data-ttu-id="fe445-306">Valid actions are:</span><span class="sxs-lookup"><span data-stu-id="fe445-306">Valid actions are:</span></span><ul><li><span data-ttu-id="fe445-307">`NoAction`: Profanities are left as is.</span><span class="sxs-lookup"><span data-stu-id="fe445-307">`NoAction`: Profanities are left as is.</span></span></li><li><span data-ttu-id="fe445-308">`Marked`: Profanities are replaced with a marker.</span><span class="sxs-lookup"><span data-stu-id="fe445-308">`Marked`: Profanities are replaced with a marker.</span></span> <span data-ttu-id="fe445-309">See  `ProfanityMarker` parameter.</span><span class="sxs-lookup"><span data-stu-id="fe445-309">See  `ProfanityMarker` parameter.</span></span></li><li><span data-ttu-id="fe445-310">`Deleted`: Profanities are deleted.</span><span class="sxs-lookup"><span data-stu-id="fe445-310">`Deleted`: Profanities are deleted.</span></span> <span data-ttu-id="fe445-311">For example, if the word  `"jackass"` is treated as a profanity, the phrase  `"He is a jackass."` will become `"He is a .".`</span><span class="sxs-lookup"><span data-stu-id="fe445-311">For example, if the word  `"jackass"` is treated as a profanity, the phrase  `"He is a jackass."` will become `"He is a .".`</span></span></li></ul><span data-ttu-id="fe445-312">The default is Marked.</span><span class="sxs-lookup"><span data-stu-id="fe445-312">The default is Marked.</span></span>|<span data-ttu-id="fe445-313">query</span><span class="sxs-lookup"><span data-stu-id="fe445-313">query</span></span>|<span data-ttu-id="fe445-314">string</span><span class="sxs-lookup"><span data-stu-id="fe445-314">string</span></span>|
|<span data-ttu-id="fe445-315">ProfanityMarker</span><span class="sxs-lookup"><span data-stu-id="fe445-315">ProfanityMarker</span></span>|<span data-ttu-id="fe445-316">(empty)</span><span class="sxs-lookup"><span data-stu-id="fe445-316">(empty)</span></span>    |<span data-ttu-id="fe445-317">Specifies how detected profanities are handled when `ProfanityAction` is set to `Marked`.</span><span class="sxs-lookup"><span data-stu-id="fe445-317">Specifies how detected profanities are handled when `ProfanityAction` is set to `Marked`.</span></span> <span data-ttu-id="fe445-318">Valid options are:</span><span class="sxs-lookup"><span data-stu-id="fe445-318">Valid options are:</span></span><ul><li><span data-ttu-id="fe445-319">`Asterisk`: Profanities are replaced with the string `***`.</span><span class="sxs-lookup"><span data-stu-id="fe445-319">`Asterisk`: Profanities are replaced with the string `***`.</span></span> <span data-ttu-id="fe445-320">For example, if the word `"jackass"` is treated as a profanity, the phrase `"He is a jackass."` will become `"He is a ***.".`</span><span class="sxs-lookup"><span data-stu-id="fe445-320">For example, if the word `"jackass"` is treated as a profanity, the phrase `"He is a jackass."` will become `"He is a ***.".`</span></span></li><li><span data-ttu-id="fe445-321">`Tag`: Profanity are surrounded by a profanity XML tag.</span><span class="sxs-lookup"><span data-stu-id="fe445-321">`Tag`: Profanity are surrounded by a profanity XML tag.</span></span> <span data-ttu-id="fe445-322">For example, if the word `"jackass"` is treated as a profanity, the phrase `"He is a jackass."` will become  `"He is a <profanity>jackass</profanity>."`.</span><span class="sxs-lookup"><span data-stu-id="fe445-322">For example, if the word `"jackass"` is treated as a profanity, the phrase `"He is a jackass."` will become  `"He is a <profanity>jackass</profanity>."`.</span></span></li></ul><span data-ttu-id="fe445-323">The default is `Asterisk`.</span><span class="sxs-lookup"><span data-stu-id="fe445-323">The default is `Asterisk`.</span></span>|<span data-ttu-id="fe445-324">query</span><span class="sxs-lookup"><span data-stu-id="fe445-324">query</span></span>|<span data-ttu-id="fe445-325">string</span><span class="sxs-lookup"><span data-stu-id="fe445-325">string</span></span>|
|<span data-ttu-id="fe445-326">Authorization</span><span class="sxs-lookup"><span data-stu-id="fe445-326">Authorization</span></span>|<span data-ttu-id="fe445-327">(empty)</span><span class="sxs-lookup"><span data-stu-id="fe445-327">(empty)</span></span>  |<span data-ttu-id="fe445-328">Specifies the value of the client's bearer token.</span><span class="sxs-lookup"><span data-stu-id="fe445-328">Specifies the value of the client's bearer token.</span></span> <span data-ttu-id="fe445-329">Use the prefix `Bearer` followed by the value of the `access_token` value returned by the authentication token service.</span><span class="sxs-lookup"><span data-stu-id="fe445-329">Use the prefix `Bearer` followed by the value of the `access_token` value returned by the authentication token service.</span></span>|<span data-ttu-id="fe445-330">header</span><span class="sxs-lookup"><span data-stu-id="fe445-330">header</span></span>   |<span data-ttu-id="fe445-331">string</span><span class="sxs-lookup"><span data-stu-id="fe445-331">string</span></span>|
|<span data-ttu-id="fe445-332">Ocp-Apim-Subscription-Key</span><span class="sxs-lookup"><span data-stu-id="fe445-332">Ocp-Apim-Subscription-Key</span></span>|<span data-ttu-id="fe445-333">(empty)</span><span class="sxs-lookup"><span data-stu-id="fe445-333">(empty)</span></span>|<span data-ttu-id="fe445-334">Required if the `Authorization` header is not specified.</span><span class="sxs-lookup"><span data-stu-id="fe445-334">Required if the `Authorization` header is not specified.</span></span>|<span data-ttu-id="fe445-335">header</span><span class="sxs-lookup"><span data-stu-id="fe445-335">header</span></span>|<span data-ttu-id="fe445-336">string</span><span class="sxs-lookup"><span data-stu-id="fe445-336">string</span></span>|
|<span data-ttu-id="fe445-337">access_token</span><span class="sxs-lookup"><span data-stu-id="fe445-337">access_token</span></span>|<span data-ttu-id="fe445-338">(empty)</span><span class="sxs-lookup"><span data-stu-id="fe445-338">(empty)</span></span>   |<span data-ttu-id="fe445-339">Alternate way to pass a valid OAuth access token.</span><span class="sxs-lookup"><span data-stu-id="fe445-339">Alternate way to pass a valid OAuth access token.</span></span> <span data-ttu-id="fe445-340">The bearer token is usually provided with header `Authorization`.</span><span class="sxs-lookup"><span data-stu-id="fe445-340">The bearer token is usually provided with header `Authorization`.</span></span> <span data-ttu-id="fe445-341">Some websocket libraries do not allow client code to set headers.</span><span class="sxs-lookup"><span data-stu-id="fe445-341">Some websocket libraries do not allow client code to set headers.</span></span> <span data-ttu-id="fe445-342">In such case, the client can use the `access_token` query parameter to pass a valid token.</span><span class="sxs-lookup"><span data-stu-id="fe445-342">In such case, the client can use the `access_token` query parameter to pass a valid token.</span></span> <span data-ttu-id="fe445-343">When using an access token to authenticate, if `Authorization` header is not set, then `access_token` must be set.</span><span class="sxs-lookup"><span data-stu-id="fe445-343">When using an access token to authenticate, if `Authorization` header is not set, then `access_token` must be set.</span></span> <span data-ttu-id="fe445-344">If both header and query parameter are set, then the query parameter is ignored.</span><span class="sxs-lookup"><span data-stu-id="fe445-344">If both header and query parameter are set, then the query parameter is ignored.</span></span> <span data-ttu-id="fe445-345">Clients should only use one method to pass the token.</span><span class="sxs-lookup"><span data-stu-id="fe445-345">Clients should only use one method to pass the token.</span></span>|<span data-ttu-id="fe445-346">query</span><span class="sxs-lookup"><span data-stu-id="fe445-346">query</span></span>|<span data-ttu-id="fe445-347">string</span><span class="sxs-lookup"><span data-stu-id="fe445-347">string</span></span>|
|<span data-ttu-id="fe445-348">subscription-key</span><span class="sxs-lookup"><span data-stu-id="fe445-348">subscription-key</span></span>|<span data-ttu-id="fe445-349">(empty)</span><span class="sxs-lookup"><span data-stu-id="fe445-349">(empty)</span></span>   |<span data-ttu-id="fe445-350">Alternate way to pass subscription key.</span><span class="sxs-lookup"><span data-stu-id="fe445-350">Alternate way to pass subscription key.</span></span> <span data-ttu-id="fe445-351">Some websocket libraries do not allow client code to set headers.</span><span class="sxs-lookup"><span data-stu-id="fe445-351">Some websocket libraries do not allow client code to set headers.</span></span> <span data-ttu-id="fe445-352">In such case, the client can use the `subscription-key` query parameter to pass a valid subscription key.</span><span class="sxs-lookup"><span data-stu-id="fe445-352">In such case, the client can use the `subscription-key` query parameter to pass a valid subscription key.</span></span> <span data-ttu-id="fe445-353">When using a subscription key to authenticate, if `Ocp-Apim-Subscription-Key` header is not set, then  subscription-key must be set.</span><span class="sxs-lookup"><span data-stu-id="fe445-353">When using a subscription key to authenticate, if `Ocp-Apim-Subscription-Key` header is not set, then  subscription-key must be set.</span></span> <span data-ttu-id="fe445-354">If both header and query parameter are set, then the query parameter is ignored.</span><span class="sxs-lookup"><span data-stu-id="fe445-354">If both header and query parameter are set, then the query parameter is ignored.</span></span> <span data-ttu-id="fe445-355">Clients should only use one method to pass the `subscription key`.</span><span class="sxs-lookup"><span data-stu-id="fe445-355">Clients should only use one method to pass the `subscription key`.</span></span>|<span data-ttu-id="fe445-356">query</span><span class="sxs-lookup"><span data-stu-id="fe445-356">query</span></span>|<span data-ttu-id="fe445-357">string</span><span class="sxs-lookup"><span data-stu-id="fe445-357">string</span></span>|
|<span data-ttu-id="fe445-358">X-ClientTraceId</span><span class="sxs-lookup"><span data-stu-id="fe445-358">X-ClientTraceId</span></span>    |<span data-ttu-id="fe445-359">(empty)</span><span class="sxs-lookup"><span data-stu-id="fe445-359">(empty)</span></span>    |<span data-ttu-id="fe445-360">A client-generated GUID used to trace a request.</span><span class="sxs-lookup"><span data-stu-id="fe445-360">A client-generated GUID used to trace a request.</span></span> <span data-ttu-id="fe445-361">For proper troubleshooting of issues, clients should provide a new value with each request and log it.</span><span class="sxs-lookup"><span data-stu-id="fe445-361">For proper troubleshooting of issues, clients should provide a new value with each request and log it.</span></span><br/><span data-ttu-id="fe445-362">Instead of using a header, this value can be passed with query parameter `X-ClientTraceId`.</span><span class="sxs-lookup"><span data-stu-id="fe445-362">Instead of using a header, this value can be passed with query parameter `X-ClientTraceId`.</span></span> <span data-ttu-id="fe445-363">If both header and query parameter are set, then the query parameter is ignored.</span><span class="sxs-lookup"><span data-stu-id="fe445-363">If both header and query parameter are set, then the query parameter is ignored.</span></span>|<span data-ttu-id="fe445-364">header</span><span class="sxs-lookup"><span data-stu-id="fe445-364">header</span></span>|<span data-ttu-id="fe445-365">string</span><span class="sxs-lookup"><span data-stu-id="fe445-365">string</span></span>|
|<span data-ttu-id="fe445-366">X-CorrelationId</span><span class="sxs-lookup"><span data-stu-id="fe445-366">X-CorrelationId</span></span>|<span data-ttu-id="fe445-367">(empty)</span><span class="sxs-lookup"><span data-stu-id="fe445-367">(empty)</span></span>    |<span data-ttu-id="fe445-368">A client-generated identifier used to correlate multiple channels in a conversation.</span><span class="sxs-lookup"><span data-stu-id="fe445-368">A client-generated identifier used to correlate multiple channels in a conversation.</span></span> <span data-ttu-id="fe445-369">Multiple speech translation sessions can be created to enable conversations between users.</span><span class="sxs-lookup"><span data-stu-id="fe445-369">Multiple speech translation sessions can be created to enable conversations between users.</span></span> <span data-ttu-id="fe445-370">In such scenario, all speech translation sessions use the same correlation ID to tie the channels together.</span><span class="sxs-lookup"><span data-stu-id="fe445-370">In such scenario, all speech translation sessions use the same correlation ID to tie the channels together.</span></span> <span data-ttu-id="fe445-371">This facilitates tracing and diagnostics.</span><span class="sxs-lookup"><span data-stu-id="fe445-371">This facilitates tracing and diagnostics.</span></span> <span data-ttu-id="fe445-372">The identifier should conform to: `^[a-zA-Z0-9-_.]{1,64}$`</span><span class="sxs-lookup"><span data-stu-id="fe445-372">The identifier should conform to: `^[a-zA-Z0-9-_.]{1,64}$`</span></span><br/><span data-ttu-id="fe445-373">Instead of using a header, this value can be passed with query parameter `X-CorrelationId`.</span><span class="sxs-lookup"><span data-stu-id="fe445-373">Instead of using a header, this value can be passed with query parameter `X-CorrelationId`.</span></span> <span data-ttu-id="fe445-374">If both header and query parameter are set, then the query parameter is ignored.</span><span class="sxs-lookup"><span data-stu-id="fe445-374">If both header and query parameter are set, then the query parameter is ignored.</span></span>|<span data-ttu-id="fe445-375">header</span><span class="sxs-lookup"><span data-stu-id="fe445-375">header</span></span>|<span data-ttu-id="fe445-376">string</span><span class="sxs-lookup"><span data-stu-id="fe445-376">string</span></span>|
|<span data-ttu-id="fe445-377">X-ClientVersion</span><span class="sxs-lookup"><span data-stu-id="fe445-377">X-ClientVersion</span></span>|<span data-ttu-id="fe445-378">(empty)</span><span class="sxs-lookup"><span data-stu-id="fe445-378">(empty)</span></span>    |<span data-ttu-id="fe445-379">Identifies the version of the client application.</span><span class="sxs-lookup"><span data-stu-id="fe445-379">Identifies the version of the client application.</span></span> <span data-ttu-id="fe445-380">Example: "2.1.0.123".</span><span class="sxs-lookup"><span data-stu-id="fe445-380">Example: "2.1.0.123".</span></span><br/><span data-ttu-id="fe445-381">Instead of using a header, this value can be passed with query parameter `X-ClientVersion`.</span><span class="sxs-lookup"><span data-stu-id="fe445-381">Instead of using a header, this value can be passed with query parameter `X-ClientVersion`.</span></span> <span data-ttu-id="fe445-382">If both header and query parameter are set, then the query parameter is ignored.</span><span class="sxs-lookup"><span data-stu-id="fe445-382">If both header and query parameter are set, then the query parameter is ignored.</span></span>|<span data-ttu-id="fe445-383">header</span><span class="sxs-lookup"><span data-stu-id="fe445-383">header</span></span>|<span data-ttu-id="fe445-384">string</span><span class="sxs-lookup"><span data-stu-id="fe445-384">string</span></span>|
|<span data-ttu-id="fe445-385">X-OsPlatform</span><span class="sxs-lookup"><span data-stu-id="fe445-385">X-OsPlatform</span></span>|<span data-ttu-id="fe445-386">(empty)</span><span class="sxs-lookup"><span data-stu-id="fe445-386">(empty)</span></span>   |<span data-ttu-id="fe445-387">Identifies the name and version of the operating system the client application is running on.</span><span class="sxs-lookup"><span data-stu-id="fe445-387">Identifies the name and version of the operating system the client application is running on.</span></span> <span data-ttu-id="fe445-388">Examples: "Android 5.0", "iOs 8.1.3", "Windows 8.1".</span><span class="sxs-lookup"><span data-stu-id="fe445-388">Examples: "Android 5.0", "iOs 8.1.3", "Windows 8.1".</span></span><br/><span data-ttu-id="fe445-389">Instead of using a header, this value can be passed with query parameter `X-OsPlatform`.</span><span class="sxs-lookup"><span data-stu-id="fe445-389">Instead of using a header, this value can be passed with query parameter `X-OsPlatform`.</span></span> <span data-ttu-id="fe445-390">If both header and query parameter are set, then the query parameter is ignored.</span><span class="sxs-lookup"><span data-stu-id="fe445-390">If both header and query parameter are set, then the query parameter is ignored.</span></span>|<span data-ttu-id="fe445-391">header</span><span class="sxs-lookup"><span data-stu-id="fe445-391">header</span></span>|<span data-ttu-id="fe445-392">string</span><span class="sxs-lookup"><span data-stu-id="fe445-392">string</span></span>|

### <a name="response-messages"></a><span data-ttu-id="fe445-393">Response messages</span><span class="sxs-lookup"><span data-stu-id="fe445-393">Response messages</span></span>

|<span data-ttu-id="fe445-394">HTTP Status Code</span><span class="sxs-lookup"><span data-stu-id="fe445-394">HTTP Status Code</span></span>|<span data-ttu-id="fe445-395">Reason</span><span class="sxs-lookup"><span data-stu-id="fe445-395">Reason</span></span>|<span data-ttu-id="fe445-396">Response Model</span><span class="sxs-lookup"><span data-stu-id="fe445-396">Response Model</span></span>|<span data-ttu-id="fe445-397">Headers</span><span class="sxs-lookup"><span data-stu-id="fe445-397">Headers</span></span>|
|:--|:--|:--|:--|
|<span data-ttu-id="fe445-398">101</span><span class="sxs-lookup"><span data-stu-id="fe445-398">101</span></span>    |<span data-ttu-id="fe445-399">WebSocket upgrade.</span><span class="sxs-lookup"><span data-stu-id="fe445-399">WebSocket upgrade.</span></span>|<span data-ttu-id="fe445-400">Model Example Value</span><span class="sxs-lookup"><span data-stu-id="fe445-400">Model Example Value</span></span> <br/> <span data-ttu-id="fe445-401">Object {}</span><span class="sxs-lookup"><span data-stu-id="fe445-401">Object {}</span></span>|<span data-ttu-id="fe445-402">X-RequestId</span><span class="sxs-lookup"><span data-stu-id="fe445-402">X-RequestId</span></span><br/><span data-ttu-id="fe445-403">A value identifying the request for troubleshooting purposes.</span><span class="sxs-lookup"><span data-stu-id="fe445-403">A value identifying the request for troubleshooting purposes.</span></span><br/><span data-ttu-id="fe445-404">string</span><span class="sxs-lookup"><span data-stu-id="fe445-404">string</span></span>|
|<span data-ttu-id="fe445-405">400</span><span class="sxs-lookup"><span data-stu-id="fe445-405">400</span></span>    |<span data-ttu-id="fe445-406">Bad request.</span><span class="sxs-lookup"><span data-stu-id="fe445-406">Bad request.</span></span> <span data-ttu-id="fe445-407">Check input parameters to ensure they are valid.</span><span class="sxs-lookup"><span data-stu-id="fe445-407">Check input parameters to ensure they are valid.</span></span> <span data-ttu-id="fe445-408">The response object includes a more detailed description of the error.</span><span class="sxs-lookup"><span data-stu-id="fe445-408">The response object includes a more detailed description of the error.</span></span>|||
|<span data-ttu-id="fe445-409">401</span><span class="sxs-lookup"><span data-stu-id="fe445-409">401</span></span>    |<span data-ttu-id="fe445-410">Unauthorized.</span><span class="sxs-lookup"><span data-stu-id="fe445-410">Unauthorized.</span></span> <span data-ttu-id="fe445-411">Ensure that credentials are set, that they are valid and that your Azure Data Market subscription is in good standing with an available balance.</span><span class="sxs-lookup"><span data-stu-id="fe445-411">Ensure that credentials are set, that they are valid and that your Azure Data Market subscription is in good standing with an available balance.</span></span>|||
|<span data-ttu-id="fe445-412">500</span><span class="sxs-lookup"><span data-stu-id="fe445-412">500</span></span>    |<span data-ttu-id="fe445-413">An error occurred.</span><span class="sxs-lookup"><span data-stu-id="fe445-413">An error occurred.</span></span> <span data-ttu-id="fe445-414">If the error persists, please report it with client trace identifier (X-ClientTraceId) or request identifier (X-RequestId).</span><span class="sxs-lookup"><span data-stu-id="fe445-414">If the error persists, please report it with client trace identifier (X-ClientTraceId) or request identifier (X-RequestId).</span></span>|||
|<span data-ttu-id="fe445-415">503</span><span class="sxs-lookup"><span data-stu-id="fe445-415">503</span></span>    |<span data-ttu-id="fe445-416">Server temporarily unavailable.</span><span class="sxs-lookup"><span data-stu-id="fe445-416">Server temporarily unavailable.</span></span> <span data-ttu-id="fe445-417">Please retry the request.</span><span class="sxs-lookup"><span data-stu-id="fe445-417">Please retry the request.</span></span> <span data-ttu-id="fe445-418">If the error persists, please report it with client trace identifier (X-ClientTraceId) or request identifier (X-RequestId).</span><span class="sxs-lookup"><span data-stu-id="fe445-418">If the error persists, please report it with client trace identifier (X-ClientTraceId) or request identifier (X-RequestId).</span></span>|||

    


    





    
    




    




    




    

            




        









