---
title: How to teach with Conversation Learner - Microsoft Cognitive Services | Microsoft Docs
titleSuffix: Azure
description: Learn how to teach with Conversation Learner.
services: cognitive-services
author: v-jaswel
manager: nolachar
ms.service: cognitive-services
ms.component: conversation-learner
ms.topic: article
ms.date: 04/30/2018
ms.author: v-jaswel
ms.openlocfilehash: 41fe350fd712f6c521a9020af9a540e554abe94b
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44871421"
---
# <a name="how-to-teach-with-conversation-learner"></a><span data-ttu-id="8bec7-103">How to teach with Conversation Learner</span><span class="sxs-lookup"><span data-stu-id="8bec7-103">How to teach with Conversation Learner</span></span> 

<span data-ttu-id="8bec7-104">This document explains what signals Conversation Learner is aware of, and describes how it learns.</span><span class="sxs-lookup"><span data-stu-id="8bec7-104">This document explains what signals Conversation Learner is aware of, and describes how it learns.</span></span>  

<span data-ttu-id="8bec7-105">Teaching can be decomposed into two distinct steps: entity extraction, and action selection.</span><span class="sxs-lookup"><span data-stu-id="8bec7-105">Teaching can be decomposed into two distinct steps: entity extraction, and action selection.</span></span>

## <a name="entity-extraction"></a><span data-ttu-id="8bec7-106">Entity extraction</span><span class="sxs-lookup"><span data-stu-id="8bec7-106">Entity extraction</span></span>

<span data-ttu-id="8bec7-107">Under the covers, Conversation Learner uses [LUIS](https://www.luis.ai) for entity extraction.</span><span class="sxs-lookup"><span data-stu-id="8bec7-107">Under the covers, Conversation Learner uses [LUIS](https://www.luis.ai) for entity extraction.</span></span>  <span data-ttu-id="8bec7-108">If you are familiar with LUIS, that experience applies to entity extraction in Conversation Learner.</span><span class="sxs-lookup"><span data-stu-id="8bec7-108">If you are familiar with LUIS, that experience applies to entity extraction in Conversation Learner.</span></span>

<span data-ttu-id="8bec7-109">The entity extraction models are aware of the *content* and *context* within a user utterance.</span><span class="sxs-lookup"><span data-stu-id="8bec7-109">The entity extraction models are aware of the *content* and *context* within a user utterance.</span></span>  <span data-ttu-id="8bec7-110">For example, if the word "Seattle" has been labeled as a city in one utterance such as "What's the weather in Seattle", entity extraction is capable of recognizing that same content ("Seattle") as a city in another utterance such as "Population of Seattle", even if the utterances are very different.</span><span class="sxs-lookup"><span data-stu-id="8bec7-110">For example, if the word "Seattle" has been labeled as a city in one utterance such as "What's the weather in Seattle", entity extraction is capable of recognizing that same content ("Seattle") as a city in another utterance such as "Population of Seattle", even if the utterances are very different.</span></span>  <span data-ttu-id="8bec7-111">Conversely, if "Francis" has been recognized as a name in "Schedule a meeting with Francis", then a new previously unseen name can be recognized in a similar context, like "Set up a meeting with Robin".</span><span class="sxs-lookup"><span data-stu-id="8bec7-111">Conversely, if "Francis" has been recognized as a name in "Schedule a meeting with Francis", then a new previously unseen name can be recognized in a similar context, like "Set up a meeting with Robin".</span></span>  <span data-ttu-id="8bec7-112">Machine learning infers when to attend to content, context, or both, based on training examples.</span><span class="sxs-lookup"><span data-stu-id="8bec7-112">Machine learning infers when to attend to content, context, or both, based on training examples.</span></span>

<span data-ttu-id="8bec7-113">At present, entity extraction is only aware of the content of the current utterance.</span><span class="sxs-lookup"><span data-stu-id="8bec7-113">At present, entity extraction is only aware of the content of the current utterance.</span></span>  <span data-ttu-id="8bec7-114">Unlike action selection (below), it is not aware of dialog history such as previous system turns, previous user turns, or previously recognized entities.</span><span class="sxs-lookup"><span data-stu-id="8bec7-114">Unlike action selection (below), it is not aware of dialog history such as previous system turns, previous user turns, or previously recognized entities.</span></span>  <span data-ttu-id="8bec7-115">As a result, the behavior of entity extraction is "shared" across all utterances.</span><span class="sxs-lookup"><span data-stu-id="8bec7-115">As a result, the behavior of entity extraction is "shared" across all utterances.</span></span>  <span data-ttu-id="8bec7-116">For example, if the user utterance "I want Apple" has "Apple" labeled as entity type "Fruit" in one user utterance, the entity extraction model will expect that this utterance ("I want Apple") should always have "Apple" labeled as "Fruit".</span><span class="sxs-lookup"><span data-stu-id="8bec7-116">For example, if the user utterance "I want Apple" has "Apple" labeled as entity type "Fruit" in one user utterance, the entity extraction model will expect that this utterance ("I want Apple") should always have "Apple" labeled as "Fruit".</span></span>

<span data-ttu-id="8bec7-117">If entity extraction is not behaving as expected, here are possible remedies:</span><span class="sxs-lookup"><span data-stu-id="8bec7-117">If entity extraction is not behaving as expected, here are possible remedies:</span></span>

- <span data-ttu-id="8bec7-118">The first thing to try is to add more training examples -- particularly examples that reveal typical entity context (surrounding words), or exceptions</span><span class="sxs-lookup"><span data-stu-id="8bec7-118">The first thing to try is to add more training examples -- particularly examples that reveal typical entity context (surrounding words), or exceptions</span></span>
- <span data-ttu-id="8bec7-119">Consider adding an "Expected Entity" property to an action, if appropriate.</span><span class="sxs-lookup"><span data-stu-id="8bec7-119">Consider adding an "Expected Entity" property to an action, if appropriate.</span></span>  <span data-ttu-id="8bec7-120">See tutorial on Expected Entities for further details.</span><span class="sxs-lookup"><span data-stu-id="8bec7-120">See tutorial on Expected Entities for further details.</span></span>
- <span data-ttu-id="8bec7-121">While it is possible to add manual processing to `EntityExtractionCallback` to extract entities using code, this is the least recommended approach because it will not benefit from improvements in machine learning as your system matures.</span><span class="sxs-lookup"><span data-stu-id="8bec7-121">While it is possible to add manual processing to `EntityExtractionCallback` to extract entities using code, this is the least recommended approach because it will not benefit from improvements in machine learning as your system matures.</span></span>

## <a name="action-selection"></a><span data-ttu-id="8bec7-122">Action selection</span><span class="sxs-lookup"><span data-stu-id="8bec7-122">Action selection</span></span>

<span data-ttu-id="8bec7-123">Action selection uses a recurrent neural network, which takes as input all of the conversation history.</span><span class="sxs-lookup"><span data-stu-id="8bec7-123">Action selection uses a recurrent neural network, which takes as input all of the conversation history.</span></span>  <span data-ttu-id="8bec7-124">Thus, action selection is a stateful process that is aware of previous user utterances, entity values, and system utterances.</span><span class="sxs-lookup"><span data-stu-id="8bec7-124">Thus, action selection is a stateful process that is aware of previous user utterances, entity values, and system utterances.</span></span>  

<span data-ttu-id="8bec7-125">Some signals are naturally preferred by the learning process.</span><span class="sxs-lookup"><span data-stu-id="8bec7-125">Some signals are naturally preferred by the learning process.</span></span>  <span data-ttu-id="8bec7-126">In other words, if Conversation Learner can explain an action selection decision using "more preferred" signals, it will; if it cannot, then it will use "less preferred" signals.</span><span class="sxs-lookup"><span data-stu-id="8bec7-126">In other words, if Conversation Learner can explain an action selection decision using "more preferred" signals, it will; if it cannot, then it will use "less preferred" signals.</span></span>

<span data-ttu-id="8bec7-127">Here is a table showing all signals in Conversation Learner, and which ones are used by action selection.</span><span class="sxs-lookup"><span data-stu-id="8bec7-127">Here is a table showing all signals in Conversation Learner, and which ones are used by action selection.</span></span>  <span data-ttu-id="8bec7-128">Note that word order in user utterances is ignored.</span><span class="sxs-lookup"><span data-stu-id="8bec7-128">Note that word order in user utterances is ignored.</span></span>

<span data-ttu-id="8bec7-129">Signal</span><span class="sxs-lookup"><span data-stu-id="8bec7-129">Signal</span></span> | <span data-ttu-id="8bec7-130">Preference (1=most preferred)</span><span class="sxs-lookup"><span data-stu-id="8bec7-130">Preference (1=most preferred)</span></span> | <span data-ttu-id="8bec7-131">Notes</span><span class="sxs-lookup"><span data-stu-id="8bec7-131">Notes</span></span>
--- | --- | --- 
<span data-ttu-id="8bec7-132">System action in previous turn</span><span class="sxs-lookup"><span data-stu-id="8bec7-132">System action in previous turn</span></span> | <span data-ttu-id="8bec7-133">1</span><span class="sxs-lookup"><span data-stu-id="8bec7-133">1</span></span> | 
<span data-ttu-id="8bec7-134">Entities present in current turn</span><span class="sxs-lookup"><span data-stu-id="8bec7-134">Entities present in current turn</span></span> | <span data-ttu-id="8bec7-135">1</span><span class="sxs-lookup"><span data-stu-id="8bec7-135">1</span></span> | 
<span data-ttu-id="8bec7-136">Whether this is the first turn</span><span class="sxs-lookup"><span data-stu-id="8bec7-136">Whether this is the first turn</span></span> | <span data-ttu-id="8bec7-137">1</span><span class="sxs-lookup"><span data-stu-id="8bec7-137">1</span></span> |
<span data-ttu-id="8bec7-138">Exact match of words in current user utterance</span><span class="sxs-lookup"><span data-stu-id="8bec7-138">Exact match of words in current user utterance</span></span> | <span data-ttu-id="8bec7-139">2</span><span class="sxs-lookup"><span data-stu-id="8bec7-139">2</span></span> | 
<span data-ttu-id="8bec7-140">Similar-meaning words in current user utterance</span><span class="sxs-lookup"><span data-stu-id="8bec7-140">Similar-meaning words in current user utterance</span></span> | <span data-ttu-id="8bec7-141">3</span><span class="sxs-lookup"><span data-stu-id="8bec7-141">3</span></span> | 
<span data-ttu-id="8bec7-142">System actions prior to previous turn</span><span class="sxs-lookup"><span data-stu-id="8bec7-142">System actions prior to previous turn</span></span> | <span data-ttu-id="8bec7-143">4</span><span class="sxs-lookup"><span data-stu-id="8bec7-143">4</span></span> |
<span data-ttu-id="8bec7-144">Entities present in turns prior to current turn</span><span class="sxs-lookup"><span data-stu-id="8bec7-144">Entities present in turns prior to current turn</span></span> | <span data-ttu-id="8bec7-145">4</span><span class="sxs-lookup"><span data-stu-id="8bec7-145">4</span></span> | 
<span data-ttu-id="8bec7-146">User utterances prior to current turn</span><span class="sxs-lookup"><span data-stu-id="8bec7-146">User utterances prior to current turn</span></span> | <span data-ttu-id="8bec7-147">5</span><span class="sxs-lookup"><span data-stu-id="8bec7-147">5</span></span> | 

> [!NOTE]
> <span data-ttu-id="8bec7-148">Action selection does not take the content of system actions -- the text, card content, or API name or behavior -- only the identity of the system action.</span><span class="sxs-lookup"><span data-stu-id="8bec7-148">Action selection does not take the content of system actions -- the text, card content, or API name or behavior -- only the identity of the system action.</span></span>  <span data-ttu-id="8bec7-149">As a result, changing the content of an action will not alter the behavior of the action selection model.</span><span class="sxs-lookup"><span data-stu-id="8bec7-149">As a result, changing the content of an action will not alter the behavior of the action selection model.</span></span>
>
> <span data-ttu-id="8bec7-150">Further, that the contents/values of entities are not used -- only their presence/absence.</span><span class="sxs-lookup"><span data-stu-id="8bec7-150">Further, that the contents/values of entities are not used -- only their presence/absence.</span></span>

<span data-ttu-id="8bec7-151">If action selection is not behaving as expected, here are possible remedies:</span><span class="sxs-lookup"><span data-stu-id="8bec7-151">If action selection is not behaving as expected, here are possible remedies:</span></span>

- <span data-ttu-id="8bec7-152">Add more train dialogs, particularly dialogs that illustrate which signals action selection should be paying attention to.</span><span class="sxs-lookup"><span data-stu-id="8bec7-152">Add more train dialogs, particularly dialogs that illustrate which signals action selection should be paying attention to.</span></span>  <span data-ttu-id="8bec7-153">For example, if action selection should prefer one signal over another, give examples that show the preferred signal being in the same state, and the other signals varying.</span><span class="sxs-lookup"><span data-stu-id="8bec7-153">For example, if action selection should prefer one signal over another, give examples that show the preferred signal being in the same state, and the other signals varying.</span></span>  <span data-ttu-id="8bec7-154">Some sequences may take a handful of training dialogs to learn.</span><span class="sxs-lookup"><span data-stu-id="8bec7-154">Some sequences may take a handful of training dialogs to learn.</span></span>
- <span data-ttu-id="8bec7-155">Add "Required" and "Disqualifying" entities to action definitions.</span><span class="sxs-lookup"><span data-stu-id="8bec7-155">Add "Required" and "Disqualifying" entities to action definitions.</span></span>  <span data-ttu-id="8bec7-156">This limits when actions are available, and can be useful to express business rules and some common sense patterns.</span><span class="sxs-lookup"><span data-stu-id="8bec7-156">This limits when actions are available, and can be useful to express business rules and some common sense patterns.</span></span> 

## <a name="updates-to-models"></a><span data-ttu-id="8bec7-157">Updates to models</span><span class="sxs-lookup"><span data-stu-id="8bec7-157">Updates to models</span></span>

<span data-ttu-id="8bec7-158">Any time you add or edit an entity, action, or train dialog in the UI, this generates a request to re-train both the entity extraction model and the action selection model.</span><span class="sxs-lookup"><span data-stu-id="8bec7-158">Any time you add or edit an entity, action, or train dialog in the UI, this generates a request to re-train both the entity extraction model and the action selection model.</span></span>  <span data-ttu-id="8bec7-159">This request is placed on a queue, and re-training is done asynchronously.</span><span class="sxs-lookup"><span data-stu-id="8bec7-159">This request is placed on a queue, and re-training is done asynchronously.</span></span>  <span data-ttu-id="8bec7-160">When a new model is available, it is used from that point onwards for entity extraction and action selection.</span><span class="sxs-lookup"><span data-stu-id="8bec7-160">When a new model is available, it is used from that point onwards for entity extraction and action selection.</span></span>  <span data-ttu-id="8bec7-161">This re-training process often takes around 5 seconds, but can be longer if the model is complex, or if load on the training service is high.</span><span class="sxs-lookup"><span data-stu-id="8bec7-161">This re-training process often takes around 5 seconds, but can be longer if the model is complex, or if load on the training service is high.</span></span>

<span data-ttu-id="8bec7-162">Because training is done asynchronously, it is possible that edits you've made aren't immediately reflected.</span><span class="sxs-lookup"><span data-stu-id="8bec7-162">Because training is done asynchronously, it is possible that edits you've made aren't immediately reflected.</span></span>  <span data-ttu-id="8bec7-163">If entity extraction or action selection is not behaving as expected based on changes you've made in the last 5-10 seconds, this may be the cause.</span><span class="sxs-lookup"><span data-stu-id="8bec7-163">If entity extraction or action selection is not behaving as expected based on changes you've made in the last 5-10 seconds, this may be the cause.</span></span>

## <a name="next-steps"></a><span data-ttu-id="8bec7-164">Next steps</span><span class="sxs-lookup"><span data-stu-id="8bec7-164">Next steps</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="8bec7-165">Default values and boundaries</span><span class="sxs-lookup"><span data-stu-id="8bec7-165">Default values and boundaries</span></span>](./cl-values-and-boundaries.md)
