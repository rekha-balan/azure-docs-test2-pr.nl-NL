---
title: Prepare to publish or deploy an Azure application from Visual Studio | Microsoft Docs
description: Learn the procedures to set up cloud and storage account services and configure your Azure application.
services: visual-studio-online
documentationcenter: na
author: TomArcher
manager: douge
editor: ''
ms.assetid: 92ee2f9e-ec49-4c7a-900d-620abe5e9d8a
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 11/11/2016
ms.author: tarcher
ms.openlocfilehash: 87b04245bf2ac78f55f5a3589d5aea7762ec646a
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44563238"
---
# <a name="prepare-to-publish-or-deploy-an-azure-application-from-visual-studio"></a><span data-ttu-id="97d8d-103">Prepare to Publish or Deploy an Azure Application from Visual Studio</span><span class="sxs-lookup"><span data-stu-id="97d8d-103">Prepare to Publish or Deploy an Azure Application from Visual Studio</span></span>
## <a name="overview"></a><span data-ttu-id="97d8d-104">Overview</span><span class="sxs-lookup"><span data-stu-id="97d8d-104">Overview</span></span>
<span data-ttu-id="97d8d-105">Before you can publish a cloud service project, you must set up the following services:</span><span class="sxs-lookup"><span data-stu-id="97d8d-105">Before you can publish a cloud service project, you must set up the following services:</span></span>

* <span data-ttu-id="97d8d-106">A **cloud service** to run your roles in the Azure environment</span><span class="sxs-lookup"><span data-stu-id="97d8d-106">A **cloud service** to run your roles in the Azure environment</span></span>
* <span data-ttu-id="97d8d-107">A **storage account** that provides access to the Blob, Queue, and Table services.</span><span class="sxs-lookup"><span data-stu-id="97d8d-107">A **storage account** that provides access to the Blob, Queue, and Table services.</span></span>

<span data-ttu-id="97d8d-108">Use the following procedures to set up these services and configure your application</span><span class="sxs-lookup"><span data-stu-id="97d8d-108">Use the following procedures to set up these services and configure your application</span></span>

## <a name="create-a-cloud-service"></a><span data-ttu-id="97d8d-109">Create a cloud service</span><span class="sxs-lookup"><span data-stu-id="97d8d-109">Create a cloud service</span></span>
<span data-ttu-id="97d8d-110">To publish a cloud service to Azure, you must first create a cloud service, which runs your roles in the Azure environment.</span><span class="sxs-lookup"><span data-stu-id="97d8d-110">To publish a cloud service to Azure, you must first create a cloud service, which runs your roles in the Azure environment.</span></span> <span data-ttu-id="97d8d-111">You can create a cloud service in the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885), as described in the section **To create a cloud service by using the Azure classic portal**, later in this topic.</span><span class="sxs-lookup"><span data-stu-id="97d8d-111">You can create a cloud service in the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885), as described in the section **To create a cloud service by using the Azure classic portal**, later in this topic.</span></span> <span data-ttu-id="97d8d-112">You can also create a cloud service in Visual Studio by using the publishing wizard.</span><span class="sxs-lookup"><span data-stu-id="97d8d-112">You can also create a cloud service in Visual Studio by using the publishing wizard.</span></span>

### <a name="to-create-a-cloud-service-by-using-visual-studio"></a><span data-ttu-id="97d8d-113">To create a cloud service by using Visual Studio</span><span class="sxs-lookup"><span data-stu-id="97d8d-113">To create a cloud service by using Visual Studio</span></span>
1. <span data-ttu-id="97d8d-114">Open the shortcut menu for the Azure project, and choose **Publish**.</span><span class="sxs-lookup"><span data-stu-id="97d8d-114">Open the shortcut menu for the Azure project, and choose **Publish**.</span></span>

    ![VST_PublishMenu](https://docstestmedia1.blob.core.windows.net/azure-media/articles/media/vs-azure-tools-cloud-service-publish-set-up-required-services-in-visual-studio/vst-publish-menu.png)
2. <span data-ttu-id="97d8d-116">If you haven't signed in, sign in with your username and password for the Microsoft account or organizational account that's associated with your Azure subscription.</span><span class="sxs-lookup"><span data-stu-id="97d8d-116">If you haven't signed in, sign in with your username and password for the Microsoft account or organizational account that's associated with your Azure subscription.</span></span>
3. <span data-ttu-id="97d8d-117">Choose the **Next** button to advance to the **Settings** page.</span><span class="sxs-lookup"><span data-stu-id="97d8d-117">Choose the **Next** button to advance to the **Settings** page.</span></span>

    ![Publishing Wizard Common Settings](https://docstestmedia1.blob.core.windows.net/azure-media/articles/media/vs-azure-tools-cloud-service-publish-set-up-required-services-in-visual-studio/publish-settings-page.png)
4. <span data-ttu-id="97d8d-119">In the **Cloud Services** list, choose **Create New**.</span><span class="sxs-lookup"><span data-stu-id="97d8d-119">In the **Cloud Services** list, choose **Create New**.</span></span> <span data-ttu-id="97d8d-120">The **Create Azure Services** dialog appears.</span><span class="sxs-lookup"><span data-stu-id="97d8d-120">The **Create Azure Services** dialog appears.</span></span>
5. <span data-ttu-id="97d8d-121">Enter the name of your cloud service.</span><span class="sxs-lookup"><span data-stu-id="97d8d-121">Enter the name of your cloud service.</span></span> <span data-ttu-id="97d8d-122">The name forms part of the URL for your service and therefore must be globally unique.</span><span class="sxs-lookup"><span data-stu-id="97d8d-122">The name forms part of the URL for your service and therefore must be globally unique.</span></span> <span data-ttu-id="97d8d-123">The name is not case-sensitive.</span><span class="sxs-lookup"><span data-stu-id="97d8d-123">The name is not case-sensitive.</span></span>

### <a name="to-create-a-cloud-service-by-using-the-azure-classic-portal"></a><span data-ttu-id="97d8d-124">To create a cloud service by using the Azure classic portal</span><span class="sxs-lookup"><span data-stu-id="97d8d-124">To create a cloud service by using the Azure classic portal</span></span>
1. <span data-ttu-id="97d8d-125">Sign in to the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkId=253103) on the Microsoft website.</span><span class="sxs-lookup"><span data-stu-id="97d8d-125">Sign in to the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkId=253103) on the Microsoft website.</span></span>
2. <span data-ttu-id="97d8d-126">(optional) To display a list of cloud services that you've already created, choose the Cloud Services link on the left side of the page.</span><span class="sxs-lookup"><span data-stu-id="97d8d-126">(optional) To display a list of cloud services that you've already created, choose the Cloud Services link on the left side of the page.</span></span>
3. <span data-ttu-id="97d8d-127">Choose the **+** icon in the lower-left corner, and then choose **Cloud Service** on the menu that appears.</span><span class="sxs-lookup"><span data-stu-id="97d8d-127">Choose the **+** icon in the lower-left corner, and then choose **Cloud Service** on the menu that appears.</span></span> <span data-ttu-id="97d8d-128">Another screen with two options, **Quick Create** and **Custom Create**, appears.</span><span class="sxs-lookup"><span data-stu-id="97d8d-128">Another screen with two options, **Quick Create** and **Custom Create**, appears.</span></span> <span data-ttu-id="97d8d-129">If you choose **Quick Create**, you can create a cloud service just by specifying its URL and the region where it will be physically hosted.</span><span class="sxs-lookup"><span data-stu-id="97d8d-129">If you choose **Quick Create**, you can create a cloud service just by specifying its URL and the region where it will be physically hosted.</span></span> <span data-ttu-id="97d8d-130">If you choose **Custom Create**, you can immediately publish a cloud service by specifying a package (.cspkg file), a configuration (.cscfg) file, and a certificate.</span><span class="sxs-lookup"><span data-stu-id="97d8d-130">If you choose **Custom Create**, you can immediately publish a cloud service by specifying a package (.cspkg file), a configuration (.cscfg) file, and a certificate.</span></span> <span data-ttu-id="97d8d-131">Custom Create isn’t required if you intend to publish your cloud service by using the **Publish** command in an Azure project.</span><span class="sxs-lookup"><span data-stu-id="97d8d-131">Custom Create isn’t required if you intend to publish your cloud service by using the **Publish** command in an Azure project.</span></span> <span data-ttu-id="97d8d-132">The **Publish** command is available on the shortcut menu for an Azure project.</span><span class="sxs-lookup"><span data-stu-id="97d8d-132">The **Publish** command is available on the shortcut menu for an Azure project.</span></span>
4. <span data-ttu-id="97d8d-133">Choose **Quick Create** to later publish your cloud service by using Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="97d8d-133">Choose **Quick Create** to later publish your cloud service by using Visual Studio.</span></span>
5. <span data-ttu-id="97d8d-134">Specify a name for your cloud service.</span><span class="sxs-lookup"><span data-stu-id="97d8d-134">Specify a name for your cloud service.</span></span> <span data-ttu-id="97d8d-135">The complete URL appears next to the name.</span><span class="sxs-lookup"><span data-stu-id="97d8d-135">The complete URL appears next to the name.</span></span>
6. <span data-ttu-id="97d8d-136">In the list, choose the region where most of your users are located.</span><span class="sxs-lookup"><span data-stu-id="97d8d-136">In the list, choose the region where most of your users are located.</span></span>
7. <span data-ttu-id="97d8d-137">At the bottom of the window, choose the **Create Cloud Service** link.</span><span class="sxs-lookup"><span data-stu-id="97d8d-137">At the bottom of the window, choose the **Create Cloud Service** link.</span></span>

## <a name="create-a-storage-account"></a><span data-ttu-id="97d8d-138">Create a storage account</span><span class="sxs-lookup"><span data-stu-id="97d8d-138">Create a storage account</span></span>
<span data-ttu-id="97d8d-139">A storage account provides access to the Blob, Queue, and Table services.</span><span class="sxs-lookup"><span data-stu-id="97d8d-139">A storage account provides access to the Blob, Queue, and Table services.</span></span> <span data-ttu-id="97d8d-140">You can create a storage account by using Visual Studio or the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkId=253103).</span><span class="sxs-lookup"><span data-stu-id="97d8d-140">You can create a storage account by using Visual Studio or the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkId=253103).</span></span>

### <a name="to-create-a-storage-account-by-using-visual-studio"></a><span data-ttu-id="97d8d-141">To create a storage account by using Visual Studio</span><span class="sxs-lookup"><span data-stu-id="97d8d-141">To create a storage account by using Visual Studio</span></span>
1. <span data-ttu-id="97d8d-142">In **Solution Explorer**, open the shortcut menu for the **Storage** node, and then choose **Create Storage Account**.</span><span class="sxs-lookup"><span data-stu-id="97d8d-142">In **Solution Explorer**, open the shortcut menu for the **Storage** node, and then choose **Create Storage Account**.</span></span>

    ![Create a new Azure storage account](https://docstestmedia1.blob.core.windows.net/azure-media/articles/media/vs-azure-tools-cloud-service-publish-set-up-required-services-in-visual-studio/IC744166.png)
2. <span data-ttu-id="97d8d-144">Select or enter the following information for the new storage account in the **Create Storage Account** dialog box.</span><span class="sxs-lookup"><span data-stu-id="97d8d-144">Select or enter the following information for the new storage account in the **Create Storage Account** dialog box.</span></span>

   * <span data-ttu-id="97d8d-145">The Azure subscription to which you want to add the storage account.</span><span class="sxs-lookup"><span data-stu-id="97d8d-145">The Azure subscription to which you want to add the storage account.</span></span>
   * <span data-ttu-id="97d8d-146">The name you want to use for the new storage account.</span><span class="sxs-lookup"><span data-stu-id="97d8d-146">The name you want to use for the new storage account.</span></span>
   * <span data-ttu-id="97d8d-147">The region or affinity group (such as West US or East Asia).</span><span class="sxs-lookup"><span data-stu-id="97d8d-147">The region or affinity group (such as West US or East Asia).</span></span>
   * <span data-ttu-id="97d8d-148">The type of replication you want to use for the storage account, such as Geo-Redundant.</span><span class="sxs-lookup"><span data-stu-id="97d8d-148">The type of replication you want to use for the storage account, such as Geo-Redundant.</span></span>
3. <span data-ttu-id="97d8d-149">When you’re done, choose **Create**.The new storage account appears in the **Storage** list in **Server Explorer**.</span><span class="sxs-lookup"><span data-stu-id="97d8d-149">When you’re done, choose **Create**.The new storage account appears in the **Storage** list in **Server Explorer**.</span></span>

### <a name="to-create-a-storage-account-by-using-the-azure-classic-portal"></a><span data-ttu-id="97d8d-150">To create a storage account by using the Azure classic portal</span><span class="sxs-lookup"><span data-stu-id="97d8d-150">To create a storage account by using the Azure classic portal</span></span>
1. <span data-ttu-id="97d8d-151">Sign in to the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkId=253103) on the Microsoft website.</span><span class="sxs-lookup"><span data-stu-id="97d8d-151">Sign in to the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkId=253103) on the Microsoft website.</span></span>
2. <span data-ttu-id="97d8d-152">(Optional) To view your storage accounts, choose the **Storage** link in the panel on the left side of the page.</span><span class="sxs-lookup"><span data-stu-id="97d8d-152">(Optional) To view your storage accounts, choose the **Storage** link in the panel on the left side of the page.</span></span>
3. <span data-ttu-id="97d8d-153">In the lower-left corner of the page, choose the **+** icon.</span><span class="sxs-lookup"><span data-stu-id="97d8d-153">In the lower-left corner of the page, choose the **+** icon.</span></span>
4. <span data-ttu-id="97d8d-154">In the menu that appears, choose **Storage**, and then choose **Quick Create**.</span><span class="sxs-lookup"><span data-stu-id="97d8d-154">In the menu that appears, choose **Storage**, and then choose **Quick Create**.</span></span>
5. <span data-ttu-id="97d8d-155">Give the storage account a name that will result in a unique url.</span><span class="sxs-lookup"><span data-stu-id="97d8d-155">Give the storage account a name that will result in a unique url.</span></span>
6. <span data-ttu-id="97d8d-156">Give your cloud service a name.</span><span class="sxs-lookup"><span data-stu-id="97d8d-156">Give your cloud service a name.</span></span> <span data-ttu-id="97d8d-157">The complete URL appears next to the name.</span><span class="sxs-lookup"><span data-stu-id="97d8d-157">The complete URL appears next to the name.</span></span>
7. <span data-ttu-id="97d8d-158">In the list of regions, choose a region where most of your users are located.</span><span class="sxs-lookup"><span data-stu-id="97d8d-158">In the list of regions, choose a region where most of your users are located.</span></span>
8. <span data-ttu-id="97d8d-159">Specify whether you want to enable geo-replication.</span><span class="sxs-lookup"><span data-stu-id="97d8d-159">Specify whether you want to enable geo-replication.</span></span> <span data-ttu-id="97d8d-160">If you enable geo-replication, your data will be saved in multiple physical locations to reduce the chance of loss.</span><span class="sxs-lookup"><span data-stu-id="97d8d-160">If you enable geo-replication, your data will be saved in multiple physical locations to reduce the chance of loss.</span></span> <span data-ttu-id="97d8d-161">This feature makes storage more expensive, but you can reduce the cost by enabling geo-location when you create the storage account instead of adding the feature later.</span><span class="sxs-lookup"><span data-stu-id="97d8d-161">This feature makes storage more expensive, but you can reduce the cost by enabling geo-location when you create the storage account instead of adding the feature later.</span></span> <span data-ttu-id="97d8d-162">For more information, see [Geo-replication](http://go.microsoft.com/fwlink/?LinkId=253108).</span><span class="sxs-lookup"><span data-stu-id="97d8d-162">For more information, see [Geo-replication](http://go.microsoft.com/fwlink/?LinkId=253108).</span></span>
9. <span data-ttu-id="97d8d-163">At the bottom of the window, choose the **Create Storage Account** link.</span><span class="sxs-lookup"><span data-stu-id="97d8d-163">At the bottom of the window, choose the **Create Storage Account** link.</span></span>

<span data-ttu-id="97d8d-164">After you create your storage account, you will see the URLs that you can use to access resources in each of the Azure storage services, and also the primary and secondary access keys for your account.</span><span class="sxs-lookup"><span data-stu-id="97d8d-164">After you create your storage account, you will see the URLs that you can use to access resources in each of the Azure storage services, and also the primary and secondary access keys for your account.</span></span> <span data-ttu-id="97d8d-165">You use these keys to authenticate requests made against the storage services.</span><span class="sxs-lookup"><span data-stu-id="97d8d-165">You use these keys to authenticate requests made against the storage services.</span></span>

> [!NOTE]
> <span data-ttu-id="97d8d-166">The secondary access key provides the same access to your storage account as the primary access key and is generated as a backup should your primary access key be compromised.</span><span class="sxs-lookup"><span data-stu-id="97d8d-166">The secondary access key provides the same access to your storage account as the primary access key and is generated as a backup should your primary access key be compromised.</span></span> <span data-ttu-id="97d8d-167">Additionally, it is recommended that you regenerate your access keys on a regular basis.</span><span class="sxs-lookup"><span data-stu-id="97d8d-167">Additionally, it is recommended that you regenerate your access keys on a regular basis.</span></span> <span data-ttu-id="97d8d-168">You can modify a connection string setting to use the secondary key while you regenerate the primary key, then you can modify it to use the regenerated primary key while you regenerate the secondary key.</span><span class="sxs-lookup"><span data-stu-id="97d8d-168">You can modify a connection string setting to use the secondary key while you regenerate the primary key, then you can modify it to use the regenerated primary key while you regenerate the secondary key.</span></span>
>
>

## <a name="configure-your-app-to-use-services-provided-by-the-storage-account"></a><span data-ttu-id="97d8d-169">Configure your app to use services provided by the storage account</span><span class="sxs-lookup"><span data-stu-id="97d8d-169">Configure your app to use services provided by the storage account</span></span>
<span data-ttu-id="97d8d-170">You must configure any role that accesses storage services to use the Azure storage services that you have created.</span><span class="sxs-lookup"><span data-stu-id="97d8d-170">You must configure any role that accesses storage services to use the Azure storage services that you have created.</span></span> <span data-ttu-id="97d8d-171">To do this, you can use multiple service configurations for your Azure project.</span><span class="sxs-lookup"><span data-stu-id="97d8d-171">To do this, you can use multiple service configurations for your Azure project.</span></span> <span data-ttu-id="97d8d-172">By default, two are created in your Azure project.</span><span class="sxs-lookup"><span data-stu-id="97d8d-172">By default, two are created in your Azure project.</span></span> <span data-ttu-id="97d8d-173">By using multiple service configurations, you can use the same connection string in your code, but have a different value for a connection string in each service configuration.</span><span class="sxs-lookup"><span data-stu-id="97d8d-173">By using multiple service configurations, you can use the same connection string in your code, but have a different value for a connection string in each service configuration.</span></span> <span data-ttu-id="97d8d-174">For example, you can use one service configuration to run and debug your application locally using the Azure storage emulator and a different service configuration to publish your application to Azure.</span><span class="sxs-lookup"><span data-stu-id="97d8d-174">For example, you can use one service configuration to run and debug your application locally using the Azure storage emulator and a different service configuration to publish your application to Azure.</span></span> <span data-ttu-id="97d8d-175">For more information about service configurations, see [Configuring Your Azure Project Using Multiple Service Configurations](vs-azure-tools-multiple-services-project-configurations.md).</span><span class="sxs-lookup"><span data-stu-id="97d8d-175">For more information about service configurations, see [Configuring Your Azure Project Using Multiple Service Configurations](vs-azure-tools-multiple-services-project-configurations.md).</span></span>

### <a name="to-configure-your-application-to-use-services-that-the-storage-account-provides"></a><span data-ttu-id="97d8d-176">To configure your application to use services that the storage account provides</span><span class="sxs-lookup"><span data-stu-id="97d8d-176">To configure your application to use services that the storage account provides</span></span>
1. <span data-ttu-id="97d8d-177">In Visual Studio open your Azure solution.</span><span class="sxs-lookup"><span data-stu-id="97d8d-177">In Visual Studio open your Azure solution.</span></span> <span data-ttu-id="97d8d-178">In Solution Explorer, open the shortcut menu for each role in your Azure project that accesses the storage services and choose **Properties**.</span><span class="sxs-lookup"><span data-stu-id="97d8d-178">In Solution Explorer, open the shortcut menu for each role in your Azure project that accesses the storage services and choose **Properties**.</span></span> <span data-ttu-id="97d8d-179">A page with the name of the role is displayed in the Visual Studio editor.</span><span class="sxs-lookup"><span data-stu-id="97d8d-179">A page with the name of the role is displayed in the Visual Studio editor.</span></span> <span data-ttu-id="97d8d-180">The page displays the fields for the **Configuration** tab.</span><span class="sxs-lookup"><span data-stu-id="97d8d-180">The page displays the fields for the **Configuration** tab.</span></span>
2. <span data-ttu-id="97d8d-181">In the property pages for the role, choose **Settings**.</span><span class="sxs-lookup"><span data-stu-id="97d8d-181">In the property pages for the role, choose **Settings**.</span></span>
3. <span data-ttu-id="97d8d-182">In the **Service Configuration** list, choose the name of the service configuration that you want to edit.</span><span class="sxs-lookup"><span data-stu-id="97d8d-182">In the **Service Configuration** list, choose the name of the service configuration that you want to edit.</span></span> <span data-ttu-id="97d8d-183">If you want to make changes to all of the service configurations for this role, you can choose **All Configurations**.</span><span class="sxs-lookup"><span data-stu-id="97d8d-183">If you want to make changes to all of the service configurations for this role, you can choose **All Configurations**.</span></span>  <span data-ttu-id="97d8d-184">For more information about how to update service configurations, see the section **Manage Connection Strings for Storage Accounts** in the topic [Configure the Roles for an Azure Cloud Service with Visual Studio](vs-azure-tools-configure-roles-for-cloud-service.md).</span><span class="sxs-lookup"><span data-stu-id="97d8d-184">For more information about how to update service configurations, see the section **Manage Connection Strings for Storage Accounts** in the topic [Configure the Roles for an Azure Cloud Service with Visual Studio](vs-azure-tools-configure-roles-for-cloud-service.md).</span></span>
4. <span data-ttu-id="97d8d-185">To modify any connection string settings, choose the **…**</span><span class="sxs-lookup"><span data-stu-id="97d8d-185">To modify any connection string settings, choose the **…**</span></span> <span data-ttu-id="97d8d-186">button next to the setting.</span><span class="sxs-lookup"><span data-stu-id="97d8d-186">button next to the setting.</span></span> <span data-ttu-id="97d8d-187">The **Create Storage Connection String** dialog box appears.</span><span class="sxs-lookup"><span data-stu-id="97d8d-187">The **Create Storage Connection String** dialog box appears.</span></span>
5. <span data-ttu-id="97d8d-188">Under **Connect using**, choose the **Your subscription** option.</span><span class="sxs-lookup"><span data-stu-id="97d8d-188">Under **Connect using**, choose the **Your subscription** option.</span></span>
6. <span data-ttu-id="97d8d-189">In the **Subscription** list, choose your subscription.</span><span class="sxs-lookup"><span data-stu-id="97d8d-189">In the **Subscription** list, choose your subscription.</span></span> <span data-ttu-id="97d8d-190">If the list of subscriptions doesn't include the one that you want, choose the **Download Publish Settings** link.</span><span class="sxs-lookup"><span data-stu-id="97d8d-190">If the list of subscriptions doesn't include the one that you want, choose the **Download Publish Settings** link.</span></span>
7. <span data-ttu-id="97d8d-191">In the **Account name** list, choose your storage account name.</span><span class="sxs-lookup"><span data-stu-id="97d8d-191">In the **Account name** list, choose your storage account name.</span></span> <span data-ttu-id="97d8d-192">Azure Tools obtains storage account credentials automatically by using the .publishsettings file.</span><span class="sxs-lookup"><span data-stu-id="97d8d-192">Azure Tools obtains storage account credentials automatically by using the .publishsettings file.</span></span> <span data-ttu-id="97d8d-193">To specify your storage account credentials manually, choose the **Manually entered credentials** option, and then continue with this procedure.</span><span class="sxs-lookup"><span data-stu-id="97d8d-193">To specify your storage account credentials manually, choose the **Manually entered credentials** option, and then continue with this procedure.</span></span> <span data-ttu-id="97d8d-194">You can get your storage account name and primary key from the [Azure classic portal](http://go.microsoft.com/fwlink/p/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="97d8d-194">You can get your storage account name and primary key from the [Azure classic portal](http://go.microsoft.com/fwlink/p/?LinkID=213885).</span></span> <span data-ttu-id="97d8d-195">If you don’t want to specify your storage account settings manually, choose the **OK** button to close the dialog box.</span><span class="sxs-lookup"><span data-stu-id="97d8d-195">If you don’t want to specify your storage account settings manually, choose the **OK** button to close the dialog box.</span></span>
8. <span data-ttu-id="97d8d-196">Choose the **Enter storage account** credentials link.</span><span class="sxs-lookup"><span data-stu-id="97d8d-196">Choose the **Enter storage account** credentials link.</span></span>
9. <span data-ttu-id="97d8d-197">In the **Account name** box, enter the name of your storage account.</span><span class="sxs-lookup"><span data-stu-id="97d8d-197">In the **Account name** box, enter the name of your storage account.</span></span>

   > [!NOTE]
   > <span data-ttu-id="97d8d-198">Log into the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885), and then choose the **Storage** button.</span><span class="sxs-lookup"><span data-stu-id="97d8d-198">Log into the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885), and then choose the **Storage** button.</span></span> <span data-ttu-id="97d8d-199">The portal shows a list of storage accounts.</span><span class="sxs-lookup"><span data-stu-id="97d8d-199">The portal shows a list of storage accounts.</span></span> <span data-ttu-id="97d8d-200">If you choose an account, a page for it opens.</span><span class="sxs-lookup"><span data-stu-id="97d8d-200">If you choose an account, a page for it opens.</span></span> <span data-ttu-id="97d8d-201">You can copy the name of the storage account from this page.</span><span class="sxs-lookup"><span data-stu-id="97d8d-201">You can copy the name of the storage account from this page.</span></span> <span data-ttu-id="97d8d-202">If you are using a previous version of the classic portal, the name of your storage account appears in the **Storage Accounts** view.</span><span class="sxs-lookup"><span data-stu-id="97d8d-202">If you are using a previous version of the classic portal, the name of your storage account appears in the **Storage Accounts** view.</span></span> <span data-ttu-id="97d8d-203">To copy this name, highlight it in the **Properties** window of this view, and then choose the Ctrl-C keys.</span><span class="sxs-lookup"><span data-stu-id="97d8d-203">To copy this name, highlight it in the **Properties** window of this view, and then choose the Ctrl-C keys.</span></span> <span data-ttu-id="97d8d-204">To paste the name into Visual Studio, choose the **Account name** text box, and then choose the Ctrl+V keys.</span><span class="sxs-lookup"><span data-stu-id="97d8d-204">To paste the name into Visual Studio, choose the **Account name** text box, and then choose the Ctrl+V keys.</span></span>
   >
   >
10. <span data-ttu-id="97d8d-205">In the **Account key** box, enter your primary key, or copy and paste it from the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="97d8d-205">In the **Account key** box, enter your primary key, or copy and paste it from the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
     <span data-ttu-id="97d8d-206">To copy this key:</span><span class="sxs-lookup"><span data-stu-id="97d8d-206">To copy this key:</span></span>

    1. <span data-ttu-id="97d8d-207">At the bottom of the page for the appropriate storage account, choose the **Manage Keys** button.</span><span class="sxs-lookup"><span data-stu-id="97d8d-207">At the bottom of the page for the appropriate storage account, choose the **Manage Keys** button.</span></span>
    2. <span data-ttu-id="97d8d-208">On the **Manage Keys Access** page, select the text of the primary access key, and then choose the Ctrl+C keys.</span><span class="sxs-lookup"><span data-stu-id="97d8d-208">On the **Manage Keys Access** page, select the text of the primary access key, and then choose the Ctrl+C keys.</span></span>
    3. <span data-ttu-id="97d8d-209">In Azure Tools, paste the key into the **Account key** box.</span><span class="sxs-lookup"><span data-stu-id="97d8d-209">In Azure Tools, paste the key into the **Account key** box.</span></span>
    4. <span data-ttu-id="97d8d-210">You must select one of the following options to determine how the service will access the storage account:</span><span class="sxs-lookup"><span data-stu-id="97d8d-210">You must select one of the following options to determine how the service will access the storage account:</span></span>

       * <span data-ttu-id="97d8d-211">**Use HTTP**.</span><span class="sxs-lookup"><span data-stu-id="97d8d-211">**Use HTTP**.</span></span> <span data-ttu-id="97d8d-212">This is the standard option.</span><span class="sxs-lookup"><span data-stu-id="97d8d-212">This is the standard option.</span></span> <span data-ttu-id="97d8d-213">For example, `http://<account name>.blob.core.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="97d8d-213">For example, `http://<account name>.blob.core.windows.net`.</span></span>
       * <span data-ttu-id="97d8d-214">**Use HTTPS** for a secure connection.</span><span class="sxs-lookup"><span data-stu-id="97d8d-214">**Use HTTPS** for a secure connection.</span></span> <span data-ttu-id="97d8d-215">For example, `https://<accountname>.blob.core.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="97d8d-215">For example, `https://<accountname>.blob.core.windows.net`.</span></span>
       * <span data-ttu-id="97d8d-216">**Specify custom endpoints** for each of the three services.</span><span class="sxs-lookup"><span data-stu-id="97d8d-216">**Specify custom endpoints** for each of the three services.</span></span> <span data-ttu-id="97d8d-217">You can then type these endpoints into the field for the specific service.</span><span class="sxs-lookup"><span data-stu-id="97d8d-217">You can then type these endpoints into the field for the specific service.</span></span>

         > [!NOTE]
         > <span data-ttu-id="97d8d-218">If you create custom endpoints, you can create a more complex connection string.</span><span class="sxs-lookup"><span data-stu-id="97d8d-218">If you create custom endpoints, you can create a more complex connection string.</span></span> <span data-ttu-id="97d8d-219">When you use this string format, you can specify storage service endpoints that include a custom domain name that you have registered for your storage account with the Blob service.</span><span class="sxs-lookup"><span data-stu-id="97d8d-219">When you use this string format, you can specify storage service endpoints that include a custom domain name that you have registered for your storage account with the Blob service.</span></span> <span data-ttu-id="97d8d-220">Also you can grant access only to blob resources in a single container through a shared access signature.</span><span class="sxs-lookup"><span data-stu-id="97d8d-220">Also you can grant access only to blob resources in a single container through a shared access signature.</span></span> <span data-ttu-id="97d8d-221">For more information about how to create custom endpoints, see [Configure Azure Storage Connection Strings](storage/storage-configure-connection-string.md).</span><span class="sxs-lookup"><span data-stu-id="97d8d-221">For more information about how to create custom endpoints, see [Configure Azure Storage Connection Strings](storage/storage-configure-connection-string.md).</span></span>
         >
         >
11. <span data-ttu-id="97d8d-222">To save these connection string changes, choose the **OK** button and then choose the **Save** button on the toolbar.</span><span class="sxs-lookup"><span data-stu-id="97d8d-222">To save these connection string changes, choose the **OK** button and then choose the **Save** button on the toolbar.</span></span> <span data-ttu-id="97d8d-223">After you save these changes, you can get the value of this connection string in your code by using [GetConfigurationSettingValue](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.serviceruntime.roleenvironment.getconfigurationsettingvalue.aspx).</span><span class="sxs-lookup"><span data-stu-id="97d8d-223">After you save these changes, you can get the value of this connection string in your code by using [GetConfigurationSettingValue](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.serviceruntime.roleenvironment.getconfigurationsettingvalue.aspx).</span></span> <span data-ttu-id="97d8d-224">When you publish your application to Azure, choose the service configuration that contains the Azure storage account for the connection string.</span><span class="sxs-lookup"><span data-stu-id="97d8d-224">When you publish your application to Azure, choose the service configuration that contains the Azure storage account for the connection string.</span></span> <span data-ttu-id="97d8d-225">After your application is published, verify that the application works as expected against the Azure storage services</span><span class="sxs-lookup"><span data-stu-id="97d8d-225">After your application is published, verify that the application works as expected against the Azure storage services</span></span>

## <a name="next-steps"></a><span data-ttu-id="97d8d-226">Next steps</span><span class="sxs-lookup"><span data-stu-id="97d8d-226">Next steps</span></span>
<span data-ttu-id="97d8d-227">To learn more about publishing apps to Azure from Visual Studio, see [Publishing a Cloud Service using the Azure Tools](vs-azure-tools-publishing-a-cloud-service.md).</span><span class="sxs-lookup"><span data-stu-id="97d8d-227">To learn more about publishing apps to Azure from Visual Studio, see [Publishing a Cloud Service using the Azure Tools](vs-azure-tools-publishing-a-cloud-service.md).</span></span>



