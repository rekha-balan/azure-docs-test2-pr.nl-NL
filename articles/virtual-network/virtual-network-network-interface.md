---
title: Azure network interfaces | Microsoft Docs
description: Learn how to create and delete network interfaces (NIC) and assign public and private IP addresses to NICs. Learn how to attach and detach NICs from Azure Virtual Machines.
services: virtual-network
documentationcenter: na
author: jimdial
manager: timlt
editor: ''
tags: azure-resource-manager
ms.assetid: ''
ms.service: virtual-network
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 03/14/2017
ms.author: jdial
ms.openlocfilehash: 6b8609c41c1102b0c4d4c31319c76e18a12bc67d
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44563462"
---
# <a name="network-interfaces"></a><span data-ttu-id="660d1-104">Network interfaces</span><span class="sxs-lookup"><span data-stu-id="660d1-104">Network interfaces</span></span>

<span data-ttu-id="660d1-105">Learn about network interfaces (NIC) and how to work with them.</span><span class="sxs-lookup"><span data-stu-id="660d1-105">Learn about network interfaces (NIC) and how to work with them.</span></span> <span data-ttu-id="660d1-106">A NIC is the interconnection between an Azure Virtual Machine (VM) and the underlying software network.</span><span class="sxs-lookup"><span data-stu-id="660d1-106">A NIC is the interconnection between an Azure Virtual Machine (VM) and the underlying software network.</span></span> <span data-ttu-id="660d1-107">The following picture illustrates the capability that a NIC provides:</span><span class="sxs-lookup"><span data-stu-id="660d1-107">The following picture illustrates the capability that a NIC provides:</span></span>

![Network interface](https://docstestmedia1.blob.core.windows.net/azure-media/articles/virtual-network/media/virtual-network-network-interface/nic.png)

<span data-ttu-id="660d1-109">This article explains how to work with the concepts shown in the picture.</span><span class="sxs-lookup"><span data-stu-id="660d1-109">This article explains how to work with the concepts shown in the picture.</span></span> <span data-ttu-id="660d1-110">Click any of the following concepts to go directly to that section of the article:</span><span class="sxs-lookup"><span data-stu-id="660d1-110">Click any of the following concepts to go directly to that section of the article:</span></span>

- <span data-ttu-id="660d1-111">[Network interfaces](#nics): A NIC is connected to one subnet within an Azure Virtual Network (VNet).</span><span class="sxs-lookup"><span data-stu-id="660d1-111">[Network interfaces](#nics): A NIC is connected to one subnet within an Azure Virtual Network (VNet).</span></span> <span data-ttu-id="660d1-112">In the picture, **VM1** has two NICs attached to it and **VM2** has one NIC attached to it.</span><span class="sxs-lookup"><span data-stu-id="660d1-112">In the picture, **VM1** has two NICs attached to it and **VM2** has one NIC attached to it.</span></span> <span data-ttu-id="660d1-113">Each NIC is connected to the same VNet, but to different subnets.</span><span class="sxs-lookup"><span data-stu-id="660d1-113">Each NIC is connected to the same VNet, but to different subnets.</span></span> <span data-ttu-id="660d1-114">This section provides steps to list existing NICs, and create, change, and delete NICs.</span><span class="sxs-lookup"><span data-stu-id="660d1-114">This section provides steps to list existing NICs, and create, change, and delete NICs.</span></span>
- <span data-ttu-id="660d1-115">[IP configurations](#ip-configs): One or more IP configurations are associated to each NIC.</span><span class="sxs-lookup"><span data-stu-id="660d1-115">[IP configurations](#ip-configs): One or more IP configurations are associated to each NIC.</span></span> <span data-ttu-id="660d1-116">Each IP configuration has a private IP address assigned to it.</span><span class="sxs-lookup"><span data-stu-id="660d1-116">Each IP configuration has a private IP address assigned to it.</span></span> <span data-ttu-id="660d1-117">An IP configuration may have a public IP address associated to it.</span><span class="sxs-lookup"><span data-stu-id="660d1-117">An IP configuration may have a public IP address associated to it.</span></span> <span data-ttu-id="660d1-118">In the picture, **NIC1** and **NIC3** each have one IP configuration associated to them, while **NIC2** has two IP configurations associated to it.</span><span class="sxs-lookup"><span data-stu-id="660d1-118">In the picture, **NIC1** and **NIC3** each have one IP configuration associated to them, while **NIC2** has two IP configurations associated to it.</span></span> <span data-ttu-id="660d1-119">The IP configuration assigned to NIC1 and NIC3 have public IP addresses assigned, whereas neither IP configuration assigned to NIC2 has a public IP address assigned to it.</span><span class="sxs-lookup"><span data-stu-id="660d1-119">The IP configuration assigned to NIC1 and NIC3 have public IP addresses assigned, whereas neither IP configuration assigned to NIC2 has a public IP address assigned to it.</span></span> <span data-ttu-id="660d1-120">This section provides steps to create, change, and delete IP configurations with private IP addresses assigned using the static and dynamic assignment methods.</span><span class="sxs-lookup"><span data-stu-id="660d1-120">This section provides steps to create, change, and delete IP configurations with private IP addresses assigned using the static and dynamic assignment methods.</span></span> <span data-ttu-id="660d1-121">This section also provides steps to associate and disassociate public IP addresses to and from an IP configuration.</span><span class="sxs-lookup"><span data-stu-id="660d1-121">This section also provides steps to associate and disassociate public IP addresses to and from an IP configuration.</span></span>
- <span data-ttu-id="660d1-122">[Network security groups](#nsgs): Network security groups (NSG) contain one or more inbound or outbound security rules.</span><span class="sxs-lookup"><span data-stu-id="660d1-122">[Network security groups](#nsgs): Network security groups (NSG) contain one or more inbound or outbound security rules.</span></span> <span data-ttu-id="660d1-123">The rules control the type of network traffic that can flow into and out of a network interface, a subnet, or both.</span><span class="sxs-lookup"><span data-stu-id="660d1-123">The rules control the type of network traffic that can flow into and out of a network interface, a subnet, or both.</span></span> <span data-ttu-id="660d1-124">In the picture, **NIC1** and **NIC3** have an NSG associated to them, whereas **NIC2** does not.</span><span class="sxs-lookup"><span data-stu-id="660d1-124">In the picture, **NIC1** and **NIC3** have an NSG associated to them, whereas **NIC2** does not.</span></span> <span data-ttu-id="660d1-125">This section provides steps to view the NSGs applied to a NIC, add an NSG to a NIC, and remove an NSG from a NIC.</span><span class="sxs-lookup"><span data-stu-id="660d1-125">This section provides steps to view the NSGs applied to a NIC, add an NSG to a NIC, and remove an NSG from a NIC.</span></span>
- <span data-ttu-id="660d1-126">[Virtual machines](#vms): A VM has at least one NIC attached to it, but can have several NICs attached to it, depending on the VM size.</span><span class="sxs-lookup"><span data-stu-id="660d1-126">[Virtual machines](#vms): A VM has at least one NIC attached to it, but can have several NICs attached to it, depending on the VM size.</span></span> <span data-ttu-id="660d1-127">To see how many NICs each VM size supports, read the [Windows](../virtual-machines/windows/sizes.md) or [Linux](../virtual-machines/linux/sizes.md) VM sizes articles.</span><span class="sxs-lookup"><span data-stu-id="660d1-127">To see how many NICs each VM size supports, read the [Windows](../virtual-machines/windows/sizes.md) or [Linux](../virtual-machines/linux/sizes.md) VM sizes articles.</span></span> <span data-ttu-id="660d1-128">This section provides steps to create single and multi-NIC VMs, as well as attach and detach NICs to and from existing VMs.</span><span class="sxs-lookup"><span data-stu-id="660d1-128">This section provides steps to create single and multi-NIC VMs, as well as attach and detach NICs to and from existing VMs.</span></span>

<span data-ttu-id="660d1-129">If you're new to NICs and VMs in Azure, we recommend you complete the exercise in the [Create your first Azure Virtual Network](virtual-network-get-started-vnet-subnet.md) before reading this article.</span><span class="sxs-lookup"><span data-stu-id="660d1-129">If you're new to NICs and VMs in Azure, we recommend you complete the exercise in the [Create your first Azure Virtual Network](virtual-network-get-started-vnet-subnet.md) before reading this article.</span></span> <span data-ttu-id="660d1-130">The exercise helps familiarize you with VNets and VMs.</span><span class="sxs-lookup"><span data-stu-id="660d1-130">The exercise helps familiarize you with VNets and VMs.</span></span>

<span data-ttu-id="660d1-131">This article applies to VMs and NICs created through the Azure Resource Manager deployment model.</span><span class="sxs-lookup"><span data-stu-id="660d1-131">This article applies to VMs and NICs created through the Azure Resource Manager deployment model.</span></span> <span data-ttu-id="660d1-132">Microsoft recommends creating resources through the Resource Manager deployment model, rather than the classic deployment model.</span><span class="sxs-lookup"><span data-stu-id="660d1-132">Microsoft recommends creating resources through the Resource Manager deployment model, rather than the classic deployment model.</span></span> <span data-ttu-id="660d1-133">Read the [Understand Azure deployment models](../azure-resource-manager/resource-manager-deployment-model.md?toc=%2fazure%2fvirtual-network%2ftoc.json) article if you're not familiar with the differences between the two models.</span><span class="sxs-lookup"><span data-stu-id="660d1-133">Read the [Understand Azure deployment models](../azure-resource-manager/resource-manager-deployment-model.md?toc=%2fazure%2fvirtual-network%2ftoc.json) article if you're not familiar with the differences between the two models.</span></span>

<span data-ttu-id="660d1-134">The remaining sections of this article provide steps to complete all NIC-related tasks.</span><span class="sxs-lookup"><span data-stu-id="660d1-134">The remaining sections of this article provide steps to complete all NIC-related tasks.</span></span> <span data-ttu-id="660d1-135">Each section lists:</span><span class="sxs-lookup"><span data-stu-id="660d1-135">Each section lists:</span></span>
- <span data-ttu-id="660d1-136">Steps to complete the task within the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="660d1-136">Steps to complete the task within the Azure portal.</span></span> <span data-ttu-id="660d1-137">To complete the steps, you must be logged in to the [Azure portal](http://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="660d1-137">To complete the steps, you must be logged in to the [Azure portal](http://portal.azure.com).</span></span> <span data-ttu-id="660d1-138">Sign up for a [free trial account](https://azure.microsoft.com/free) if you don't already have one.</span><span class="sxs-lookup"><span data-stu-id="660d1-138">Sign up for a [free trial account](https://azure.microsoft.com/free) if you don't already have one.</span></span>
- <span data-ttu-id="660d1-139">Commands to complete the task using Azure PowerShell with links to the command reference for the command.</span><span class="sxs-lookup"><span data-stu-id="660d1-139">Commands to complete the task using Azure PowerShell with links to the command reference for the command.</span></span> <span data-ttu-id="660d1-140">Install and configure PowerShell by completing the steps in the [How to Install and Configure Azure PowerShell](/powershell/azureps-cmdlets-docs?toc=%2fazure%2fvirtual-network%2ftoc.json) article.</span><span class="sxs-lookup"><span data-stu-id="660d1-140">Install and configure PowerShell by completing the steps in the [How to Install and Configure Azure PowerShell](/powershell/azureps-cmdlets-docs?toc=%2fazure%2fvirtual-network%2ftoc.json) article.</span></span> <span data-ttu-id="660d1-141">To get help for PowerShell commands, with examples, type `get-help <command> -full`.</span><span class="sxs-lookup"><span data-stu-id="660d1-141">To get help for PowerShell commands, with examples, type `get-help <command> -full`.</span></span>
- <span data-ttu-id="660d1-142">Commands to complete the task using the Azure Command-line interface (CLI) with links to the command reference for the command.</span><span class="sxs-lookup"><span data-stu-id="660d1-142">Commands to complete the task using the Azure Command-line interface (CLI) with links to the command reference for the command.</span></span> <span data-ttu-id="660d1-143">Install the Azure CLI by completing the steps in the [How to Install and Configure the Azure CLI 2.0](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json) article.</span><span class="sxs-lookup"><span data-stu-id="660d1-143">Install the Azure CLI by completing the steps in the [How to Install and Configure the Azure CLI 2.0](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json) article.</span></span> <span data-ttu-id="660d1-144">To get help for CLI commands, type `az <command> -h`.</span><span class="sxs-lookup"><span data-stu-id="660d1-144">To get help for CLI commands, type `az <command> -h`.</span></span>

## <a name="nics"></a><span data-ttu-id="660d1-145">Network interfaces</span><span class="sxs-lookup"><span data-stu-id="660d1-145">Network interfaces</span></span>
<span data-ttu-id="660d1-146">Complete the steps in the following sections to create, view, change, and delete network interfaces and settings:</span><span class="sxs-lookup"><span data-stu-id="660d1-146">Complete the steps in the following sections to create, view, change, and delete network interfaces and settings:</span></span>

### <a name="create-nic"></a><span data-ttu-id="660d1-147">Create a network interface</span><span class="sxs-lookup"><span data-stu-id="660d1-147">Create a network interface</span></span>

<span data-ttu-id="660d1-148">A NIC may be attached to a VM, or exist on its own.</span><span class="sxs-lookup"><span data-stu-id="660d1-148">A NIC may be attached to a VM, or exist on its own.</span></span> <span data-ttu-id="660d1-149">To learn how to attach a NIC to a VM, read the [Attach a NIC to a virtual machine](#vm-attach-nic) section of this article.</span><span class="sxs-lookup"><span data-stu-id="660d1-149">To learn how to attach a NIC to a VM, read the [Attach a NIC to a virtual machine](#vm-attach-nic) section of this article.</span></span>

<span data-ttu-id="660d1-150">To create a NIC, complete the following steps:</span><span class="sxs-lookup"><span data-stu-id="660d1-150">To create a NIC, complete the following steps:</span></span>

1. <span data-ttu-id="660d1-151">Log in to the [Azure portal](https://portal.azure.com) with an account that is assigned (at a minimum) permissions for the Network Contributor role for your subscription.</span><span class="sxs-lookup"><span data-stu-id="660d1-151">Log in to the [Azure portal](https://portal.azure.com) with an account that is assigned (at a minimum) permissions for the Network Contributor role for your subscription.</span></span> <span data-ttu-id="660d1-152">Read the [Built-in roles for Azure role-based access control](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) article to learn more about assigning roles and permissions to accounts.</span><span class="sxs-lookup"><span data-stu-id="660d1-152">Read the [Built-in roles for Azure role-based access control](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) article to learn more about assigning roles and permissions to accounts.</span></span>
2. <span data-ttu-id="660d1-153">In the box that contains the text *Search resources* at the top of the Azure portal, type *network interfaces*.</span><span class="sxs-lookup"><span data-stu-id="660d1-153">In the box that contains the text *Search resources* at the top of the Azure portal, type *network interfaces*.</span></span> <span data-ttu-id="660d1-154">When **network interfaces** appears in the search results, click it.</span><span class="sxs-lookup"><span data-stu-id="660d1-154">When **network interfaces** appears in the search results, click it.</span></span>
3. <span data-ttu-id="660d1-155">In the **Network interfaces** blade that appears, click **+ Add**.</span><span class="sxs-lookup"><span data-stu-id="660d1-155">In the **Network interfaces** blade that appears, click **+ Add**.</span></span>
4. <span data-ttu-id="660d1-156">In the **Create network interface** blade that appears, enter, or select values for the following settings then click **Create**:</span><span class="sxs-lookup"><span data-stu-id="660d1-156">In the **Create network interface** blade that appears, enter, or select values for the following settings then click **Create**:</span></span>

    |<span data-ttu-id="660d1-157">**Setting**</span><span class="sxs-lookup"><span data-stu-id="660d1-157">**Setting**</span></span>|<span data-ttu-id="660d1-158">**Required?**</span><span class="sxs-lookup"><span data-stu-id="660d1-158">**Required?**</span></span>|<span data-ttu-id="660d1-159">**Details**</span><span class="sxs-lookup"><span data-stu-id="660d1-159">**Details**</span></span>|
    |---|---|---|
    |<span data-ttu-id="660d1-160">**Name**</span><span class="sxs-lookup"><span data-stu-id="660d1-160">**Name**</span></span>|<span data-ttu-id="660d1-161">Yes</span><span class="sxs-lookup"><span data-stu-id="660d1-161">Yes</span></span>|<span data-ttu-id="660d1-162">The name cannot be changed after the NIC is created.</span><span class="sxs-lookup"><span data-stu-id="660d1-162">The name cannot be changed after the NIC is created.</span></span> <span data-ttu-id="660d1-163">The name must be unique within the resource group you select.</span><span class="sxs-lookup"><span data-stu-id="660d1-163">The name must be unique within the resource group you select.</span></span> <span data-ttu-id="660d1-164">Read the [Naming conventions](/azure/architecture/best-practices/naming-conventions?toc=%2fazure%2fvirtual-network%2ftoc.json#naming-rules-and-restrictions) article for naming suggestions.</span><span class="sxs-lookup"><span data-stu-id="660d1-164">Read the [Naming conventions](/azure/architecture/best-practices/naming-conventions?toc=%2fazure%2fvirtual-network%2ftoc.json#naming-rules-and-restrictions) article for naming suggestions.</span></span>|
    |<span data-ttu-id="660d1-165">**Virtual network**</span><span class="sxs-lookup"><span data-stu-id="660d1-165">**Virtual network**</span></span>|<span data-ttu-id="660d1-166">Yes</span><span class="sxs-lookup"><span data-stu-id="660d1-166">Yes</span></span>|<span data-ttu-id="660d1-167">You can only connect a NIC to a VNet that exists in the same subscription and location as the NIC.</span><span class="sxs-lookup"><span data-stu-id="660d1-167">You can only connect a NIC to a VNet that exists in the same subscription and location as the NIC.</span></span> <span data-ttu-id="660d1-168">The VM the NIC is attached to must also exist in the same location and subscription as the NIC.</span><span class="sxs-lookup"><span data-stu-id="660d1-168">The VM the NIC is attached to must also exist in the same location and subscription as the NIC.</span></span> <span data-ttu-id="660d1-169">If no VNets are listed, you need to create one.</span><span class="sxs-lookup"><span data-stu-id="660d1-169">If no VNets are listed, you need to create one.</span></span> <span data-ttu-id="660d1-170">To create a VNet, complete the steps in the [Virtual network](virtual-networks-create-vnet-arm-pportal.md) article.</span><span class="sxs-lookup"><span data-stu-id="660d1-170">To create a VNet, complete the steps in the [Virtual network](virtual-networks-create-vnet-arm-pportal.md) article.</span></span> <span data-ttu-id="660d1-171">Once a NIC is created, you cannot change the VNet it is connected to.</span><span class="sxs-lookup"><span data-stu-id="660d1-171">Once a NIC is created, you cannot change the VNet it is connected to.</span></span>|
    |<span data-ttu-id="660d1-172">**Subnet**</span><span class="sxs-lookup"><span data-stu-id="660d1-172">**Subnet**</span></span>|<span data-ttu-id="660d1-173">Yes</span><span class="sxs-lookup"><span data-stu-id="660d1-173">Yes</span></span>|<span data-ttu-id="660d1-174">Select a subnet within the VNet you selected.</span><span class="sxs-lookup"><span data-stu-id="660d1-174">Select a subnet within the VNet you selected.</span></span> <span data-ttu-id="660d1-175">You can change the subnet the NIC is connected to after it's created.</span><span class="sxs-lookup"><span data-stu-id="660d1-175">You can change the subnet the NIC is connected to after it's created.</span></span>|
    |<span data-ttu-id="660d1-176">**Private IP address assignment**</span><span class="sxs-lookup"><span data-stu-id="660d1-176">**Private IP address assignment**</span></span>|<span data-ttu-id="660d1-177">Yes</span><span class="sxs-lookup"><span data-stu-id="660d1-177">Yes</span></span>| <span data-ttu-id="660d1-178">A private IP address is assigned by the Azure DHCP server to the NIC when it's created.</span><span class="sxs-lookup"><span data-stu-id="660d1-178">A private IP address is assigned by the Azure DHCP server to the NIC when it's created.</span></span> <span data-ttu-id="660d1-179">The DHCP server assigns an available address from the subnet address range defined for the subnet you connect the NIC to.</span><span class="sxs-lookup"><span data-stu-id="660d1-179">The DHCP server assigns an available address from the subnet address range defined for the subnet you connect the NIC to.</span></span> <span data-ttu-id="660d1-180">**Dynamic:** Azure may assign a different address to a NIC when the VM it's attached to is started after having been in the stopped (deallocated) state.</span><span class="sxs-lookup"><span data-stu-id="660d1-180">**Dynamic:** Azure may assign a different address to a NIC when the VM it's attached to is started after having been in the stopped (deallocated) state.</span></span> <span data-ttu-id="660d1-181">The address remains the same if the VM is restarted without having been in the stopped (deallocated) state.</span><span class="sxs-lookup"><span data-stu-id="660d1-181">The address remains the same if the VM is restarted without having been in the stopped (deallocated) state.</span></span> <span data-ttu-id="660d1-182">**Static:** Static addresses do not change until you change them or the NIC is deleted.</span><span class="sxs-lookup"><span data-stu-id="660d1-182">**Static:** Static addresses do not change until you change them or the NIC is deleted.</span></span> <span data-ttu-id="660d1-183">You can change the assignment method after the NIC is created.</span><span class="sxs-lookup"><span data-stu-id="660d1-183">You can change the assignment method after the NIC is created.</span></span>|
    |<span data-ttu-id="660d1-184">**Network security group**</span><span class="sxs-lookup"><span data-stu-id="660d1-184">**Network security group**</span></span>|<span data-ttu-id="660d1-185">No</span><span class="sxs-lookup"><span data-stu-id="660d1-185">No</span></span>|<span data-ttu-id="660d1-186">Network security groups enable you to control the flow of network traffic in and out of a NIC.</span><span class="sxs-lookup"><span data-stu-id="660d1-186">Network security groups enable you to control the flow of network traffic in and out of a NIC.</span></span> <span data-ttu-id="660d1-187">To learn more about NSGs, read the [Network security groups](virtual-networks-nsg.md) article.</span><span class="sxs-lookup"><span data-stu-id="660d1-187">To learn more about NSGs, read the [Network security groups](virtual-networks-nsg.md) article.</span></span> <span data-ttu-id="660d1-188">You can apply zero or one network security group (NSG) to a NIC.</span><span class="sxs-lookup"><span data-stu-id="660d1-188">You can apply zero or one network security group (NSG) to a NIC.</span></span> <span data-ttu-id="660d1-189">Zero or one NSG can also be applied to the subnet the NIC is connected to.</span><span class="sxs-lookup"><span data-stu-id="660d1-189">Zero or one NSG can also be applied to the subnet the NIC is connected to.</span></span> <span data-ttu-id="660d1-190">When an NSG is applied to a NIC and the subnet it's connected to, sometimes unexpected results occur.</span><span class="sxs-lookup"><span data-stu-id="660d1-190">When an NSG is applied to a NIC and the subnet it's connected to, sometimes unexpected results occur.</span></span> <span data-ttu-id="660d1-191">To troubleshoot NSGs applied to NICs, read the [Troubleshoot NSGs](virtual-network-nsg-troubleshoot-portal.md#view-effective-security-rules-for-a-network-interface) article.</span><span class="sxs-lookup"><span data-stu-id="660d1-191">To troubleshoot NSGs applied to NICs, read the [Troubleshoot NSGs](virtual-network-nsg-troubleshoot-portal.md#view-effective-security-rules-for-a-network-interface) article.</span></span>|
    |<span data-ttu-id="660d1-192">**Subscription**</span><span class="sxs-lookup"><span data-stu-id="660d1-192">**Subscription**</span></span>|<span data-ttu-id="660d1-193">Yes</span><span class="sxs-lookup"><span data-stu-id="660d1-193">Yes</span></span>| <span data-ttu-id="660d1-194">The VM you attach a NIC to and the VNet you connect it to must exist in the same subscription.</span><span class="sxs-lookup"><span data-stu-id="660d1-194">The VM you attach a NIC to and the VNet you connect it to must exist in the same subscription.</span></span>|
    |<span data-ttu-id="660d1-195">**Resource group**</span><span class="sxs-lookup"><span data-stu-id="660d1-195">**Resource group**</span></span>|<span data-ttu-id="660d1-196">Yes</span><span class="sxs-lookup"><span data-stu-id="660d1-196">Yes</span></span>| <span data-ttu-id="660d1-197">The NIC can exist in the same, or different resource group, than the VM you attach it to, or the VNet you connect it to.</span><span class="sxs-lookup"><span data-stu-id="660d1-197">The NIC can exist in the same, or different resource group, than the VM you attach it to, or the VNet you connect it to.</span></span>|
    |<span data-ttu-id="660d1-198">**Location**</span><span class="sxs-lookup"><span data-stu-id="660d1-198">**Location**</span></span>|<span data-ttu-id="660d1-199">Yes</span><span class="sxs-lookup"><span data-stu-id="660d1-199">Yes</span></span>|<span data-ttu-id="660d1-200">The VM you attach a NIC to and the VNet you connect it to must exist in the same location.</span><span class="sxs-lookup"><span data-stu-id="660d1-200">The VM you attach a NIC to and the VNet you connect it to must exist in the same location.</span></span>|

<span data-ttu-id="660d1-201">The Azure portal creates a primary IP configuration named **ipconfig1** with a dynamic private IP address, and associates it to the NIC you create.</span><span class="sxs-lookup"><span data-stu-id="660d1-201">The Azure portal creates a primary IP configuration named **ipconfig1** with a dynamic private IP address, and associates it to the NIC you create.</span></span> <span data-ttu-id="660d1-202">To learn more about IP configurations, read the [IP configurations](#ip-configs) section of this article.</span><span class="sxs-lookup"><span data-stu-id="660d1-202">To learn more about IP configurations, read the [IP configurations](#ip-configs) section of this article.</span></span> <span data-ttu-id="660d1-203">You cannot specify the name of the IP configuration the portal creates, assign a static private IP address, or assign a public IP address when creating the NIC.</span><span class="sxs-lookup"><span data-stu-id="660d1-203">You cannot specify the name of the IP configuration the portal creates, assign a static private IP address, or assign a public IP address when creating the NIC.</span></span> <span data-ttu-id="660d1-204">If you create the NIC using PowerShell or the CLI, you can specify the name of the IP configuration, a static IP address, and assign a public IP address.</span><span class="sxs-lookup"><span data-stu-id="660d1-204">If you create the NIC using PowerShell or the CLI, you can specify the name of the IP configuration, a static IP address, and assign a public IP address.</span></span> <span data-ttu-id="660d1-205">You can change the private IP address assignment method and whether a public IP address is associated to the NIC after the NIC is created.</span><span class="sxs-lookup"><span data-stu-id="660d1-205">You can change the private IP address assignment method and whether a public IP address is associated to the NIC after the NIC is created.</span></span> <span data-ttu-id="660d1-206">To change settings after a NIC is created, complete the steps in the [Change an IP configuration](#change-ip-config) section of this article.</span><span class="sxs-lookup"><span data-stu-id="660d1-206">To change settings after a NIC is created, complete the steps in the [Change an IP configuration](#change-ip-config) section of this article.</span></span>

>[!Note]
> <span data-ttu-id="660d1-207">Azure assigns a MAC address to the NIC only after the NIC is attached to a VM and the VM is started the first time.</span><span class="sxs-lookup"><span data-stu-id="660d1-207">Azure assigns a MAC address to the NIC only after the NIC is attached to a VM and the VM is started the first time.</span></span> <span data-ttu-id="660d1-208">You cannot specify the MAC address that Azure assigns to the NIC.</span><span class="sxs-lookup"><span data-stu-id="660d1-208">You cannot specify the MAC address that Azure assigns to the NIC.</span></span> <span data-ttu-id="660d1-209">The MAC address remains assigned to the NIC until the NIC is deleted or the private IP address assigned to the primary IP configuration of the primary NIC is changed.</span><span class="sxs-lookup"><span data-stu-id="660d1-209">The MAC address remains assigned to the NIC until the NIC is deleted or the private IP address assigned to the primary IP configuration of the primary NIC is changed.</span></span> <span data-ttu-id="660d1-210">To learn more about IP configurations, read the [IP configurations](#ip-configs) section of this article.</span><span class="sxs-lookup"><span data-stu-id="660d1-210">To learn more about IP configurations, read the [IP configurations](#ip-configs) section of this article.</span></span>

|<span data-ttu-id="660d1-211">**Tool**</span><span class="sxs-lookup"><span data-stu-id="660d1-211">**Tool**</span></span>|<span data-ttu-id="660d1-212">**Command**</span><span class="sxs-lookup"><span data-stu-id="660d1-212">**Command**</span></span>|
|:---|:---|
|<span data-ttu-id="660d1-213">**CLI**</span><span class="sxs-lookup"><span data-stu-id="660d1-213">**CLI**</span></span>|[<span data-ttu-id="660d1-214">az network nic create</span><span class="sxs-lookup"><span data-stu-id="660d1-214">az network nic create</span></span>](/cli/azure/network/nic?toc=%2fazure%2fvirtual-network%2ftoc.json#create)|
|<span data-ttu-id="660d1-215">**PowerShell**</span><span class="sxs-lookup"><span data-stu-id="660d1-215">**PowerShell**</span></span>|[<span data-ttu-id="660d1-216">New-AzureRmNetworkInterface</span><span class="sxs-lookup"><span data-stu-id="660d1-216">New-AzureRmNetworkInterface</span></span>](/powershell/resourcemanager/azurerm.network/v3.4.0/new-azurermnetworkinterface/cli/azure/network/nic?toc=%2fazure%2fvirtual-network%2ftoc.json#create)|

### <a name="view-nics"></a><span data-ttu-id="660d1-217">View and change network interfaces and settings</span><span class="sxs-lookup"><span data-stu-id="660d1-217">View and change network interfaces and settings</span></span>

<span data-ttu-id="660d1-218">To view and change network interfaces and settings, complete the following steps:</span><span class="sxs-lookup"><span data-stu-id="660d1-218">To view and change network interfaces and settings, complete the following steps:</span></span>

1. <span data-ttu-id="660d1-219">Log in to the [Azure portal](https://portal.azure.com) with an account that is assigned (at a minimum) permissions for the Network Contributor role for your subscription.</span><span class="sxs-lookup"><span data-stu-id="660d1-219">Log in to the [Azure portal](https://portal.azure.com) with an account that is assigned (at a minimum) permissions for the Network Contributor role for your subscription.</span></span> <span data-ttu-id="660d1-220">Read the [Built-in roles for Azure role-based access control](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) article to learn more about assigning roles and permissions to accounts.</span><span class="sxs-lookup"><span data-stu-id="660d1-220">Read the [Built-in roles for Azure role-based access control](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) article to learn more about assigning roles and permissions to accounts.</span></span>
2. <span data-ttu-id="660d1-221">In the box that contains the text *Search resources* at the top of the Azure portal, type *network interfaces*.</span><span class="sxs-lookup"><span data-stu-id="660d1-221">In the box that contains the text *Search resources* at the top of the Azure portal, type *network interfaces*.</span></span> <span data-ttu-id="660d1-222">When **network interfaces** appears in the search results, click it.</span><span class="sxs-lookup"><span data-stu-id="660d1-222">When **network interfaces** appears in the search results, click it.</span></span>
3. <span data-ttu-id="660d1-223">In the **Network interfaces** blade that appears, click the NIC you want to view or change settings for.</span><span class="sxs-lookup"><span data-stu-id="660d1-223">In the **Network interfaces** blade that appears, click the NIC you want to view or change settings for.</span></span>
4. <span data-ttu-id="660d1-224">The following settings are listed in the blade that appears for the NIC you selected:</span><span class="sxs-lookup"><span data-stu-id="660d1-224">The following settings are listed in the blade that appears for the NIC you selected:</span></span>
    - <span data-ttu-id="660d1-225">**Overview:** Provides information about the NIC, such as the IP addresses assigned to it, the VNet/subnet the NIC is connected to, and the VM the NIC is attached to (if it's attached to one).The following picture shows the overview settings for a NIC named **mywebserver256**:   ![Network interface overview](https://docstestmedia1.blob.core.windows.net/azure-media/articles/virtual-network/media/virtual-network-network-interface/nic-overview.png)</span><span class="sxs-lookup"><span data-stu-id="660d1-225">**Overview:** Provides information about the NIC, such as the IP addresses assigned to it, the VNet/subnet the NIC is connected to, and the VM the NIC is attached to (if it's attached to one).The following picture shows the overview settings for a NIC named **mywebserver256**:   ![Network interface overview](https://docstestmedia1.blob.core.windows.net/azure-media/articles/virtual-network/media/virtual-network-network-interface/nic-overview.png)</span></span>
    - <span data-ttu-id="660d1-226">**IP configurations:** A NIC has at least one IP configuration assigned to it, but can have several IP configurations assigned to it.</span><span class="sxs-lookup"><span data-stu-id="660d1-226">**IP configurations:** A NIC has at least one IP configuration assigned to it, but can have several IP configurations assigned to it.</span></span> <span data-ttu-id="660d1-227">To learn about the maximum number of IP configurations supported for a NIC, read the [Azure limits](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits) article.</span><span class="sxs-lookup"><span data-stu-id="660d1-227">To learn about the maximum number of IP configurations supported for a NIC, read the [Azure limits](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits) article.</span></span> <span data-ttu-id="660d1-228">Each IP configuration has one assigned private IP address, and may have one public IP address associated to it.</span><span class="sxs-lookup"><span data-stu-id="660d1-228">Each IP configuration has one assigned private IP address, and may have one public IP address associated to it.</span></span> <span data-ttu-id="660d1-229">To modify what's displayed, complete the steps in the [Add a secondary IP configuration to a NIC](#create-ip-config), [Change an IP configuration](#change-ip-config), or [Delete an IP configuration](#delete-ip-config) sections of this article.</span><span class="sxs-lookup"><span data-stu-id="660d1-229">To modify what's displayed, complete the steps in the [Add a secondary IP configuration to a NIC](#create-ip-config), [Change an IP configuration](#change-ip-config), or [Delete an IP configuration](#delete-ip-config) sections of this article.</span></span>
    - <span data-ttu-id="660d1-230">**DNS servers:** You can specify which DNS server a NIC is assigned by the Azure DHCP servers.</span><span class="sxs-lookup"><span data-stu-id="660d1-230">**DNS servers:** You can specify which DNS server a NIC is assigned by the Azure DHCP servers.</span></span> <span data-ttu-id="660d1-231">Choose between the Azure internal DNS server or a custom DNS server.</span><span class="sxs-lookup"><span data-stu-id="660d1-231">Choose between the Azure internal DNS server or a custom DNS server.</span></span> <span data-ttu-id="660d1-232">To modify what's displayed, complete the steps in the [Change DNS settings for a NIC](#dns) section of this article.</span><span class="sxs-lookup"><span data-stu-id="660d1-232">To modify what's displayed, complete the steps in the [Change DNS settings for a NIC](#dns) section of this article.</span></span>
    - <span data-ttu-id="660d1-233">**Network security group (NSG):** Displays whether an NSG is associated to the NIC.</span><span class="sxs-lookup"><span data-stu-id="660d1-233">**Network security group (NSG):** Displays whether an NSG is associated to the NIC.</span></span> <span data-ttu-id="660d1-234">If an NSG is associated to the NIC, the name of the associated NSG is displayed.</span><span class="sxs-lookup"><span data-stu-id="660d1-234">If an NSG is associated to the NIC, the name of the associated NSG is displayed.</span></span> <span data-ttu-id="660d1-235">To modify what's displayed, complete the steps in the [Associate an NSG to or disassociate an NSG from a network interface](#associate-nsg) section of this article.</span><span class="sxs-lookup"><span data-stu-id="660d1-235">To modify what's displayed, complete the steps in the [Associate an NSG to or disassociate an NSG from a network interface](#associate-nsg) section of this article.</span></span>
    - <span data-ttu-id="660d1-236">**Properties:** Displays key settings about the NIC, to include its MAC address and the subscription it exists in.</span><span class="sxs-lookup"><span data-stu-id="660d1-236">**Properties:** Displays key settings about the NIC, to include its MAC address and the subscription it exists in.</span></span> <span data-ttu-id="660d1-237">You can move a NIC to a different resource group or subscription, as long as you also move all resources related to the NIC.</span><span class="sxs-lookup"><span data-stu-id="660d1-237">You can move a NIC to a different resource group or subscription, as long as you also move all resources related to the NIC.</span></span> <span data-ttu-id="660d1-238">If the NIC is attached to a VM, for example, you must also move the VM and any additional resources related to it.</span><span class="sxs-lookup"><span data-stu-id="660d1-238">If the NIC is attached to a VM, for example, you must also move the VM and any additional resources related to it.</span></span> <span data-ttu-id="660d1-239">To move a NIC, read the [Move resource to a new resource group or subscription](../azure-resource-manager/resource-group-move-resources.md?toc=%2fazure%2fvirtual-network%2ftoc.json#use-portal) article.</span><span class="sxs-lookup"><span data-stu-id="660d1-239">To move a NIC, read the [Move resource to a new resource group or subscription](../azure-resource-manager/resource-group-move-resources.md?toc=%2fazure%2fvirtual-network%2ftoc.json#use-portal) article.</span></span> <span data-ttu-id="660d1-240">It lists prerequisites, and how to move resources using the Azure portal, PowerShell, and the Azure CLI.</span><span class="sxs-lookup"><span data-stu-id="660d1-240">It lists prerequisites, and how to move resources using the Azure portal, PowerShell, and the Azure CLI.</span></span>
    - <span data-ttu-id="660d1-241">**Effective security rules:**  Security rules are listed if the NIC is attached to a running VM, and an NSG is associated to the NIC, the subnet it's connected to, or both.</span><span class="sxs-lookup"><span data-stu-id="660d1-241">**Effective security rules:**  Security rules are listed if the NIC is attached to a running VM, and an NSG is associated to the NIC, the subnet it's connected to, or both.</span></span> <span data-ttu-id="660d1-242">To learn more about what's displayed, read the [Troubleshoot network security groups](virtual-network-nsg-troubleshoot-portal.md#view-effective-security-rules-for-a-network-interface) article .</span><span class="sxs-lookup"><span data-stu-id="660d1-242">To learn more about what's displayed, read the [Troubleshoot network security groups](virtual-network-nsg-troubleshoot-portal.md#view-effective-security-rules-for-a-network-interface) article .</span></span> <span data-ttu-id="660d1-243">To learn more about NSGs, read the [Network security groups](virtual-networks-nsg.md) article.</span><span class="sxs-lookup"><span data-stu-id="660d1-243">To learn more about NSGs, read the [Network security groups](virtual-networks-nsg.md) article.</span></span>
    - <span data-ttu-id="660d1-244">**Effective routes:** Routes are listed if the NIC is attached to a running VM.</span><span class="sxs-lookup"><span data-stu-id="660d1-244">**Effective routes:** Routes are listed if the NIC is attached to a running VM.</span></span> <span data-ttu-id="660d1-245">The routes are a combination of the Azure default routes, any user-defined routes, and any BGP routes that may exist for the subnet the NIC is connected to.</span><span class="sxs-lookup"><span data-stu-id="660d1-245">The routes are a combination of the Azure default routes, any user-defined routes, and any BGP routes that may exist for the subnet the NIC is connected to.</span></span> <span data-ttu-id="660d1-246">To learn more about what's displayed, read the [Troubleshoot routes](virtual-network-routes-troubleshoot-portal.md#view-effective-routes-for-a-network-interface) article.</span><span class="sxs-lookup"><span data-stu-id="660d1-246">To learn more about what's displayed, read the [Troubleshoot routes](virtual-network-routes-troubleshoot-portal.md#view-effective-routes-for-a-network-interface) article.</span></span> <span data-ttu-id="660d1-247">To learn more about user-defined routes, read the [User-defined routes](virtual-networks-udr-overview.md) article.</span><span class="sxs-lookup"><span data-stu-id="660d1-247">To learn more about user-defined routes, read the [User-defined routes](virtual-networks-udr-overview.md) article.</span></span>
    - <span data-ttu-id="660d1-248">**Common Azure Resource Manager settings:**  To learn more about common Azure Resource Manager settings, read the [Activity log](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#activity-logs), [Access control (IAM)](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#access-control), [Tags](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#tags), [Locks](../azure-resource-manager/resource-group-lock-resources.md?toc=%2fazure%2fvirtual-network%2ftoc.json), and [Automation script](../azure-resource-manager/resource-manager-export-template.md?toc=%2fazure%2fvirtual-network%2ftoc.json#export-the-template-from-resource-group) articles.</span><span class="sxs-lookup"><span data-stu-id="660d1-248">**Common Azure Resource Manager settings:**  To learn more about common Azure Resource Manager settings, read the [Activity log](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#activity-logs), [Access control (IAM)](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#access-control), [Tags](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#tags), [Locks](../azure-resource-manager/resource-group-lock-resources.md?toc=%2fazure%2fvirtual-network%2ftoc.json), and [Automation script](../azure-resource-manager/resource-manager-export-template.md?toc=%2fazure%2fvirtual-network%2ftoc.json#export-the-template-from-resource-group) articles.</span></span>

|<span data-ttu-id="660d1-249">**Tool**</span><span class="sxs-lookup"><span data-stu-id="660d1-249">**Tool**</span></span>|<span data-ttu-id="660d1-250">**Command**</span><span class="sxs-lookup"><span data-stu-id="660d1-250">**Command**</span></span>|
|---|---|
|<span data-ttu-id="660d1-251">**CLI**</span><span class="sxs-lookup"><span data-stu-id="660d1-251">**CLI**</span></span>|<span data-ttu-id="660d1-252">[az network nic list](/cli/azure/network/nic?toc=%2fazure%2fvirtual-network%2ftoc.json#list) to view NICs in the subscription; [az network nic show](/cli/azure/network/nic?toc=%2fazure%2fvirtual-network%2ftoc.json#show) to view settings for a NIC</span><span class="sxs-lookup"><span data-stu-id="660d1-252">[az network nic list](/cli/azure/network/nic?toc=%2fazure%2fvirtual-network%2ftoc.json#list) to view NICs in the subscription; [az network nic show](/cli/azure/network/nic?toc=%2fazure%2fvirtual-network%2ftoc.json#show) to view settings for a NIC</span></span>|
|<span data-ttu-id="660d1-253">**PowerShell**</span><span class="sxs-lookup"><span data-stu-id="660d1-253">**PowerShell**</span></span>|<span data-ttu-id="660d1-254">[Get-AzureRmNetworkInterface](/powershell/resourcemanager/azurerm.network/v3.4.0/get-azurermnetworkinterface?toc=%2fazure%2fvirtual-network%2ftoc.json) to view NICs in the subscription or view settings for a NIC</span><span class="sxs-lookup"><span data-stu-id="660d1-254">[Get-AzureRmNetworkInterface](/powershell/resourcemanager/azurerm.network/v3.4.0/get-azurermnetworkinterface?toc=%2fazure%2fvirtual-network%2ftoc.json) to view NICs in the subscription or view settings for a NIC</span></span>|

### <a name="dns"></a><span data-ttu-id="660d1-255">Change DNS settings for a NIC</span><span class="sxs-lookup"><span data-stu-id="660d1-255">Change DNS settings for a NIC</span></span>

<span data-ttu-id="660d1-256">To change the DNS settings for a NIC, complete the following steps.</span><span class="sxs-lookup"><span data-stu-id="660d1-256">To change the DNS settings for a NIC, complete the following steps.</span></span> <span data-ttu-id="660d1-257">The DNS server is assigned to the VM by the Azure DHCP server.</span><span class="sxs-lookup"><span data-stu-id="660d1-257">The DNS server is assigned to the VM by the Azure DHCP server.</span></span> <span data-ttu-id="660d1-258">To learn more about name resolution settings for a NIC, read the [Name resolution for VMs](virtual-networks-name-resolution-for-vms-and-role-instances.md) article.</span><span class="sxs-lookup"><span data-stu-id="660d1-258">To learn more about name resolution settings for a NIC, read the [Name resolution for VMs](virtual-networks-name-resolution-for-vms-and-role-instances.md) article.</span></span>

1. <span data-ttu-id="660d1-259">Complete steps 1-3 in the [View and change network interfaces and settings](#view-nics) section of this article for the NIC you want to change settings for.</span><span class="sxs-lookup"><span data-stu-id="660d1-259">Complete steps 1-3 in the [View and change network interfaces and settings](#view-nics) section of this article for the NIC you want to change settings for.</span></span>
2. <span data-ttu-id="660d1-260">In the blade for the NIC you selected, click **DNS servers**.</span><span class="sxs-lookup"><span data-stu-id="660d1-260">In the blade for the NIC you selected, click **DNS servers**.</span></span>
3. <span data-ttu-id="660d1-261">Click either:</span><span class="sxs-lookup"><span data-stu-id="660d1-261">Click either:</span></span>
    - <span data-ttu-id="660d1-262">**Inherit from virtual network (default)**: Choose this option to inherit the DNS server setting defined for the virtual network the NIC is connected to.</span><span class="sxs-lookup"><span data-stu-id="660d1-262">**Inherit from virtual network (default)**: Choose this option to inherit the DNS server setting defined for the virtual network the NIC is connected to.</span></span> <span data-ttu-id="660d1-263">At the VNet level, either a custom DNS server or the Azure-provided DNS server is defined.</span><span class="sxs-lookup"><span data-stu-id="660d1-263">At the VNet level, either a custom DNS server or the Azure-provided DNS server is defined.</span></span> <span data-ttu-id="660d1-264">The Azure-provided DNS server can resolve names for resources connected to the same VNet, but not for resources connected to different VNets.</span><span class="sxs-lookup"><span data-stu-id="660d1-264">The Azure-provided DNS server can resolve names for resources connected to the same VNet, but not for resources connected to different VNets.</span></span>
    - <span data-ttu-id="660d1-265">**Custom**: You can configure your own DNS server to resolve names across multiple VNets.</span><span class="sxs-lookup"><span data-stu-id="660d1-265">**Custom**: You can configure your own DNS server to resolve names across multiple VNets.</span></span> <span data-ttu-id="660d1-266">Enter the IP address of the server you want to use as a DNS server.</span><span class="sxs-lookup"><span data-stu-id="660d1-266">Enter the IP address of the server you want to use as a DNS server.</span></span> <span data-ttu-id="660d1-267">The DNS server address you specify is assigned only to this NIC and overrides any DNS setting for the VNet the NIC is connected to.</span><span class="sxs-lookup"><span data-stu-id="660d1-267">The DNS server address you specify is assigned only to this NIC and overrides any DNS setting for the VNet the NIC is connected to.</span></span>
4. <span data-ttu-id="660d1-268">Click **Save**.</span><span class="sxs-lookup"><span data-stu-id="660d1-268">Click **Save**.</span></span>

|<span data-ttu-id="660d1-269">**Tool**</span><span class="sxs-lookup"><span data-stu-id="660d1-269">**Tool**</span></span>|<span data-ttu-id="660d1-270">**Command**</span><span class="sxs-lookup"><span data-stu-id="660d1-270">**Command**</span></span>|
|---|---|
|<span data-ttu-id="660d1-271">**CLI**</span><span class="sxs-lookup"><span data-stu-id="660d1-271">**CLI**</span></span>|[<span data-ttu-id="660d1-272">az network nic update</span><span class="sxs-lookup"><span data-stu-id="660d1-272">az network nic update</span></span>](/cli/azure/network/nic?toc=%2fazure%2fvirtual-network%2ftoc.json#update)|
|<span data-ttu-id="660d1-273">**PowerShell**</span><span class="sxs-lookup"><span data-stu-id="660d1-273">**PowerShell**</span></span>|[<span data-ttu-id="660d1-274">Set-AzureRmNetworkInterface</span><span class="sxs-lookup"><span data-stu-id="660d1-274">Set-AzureRmNetworkInterface</span></span>](/powershell/resourcemanager/azurerm.network/v3.4.0/set-azurermnetworkinterface?toc=%2fazure%2fvirtual-network%2ftoc.json)|

### <a name="ip-forwarding"></a><span data-ttu-id="660d1-275">Change IP forwarding for a NIC</span><span class="sxs-lookup"><span data-stu-id="660d1-275">Change IP forwarding for a NIC</span></span>

<span data-ttu-id="660d1-276">IP forwarding enables the VM a NIC is attached to:</span><span class="sxs-lookup"><span data-stu-id="660d1-276">IP forwarding enables the VM a NIC is attached to:</span></span>
- <span data-ttu-id="660d1-277">Receive network traffic not destined for one of the IP addresses assigned to any of the IP configurations assigned to the NIC.</span><span class="sxs-lookup"><span data-stu-id="660d1-277">Receive network traffic not destined for one of the IP addresses assigned to any of the IP configurations assigned to the NIC.</span></span>
- <span data-ttu-id="660d1-278">Send network traffic with a different source IP address than the one assigned to one of its IP configurations.</span><span class="sxs-lookup"><span data-stu-id="660d1-278">Send network traffic with a different source IP address than the one assigned to one of its IP configurations.</span></span>

<span data-ttu-id="660d1-279">The setting must be enabled for every NIC attached to the VM that receives traffic that the VM needs to forward.</span><span class="sxs-lookup"><span data-stu-id="660d1-279">The setting must be enabled for every NIC attached to the VM that receives traffic that the VM needs to forward.</span></span> <span data-ttu-id="660d1-280">A VM can forward traffic whether it has multiple NICs or a single NIC attached to it.</span><span class="sxs-lookup"><span data-stu-id="660d1-280">A VM can forward traffic whether it has multiple NICs or a single NIC attached to it.</span></span> <span data-ttu-id="660d1-281">While IP forwarding is an Azure setting, the VM must also run an application able to forward the traffic, such as firewall, WAN optimization, and load balancing applications.</span><span class="sxs-lookup"><span data-stu-id="660d1-281">While IP forwarding is an Azure setting, the VM must also run an application able to forward the traffic, such as firewall, WAN optimization, and load balancing applications.</span></span> <span data-ttu-id="660d1-282">When a VM is running network applications, the VM is often referred to as a network virtual appliance (NVA).</span><span class="sxs-lookup"><span data-stu-id="660d1-282">When a VM is running network applications, the VM is often referred to as a network virtual appliance (NVA).</span></span> <span data-ttu-id="660d1-283">You can view a list of ready to deploy NVAs in the [Azure Marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/category/networking?page=1&subcategories=appliances).</span><span class="sxs-lookup"><span data-stu-id="660d1-283">You can view a list of ready to deploy NVAs in the [Azure Marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/category/networking?page=1&subcategories=appliances).</span></span> <span data-ttu-id="660d1-284">IP forwarding is typically used with user-defined routes.</span><span class="sxs-lookup"><span data-stu-id="660d1-284">IP forwarding is typically used with user-defined routes.</span></span> <span data-ttu-id="660d1-285">To learn more about user-defined routes, read the [User-defined routes](virtual-networks-udr-overview.md) article.</span><span class="sxs-lookup"><span data-stu-id="660d1-285">To learn more about user-defined routes, read the [User-defined routes](virtual-networks-udr-overview.md) article.</span></span>

<span data-ttu-id="660d1-286">To change IP forwarding settings for a NIC, complete the following steps:</span><span class="sxs-lookup"><span data-stu-id="660d1-286">To change IP forwarding settings for a NIC, complete the following steps:</span></span>

1. <span data-ttu-id="660d1-287">Complete steps 1-3 in the [View and change network interfaces and settings](#view-nics) section of this article for the NIC you want to modify.</span><span class="sxs-lookup"><span data-stu-id="660d1-287">Complete steps 1-3 in the [View and change network interfaces and settings](#view-nics) section of this article for the NIC you want to modify.</span></span>
2. <span data-ttu-id="660d1-288">In the blade for the NIC you selected, click IP configurations</span><span class="sxs-lookup"><span data-stu-id="660d1-288">In the blade for the NIC you selected, click IP configurations</span></span>
3. <span data-ttu-id="660d1-289">Click **Enabled** or **Disabled** (default setting) to change the setting.</span><span class="sxs-lookup"><span data-stu-id="660d1-289">Click **Enabled** or **Disabled** (default setting) to change the setting.</span></span>
4. <span data-ttu-id="660d1-290">Click **Save**.</span><span class="sxs-lookup"><span data-stu-id="660d1-290">Click **Save**.</span></span>

|<span data-ttu-id="660d1-291">**Tool**</span><span class="sxs-lookup"><span data-stu-id="660d1-291">**Tool**</span></span>|<span data-ttu-id="660d1-292">**Command**</span><span class="sxs-lookup"><span data-stu-id="660d1-292">**Command**</span></span>|
|---|---|
|<span data-ttu-id="660d1-293">**CLI**</span><span class="sxs-lookup"><span data-stu-id="660d1-293">**CLI**</span></span>|[<span data-ttu-id="660d1-294">az network nic update</span><span class="sxs-lookup"><span data-stu-id="660d1-294">az network nic update</span></span>](/cli/azure/network/nic?toc=%2fazure%2fvirtual-network%2ftoc.json#update)|
|<span data-ttu-id="660d1-295">**PowerShell**</span><span class="sxs-lookup"><span data-stu-id="660d1-295">**PowerShell**</span></span>|[<span data-ttu-id="660d1-296">Set-AzureRmNetworkInterface</span><span class="sxs-lookup"><span data-stu-id="660d1-296">Set-AzureRmNetworkInterface</span></span>](/powershell/resourcemanager/azurerm.network/v3.4.0/set-azurermnetworkinterface?toc=%2fazure%2fvirtual-network%2ftoc.json)|

### <a name="subnet"></a><span data-ttu-id="660d1-297">Change the subnet a NIC is connected to</span><span class="sxs-lookup"><span data-stu-id="660d1-297">Change the subnet a NIC is connected to</span></span>

<span data-ttu-id="660d1-298">You can change the subnet, but not the VNet, that a NIC is connected to.</span><span class="sxs-lookup"><span data-stu-id="660d1-298">You can change the subnet, but not the VNet, that a NIC is connected to.</span></span> <span data-ttu-id="660d1-299">To change the subnet, all IP configurations associated to the NIC must be assigned dynamic private IP addresses.</span><span class="sxs-lookup"><span data-stu-id="660d1-299">To change the subnet, all IP configurations associated to the NIC must be assigned dynamic private IP addresses.</span></span> <span data-ttu-id="660d1-300">To change the subnet a NIC is connected to, complete the following steps:</span><span class="sxs-lookup"><span data-stu-id="660d1-300">To change the subnet a NIC is connected to, complete the following steps:</span></span>

1. <span data-ttu-id="660d1-301">Complete steps 1-3 in the [View and change network interfaces and settings](#view-nics) section of this article for the NIC you want to connect to a different subnet.</span><span class="sxs-lookup"><span data-stu-id="660d1-301">Complete steps 1-3 in the [View and change network interfaces and settings](#view-nics) section of this article for the NIC you want to connect to a different subnet.</span></span>
2. <span data-ttu-id="660d1-302">Click **IP configurations** in the blade for the NIC you selected.</span><span class="sxs-lookup"><span data-stu-id="660d1-302">Click **IP configurations** in the blade for the NIC you selected.</span></span> <span data-ttu-id="660d1-303">If any private IP addresses for any IP configurations listed have a private IP address assigned with the static method, you must change the method to dynamic by completing the steps that follow.</span><span class="sxs-lookup"><span data-stu-id="660d1-303">If any private IP addresses for any IP configurations listed have a private IP address assigned with the static method, you must change the method to dynamic by completing the steps that follow.</span></span> <span data-ttu-id="660d1-304">If the addresses are assigned with the dynamic method, continue to step three:</span><span class="sxs-lookup"><span data-stu-id="660d1-304">If the addresses are assigned with the dynamic method, continue to step three:</span></span>
    - <span data-ttu-id="660d1-305">Click the static IP address for the IP configuration you want to change from the list of IP configurations.</span><span class="sxs-lookup"><span data-stu-id="660d1-305">Click the static IP address for the IP configuration you want to change from the list of IP configurations.</span></span>
    - <span data-ttu-id="660d1-306">In the blade that appears for the IP configuration, click **Dynamic** for the **Assignment** method.</span><span class="sxs-lookup"><span data-stu-id="660d1-306">In the blade that appears for the IP configuration, click **Dynamic** for the **Assignment** method.</span></span>
    - <span data-ttu-id="660d1-307">Click **Save**.</span><span class="sxs-lookup"><span data-stu-id="660d1-307">Click **Save**.</span></span>
3. <span data-ttu-id="660d1-308">Select the subnet you want to connect the NIC to from the **Subnet** drop-down list.</span><span class="sxs-lookup"><span data-stu-id="660d1-308">Select the subnet you want to connect the NIC to from the **Subnet** drop-down list.</span></span>
4. <span data-ttu-id="660d1-309">Click **Save**.</span><span class="sxs-lookup"><span data-stu-id="660d1-309">Click **Save**.</span></span> <span data-ttu-id="660d1-310">New dynamic addresses are assigned from the net subnet address range.</span><span class="sxs-lookup"><span data-stu-id="660d1-310">New dynamic addresses are assigned from the net subnet address range.</span></span> <span data-ttu-id="660d1-311">If you choose, you can then assign static IP addresses from the new subnet address range.</span><span class="sxs-lookup"><span data-stu-id="660d1-311">If you choose, you can then assign static IP addresses from the new subnet address range.</span></span>

|<span data-ttu-id="660d1-312">**Tool**</span><span class="sxs-lookup"><span data-stu-id="660d1-312">**Tool**</span></span>|<span data-ttu-id="660d1-313">**Command**</span><span class="sxs-lookup"><span data-stu-id="660d1-313">**Command**</span></span>|
|---|---|
|<span data-ttu-id="660d1-314">**CLI**</span><span class="sxs-lookup"><span data-stu-id="660d1-314">**CLI**</span></span>|[<span data-ttu-id="660d1-315">az network nic ip-config update</span><span class="sxs-lookup"><span data-stu-id="660d1-315">az network nic ip-config update</span></span>](/cli/azure/network/nic/ip-config?toc=%2fazure%2fvirtual-network%2ftoc.json#update)|
|<span data-ttu-id="660d1-316">**PowerShell**</span><span class="sxs-lookup"><span data-stu-id="660d1-316">**PowerShell**</span></span>|[<span data-ttu-id="660d1-317">Set-AzureRmNetworkInterfaceIpConfig</span><span class="sxs-lookup"><span data-stu-id="660d1-317">Set-AzureRmNetworkInterfaceIpConfig</span></span>](/powershell/resourcemanager/azurerm.network/v3.4.0/set-azurermnetworkinterfaceipconfig?toc=%2fazure%2fvirtual-network%2ftoc.json)|


### <a name="delete-nic"></a><span data-ttu-id="660d1-318">Delete a network interface</span><span class="sxs-lookup"><span data-stu-id="660d1-318">Delete a network interface</span></span>

<span data-ttu-id="660d1-319">You can delete a NIC as long as it's not attached to a VM.</span><span class="sxs-lookup"><span data-stu-id="660d1-319">You can delete a NIC as long as it's not attached to a VM.</span></span> <span data-ttu-id="660d1-320">If it is attached to a VM, you must first detach it from the VM before you can delete it.</span><span class="sxs-lookup"><span data-stu-id="660d1-320">If it is attached to a VM, you must first detach it from the VM before you can delete it.</span></span> <span data-ttu-id="660d1-321">To detach a NIC from a VM, complete the steps in the [Detach a NIC from a virtual machine](#vm-detach-nic) section of this article.</span><span class="sxs-lookup"><span data-stu-id="660d1-321">To detach a NIC from a VM, complete the steps in the [Detach a NIC from a virtual machine](#vm-detach-nic) section of this article.</span></span>

1. <span data-ttu-id="660d1-322">Complete steps 1-2 in the [View and change network interfaces and settings](#view-nics) section of this article for the NIC you want to delete.</span><span class="sxs-lookup"><span data-stu-id="660d1-322">Complete steps 1-2 in the [View and change network interfaces and settings](#view-nics) section of this article for the NIC you want to delete.</span></span>
2. <span data-ttu-id="660d1-323">Right-click the NIC you want to delete and click **Delete**.</span><span class="sxs-lookup"><span data-stu-id="660d1-323">Right-click the NIC you want to delete and click **Delete**.</span></span>
3. <span data-ttu-id="660d1-324">Click **Yes** to confirm deletion of the NIC.</span><span class="sxs-lookup"><span data-stu-id="660d1-324">Click **Yes** to confirm deletion of the NIC.</span></span>

<span data-ttu-id="660d1-325">When you delete a NIC, any MAC or IP addresses assigned to it are released.</span><span class="sxs-lookup"><span data-stu-id="660d1-325">When you delete a NIC, any MAC or IP addresses assigned to it are released.</span></span>

|<span data-ttu-id="660d1-326">**Tool**</span><span class="sxs-lookup"><span data-stu-id="660d1-326">**Tool**</span></span>|<span data-ttu-id="660d1-327">**Command**</span><span class="sxs-lookup"><span data-stu-id="660d1-327">**Command**</span></span>|
|---|---|
|<span data-ttu-id="660d1-328">**CLI**</span><span class="sxs-lookup"><span data-stu-id="660d1-328">**CLI**</span></span>|[<span data-ttu-id="660d1-329">az network nic delete</span><span class="sxs-lookup"><span data-stu-id="660d1-329">az network nic delete</span></span>](/cli/azure/network/nic?toc=%2fazure%2fvirtual-network%2ftoc.json#delete)|
|<span data-ttu-id="660d1-330">**PowerShell**</span><span class="sxs-lookup"><span data-stu-id="660d1-330">**PowerShell**</span></span>|[<span data-ttu-id="660d1-331">Remove-AzureRmNetworkInterface</span><span class="sxs-lookup"><span data-stu-id="660d1-331">Remove-AzureRmNetworkInterface</span></span>](/powershell/resourcemanager/azurerm.network/v3.1.0/remove-azurermnetworkinterface?toc=%2fazure%2fvirtual-network%2ftoc.json)|

## <a name="ip-configs"></a><span data-ttu-id="660d1-332">IP configurations</span><span class="sxs-lookup"><span data-stu-id="660d1-332">IP configurations</span></span>
<span data-ttu-id="660d1-333">Each NIC has at least one IP configuration, referred to as the **Primary** configuration.</span><span class="sxs-lookup"><span data-stu-id="660d1-333">Each NIC has at least one IP configuration, referred to as the **Primary** configuration.</span></span> <span data-ttu-id="660d1-334">A NIC may also have one or more *secondary* IP configurations associated to it.</span><span class="sxs-lookup"><span data-stu-id="660d1-334">A NIC may also have one or more *secondary* IP configurations associated to it.</span></span> <span data-ttu-id="660d1-335">There are limits to the number of IP addresses that you can assign to a NIC.</span><span class="sxs-lookup"><span data-stu-id="660d1-335">There are limits to the number of IP addresses that you can assign to a NIC.</span></span> <span data-ttu-id="660d1-336">For details, read the [Azure limits](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits) article.</span><span class="sxs-lookup"><span data-stu-id="660d1-336">For details, read the [Azure limits](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits) article.</span></span> <span data-ttu-id="660d1-337">Each IP configuration:</span><span class="sxs-lookup"><span data-stu-id="660d1-337">Each IP configuration:</span></span>
- <span data-ttu-id="660d1-338">Has one private IP address assigned to it using the static or dynamic assignment method.</span><span class="sxs-lookup"><span data-stu-id="660d1-338">Has one private IP address assigned to it using the static or dynamic assignment method.</span></span> <span data-ttu-id="660d1-339">Dynamic IP addresses may change if a VM is started after being in the stopped (deallocated) state.</span><span class="sxs-lookup"><span data-stu-id="660d1-339">Dynamic IP addresses may change if a VM is started after being in the stopped (deallocated) state.</span></span> <span data-ttu-id="660d1-340">Static IP addresses are released from a NIC only if the NIC is deleted.</span><span class="sxs-lookup"><span data-stu-id="660d1-340">Static IP addresses are released from a NIC only if the NIC is deleted.</span></span>
- <span data-ttu-id="660d1-341">May have one public IP address associated to it.</span><span class="sxs-lookup"><span data-stu-id="660d1-341">May have one public IP address associated to it.</span></span>

<span data-ttu-id="660d1-342">The Azure DHCP servers assign the private IP address for the primary IP configuration of the NIC to the NIC within the VM operating system.</span><span class="sxs-lookup"><span data-stu-id="660d1-342">The Azure DHCP servers assign the private IP address for the primary IP configuration of the NIC to the NIC within the VM operating system.</span></span>

<span data-ttu-id="660d1-343">Assigning multiple IP addresses to a NIC is helpful in scenarios such as:</span><span class="sxs-lookup"><span data-stu-id="660d1-343">Assigning multiple IP addresses to a NIC is helpful in scenarios such as:</span></span>
- <span data-ttu-id="660d1-344">Hosting multiple websites or services with different IP addresses and SSL certificates on a single server.</span><span class="sxs-lookup"><span data-stu-id="660d1-344">Hosting multiple websites or services with different IP addresses and SSL certificates on a single server.</span></span>
- <span data-ttu-id="660d1-345">A VM serving as a network virtual appliance, such as a firewall or load balancer.</span><span class="sxs-lookup"><span data-stu-id="660d1-345">A VM serving as a network virtual appliance, such as a firewall or load balancer.</span></span>
- <span data-ttu-id="660d1-346">The ability to add any of the private IP addresses for any of the NICs to an Azure Load Balancer back-end pool.</span><span class="sxs-lookup"><span data-stu-id="660d1-346">The ability to add any of the private IP addresses for any of the NICs to an Azure Load Balancer back-end pool.</span></span> <span data-ttu-id="660d1-347">In the past, only the primary IP address for the primary NIC could be added to a back-end pool.</span><span class="sxs-lookup"><span data-stu-id="660d1-347">In the past, only the primary IP address for the primary NIC could be added to a back-end pool.</span></span> <span data-ttu-id="660d1-348">To learn more about how to load balance multiple IP configurations, read the [Load balancing multiple IP configurations](../load-balancer/load-balancer-multiple-ip.md?toc=%2fazure%2fvirtual-network%2ftoc.json) article.</span><span class="sxs-lookup"><span data-stu-id="660d1-348">To learn more about how to load balance multiple IP configurations, read the [Load balancing multiple IP configurations](../load-balancer/load-balancer-multiple-ip.md?toc=%2fazure%2fvirtual-network%2ftoc.json) article.</span></span>

<span data-ttu-id="660d1-349">There is a limited number of public IP addresses that can be used within a subscription and a limited number of private IP addresses that can be assigned to a NIC.</span><span class="sxs-lookup"><span data-stu-id="660d1-349">There is a limited number of public IP addresses that can be used within a subscription and a limited number of private IP addresses that can be assigned to a NIC.</span></span> <span data-ttu-id="660d1-350">To learn more about these limits, read the [Azure limits](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits) article.</span><span class="sxs-lookup"><span data-stu-id="660d1-350">To learn more about these limits, read the [Azure limits](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits) article.</span></span>

### <a name="create-ip-config"></a><span data-ttu-id="660d1-351">Add a secondary IP configuration to a NIC</span><span class="sxs-lookup"><span data-stu-id="660d1-351">Add a secondary IP configuration to a NIC</span></span>

<span data-ttu-id="660d1-352">You can add as many IP configurations as necessary to a NIC, within the limits listed in the [Azure limits](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits) article.</span><span class="sxs-lookup"><span data-stu-id="660d1-352">You can add as many IP configurations as necessary to a NIC, within the limits listed in the [Azure limits](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits) article.</span></span> <span data-ttu-id="660d1-353">To add an IP configuration to a NIC, complete the following steps:</span><span class="sxs-lookup"><span data-stu-id="660d1-353">To add an IP configuration to a NIC, complete the following steps:</span></span>

1. <span data-ttu-id="660d1-354">Complete steps 1-3 in the [View network interface settings](#view-nics) section of this article for the NIC you want to add an IP configuration to.</span><span class="sxs-lookup"><span data-stu-id="660d1-354">Complete steps 1-3 in the [View network interface settings](#view-nics) section of this article for the NIC you want to add an IP configuration to.</span></span>
2. <span data-ttu-id="660d1-355">Click **IP configurations** in the blade for the NIC you selected.</span><span class="sxs-lookup"><span data-stu-id="660d1-355">Click **IP configurations** in the blade for the NIC you selected.</span></span>
3. <span data-ttu-id="660d1-356">Click **+ Add** in the blade that opens for IP configurations.</span><span class="sxs-lookup"><span data-stu-id="660d1-356">Click **+ Add** in the blade that opens for IP configurations.</span></span>
4. <span data-ttu-id="660d1-357">Specify the following, then click **OK** to close the **Add IP configuration** blade:</span><span class="sxs-lookup"><span data-stu-id="660d1-357">Specify the following, then click **OK** to close the **Add IP configuration** blade:</span></span>

    |<span data-ttu-id="660d1-358">**Setting**</span><span class="sxs-lookup"><span data-stu-id="660d1-358">**Setting**</span></span>|<span data-ttu-id="660d1-359">**Required?**</span><span class="sxs-lookup"><span data-stu-id="660d1-359">**Required?**</span></span>|<span data-ttu-id="660d1-360">**Details**</span><span class="sxs-lookup"><span data-stu-id="660d1-360">**Details**</span></span>|
    |---|---|---|
    |<span data-ttu-id="660d1-361">**Name**</span><span class="sxs-lookup"><span data-stu-id="660d1-361">**Name**</span></span>|<span data-ttu-id="660d1-362">Yes</span><span class="sxs-lookup"><span data-stu-id="660d1-362">Yes</span></span>|<span data-ttu-id="660d1-363">Must be unique for the NIC</span><span class="sxs-lookup"><span data-stu-id="660d1-363">Must be unique for the NIC</span></span>|
    |<span data-ttu-id="660d1-364">**Type**</span><span class="sxs-lookup"><span data-stu-id="660d1-364">**Type**</span></span>|<span data-ttu-id="660d1-365">Yes</span><span class="sxs-lookup"><span data-stu-id="660d1-365">Yes</span></span>|<span data-ttu-id="660d1-366">Since you're adding an IP configuration to an existing NIC, and each NIC must have a primary IP configuration, your only option is **Secondary**.</span><span class="sxs-lookup"><span data-stu-id="660d1-366">Since you're adding an IP configuration to an existing NIC, and each NIC must have a primary IP configuration, your only option is **Secondary**.</span></span>|
    |<span data-ttu-id="660d1-367">**Private IP address assignment method**</span><span class="sxs-lookup"><span data-stu-id="660d1-367">**Private IP address assignment method**</span></span>|<span data-ttu-id="660d1-368">Yes</span><span class="sxs-lookup"><span data-stu-id="660d1-368">Yes</span></span>|<span data-ttu-id="660d1-369">**Dynamic** addresses can change if the VM is restarted after having been in the stopped (deallocated) state.</span><span class="sxs-lookup"><span data-stu-id="660d1-369">**Dynamic** addresses can change if the VM is restarted after having been in the stopped (deallocated) state.</span></span> <span data-ttu-id="660d1-370">**Static** addresses aren't released until the NIC is deleted.</span><span class="sxs-lookup"><span data-stu-id="660d1-370">**Static** addresses aren't released until the NIC is deleted.</span></span> <span data-ttu-id="660d1-371">Specify an IP address from the subnet address space range that is not currently in use by another IP configuration.</span><span class="sxs-lookup"><span data-stu-id="660d1-371">Specify an IP address from the subnet address space range that is not currently in use by another IP configuration.</span></span>|
    |<span data-ttu-id="660d1-372">**Public IP address**</span><span class="sxs-lookup"><span data-stu-id="660d1-372">**Public IP address**</span></span>|<span data-ttu-id="660d1-373">No</span><span class="sxs-lookup"><span data-stu-id="660d1-373">No</span></span>|<span data-ttu-id="660d1-374">**Disabled:** No public IP address resource is currently associated to the IP configuration.</span><span class="sxs-lookup"><span data-stu-id="660d1-374">**Disabled:** No public IP address resource is currently associated to the IP configuration.</span></span> <span data-ttu-id="660d1-375">**Enabled:** Select an existing Public IP address, or create a new one.</span><span class="sxs-lookup"><span data-stu-id="660d1-375">**Enabled:** Select an existing Public IP address, or create a new one.</span></span> <span data-ttu-id="660d1-376">To learn how to create a public IP address, read the [Public IP addresses](virtual-network-public-ip-address.md#create) article.</span><span class="sxs-lookup"><span data-stu-id="660d1-376">To learn how to create a public IP address, read the [Public IP addresses](virtual-network-public-ip-address.md#create) article.</span></span>|
5. <span data-ttu-id="660d1-377">Manually add secondary private IP addresses to the VM operating system by completing the instructions in the [Assign multiple IP addresses to virtual machines](virtual-network-multiple-ip-addresses-portal.md#os-config) article.</span><span class="sxs-lookup"><span data-stu-id="660d1-377">Manually add secondary private IP addresses to the VM operating system by completing the instructions in the [Assign multiple IP addresses to virtual machines](virtual-network-multiple-ip-addresses-portal.md#os-config) article.</span></span> <span data-ttu-id="660d1-378">Do not add any public IP addresses to the VM operating system.</span><span class="sxs-lookup"><span data-stu-id="660d1-378">Do not add any public IP addresses to the VM operating system.</span></span>

|<span data-ttu-id="660d1-379">**Tool**</span><span class="sxs-lookup"><span data-stu-id="660d1-379">**Tool**</span></span>|<span data-ttu-id="660d1-380">**Command**</span><span class="sxs-lookup"><span data-stu-id="660d1-380">**Command**</span></span>|
|---|---|
|<span data-ttu-id="660d1-381">**CLI**</span><span class="sxs-lookup"><span data-stu-id="660d1-381">**CLI**</span></span>|[<span data-ttu-id="660d1-382">az network nic ip-config create</span><span class="sxs-lookup"><span data-stu-id="660d1-382">az network nic ip-config create</span></span>](/cli/azure/network/nic/ip-config?toc=%2fazure%2fvirtual-network%2ftoc.json#create)|
|<span data-ttu-id="660d1-383">**PowerShell**</span><span class="sxs-lookup"><span data-stu-id="660d1-383">**PowerShell**</span></span>|[<span data-ttu-id="660d1-384">Add-AzureRmNetworkInterfaceIpConfig</span><span class="sxs-lookup"><span data-stu-id="660d1-384">Add-AzureRmNetworkInterfaceIpConfig</span></span>](/powershell/resourcemanager/azurerm.network/v3.4.0/add-azurermnetworkinterfaceipconfig?toc=%2fazure%2fvirtual-network%2ftoc.json)|

### <a name="change-ip-config"></a><span data-ttu-id="660d1-385">Change an IP configuration</span><span class="sxs-lookup"><span data-stu-id="660d1-385">Change an IP configuration</span></span>

<span data-ttu-id="660d1-386">To change the private and public IP address settings for any primary or secondary IP configuration, complete the following steps:</span><span class="sxs-lookup"><span data-stu-id="660d1-386">To change the private and public IP address settings for any primary or secondary IP configuration, complete the following steps:</span></span>

1. <span data-ttu-id="660d1-387">Complete steps 1-3 in the [View network interface settings](#view-nics) section of this article for the NIC you want to modify.</span><span class="sxs-lookup"><span data-stu-id="660d1-387">Complete steps 1-3 in the [View network interface settings](#view-nics) section of this article for the NIC you want to modify.</span></span>
2. <span data-ttu-id="660d1-388">Click **IP configurations** in the blade for the NIC you selected.</span><span class="sxs-lookup"><span data-stu-id="660d1-388">Click **IP configurations** in the blade for the NIC you selected.</span></span>
3. <span data-ttu-id="660d1-389">Click the IP configuration you want to modify from the list in the blade that opens for IP configurations.</span><span class="sxs-lookup"><span data-stu-id="660d1-389">Click the IP configuration you want to modify from the list in the blade that opens for IP configurations.</span></span>
4. <span data-ttu-id="660d1-390">Change the settings, as desired, using the information about the settings in the [Add an IP configuration](#create-ip-config) section of this article, then click **Save** to close the blade for the IP config you selected.</span><span class="sxs-lookup"><span data-stu-id="660d1-390">Change the settings, as desired, using the information about the settings in the [Add an IP configuration](#create-ip-config) section of this article, then click **Save** to close the blade for the IP config you selected.</span></span>

>[!NOTE]
><span data-ttu-id="660d1-391">If the primary NIC has multiple IP configurations and you change the private IP address of the primary IP configuration, you must manually reassign all secondary IP addresses to the NIC within Windows (not required for Linux).</span><span class="sxs-lookup"><span data-stu-id="660d1-391">If the primary NIC has multiple IP configurations and you change the private IP address of the primary IP configuration, you must manually reassign all secondary IP addresses to the NIC within Windows (not required for Linux).</span></span> <span data-ttu-id="660d1-392">To manually assign IP addresses to a NIC within an operating system, read the [Assign multiple IP addresses to virtual machines](virtual-network-multiple-ip-addresses-portal.md#os-config) article.</span><span class="sxs-lookup"><span data-stu-id="660d1-392">To manually assign IP addresses to a NIC within an operating system, read the [Assign multiple IP addresses to virtual machines](virtual-network-multiple-ip-addresses-portal.md#os-config) article.</span></span> <span data-ttu-id="660d1-393">Do not add any public IP addresses to the VM operating system.</span><span class="sxs-lookup"><span data-stu-id="660d1-393">Do not add any public IP addresses to the VM operating system.</span></span>

>[!WARNING]
><span data-ttu-id="660d1-394">To change the private IP address of a secondary IP configuration associated with a secondary NIC, the steps above must be completed only after the VM is stopped and deallocated.</span><span class="sxs-lookup"><span data-stu-id="660d1-394">To change the private IP address of a secondary IP configuration associated with a secondary NIC, the steps above must be completed only after the VM is stopped and deallocated.</span></span>

|<span data-ttu-id="660d1-395">**Tool**</span><span class="sxs-lookup"><span data-stu-id="660d1-395">**Tool**</span></span>|<span data-ttu-id="660d1-396">**Command**</span><span class="sxs-lookup"><span data-stu-id="660d1-396">**Command**</span></span>|
|---|---|
|<span data-ttu-id="660d1-397">**CLI**</span><span class="sxs-lookup"><span data-stu-id="660d1-397">**CLI**</span></span>|[<span data-ttu-id="660d1-398">az network nic ip-config update</span><span class="sxs-lookup"><span data-stu-id="660d1-398">az network nic ip-config update</span></span>](/cli/azure/network/nic/ip-config?toc=%2fazure%2fvirtual-network%2ftoc.json#update)|
|<span data-ttu-id="660d1-399">**PowerShell**</span><span class="sxs-lookup"><span data-stu-id="660d1-399">**PowerShell**</span></span>|[<span data-ttu-id="660d1-400">Set-AzureRMNetworkInterfaceIpConfig</span><span class="sxs-lookup"><span data-stu-id="660d1-400">Set-AzureRMNetworkInterfaceIpConfig</span></span>](/powershell/resourcemanager/azurerm.network/v3.4.0/set-azurermnetworkinterfaceipconfig?toc=%2fazure%2fvirtual-network%2ftoc.json)|

### <a name="delete-ip-config"></a><span data-ttu-id="660d1-401">Delete a secondary IP configuration from a NIC</span><span class="sxs-lookup"><span data-stu-id="660d1-401">Delete a secondary IP configuration from a NIC</span></span>

<span data-ttu-id="660d1-402">Complete the following steps to delete a secondary IP configuration from a NIC:</span><span class="sxs-lookup"><span data-stu-id="660d1-402">Complete the following steps to delete a secondary IP configuration from a NIC:</span></span>

1. <span data-ttu-id="660d1-403">Complete steps 1-3 in the [View network interface settings](#view-nics) section of this article for the NIC you want to modify.</span><span class="sxs-lookup"><span data-stu-id="660d1-403">Complete steps 1-3 in the [View network interface settings](#view-nics) section of this article for the NIC you want to modify.</span></span>
2. <span data-ttu-id="660d1-404">Click **IP configurations** in the blade for the NIC you selected.</span><span class="sxs-lookup"><span data-stu-id="660d1-404">Click **IP configurations** in the blade for the NIC you selected.</span></span>
3. <span data-ttu-id="660d1-405">Right-click the secondary IP configuration you want to delete and click **Delete**.</span><span class="sxs-lookup"><span data-stu-id="660d1-405">Right-click the secondary IP configuration you want to delete and click **Delete**.</span></span> <span data-ttu-id="660d1-406">If the configuration had a public IP address resource associated to it, the resource is dissociated from the IP configuration, but the resource is not deleted.</span><span class="sxs-lookup"><span data-stu-id="660d1-406">If the configuration had a public IP address resource associated to it, the resource is dissociated from the IP configuration, but the resource is not deleted.</span></span>
4. <span data-ttu-id="660d1-407">Close the **IP configurations** blade.</span><span class="sxs-lookup"><span data-stu-id="660d1-407">Close the **IP configurations** blade.</span></span>

|<span data-ttu-id="660d1-408">**Tool**</span><span class="sxs-lookup"><span data-stu-id="660d1-408">**Tool**</span></span>|<span data-ttu-id="660d1-409">**Command**</span><span class="sxs-lookup"><span data-stu-id="660d1-409">**Command**</span></span>|
|---|---|
|<span data-ttu-id="660d1-410">**CLI**</span><span class="sxs-lookup"><span data-stu-id="660d1-410">**CLI**</span></span>|[<span data-ttu-id="660d1-411">az network nic ip-config delete</span><span class="sxs-lookup"><span data-stu-id="660d1-411">az network nic ip-config delete</span></span>](/cli/azure/network/nic/ip-config?toc=%2fazure%2fvirtual-network%2ftoc.json#delete)|
|<span data-ttu-id="660d1-412">**PowerShell**</span><span class="sxs-lookup"><span data-stu-id="660d1-412">**PowerShell**</span></span>|[<span data-ttu-id="660d1-413">Remove-AzureRmNetworkInterfaceIpConfig</span><span class="sxs-lookup"><span data-stu-id="660d1-413">Remove-AzureRmNetworkInterfaceIpConfig</span></span>](/powershell/resourcemanager/azurerm.network/v3.4.0/remove-azurermnetworkinterfaceipconfig?toc=%2fazure%2fvirtual-network%2ftoc.json)|


## <a name="nsgs"></a><span data-ttu-id="660d1-414">Network security groups</span><span class="sxs-lookup"><span data-stu-id="660d1-414">Network security groups</span></span>
<span data-ttu-id="660d1-415">A network security group (NSG) contains a list of inbound and outbound rules that allow or deny network traffic to a NIC.</span><span class="sxs-lookup"><span data-stu-id="660d1-415">A network security group (NSG) contains a list of inbound and outbound rules that allow or deny network traffic to a NIC.</span></span> <span data-ttu-id="660d1-416">A NIC, and the subnet the NIC is connected to, are not required to have an NSG associated.</span><span class="sxs-lookup"><span data-stu-id="660d1-416">A NIC, and the subnet the NIC is connected to, are not required to have an NSG associated.</span></span> <span data-ttu-id="660d1-417">An NSG can be associated to a NIC, the subnet the NIC is connected to, or both however.</span><span class="sxs-lookup"><span data-stu-id="660d1-417">An NSG can be associated to a NIC, the subnet the NIC is connected to, or both however.</span></span> <span data-ttu-id="660d1-418">NSGs with rules applicable to all NICs connected to the subnet are typically associated to subnets.</span><span class="sxs-lookup"><span data-stu-id="660d1-418">NSGs with rules applicable to all NICs connected to the subnet are typically associated to subnets.</span></span> <span data-ttu-id="660d1-419">An NSG with more granular rules might then be applied to individual NICs.</span><span class="sxs-lookup"><span data-stu-id="660d1-419">An NSG with more granular rules might then be applied to individual NICs.</span></span> <span data-ttu-id="660d1-420">To learn more about network security groups, read the [Network security groups](virtual-networks-nsg.md) article.</span><span class="sxs-lookup"><span data-stu-id="660d1-420">To learn more about network security groups, read the [Network security groups](virtual-networks-nsg.md) article.</span></span>

### <a name="associate-nsg"></a><span data-ttu-id="660d1-421">Associate an NSG to or disassociate an NSG from a network interface</span><span class="sxs-lookup"><span data-stu-id="660d1-421">Associate an NSG to or disassociate an NSG from a network interface</span></span>

<span data-ttu-id="660d1-422">To associate an NSG to a NIC or disassociate an NSG from a NIC, complete the following steps:</span><span class="sxs-lookup"><span data-stu-id="660d1-422">To associate an NSG to a NIC or disassociate an NSG from a NIC, complete the following steps:</span></span>

1. <span data-ttu-id="660d1-423">Complete steps 1-3 in the [View and change network interfaces and settings](#view-nics) section of this article for the NIC you want to associate or disassociate an NSG to or from.</span><span class="sxs-lookup"><span data-stu-id="660d1-423">Complete steps 1-3 in the [View and change network interfaces and settings](#view-nics) section of this article for the NIC you want to associate or disassociate an NSG to or from.</span></span>
2. <span data-ttu-id="660d1-424">In the blade for the NIC you selected, click **Network security group**.</span><span class="sxs-lookup"><span data-stu-id="660d1-424">In the blade for the NIC you selected, click **Network security group**.</span></span> <span data-ttu-id="660d1-425">A blade appears with **Edit** at the top of it.</span><span class="sxs-lookup"><span data-stu-id="660d1-425">A blade appears with **Edit** at the top of it.</span></span> <span data-ttu-id="660d1-426">If no NSG is currently associated to the NIC, **Network security group** *None* is displayed.</span><span class="sxs-lookup"><span data-stu-id="660d1-426">If no NSG is currently associated to the NIC, **Network security group** *None* is displayed.</span></span> <span data-ttu-id="660d1-427">If an NSG is currently associated to a NIC, **Network security group** *NSG-Name* (where NSG-Name is the name of the NSG currently associated to the NIC) is displayed.</span><span class="sxs-lookup"><span data-stu-id="660d1-427">If an NSG is currently associated to a NIC, **Network security group** *NSG-Name* (where NSG-Name is the name of the NSG currently associated to the NIC) is displayed.</span></span>
3. <span data-ttu-id="660d1-428">Click **Edit**.</span><span class="sxs-lookup"><span data-stu-id="660d1-428">Click **Edit**.</span></span>
4. <span data-ttu-id="660d1-429">Click **Network security group**.</span><span class="sxs-lookup"><span data-stu-id="660d1-429">Click **Network security group**.</span></span> <span data-ttu-id="660d1-430">If no network security groups are listed, it's because none exist in your subscription.</span><span class="sxs-lookup"><span data-stu-id="660d1-430">If no network security groups are listed, it's because none exist in your subscription.</span></span> <span data-ttu-id="660d1-431">To create an NSG, complete the steps in the [Network security groups](virtual-networks-create-nsg-arm-pportal.md) article.</span><span class="sxs-lookup"><span data-stu-id="660d1-431">To create an NSG, complete the steps in the [Network security groups](virtual-networks-create-nsg-arm-pportal.md) article.</span></span>
5. <span data-ttu-id="660d1-432">In the **Choose network security group** blade that appears, click an existing NSG from the list to associate that NSG to the NIC, or click **None**, to disassociate an NSG currently associated to a NIC.</span><span class="sxs-lookup"><span data-stu-id="660d1-432">In the **Choose network security group** blade that appears, click an existing NSG from the list to associate that NSG to the NIC, or click **None**, to disassociate an NSG currently associated to a NIC.</span></span>
6. <span data-ttu-id="660d1-433">Click **Save**.</span><span class="sxs-lookup"><span data-stu-id="660d1-433">Click **Save**.</span></span>

|<span data-ttu-id="660d1-434">**Tool**</span><span class="sxs-lookup"><span data-stu-id="660d1-434">**Tool**</span></span>|<span data-ttu-id="660d1-435">**Command**</span><span class="sxs-lookup"><span data-stu-id="660d1-435">**Command**</span></span>|
|---|---|
|<span data-ttu-id="660d1-436">**CLI**</span><span class="sxs-lookup"><span data-stu-id="660d1-436">**CLI**</span></span>|[<span data-ttu-id="660d1-437">az network nic update</span><span class="sxs-lookup"><span data-stu-id="660d1-437">az network nic update</span></span>](/cli/azure/network/nic?toc=%2fazure%2fvirtual-network%2ftoc.json#update)|
|<span data-ttu-id="660d1-438">**PowerShell**</span><span class="sxs-lookup"><span data-stu-id="660d1-438">**PowerShell**</span></span>|[<span data-ttu-id="660d1-439">Set-AzureRmNetworkInterface</span><span class="sxs-lookup"><span data-stu-id="660d1-439">Set-AzureRmNetworkInterface</span></span>](/powershell/resourcemanager/azurerm.network/v3.4.0/set-azurermnetworkinterface?toc=%2fazure%2fvirtual-network%2ftoc.json)|

## <a name="vms"></a><span data-ttu-id="660d1-440">Attach and detach NICs to or from a virtual machine</span><span class="sxs-lookup"><span data-stu-id="660d1-440">Attach and detach NICs to or from a virtual machine</span></span>

<span data-ttu-id="660d1-441">You can attach an existing NIC to a VM when you create it or you can attach an existing NIC to an existing VM.</span><span class="sxs-lookup"><span data-stu-id="660d1-441">You can attach an existing NIC to a VM when you create it or you can attach an existing NIC to an existing VM.</span></span> <span data-ttu-id="660d1-442">You can also detach a NIC from an existing VM that has at least two NICs.</span><span class="sxs-lookup"><span data-stu-id="660d1-442">You can also detach a NIC from an existing VM that has at least two NICs.</span></span> <span data-ttu-id="660d1-443">Though the portal creates a NIC when you create a VM, it does not allow you to:</span><span class="sxs-lookup"><span data-stu-id="660d1-443">Though the portal creates a NIC when you create a VM, it does not allow you to:</span></span>

- <span data-ttu-id="660d1-444">Specify an existing NIC to attach when creating the VM</span><span class="sxs-lookup"><span data-stu-id="660d1-444">Specify an existing NIC to attach when creating the VM</span></span>
- <span data-ttu-id="660d1-445">Create a VM with multiple NICs attached</span><span class="sxs-lookup"><span data-stu-id="660d1-445">Create a VM with multiple NICs attached</span></span>
- <span data-ttu-id="660d1-446">Specify a name for the NIC (the portal creates the NIC with a default name)</span><span class="sxs-lookup"><span data-stu-id="660d1-446">Specify a name for the NIC (the portal creates the NIC with a default name)</span></span>
- <span data-ttu-id="660d1-447">Specify that the private IP address assignment method is static.</span><span class="sxs-lookup"><span data-stu-id="660d1-447">Specify that the private IP address assignment method is static.</span></span> <span data-ttu-id="660d1-448">The portal automatically assigns a dynamic private IP address, though you can change the assignment method after the portal creates the NIC.</span><span class="sxs-lookup"><span data-stu-id="660d1-448">The portal automatically assigns a dynamic private IP address, though you can change the assignment method after the portal creates the NIC.</span></span>

<span data-ttu-id="660d1-449">You can use PowerShell or the CLI to create a NIC or VM with all the previous attributes that you cannot use the portal for.</span><span class="sxs-lookup"><span data-stu-id="660d1-449">You can use PowerShell or the CLI to create a NIC or VM with all the previous attributes that you cannot use the portal for.</span></span> <span data-ttu-id="660d1-450">Before completing the tasks in the following sections, consider the following constraints and behaviors:</span><span class="sxs-lookup"><span data-stu-id="660d1-450">Before completing the tasks in the following sections, consider the following constraints and behaviors:</span></span>

- <span data-ttu-id="660d1-451">Different VM sizes support different numbers of NICs.</span><span class="sxs-lookup"><span data-stu-id="660d1-451">Different VM sizes support different numbers of NICs.</span></span> <span data-ttu-id="660d1-452">To learn more about how many NICs each VM size supports, read the [Linux](../virtual-machines/linux/sizes.md?toc=%2fazure%2fvirtual-network%2ftoc.json) or [Windows](../virtual-machines/virtual-machines-windows-sizes.md?toc=%2fazure%2fvirtual-network%2ftoc.json) VM sizes articles.</span><span class="sxs-lookup"><span data-stu-id="660d1-452">To learn more about how many NICs each VM size supports, read the [Linux](../virtual-machines/linux/sizes.md?toc=%2fazure%2fvirtual-network%2ftoc.json) or [Windows](../virtual-machines/virtual-machines-windows-sizes.md?toc=%2fazure%2fvirtual-network%2ftoc.json) VM sizes articles.</span></span> 
- <span data-ttu-id="660d1-453">In the past, NICs could only be added to VMs that supported multiple NICs and were created with at least two NICs.</span><span class="sxs-lookup"><span data-stu-id="660d1-453">In the past, NICs could only be added to VMs that supported multiple NICs and were created with at least two NICs.</span></span> <span data-ttu-id="660d1-454">You could not add a NIC to a VM that was created with one NIC, even if the VM size supported multiple NICs.</span><span class="sxs-lookup"><span data-stu-id="660d1-454">You could not add a NIC to a VM that was created with one NIC, even if the VM size supported multiple NICs.</span></span> <span data-ttu-id="660d1-455">Conversely, you could only remove NICs from a VM with at least three NICs attached to it, because VMs created with at least two NICs always had to have at least two NICs attached.</span><span class="sxs-lookup"><span data-stu-id="660d1-455">Conversely, you could only remove NICs from a VM with at least three NICs attached to it, because VMs created with at least two NICs always had to have at least two NICs attached.</span></span> <span data-ttu-id="660d1-456">Neither of these constraints apply anymore.</span><span class="sxs-lookup"><span data-stu-id="660d1-456">Neither of these constraints apply anymore.</span></span> <span data-ttu-id="660d1-457">You can now create a VM with any number of NICs (up to the number supported by the VM size) and add or remove any number of NICs, as long as the VM always has at least one attached NIC.</span><span class="sxs-lookup"><span data-stu-id="660d1-457">You can now create a VM with any number of NICs (up to the number supported by the VM size) and add or remove any number of NICs, as long as the VM always has at least one attached NIC.</span></span> 
- <span data-ttu-id="660d1-458">By default, the first NIC attached to a VM is defined as the *primary* NIC.</span><span class="sxs-lookup"><span data-stu-id="660d1-458">By default, the first NIC attached to a VM is defined as the *primary* NIC.</span></span> <span data-ttu-id="660d1-459">All other NICs attached to the VM are *secondary* NICs.</span><span class="sxs-lookup"><span data-stu-id="660d1-459">All other NICs attached to the VM are *secondary* NICs.</span></span>
- <span data-ttu-id="660d1-460">By default, all outbound traffic from the VM is sent out the IP address assigned to the primary IP configuration of the primary NIC.</span><span class="sxs-lookup"><span data-stu-id="660d1-460">By default, all outbound traffic from the VM is sent out the IP address assigned to the primary IP configuration of the primary NIC.</span></span> <span data-ttu-id="660d1-461">You can of course, control which IP address is used for outbound traffic within the VM's operating system.</span><span class="sxs-lookup"><span data-stu-id="660d1-461">You can of course, control which IP address is used for outbound traffic within the VM's operating system.</span></span>
- <span data-ttu-id="660d1-462">In the past, all VMs within the same availability set were required to have a single, or multiple, NICs.</span><span class="sxs-lookup"><span data-stu-id="660d1-462">In the past, all VMs within the same availability set were required to have a single, or multiple, NICs.</span></span> <span data-ttu-id="660d1-463">VMs with any number of NICs can now exist in the same availability set.</span><span class="sxs-lookup"><span data-stu-id="660d1-463">VMs with any number of NICs can now exist in the same availability set.</span></span> <span data-ttu-id="660d1-464">A VM can only be added to an availability set when it's created though.</span><span class="sxs-lookup"><span data-stu-id="660d1-464">A VM can only be added to an availability set when it's created though.</span></span> <span data-ttu-id="660d1-465">To learn more about availability sets, read the [Manage the availability of Windows virtual machines in Azure](../virtual-machines/windows/manage-availability.md?toc=%2fazure%2fvirtual-network%2ftoc.json#configure-multiple-virtual-machines-in-an-availability-set-for-redundancy) article.</span><span class="sxs-lookup"><span data-stu-id="660d1-465">To learn more about availability sets, read the [Manage the availability of Windows virtual machines in Azure](../virtual-machines/windows/manage-availability.md?toc=%2fazure%2fvirtual-network%2ftoc.json#configure-multiple-virtual-machines-in-an-availability-set-for-redundancy) article.</span></span>
- <span data-ttu-id="660d1-466">While NICs attached to the same VM can be connected to different subnets within a VNet, the NICs must all be connected to the same VNet.</span><span class="sxs-lookup"><span data-stu-id="660d1-466">While NICs attached to the same VM can be connected to different subnets within a VNet, the NICs must all be connected to the same VNet.</span></span>
- <span data-ttu-id="660d1-467">You can add any IP address for any IP configuration of any primary or secondary NIC to an Azure Load Balancer back-end pool.</span><span class="sxs-lookup"><span data-stu-id="660d1-467">You can add any IP address for any IP configuration of any primary or secondary NIC to an Azure Load Balancer back-end pool.</span></span> <span data-ttu-id="660d1-468">In the past, only the primary IP address for the primary NIC could be added to a back-end pool.</span><span class="sxs-lookup"><span data-stu-id="660d1-468">In the past, only the primary IP address for the primary NIC could be added to a back-end pool.</span></span>
- <span data-ttu-id="660d1-469">Deleting a VM does not delete the NICs attached to it.</span><span class="sxs-lookup"><span data-stu-id="660d1-469">Deleting a VM does not delete the NICs attached to it.</span></span> <span data-ttu-id="660d1-470">When a VM is deleted, the NICs are detached from the VM.</span><span class="sxs-lookup"><span data-stu-id="660d1-470">When a VM is deleted, the NICs are detached from the VM.</span></span> <span data-ttu-id="660d1-471">You can attach the NICs to different VMs, or delete them.</span><span class="sxs-lookup"><span data-stu-id="660d1-471">You can attach the NICs to different VMs, or delete them.</span></span>

### <a name="vm-create"></a><span data-ttu-id="660d1-472">Attach one or more NICs when creating a virtual machine</span><span class="sxs-lookup"><span data-stu-id="660d1-472">Attach one or more NICs when creating a virtual machine</span></span>

<span data-ttu-id="660d1-473">You cannot attach existing NICs to a new VM, or create a VM with multiple NICs using the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="660d1-473">You cannot attach existing NICs to a new VM, or create a VM with multiple NICs using the Azure portal.</span></span> <span data-ttu-id="660d1-474">You can use the following Azure CLI or PowerShell commands to attach one or more existing NICs when creating a VM:</span><span class="sxs-lookup"><span data-stu-id="660d1-474">You can use the following Azure CLI or PowerShell commands to attach one or more existing NICs when creating a VM:</span></span>

- <span data-ttu-id="660d1-475">**CLI:** [az vm create](/cli/azure/vm?toc=%2fazure%2fvirtual-network%2ftoc.json#create)</span><span class="sxs-lookup"><span data-stu-id="660d1-475">**CLI:** [az vm create](/cli/azure/vm?toc=%2fazure%2fvirtual-network%2ftoc.json#create)</span></span>
- <span data-ttu-id="660d1-476">**PowerShell:** [New-AzureRmVM](/powershell/resourcemanager/azurerm.compute/v2.5.0/new-azurermvm?toc=%2fazure%2fvirtual-network%2ftoc.json)</span><span class="sxs-lookup"><span data-stu-id="660d1-476">**PowerShell:** [New-AzureRmVM](/powershell/resourcemanager/azurerm.compute/v2.5.0/new-azurermvm?toc=%2fazure%2fvirtual-network%2ftoc.json)</span></span>

### <a name="vm-view-nic"></a> <span data-ttu-id="660d1-477">View NICs attached to a virtual machine</span><span class="sxs-lookup"><span data-stu-id="660d1-477">View NICs attached to a virtual machine</span></span>

1. <span data-ttu-id="660d1-478">Log in to the [Azure portal](https://portal.azure.com) with an account that is assigned the Owner, Contributor, or Network Contributor role for your subscription.</span><span class="sxs-lookup"><span data-stu-id="660d1-478">Log in to the [Azure portal](https://portal.azure.com) with an account that is assigned the Owner, Contributor, or Network Contributor role for your subscription.</span></span> <span data-ttu-id="660d1-479">Read the [Built-in roles for Azure role-based access control](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) article to learn more about assigning roles to accounts.</span><span class="sxs-lookup"><span data-stu-id="660d1-479">Read the [Built-in roles for Azure role-based access control](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) article to learn more about assigning roles to accounts.</span></span>
2. <span data-ttu-id="660d1-480">In the box that contains the text *Search resources* at the top of the Azure portal, type *virtual machines*.</span><span class="sxs-lookup"><span data-stu-id="660d1-480">In the box that contains the text *Search resources* at the top of the Azure portal, type *virtual machines*.</span></span> <span data-ttu-id="660d1-481">When **virtual machines** appears in the search results, click it.</span><span class="sxs-lookup"><span data-stu-id="660d1-481">When **virtual machines** appears in the search results, click it.</span></span>
3. <span data-ttu-id="660d1-482">In the **Virtual machines** blade that appears, click the name of the VM you want to view attached network interfaces for.</span><span class="sxs-lookup"><span data-stu-id="660d1-482">In the **Virtual machines** blade that appears, click the name of the VM you want to view attached network interfaces for.</span></span>
4. <span data-ttu-id="660d1-483">In the **Virtual machine** blade that appears for the VM you selected, click **Network interfaces**.</span><span class="sxs-lookup"><span data-stu-id="660d1-483">In the **Virtual machine** blade that appears for the VM you selected, click **Network interfaces**.</span></span>

|<span data-ttu-id="660d1-484">**Tool**</span><span class="sxs-lookup"><span data-stu-id="660d1-484">**Tool**</span></span>|<span data-ttu-id="660d1-485">**Command**</span><span class="sxs-lookup"><span data-stu-id="660d1-485">**Command**</span></span>|
|---|---|
|<span data-ttu-id="660d1-486">**CLI**</span><span class="sxs-lookup"><span data-stu-id="660d1-486">**CLI**</span></span>|[<span data-ttu-id="660d1-487">az vm show</span><span class="sxs-lookup"><span data-stu-id="660d1-487">az vm show</span></span>](/cli/azure/vm?toc=%2fazure%2fvirtual-network%2ftoc.json#show)|
|<span data-ttu-id="660d1-488">**PowerShell**</span><span class="sxs-lookup"><span data-stu-id="660d1-488">**PowerShell**</span></span>|[<span data-ttu-id="660d1-489">Get-AzureRmVM</span><span class="sxs-lookup"><span data-stu-id="660d1-489">Get-AzureRmVM</span></span>](/powershell/resourcemanager/azurerm.compute/v1.3.4/get-azurermvm?toc=%2fazure%2fvirtual-network%2ftoc.json)|

### <a name="vm-attach-nic"></a><span data-ttu-id="660d1-490">Attach a NIC to an existing virtual machine</span><span class="sxs-lookup"><span data-stu-id="660d1-490">Attach a NIC to an existing virtual machine</span></span>

<span data-ttu-id="660d1-491">The VM you want to attach a NIC to must support multiple NICs and be in the stopped (deallocated) state.</span><span class="sxs-lookup"><span data-stu-id="660d1-491">The VM you want to attach a NIC to must support multiple NICs and be in the stopped (deallocated) state.</span></span> <span data-ttu-id="660d1-492">You cannot attach NICs to an existing VM using the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="660d1-492">You cannot attach NICs to an existing VM using the Azure portal.</span></span> <span data-ttu-id="660d1-493">You can use the following Azure CLI or PowerShell commands to attach NICs to VMs:</span><span class="sxs-lookup"><span data-stu-id="660d1-493">You can use the following Azure CLI or PowerShell commands to attach NICs to VMs:</span></span>

- <span data-ttu-id="660d1-494">**CLI:** [az vm nic add](/cli/azure/vm/nic?toc=%2fazure%2fvirtual-network%2ftoc.json#add)</span><span class="sxs-lookup"><span data-stu-id="660d1-494">**CLI:** [az vm nic add](/cli/azure/vm/nic?toc=%2fazure%2fvirtual-network%2ftoc.json#add)</span></span>
- <span data-ttu-id="660d1-495">**PowerShell:** [Add-AzureRmVMNetworkInterface](/powershell/resourcemanager/azurerm.compute/v2.5.0/add-azurermvmnetworkinterface?toc=%2fazure%2fvirtual-network%2ftoc.json)</span><span class="sxs-lookup"><span data-stu-id="660d1-495">**PowerShell:** [Add-AzureRmVMNetworkInterface](/powershell/resourcemanager/azurerm.compute/v2.5.0/add-azurermvmnetworkinterface?toc=%2fazure%2fvirtual-network%2ftoc.json)</span></span>

### <a name="vm-detach-nic"></a><span data-ttu-id="660d1-496">Detach a NIC from an existing virtual machine</span><span class="sxs-lookup"><span data-stu-id="660d1-496">Detach a NIC from an existing virtual machine</span></span>

<span data-ttu-id="660d1-497">The VM you want to detach a NIC from must be in the stopped (deallocated) state and must currently have at least two attached NICs.</span><span class="sxs-lookup"><span data-stu-id="660d1-497">The VM you want to detach a NIC from must be in the stopped (deallocated) state and must currently have at least two attached NICs.</span></span> <span data-ttu-id="660d1-498">You can detach any NIC, but the VM must always have at least one NIC attached.</span><span class="sxs-lookup"><span data-stu-id="660d1-498">You can detach any NIC, but the VM must always have at least one NIC attached.</span></span> <span data-ttu-id="660d1-499">If you detach a primary NIC, Azure assigns the primary attribute to a remaining attached NIC that's been attached to the VM the longest.</span><span class="sxs-lookup"><span data-stu-id="660d1-499">If you detach a primary NIC, Azure assigns the primary attribute to a remaining attached NIC that's been attached to the VM the longest.</span></span> <span data-ttu-id="660d1-500">You can also designate any NIC as the primary yourself.</span><span class="sxs-lookup"><span data-stu-id="660d1-500">You can also designate any NIC as the primary yourself.</span></span> <span data-ttu-id="660d1-501">You cannot detach NICs from a VM, nor set the primary attribute for a NIC using the Azure portal, though you can accomplish both operations using the CLI or PowerShell.</span><span class="sxs-lookup"><span data-stu-id="660d1-501">You cannot detach NICs from a VM, nor set the primary attribute for a NIC using the Azure portal, though you can accomplish both operations using the CLI or PowerShell.</span></span> <span data-ttu-id="660d1-502">You can use the following Azure CLI or PowerShell commands to detach NICs from VMs:</span><span class="sxs-lookup"><span data-stu-id="660d1-502">You can use the following Azure CLI or PowerShell commands to detach NICs from VMs:</span></span>

- <span data-ttu-id="660d1-503">**CLI:** [az vm nic remove](/cli/azure/vm/nic?toc=%2fazure%2fvirtual-network%2ftoc.json#remove)</span><span class="sxs-lookup"><span data-stu-id="660d1-503">**CLI:** [az vm nic remove](/cli/azure/vm/nic?toc=%2fazure%2fvirtual-network%2ftoc.json#remove)</span></span>
- <span data-ttu-id="660d1-504">**PowerShell:** [Remove-AzureRMVMNetworkInterface](/powershell/resourcemanager/azurerm.compute/v2.5.0/remove-azurermvmnetworkinterface?toc=%2fazure%2fvirtual-network%2ftoc.json)</span><span class="sxs-lookup"><span data-stu-id="660d1-504">**PowerShell:** [Remove-AzureRMVMNetworkInterface](/powershell/resourcemanager/azurerm.compute/v2.5.0/remove-azurermvmnetworkinterface?toc=%2fazure%2fvirtual-network%2ftoc.json)</span></span>

## <a name="next-steps"></a><span data-ttu-id="660d1-505">Next Steps</span><span class="sxs-lookup"><span data-stu-id="660d1-505">Next Steps</span></span>
<span data-ttu-id="660d1-506">To create a VM with multiple NICs or IP configurations using scripts, read the following articles:</span><span class="sxs-lookup"><span data-stu-id="660d1-506">To create a VM with multiple NICs or IP configurations using scripts, read the following articles:</span></span>

|<span data-ttu-id="660d1-507">**Task**</span><span class="sxs-lookup"><span data-stu-id="660d1-507">**Task**</span></span>|<span data-ttu-id="660d1-508">**Tool**</span><span class="sxs-lookup"><span data-stu-id="660d1-508">**Tool**</span></span>|
|---|---|
|<span data-ttu-id="660d1-509">**Create a VM with multiple NICs**</span><span class="sxs-lookup"><span data-stu-id="660d1-509">**Create a VM with multiple NICs**</span></span>|<span data-ttu-id="660d1-510">[CLI](virtual-network-deploy-multinic-arm-cli.md) and [PowerShell](virtual-network-deploy-multinic-arm-ps.md)</span><span class="sxs-lookup"><span data-stu-id="660d1-510">[CLI](virtual-network-deploy-multinic-arm-cli.md) and [PowerShell](virtual-network-deploy-multinic-arm-ps.md)</span></span>|
|<span data-ttu-id="660d1-511">**Create a single NIC VM with multiple IP addresses assigned to it**</span><span class="sxs-lookup"><span data-stu-id="660d1-511">**Create a single NIC VM with multiple IP addresses assigned to it**</span></span>|<span data-ttu-id="660d1-512">[CLI](virtual-network-multiple-ip-addresses-cli.md) and [PowerShell](virtual-network-multiple-ip-addresses-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="660d1-512">[CLI](virtual-network-multiple-ip-addresses-cli.md) and [PowerShell](virtual-network-multiple-ip-addresses-powershell.md)</span></span>|


