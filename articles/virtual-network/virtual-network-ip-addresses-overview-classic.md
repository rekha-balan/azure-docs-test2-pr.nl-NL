---
title: IP address types in Azure (Classic) | Microsoft Docs
description: Learn about public and private IP addresses (Classic) in Azure.
services: virtual-network
documentationcenter: na
author: genlin
manager: cshepard
editor: tysonn
tags: azure-service-management
ms.assetid: 2f8664ab-2daf-43fa-bbeb-be9773efc978
ms.service: virtual-network
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 02/11/2016
ms.author: genli
ms.openlocfilehash: 6a63099bf2a8bc818c88ccec1d5f44bb9ffc32de
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44814163"
---
# <a name="ip-address-types-and-allocation-methods-classic-in-azure"></a><span data-ttu-id="7fbd8-103">IP address types and allocation methods (classic) in Azure</span><span class="sxs-lookup"><span data-stu-id="7fbd8-103">IP address types and allocation methods (classic) in Azure</span></span>
<span data-ttu-id="7fbd8-104">You can assign IP addresses to Azure resources to communicate with other Azure resources, your on-premises network, and the Internet.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-104">You can assign IP addresses to Azure resources to communicate with other Azure resources, your on-premises network, and the Internet.</span></span> <span data-ttu-id="7fbd8-105">There are two types of IP addresses you can use in Azure: public and private.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-105">There are two types of IP addresses you can use in Azure: public and private.</span></span>

<span data-ttu-id="7fbd8-106">Public IP addresses are used for communication with the Internet, including Azure public-facing services.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-106">Public IP addresses are used for communication with the Internet, including Azure public-facing services.</span></span>

<span data-ttu-id="7fbd8-107">Private IP addresses are used for communication within an Azure virtual network (VNet), a cloud service, and your on-premises network when you use a VPN gateway or ExpressRoute circuit to extend your network to Azure.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-107">Private IP addresses are used for communication within an Azure virtual network (VNet), a cloud service, and your on-premises network when you use a VPN gateway or ExpressRoute circuit to extend your network to Azure.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="7fbd8-108">Azure has two different deployment models for creating and working with resources:  [Resource Manager and classic](../resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="7fbd8-108">Azure has two different deployment models for creating and working with resources:  [Resource Manager and classic](../resource-manager-deployment-model.md).</span></span>  <span data-ttu-id="7fbd8-109">This article covers using the classic deployment model.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-109">This article covers using the classic deployment model.</span></span> <span data-ttu-id="7fbd8-110">Microsoft recommends that most new deployments use Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-110">Microsoft recommends that most new deployments use Resource Manager.</span></span> <span data-ttu-id="7fbd8-111">Learn about IP addresses in Resource Manager by reading the [IP addresses](virtual-network-ip-addresses-overview-arm.md) article.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-111">Learn about IP addresses in Resource Manager by reading the [IP addresses](virtual-network-ip-addresses-overview-arm.md) article.</span></span>

## <a name="public-ip-addresses"></a><span data-ttu-id="7fbd8-112">Public IP addresses</span><span class="sxs-lookup"><span data-stu-id="7fbd8-112">Public IP addresses</span></span>
<span data-ttu-id="7fbd8-113">Public IP addresses allow Azure resources to communicate with Internet and Azure public-facing services such as [Azure Redis Cache](https://azure.microsoft.com/services/cache/), [Azure Event Hubs](https://azure.microsoft.com/services/event-hubs/), [SQL databases](../sql-database/sql-database-technical-overview.md), and [Azure storage](../storage/common/storage-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="7fbd8-113">Public IP addresses allow Azure resources to communicate with Internet and Azure public-facing services such as [Azure Redis Cache](https://azure.microsoft.com/services/cache/), [Azure Event Hubs](https://azure.microsoft.com/services/event-hubs/), [SQL databases](../sql-database/sql-database-technical-overview.md), and [Azure storage](../storage/common/storage-introduction.md).</span></span>

<span data-ttu-id="7fbd8-114">A public IP address is associated with the following resource types:</span><span class="sxs-lookup"><span data-stu-id="7fbd8-114">A public IP address is associated with the following resource types:</span></span>

* <span data-ttu-id="7fbd8-115">Cloud services</span><span class="sxs-lookup"><span data-stu-id="7fbd8-115">Cloud services</span></span>
* <span data-ttu-id="7fbd8-116">IaaS Virtual Machines (VMs)</span><span class="sxs-lookup"><span data-stu-id="7fbd8-116">IaaS Virtual Machines (VMs)</span></span>
* <span data-ttu-id="7fbd8-117">PaaS role instances</span><span class="sxs-lookup"><span data-stu-id="7fbd8-117">PaaS role instances</span></span>
* <span data-ttu-id="7fbd8-118">VPN gateways</span><span class="sxs-lookup"><span data-stu-id="7fbd8-118">VPN gateways</span></span>
* <span data-ttu-id="7fbd8-119">Application gateways</span><span class="sxs-lookup"><span data-stu-id="7fbd8-119">Application gateways</span></span>

### <a name="allocation-method"></a><span data-ttu-id="7fbd8-120">Allocation method</span><span class="sxs-lookup"><span data-stu-id="7fbd8-120">Allocation method</span></span>
<span data-ttu-id="7fbd8-121">When a public IP address needs to be assigned to an Azure resource, it is *dynamically* allocated from a pool of available public IP address within the location the resource is created.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-121">When a public IP address needs to be assigned to an Azure resource, it is *dynamically* allocated from a pool of available public IP address within the location the resource is created.</span></span> <span data-ttu-id="7fbd8-122">This IP address is released when the resource is stopped.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-122">This IP address is released when the resource is stopped.</span></span> <span data-ttu-id="7fbd8-123">In case of a cloud service, this happens when all the role instances are stopped, which can be avoided by using a *static* (reserved) IP address (see [Cloud Services](#Cloud-services)).</span><span class="sxs-lookup"><span data-stu-id="7fbd8-123">In case of a cloud service, this happens when all the role instances are stopped, which can be avoided by using a *static* (reserved) IP address (see [Cloud Services](#Cloud-services)).</span></span>

> [!NOTE]
> <span data-ttu-id="7fbd8-124">The list of IP ranges from which public IP addresses are allocated to Azure resources is published at [Azure Datacenter IP ranges](https://www.microsoft.com/download/details.aspx?id=41653).</span><span class="sxs-lookup"><span data-stu-id="7fbd8-124">The list of IP ranges from which public IP addresses are allocated to Azure resources is published at [Azure Datacenter IP ranges](https://www.microsoft.com/download/details.aspx?id=41653).</span></span>
> 
> 

### <a name="dns-hostname-resolution"></a><span data-ttu-id="7fbd8-125">DNS hostname resolution</span><span class="sxs-lookup"><span data-stu-id="7fbd8-125">DNS hostname resolution</span></span>
<span data-ttu-id="7fbd8-126">When you create a cloud service or an IaaS VM, you need to provide a cloud service DNS name which is unique across all resources in Azure.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-126">When you create a cloud service or an IaaS VM, you need to provide a cloud service DNS name which is unique across all resources in Azure.</span></span> <span data-ttu-id="7fbd8-127">This creates a mapping in the Azure-managed DNS servers for *dnsname*.cloudapp.net to the public IP address of the resource.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-127">This creates a mapping in the Azure-managed DNS servers for *dnsname*.cloudapp.net to the public IP address of the resource.</span></span> <span data-ttu-id="7fbd8-128">For instance, when you create a cloud service with a cloud service DNS name of **contoso**, the fully-qualified domain name (FQDN) **contoso.cloudapp.net** will resolve to a public IP address (VIP) of the cloud service.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-128">For instance, when you create a cloud service with a cloud service DNS name of **contoso**, the fully-qualified domain name (FQDN) **contoso.cloudapp.net** will resolve to a public IP address (VIP) of the cloud service.</span></span> <span data-ttu-id="7fbd8-129">You can use this FQDN to create a custom domain CNAME record pointing to the public IP address in Azure.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-129">You can use this FQDN to create a custom domain CNAME record pointing to the public IP address in Azure.</span></span>

### <a name="cloud-services"></a><span data-ttu-id="7fbd8-130">Cloud services</span><span class="sxs-lookup"><span data-stu-id="7fbd8-130">Cloud services</span></span>
<span data-ttu-id="7fbd8-131">A cloud service always has a public IP address referred to as a virtual IP address (VIP).</span><span class="sxs-lookup"><span data-stu-id="7fbd8-131">A cloud service always has a public IP address referred to as a virtual IP address (VIP).</span></span> <span data-ttu-id="7fbd8-132">You can create endpoints in a cloud service to associate different ports in the VIP to internal ports on VMs and role instances within the cloud service.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-132">You can create endpoints in a cloud service to associate different ports in the VIP to internal ports on VMs and role instances within the cloud service.</span></span> 

<span data-ttu-id="7fbd8-133">A cloud service can contain multiple IaaS VMs, or PaaS role instances, all exposed through the same cloud service VIP.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-133">A cloud service can contain multiple IaaS VMs, or PaaS role instances, all exposed through the same cloud service VIP.</span></span> <span data-ttu-id="7fbd8-134">You can also assign [multiple VIPs to a cloud service](../load-balancer/load-balancer-multivip.md), which enables multi-VIP scenarios like multi-tenant environment with SSL-based websites.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-134">You can also assign [multiple VIPs to a cloud service](../load-balancer/load-balancer-multivip.md), which enables multi-VIP scenarios like multi-tenant environment with SSL-based websites.</span></span>

<span data-ttu-id="7fbd8-135">You can ensure the public IP address of a cloud service remains the same, even when all the role instances are stopped, by using a *static* public IP address, referred to as [Reserved IP](virtual-networks-reserved-public-ip.md).</span><span class="sxs-lookup"><span data-stu-id="7fbd8-135">You can ensure the public IP address of a cloud service remains the same, even when all the role instances are stopped, by using a *static* public IP address, referred to as [Reserved IP](virtual-networks-reserved-public-ip.md).</span></span> <span data-ttu-id="7fbd8-136">You can create a static (reserved) IP resource in a specific location and assign it to any cloud service in that location.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-136">You can create a static (reserved) IP resource in a specific location and assign it to any cloud service in that location.</span></span> <span data-ttu-id="7fbd8-137">You cannot specify the actual IP address for the reserved IP, it is allocated from pool of available IP addresses in the location it is created.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-137">You cannot specify the actual IP address for the reserved IP, it is allocated from pool of available IP addresses in the location it is created.</span></span> <span data-ttu-id="7fbd8-138">This IP address is not released until you explicitly delete it.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-138">This IP address is not released until you explicitly delete it.</span></span>

<span data-ttu-id="7fbd8-139">Static (reserved) public IP addresses are commonly used in the scenarios where a cloud service:</span><span class="sxs-lookup"><span data-stu-id="7fbd8-139">Static (reserved) public IP addresses are commonly used in the scenarios where a cloud service:</span></span>

* <span data-ttu-id="7fbd8-140">requires firewall rules to be setup by end-users.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-140">requires firewall rules to be setup by end-users.</span></span>
* <span data-ttu-id="7fbd8-141">depends on external DNS name resolution, and a dynamic IP would require updating A records.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-141">depends on external DNS name resolution, and a dynamic IP would require updating A records.</span></span>
* <span data-ttu-id="7fbd8-142">consumes external web services which use IP based security model.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-142">consumes external web services which use IP based security model.</span></span>
* <span data-ttu-id="7fbd8-143">uses SSL certificates linked to an IP address.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-143">uses SSL certificates linked to an IP address.</span></span>

> [!NOTE]
> <span data-ttu-id="7fbd8-144">When you create a classic VM, a container *cloud service* is created by Azure, which has a virtual IP address (VIP).</span><span class="sxs-lookup"><span data-stu-id="7fbd8-144">When you create a classic VM, a container *cloud service* is created by Azure, which has a virtual IP address (VIP).</span></span> <span data-ttu-id="7fbd8-145">When the creation is done through portal, a default RDP or SSH *endpoint* is configured by the portal so you can connect to the VM through the cloud service VIP.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-145">When the creation is done through portal, a default RDP or SSH *endpoint* is configured by the portal so you can connect to the VM through the cloud service VIP.</span></span> <span data-ttu-id="7fbd8-146">This cloud service VIP can be reserved, which effectively provides a reserved IP address to connect to the VM.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-146">This cloud service VIP can be reserved, which effectively provides a reserved IP address to connect to the VM.</span></span> <span data-ttu-id="7fbd8-147">You can open additional ports by configuring more endpoints.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-147">You can open additional ports by configuring more endpoints.</span></span>
> 
> 

### <a name="iaas-vms-and-paas-role-instances"></a><span data-ttu-id="7fbd8-148">IaaS VMs and PaaS role instances</span><span class="sxs-lookup"><span data-stu-id="7fbd8-148">IaaS VMs and PaaS role instances</span></span>
<span data-ttu-id="7fbd8-149">You can assign a public IP address directly to an IaaS [VM](../virtual-machines/virtual-machines-linux-about.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) or PaaS role instance within a cloud service.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-149">You can assign a public IP address directly to an IaaS [VM](../virtual-machines/virtual-machines-linux-about.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) or PaaS role instance within a cloud service.</span></span> <span data-ttu-id="7fbd8-150">This is referred to as an instance-level public IP address ([ILPIP](virtual-networks-instance-level-public-ip.md)).</span><span class="sxs-lookup"><span data-stu-id="7fbd8-150">This is referred to as an instance-level public IP address ([ILPIP](virtual-networks-instance-level-public-ip.md)).</span></span> <span data-ttu-id="7fbd8-151">This public IP address can be dynamic only.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-151">This public IP address can be dynamic only.</span></span>

> [!NOTE]
> <span data-ttu-id="7fbd8-152">This is different from the VIP of the cloud service, which is a container for IaaS VMs or PaaS role instances, since a cloud service can contain multiple IaaS VMs, or PaaS role instances, all exposed through the same cloud service VIP.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-152">This is different from the VIP of the cloud service, which is a container for IaaS VMs or PaaS role instances, since a cloud service can contain multiple IaaS VMs, or PaaS role instances, all exposed through the same cloud service VIP.</span></span>
> 
> 

### <a name="vpn-gateways"></a><span data-ttu-id="7fbd8-153">VPN gateways</span><span class="sxs-lookup"><span data-stu-id="7fbd8-153">VPN gateways</span></span>
<span data-ttu-id="7fbd8-154">A [VPN gateway](../vpn-gateway/vpn-gateway-about-vpngateways.md) can be used to connect an Azure VNet to other Azure VNets or on-premises networks.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-154">A [VPN gateway](../vpn-gateway/vpn-gateway-about-vpngateways.md) can be used to connect an Azure VNet to other Azure VNets or on-premises networks.</span></span> <span data-ttu-id="7fbd8-155">A VPN gateway is assigned a public IP address *dynamically*, which enables communication with the remote network.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-155">A VPN gateway is assigned a public IP address *dynamically*, which enables communication with the remote network.</span></span>

### <a name="application-gateways"></a><span data-ttu-id="7fbd8-156">Application gateways</span><span class="sxs-lookup"><span data-stu-id="7fbd8-156">Application gateways</span></span>
<span data-ttu-id="7fbd8-157">An Azure [Application gateway](../application-gateway/application-gateway-introduction.md) can be used for Layer7 load-balancing to route network traffic based on HTTP.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-157">An Azure [Application gateway](../application-gateway/application-gateway-introduction.md) can be used for Layer7 load-balancing to route network traffic based on HTTP.</span></span> <span data-ttu-id="7fbd8-158">Application gateway is assigned a public IP address *dynamically*, which serves as the load-balanced VIP.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-158">Application gateway is assigned a public IP address *dynamically*, which serves as the load-balanced VIP.</span></span>

### <a name="at-a-glance"></a><span data-ttu-id="7fbd8-159">At a glance</span><span class="sxs-lookup"><span data-stu-id="7fbd8-159">At a glance</span></span>
<span data-ttu-id="7fbd8-160">The table below shows each resource type with the possible allocation methods (dynamic/static), and ability to assign multiple public IP addresses.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-160">The table below shows each resource type with the possible allocation methods (dynamic/static), and ability to assign multiple public IP addresses.</span></span>

| <span data-ttu-id="7fbd8-161">Resource</span><span class="sxs-lookup"><span data-stu-id="7fbd8-161">Resource</span></span> | <span data-ttu-id="7fbd8-162">Dynamic</span><span class="sxs-lookup"><span data-stu-id="7fbd8-162">Dynamic</span></span> | <span data-ttu-id="7fbd8-163">Static</span><span class="sxs-lookup"><span data-stu-id="7fbd8-163">Static</span></span> | <span data-ttu-id="7fbd8-164">Multiple IP addresses</span><span class="sxs-lookup"><span data-stu-id="7fbd8-164">Multiple IP addresses</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="7fbd8-165">Cloud service</span><span class="sxs-lookup"><span data-stu-id="7fbd8-165">Cloud service</span></span> |<span data-ttu-id="7fbd8-166">Yes</span><span class="sxs-lookup"><span data-stu-id="7fbd8-166">Yes</span></span> |<span data-ttu-id="7fbd8-167">Yes</span><span class="sxs-lookup"><span data-stu-id="7fbd8-167">Yes</span></span> |<span data-ttu-id="7fbd8-168">Yes</span><span class="sxs-lookup"><span data-stu-id="7fbd8-168">Yes</span></span> |
| <span data-ttu-id="7fbd8-169">IaaS VM or PaaS role instance</span><span class="sxs-lookup"><span data-stu-id="7fbd8-169">IaaS VM or PaaS role instance</span></span> |<span data-ttu-id="7fbd8-170">Yes</span><span class="sxs-lookup"><span data-stu-id="7fbd8-170">Yes</span></span> |<span data-ttu-id="7fbd8-171">No</span><span class="sxs-lookup"><span data-stu-id="7fbd8-171">No</span></span> |<span data-ttu-id="7fbd8-172">No</span><span class="sxs-lookup"><span data-stu-id="7fbd8-172">No</span></span> |
| <span data-ttu-id="7fbd8-173">VPN gateway</span><span class="sxs-lookup"><span data-stu-id="7fbd8-173">VPN gateway</span></span> |<span data-ttu-id="7fbd8-174">Yes</span><span class="sxs-lookup"><span data-stu-id="7fbd8-174">Yes</span></span> |<span data-ttu-id="7fbd8-175">No</span><span class="sxs-lookup"><span data-stu-id="7fbd8-175">No</span></span> |<span data-ttu-id="7fbd8-176">No</span><span class="sxs-lookup"><span data-stu-id="7fbd8-176">No</span></span> |
| <span data-ttu-id="7fbd8-177">Application gateway</span><span class="sxs-lookup"><span data-stu-id="7fbd8-177">Application gateway</span></span> |<span data-ttu-id="7fbd8-178">Yes</span><span class="sxs-lookup"><span data-stu-id="7fbd8-178">Yes</span></span> |<span data-ttu-id="7fbd8-179">No</span><span class="sxs-lookup"><span data-stu-id="7fbd8-179">No</span></span> |<span data-ttu-id="7fbd8-180">No</span><span class="sxs-lookup"><span data-stu-id="7fbd8-180">No</span></span> |

## <a name="private-ip-addresses"></a><span data-ttu-id="7fbd8-181">Private IP addresses</span><span class="sxs-lookup"><span data-stu-id="7fbd8-181">Private IP addresses</span></span>
<span data-ttu-id="7fbd8-182">Private IP addresses allow Azure resources to communicate with other resources in a cloud service or a [virtual network](virtual-networks-overview.md)(VNet), or to on-premises network (through a VPN gateway or ExpressRoute circuit), without using an Internet-reachable IP address.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-182">Private IP addresses allow Azure resources to communicate with other resources in a cloud service or a [virtual network](virtual-networks-overview.md)(VNet), or to on-premises network (through a VPN gateway or ExpressRoute circuit), without using an Internet-reachable IP address.</span></span>

<span data-ttu-id="7fbd8-183">In Azure classic deployment model, a private IP address can be assigned to the following Azure resources:</span><span class="sxs-lookup"><span data-stu-id="7fbd8-183">In Azure classic deployment model, a private IP address can be assigned to the following Azure resources:</span></span>

* <span data-ttu-id="7fbd8-184">IaaS VMs and PaaS role instances</span><span class="sxs-lookup"><span data-stu-id="7fbd8-184">IaaS VMs and PaaS role instances</span></span>
* <span data-ttu-id="7fbd8-185">Internal load balancer</span><span class="sxs-lookup"><span data-stu-id="7fbd8-185">Internal load balancer</span></span>
* <span data-ttu-id="7fbd8-186">Application gateway</span><span class="sxs-lookup"><span data-stu-id="7fbd8-186">Application gateway</span></span>

### <a name="iaas-vms-and-paas-role-instances"></a><span data-ttu-id="7fbd8-187">IaaS VMs and PaaS role instances</span><span class="sxs-lookup"><span data-stu-id="7fbd8-187">IaaS VMs and PaaS role instances</span></span>
<span data-ttu-id="7fbd8-188">Virtual machines (VMs) created with the classic deployment model are always placed in a cloud service, similar to PaaS role instances.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-188">Virtual machines (VMs) created with the classic deployment model are always placed in a cloud service, similar to PaaS role instances.</span></span> <span data-ttu-id="7fbd8-189">The behavior of private IP addresses are thus similar for these resources.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-189">The behavior of private IP addresses are thus similar for these resources.</span></span>

<span data-ttu-id="7fbd8-190">It is important to note that a cloud service can be deployed in two ways:</span><span class="sxs-lookup"><span data-stu-id="7fbd8-190">It is important to note that a cloud service can be deployed in two ways:</span></span>

* <span data-ttu-id="7fbd8-191">As a *standalone* cloud service, where it is not within a virtual network.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-191">As a *standalone* cloud service, where it is not within a virtual network.</span></span>
* <span data-ttu-id="7fbd8-192">As part of a virtual network.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-192">As part of a virtual network.</span></span>

#### <a name="allocation-method"></a><span data-ttu-id="7fbd8-193">Allocation method</span><span class="sxs-lookup"><span data-stu-id="7fbd8-193">Allocation method</span></span>
<span data-ttu-id="7fbd8-194">In case of a *standalone* cloud service, resources get a private IP address allocated *dynamically* from the Azure datacenter private IP address range.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-194">In case of a *standalone* cloud service, resources get a private IP address allocated *dynamically* from the Azure datacenter private IP address range.</span></span> <span data-ttu-id="7fbd8-195">It can be used only for communication with other VMs within the same cloud service.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-195">It can be used only for communication with other VMs within the same cloud service.</span></span> <span data-ttu-id="7fbd8-196">This IP address can change when the resource is stopped and started.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-196">This IP address can change when the resource is stopped and started.</span></span>

<span data-ttu-id="7fbd8-197">In case of a cloud service deployed within a virtual network, resources get private IP address(es) allocated from the address range of the associated subnet(s) (as specified in its network configuration).</span><span class="sxs-lookup"><span data-stu-id="7fbd8-197">In case of a cloud service deployed within a virtual network, resources get private IP address(es) allocated from the address range of the associated subnet(s) (as specified in its network configuration).</span></span> <span data-ttu-id="7fbd8-198">This private IP address(es) can be used for communication between all VMs within the VNet.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-198">This private IP address(es) can be used for communication between all VMs within the VNet.</span></span>

<span data-ttu-id="7fbd8-199">Additionally, in case of cloud services within a VNet, a private IP address is allocated *dynamically* (using DHCP) by default.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-199">Additionally, in case of cloud services within a VNet, a private IP address is allocated *dynamically* (using DHCP) by default.</span></span> <span data-ttu-id="7fbd8-200">It can change when the resource is stopped and started.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-200">It can change when the resource is stopped and started.</span></span> <span data-ttu-id="7fbd8-201">To ensure the IP address remains the same, you need to set the allocation method to *static*, and provide a valid IP address within the corresponding address range.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-201">To ensure the IP address remains the same, you need to set the allocation method to *static*, and provide a valid IP address within the corresponding address range.</span></span>

<span data-ttu-id="7fbd8-202">Static private IP addresses are commonly used for:</span><span class="sxs-lookup"><span data-stu-id="7fbd8-202">Static private IP addresses are commonly used for:</span></span>

* <span data-ttu-id="7fbd8-203">VMs that act as domain controllers or DNS servers.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-203">VMs that act as domain controllers or DNS servers.</span></span>
* <span data-ttu-id="7fbd8-204">VMs that require firewall rules using IP addresses.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-204">VMs that require firewall rules using IP addresses.</span></span>
* <span data-ttu-id="7fbd8-205">VMs running services accessed by other apps through an IP address.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-205">VMs running services accessed by other apps through an IP address.</span></span>

#### <a name="internal-dns-hostname-resolution"></a><span data-ttu-id="7fbd8-206">Internal DNS hostname resolution</span><span class="sxs-lookup"><span data-stu-id="7fbd8-206">Internal DNS hostname resolution</span></span>
<span data-ttu-id="7fbd8-207">All Azure VMs and PaaS role instances are configured with [Azure-managed DNS servers](virtual-networks-name-resolution-for-vms-and-role-instances.md#azure-provided-name-resolution) by default, unless you explicitly configure custom DNS servers.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-207">All Azure VMs and PaaS role instances are configured with [Azure-managed DNS servers](virtual-networks-name-resolution-for-vms-and-role-instances.md#azure-provided-name-resolution) by default, unless you explicitly configure custom DNS servers.</span></span> <span data-ttu-id="7fbd8-208">These DNS servers provide internal name resolution for VMs and role instances that reside within the same VNet or cloud service.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-208">These DNS servers provide internal name resolution for VMs and role instances that reside within the same VNet or cloud service.</span></span>

<span data-ttu-id="7fbd8-209">When you create a VM, a mapping for the hostname to its private IP address is added to the Azure-managed DNS servers.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-209">When you create a VM, a mapping for the hostname to its private IP address is added to the Azure-managed DNS servers.</span></span> <span data-ttu-id="7fbd8-210">In case of a multi-NIC VM, the hostname is mapped to the private IP address of the primary NIC.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-210">In case of a multi-NIC VM, the hostname is mapped to the private IP address of the primary NIC.</span></span> <span data-ttu-id="7fbd8-211">However, this mapping information is restricted to resources within the same cloud service or VNet.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-211">However, this mapping information is restricted to resources within the same cloud service or VNet.</span></span>

<span data-ttu-id="7fbd8-212">In case of a *standalone* cloud service, you will be able to resolve hostnames of all VMs/role instances within the same cloud service only.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-212">In case of a *standalone* cloud service, you will be able to resolve hostnames of all VMs/role instances within the same cloud service only.</span></span> <span data-ttu-id="7fbd8-213">In case of a cloud service within a VNet, you will be able to resolve hostnames of all the VMs/role instances within the VNet.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-213">In case of a cloud service within a VNet, you will be able to resolve hostnames of all the VMs/role instances within the VNet.</span></span>

### <a name="internal-load-balancers-ilb--application-gateways"></a><span data-ttu-id="7fbd8-214">Internal load balancers (ILB) & Application gateways</span><span class="sxs-lookup"><span data-stu-id="7fbd8-214">Internal load balancers (ILB) & Application gateways</span></span>
<span data-ttu-id="7fbd8-215">You can assign a private IP address to the **front end** configuration of an [Azure Internal Load Balancer](../load-balancer/load-balancer-internal-overview.md) (ILB) or an [Azure Application Gateway](../application-gateway/application-gateway-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="7fbd8-215">You can assign a private IP address to the **front end** configuration of an [Azure Internal Load Balancer](../load-balancer/load-balancer-internal-overview.md) (ILB) or an [Azure Application Gateway](../application-gateway/application-gateway-introduction.md).</span></span> <span data-ttu-id="7fbd8-216">This private IP address serves as an internal endpoint, accessible only to the resources within its virtual network (VNet) and the remote networks connected to the VNet.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-216">This private IP address serves as an internal endpoint, accessible only to the resources within its virtual network (VNet) and the remote networks connected to the VNet.</span></span> <span data-ttu-id="7fbd8-217">You can assign either a dynamic or static private IP address to the front end configuration.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-217">You can assign either a dynamic or static private IP address to the front end configuration.</span></span> <span data-ttu-id="7fbd8-218">You can also assign multiple private IP addresses to enable multi-vip scenarios.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-218">You can also assign multiple private IP addresses to enable multi-vip scenarios.</span></span>

### <a name="at-a-glance"></a><span data-ttu-id="7fbd8-219">At a glance</span><span class="sxs-lookup"><span data-stu-id="7fbd8-219">At a glance</span></span>
<span data-ttu-id="7fbd8-220">The table below shows each resource type with the possible allocation methods (dynamic/static), and ability to assign multiple private IP addresses.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-220">The table below shows each resource type with the possible allocation methods (dynamic/static), and ability to assign multiple private IP addresses.</span></span>

| <span data-ttu-id="7fbd8-221">Resource</span><span class="sxs-lookup"><span data-stu-id="7fbd8-221">Resource</span></span> | <span data-ttu-id="7fbd8-222">Dynamic</span><span class="sxs-lookup"><span data-stu-id="7fbd8-222">Dynamic</span></span> | <span data-ttu-id="7fbd8-223">Static</span><span class="sxs-lookup"><span data-stu-id="7fbd8-223">Static</span></span> | <span data-ttu-id="7fbd8-224">Multiple IP addresses</span><span class="sxs-lookup"><span data-stu-id="7fbd8-224">Multiple IP addresses</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="7fbd8-225">VM (in a *standalone* cloud service or VNet)</span><span class="sxs-lookup"><span data-stu-id="7fbd8-225">VM (in a *standalone* cloud service or VNet)</span></span> |<span data-ttu-id="7fbd8-226">Yes</span><span class="sxs-lookup"><span data-stu-id="7fbd8-226">Yes</span></span> |<span data-ttu-id="7fbd8-227">Yes</span><span class="sxs-lookup"><span data-stu-id="7fbd8-227">Yes</span></span> |<span data-ttu-id="7fbd8-228">Yes</span><span class="sxs-lookup"><span data-stu-id="7fbd8-228">Yes</span></span> |
| <span data-ttu-id="7fbd8-229">PaaS role instance (in a *standalone* cloud service or VNet)</span><span class="sxs-lookup"><span data-stu-id="7fbd8-229">PaaS role instance (in a *standalone* cloud service or VNet)</span></span> |<span data-ttu-id="7fbd8-230">Yes</span><span class="sxs-lookup"><span data-stu-id="7fbd8-230">Yes</span></span> |<span data-ttu-id="7fbd8-231">No</span><span class="sxs-lookup"><span data-stu-id="7fbd8-231">No</span></span> |<span data-ttu-id="7fbd8-232">No</span><span class="sxs-lookup"><span data-stu-id="7fbd8-232">No</span></span> |
| <span data-ttu-id="7fbd8-233">Internal load balancer front end</span><span class="sxs-lookup"><span data-stu-id="7fbd8-233">Internal load balancer front end</span></span> |<span data-ttu-id="7fbd8-234">Yes</span><span class="sxs-lookup"><span data-stu-id="7fbd8-234">Yes</span></span> |<span data-ttu-id="7fbd8-235">Yes</span><span class="sxs-lookup"><span data-stu-id="7fbd8-235">Yes</span></span> |<span data-ttu-id="7fbd8-236">Yes</span><span class="sxs-lookup"><span data-stu-id="7fbd8-236">Yes</span></span> |
| <span data-ttu-id="7fbd8-237">Application gateway front end</span><span class="sxs-lookup"><span data-stu-id="7fbd8-237">Application gateway front end</span></span> |<span data-ttu-id="7fbd8-238">Yes</span><span class="sxs-lookup"><span data-stu-id="7fbd8-238">Yes</span></span> |<span data-ttu-id="7fbd8-239">Yes</span><span class="sxs-lookup"><span data-stu-id="7fbd8-239">Yes</span></span> |<span data-ttu-id="7fbd8-240">Yes</span><span class="sxs-lookup"><span data-stu-id="7fbd8-240">Yes</span></span> |

## <a name="limits"></a><span data-ttu-id="7fbd8-241">Limits</span><span class="sxs-lookup"><span data-stu-id="7fbd8-241">Limits</span></span>
<span data-ttu-id="7fbd8-242">The table below shows the limits imposed on IP addressing in Azure per subscription.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-242">The table below shows the limits imposed on IP addressing in Azure per subscription.</span></span> <span data-ttu-id="7fbd8-243">You can [contact support](https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade) to increase the default limits up to the maximum limits based on your business needs.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-243">You can [contact support](https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade) to increase the default limits up to the maximum limits based on your business needs.</span></span>

|  | <span data-ttu-id="7fbd8-244">Default limit</span><span class="sxs-lookup"><span data-stu-id="7fbd8-244">Default limit</span></span> | <span data-ttu-id="7fbd8-245">Maximum limit</span><span class="sxs-lookup"><span data-stu-id="7fbd8-245">Maximum limit</span></span> |
| --- | --- | --- |
| <span data-ttu-id="7fbd8-246">Public IP addresses (dynamic)</span><span class="sxs-lookup"><span data-stu-id="7fbd8-246">Public IP addresses (dynamic)</span></span> |<span data-ttu-id="7fbd8-247">5</span><span class="sxs-lookup"><span data-stu-id="7fbd8-247">5</span></span> |<span data-ttu-id="7fbd8-248">contact support</span><span class="sxs-lookup"><span data-stu-id="7fbd8-248">contact support</span></span> |
| <span data-ttu-id="7fbd8-249">Reserved public IP addresses</span><span class="sxs-lookup"><span data-stu-id="7fbd8-249">Reserved public IP addresses</span></span> |<span data-ttu-id="7fbd8-250">20</span><span class="sxs-lookup"><span data-stu-id="7fbd8-250">20</span></span> |<span data-ttu-id="7fbd8-251">contact support</span><span class="sxs-lookup"><span data-stu-id="7fbd8-251">contact support</span></span> |
| <span data-ttu-id="7fbd8-252">Public VIP per deployment (cloud service)</span><span class="sxs-lookup"><span data-stu-id="7fbd8-252">Public VIP per deployment (cloud service)</span></span> |<span data-ttu-id="7fbd8-253">5</span><span class="sxs-lookup"><span data-stu-id="7fbd8-253">5</span></span> |<span data-ttu-id="7fbd8-254">contact support</span><span class="sxs-lookup"><span data-stu-id="7fbd8-254">contact support</span></span> |
| <span data-ttu-id="7fbd8-255">Private VIP (ILB) per deployment (cloud service)</span><span class="sxs-lookup"><span data-stu-id="7fbd8-255">Private VIP (ILB) per deployment (cloud service)</span></span> |<span data-ttu-id="7fbd8-256">1</span><span class="sxs-lookup"><span data-stu-id="7fbd8-256">1</span></span> |<span data-ttu-id="7fbd8-257">1</span><span class="sxs-lookup"><span data-stu-id="7fbd8-257">1</span></span> |

<span data-ttu-id="7fbd8-258">Make sure you read the full set of [limits for Networking](../azure-subscription-service-limits.md#networking-limits) in Azure.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-258">Make sure you read the full set of [limits for Networking](../azure-subscription-service-limits.md#networking-limits) in Azure.</span></span>

## <a name="pricing"></a><span data-ttu-id="7fbd8-259">Pricing</span><span class="sxs-lookup"><span data-stu-id="7fbd8-259">Pricing</span></span>
<span data-ttu-id="7fbd8-260">In most cases, public IP addresses are free.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-260">In most cases, public IP addresses are free.</span></span> <span data-ttu-id="7fbd8-261">There is a nominal charge to use additional and/or static public IP addresses.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-261">There is a nominal charge to use additional and/or static public IP addresses.</span></span> <span data-ttu-id="7fbd8-262">Make sure you understand the [pricing structure for public IPs](https://azure.microsoft.com/pricing/details/ip-addresses/).</span><span class="sxs-lookup"><span data-stu-id="7fbd8-262">Make sure you understand the [pricing structure for public IPs](https://azure.microsoft.com/pricing/details/ip-addresses/).</span></span>

## <a name="differences-between-resource-manager-and-classic-deployments"></a><span data-ttu-id="7fbd8-263">Differences between Resource Manager and classic deployments</span><span class="sxs-lookup"><span data-stu-id="7fbd8-263">Differences between Resource Manager and classic deployments</span></span>
<span data-ttu-id="7fbd8-264">Below is a comparison of IP addressing features in Resource Manager and the classic deployment model.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-264">Below is a comparison of IP addressing features in Resource Manager and the classic deployment model.</span></span>

|  | <span data-ttu-id="7fbd8-265">Resource</span><span class="sxs-lookup"><span data-stu-id="7fbd8-265">Resource</span></span> | <span data-ttu-id="7fbd8-266">Classic</span><span class="sxs-lookup"><span data-stu-id="7fbd8-266">Classic</span></span> | <span data-ttu-id="7fbd8-267">Resource Manager</span><span class="sxs-lookup"><span data-stu-id="7fbd8-267">Resource Manager</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="7fbd8-268">**Public IP Address**</span><span class="sxs-lookup"><span data-stu-id="7fbd8-268">**Public IP Address**</span></span> |<span data-ttu-id="7fbd8-269">***VM***</span><span class="sxs-lookup"><span data-stu-id="7fbd8-269">***VM***</span></span> |<span data-ttu-id="7fbd8-270">Referred to as an ILPIP (dynamic only)</span><span class="sxs-lookup"><span data-stu-id="7fbd8-270">Referred to as an ILPIP (dynamic only)</span></span> |<span data-ttu-id="7fbd8-271">Referred to as a public IP (dynamic or static)</span><span class="sxs-lookup"><span data-stu-id="7fbd8-271">Referred to as a public IP (dynamic or static)</span></span> |
|  ||<span data-ttu-id="7fbd8-272">Assigned to an IaaS VM or a PaaS role instance</span><span class="sxs-lookup"><span data-stu-id="7fbd8-272">Assigned to an IaaS VM or a PaaS role instance</span></span> |<span data-ttu-id="7fbd8-273">Associated to the VM's NIC</span><span class="sxs-lookup"><span data-stu-id="7fbd8-273">Associated to the VM's NIC</span></span> | |
|  |<span data-ttu-id="7fbd8-274">***Internet facing load balancer***</span><span class="sxs-lookup"><span data-stu-id="7fbd8-274">***Internet facing load balancer***</span></span> |<span data-ttu-id="7fbd8-275">Referred to as VIP (dynamic) or Reserved IP (static)</span><span class="sxs-lookup"><span data-stu-id="7fbd8-275">Referred to as VIP (dynamic) or Reserved IP (static)</span></span> |<span data-ttu-id="7fbd8-276">Referred to as a public IP (dynamic or static)</span><span class="sxs-lookup"><span data-stu-id="7fbd8-276">Referred to as a public IP (dynamic or static)</span></span> | |
|  ||<span data-ttu-id="7fbd8-277">Assigned to a cloud service</span><span class="sxs-lookup"><span data-stu-id="7fbd8-277">Assigned to a cloud service</span></span> |<span data-ttu-id="7fbd8-278">Associated to the load balancer's front end config</span><span class="sxs-lookup"><span data-stu-id="7fbd8-278">Associated to the load balancer's front end config</span></span> | |
|  | | | |
| <span data-ttu-id="7fbd8-279">**Private IP Address**</span><span class="sxs-lookup"><span data-stu-id="7fbd8-279">**Private IP Address**</span></span> |<span data-ttu-id="7fbd8-280">***VM***</span><span class="sxs-lookup"><span data-stu-id="7fbd8-280">***VM***</span></span> |<span data-ttu-id="7fbd8-281">Referred to as a DIP</span><span class="sxs-lookup"><span data-stu-id="7fbd8-281">Referred to as a DIP</span></span> |<span data-ttu-id="7fbd8-282">Referred to as a private IP address</span><span class="sxs-lookup"><span data-stu-id="7fbd8-282">Referred to as a private IP address</span></span> |
|  ||<span data-ttu-id="7fbd8-283">Assigned to an IaaS VM or a PaaS role instance</span><span class="sxs-lookup"><span data-stu-id="7fbd8-283">Assigned to an IaaS VM or a PaaS role instance</span></span> |<span data-ttu-id="7fbd8-284">Assigned to the VM's NIC</span><span class="sxs-lookup"><span data-stu-id="7fbd8-284">Assigned to the VM's NIC</span></span> | |
|  |<span data-ttu-id="7fbd8-285">***Internal load balancer (ILB)***</span><span class="sxs-lookup"><span data-stu-id="7fbd8-285">***Internal load balancer (ILB)***</span></span> |<span data-ttu-id="7fbd8-286">Assigned to the ILB (dynamic or static)</span><span class="sxs-lookup"><span data-stu-id="7fbd8-286">Assigned to the ILB (dynamic or static)</span></span> |<span data-ttu-id="7fbd8-287">Assigned to the ILB's front end configuration (dynamic or static)</span><span class="sxs-lookup"><span data-stu-id="7fbd8-287">Assigned to the ILB's front end configuration (dynamic or static)</span></span> | |

## <a name="next-steps"></a><span data-ttu-id="7fbd8-288">Next steps</span><span class="sxs-lookup"><span data-stu-id="7fbd8-288">Next steps</span></span>
* <span data-ttu-id="7fbd8-289">[Deploy a VM with a static private IP address](virtual-networks-static-private-ip-classic-pportal.md) using the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="7fbd8-289">[Deploy a VM with a static private IP address](virtual-networks-static-private-ip-classic-pportal.md) using the Azure portal.</span></span>

