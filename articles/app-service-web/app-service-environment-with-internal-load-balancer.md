---
title: Creating and using an Internal Load Balancer with an App Service Environment | Microsoft Docs
description: Creating and using an ASE with an ILB
services: app-service
documentationcenter: ''
author: ccompy
manager: stefsch
editor: ''
ms.assetid: ad9a1e00-d5e5-413e-be47-e21e5b285dbf
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 10/17/2016
ms.author: ccompy
ms.openlocfilehash: d695ea39c9ace24a600311285a4343f499c43a41
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44670838"
---
# <a name="using-an-internal-load-balancer-with-an-app-service-environment"></a><span data-ttu-id="0045c-103">Using an Internal Load Balancer with an App Service Environment</span><span class="sxs-lookup"><span data-stu-id="0045c-103">Using an Internal Load Balancer with an App Service Environment</span></span>
<span data-ttu-id="0045c-104">The App Service Environments(ASE) feature is a Premium service option of Azure App Service that delivers an enhanced configuration capability that is not available in the multi-tenant stamps.</span><span class="sxs-lookup"><span data-stu-id="0045c-104">The App Service Environments(ASE) feature is a Premium service option of Azure App Service that delivers an enhanced configuration capability that is not available in the multi-tenant stamps.</span></span>  <span data-ttu-id="0045c-105">The ASE feature essentially deploys the Azure App Service in your Azure Virtual Network(VNet).</span><span class="sxs-lookup"><span data-stu-id="0045c-105">The ASE feature essentially deploys the Azure App Service in your Azure Virtual Network(VNet).</span></span>  <span data-ttu-id="0045c-106">To gain a greater understanding of the capabilities offered by App Service Environments read the [What is an App Service Environment][WhatisASE] documentation.</span><span class="sxs-lookup"><span data-stu-id="0045c-106">To gain a greater understanding of the capabilities offered by App Service Environments read the [What is an App Service Environment][WhatisASE] documentation.</span></span>  <span data-ttu-id="0045c-107">If you don't know the benefits of operating in a VNet read the [Azure Virtual Network FAQ][virtualnetwork].</span><span class="sxs-lookup"><span data-stu-id="0045c-107">If you don't know the benefits of operating in a VNet read the [Azure Virtual Network FAQ][virtualnetwork].</span></span>  

## <a name="overview"></a><span data-ttu-id="0045c-108">Overview</span><span class="sxs-lookup"><span data-stu-id="0045c-108">Overview</span></span>
<span data-ttu-id="0045c-109">An ASE can be deployed with an internet accessible endpoint or with an IP address in your VNet.</span><span class="sxs-lookup"><span data-stu-id="0045c-109">An ASE can be deployed with an internet accessible endpoint or with an IP address in your VNet.</span></span>  <span data-ttu-id="0045c-110">In order to set the IP address to a VNet address you need to deploy your ASE with an Internal Load Balancer(ILB).</span><span class="sxs-lookup"><span data-stu-id="0045c-110">In order to set the IP address to a VNet address you need to deploy your ASE with an Internal Load Balancer(ILB).</span></span>  <span data-ttu-id="0045c-111">When your ASE is configured with an ILB you provide:</span><span class="sxs-lookup"><span data-stu-id="0045c-111">When your ASE is configured with an ILB you provide:</span></span>

* <span data-ttu-id="0045c-112">your own domain or subdomain.</span><span class="sxs-lookup"><span data-stu-id="0045c-112">your own domain or subdomain.</span></span>  <span data-ttu-id="0045c-113">To make it easy, this document assumes subdomain but you can configure it either way.</span><span class="sxs-lookup"><span data-stu-id="0045c-113">To make it easy, this document assumes subdomain but you can configure it either way.</span></span>  
* <span data-ttu-id="0045c-114">the certificate used for HTTPS</span><span class="sxs-lookup"><span data-stu-id="0045c-114">the certificate used for HTTPS</span></span>
* <span data-ttu-id="0045c-115">DNS management for your subdomain.</span><span class="sxs-lookup"><span data-stu-id="0045c-115">DNS management for your subdomain.</span></span>  

<span data-ttu-id="0045c-116">In return, you can do things such as:</span><span class="sxs-lookup"><span data-stu-id="0045c-116">In return, you can do things such as:</span></span>

* <span data-ttu-id="0045c-117">host intranet applications, like line of business applications, securely in the cloud which you access through a Site to Site or ExpressRoute VPN</span><span class="sxs-lookup"><span data-stu-id="0045c-117">host intranet applications, like line of business applications, securely in the cloud which you access through a Site to Site or ExpressRoute VPN</span></span>
* <span data-ttu-id="0045c-118">host apps in the cloud that are not listed in public DNS servers</span><span class="sxs-lookup"><span data-stu-id="0045c-118">host apps in the cloud that are not listed in public DNS servers</span></span>
* <span data-ttu-id="0045c-119">create internet isolated backend apps which your front end apps can securely integrate with</span><span class="sxs-lookup"><span data-stu-id="0045c-119">create internet isolated backend apps which your front end apps can securely integrate with</span></span>

#### <a name="disabled-functionality"></a><span data-ttu-id="0045c-120">Disabled functionality</span><span class="sxs-lookup"><span data-stu-id="0045c-120">Disabled functionality</span></span>
<span data-ttu-id="0045c-121">There are some things that you cannot do when using an ILB ASE.</span><span class="sxs-lookup"><span data-stu-id="0045c-121">There are some things that you cannot do when using an ILB ASE.</span></span>  <span data-ttu-id="0045c-122">Those things include:</span><span class="sxs-lookup"><span data-stu-id="0045c-122">Those things include:</span></span>

* <span data-ttu-id="0045c-123">using IPSSL</span><span class="sxs-lookup"><span data-stu-id="0045c-123">using IPSSL</span></span>
* <span data-ttu-id="0045c-124">assigning IP addresses to specific apps</span><span class="sxs-lookup"><span data-stu-id="0045c-124">assigning IP addresses to specific apps</span></span>
* <span data-ttu-id="0045c-125">buying and using a certificate with an app through the portal.</span><span class="sxs-lookup"><span data-stu-id="0045c-125">buying and using a certificate with an app through the portal.</span></span>  <span data-ttu-id="0045c-126">You can of course still obtain certificates directly with a Certificate Authority and use it with your apps, just not through the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="0045c-126">You can of course still obtain certificates directly with a Certificate Authority and use it with your apps, just not through the Azure portal.</span></span>

## <a name="creating-an-ilb-ase"></a><span data-ttu-id="0045c-127">Creating an ILB ASE</span><span class="sxs-lookup"><span data-stu-id="0045c-127">Creating an ILB ASE</span></span>
<span data-ttu-id="0045c-128">Creating an ILB ASE is not much different from creating an ASE normally.</span><span class="sxs-lookup"><span data-stu-id="0045c-128">Creating an ILB ASE is not much different from creating an ASE normally.</span></span>  <span data-ttu-id="0045c-129">For a deeper discussion on creating an ASE read [How to Create an App Service Environment][HowtoCreateASE].</span><span class="sxs-lookup"><span data-stu-id="0045c-129">For a deeper discussion on creating an ASE read [How to Create an App Service Environment][HowtoCreateASE].</span></span>  <span data-ttu-id="0045c-130">The process to create an ILB ASE is the same between creating a VNet during ASE creation or selecting a pre-existing VNet.</span><span class="sxs-lookup"><span data-stu-id="0045c-130">The process to create an ILB ASE is the same between creating a VNet during ASE creation or selecting a pre-existing VNet.</span></span>  <span data-ttu-id="0045c-131">To create an ILB ASE:</span><span class="sxs-lookup"><span data-stu-id="0045c-131">To create an ILB ASE:</span></span> 

1. <span data-ttu-id="0045c-132">In the Azure portal select **New -> Web + Mobile -> App Service Environment**</span><span class="sxs-lookup"><span data-stu-id="0045c-132">In the Azure portal select **New -> Web + Mobile -> App Service Environment**</span></span>
2. <span data-ttu-id="0045c-133">Select your subscription</span><span class="sxs-lookup"><span data-stu-id="0045c-133">Select your subscription</span></span>
3. <span data-ttu-id="0045c-134">Select or create a resource group</span><span class="sxs-lookup"><span data-stu-id="0045c-134">Select or create a resource group</span></span>
4. <span data-ttu-id="0045c-135">Select or create a VNet</span><span class="sxs-lookup"><span data-stu-id="0045c-135">Select or create a VNet</span></span>
5. <span data-ttu-id="0045c-136">Create a subnet if selecting a VNet</span><span class="sxs-lookup"><span data-stu-id="0045c-136">Create a subnet if selecting a VNet</span></span>
6. <span data-ttu-id="0045c-137">Select **Virtual Network/Location -> VNet Configuration** and set the VIP Type to Internal</span><span class="sxs-lookup"><span data-stu-id="0045c-137">Select **Virtual Network/Location -> VNet Configuration** and set the VIP Type to Internal</span></span>
7. <span data-ttu-id="0045c-138">Provide subdomain name (this will be the subdomain used for apps created in this ASE)</span><span class="sxs-lookup"><span data-stu-id="0045c-138">Provide subdomain name (this will be the subdomain used for apps created in this ASE)</span></span>
8. <span data-ttu-id="0045c-139">Select Ok and then Create</span><span class="sxs-lookup"><span data-stu-id="0045c-139">Select Ok and then Create</span></span>

![][1]

<span data-ttu-id="0045c-140">Within the Virtual Network blade there is a VNet Configuration option.</span><span class="sxs-lookup"><span data-stu-id="0045c-140">Within the Virtual Network blade there is a VNet Configuration option.</span></span>  <span data-ttu-id="0045c-141">This lets you select between an External VIP or Internal VIP.</span><span class="sxs-lookup"><span data-stu-id="0045c-141">This lets you select between an External VIP or Internal VIP.</span></span>  <span data-ttu-id="0045c-142">The default is External.</span><span class="sxs-lookup"><span data-stu-id="0045c-142">The default is External.</span></span>  <span data-ttu-id="0045c-143">If you have it set to External then your ASE will use an internet accessible VIP.</span><span class="sxs-lookup"><span data-stu-id="0045c-143">If you have it set to External then your ASE will use an internet accessible VIP.</span></span>  <span data-ttu-id="0045c-144">If you select Internal, your ASE will be configured with an ILB on an IP address within your VNet.</span><span class="sxs-lookup"><span data-stu-id="0045c-144">If you select Internal, your ASE will be configured with an ILB on an IP address within your VNet.</span></span>  

<span data-ttu-id="0045c-145">After selecting Internal, the ability to add more IP addresses to your ASE is removed and instead you need to provide the subdomain of the ASE.</span><span class="sxs-lookup"><span data-stu-id="0045c-145">After selecting Internal, the ability to add more IP addresses to your ASE is removed and instead you need to provide the subdomain of the ASE.</span></span>  <span data-ttu-id="0045c-146">In an ASE with an External VIP the name of the ASE is used in the subdomain for apps created in that ASE.</span><span class="sxs-lookup"><span data-stu-id="0045c-146">In an ASE with an External VIP the name of the ASE is used in the subdomain for apps created in that ASE.</span></span>  
<span data-ttu-id="0045c-147">If your ASE was called ***contosotest*** and your app in that ASE was called ***mytest*** then the subdomain would be of the format ***contosotest.p.azurewebsites.net*** and the URL for that app would be ***mytest.contosotest.p.azurewebsites.net***.</span><span class="sxs-lookup"><span data-stu-id="0045c-147">If your ASE was called ***contosotest*** and your app in that ASE was called ***mytest*** then the subdomain would be of the format ***contosotest.p.azurewebsites.net*** and the URL for that app would be ***mytest.contosotest.p.azurewebsites.net***.</span></span>  
<span data-ttu-id="0045c-148">If you set the VIP Type to Internal, your ASE name is not used in the subdomain for the ASE.</span><span class="sxs-lookup"><span data-stu-id="0045c-148">If you set the VIP Type to Internal, your ASE name is not used in the subdomain for the ASE.</span></span>  <span data-ttu-id="0045c-149">You specify the subdomain explicitly.</span><span class="sxs-lookup"><span data-stu-id="0045c-149">You specify the subdomain explicitly.</span></span>  <span data-ttu-id="0045c-150">If your subdomain was ***contoso.corp.net*** and you made an app in that ASE named ***timereporting*** then the URL for that app would be ***timereporting.contoso.corp.net***.</span><span class="sxs-lookup"><span data-stu-id="0045c-150">If your subdomain was ***contoso.corp.net*** and you made an app in that ASE named ***timereporting*** then the URL for that app would be ***timereporting.contoso.corp.net***.</span></span>

## <a name="apps-in-an-ilb-ase"></a><span data-ttu-id="0045c-151">Apps in an ILB ASE</span><span class="sxs-lookup"><span data-stu-id="0045c-151">Apps in an ILB ASE</span></span>
<span data-ttu-id="0045c-152">Creating an app in an ILB ASE is the same as creating an app in an ASE normally.</span><span class="sxs-lookup"><span data-stu-id="0045c-152">Creating an app in an ILB ASE is the same as creating an app in an ASE normally.</span></span>  

1. <span data-ttu-id="0045c-153">In the Azure portal select **New -> Web + Mobile -> Web** or **Mobile** or **API App**</span><span class="sxs-lookup"><span data-stu-id="0045c-153">In the Azure portal select **New -> Web + Mobile -> Web** or **Mobile** or **API App**</span></span>
2. <span data-ttu-id="0045c-154">Enter name of app</span><span class="sxs-lookup"><span data-stu-id="0045c-154">Enter name of app</span></span>
3. <span data-ttu-id="0045c-155">Select subscription</span><span class="sxs-lookup"><span data-stu-id="0045c-155">Select subscription</span></span>
4. <span data-ttu-id="0045c-156">Select or create resource group</span><span class="sxs-lookup"><span data-stu-id="0045c-156">Select or create resource group</span></span>
5. <span data-ttu-id="0045c-157">Select or create App Service Plan(ASP).</span><span class="sxs-lookup"><span data-stu-id="0045c-157">Select or create App Service Plan(ASP).</span></span>  <span data-ttu-id="0045c-158">If creating a new ASP then select your ASE as the location and select the worker pool you want your ASP to be created in.</span><span class="sxs-lookup"><span data-stu-id="0045c-158">If creating a new ASP then select your ASE as the location and select the worker pool you want your ASP to be created in.</span></span>  <span data-ttu-id="0045c-159">When you create the ASP you select your ASE as the location and the worker pool.</span><span class="sxs-lookup"><span data-stu-id="0045c-159">When you create the ASP you select your ASE as the location and the worker pool.</span></span>  <span data-ttu-id="0045c-160">When you specify the name of the app you will see that the subdomain under your app name is replaced by the subdomain for your ASE.</span><span class="sxs-lookup"><span data-stu-id="0045c-160">When you specify the name of the app you will see that the subdomain under your app name is replaced by the subdomain for your ASE.</span></span>   
6. <span data-ttu-id="0045c-161">Select Create.</span><span class="sxs-lookup"><span data-stu-id="0045c-161">Select Create.</span></span>  <span data-ttu-id="0045c-162">You should select the **Pin to dashboard** checkbox if you want the app to show up on your dashboard.</span><span class="sxs-lookup"><span data-stu-id="0045c-162">You should select the **Pin to dashboard** checkbox if you want the app to show up on your dashboard.</span></span>  

![][2]

<span data-ttu-id="0045c-163">Under the app name the subdomain name gets updated to reflect the subdomain of your ASE.</span><span class="sxs-lookup"><span data-stu-id="0045c-163">Under the app name the subdomain name gets updated to reflect the subdomain of your ASE.</span></span>  

## <a name="post-ilb-ase-creation-validation"></a><span data-ttu-id="0045c-164">Post ILB ASE creation validation</span><span class="sxs-lookup"><span data-stu-id="0045c-164">Post ILB ASE creation validation</span></span>
<span data-ttu-id="0045c-165">An ILB ASE is slightly different than the non-ILB ASE.</span><span class="sxs-lookup"><span data-stu-id="0045c-165">An ILB ASE is slightly different than the non-ILB ASE.</span></span>  <span data-ttu-id="0045c-166">As already noted you need to manage your own DNS and you also have to provide your own certificate for HTTPS connections.</span><span class="sxs-lookup"><span data-stu-id="0045c-166">As already noted you need to manage your own DNS and you also have to provide your own certificate for HTTPS connections.</span></span>  

<span data-ttu-id="0045c-167">After you create your ASE you will notice that the subdomain shows the subdomain you specified and there is a new item in the **Setting** menu called **ILB Certificate**.</span><span class="sxs-lookup"><span data-stu-id="0045c-167">After you create your ASE you will notice that the subdomain shows the subdomain you specified and there is a new item in the **Setting** menu called **ILB Certificate**.</span></span>  <span data-ttu-id="0045c-168">The ASE is created with a self-signed certificate which makes it easier to test HTTPS.</span><span class="sxs-lookup"><span data-stu-id="0045c-168">The ASE is created with a self-signed certificate which makes it easier to test HTTPS.</span></span>  <span data-ttu-id="0045c-169">The portal will tell you that you need to provide your own certificate for HTTPS but this is to drive you to have a certificate that goes with your subdomain.</span><span class="sxs-lookup"><span data-stu-id="0045c-169">The portal will tell you that you need to provide your own certificate for HTTPS but this is to drive you to have a certificate that goes with your subdomain.</span></span>  

![][3]

<span data-ttu-id="0045c-170">If you are simply trying things out and don't know how to create a certificate, you can use the IIS MMC console application to create a self signed certificate.</span><span class="sxs-lookup"><span data-stu-id="0045c-170">If you are simply trying things out and don't know how to create a certificate, you can use the IIS MMC console application to create a self signed certificate.</span></span>  <span data-ttu-id="0045c-171">Once it is created you can export it as a .pfx file and then upload it in the ILB Certificate UI.</span><span class="sxs-lookup"><span data-stu-id="0045c-171">Once it is created you can export it as a .pfx file and then upload it in the ILB Certificate UI.</span></span> <span data-ttu-id="0045c-172">When you access a site secured with a self-signed certificate, your browser will give you a warning that the site you are accessing is not secure due to the inability to validate the certificate.</span><span class="sxs-lookup"><span data-stu-id="0045c-172">When you access a site secured with a self-signed certificate, your browser will give you a warning that the site you are accessing is not secure due to the inability to validate the certificate.</span></span>  <span data-ttu-id="0045c-173">If you want to avoid that warning you need a properly signed certificate that matches your subdomain and has a chain of trust that is recognized by your browser.</span><span class="sxs-lookup"><span data-stu-id="0045c-173">If you want to avoid that warning you need a properly signed certificate that matches your subdomain and has a chain of trust that is recognized by your browser.</span></span>

![][6]

<span data-ttu-id="0045c-174">If you want to try the flow with your own certificates and test both HTTP and HTTPS access to your ASE:</span><span class="sxs-lookup"><span data-stu-id="0045c-174">If you want to try the flow with your own certificates and test both HTTP and HTTPS access to your ASE:</span></span>

1. <span data-ttu-id="0045c-175">Go to ASE UI after ASE is created **ASE -> Settings -> ILB Certificates**</span><span class="sxs-lookup"><span data-stu-id="0045c-175">Go to ASE UI after ASE is created **ASE -> Settings -> ILB Certificates**</span></span>
2. <span data-ttu-id="0045c-176">Set ILB certificate by selecting certificate pfx file and provide password.</span><span class="sxs-lookup"><span data-stu-id="0045c-176">Set ILB certificate by selecting certificate pfx file and provide password.</span></span>  <span data-ttu-id="0045c-177">This step takes a little while to process and the message that a scaling operation is in progress will be shown.</span><span class="sxs-lookup"><span data-stu-id="0045c-177">This step takes a little while to process and the message that a scaling operation is in progress will be shown.</span></span>
3. <span data-ttu-id="0045c-178">Get the ILB address for your ASE (**ASE -> Properties -> Virtual IP Address**)</span><span class="sxs-lookup"><span data-stu-id="0045c-178">Get the ILB address for your ASE (**ASE -> Properties -> Virtual IP Address**)</span></span>
4. <span data-ttu-id="0045c-179">Create a web app in ASE after creation</span><span class="sxs-lookup"><span data-stu-id="0045c-179">Create a web app in ASE after creation</span></span> 
5. <span data-ttu-id="0045c-180">Create a VM if you don't have one in that VNET (Not in the same subnet as the ASE or things break)</span><span class="sxs-lookup"><span data-stu-id="0045c-180">Create a VM if you don't have one in that VNET (Not in the same subnet as the ASE or things break)</span></span>
6. <span data-ttu-id="0045c-181">Set DNS for your subdomain.</span><span class="sxs-lookup"><span data-stu-id="0045c-181">Set DNS for your subdomain.</span></span>  <span data-ttu-id="0045c-182">You can use a wildcard with your subdomain in your DNS or if you want to do some simple tests, edit the hosts file on your VM to set web app name to VIP IP address.</span><span class="sxs-lookup"><span data-stu-id="0045c-182">You can use a wildcard with your subdomain in your DNS or if you want to do some simple tests, edit the hosts file on your VM to set web app name to VIP IP address.</span></span>  <span data-ttu-id="0045c-183">If your ASE had the subdomain name .ilbase.com and you made the web app mytestapp so that it would be addressed at mytestapp.ilbase.com then set that in your hosts file.</span><span class="sxs-lookup"><span data-stu-id="0045c-183">If your ASE had the subdomain name .ilbase.com and you made the web app mytestapp so that it would be addressed at mytestapp.ilbase.com then set that in your hosts file.</span></span>  <span data-ttu-id="0045c-184">(On Windows the hosts file is at C:\Windows\System32\drivers\etc\ )</span><span class="sxs-lookup"><span data-stu-id="0045c-184">(On Windows the hosts file is at C:\Windows\System32\drivers\etc\ )</span></span>
7. <span data-ttu-id="0045c-185">Use a browser on that VM and go to http://mytestapp.ilbase.com (or whatever your web app name is with your subdomain)</span><span class="sxs-lookup"><span data-stu-id="0045c-185">Use a browser on that VM and go to http://mytestapp.ilbase.com (or whatever your web app name is with your subdomain)</span></span>
8. <span data-ttu-id="0045c-186">Use a browser on that VM and go to https://mytestapp.ilbase.com   You will have to accept the lack of security if using a self-signed certificate.</span><span class="sxs-lookup"><span data-stu-id="0045c-186">Use a browser on that VM and go to https://mytestapp.ilbase.com   You will have to accept the lack of security if using a self-signed certificate.</span></span>  

<span data-ttu-id="0045c-187">The IP address for your ILB is listed in your Properties as the Virtual IP Address</span><span class="sxs-lookup"><span data-stu-id="0045c-187">The IP address for your ILB is listed in your Properties as the Virtual IP Address</span></span>

![][4]

## <a name="using-an-ilb-ase"></a><span data-ttu-id="0045c-188">Using an ILB ASE</span><span class="sxs-lookup"><span data-stu-id="0045c-188">Using an ILB ASE</span></span>
#### <a name="network-security-groups"></a><span data-ttu-id="0045c-189">Network Security Groups</span><span class="sxs-lookup"><span data-stu-id="0045c-189">Network Security Groups</span></span>
<span data-ttu-id="0045c-190">An ILB ASE enables network isolation for your apps as the apps are not accessible or even known by the internet.</span><span class="sxs-lookup"><span data-stu-id="0045c-190">An ILB ASE enables network isolation for your apps as the apps are not accessible or even known by the internet.</span></span>  <span data-ttu-id="0045c-191">This is excellent for hosting intranet sites such as line of business applications.</span><span class="sxs-lookup"><span data-stu-id="0045c-191">This is excellent for hosting intranet sites such as line of business applications.</span></span>  <span data-ttu-id="0045c-192">When you need to restrict access even further you can still use Network Security Groups(NSGs) to control access at the network level.</span><span class="sxs-lookup"><span data-stu-id="0045c-192">When you need to restrict access even further you can still use Network Security Groups(NSGs) to control access at the network level.</span></span> 

<span data-ttu-id="0045c-193">If you wish to use NSGs to further restrict access then you need to make sure you do not break the communication that the ASE needs in order to operate.</span><span class="sxs-lookup"><span data-stu-id="0045c-193">If you wish to use NSGs to further restrict access then you need to make sure you do not break the communication that the ASE needs in order to operate.</span></span>  <span data-ttu-id="0045c-194">Even though the HTTP/HTTPS access is only through the ILB used by the ASE the ASE still depends on resource outside of the VNet.</span><span class="sxs-lookup"><span data-stu-id="0045c-194">Even though the HTTP/HTTPS access is only through the ILB used by the ASE the ASE still depends on resource outside of the VNet.</span></span>  <span data-ttu-id="0045c-195">To see what network access is still required look at the information in the document on [Controlling Inbound Traffic to an App Service Environment][ControlInbound] and the document on [Network Configuration Details for App Service Environments with ExpressRoute][ExpressRoute].</span><span class="sxs-lookup"><span data-stu-id="0045c-195">To see what network access is still required look at the information in the document on [Controlling Inbound Traffic to an App Service Environment][ControlInbound] and the document on [Network Configuration Details for App Service Environments with ExpressRoute][ExpressRoute].</span></span>  

<span data-ttu-id="0045c-196">To configure your NSGs you need to know the IP address that is used by Azure to manage your ASE.</span><span class="sxs-lookup"><span data-stu-id="0045c-196">To configure your NSGs you need to know the IP address that is used by Azure to manage your ASE.</span></span>  <span data-ttu-id="0045c-197">That IP address is also the outbound IP address from your ASE if it makes internet requests.</span><span class="sxs-lookup"><span data-stu-id="0045c-197">That IP address is also the outbound IP address from your ASE if it makes internet requests.</span></span>  <span data-ttu-id="0045c-198">To find this IP address go to **Settings -> Properties** and find the **Outbound IP Address**.</span><span class="sxs-lookup"><span data-stu-id="0045c-198">To find this IP address go to **Settings -> Properties** and find the **Outbound IP Address**.</span></span>  

![][5]

#### <a name="general-ilb-ase-management"></a><span data-ttu-id="0045c-199">General ILB ASE management</span><span class="sxs-lookup"><span data-stu-id="0045c-199">General ILB ASE management</span></span>
<span data-ttu-id="0045c-200">Managing an ILB ASE is largely the same as managing an ASE normally.</span><span class="sxs-lookup"><span data-stu-id="0045c-200">Managing an ILB ASE is largely the same as managing an ASE normally.</span></span>  <span data-ttu-id="0045c-201">You need to scale up your worker pools to host more ASP instances and scale up your Front End servers to handle increased amounts of HTTP/HTTPS traffic.</span><span class="sxs-lookup"><span data-stu-id="0045c-201">You need to scale up your worker pools to host more ASP instances and scale up your Front End servers to handle increased amounts of HTTP/HTTPS traffic.</span></span>  <span data-ttu-id="0045c-202">For general information on managing the configuration of an ASE, read the document on [Configuring an App Service Environment][ASEConfig].</span><span class="sxs-lookup"><span data-stu-id="0045c-202">For general information on managing the configuration of an ASE, read the document on [Configuring an App Service Environment][ASEConfig].</span></span>  

<span data-ttu-id="0045c-203">The additional management items are certificate management and DNS management.</span><span class="sxs-lookup"><span data-stu-id="0045c-203">The additional management items are certificate management and DNS management.</span></span>  <span data-ttu-id="0045c-204">You need to obtain and upload the certificate used for HTTPS after ILB ASE creation and replace it before it expires.</span><span class="sxs-lookup"><span data-stu-id="0045c-204">You need to obtain and upload the certificate used for HTTPS after ILB ASE creation and replace it before it expires.</span></span>  <span data-ttu-id="0045c-205">Because Azure owns the base domain we can provide certificates for ASEs with an External VIP.</span><span class="sxs-lookup"><span data-stu-id="0045c-205">Because Azure owns the base domain we can provide certificates for ASEs with an External VIP.</span></span>  <span data-ttu-id="0045c-206">Since the subdomain used by an ILB ASE can be anything, you need to provide your own certificate for HTTPS.</span><span class="sxs-lookup"><span data-stu-id="0045c-206">Since the subdomain used by an ILB ASE can be anything, you need to provide your own certificate for HTTPS.</span></span> 

#### <a name="dns-configuration"></a><span data-ttu-id="0045c-207">DNS Configuration</span><span class="sxs-lookup"><span data-stu-id="0045c-207">DNS Configuration</span></span>
<span data-ttu-id="0045c-208">When using an External VIP the DNS is managed by Azure.</span><span class="sxs-lookup"><span data-stu-id="0045c-208">When using an External VIP the DNS is managed by Azure.</span></span>  <span data-ttu-id="0045c-209">Any app created in your ASE is automatically added to Azure DNS which is a public DNS.</span><span class="sxs-lookup"><span data-stu-id="0045c-209">Any app created in your ASE is automatically added to Azure DNS which is a public DNS.</span></span>  <span data-ttu-id="0045c-210">In an ILB ASE you have to manage your own DNS.</span><span class="sxs-lookup"><span data-stu-id="0045c-210">In an ILB ASE you have to manage your own DNS.</span></span>  <span data-ttu-id="0045c-211">For a given subdomain such as contoso.corp.net you need to create DNS A records that point to your ILB address for:</span><span class="sxs-lookup"><span data-stu-id="0045c-211">For a given subdomain such as contoso.corp.net you need to create DNS A records that point to your ILB address for:</span></span>

    * 
    <span data-ttu-id="0045c-212">\*.scm ftp publish</span><span class="sxs-lookup"><span data-stu-id="0045c-212">\*.scm ftp publish</span></span> 


## <a name="getting-started"></a><span data-ttu-id="0045c-213">Getting started</span><span class="sxs-lookup"><span data-stu-id="0045c-213">Getting started</span></span>
<span data-ttu-id="0045c-214">All articles and How-To's for App Service Environments are available in the [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="0045c-214">All articles and How-To's for App Service Environments are available in the [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="0045c-215">To get started with App Service Environments, see [Introduction to App Service Environments][WhatisASE]</span><span class="sxs-lookup"><span data-stu-id="0045c-215">To get started with App Service Environments, see [Introduction to App Service Environments][WhatisASE]</span></span>

<span data-ttu-id="0045c-216">For more information about the Azure App Service platform, see [Azure App Service][AzureAppService].</span><span class="sxs-lookup"><span data-stu-id="0045c-216">For more information about the Azure App Service platform, see [Azure App Service][AzureAppService].</span></span>

[!INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!--Image references-->
[1]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/app-service-web/media/app-service-environment-with-internal-load-balancer/ilbase-createilbase.png
[2]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/app-service-web/media/app-service-environment-with-internal-load-balancer/ilbase-createapp.png
[3]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/app-service-web/media/app-service-environment-with-internal-load-balancer/ilbase-newase.png
[4]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/app-service-web/media/app-service-environment-with-internal-load-balancer/ilbase-vip.png
[5]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/app-service-web/media/app-service-environment-with-internal-load-balancer/ilbase-externalvip.png
[6]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/app-service-web/media/app-service-environment-with-internal-load-balancer/ilbase-ilbcertificate.png

<!--Links-->
[WhatisASE]: http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-intro/
[HowtoCreateASE]: http://azure.microsoft.com/documentation/articles/app-service-web-how-to-create-an-app-service-environment/
[ControlInbound]: http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-control-inbound-traffic/
[virtualnetwork]: https://azure.microsoft.com/documentation/articles/virtual-networks-faq/
[AppServicePricing]: http://azure.microsoft.com/pricing/details/app-service/
[AzureAppService]: http://azure.microsoft.com/documentation/articles/app-service-value-prop-what-is/
[ASEAutoscale]: http://azure.microsoft.com/documentation/articles/app-service-environment-auto-scale/
[ExpressRoute]: http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-network-configuration-expressroute/
[vnetnsgs]: http://azure.microsoft.com/documentation/articles/virtual-networks-nsg/
[ASEConfig]: http://azure.microsoft.com/documentation/articles/app-service-web-configure-an-app-service-environment/






