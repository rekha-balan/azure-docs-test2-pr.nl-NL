---
title: Integrate an app with an Azure Virtual Network
description: Shows you how to connect an app in Azure App Service to a new or existing Azure virtual network
services: app-service
documentationcenter: ''
author: ccompy
manager: erikre
editor: cephalin
ms.assetid: 90bc6ec6-133d-4d87-a867-fcf77da75f5a
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/11/2016
ms.author: ccompy
ms.openlocfilehash: 3510a57df2ac521bf958bd56199af1b6aaa88bcd
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44555462"
---
# <a name="integrate-your-app-with-an-azure-virtual-network"></a><span data-ttu-id="443e7-103">Integrate your app with an Azure Virtual Network</span><span class="sxs-lookup"><span data-stu-id="443e7-103">Integrate your app with an Azure Virtual Network</span></span>
<span data-ttu-id="443e7-104">This document describes the Azure App Service virtual network integration feature and shows how to set it up with apps in [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span><span class="sxs-lookup"><span data-stu-id="443e7-104">This document describes the Azure App Service virtual network integration feature and shows how to set it up with apps in [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span></span>  <span data-ttu-id="443e7-105">If you are unfamiliar with Azure Virtual Networks (VNETs), this is a capability that allows you to place many of your Azure resources in a non-internet routeable network that you control access to.</span><span class="sxs-lookup"><span data-stu-id="443e7-105">If you are unfamiliar with Azure Virtual Networks (VNETs), this is a capability that allows you to place many of your Azure resources in a non-internet routeable network that you control access to.</span></span>  <span data-ttu-id="443e7-106">These networks can then be connected to your on premise networks using a variety of VPN technologies.</span><span class="sxs-lookup"><span data-stu-id="443e7-106">These networks can then be connected to your on premise networks using a variety of VPN technologies.</span></span>  <span data-ttu-id="443e7-107">To learn more about Azure Virtual Networks start with the information here: [Azure Virtual Network Overview][VNETOverview].</span><span class="sxs-lookup"><span data-stu-id="443e7-107">To learn more about Azure Virtual Networks start with the information here: [Azure Virtual Network Overview][VNETOverview].</span></span>  

<span data-ttu-id="443e7-108">The Azure App Service has two forms.</span><span class="sxs-lookup"><span data-stu-id="443e7-108">The Azure App Service has two forms.</span></span>  

1. <span data-ttu-id="443e7-109">The multi-tenant systems that support the full range of pricing plans</span><span class="sxs-lookup"><span data-stu-id="443e7-109">The multi-tenant systems that support the full range of pricing plans</span></span>
2. <span data-ttu-id="443e7-110">The App Service Environment (ASE) premium feature which deploys into your VNET.</span><span class="sxs-lookup"><span data-stu-id="443e7-110">The App Service Environment (ASE) premium feature which deploys into your VNET.</span></span>  

<span data-ttu-id="443e7-111">This document goes through VNET Integration and not App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="443e7-111">This document goes through VNET Integration and not App Service Environment.</span></span>  <span data-ttu-id="443e7-112">If you want to learn more about the ASE feature then start with the information here: [App Service Environment introduction][ASEintro].</span><span class="sxs-lookup"><span data-stu-id="443e7-112">If you want to learn more about the ASE feature then start with the information here: [App Service Environment introduction][ASEintro].</span></span>

<span data-ttu-id="443e7-113">VNET Integration gives your web app access to resources in your virtual network but does not grant private access to your web app from the virtual network.</span><span class="sxs-lookup"><span data-stu-id="443e7-113">VNET Integration gives your web app access to resources in your virtual network but does not grant private access to your web app from the virtual network.</span></span>  <span data-ttu-id="443e7-114">Private site access is only available with an ASE configured with an Internal Load Balancer (ILB).</span><span class="sxs-lookup"><span data-stu-id="443e7-114">Private site access is only available with an ASE configured with an Internal Load Balancer (ILB).</span></span>  <span data-ttu-id="443e7-115">For details on using an ILB ASE, start with the article here: [Creating and using an ILB ASE][ILBASE].</span><span class="sxs-lookup"><span data-stu-id="443e7-115">For details on using an ILB ASE, start with the article here: [Creating and using an ILB ASE][ILBASE].</span></span> 

<span data-ttu-id="443e7-116">A common scenario where you would use VNET Integration is enabling access from your web app to a database or a web services running on a virtual machine in your Azure virtual network.</span><span class="sxs-lookup"><span data-stu-id="443e7-116">A common scenario where you would use VNET Integration is enabling access from your web app to a database or a web services running on a virtual machine in your Azure virtual network.</span></span>  <span data-ttu-id="443e7-117">With VNET Integration you don't need to expose a public endpoint for applications on your VM but can use the private non-internet routable addresses instead.</span><span class="sxs-lookup"><span data-stu-id="443e7-117">With VNET Integration you don't need to expose a public endpoint for applications on your VM but can use the private non-internet routable addresses instead.</span></span>  

<span data-ttu-id="443e7-118">The VNET Integration feature:</span><span class="sxs-lookup"><span data-stu-id="443e7-118">The VNET Integration feature:</span></span>

* <span data-ttu-id="443e7-119">requires a Standard or Premium pricing plan</span><span class="sxs-lookup"><span data-stu-id="443e7-119">requires a Standard or Premium pricing plan</span></span> 
* <span data-ttu-id="443e7-120">will work with Classic(V1) or Resource Manager(V2) VNET</span><span class="sxs-lookup"><span data-stu-id="443e7-120">will work with Classic(V1) or Resource Manager(V2) VNET</span></span> 
* <span data-ttu-id="443e7-121">supports TCP and UDP</span><span class="sxs-lookup"><span data-stu-id="443e7-121">supports TCP and UDP</span></span>
* <span data-ttu-id="443e7-122">works with Web, Mobile and API apps</span><span class="sxs-lookup"><span data-stu-id="443e7-122">works with Web, Mobile and API apps</span></span>
* <span data-ttu-id="443e7-123">enables an app to connect to only 1 VNET at a time</span><span class="sxs-lookup"><span data-stu-id="443e7-123">enables an app to connect to only 1 VNET at a time</span></span>
* <span data-ttu-id="443e7-124">enables up to 5 VNETs to be integrated with in an App Service Plan</span><span class="sxs-lookup"><span data-stu-id="443e7-124">enables up to 5 VNETs to be integrated with in an App Service Plan</span></span> 
* <span data-ttu-id="443e7-125">allows the same VNET to be used by multiple apps in an App Service Plan</span><span class="sxs-lookup"><span data-stu-id="443e7-125">allows the same VNET to be used by multiple apps in an App Service Plan</span></span>
* <span data-ttu-id="443e7-126">supports a 99.9% SLA due to a reliance on the VNET Gateway</span><span class="sxs-lookup"><span data-stu-id="443e7-126">supports a 99.9% SLA due to a reliance on the VNET Gateway</span></span>

<span data-ttu-id="443e7-127">There are some things that VNET Integration does not support including:</span><span class="sxs-lookup"><span data-stu-id="443e7-127">There are some things that VNET Integration does not support including:</span></span>

* <span data-ttu-id="443e7-128">mounting a drive</span><span class="sxs-lookup"><span data-stu-id="443e7-128">mounting a drive</span></span>
* <span data-ttu-id="443e7-129">AD integration</span><span class="sxs-lookup"><span data-stu-id="443e7-129">AD integration</span></span> 
* <span data-ttu-id="443e7-130">NetBios</span><span class="sxs-lookup"><span data-stu-id="443e7-130">NetBios</span></span>
* <span data-ttu-id="443e7-131">private site access</span><span class="sxs-lookup"><span data-stu-id="443e7-131">private site access</span></span>

### <a name="getting-started"></a><span data-ttu-id="443e7-132">Getting started</span><span class="sxs-lookup"><span data-stu-id="443e7-132">Getting started</span></span>
<span data-ttu-id="443e7-133">Here are some things to keep in mind before connecting your web app to a virtual network:</span><span class="sxs-lookup"><span data-stu-id="443e7-133">Here are some things to keep in mind before connecting your web app to a virtual network:</span></span>

* <span data-ttu-id="443e7-134">VNET Integration only works with apps in a **Standard** or **Premium** pricing plan.</span><span class="sxs-lookup"><span data-stu-id="443e7-134">VNET Integration only works with apps in a **Standard** or **Premium** pricing plan.</span></span>  <span data-ttu-id="443e7-135">If you enable the feature and then scale your App Service Plan to an unsupported pricing plan your apps will lose their connections to the VNETs they are using.</span><span class="sxs-lookup"><span data-stu-id="443e7-135">If you enable the feature and then scale your App Service Plan to an unsupported pricing plan your apps will lose their connections to the VNETs they are using.</span></span>  
* <span data-ttu-id="443e7-136">If your target virtual network already exists, it must have point-to-site VPN enabled with a Dynamic routing gateway before it can be connected to an app.</span><span class="sxs-lookup"><span data-stu-id="443e7-136">If your target virtual network already exists, it must have point-to-site VPN enabled with a Dynamic routing gateway before it can be connected to an app.</span></span>  <span data-ttu-id="443e7-137">You cannot enable point-to-site Virtual Private Network (VPN) if your gateway is configured with Static routing.</span><span class="sxs-lookup"><span data-stu-id="443e7-137">You cannot enable point-to-site Virtual Private Network (VPN) if your gateway is configured with Static routing.</span></span>
* <span data-ttu-id="443e7-138">The VNET must be in the same subscription as your App Service Plan(ASP).</span><span class="sxs-lookup"><span data-stu-id="443e7-138">The VNET must be in the same subscription as your App Service Plan(ASP).</span></span>  
* <span data-ttu-id="443e7-139">The apps that integrate with a VNET will use the DNS that is specified for that VNET.</span><span class="sxs-lookup"><span data-stu-id="443e7-139">The apps that integrate with a VNET will use the DNS that is specified for that VNET.</span></span>
* <span data-ttu-id="443e7-140">By default your integrating apps will only route traffic into your VNET based on the routes that are defined in your VNET.</span><span class="sxs-lookup"><span data-stu-id="443e7-140">By default your integrating apps will only route traffic into your VNET based on the routes that are defined in your VNET.</span></span>  

## <a name="enabling-vnet-integration"></a><span data-ttu-id="443e7-141">Enabling VNET Integration</span><span class="sxs-lookup"><span data-stu-id="443e7-141">Enabling VNET Integration</span></span>
<span data-ttu-id="443e7-142">This document is focused primarily on using the Azure Portal for VNET Integration.</span><span class="sxs-lookup"><span data-stu-id="443e7-142">This document is focused primarily on using the Azure Portal for VNET Integration.</span></span>  <span data-ttu-id="443e7-143">To enable VNET Integration with your app using PowerShell, follow the directions here: [Connect your app to your virtual network by using PowerShell][IntPowershell].</span><span class="sxs-lookup"><span data-stu-id="443e7-143">To enable VNET Integration with your app using PowerShell, follow the directions here: [Connect your app to your virtual network by using PowerShell][IntPowershell].</span></span>

<span data-ttu-id="443e7-144">You have the option to connect your app to a new or existing virtual network.</span><span class="sxs-lookup"><span data-stu-id="443e7-144">You have the option to connect your app to a new or existing virtual network.</span></span>  <span data-ttu-id="443e7-145">If you create a new network as a part of your integration then in addition to just creating the VNET, a dynamic routing gateway will be pre-configured for you and Point to Site VPN will be enabled.</span><span class="sxs-lookup"><span data-stu-id="443e7-145">If you create a new network as a part of your integration then in addition to just creating the VNET, a dynamic routing gateway will be pre-configured for you and Point to Site VPN will be enabled.</span></span>  

> [!NOTE]
> <span data-ttu-id="443e7-146">Configuring a new virtual network integration can take several minutes.</span><span class="sxs-lookup"><span data-stu-id="443e7-146">Configuring a new virtual network integration can take several minutes.</span></span>  
> 
> 

<span data-ttu-id="443e7-147">To enable VNET Integration open your app Settings and then select Networking.</span><span class="sxs-lookup"><span data-stu-id="443e7-147">To enable VNET Integration open your app Settings and then select Networking.</span></span>  <span data-ttu-id="443e7-148">The UI that opens up offers three networking choices.</span><span class="sxs-lookup"><span data-stu-id="443e7-148">The UI that opens up offers three networking choices.</span></span>  <span data-ttu-id="443e7-149">This guide is only going into VNET Integration though Hybrid Connections and App Service Environments are discussed later in this document.</span><span class="sxs-lookup"><span data-stu-id="443e7-149">This guide is only going into VNET Integration though Hybrid Connections and App Service Environments are discussed later in this document.</span></span>  

<span data-ttu-id="443e7-150">If your app is not in the correct pricing plan the UI will helpfully enable you to scale your plan to a higher pricing plan of your choice.</span><span class="sxs-lookup"><span data-stu-id="443e7-150">If your app is not in the correct pricing plan the UI will helpfully enable you to scale your plan to a higher pricing plan of your choice.</span></span>

![][1]

### <a name="enabling-vnet-integration-with-a-pre-existing-vnet"></a><span data-ttu-id="443e7-151">Enabling VNET Integration with a pre-existing VNET</span><span class="sxs-lookup"><span data-stu-id="443e7-151">Enabling VNET Integration with a pre-existing VNET</span></span>
<span data-ttu-id="443e7-152">The VNET Integration UI allows you to select from a list of your VNETs.</span><span class="sxs-lookup"><span data-stu-id="443e7-152">The VNET Integration UI allows you to select from a list of your VNETs.</span></span>  <span data-ttu-id="443e7-153">The Classic VNETs will indicate that they are such with the word "Classic" in parenthesis next to the VNET name.</span><span class="sxs-lookup"><span data-stu-id="443e7-153">The Classic VNETs will indicate that they are such with the word "Classic" in parenthesis next to the VNET name.</span></span>  <span data-ttu-id="443e7-154">The list is sorted such that the Resource Manager VNETs are listed first.</span><span class="sxs-lookup"><span data-stu-id="443e7-154">The list is sorted such that the Resource Manager VNETs are listed first.</span></span>  <span data-ttu-id="443e7-155">In the image shown below you can see that only one VNET can be selected.</span><span class="sxs-lookup"><span data-stu-id="443e7-155">In the image shown below you can see that only one VNET can be selected.</span></span>  <span data-ttu-id="443e7-156">There are multiple reasons that a VNET will be greyed out including:</span><span class="sxs-lookup"><span data-stu-id="443e7-156">There are multiple reasons that a VNET will be greyed out including:</span></span>

* <span data-ttu-id="443e7-157">the VNET is in another subscription that your account has access to</span><span class="sxs-lookup"><span data-stu-id="443e7-157">the VNET is in another subscription that your account has access to</span></span>
* <span data-ttu-id="443e7-158">the VNET does not have Point to Site enabled</span><span class="sxs-lookup"><span data-stu-id="443e7-158">the VNET does not have Point to Site enabled</span></span>
* <span data-ttu-id="443e7-159">the VNET does not have a dynamic routing gateway</span><span class="sxs-lookup"><span data-stu-id="443e7-159">the VNET does not have a dynamic routing gateway</span></span>

![][2]

<span data-ttu-id="443e7-160">To enable integration simply click on the VNET you wish to integrate with.</span><span class="sxs-lookup"><span data-stu-id="443e7-160">To enable integration simply click on the VNET you wish to integrate with.</span></span>  <span data-ttu-id="443e7-161">After you select the VNET, your app will be automatically restarted for the changes to take effect.</span><span class="sxs-lookup"><span data-stu-id="443e7-161">After you select the VNET, your app will be automatically restarted for the changes to take effect.</span></span>  

##### <a name="enable-point-to-site-in-a-classic-vnet"></a><span data-ttu-id="443e7-162">Enable Point to Site in a Classic VNET</span><span class="sxs-lookup"><span data-stu-id="443e7-162">Enable Point to Site in a Classic VNET</span></span>
<span data-ttu-id="443e7-163">If your VNET does not have a gateway nor has Point to Site then you have to set that up first.</span><span class="sxs-lookup"><span data-stu-id="443e7-163">If your VNET does not have a gateway nor has Point to Site then you have to set that up first.</span></span>  <span data-ttu-id="443e7-164">To do this for a Classic VNET, go to the [Azure Portal][AzurePortal] and bring up the list of Virtual Networks(classic).</span><span class="sxs-lookup"><span data-stu-id="443e7-164">To do this for a Classic VNET, go to the [Azure Portal][AzurePortal] and bring up the list of Virtual Networks(classic).</span></span>  <span data-ttu-id="443e7-165">From here click on the network you want to integrate with and click on the big box under Essentials called VPN Connections.</span><span class="sxs-lookup"><span data-stu-id="443e7-165">From here click on the network you want to integrate with and click on the big box under Essentials called VPN Connections.</span></span>  <span data-ttu-id="443e7-166">From here you can create your point to site VPN and even have it create a gateway.</span><span class="sxs-lookup"><span data-stu-id="443e7-166">From here you can create your point to site VPN and even have it create a gateway.</span></span>  <span data-ttu-id="443e7-167">After you go through the point to site with gateway creation experience it will be about 30 minutes before it is ready.</span><span class="sxs-lookup"><span data-stu-id="443e7-167">After you go through the point to site with gateway creation experience it will be about 30 minutes before it is ready.</span></span>  

![][8]

##### <a name="enabling-point-to-site-in-a-resource-manager-vnet"></a><span data-ttu-id="443e7-168">Enabling Point to Site in a Resource Manager VNET</span><span class="sxs-lookup"><span data-stu-id="443e7-168">Enabling Point to Site in a Resource Manager VNET</span></span>
<span data-ttu-id="443e7-169">To configure a Resource Manager VNET with a gateway and Point to Site, you can use either PowerShell as documented here, [Configure a Point-to-Site connection to a virtual network using PowerShell][V2VNETP2S] or use the Azure Portal as documented here, [Configure a Point-to-Site connection to a VNet using the Azure Portal][V2VNETPortal].</span><span class="sxs-lookup"><span data-stu-id="443e7-169">To configure a Resource Manager VNET with a gateway and Point to Site, you can use either PowerShell as documented here, [Configure a Point-to-Site connection to a virtual network using PowerShell][V2VNETP2S] or use the Azure Portal as documented here, [Configure a Point-to-Site connection to a VNet using the Azure Portal][V2VNETPortal].</span></span>  <span data-ttu-id="443e7-170">The UI to perform this capability is not yet available.</span><span class="sxs-lookup"><span data-stu-id="443e7-170">The UI to perform this capability is not yet available.</span></span> 

### <a name="creating-a-pre-configured-vnet"></a><span data-ttu-id="443e7-171">Creating a pre-configured VNET</span><span class="sxs-lookup"><span data-stu-id="443e7-171">Creating a pre-configured VNET</span></span>
<span data-ttu-id="443e7-172">If you want to create a new VNET that is configured with a gateway and Point-to-Site, then the App Service networking UI has the capability to do that but only for a Resource manager VNET.</span><span class="sxs-lookup"><span data-stu-id="443e7-172">If you want to create a new VNET that is configured with a gateway and Point-to-Site, then the App Service networking UI has the capability to do that but only for a Resource manager VNET.</span></span>  <span data-ttu-id="443e7-173">If you wish to create a Classic VNET with a gateway and Point-to-Site then you need to do this manually through the Networking user interface.</span><span class="sxs-lookup"><span data-stu-id="443e7-173">If you wish to create a Classic VNET with a gateway and Point-to-Site then you need to do this manually through the Networking user interface.</span></span> 

<span data-ttu-id="443e7-174">To create a Resource Manager VNET through the VNET Integration UI, simply select **Create New Virtual Network** and provide the:</span><span class="sxs-lookup"><span data-stu-id="443e7-174">To create a Resource Manager VNET through the VNET Integration UI, simply select **Create New Virtual Network** and provide the:</span></span>

* <span data-ttu-id="443e7-175">Virtual Network Name</span><span class="sxs-lookup"><span data-stu-id="443e7-175">Virtual Network Name</span></span>
* <span data-ttu-id="443e7-176">Virtual Network Address Block</span><span class="sxs-lookup"><span data-stu-id="443e7-176">Virtual Network Address Block</span></span>
* <span data-ttu-id="443e7-177">Subnet Name</span><span class="sxs-lookup"><span data-stu-id="443e7-177">Subnet Name</span></span>
* <span data-ttu-id="443e7-178">Subnet Address Block</span><span class="sxs-lookup"><span data-stu-id="443e7-178">Subnet Address Block</span></span>
* <span data-ttu-id="443e7-179">Gateway Address Block</span><span class="sxs-lookup"><span data-stu-id="443e7-179">Gateway Address Block</span></span>
* <span data-ttu-id="443e7-180">Point-to-Site Address Block</span><span class="sxs-lookup"><span data-stu-id="443e7-180">Point-to-Site Address Block</span></span>

<span data-ttu-id="443e7-181">If you want this VNET to connect to any of your other network then you should avoid picking IP address space that overlaps with those networks.</span><span class="sxs-lookup"><span data-stu-id="443e7-181">If you want this VNET to connect to any of your other network then you should avoid picking IP address space that overlaps with those networks.</span></span>  

> [!NOTE]
> <span data-ttu-id="443e7-182">Resource Manager VNET creation with a gateway takes about 30 minutes and currently will not integrate the VNET with your app.</span><span class="sxs-lookup"><span data-stu-id="443e7-182">Resource Manager VNET creation with a gateway takes about 30 minutes and currently will not integrate the VNET with your app.</span></span>  <span data-ttu-id="443e7-183">After your VNET is created with the gateway you need to come back to your app VNET Integration UI and select your new VNET.</span><span class="sxs-lookup"><span data-stu-id="443e7-183">After your VNET is created with the gateway you need to come back to your app VNET Integration UI and select your new VNET.</span></span>
> 
> 

![][3]

<span data-ttu-id="443e7-184">Azure VNETs normally are created within private network addresses.</span><span class="sxs-lookup"><span data-stu-id="443e7-184">Azure VNETs normally are created within private network addresses.</span></span>  <span data-ttu-id="443e7-185">By default the VNET Integration feature will route any traffic destined for those IP address ranges into your VNET.</span><span class="sxs-lookup"><span data-stu-id="443e7-185">By default the VNET Integration feature will route any traffic destined for those IP address ranges into your VNET.</span></span>  <span data-ttu-id="443e7-186">The private IP address ranges are:</span><span class="sxs-lookup"><span data-stu-id="443e7-186">The private IP address ranges are:</span></span>

* <span data-ttu-id="443e7-187">10.0.0.0/8 - this is the same as 10.0.0.0 - 10.255.255.255</span><span class="sxs-lookup"><span data-stu-id="443e7-187">10.0.0.0/8 - this is the same as 10.0.0.0 - 10.255.255.255</span></span>
* <span data-ttu-id="443e7-188">172.16.0.0/12 - this is the same as 172.16.0.0 - 172.31.255.255</span><span class="sxs-lookup"><span data-stu-id="443e7-188">172.16.0.0/12 - this is the same as 172.16.0.0 - 172.31.255.255</span></span> 
* <span data-ttu-id="443e7-189">192.168.0.0/16 - this is the same as 192.168.0.0 - 192.168.255.255</span><span class="sxs-lookup"><span data-stu-id="443e7-189">192.168.0.0/16 - this is the same as 192.168.0.0 - 192.168.255.255</span></span>

<span data-ttu-id="443e7-190">The VNET address space needs to be specified in CIDR notation.</span><span class="sxs-lookup"><span data-stu-id="443e7-190">The VNET address space needs to be specified in CIDR notation.</span></span>  <span data-ttu-id="443e7-191">If you are unfamiliar with CIDR notation, it is a method for specifying address blocks using an IP address and an integer that represents the network mask.</span><span class="sxs-lookup"><span data-stu-id="443e7-191">If you are unfamiliar with CIDR notation, it is a method for specifying address blocks using an IP address and an integer that represents the network mask.</span></span> <span data-ttu-id="443e7-192">As a quick reference, consider that 10.1.0.0/24 would be 256 addresses and 10.1.0.0/25 would be 128 addresses.</span><span class="sxs-lookup"><span data-stu-id="443e7-192">As a quick reference, consider that 10.1.0.0/24 would be 256 addresses and 10.1.0.0/25 would be 128 addresses.</span></span>  <span data-ttu-id="443e7-193">An IPv4 address with a /32 would be just 1 address.</span><span class="sxs-lookup"><span data-stu-id="443e7-193">An IPv4 address with a /32 would be just 1 address.</span></span>  

<span data-ttu-id="443e7-194">If you set the DNS server information here then that will be set for your VNET.</span><span class="sxs-lookup"><span data-stu-id="443e7-194">If you set the DNS server information here then that will be set for your VNET.</span></span>  <span data-ttu-id="443e7-195">After VNET creation you can edit this information from the VNET user experiences.</span><span class="sxs-lookup"><span data-stu-id="443e7-195">After VNET creation you can edit this information from the VNET user experiences.</span></span>

<span data-ttu-id="443e7-196">When you create a Classic VNET using the VNET Integration UI, it will create a VNET in the same resource group as your app.</span><span class="sxs-lookup"><span data-stu-id="443e7-196">When you create a Classic VNET using the VNET Integration UI, it will create a VNET in the same resource group as your app.</span></span> 

## <a name="how-the-system-works"></a><span data-ttu-id="443e7-197">How the system works</span><span class="sxs-lookup"><span data-stu-id="443e7-197">How the system works</span></span>
<span data-ttu-id="443e7-198">Under the covers this feature builds on top of Point-to-Site VPN technology to connect your app to your VNET.</span><span class="sxs-lookup"><span data-stu-id="443e7-198">Under the covers this feature builds on top of Point-to-Site VPN technology to connect your app to your VNET.</span></span>   <span data-ttu-id="443e7-199">Apps in Azure App Service have a multi-tenant system architecture which precludes provisioning an app directly in a VNET as is done with virtual machines.</span><span class="sxs-lookup"><span data-stu-id="443e7-199">Apps in Azure App Service have a multi-tenant system architecture which precludes provisioning an app directly in a VNET as is done with virtual machines.</span></span>  <span data-ttu-id="443e7-200">By building on point-to-site technology we limit network access to just the virtual machine hosting the app.</span><span class="sxs-lookup"><span data-stu-id="443e7-200">By building on point-to-site technology we limit network access to just the virtual machine hosting the app.</span></span>  <span data-ttu-id="443e7-201">Access to the network is further restricted on those app hosts so that your apps can only access the networks that you configure them to access.</span><span class="sxs-lookup"><span data-stu-id="443e7-201">Access to the network is further restricted on those app hosts so that your apps can only access the networks that you configure them to access.</span></span>  

![][4]

<span data-ttu-id="443e7-202">If you haven’t configured a DNS server with your virtual network you will need to use IP addresses.</span><span class="sxs-lookup"><span data-stu-id="443e7-202">If you haven’t configured a DNS server with your virtual network you will need to use IP addresses.</span></span>  <span data-ttu-id="443e7-203">While using IP addresses, remember that the major benefit of this feature is that it enables you to use the private addresses within your private network.</span><span class="sxs-lookup"><span data-stu-id="443e7-203">While using IP addresses, remember that the major benefit of this feature is that it enables you to use the private addresses within your private network.</span></span>  <span data-ttu-id="443e7-204">If you set your app up to use public IP addresses for one of your VMs then you aren't using the VNET Integration feature and are communicating over the internet.</span><span class="sxs-lookup"><span data-stu-id="443e7-204">If you set your app up to use public IP addresses for one of your VMs then you aren't using the VNET Integration feature and are communicating over the internet.</span></span>

## <a name="managing-the-vnet-integrations"></a><span data-ttu-id="443e7-205">Managing the VNET Integrations</span><span class="sxs-lookup"><span data-stu-id="443e7-205">Managing the VNET Integrations</span></span>
<span data-ttu-id="443e7-206">The ability to connect and disconnect to a VNET is at an app level.</span><span class="sxs-lookup"><span data-stu-id="443e7-206">The ability to connect and disconnect to a VNET is at an app level.</span></span>  <span data-ttu-id="443e7-207">Operations that can affect the VNET Integration across multiple apps are at an ASP level.</span><span class="sxs-lookup"><span data-stu-id="443e7-207">Operations that can affect the VNET Integration across multiple apps are at an ASP level.</span></span>  <span data-ttu-id="443e7-208">From the UI that is shown at the app level you can get  details on your VNET.</span><span class="sxs-lookup"><span data-stu-id="443e7-208">From the UI that is shown at the app level you can get  details on your VNET.</span></span>  <span data-ttu-id="443e7-209">Most of the same information is also shown at the ASP level.</span><span class="sxs-lookup"><span data-stu-id="443e7-209">Most of the same information is also shown at the ASP level.</span></span>  

![][5]

<span data-ttu-id="443e7-210">From the Network Feature Status page you can see if your app is connected to your VNET.</span><span class="sxs-lookup"><span data-stu-id="443e7-210">From the Network Feature Status page you can see if your app is connected to your VNET.</span></span>  <span data-ttu-id="443e7-211">If your VNET gateway is down for whatever reason then this would show as not-connected.</span><span class="sxs-lookup"><span data-stu-id="443e7-211">If your VNET gateway is down for whatever reason then this would show as not-connected.</span></span>  

<span data-ttu-id="443e7-212">The information you now have available to you in the app level VNET Integration UI is the same as the detail  information you get from the ASP.</span><span class="sxs-lookup"><span data-stu-id="443e7-212">The information you now have available to you in the app level VNET Integration UI is the same as the detail  information you get from the ASP.</span></span>  <span data-ttu-id="443e7-213">Here are those items:</span><span class="sxs-lookup"><span data-stu-id="443e7-213">Here are those items:</span></span>

* <span data-ttu-id="443e7-214">VNET Name - This link opens the the network UI</span><span class="sxs-lookup"><span data-stu-id="443e7-214">VNET Name - This link opens the the network UI</span></span>
* <span data-ttu-id="443e7-215">Location - This reflects the location of your VNET.</span><span class="sxs-lookup"><span data-stu-id="443e7-215">Location - This reflects the location of your VNET.</span></span>  <span data-ttu-id="443e7-216">It is possible to integrate with a VNET in another location.</span><span class="sxs-lookup"><span data-stu-id="443e7-216">It is possible to integrate with a VNET in another location.</span></span>
* <span data-ttu-id="443e7-217">Certificate Status - There are certificates used to secure the VPN connection between the app and the VNET.</span><span class="sxs-lookup"><span data-stu-id="443e7-217">Certificate Status - There are certificates used to secure the VPN connection between the app and the VNET.</span></span>  <span data-ttu-id="443e7-218">This reflects a test to ensure they are in sync.</span><span class="sxs-lookup"><span data-stu-id="443e7-218">This reflects a test to ensure they are in sync.</span></span>
* <span data-ttu-id="443e7-219">Gateway Status - Should your gateways be down for whatever reason then your app cannot access resources in the VNET.</span><span class="sxs-lookup"><span data-stu-id="443e7-219">Gateway Status - Should your gateways be down for whatever reason then your app cannot access resources in the VNET.</span></span>  
* <span data-ttu-id="443e7-220">VNET address space - This is the IP address space for your VNET.</span><span class="sxs-lookup"><span data-stu-id="443e7-220">VNET address space - This is the IP address space for your VNET.</span></span>  
* <span data-ttu-id="443e7-221">Point to Site address space - This is the point to site IP address space for your VNET.</span><span class="sxs-lookup"><span data-stu-id="443e7-221">Point to Site address space - This is the point to site IP address space for your VNET.</span></span>  <span data-ttu-id="443e7-222">Your app will show communication as coming from one of the IPs in this address space.</span><span class="sxs-lookup"><span data-stu-id="443e7-222">Your app will show communication as coming from one of the IPs in this address space.</span></span>  
* <span data-ttu-id="443e7-223">Site to site address space - You can use Site to Site VPNs to connect your VNET to your on premise resources or to other VNETs.</span><span class="sxs-lookup"><span data-stu-id="443e7-223">Site to site address space - You can use Site to Site VPNs to connect your VNET to your on premise resources or to other VNETs.</span></span>  <span data-ttu-id="443e7-224">Should you have that configured then the IP ranges defined with that VPN connection will show here.</span><span class="sxs-lookup"><span data-stu-id="443e7-224">Should you have that configured then the IP ranges defined with that VPN connection will show here.</span></span>
* <span data-ttu-id="443e7-225">DNS Servers - If you have DNS Servers configured with your VNET then they are listed here.</span><span class="sxs-lookup"><span data-stu-id="443e7-225">DNS Servers - If you have DNS Servers configured with your VNET then they are listed here.</span></span>
* <span data-ttu-id="443e7-226">IPs routed to the VNET - There are a list of IP addresses that your VNET has routing defined for.</span><span class="sxs-lookup"><span data-stu-id="443e7-226">IPs routed to the VNET - There are a list of IP addresses that your VNET has routing defined for.</span></span>  <span data-ttu-id="443e7-227">Those addresses will show here.</span><span class="sxs-lookup"><span data-stu-id="443e7-227">Those addresses will show here.</span></span>  

<span data-ttu-id="443e7-228">The only operation you can take in the app view of your VNET Integration is to disconnect your app from the VNET it is currently connected to.</span><span class="sxs-lookup"><span data-stu-id="443e7-228">The only operation you can take in the app view of your VNET Integration is to disconnect your app from the VNET it is currently connected to.</span></span>  <span data-ttu-id="443e7-229">To do this simply click Disconnect at the top.</span><span class="sxs-lookup"><span data-stu-id="443e7-229">To do this simply click Disconnect at the top.</span></span>  <span data-ttu-id="443e7-230">This action does not change your VNET.</span><span class="sxs-lookup"><span data-stu-id="443e7-230">This action does not change your VNET.</span></span>  <span data-ttu-id="443e7-231">The VNET and it's configuration including the gateways remains unchanged.</span><span class="sxs-lookup"><span data-stu-id="443e7-231">The VNET and it's configuration including the gateways remains unchanged.</span></span>  <span data-ttu-id="443e7-232">If you then want to delete your VNET you need to first delete the resources in it including the gateways.</span><span class="sxs-lookup"><span data-stu-id="443e7-232">If you then want to delete your VNET you need to first delete the resources in it including the gateways.</span></span>  

<span data-ttu-id="443e7-233">The App Service Plan view has a number of additional operations.</span><span class="sxs-lookup"><span data-stu-id="443e7-233">The App Service Plan view has a number of additional operations.</span></span>  <span data-ttu-id="443e7-234">It is also accessed differently than from the app.</span><span class="sxs-lookup"><span data-stu-id="443e7-234">It is also accessed differently than from the app.</span></span>  <span data-ttu-id="443e7-235">To reach the ASP Networking UI simply open your ASP UI and scroll down.</span><span class="sxs-lookup"><span data-stu-id="443e7-235">To reach the ASP Networking UI simply open your ASP UI and scroll down.</span></span>  <span data-ttu-id="443e7-236">There is a UI element called Network Feature Status.</span><span class="sxs-lookup"><span data-stu-id="443e7-236">There is a UI element called Network Feature Status.</span></span>  <span data-ttu-id="443e7-237">It will give some minor details around your VNET Integration.</span><span class="sxs-lookup"><span data-stu-id="443e7-237">It will give some minor details around your VNET Integration.</span></span>  <span data-ttu-id="443e7-238">Clicking on this UI opens the Network Feature Status UI.</span><span class="sxs-lookup"><span data-stu-id="443e7-238">Clicking on this UI opens the Network Feature Status UI.</span></span>  <span data-ttu-id="443e7-239">If you then click on "Click here to manage" you will open up UI that lists the VNET Integrations in this ASP.</span><span class="sxs-lookup"><span data-stu-id="443e7-239">If you then click on "Click here to manage" you will open up UI that lists the VNET Integrations in this ASP.</span></span>

![][6]

<span data-ttu-id="443e7-240">The location of the ASP is good to remember when looking at the locations of the VNETs you are integrating with.</span><span class="sxs-lookup"><span data-stu-id="443e7-240">The location of the ASP is good to remember when looking at the locations of the VNETs you are integrating with.</span></span>  <span data-ttu-id="443e7-241">When the VNET is in another location you are far more likely to see latency issues.</span><span class="sxs-lookup"><span data-stu-id="443e7-241">When the VNET is in another location you are far more likely to see latency issues.</span></span>  

<span data-ttu-id="443e7-242">The VNETs integrated with is a reminder on how many VNETs your apps are integrated with in this ASP and how many you can have.</span><span class="sxs-lookup"><span data-stu-id="443e7-242">The VNETs integrated with is a reminder on how many VNETs your apps are integrated with in this ASP and how many you can have.</span></span>  

<span data-ttu-id="443e7-243">To see added details on each VNET, just click on the VNET you are interested in.</span><span class="sxs-lookup"><span data-stu-id="443e7-243">To see added details on each VNET, just click on the VNET you are interested in.</span></span>  <span data-ttu-id="443e7-244">In addition to the details that were noted earlier you will also see a list of the apps in this ASP that are using that VNET.</span><span class="sxs-lookup"><span data-stu-id="443e7-244">In addition to the details that were noted earlier you will also see a list of the apps in this ASP that are using that VNET.</span></span>  

<span data-ttu-id="443e7-245">With respect to actions there are two primary actions.</span><span class="sxs-lookup"><span data-stu-id="443e7-245">With respect to actions there are two primary actions.</span></span>  <span data-ttu-id="443e7-246">The first is the ability to add routes that drive traffic leaving your app into your VNET.</span><span class="sxs-lookup"><span data-stu-id="443e7-246">The first is the ability to add routes that drive traffic leaving your app into your VNET.</span></span>  <span data-ttu-id="443e7-247">The second action is the ability to sync certificates and network information.</span><span class="sxs-lookup"><span data-stu-id="443e7-247">The second action is the ability to sync certificates and network information.</span></span>

![][7]

<span data-ttu-id="443e7-248">**Routing** As noted earlier the routes that are defined in your VNET are what is used for directing traffic into your VNET from your app.</span><span class="sxs-lookup"><span data-stu-id="443e7-248">**Routing** As noted earlier the routes that are defined in your VNET are what is used for directing traffic into your VNET from your app.</span></span>  <span data-ttu-id="443e7-249">There are some uses though where customers want to send additional outbound traffic from an app into the VNET and for them this capability is provided.</span><span class="sxs-lookup"><span data-stu-id="443e7-249">There are some uses though where customers want to send additional outbound traffic from an app into the VNET and for them this capability is provided.</span></span>  <span data-ttu-id="443e7-250">What happens to the traffic after that is up to how the customer configures their VNET.</span><span class="sxs-lookup"><span data-stu-id="443e7-250">What happens to the traffic after that is up to how the customer configures their VNET.</span></span>  

<span data-ttu-id="443e7-251">**Certificates** The Certificate Status reflects a check being performed by the App Service to validate that the certificates that we are using for the VPN connection are still good.</span><span class="sxs-lookup"><span data-stu-id="443e7-251">**Certificates** The Certificate Status reflects a check being performed by the App Service to validate that the certificates that we are using for the VPN connection are still good.</span></span>  <span data-ttu-id="443e7-252">When VNET Integration enabled, then if this is the first integration to that VNET from any apps in this ASP, there is a required exchange of certificates to ensure the security of the connection.</span><span class="sxs-lookup"><span data-stu-id="443e7-252">When VNET Integration enabled, then if this is the first integration to that VNET from any apps in this ASP, there is a required exchange of certificates to ensure the security of the connection.</span></span>  <span data-ttu-id="443e7-253">Along with the certificates we get the DNS configuration, routes and other similar things that describe the network.</span><span class="sxs-lookup"><span data-stu-id="443e7-253">Along with the certificates we get the DNS configuration, routes and other similar things that describe the network.</span></span>
<span data-ttu-id="443e7-254">If those certificates or network information is changed then you will need to click "Sync Network".</span><span class="sxs-lookup"><span data-stu-id="443e7-254">If those certificates or network information is changed then you will need to click "Sync Network".</span></span>  <span data-ttu-id="443e7-255">**NOTE**: When you click "Sync Network" then you will cause a brief outage in connectivity between your app and your VNET.</span><span class="sxs-lookup"><span data-stu-id="443e7-255">**NOTE**: When you click "Sync Network" then you will cause a brief outage in connectivity between your app and your VNET.</span></span>  <span data-ttu-id="443e7-256">While your app will not be restarted the loss of connectivity could cause your site to not function properly.</span><span class="sxs-lookup"><span data-stu-id="443e7-256">While your app will not be restarted the loss of connectivity could cause your site to not function properly.</span></span>  

## <a name="accessing-on-premise-resources"></a><span data-ttu-id="443e7-257">Accessing on premise resources</span><span class="sxs-lookup"><span data-stu-id="443e7-257">Accessing on premise resources</span></span>
<span data-ttu-id="443e7-258">One of the benefits of the VNET Integration feature is that if your VNET is connected to your on premise network with a Site to Site VPN then your apps can have access to your on premise resources from your app.</span><span class="sxs-lookup"><span data-stu-id="443e7-258">One of the benefits of the VNET Integration feature is that if your VNET is connected to your on premise network with a Site to Site VPN then your apps can have access to your on premise resources from your app.</span></span>  <span data-ttu-id="443e7-259">For this to work though you may need to update your on premise VPN gateway with the routes for your Point to Site IP range.</span><span class="sxs-lookup"><span data-stu-id="443e7-259">For this to work though you may need to update your on premise VPN gateway with the routes for your Point to Site IP range.</span></span>  <span data-ttu-id="443e7-260">When the Site to Site VPN is first set up then the scripts used to configure it should set up routes including your Point to Site VPN.</span><span class="sxs-lookup"><span data-stu-id="443e7-260">When the Site to Site VPN is first set up then the scripts used to configure it should set up routes including your Point to Site VPN.</span></span>  <span data-ttu-id="443e7-261">If you add the Point to Site VPN after your create your Site to Site VPN then you will need to update the routes manually.</span><span class="sxs-lookup"><span data-stu-id="443e7-261">If you add the Point to Site VPN after your create your Site to Site VPN then you will need to update the routes manually.</span></span>  <span data-ttu-id="443e7-262">Details on how to do that will vary per gateway and are not described here.</span><span class="sxs-lookup"><span data-stu-id="443e7-262">Details on how to do that will vary per gateway and are not described here.</span></span>  

> [!NOTE]
> <span data-ttu-id="443e7-263">While the VNET Integration feature will work with a Site to Site VPN to access on premise resources it currently will not work with an ExpressRoute VPN to do the same.</span><span class="sxs-lookup"><span data-stu-id="443e7-263">While the VNET Integration feature will work with a Site to Site VPN to access on premise resources it currently will not work with an ExpressRoute VPN to do the same.</span></span>  <span data-ttu-id="443e7-264">This is true when integrating with either a Classic or Resource Manager VNET.</span><span class="sxs-lookup"><span data-stu-id="443e7-264">This is true when integrating with either a Classic or Resource Manager VNET.</span></span>  <span data-ttu-id="443e7-265">If you need to access resources through an ExpressRoute VPN then you can use an ASE which can run in your VNET.</span><span class="sxs-lookup"><span data-stu-id="443e7-265">If you need to access resources through an ExpressRoute VPN then you can use an ASE which can run in your VNET.</span></span> 
> 
> 

## <a name="pricing-details"></a><span data-ttu-id="443e7-266">Pricing details</span><span class="sxs-lookup"><span data-stu-id="443e7-266">Pricing details</span></span>
<span data-ttu-id="443e7-267">There are a few pricing nuances that you should be aware of when using the VNET Integration feature.</span><span class="sxs-lookup"><span data-stu-id="443e7-267">There are a few pricing nuances that you should be aware of when using the VNET Integration feature.</span></span>  <span data-ttu-id="443e7-268">There are 3 related charges to the use of this feature:</span><span class="sxs-lookup"><span data-stu-id="443e7-268">There are 3 related charges to the use of this feature:</span></span>

* <span data-ttu-id="443e7-269">ASP pricing tier requirements</span><span class="sxs-lookup"><span data-stu-id="443e7-269">ASP pricing tier requirements</span></span>
* <span data-ttu-id="443e7-270">Data transfer costs</span><span class="sxs-lookup"><span data-stu-id="443e7-270">Data transfer costs</span></span>
* <span data-ttu-id="443e7-271">VPN Gateway costs.</span><span class="sxs-lookup"><span data-stu-id="443e7-271">VPN Gateway costs.</span></span>

<span data-ttu-id="443e7-272">For your apps to be able to use this feature, they need to be in a Standard or Premium App Service Plan.</span><span class="sxs-lookup"><span data-stu-id="443e7-272">For your apps to be able to use this feature, they need to be in a Standard or Premium App Service Plan.</span></span>  <span data-ttu-id="443e7-273">You can see more details on those costs here: [App Service Pricing][ASPricing].</span><span class="sxs-lookup"><span data-stu-id="443e7-273">You can see more details on those costs here: [App Service Pricing][ASPricing].</span></span> 

<span data-ttu-id="443e7-274">Due to the way Point to Site VPNs are handled, you always have a charge for outbound data through your VNET Integration connection even if the VNET is in the same data center.</span><span class="sxs-lookup"><span data-stu-id="443e7-274">Due to the way Point to Site VPNs are handled, you always have a charge for outbound data through your VNET Integration connection even if the VNET is in the same data center.</span></span>  <span data-ttu-id="443e7-275">To see what those charges are take a look here: [Data Transfer Pricing Details][DataPricing].</span><span class="sxs-lookup"><span data-stu-id="443e7-275">To see what those charges are take a look here: [Data Transfer Pricing Details][DataPricing].</span></span>  

<span data-ttu-id="443e7-276">The last item is the cost of the VNET gateways.</span><span class="sxs-lookup"><span data-stu-id="443e7-276">The last item is the cost of the VNET gateways.</span></span>  <span data-ttu-id="443e7-277">If you don't need the gateways for something else such as Site to Site VPNs then you are paying for gateways to support the VNET Integration feature.</span><span class="sxs-lookup"><span data-stu-id="443e7-277">If you don't need the gateways for something else such as Site to Site VPNs then you are paying for gateways to support the VNET Integration feature.</span></span>  <span data-ttu-id="443e7-278">There are details on those costs here: [VPN Gateway Pricing][VNETPricing].</span><span class="sxs-lookup"><span data-stu-id="443e7-278">There are details on those costs here: [VPN Gateway Pricing][VNETPricing].</span></span>  

## <a name="troubleshooting"></a><span data-ttu-id="443e7-279">Troubleshooting</span><span class="sxs-lookup"><span data-stu-id="443e7-279">Troubleshooting</span></span>
<span data-ttu-id="443e7-280">While the feature is easy to set up that doesn't mean that your experience will be problem free.</span><span class="sxs-lookup"><span data-stu-id="443e7-280">While the feature is easy to set up that doesn't mean that your experience will be problem free.</span></span>  <span data-ttu-id="443e7-281">Should you encounter problems accessing your desired endpoint there are some utilities you can use to test connectivity from the app console.</span><span class="sxs-lookup"><span data-stu-id="443e7-281">Should you encounter problems accessing your desired endpoint there are some utilities you can use to test connectivity from the app console.</span></span>  <span data-ttu-id="443e7-282">There are two console experiences you can use.</span><span class="sxs-lookup"><span data-stu-id="443e7-282">There are two console experiences you can use.</span></span>  <span data-ttu-id="443e7-283">One is from the Kudu console and the other is the console that you can reach in the Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="443e7-283">One is from the Kudu console and the other is the console that you can reach in the Azure Portal.</span></span>  <span data-ttu-id="443e7-284">To get to the Kudu console from your app go to Tools -> Kudu.</span><span class="sxs-lookup"><span data-stu-id="443e7-284">To get to the Kudu console from your app go to Tools -> Kudu.</span></span>  <span data-ttu-id="443e7-285">This is the same as going to [sitename].scm.azurewebsites.net.</span><span class="sxs-lookup"><span data-stu-id="443e7-285">This is the same as going to [sitename].scm.azurewebsites.net.</span></span>  <span data-ttu-id="443e7-286">Once that opens simply go to the Debug console tab.  To get to the Azure portal hosted console then from your app go to Tools -> Console.</span><span class="sxs-lookup"><span data-stu-id="443e7-286">Once that opens simply go to the Debug console tab.  To get to the Azure portal hosted console then from your app go to Tools -> Console.</span></span>  

#### <a name="tools"></a><span data-ttu-id="443e7-287">Tools</span><span class="sxs-lookup"><span data-stu-id="443e7-287">Tools</span></span>
<span data-ttu-id="443e7-288">The tools ping, nslookup and tracert won’t work through the console due to security constraints.</span><span class="sxs-lookup"><span data-stu-id="443e7-288">The tools ping, nslookup and tracert won’t work through the console due to security constraints.</span></span>  <span data-ttu-id="443e7-289">To fill the void there have been two separate tools added.</span><span class="sxs-lookup"><span data-stu-id="443e7-289">To fill the void there have been two separate tools added.</span></span>  <span data-ttu-id="443e7-290">In order to test DNS functionality we added a tool named nameresolver.exe.</span><span class="sxs-lookup"><span data-stu-id="443e7-290">In order to test DNS functionality we added a tool named nameresolver.exe.</span></span>  <span data-ttu-id="443e7-291">The syntax is:</span><span class="sxs-lookup"><span data-stu-id="443e7-291">The syntax is:</span></span>

    nameresolver.exe hostname [optional: DNS Server]

<span data-ttu-id="443e7-292">You can use nameresolver to check the hostnames that your app depends on.</span><span class="sxs-lookup"><span data-stu-id="443e7-292">You can use nameresolver to check the hostnames that your app depends on.</span></span>  <span data-ttu-id="443e7-293">This way you can test if you have anything mis-configured with your DNS or perhaps don't have access to your DNS server.</span><span class="sxs-lookup"><span data-stu-id="443e7-293">This way you can test if you have anything mis-configured with your DNS or perhaps don't have access to your DNS server.</span></span>

<span data-ttu-id="443e7-294">The next tool allows you to test for TCP connectivity to a host and port combination.</span><span class="sxs-lookup"><span data-stu-id="443e7-294">The next tool allows you to test for TCP connectivity to a host and port combination.</span></span>  <span data-ttu-id="443e7-295">This tool is called  tcpping.exe and the syntax is:</span><span class="sxs-lookup"><span data-stu-id="443e7-295">This tool is called  tcpping.exe and the syntax is:</span></span>

    tcpping.exe hostname [optional: port]

<span data-ttu-id="443e7-296">This tool will tell you if you can reach a specific host and port but will not perform the same task you get with the ICMP based ping utility.</span><span class="sxs-lookup"><span data-stu-id="443e7-296">This tool will tell you if you can reach a specific host and port but will not perform the same task you get with the ICMP based ping utility.</span></span>  <span data-ttu-id="443e7-297">The ICMP ping utility will tell you if your host is up.</span><span class="sxs-lookup"><span data-stu-id="443e7-297">The ICMP ping utility will tell you if your host is up.</span></span>  <span data-ttu-id="443e7-298">With tcpping you find out if you can access a specific port on a host.</span><span class="sxs-lookup"><span data-stu-id="443e7-298">With tcpping you find out if you can access a specific port on a host.</span></span>  

#### <a name="debugging-access-to-vnet-hosted-resources"></a><span data-ttu-id="443e7-299">Debugging access to VNET hosted resources</span><span class="sxs-lookup"><span data-stu-id="443e7-299">Debugging access to VNET hosted resources</span></span>
<span data-ttu-id="443e7-300">There are a number of things that can prevent your app from reaching a specific host and port.</span><span class="sxs-lookup"><span data-stu-id="443e7-300">There are a number of things that can prevent your app from reaching a specific host and port.</span></span>  <span data-ttu-id="443e7-301">Most of the time it is one of three things:</span><span class="sxs-lookup"><span data-stu-id="443e7-301">Most of the time it is one of three things:</span></span>

* <span data-ttu-id="443e7-302">**There is a firewall in the way**  If you have a firewall in the way then you will hit the TCP timeout.</span><span class="sxs-lookup"><span data-stu-id="443e7-302">**There is a firewall in the way**  If you have a firewall in the way then you will hit the TCP timeout.</span></span>  <span data-ttu-id="443e7-303">That is 21 seconds in this case.</span><span class="sxs-lookup"><span data-stu-id="443e7-303">That is 21 seconds in this case.</span></span>  <span data-ttu-id="443e7-304">Use the tcpping tool to test connectivity.</span><span class="sxs-lookup"><span data-stu-id="443e7-304">Use the tcpping tool to test connectivity.</span></span>  <span data-ttu-id="443e7-305">TCP timeouts can be due to many things beyond firewalls but start there.</span><span class="sxs-lookup"><span data-stu-id="443e7-305">TCP timeouts can be due to many things beyond firewalls but start there.</span></span>  
* <span data-ttu-id="443e7-306">**DNS is not accessible**  The DNS timeout is 3 seconds per DNS server.</span><span class="sxs-lookup"><span data-stu-id="443e7-306">**DNS is not accessible**  The DNS timeout is 3 seconds per DNS server.</span></span>  <span data-ttu-id="443e7-307">If you have 2 DNS servers that is 6 seconds.</span><span class="sxs-lookup"><span data-stu-id="443e7-307">If you have 2 DNS servers that is 6 seconds.</span></span>  <span data-ttu-id="443e7-308">Use nameresolver to see if DNS is working.</span><span class="sxs-lookup"><span data-stu-id="443e7-308">Use nameresolver to see if DNS is working.</span></span>  <span data-ttu-id="443e7-309">Remember you can't use nslookup as that does not use the DNS your VNET is configured with.</span><span class="sxs-lookup"><span data-stu-id="443e7-309">Remember you can't use nslookup as that does not use the DNS your VNET is configured with.</span></span>
* <span data-ttu-id="443e7-310">**Invalid P2S IP range** The point to site IP range needs to be in the RFC 1918 private IP ranges (10.0.0.0-10.255.255.255 / 172.16.0.0-172.31.255.255 / 192.168.0.0-192.168.255.255)  If the range uses IPs outside of that then things won't work.</span><span class="sxs-lookup"><span data-stu-id="443e7-310">**Invalid P2S IP range** The point to site IP range needs to be in the RFC 1918 private IP ranges (10.0.0.0-10.255.255.255 / 172.16.0.0-172.31.255.255 / 192.168.0.0-192.168.255.255)  If the range uses IPs outside of that then things won't work.</span></span>  

<span data-ttu-id="443e7-311">If those items don't answer your problem, look first for the simple things like:</span><span class="sxs-lookup"><span data-stu-id="443e7-311">If those items don't answer your problem, look first for the simple things like:</span></span>  

* <span data-ttu-id="443e7-312">Does the Gateway show as being up in the Portal?</span><span class="sxs-lookup"><span data-stu-id="443e7-312">Does the Gateway show as being up in the Portal?</span></span>
* <span data-ttu-id="443e7-313">Do certificates show as being in sync?</span><span class="sxs-lookup"><span data-stu-id="443e7-313">Do certificates show as being in sync?</span></span>
* <span data-ttu-id="443e7-314">Did anybody change the network configuration without doing a "Sync Network" in the affected ASPs?</span><span class="sxs-lookup"><span data-stu-id="443e7-314">Did anybody change the network configuration without doing a "Sync Network" in the affected ASPs?</span></span> 

<span data-ttu-id="443e7-315">If your gateway is down then bring it back up.</span><span class="sxs-lookup"><span data-stu-id="443e7-315">If your gateway is down then bring it back up.</span></span>  <span data-ttu-id="443e7-316">If your certificates are out of sync then go to the ASP view of your VNET Integration and hit "Sync Network".</span><span class="sxs-lookup"><span data-stu-id="443e7-316">If your certificates are out of sync then go to the ASP view of your VNET Integration and hit "Sync Network".</span></span>  <span data-ttu-id="443e7-317">If you suspect that there has been a change made to your VNET configuration and it wasn't sync'd with your ASPs then go to the ASP view of your VNET Integration and hit "Sync Network"  Just as a reminder, this will cause a brief outage with your VNET connection and your apps.</span><span class="sxs-lookup"><span data-stu-id="443e7-317">If you suspect that there has been a change made to your VNET configuration and it wasn't sync'd with your ASPs then go to the ASP view of your VNET Integration and hit "Sync Network"  Just as a reminder, this will cause a brief outage with your VNET connection and your apps.</span></span>  

<span data-ttu-id="443e7-318">If all of that is fine then you need to dig in a bit deeper:</span><span class="sxs-lookup"><span data-stu-id="443e7-318">If all of that is fine then you need to dig in a bit deeper:</span></span>

* <span data-ttu-id="443e7-319">Are there any other apps using VNET Integration to reach resources in the same VNET?</span><span class="sxs-lookup"><span data-stu-id="443e7-319">Are there any other apps using VNET Integration to reach resources in the same VNET?</span></span> 
* <span data-ttu-id="443e7-320">Can you go to the app console and use tcpping to reach any other resources in your VNET?</span><span class="sxs-lookup"><span data-stu-id="443e7-320">Can you go to the app console and use tcpping to reach any other resources in your VNET?</span></span>  

<span data-ttu-id="443e7-321">If either of the above are true then your VNET Integration is fine and the problem is somewhere else.</span><span class="sxs-lookup"><span data-stu-id="443e7-321">If either of the above are true then your VNET Integration is fine and the problem is somewhere else.</span></span>  <span data-ttu-id="443e7-322">This is where it gets to be more of a challenge because there is no simple way to see why you can't reach a host:port.</span><span class="sxs-lookup"><span data-stu-id="443e7-322">This is where it gets to be more of a challenge because there is no simple way to see why you can't reach a host:port.</span></span>  <span data-ttu-id="443e7-323">Some of the causes include:</span><span class="sxs-lookup"><span data-stu-id="443e7-323">Some of the causes include:</span></span>

* <span data-ttu-id="443e7-324">you have a firewall up on your host preventing access to the application port from your point to site IP range.</span><span class="sxs-lookup"><span data-stu-id="443e7-324">you have a firewall up on your host preventing access to the application port from your point to site IP range.</span></span>  <span data-ttu-id="443e7-325">Crossing subnets often requires Public access.</span><span class="sxs-lookup"><span data-stu-id="443e7-325">Crossing subnets often requires Public access.</span></span>
* <span data-ttu-id="443e7-326">your target host is down</span><span class="sxs-lookup"><span data-stu-id="443e7-326">your target host is down</span></span>
* <span data-ttu-id="443e7-327">your application is down</span><span class="sxs-lookup"><span data-stu-id="443e7-327">your application is down</span></span>
* <span data-ttu-id="443e7-328">you had the wrong IP or hostname</span><span class="sxs-lookup"><span data-stu-id="443e7-328">you had the wrong IP or hostname</span></span>
* <span data-ttu-id="443e7-329">your application is listening on a different port than what you expected.</span><span class="sxs-lookup"><span data-stu-id="443e7-329">your application is listening on a different port than what you expected.</span></span>  <span data-ttu-id="443e7-330">You can check this by going onto that host and using "netstat -aon" from the cmd prompt.</span><span class="sxs-lookup"><span data-stu-id="443e7-330">You can check this by going onto that host and using "netstat -aon" from the cmd prompt.</span></span>  <span data-ttu-id="443e7-331">This will show you what process ID is listening on what port.</span><span class="sxs-lookup"><span data-stu-id="443e7-331">This will show you what process ID is listening on what port.</span></span>  
* <span data-ttu-id="443e7-332">your network security groups are configured in such a manner that they prevent access to your application host and port from your point to site IP range</span><span class="sxs-lookup"><span data-stu-id="443e7-332">your network security groups are configured in such a manner that they prevent access to your application host and port from your point to site IP range</span></span>

<span data-ttu-id="443e7-333">Remember that you don't know what IP in your Point to Site IP range that your app will use so you need to allow access from the entire range.</span><span class="sxs-lookup"><span data-stu-id="443e7-333">Remember that you don't know what IP in your Point to Site IP range that your app will use so you need to allow access from the entire range.</span></span>  

<span data-ttu-id="443e7-334">Additional debug steps include:</span><span class="sxs-lookup"><span data-stu-id="443e7-334">Additional debug steps include:</span></span>

* <span data-ttu-id="443e7-335">log onto another VM in your VNET and attempt to reach your resource host:port from there.</span><span class="sxs-lookup"><span data-stu-id="443e7-335">log onto another VM in your VNET and attempt to reach your resource host:port from there.</span></span>  <span data-ttu-id="443e7-336">There are some TCP ping utilities that you can use for this purpose or can even use telnet if need be.</span><span class="sxs-lookup"><span data-stu-id="443e7-336">There are some TCP ping utilities that you can use for this purpose or can even use telnet if need be.</span></span>  <span data-ttu-id="443e7-337">The purpose here is just to determine if connectivity is there from this other VM.</span><span class="sxs-lookup"><span data-stu-id="443e7-337">The purpose here is just to determine if connectivity is there from this other VM.</span></span> 
* <span data-ttu-id="443e7-338">bring up an application on another VM and test access to that host and port from the console from your app</span><span class="sxs-lookup"><span data-stu-id="443e7-338">bring up an application on another VM and test access to that host and port from the console from your app</span></span>  
  ####<a name="on-premise-resources"></a><span data-ttu-id="443e7-339">On premise resources####</span><span class="sxs-lookup"><span data-stu-id="443e7-339">On premise resources####</span></span>
  <span data-ttu-id="443e7-340">If your cannot reach resources on premise then the first thing you should check is if you can reach a resource in your VNET.</span><span class="sxs-lookup"><span data-stu-id="443e7-340">If your cannot reach resources on premise then the first thing you should check is if you can reach a resource in your VNET.</span></span>  <span data-ttu-id="443e7-341">If that is working then the next steps are pretty easy.</span><span class="sxs-lookup"><span data-stu-id="443e7-341">If that is working then the next steps are pretty easy.</span></span>  <span data-ttu-id="443e7-342">From a VM in your VNET you need to try to reach the on premise application.</span><span class="sxs-lookup"><span data-stu-id="443e7-342">From a VM in your VNET you need to try to reach the on premise application.</span></span>  <span data-ttu-id="443e7-343">You can use telnet or a TCP ping utility.</span><span class="sxs-lookup"><span data-stu-id="443e7-343">You can use telnet or a TCP ping utility.</span></span>  <span data-ttu-id="443e7-344">If your VM can't reach your on premise resource then first make sure your Site to Site VPN connection is working.</span><span class="sxs-lookup"><span data-stu-id="443e7-344">If your VM can't reach your on premise resource then first make sure your Site to Site VPN connection is working.</span></span>  <span data-ttu-id="443e7-345">If it is working then check the same things noted earlier as well as the on premise gateway configuration and status.</span><span class="sxs-lookup"><span data-stu-id="443e7-345">If it is working then check the same things noted earlier as well as the on premise gateway configuration and status.</span></span>  

<span data-ttu-id="443e7-346">Now if your VNET hosted VM can reach your on premise system but your app can't then the reason is likely one of the following:</span><span class="sxs-lookup"><span data-stu-id="443e7-346">Now if your VNET hosted VM can reach your on premise system but your app can't then the reason is likely one of the following:</span></span>

* <span data-ttu-id="443e7-347">your routes are not configured with your point to site IP ranges in your on premise gateway</span><span class="sxs-lookup"><span data-stu-id="443e7-347">your routes are not configured with your point to site IP ranges in your on premise gateway</span></span>
* <span data-ttu-id="443e7-348">your network security groups are blocking access for your Point to Site IP range</span><span class="sxs-lookup"><span data-stu-id="443e7-348">your network security groups are blocking access for your Point to Site IP range</span></span>
* <span data-ttu-id="443e7-349">your on premise firewalls are blocking traffic from your Point to Site IP range</span><span class="sxs-lookup"><span data-stu-id="443e7-349">your on premise firewalls are blocking traffic from your Point to Site IP range</span></span>
* <span data-ttu-id="443e7-350">you have a User Defined Route(UDR) in your VNET that prevents your Point to Site based traffic from reaching your on premise network</span><span class="sxs-lookup"><span data-stu-id="443e7-350">you have a User Defined Route(UDR) in your VNET that prevents your Point to Site based traffic from reaching your on premise network</span></span>

## <a name="hybrid-connections-and-app-service-environments"></a><span data-ttu-id="443e7-351">Hybrid Connections and App Service Environments</span><span class="sxs-lookup"><span data-stu-id="443e7-351">Hybrid Connections and App Service Environments</span></span>
<span data-ttu-id="443e7-352">There are 3 features that enable access to VNET hosted resources.</span><span class="sxs-lookup"><span data-stu-id="443e7-352">There are 3 features that enable access to VNET hosted resources.</span></span>  <span data-ttu-id="443e7-353">They are:</span><span class="sxs-lookup"><span data-stu-id="443e7-353">They are:</span></span>

* <span data-ttu-id="443e7-354">VNET Integration</span><span class="sxs-lookup"><span data-stu-id="443e7-354">VNET Integration</span></span>
* <span data-ttu-id="443e7-355">Hybrid Connections</span><span class="sxs-lookup"><span data-stu-id="443e7-355">Hybrid Connections</span></span>
* <span data-ttu-id="443e7-356">App Service Environments</span><span class="sxs-lookup"><span data-stu-id="443e7-356">App Service Environments</span></span>

<span data-ttu-id="443e7-357">Hybrid Connections requires you to install a relay agent called the Hybrid Connection Manager(HCM) in your network.</span><span class="sxs-lookup"><span data-stu-id="443e7-357">Hybrid Connections requires you to install a relay agent called the Hybrid Connection Manager(HCM) in your network.</span></span>  <span data-ttu-id="443e7-358">The HCM needs to be able to connect to Azure and also to your application.</span><span class="sxs-lookup"><span data-stu-id="443e7-358">The HCM needs to be able to connect to Azure and also to your application.</span></span>  <span data-ttu-id="443e7-359">This solution is especially great from a remote network such as your on premise network or even another cloud hosted network because it does not require an internet accessible endpoint.</span><span class="sxs-lookup"><span data-stu-id="443e7-359">This solution is especially great from a remote network such as your on premise network or even another cloud hosted network because it does not require an internet accessible endpoint.</span></span>  <span data-ttu-id="443e7-360">The HCM only runs on Windows and you can have up to 5 instances running to provide high availability.</span><span class="sxs-lookup"><span data-stu-id="443e7-360">The HCM only runs on Windows and you can have up to 5 instances running to provide high availability.</span></span>  <span data-ttu-id="443e7-361">Hybrid Connections only supports TCP though and each HC endpoint has to match to a specific host:port combination.</span><span class="sxs-lookup"><span data-stu-id="443e7-361">Hybrid Connections only supports TCP though and each HC endpoint has to match to a specific host:port combination.</span></span>  

<span data-ttu-id="443e7-362">The App Service Environment feature allows you to run an instance of the Azure App Service in your VNET.</span><span class="sxs-lookup"><span data-stu-id="443e7-362">The App Service Environment feature allows you to run an instance of the Azure App Service in your VNET.</span></span>  <span data-ttu-id="443e7-363">This lets your apps access resources in your VNET without any extra steps.</span><span class="sxs-lookup"><span data-stu-id="443e7-363">This lets your apps access resources in your VNET without any extra steps.</span></span>  <span data-ttu-id="443e7-364">Some of the other benefits of an App Service Environment is that you can use 8 core dedicated workers with 14 GB of RAM.</span><span class="sxs-lookup"><span data-stu-id="443e7-364">Some of the other benefits of an App Service Environment is that you can use 8 core dedicated workers with 14 GB of RAM.</span></span>  <span data-ttu-id="443e7-365">Another benefit is that you can scale the system to meet your needs.</span><span class="sxs-lookup"><span data-stu-id="443e7-365">Another benefit is that you can scale the system to meet your needs.</span></span>  <span data-ttu-id="443e7-366">Unlike the multi-tenant environments where your ASP is limited in size, in an ASE you control how many resources you want to give to the system.</span><span class="sxs-lookup"><span data-stu-id="443e7-366">Unlike the multi-tenant environments where your ASP is limited in size, in an ASE you control how many resources you want to give to the system.</span></span>  <span data-ttu-id="443e7-367">With respect to the network focus of this document though, one of the things you get with an ASE that you don't with VNET Integration is that it can work with an ExpressRoute VPN.</span><span class="sxs-lookup"><span data-stu-id="443e7-367">With respect to the network focus of this document though, one of the things you get with an ASE that you don't with VNET Integration is that it can work with an ExpressRoute VPN.</span></span>  

<span data-ttu-id="443e7-368">While there is some use case overlap, none of these feature can replace any of the others.</span><span class="sxs-lookup"><span data-stu-id="443e7-368">While there is some use case overlap, none of these feature can replace any of the others.</span></span>  <span data-ttu-id="443e7-369">Knowing what feature to use is tied to your needs and how you will want to use it.</span><span class="sxs-lookup"><span data-stu-id="443e7-369">Knowing what feature to use is tied to your needs and how you will want to use it.</span></span>  <span data-ttu-id="443e7-370">For example:</span><span class="sxs-lookup"><span data-stu-id="443e7-370">For example:</span></span>

* <span data-ttu-id="443e7-371">If you are a developer and simply want to run a site in Azure and have it access the database on the workstation under your desk then the easiest thing to use is Hybrid Connections.</span><span class="sxs-lookup"><span data-stu-id="443e7-371">If you are a developer and simply want to run a site in Azure and have it access the database on the workstation under your desk then the easiest thing to use is Hybrid Connections.</span></span>  
* <span data-ttu-id="443e7-372">If you are a large organization that wants to put a large number of web properties in the public cloud and manage them in your own network then you want to go with the App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="443e7-372">If you are a large organization that wants to put a large number of web properties in the public cloud and manage them in your own network then you want to go with the App Service Environment.</span></span>  
* <span data-ttu-id="443e7-373">If you have a number of App Service hosted apps and simply want to access resources in your VNET then VNET Integration is the way to go.</span><span class="sxs-lookup"><span data-stu-id="443e7-373">If you have a number of App Service hosted apps and simply want to access resources in your VNET then VNET Integration is the way to go.</span></span>  

<span data-ttu-id="443e7-374">Beyond the use cases there are some simplicity related aspects.</span><span class="sxs-lookup"><span data-stu-id="443e7-374">Beyond the use cases there are some simplicity related aspects.</span></span>  <span data-ttu-id="443e7-375">If your VNET is already connected to your on premise network then using VNET Integration or an App Service Environment is an easy way to consume on premise resources.</span><span class="sxs-lookup"><span data-stu-id="443e7-375">If your VNET is already connected to your on premise network then using VNET Integration or an App Service Environment is an easy way to consume on premise resources.</span></span>  <span data-ttu-id="443e7-376">On the other hand, if your VNET is not connected to your on premise network then it's a lot more overhead to set up a site to site VPN with your VNET compared with installing the HCM.</span><span class="sxs-lookup"><span data-stu-id="443e7-376">On the other hand, if your VNET is not connected to your on premise network then it's a lot more overhead to set up a site to site VPN with your VNET compared with installing the HCM.</span></span>  

<span data-ttu-id="443e7-377">Beyond the functional differences there are also pricing differences.</span><span class="sxs-lookup"><span data-stu-id="443e7-377">Beyond the functional differences there are also pricing differences.</span></span>  <span data-ttu-id="443e7-378">The App Service Environment feature is a Premium service offering but offers the most network configuration possibilities in addition to other great features.</span><span class="sxs-lookup"><span data-stu-id="443e7-378">The App Service Environment feature is a Premium service offering but offers the most network configuration possibilities in addition to other great features.</span></span>  <span data-ttu-id="443e7-379">VNET Integration can be used with Standard or Premium ASPs and is perfect for securely consuming resources in your VNET from the multi-tenant App Service.</span><span class="sxs-lookup"><span data-stu-id="443e7-379">VNET Integration can be used with Standard or Premium ASPs and is perfect for securely consuming resources in your VNET from the multi-tenant App Service.</span></span>  <span data-ttu-id="443e7-380">Hybrid Connections currently depends on a BizTalk account which has pricing levels that start free and then get progressively more expensive based on the amount you need.</span><span class="sxs-lookup"><span data-stu-id="443e7-380">Hybrid Connections currently depends on a BizTalk account which has pricing levels that start free and then get progressively more expensive based on the amount you need.</span></span>  <span data-ttu-id="443e7-381">When it comes to working across many networks though, there is no other feature like Hybrid Connections which can enable you to access resources in well over 100 separate networks.</span><span class="sxs-lookup"><span data-stu-id="443e7-381">When it comes to working across many networks though, there is no other feature like Hybrid Connections which can enable you to access resources in well over 100 separate networks.</span></span>    

<!--Image references-->
[1]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/app-service-web/media/web-sites-integrate-with-vnet/vnetint-upgradeplan.png
[2]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/app-service-web/media/web-sites-integrate-with-vnet/vnetint-existingvnet.png
[3]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/app-service-web/media/web-sites-integrate-with-vnet/vnetint-createvnet.png
[4]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/app-service-web/media/web-sites-integrate-with-vnet/vnetint-howitworks.png
[5]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/app-service-web/media/web-sites-integrate-with-vnet/vnetint-appmanage.png
[6]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/app-service-web/media/web-sites-integrate-with-vnet/vnetint-aspmanage.png
[7]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/app-service-web/media/web-sites-integrate-with-vnet/vnetint-aspmanagedetail.png
[8]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/app-service-web/media/web-sites-integrate-with-vnet/vnetint-vnetp2s.png

<!--Links-->
[VNETOverview]: http://azure.microsoft.com/documentation/articles/virtual-networks-overview/ 
[AzurePortal]: http://portal.azure.com/
[ASPricing]: http://azure.microsoft.com/pricing/details/app-service/
[VNETPricing]: http://azure.microsoft.com/pricing/details/vpn-gateway/
[DataPricing]: http://azure.microsoft.com/pricing/details/data-transfers/
[V2VNETP2S]: http://azure.microsoft.com/documentation/articles/vpn-gateway-howto-point-to-site-rm-ps/
[IntPowershell]: http://azure.microsoft.com/documentation/articles/app-service-vnet-integration-powershell/
[ASEintro]: http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-intro/
[ILBASE]: http://azure.microsoft.com/documentation/articles/app-service-environment-with-internal-load-balancer/
[V2VNETPortal]: https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-howto-point-to-site-resource-manager-portal








