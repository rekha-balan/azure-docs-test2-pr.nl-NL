---
title: Use an on-premises SQL Server in Azure Machine Learning | Microsoft Docs
description: Use data from an on-premises SQL Server database to perform advanced analytics with Azure Machine Learning.
services: machine-learning
documentationcenter: ''
author: heatherbshapiro
ms.author: hshapiro
manager: hjerez
editor: cgronlun
ms.assetid: 08e4610d-02b6-4071-aad7-a2340ad8e2ea
ms.service: machine-learning
ms.component: studio
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/13/2017
ms.openlocfilehash: d9d9bfc6f8571ab30804d76b9ab9490b0d2e43c7
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44866384"
---
# <a name="perform-advanced-analytics-with-azure-machine-learning-using-data-from-an-on-premises-sql-server-database"></a><span data-ttu-id="e520b-103">Perform advanced analytics with Azure Machine Learning using data from an on-premises SQL Server database</span><span class="sxs-lookup"><span data-stu-id="e520b-103">Perform advanced analytics with Azure Machine Learning using data from an on-premises SQL Server database</span></span>
[!INCLUDE [import-data-into-aml-studio-selector](../../../includes/machine-learning-import-data-into-aml-studio.md)]

<span data-ttu-id="e520b-104">Often enterprises that work with on-premises data would like to take advantage of the scale and agility of the cloud for their machine learning workloads.</span><span class="sxs-lookup"><span data-stu-id="e520b-104">Often enterprises that work with on-premises data would like to take advantage of the scale and agility of the cloud for their machine learning workloads.</span></span> <span data-ttu-id="e520b-105">But they don't want to disrupt their current business processes and workflows by moving their on-premises data to the cloud.</span><span class="sxs-lookup"><span data-stu-id="e520b-105">But they don't want to disrupt their current business processes and workflows by moving their on-premises data to the cloud.</span></span> <span data-ttu-id="e520b-106">Azure Machine Learning now supports reading your data from an on-premises SQL Server database and then training and scoring a model with this data.</span><span class="sxs-lookup"><span data-stu-id="e520b-106">Azure Machine Learning now supports reading your data from an on-premises SQL Server database and then training and scoring a model with this data.</span></span> <span data-ttu-id="e520b-107">You no longer have to manually copy and sync the data between the cloud and your on-premises server.</span><span class="sxs-lookup"><span data-stu-id="e520b-107">You no longer have to manually copy and sync the data between the cloud and your on-premises server.</span></span> <span data-ttu-id="e520b-108">Instead, the **Import Data** module in Azure Machine Learning Studio can now read directly from your on-premises SQL Server database for your training and scoring jobs.</span><span class="sxs-lookup"><span data-stu-id="e520b-108">Instead, the **Import Data** module in Azure Machine Learning Studio can now read directly from your on-premises SQL Server database for your training and scoring jobs.</span></span>

<span data-ttu-id="e520b-109">This article provides an overview of how to ingress on-premises SQL server data into Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="e520b-109">This article provides an overview of how to ingress on-premises SQL server data into Azure Machine Learning.</span></span> <span data-ttu-id="e520b-110">It assumes that you're familiar with Azure Machine Learning concepts like workspaces, modules, datasets, experiments, *etc.*.</span><span class="sxs-lookup"><span data-stu-id="e520b-110">It assumes that you're familiar with Azure Machine Learning concepts like workspaces, modules, datasets, experiments, *etc.*.</span></span>

> [!NOTE]
> <span data-ttu-id="e520b-111">This feature is not available for free workspaces.</span><span class="sxs-lookup"><span data-stu-id="e520b-111">This feature is not available for free workspaces.</span></span> <span data-ttu-id="e520b-112">For more information about Machine Learning pricing and tiers, see [Azure Machine Learning Pricing](https://azure.microsoft.com/pricing/details/machine-learning/).</span><span class="sxs-lookup"><span data-stu-id="e520b-112">For more information about Machine Learning pricing and tiers, see [Azure Machine Learning Pricing](https://azure.microsoft.com/pricing/details/machine-learning/).</span></span>
>
>

<!-- -->

[!INCLUDE [machine-learning-free-trial](../../../includes/machine-learning-free-trial.md)]

## <a name="install-the-data-factory-self-hosted-integration-runtime"></a><span data-ttu-id="e520b-113">Install the Data Factory Self-hosted Integration Runtime</span><span class="sxs-lookup"><span data-stu-id="e520b-113">Install the Data Factory Self-hosted Integration Runtime</span></span>
<span data-ttu-id="e520b-114">To access an on-premises SQL Server database in Azure Machine Learning, you need to download and install the Data Factory Self-hosted Integration Runtime, formerly known as the Data Management Gateway.</span><span class="sxs-lookup"><span data-stu-id="e520b-114">To access an on-premises SQL Server database in Azure Machine Learning, you need to download and install the Data Factory Self-hosted Integration Runtime, formerly known as the Data Management Gateway.</span></span> <span data-ttu-id="e520b-115">When you configure the connection in Machine Learning Studio, you have the opportunity to download and install the Integration Runtime (IR) using the **Download and register data gateway** dialog described below.</span><span class="sxs-lookup"><span data-stu-id="e520b-115">When you configure the connection in Machine Learning Studio, you have the opportunity to download and install the Integration Runtime (IR) using the **Download and register data gateway** dialog described below.</span></span>


<span data-ttu-id="e520b-116">You also can install the IR ahead of time by downloading and running the MSI setup package from the [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=39717).The MSI can also be used to upgrade an existing IR to the latest version, with all settings preserved.</span><span class="sxs-lookup"><span data-stu-id="e520b-116">You also can install the IR ahead of time by downloading and running the MSI setup package from the [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=39717).The MSI can also be used to upgrade an existing IR to the latest version, with all settings preserved.</span></span>

<span data-ttu-id="e520b-117">The Data Factory Self-Hosted Integration Runtime has the following prerequisites:</span><span class="sxs-lookup"><span data-stu-id="e520b-117">The Data Factory Self-Hosted Integration Runtime has the following prerequisites:</span></span>

* <span data-ttu-id="e520b-118">The Data Factory Self-Hosted Integration requires a 64-bit Operating System with .NET Framework 4.6.1 or above.</span><span class="sxs-lookup"><span data-stu-id="e520b-118">The Data Factory Self-Hosted Integration requires a 64-bit Operating System with .NET Framework 4.6.1 or above.</span></span>
* <span data-ttu-id="e520b-119">The supported Windows operating system versions are Windows 10 , Windows Server 2012, Windows Server 2012 R2, Windows Server 2016.</span><span class="sxs-lookup"><span data-stu-id="e520b-119">The supported Windows operating system versions are Windows 10 , Windows Server 2012, Windows Server 2012 R2, Windows Server 2016.</span></span> 
* <span data-ttu-id="e520b-120">The recommended configuration for the IR machine is at least 2 GHz, 4 Core CPU, 8GB RAM, and 80GB disk.</span><span class="sxs-lookup"><span data-stu-id="e520b-120">The recommended configuration for the IR machine is at least 2 GHz, 4 Core CPU, 8GB RAM, and 80GB disk.</span></span>
* <span data-ttu-id="e520b-121">If the host machine hibernates, the IR won’t respond to data requests.</span><span class="sxs-lookup"><span data-stu-id="e520b-121">If the host machine hibernates, the IR won’t respond to data requests.</span></span> <span data-ttu-id="e520b-122">Therefore, configure an appropriate power plan on the computer before installing the IR.</span><span class="sxs-lookup"><span data-stu-id="e520b-122">Therefore, configure an appropriate power plan on the computer before installing the IR.</span></span> <span data-ttu-id="e520b-123">If the machine is configured to hibernate, the IR installation displays a message.</span><span class="sxs-lookup"><span data-stu-id="e520b-123">If the machine is configured to hibernate, the IR installation displays a message.</span></span>
* <span data-ttu-id="e520b-124">Because copy activity occurs at a specific frequency, the resource usage (CPU, memory) on the machine also follows the same pattern with peak and idle times.</span><span class="sxs-lookup"><span data-stu-id="e520b-124">Because copy activity occurs at a specific frequency, the resource usage (CPU, memory) on the machine also follows the same pattern with peak and idle times.</span></span> <span data-ttu-id="e520b-125">Resource utilization also depends heavily on the amount of data being moved.</span><span class="sxs-lookup"><span data-stu-id="e520b-125">Resource utilization also depends heavily on the amount of data being moved.</span></span> <span data-ttu-id="e520b-126">When multiple copy jobs are in progress, you'll observe resource usage go up during peak times.</span><span class="sxs-lookup"><span data-stu-id="e520b-126">When multiple copy jobs are in progress, you'll observe resource usage go up during peak times.</span></span> <span data-ttu-id="e520b-127">While the minimum configuration listed above is technically sufficient, you may want to have a configuration with more resources than the minimum configuration depending on your specific load for data movement.</span><span class="sxs-lookup"><span data-stu-id="e520b-127">While the minimum configuration listed above is technically sufficient, you may want to have a configuration with more resources than the minimum configuration depending on your specific load for data movement.</span></span>

<span data-ttu-id="e520b-128">Consider the following when setting up and using a Data Factory Self-hosted Integration Runtime:</span><span class="sxs-lookup"><span data-stu-id="e520b-128">Consider the following when setting up and using a Data Factory Self-hosted Integration Runtime:</span></span>

* <span data-ttu-id="e520b-129">You can install only one instance of IR on a single computer.</span><span class="sxs-lookup"><span data-stu-id="e520b-129">You can install only one instance of IR on a single computer.</span></span>
* <span data-ttu-id="e520b-130">You can use a single IR for multiple on-premises data sources.</span><span class="sxs-lookup"><span data-stu-id="e520b-130">You can use a single IR for multiple on-premises data sources.</span></span>
* <span data-ttu-id="e520b-131">You can connect multiple IRs on different computers to the same on-premises data source.</span><span class="sxs-lookup"><span data-stu-id="e520b-131">You can connect multiple IRs on different computers to the same on-premises data source.</span></span>
* <span data-ttu-id="e520b-132">You configure a IRs for only one workspace at a time.</span><span class="sxs-lookup"><span data-stu-id="e520b-132">You configure a IRs for only one workspace at a time.</span></span> <span data-ttu-id="e520b-133">Currently, IRs can’t be shared across workspaces.</span><span class="sxs-lookup"><span data-stu-id="e520b-133">Currently, IRs can’t be shared across workspaces.</span></span>
* <span data-ttu-id="e520b-134">You can configure multiple IRs for a single workspace.</span><span class="sxs-lookup"><span data-stu-id="e520b-134">You can configure multiple IRs for a single workspace.</span></span> <span data-ttu-id="e520b-135">For example, you may want to use a IR that's connected to your test data sources during development and a production IR when you're ready to operationalize.</span><span class="sxs-lookup"><span data-stu-id="e520b-135">For example, you may want to use a IR that's connected to your test data sources during development and a production IR when you're ready to operationalize.</span></span>
* <span data-ttu-id="e520b-136">The IR does not need to be on the same machine as the data source.</span><span class="sxs-lookup"><span data-stu-id="e520b-136">The IR does not need to be on the same machine as the data source.</span></span> <span data-ttu-id="e520b-137">But staying closer to the data source reduces the time for the gateway to connect to the data source.</span><span class="sxs-lookup"><span data-stu-id="e520b-137">But staying closer to the data source reduces the time for the gateway to connect to the data source.</span></span> <span data-ttu-id="e520b-138">We recommend that you install the IR on a machine that's different from the one that hosts the on-premises data source so that the gateway and data source don't compete for resources.</span><span class="sxs-lookup"><span data-stu-id="e520b-138">We recommend that you install the IR on a machine that's different from the one that hosts the on-premises data source so that the gateway and data source don't compete for resources.</span></span>
* <span data-ttu-id="e520b-139">If you already have a IR installed on your computer serving Power BI or Azure Data Factory scenarios, install a separate IR for Azure Machine Learning on another computer.</span><span class="sxs-lookup"><span data-stu-id="e520b-139">If you already have a IR installed on your computer serving Power BI or Azure Data Factory scenarios, install a separate IR for Azure Machine Learning on another computer.</span></span>

  > [!NOTE]
  > <span data-ttu-id="e520b-140">You can't run Data Factory Self-hosted Integration Runtime and Power BI Gateway on the same computer.</span><span class="sxs-lookup"><span data-stu-id="e520b-140">You can't run Data Factory Self-hosted Integration Runtime and Power BI Gateway on the same computer.</span></span>
  >
  >
* <span data-ttu-id="e520b-141">You need to use the Data Factory Self-hosted Integration Runtime for Azure Machine Learning even if you are using Azure ExpressRoute for other data.</span><span class="sxs-lookup"><span data-stu-id="e520b-141">You need to use the Data Factory Self-hosted Integration Runtime for Azure Machine Learning even if you are using Azure ExpressRoute for other data.</span></span> <span data-ttu-id="e520b-142">You should treat your data source as an on-premises data source (that's behind a firewall) even when you use ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="e520b-142">You should treat your data source as an on-premises data source (that's behind a firewall) even when you use ExpressRoute.</span></span> <span data-ttu-id="e520b-143">Use the Data Factory Self-hosted Integration Runtime to establish connectivity between Machine Learning and the data source.</span><span class="sxs-lookup"><span data-stu-id="e520b-143">Use the Data Factory Self-hosted Integration Runtime to establish connectivity between Machine Learning and the data source.</span></span>

<span data-ttu-id="e520b-144">You can find detailed information on installation prerequisites, installation steps, and troubleshooting tips in the article [Integration Runtime in Data Factory](../../data-factory/concepts-integration-runtime.md).</span><span class="sxs-lookup"><span data-stu-id="e520b-144">You can find detailed information on installation prerequisites, installation steps, and troubleshooting tips in the article [Integration Runtime in Data Factory](../../data-factory/concepts-integration-runtime.md).</span></span>

## <a name="span-idusing-the-data-gateway-step-by-step-walk-classanchorspan-idtoc450838866-classanchorspanspaningress-data-from-your-on-premises-sql-server-database-into-azure-machine-learning"></a><span data-ttu-id="e520b-145"><span id="using-the-data-gateway-step-by-step-walk" class="anchor"><span id="_Toc450838866" class="anchor"></span></span>Ingress data from your on-premises SQL Server database into Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="e520b-145"><span id="using-the-data-gateway-step-by-step-walk" class="anchor"><span id="_Toc450838866" class="anchor"></span></span>Ingress data from your on-premises SQL Server database into Azure Machine Learning</span></span>
<span data-ttu-id="e520b-146">In this walkthrough, you will set up a Azure Data Factory Integration Runtime in an Azure Machine Learning workspace, configure it, and then read data from an on-premises SQL Server database.</span><span class="sxs-lookup"><span data-stu-id="e520b-146">In this walkthrough, you will set up a Azure Data Factory Integration Runtime in an Azure Machine Learning workspace, configure it, and then read data from an on-premises SQL Server database.</span></span>

> [!TIP]
> <span data-ttu-id="e520b-147">Before you start, disable your browser’s pop-up blocker for `studio.azureml.net`.</span><span class="sxs-lookup"><span data-stu-id="e520b-147">Before you start, disable your browser’s pop-up blocker for `studio.azureml.net`.</span></span> <span data-ttu-id="e520b-148">If you're using the Google Chrome browser, download and install one of the several plug-ins available at Google Chrome WebStore [Click Once App Extension](https://chrome.google.com/webstore/search/clickonce?_category=extensions).</span><span class="sxs-lookup"><span data-stu-id="e520b-148">If you're using the Google Chrome browser, download and install one of the several plug-ins available at Google Chrome WebStore [Click Once App Extension](https://chrome.google.com/webstore/search/clickonce?_category=extensions).</span></span>
>
> [!NOTE]
> <span data-ttu-id="e520b-149">Azure Data Factory Self-hosted Integration Runtime was formerly known as Data Management Gateway.</span><span class="sxs-lookup"><span data-stu-id="e520b-149">Azure Data Factory Self-hosted Integration Runtime was formerly known as Data Management Gateway.</span></span> <span data-ttu-id="e520b-150">The step by step tutorial will continue to refer to it as a gateway.</span><span class="sxs-lookup"><span data-stu-id="e520b-150">The step by step tutorial will continue to refer to it as a gateway.</span></span>  

### <a name="step-1-create-a-gateway"></a><span data-ttu-id="e520b-151">Step 1: Create a gateway</span><span class="sxs-lookup"><span data-stu-id="e520b-151">Step 1: Create a gateway</span></span>
<span data-ttu-id="e520b-152">The first step is to create and set up the gateway to access your on-premises SQL database.</span><span class="sxs-lookup"><span data-stu-id="e520b-152">The first step is to create and set up the gateway to access your on-premises SQL database.</span></span>

1. <span data-ttu-id="e520b-153">Log in to [Azure Machine Learning  Studio](https://studio.azureml.net/Home/) and select the workspace  that you want to work in.</span><span class="sxs-lookup"><span data-stu-id="e520b-153">Log in to [Azure Machine Learning  Studio](https://studio.azureml.net/Home/) and select the workspace  that you want to work in.</span></span>
2. <span data-ttu-id="e520b-154">Click the **SETTINGS** blade on the left, and then click the **DATA  GATEWAYS** tab at the top.</span><span class="sxs-lookup"><span data-stu-id="e520b-154">Click the **SETTINGS** blade on the left, and then click the **DATA  GATEWAYS** tab at the top.</span></span>
3. <span data-ttu-id="e520b-155">Click **NEW DATA GATEWAY** at the bottom of the screen.</span><span class="sxs-lookup"><span data-stu-id="e520b-155">Click **NEW DATA GATEWAY** at the bottom of the screen.</span></span>

    ![New Data Gateway](./media/use-data-from-an-on-premises-sql-server/new-data-gateway-button.png)
4. <span data-ttu-id="e520b-157">In the **New data gateway** dialog, enter the **Gateway Name** and optionally add a **Description**.</span><span class="sxs-lookup"><span data-stu-id="e520b-157">In the **New data gateway** dialog, enter the **Gateway Name** and optionally add a **Description**.</span></span> <span data-ttu-id="e520b-158">Click the arrow on the bottom right-hand corner to go to the next step of the configuration.</span><span class="sxs-lookup"><span data-stu-id="e520b-158">Click the arrow on the bottom right-hand corner to go to the next step of the configuration.</span></span>

    ![Enter gateway name and description](./media/use-data-from-an-on-premises-sql-server/new-data-gateway-dialog-enter-name.png)
5. <span data-ttu-id="e520b-160">In the Download and register data gateway dialog, copy the GATEWAY  REGISTRATION KEY to the clipboard.</span><span class="sxs-lookup"><span data-stu-id="e520b-160">In the Download and register data gateway dialog, copy the GATEWAY  REGISTRATION KEY to the clipboard.</span></span>

    ![Download and register data gateway](./media/use-data-from-an-on-premises-sql-server/download-and-register-data-gateway.png)
6. <span data-ttu-id="e520b-162"><span id="note-1" class="anchor"></span>If you have not yet downloaded and installed the Microsoft Data Management Gateway, then click **Download data management gateway**.</span><span class="sxs-lookup"><span data-stu-id="e520b-162"><span id="note-1" class="anchor"></span>If you have not yet downloaded and installed the Microsoft Data Management Gateway, then click **Download data management gateway**.</span></span> <span data-ttu-id="e520b-163">This takes you to the Microsoft Download Center where you can select the gateway version you need, download it, and install it.</span><span class="sxs-lookup"><span data-stu-id="e520b-163">This takes you to the Microsoft Download Center where you can select the gateway version you need, download it, and install it.</span></span> <span data-ttu-id="e520b-164">You can find detailed information on installation prerequisites, installation steps, and troubleshooting tips in the beginning sections of the article [Move data between on-premises sources and cloud with Data Management Gateway](../../data-factory/tutorial-hybrid-copy-portal.md).</span><span class="sxs-lookup"><span data-stu-id="e520b-164">You can find detailed information on installation prerequisites, installation steps, and troubleshooting tips in the beginning sections of the article [Move data between on-premises sources and cloud with Data Management Gateway](../../data-factory/tutorial-hybrid-copy-portal.md).</span></span>
7. <span data-ttu-id="e520b-165">After the gateway is installed, the Data Management Gateway Configuration Manager will open and the **Register gateway** dialog is displayed.</span><span class="sxs-lookup"><span data-stu-id="e520b-165">After the gateway is installed, the Data Management Gateway Configuration Manager will open and the **Register gateway** dialog is displayed.</span></span> <span data-ttu-id="e520b-166">Paste the **Gateway Registration Key** that you copied to the clipboard and click **Register**.</span><span class="sxs-lookup"><span data-stu-id="e520b-166">Paste the **Gateway Registration Key** that you copied to the clipboard and click **Register**.</span></span>
8. <span data-ttu-id="e520b-167">If you already have a gateway installed, run the Data Management Gateway Configuration Manager.</span><span class="sxs-lookup"><span data-stu-id="e520b-167">If you already have a gateway installed, run the Data Management Gateway Configuration Manager.</span></span> <span data-ttu-id="e520b-168">Click **Change key**, paste the **Gateway Registration Key** that you copied to the clipboard in the previous step, and click **OK**.</span><span class="sxs-lookup"><span data-stu-id="e520b-168">Click **Change key**, paste the **Gateway Registration Key** that you copied to the clipboard in the previous step, and click **OK**.</span></span>
9. <span data-ttu-id="e520b-169">When the installation is complete, the **Register gateway** dialog for Microsoft Data Management Gateway Configuration Manager is displayed.</span><span class="sxs-lookup"><span data-stu-id="e520b-169">When the installation is complete, the **Register gateway** dialog for Microsoft Data Management Gateway Configuration Manager is displayed.</span></span> <span data-ttu-id="e520b-170">Paste the GATEWAY REGISTRATION KEY that you copied to the clipboard in a previous step and click **Register**.</span><span class="sxs-lookup"><span data-stu-id="e520b-170">Paste the GATEWAY REGISTRATION KEY that you copied to the clipboard in a previous step and click **Register**.</span></span>

    ![Register gateway](./media/use-data-from-an-on-premises-sql-server/data-gateway-configuration-manager-register-gateway.png)
10. <span data-ttu-id="e520b-172">The gateway configuration is complete when the following values are set on the **Home** tab in Microsoft Data Management Gateway Configuration Manager:</span><span class="sxs-lookup"><span data-stu-id="e520b-172">The gateway configuration is complete when the following values are set on the **Home** tab in Microsoft Data Management Gateway Configuration Manager:</span></span>

    * <span data-ttu-id="e520b-173">**Gateway name** and **Instance name** are set to the name of   the gateway.</span><span class="sxs-lookup"><span data-stu-id="e520b-173">**Gateway name** and **Instance name** are set to the name of   the gateway.</span></span>
    * <span data-ttu-id="e520b-174">**Registration** is set to **Registered**.</span><span class="sxs-lookup"><span data-stu-id="e520b-174">**Registration** is set to **Registered**.</span></span>
    * <span data-ttu-id="e520b-175">**Status** is set to **Started**.</span><span class="sxs-lookup"><span data-stu-id="e520b-175">**Status** is set to **Started**.</span></span>
    * <span data-ttu-id="e520b-176">The status bar at the bottom displays **Connected to Data   Management Gateway Cloud Service** along with a green   check mark.</span><span class="sxs-lookup"><span data-stu-id="e520b-176">The status bar at the bottom displays **Connected to Data   Management Gateway Cloud Service** along with a green   check mark.</span></span>

      ![Data Management Gateway Manager](./media/use-data-from-an-on-premises-sql-server/data-gateway-configuration-manager-registered.png)

      <span data-ttu-id="e520b-178">Azure Machine Learning Studio also gets updated when the registration is successful.</span><span class="sxs-lookup"><span data-stu-id="e520b-178">Azure Machine Learning Studio also gets updated when the registration is successful.</span></span>

    ![Gateway registration successful](./media/use-data-from-an-on-premises-sql-server/gateway-registered.png)
11. <span data-ttu-id="e520b-180">In the **Download and register data gateway** dialog, click the check mark to complete the setup.</span><span class="sxs-lookup"><span data-stu-id="e520b-180">In the **Download and register data gateway** dialog, click the check mark to complete the setup.</span></span> <span data-ttu-id="e520b-181">The **Settings** page displays the gateway status as "Online".</span><span class="sxs-lookup"><span data-stu-id="e520b-181">The **Settings** page displays the gateway status as "Online".</span></span> <span data-ttu-id="e520b-182">In the right-hand pane, you'll find status and other useful information.</span><span class="sxs-lookup"><span data-stu-id="e520b-182">In the right-hand pane, you'll find status and other useful information.</span></span>

    ![Gateway settings](./media/use-data-from-an-on-premises-sql-server/gateway-status.png)
12. <span data-ttu-id="e520b-184">In the Microsoft Data Management Gateway Configuration Manager switch to the **Certificate** tab. The certificate specified on this tab is used to encrypt/decrypt credentials for the on-premises data store that you specify in the portal.</span><span class="sxs-lookup"><span data-stu-id="e520b-184">In the Microsoft Data Management Gateway Configuration Manager switch to the **Certificate** tab. The certificate specified on this tab is used to encrypt/decrypt credentials for the on-premises data store that you specify in the portal.</span></span> <span data-ttu-id="e520b-185">This certificate is the default certificate.</span><span class="sxs-lookup"><span data-stu-id="e520b-185">This certificate is the default certificate.</span></span> <span data-ttu-id="e520b-186">Microsoft recommends changing this to your own certificate that you back up in your certificate management system.</span><span class="sxs-lookup"><span data-stu-id="e520b-186">Microsoft recommends changing this to your own certificate that you back up in your certificate management system.</span></span> <span data-ttu-id="e520b-187">Click **Change** to use your own certificate instead.</span><span class="sxs-lookup"><span data-stu-id="e520b-187">Click **Change** to use your own certificate instead.</span></span>

    ![Change gateway certificate](./media/use-data-from-an-on-premises-sql-server/data-gateway-configuration-manager-certificate.png)
13. <span data-ttu-id="e520b-189">(optional) If you want to enable verbose logging in order to troubleshoot issues with the gateway, in the Microsoft Data Management Gateway Configuration Manager switch to the **Diagnostics** tab and check the **Enable verbose logging for troubleshooting purposes** option.</span><span class="sxs-lookup"><span data-stu-id="e520b-189">(optional) If you want to enable verbose logging in order to troubleshoot issues with the gateway, in the Microsoft Data Management Gateway Configuration Manager switch to the **Diagnostics** tab and check the **Enable verbose logging for troubleshooting purposes** option.</span></span> <span data-ttu-id="e520b-190">The logging information can be found in the Windows Event Viewer under the **Applications and Services Logs** -&gt; **Data Management Gateway** node.</span><span class="sxs-lookup"><span data-stu-id="e520b-190">The logging information can be found in the Windows Event Viewer under the **Applications and Services Logs** -&gt; **Data Management Gateway** node.</span></span> <span data-ttu-id="e520b-191">You can also use the **Diagnostics** tab to test the connection to an on-premises data source using the gateway.</span><span class="sxs-lookup"><span data-stu-id="e520b-191">You can also use the **Diagnostics** tab to test the connection to an on-premises data source using the gateway.</span></span>

    ![Enable verbose logging](./media/use-data-from-an-on-premises-sql-server/data-gateway-configuration-manager-verbose-logging.png)

<span data-ttu-id="e520b-193">This completes the gateway setup process in Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="e520b-193">This completes the gateway setup process in Azure Machine Learning.</span></span>
<span data-ttu-id="e520b-194">You're now ready to use your on-premises data.</span><span class="sxs-lookup"><span data-stu-id="e520b-194">You're now ready to use your on-premises data.</span></span>

<span data-ttu-id="e520b-195">You can create and set up multiple gateways in Studio for each workspace.</span><span class="sxs-lookup"><span data-stu-id="e520b-195">You can create and set up multiple gateways in Studio for each workspace.</span></span> <span data-ttu-id="e520b-196">For example, you may have a gateway that you want to connect to your test data sources during development, and a different gateway for your production data sources.</span><span class="sxs-lookup"><span data-stu-id="e520b-196">For example, you may have a gateway that you want to connect to your test data sources during development, and a different gateway for your production data sources.</span></span> <span data-ttu-id="e520b-197">Azure Machine Learning gives you the flexibility to set up multiple gateways depending upon your corporate environment.</span><span class="sxs-lookup"><span data-stu-id="e520b-197">Azure Machine Learning gives you the flexibility to set up multiple gateways depending upon your corporate environment.</span></span> <span data-ttu-id="e520b-198">Currently you can’t share a gateway between workspaces and only one gateway can be installed on a single computer.</span><span class="sxs-lookup"><span data-stu-id="e520b-198">Currently you can’t share a gateway between workspaces and only one gateway can be installed on a single computer.</span></span> <span data-ttu-id="e520b-199">For more information, see [Move data between on-premises sources and cloud with Data Management Gateway](../../data-factory/tutorial-hybrid-copy-portal.md).</span><span class="sxs-lookup"><span data-stu-id="e520b-199">For more information, see [Move data between on-premises sources and cloud with Data Management Gateway](../../data-factory/tutorial-hybrid-copy-portal.md).</span></span>

### <a name="step-2-use-the-gateway-to-read-data-from-an-on-premises-data-source"></a><span data-ttu-id="e520b-200">Step 2: Use the gateway to read data from an on-premises data source</span><span class="sxs-lookup"><span data-stu-id="e520b-200">Step 2: Use the gateway to read data from an on-premises data source</span></span>
<span data-ttu-id="e520b-201">After you set up the gateway, you can add an **Import Data** module to an experiment that inputs the data from the on-premises SQL Server database.</span><span class="sxs-lookup"><span data-stu-id="e520b-201">After you set up the gateway, you can add an **Import Data** module to an experiment that inputs the data from the on-premises SQL Server database.</span></span>

1. <span data-ttu-id="e520b-202">In Machine Learning Studio, select the **EXPERIMENTS** tab, click **+NEW** in the lower-left corner, and select **Blank Experiment** (or select one of several sample experiments available).</span><span class="sxs-lookup"><span data-stu-id="e520b-202">In Machine Learning Studio, select the **EXPERIMENTS** tab, click **+NEW** in the lower-left corner, and select **Blank Experiment** (or select one of several sample experiments available).</span></span>
2. <span data-ttu-id="e520b-203">Find and drag the **Import Data** module to the experiment canvas.</span><span class="sxs-lookup"><span data-stu-id="e520b-203">Find and drag the **Import Data** module to the experiment canvas.</span></span>
3. <span data-ttu-id="e520b-204">Click **Save as** below the canvas.</span><span class="sxs-lookup"><span data-stu-id="e520b-204">Click **Save as** below the canvas.</span></span> <span data-ttu-id="e520b-205">Enter "Azure Machine Learning On-Premises SQL Server Tutorial" for the experiment name, select the workspace, and click the **OK** check mark.</span><span class="sxs-lookup"><span data-stu-id="e520b-205">Enter "Azure Machine Learning On-Premises SQL Server Tutorial" for the experiment name, select the workspace, and click the **OK** check mark.</span></span>

   ![Save experiment with a new name](./media/use-data-from-an-on-premises-sql-server/experiment-save-as.png)
4. <span data-ttu-id="e520b-207">Click the **Import Data** module to select it, then in the **Properties** pane to the right of the canvas, select "On-Premises SQL Database" in the **Data source** dropdown list.</span><span class="sxs-lookup"><span data-stu-id="e520b-207">Click the **Import Data** module to select it, then in the **Properties** pane to the right of the canvas, select "On-Premises SQL Database" in the **Data source** dropdown list.</span></span>
5. <span data-ttu-id="e520b-208">Select the **Data gateway** you installed and registered.</span><span class="sxs-lookup"><span data-stu-id="e520b-208">Select the **Data gateway** you installed and registered.</span></span> <span data-ttu-id="e520b-209">You can set up another gateway by selecting "(add new Data Gateway…)".</span><span class="sxs-lookup"><span data-stu-id="e520b-209">You can set up another gateway by selecting "(add new Data Gateway…)".</span></span>

   ![Select data gateway for Import Data module](./media/use-data-from-an-on-premises-sql-server/import-data-select-on-premises-data-source.png)
6. <span data-ttu-id="e520b-211">Enter the SQL **Database server name** and **Database name**, along with the SQL **Database query** you want to execute.</span><span class="sxs-lookup"><span data-stu-id="e520b-211">Enter the SQL **Database server name** and **Database name**, along with the SQL **Database query** you want to execute.</span></span>
7. <span data-ttu-id="e520b-212">Click **Enter values** under **User name and password** and enter your database credentials.</span><span class="sxs-lookup"><span data-stu-id="e520b-212">Click **Enter values** under **User name and password** and enter your database credentials.</span></span> <span data-ttu-id="e520b-213">You can use Windows Integrated Authentication or SQL Server Authentication depending upon how your on-premises SQL Server is configured.</span><span class="sxs-lookup"><span data-stu-id="e520b-213">You can use Windows Integrated Authentication or SQL Server Authentication depending upon how your on-premises SQL Server is configured.</span></span>

   ![Enter database credentials](./media/use-data-from-an-on-premises-sql-server/database-credentials.png)

   <span data-ttu-id="e520b-215">The message "values required" changes to "values set" with a green check mark.</span><span class="sxs-lookup"><span data-stu-id="e520b-215">The message "values required" changes to "values set" with a green check mark.</span></span> <span data-ttu-id="e520b-216">You only need to enter the credentials once unless the database information or password changes.</span><span class="sxs-lookup"><span data-stu-id="e520b-216">You only need to enter the credentials once unless the database information or password changes.</span></span> <span data-ttu-id="e520b-217">Azure Machine Learning uses the certificate you provided when you installed the gateway to encrypt the credentials in the cloud.</span><span class="sxs-lookup"><span data-stu-id="e520b-217">Azure Machine Learning uses the certificate you provided when you installed the gateway to encrypt the credentials in the cloud.</span></span> <span data-ttu-id="e520b-218">Azure never stores on-premises credentials without encryption.</span><span class="sxs-lookup"><span data-stu-id="e520b-218">Azure never stores on-premises credentials without encryption.</span></span>

   ![Import Data module properties](./media/use-data-from-an-on-premises-sql-server/import-data-properties-entered.png)
8. <span data-ttu-id="e520b-220">Click **RUN** to run the experiment.</span><span class="sxs-lookup"><span data-stu-id="e520b-220">Click **RUN** to run the experiment.</span></span>

<span data-ttu-id="e520b-221">Once the experiment finishes running, you can visualize the data you imported from the database by clicking the output port of the **Import Data** module and selecting **Visualize**.</span><span class="sxs-lookup"><span data-stu-id="e520b-221">Once the experiment finishes running, you can visualize the data you imported from the database by clicking the output port of the **Import Data** module and selecting **Visualize**.</span></span>

<span data-ttu-id="e520b-222">Once you finish developing your experiment, you can deploy and operationalize your model.</span><span class="sxs-lookup"><span data-stu-id="e520b-222">Once you finish developing your experiment, you can deploy and operationalize your model.</span></span> <span data-ttu-id="e520b-223">Using the Batch Execution Service, data from the on-premises SQL Server database configured in the **Import Data** module will be read and used for scoring.</span><span class="sxs-lookup"><span data-stu-id="e520b-223">Using the Batch Execution Service, data from the on-premises SQL Server database configured in the **Import Data** module will be read and used for scoring.</span></span> <span data-ttu-id="e520b-224">While you can use the Request Response Service for scoring on-premises data, Microsoft recommends using the [Excel Add-in](excel-add-in-for-web-services.md) instead.</span><span class="sxs-lookup"><span data-stu-id="e520b-224">While you can use the Request Response Service for scoring on-premises data, Microsoft recommends using the [Excel Add-in](excel-add-in-for-web-services.md) instead.</span></span> <span data-ttu-id="e520b-225">Currently, writing to an on-premises SQL Server database through **Export Data** is not supported either in your experiments or published web services.</span><span class="sxs-lookup"><span data-stu-id="e520b-225">Currently, writing to an on-premises SQL Server database through **Export Data** is not supported either in your experiments or published web services.</span></span>
