---
title: Energy Demand Time Series Forecasting | Microsoft Docs
description: How to apply machine learning to forecast energy demand time series in Azure Machine Learning Workbench.
services: machine-learning
documentationcenter: ''
author: anta
manager: ireiter
editor: anta
ms.assetid: ''
ms.reviewer: garyericson, jasonwhowell, mldocs
ms.service: machine-learning
ms.component: core
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/15/2017
ms.author: anta
ms.openlocfilehash: 3f32c9048c4b2002e7672b46a4f39e86ffa7b98e
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44856167"
---
# <a name="energy-demand-time-series-forecasting"></a><span data-ttu-id="b50ad-103">Energy Demand Time Series Forecasting</span><span class="sxs-lookup"><span data-stu-id="b50ad-103">Energy Demand Time Series Forecasting</span></span>


<span data-ttu-id="b50ad-104">Time series forecasting is the task of predicting future values in a time-ordered sequence of observations.</span><span class="sxs-lookup"><span data-stu-id="b50ad-104">Time series forecasting is the task of predicting future values in a time-ordered sequence of observations.</span></span> <span data-ttu-id="b50ad-105">It is a common problem and has applications in many industries.</span><span class="sxs-lookup"><span data-stu-id="b50ad-105">It is a common problem and has applications in many industries.</span></span> <span data-ttu-id="b50ad-106">For example, retail companies need to forecast future product sales so they can effectively organize their supply chains to meet demand.</span><span class="sxs-lookup"><span data-stu-id="b50ad-106">For example, retail companies need to forecast future product sales so they can effectively organize their supply chains to meet demand.</span></span> <span data-ttu-id="b50ad-107">Similarly, package delivery companies need to estimate the demand for their services so they can plan workforce requirements and delivery routes ahead of time.</span><span class="sxs-lookup"><span data-stu-id="b50ad-107">Similarly, package delivery companies need to estimate the demand for their services so they can plan workforce requirements and delivery routes ahead of time.</span></span> <span data-ttu-id="b50ad-108">In many cases, the financial risks of inaccurate forecasts can be significant.</span><span class="sxs-lookup"><span data-stu-id="b50ad-108">In many cases, the financial risks of inaccurate forecasts can be significant.</span></span> <span data-ttu-id="b50ad-109">Therefore, forecasting is often a business critical activity.</span><span class="sxs-lookup"><span data-stu-id="b50ad-109">Therefore, forecasting is often a business critical activity.</span></span>

<span data-ttu-id="b50ad-110">This sample shows how time series forecasting can be performed through applying machine learning techniques.</span><span class="sxs-lookup"><span data-stu-id="b50ad-110">This sample shows how time series forecasting can be performed through applying machine learning techniques.</span></span> <span data-ttu-id="b50ad-111">You are guided through every step of the modeling process including:</span><span class="sxs-lookup"><span data-stu-id="b50ad-111">You are guided through every step of the modeling process including:</span></span>
- <span data-ttu-id="b50ad-112">Data preparation to clean and format the data;</span><span class="sxs-lookup"><span data-stu-id="b50ad-112">Data preparation to clean and format the data;</span></span>
- <span data-ttu-id="b50ad-113">Creating features for the machine learning models from raw time series data;</span><span class="sxs-lookup"><span data-stu-id="b50ad-113">Creating features for the machine learning models from raw time series data;</span></span>
- <span data-ttu-id="b50ad-114">Training various machine learning models;</span><span class="sxs-lookup"><span data-stu-id="b50ad-114">Training various machine learning models;</span></span>
- <span data-ttu-id="b50ad-115">Evaluating the models by comparing their performance on a held-out test dataset; and,</span><span class="sxs-lookup"><span data-stu-id="b50ad-115">Evaluating the models by comparing their performance on a held-out test dataset; and,</span></span>
- <span data-ttu-id="b50ad-116">Operationalizing the best model, making it available through a web service to generate forecasts on demand.</span><span class="sxs-lookup"><span data-stu-id="b50ad-116">Operationalizing the best model, making it available through a web service to generate forecasts on demand.</span></span>

<span data-ttu-id="b50ad-117">Azure Machine Learning Workbench aids the modeling process at every step:</span><span class="sxs-lookup"><span data-stu-id="b50ad-117">Azure Machine Learning Workbench aids the modeling process at every step:</span></span> 
- <span data-ttu-id="b50ad-118">The sample shows how the Jupyter notebook environment - available directly from through Workbench - can make developing Python code easier.</span><span class="sxs-lookup"><span data-stu-id="b50ad-118">The sample shows how the Jupyter notebook environment - available directly from through Workbench - can make developing Python code easier.</span></span> <span data-ttu-id="b50ad-119">The model development process can be explained to others more clearly using markdown annotations and charts.</span><span class="sxs-lookup"><span data-stu-id="b50ad-119">The model development process can be explained to others more clearly using markdown annotations and charts.</span></span> <span data-ttu-id="b50ad-120">These notebooks can be viewed, edited, and executed directly from the Workbench.</span><span class="sxs-lookup"><span data-stu-id="b50ad-120">These notebooks can be viewed, edited, and executed directly from the Workbench.</span></span>
- <span data-ttu-id="b50ad-121">Trained models can be persisted and uploaded to blob storage.</span><span class="sxs-lookup"><span data-stu-id="b50ad-121">Trained models can be persisted and uploaded to blob storage.</span></span> <span data-ttu-id="b50ad-122">This helps the data scientist to keep track of trained model objects and ensure they are retained and retrievable when needed.</span><span class="sxs-lookup"><span data-stu-id="b50ad-122">This helps the data scientist to keep track of trained model objects and ensure they are retained and retrievable when needed.</span></span>
- <span data-ttu-id="b50ad-123">Metrics can be logged while executing a Python script, enabling the data scientist to keep a record of model performance scores.</span><span class="sxs-lookup"><span data-stu-id="b50ad-123">Metrics can be logged while executing a Python script, enabling the data scientist to keep a record of model performance scores.</span></span>
- <span data-ttu-id="b50ad-124">The workbench produces customizable tables of logged metrics allowing the data scientist to easily compare model performance metrics.</span><span class="sxs-lookup"><span data-stu-id="b50ad-124">The workbench produces customizable tables of logged metrics allowing the data scientist to easily compare model performance metrics.</span></span> <span data-ttu-id="b50ad-125">Charts are automatically displayed so the best performing model can be readily identified.</span><span class="sxs-lookup"><span data-stu-id="b50ad-125">Charts are automatically displayed so the best performing model can be readily identified.</span></span>
- <span data-ttu-id="b50ad-126">Finally, the sample shows how a trained model can be operationalized by deploying it in a realtime web service.</span><span class="sxs-lookup"><span data-stu-id="b50ad-126">Finally, the sample shows how a trained model can be operationalized by deploying it in a realtime web service.</span></span>

## <a name="link-to-the-gallery-github-repository"></a><span data-ttu-id="b50ad-127">Link to the Gallery GitHub repository</span><span class="sxs-lookup"><span data-stu-id="b50ad-127">Link to the Gallery GitHub repository</span></span>
<span data-ttu-id="b50ad-128">The public GitHub repository for this real world scenario contains all materials, including code samples, needed for this example:</span><span class="sxs-lookup"><span data-stu-id="b50ad-128">The public GitHub repository for this real world scenario contains all materials, including code samples, needed for this example:</span></span>

[https://github.com/Azure/MachineLearningSamples-EnergyDemandTimeSeriesForecasting](https://github.com/Azure/MachineLearningSamples-EnergyDemandTimeSeriesForecasting)


## <a name="use-case-overview"></a><span data-ttu-id="b50ad-129">Use case overview</span><span class="sxs-lookup"><span data-stu-id="b50ad-129">Use case overview</span></span>

<span data-ttu-id="b50ad-130">This scenario focuses on energy demand forecasting where the goal is to predict the future load on an energy grid.</span><span class="sxs-lookup"><span data-stu-id="b50ad-130">This scenario focuses on energy demand forecasting where the goal is to predict the future load on an energy grid.</span></span> <span data-ttu-id="b50ad-131">It is a critical business operation for companies in the energy sector as operators need to maintain the fine balance between the energy consumed on a grid and the energy supplied to it.</span><span class="sxs-lookup"><span data-stu-id="b50ad-131">It is a critical business operation for companies in the energy sector as operators need to maintain the fine balance between the energy consumed on a grid and the energy supplied to it.</span></span> <span data-ttu-id="b50ad-132">Too much power supplied to the grid can result in waste of energy or technical faults.</span><span class="sxs-lookup"><span data-stu-id="b50ad-132">Too much power supplied to the grid can result in waste of energy or technical faults.</span></span> <span data-ttu-id="b50ad-133">However, if too little power is supplied it can lead to blackouts, leaving customers without power.</span><span class="sxs-lookup"><span data-stu-id="b50ad-133">However, if too little power is supplied it can lead to blackouts, leaving customers without power.</span></span> <span data-ttu-id="b50ad-134">Typically, grid operators can take short-term decisions to manage energy supply to the grid and keep the load in balance.</span><span class="sxs-lookup"><span data-stu-id="b50ad-134">Typically, grid operators can take short-term decisions to manage energy supply to the grid and keep the load in balance.</span></span> <span data-ttu-id="b50ad-135">An accurate short-term forecast of energy demand is therefore essential for the operator to make these decisions with confidence.</span><span class="sxs-lookup"><span data-stu-id="b50ad-135">An accurate short-term forecast of energy demand is therefore essential for the operator to make these decisions with confidence.</span></span>

<span data-ttu-id="b50ad-136">This scenario details the construction of a machine learning energy demand forecasting solution.</span><span class="sxs-lookup"><span data-stu-id="b50ad-136">This scenario details the construction of a machine learning energy demand forecasting solution.</span></span> <span data-ttu-id="b50ad-137">The solution is trained on a public dataset from the [New York Independent System Operator (NYISO)](http://www3.dps.ny.gov/W/PSCWeb.nsf/All/298372E2CE4764E885257687006F39DF?OpenDocument), which operates the power grid for New York State.</span><span class="sxs-lookup"><span data-stu-id="b50ad-137">The solution is trained on a public dataset from the [New York Independent System Operator (NYISO)](http://www3.dps.ny.gov/W/PSCWeb.nsf/All/298372E2CE4764E885257687006F39DF?OpenDocument), which operates the power grid for New York State.</span></span> <span data-ttu-id="b50ad-138">The dataset includes hourly power demand data for New York City over a period of five years.</span><span class="sxs-lookup"><span data-stu-id="b50ad-138">The dataset includes hourly power demand data for New York City over a period of five years.</span></span> <span data-ttu-id="b50ad-139">An additional dataset containing hourly weather conditions in New York City over the same time period was taken from [darksky.net](https://darksky.net).</span><span class="sxs-lookup"><span data-stu-id="b50ad-139">An additional dataset containing hourly weather conditions in New York City over the same time period was taken from [darksky.net](https://darksky.net).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="b50ad-140">Prerequisites</span><span class="sxs-lookup"><span data-stu-id="b50ad-140">Prerequisites</span></span>

- <span data-ttu-id="b50ad-141">An [Azure account](https://azure.microsoft.com/free/) (free trials are available).</span><span class="sxs-lookup"><span data-stu-id="b50ad-141">An [Azure account](https://azure.microsoft.com/free/) (free trials are available).</span></span>
- <span data-ttu-id="b50ad-142">An installed copy of [Azure Machine Learning Workbench](../service/overview-what-is-azure-ml.md) following the [quick start installation guide](../service/quickstart-installation.md) to install the program and create a workspace.</span><span class="sxs-lookup"><span data-stu-id="b50ad-142">An installed copy of [Azure Machine Learning Workbench](../service/overview-what-is-azure-ml.md) following the [quick start installation guide](../service/quickstart-installation.md) to install the program and create a workspace.</span></span>
- <span data-ttu-id="b50ad-143">This sample assumes that you are running Azure ML Workbench on Windows 10 with [Docker engine](https://www.docker.com/) locally installed.</span><span class="sxs-lookup"><span data-stu-id="b50ad-143">This sample assumes that you are running Azure ML Workbench on Windows 10 with [Docker engine](https://www.docker.com/) locally installed.</span></span> <span data-ttu-id="b50ad-144">If you are using macOS, the instructions are largely the same.</span><span class="sxs-lookup"><span data-stu-id="b50ad-144">If you are using macOS, the instructions are largely the same.</span></span>
- <span data-ttu-id="b50ad-145">Azure Machine Learning Operationalization installed with a local deployment environment set up and a model management account created as described in this  [guide](./model-management-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="b50ad-145">Azure Machine Learning Operationalization installed with a local deployment environment set up and a model management account created as described in this  [guide](./model-management-configuration.md).</span></span>
- <span data-ttu-id="b50ad-146">This sample requires that you update the Pandas installation to version 0.20.3 or higher and install matplotlib.</span><span class="sxs-lookup"><span data-stu-id="b50ad-146">This sample requires that you update the Pandas installation to version 0.20.3 or higher and install matplotlib.</span></span> <span data-ttu-id="b50ad-147">Click *Open Command Prompt* from the *File* menu in the Workbench and run the following commands to install these dependencies:</span><span class="sxs-lookup"><span data-stu-id="b50ad-147">Click *Open Command Prompt* from the *File* menu in the Workbench and run the following commands to install these dependencies:</span></span>

    ```
    conda install "pandas>=0.21.1"
    ```
    
## <a name="create-a-new-workbench-project"></a><span data-ttu-id="b50ad-148">Create a new Workbench project</span><span class="sxs-lookup"><span data-stu-id="b50ad-148">Create a new Workbench project</span></span>

<span data-ttu-id="b50ad-149">Create a new project using this example as a template:</span><span class="sxs-lookup"><span data-stu-id="b50ad-149">Create a new project using this example as a template:</span></span>
1.  <span data-ttu-id="b50ad-150">Open Azure Machine Learning Workbench</span><span class="sxs-lookup"><span data-stu-id="b50ad-150">Open Azure Machine Learning Workbench</span></span>
2.  <span data-ttu-id="b50ad-151">On the **Projects** page, click the **+** sign and select **New Project**</span><span class="sxs-lookup"><span data-stu-id="b50ad-151">On the **Projects** page, click the **+** sign and select **New Project**</span></span>
3.  <span data-ttu-id="b50ad-152">In the **Create New Project** pane, fill in the information for your new project</span><span class="sxs-lookup"><span data-stu-id="b50ad-152">In the **Create New Project** pane, fill in the information for your new project</span></span>
4.  <span data-ttu-id="b50ad-153">In the **Search Project Templates** search box, type "Energy Demand Time Series Forecasting" and select the template</span><span class="sxs-lookup"><span data-stu-id="b50ad-153">In the **Search Project Templates** search box, type "Energy Demand Time Series Forecasting" and select the template</span></span>
5.  <span data-ttu-id="b50ad-154">Click **Create**</span><span class="sxs-lookup"><span data-stu-id="b50ad-154">Click **Create**</span></span>


## <a name="data-description"></a><span data-ttu-id="b50ad-155">Data description</span><span class="sxs-lookup"><span data-stu-id="b50ad-155">Data description</span></span>

<span data-ttu-id="b50ad-156">Two datasets are provided with this sample and are downloaded using the `1-data-preparation.ipynb` notebook: `nyc_demand.csv` and `nyc_weather.csv`.</span><span class="sxs-lookup"><span data-stu-id="b50ad-156">Two datasets are provided with this sample and are downloaded using the `1-data-preparation.ipynb` notebook: `nyc_demand.csv` and `nyc_weather.csv`.</span></span>

<span data-ttu-id="b50ad-157">**nyc_demand.csv** contains hourly energy demand values for New York City for the years 2012-2017.</span><span class="sxs-lookup"><span data-stu-id="b50ad-157">**nyc_demand.csv** contains hourly energy demand values for New York City for the years 2012-2017.</span></span> <span data-ttu-id="b50ad-158">The data has the following simple structure:</span><span class="sxs-lookup"><span data-stu-id="b50ad-158">The data has the following simple structure:</span></span>

| <span data-ttu-id="b50ad-159">timeStamp</span><span class="sxs-lookup"><span data-stu-id="b50ad-159">timeStamp</span></span> | <span data-ttu-id="b50ad-160">demand</span><span class="sxs-lookup"><span data-stu-id="b50ad-160">demand</span></span> |
| --- | --- |
| <span data-ttu-id="b50ad-161">2012-01-01 00:00:00</span><span class="sxs-lookup"><span data-stu-id="b50ad-161">2012-01-01 00:00:00</span></span> | <span data-ttu-id="b50ad-162">4937.5</span><span class="sxs-lookup"><span data-stu-id="b50ad-162">4937.5</span></span> |
| <span data-ttu-id="b50ad-163">2012-01-01 01:00:00</span><span class="sxs-lookup"><span data-stu-id="b50ad-163">2012-01-01 01:00:00</span></span> | <span data-ttu-id="b50ad-164">4752.1</span><span class="sxs-lookup"><span data-stu-id="b50ad-164">4752.1</span></span> |
| <span data-ttu-id="b50ad-165">2012-01-01 02:00:00</span><span class="sxs-lookup"><span data-stu-id="b50ad-165">2012-01-01 02:00:00</span></span> | <span data-ttu-id="b50ad-166">4542.6</span><span class="sxs-lookup"><span data-stu-id="b50ad-166">4542.6</span></span> |
| <span data-ttu-id="b50ad-167">2012-01-01 03:00:00</span><span class="sxs-lookup"><span data-stu-id="b50ad-167">2012-01-01 03:00:00</span></span> | <span data-ttu-id="b50ad-168">4357.7</span><span class="sxs-lookup"><span data-stu-id="b50ad-168">4357.7</span></span> |

<span data-ttu-id="b50ad-169">Demand values are in megawatt-hours (MWh).</span><span class="sxs-lookup"><span data-stu-id="b50ad-169">Demand values are in megawatt-hours (MWh).</span></span> <span data-ttu-id="b50ad-170">Below is a chart of energy demand over a 7-day period in July 2017:</span><span class="sxs-lookup"><span data-stu-id="b50ad-170">Below is a chart of energy demand over a 7-day period in July 2017:</span></span>

<span data-ttu-id="b50ad-171">![Energy demand](./media/scenario-time-series-forecasting/energy_demand.png  "Energy demand")</span><span class="sxs-lookup"><span data-stu-id="b50ad-171">![Energy demand](./media/scenario-time-series-forecasting/energy_demand.png  "Energy demand")</span></span>

<span data-ttu-id="b50ad-172">**nyc_weather.csv** contains hourly weather values for New York City over the years 2012-2017:</span><span class="sxs-lookup"><span data-stu-id="b50ad-172">**nyc_weather.csv** contains hourly weather values for New York City over the years 2012-2017:</span></span>

| <span data-ttu-id="b50ad-173">timeStamp</span><span class="sxs-lookup"><span data-stu-id="b50ad-173">timeStamp</span></span> | <span data-ttu-id="b50ad-174">precip</span><span class="sxs-lookup"><span data-stu-id="b50ad-174">precip</span></span> | <span data-ttu-id="b50ad-175">temp</span><span class="sxs-lookup"><span data-stu-id="b50ad-175">temp</span></span>
| --- | --- | --- |
| <span data-ttu-id="b50ad-176">2012-01-01 00:00:00</span><span class="sxs-lookup"><span data-stu-id="b50ad-176">2012-01-01 00:00:00</span></span> | <span data-ttu-id="b50ad-177">0.0</span><span class="sxs-lookup"><span data-stu-id="b50ad-177">0.0</span></span> | <span data-ttu-id="b50ad-178">46.13</span><span class="sxs-lookup"><span data-stu-id="b50ad-178">46.13</span></span> |
| <span data-ttu-id="b50ad-179">2012-01-01 01:00:00</span><span class="sxs-lookup"><span data-stu-id="b50ad-179">2012-01-01 01:00:00</span></span> | <span data-ttu-id="b50ad-180">0.01</span><span class="sxs-lookup"><span data-stu-id="b50ad-180">0.01</span></span> | <span data-ttu-id="b50ad-181">45.89</span><span class="sxs-lookup"><span data-stu-id="b50ad-181">45.89</span></span> |
| <span data-ttu-id="b50ad-182">2012-01-01 02:00:00</span><span class="sxs-lookup"><span data-stu-id="b50ad-182">2012-01-01 02:00:00</span></span> | <span data-ttu-id="b50ad-183">0.05</span><span class="sxs-lookup"><span data-stu-id="b50ad-183">0.05</span></span> | <span data-ttu-id="b50ad-184">45.04</span><span class="sxs-lookup"><span data-stu-id="b50ad-184">45.04</span></span> |
| <span data-ttu-id="b50ad-185">2012-01-01 03:00:00</span><span class="sxs-lookup"><span data-stu-id="b50ad-185">2012-01-01 03:00:00</span></span> | <span data-ttu-id="b50ad-186">0.02</span><span class="sxs-lookup"><span data-stu-id="b50ad-186">0.02</span></span> | <span data-ttu-id="b50ad-187">45.03</span><span class="sxs-lookup"><span data-stu-id="b50ad-187">45.03</span></span> |

<span data-ttu-id="b50ad-188">*precip* is a percentage measure of the level of precipitation.</span><span class="sxs-lookup"><span data-stu-id="b50ad-188">*precip* is a percentage measure of the level of precipitation.</span></span> <span data-ttu-id="b50ad-189">*temp* (temperature) values have been rescaled such that all values fall in the interval [0, 100].</span><span class="sxs-lookup"><span data-stu-id="b50ad-189">*temp* (temperature) values have been rescaled such that all values fall in the interval [0, 100].</span></span>

## <a name="scenario-structure"></a><span data-ttu-id="b50ad-190">Scenario structure</span><span class="sxs-lookup"><span data-stu-id="b50ad-190">Scenario structure</span></span>

<span data-ttu-id="b50ad-191">When you open this project for the first time in Azure Machine Learning Workbench, navigate to the *Files* pane on the left-hand side.</span><span class="sxs-lookup"><span data-stu-id="b50ad-191">When you open this project for the first time in Azure Machine Learning Workbench, navigate to the *Files* pane on the left-hand side.</span></span> <span data-ttu-id="b50ad-192">The following code files are provided with this sample:</span><span class="sxs-lookup"><span data-stu-id="b50ad-192">The following code files are provided with this sample:</span></span>
- <span data-ttu-id="b50ad-193">`1-data-preparation.ipynb` - this Jupyter notebook downloads and processes the data to prepare it for modeling.</span><span class="sxs-lookup"><span data-stu-id="b50ad-193">`1-data-preparation.ipynb` - this Jupyter notebook downloads and processes the data to prepare it for modeling.</span></span> <span data-ttu-id="b50ad-194">This is the first notebook you will run.</span><span class="sxs-lookup"><span data-stu-id="b50ad-194">This is the first notebook you will run.</span></span>
- <span data-ttu-id="b50ad-195">`2-linear-regression.ipynb` - this notebook trains a linear regression model on the training data.</span><span class="sxs-lookup"><span data-stu-id="b50ad-195">`2-linear-regression.ipynb` - this notebook trains a linear regression model on the training data.</span></span>
- <span data-ttu-id="b50ad-196">`3-ridge.ipynb` - trains a ridge regression model.</span><span class="sxs-lookup"><span data-stu-id="b50ad-196">`3-ridge.ipynb` - trains a ridge regression model.</span></span>
- <span data-ttu-id="b50ad-197">`4-ridge-poly2.ipynb` - trains a ridge regression model on polynomial features of degree 2.</span><span class="sxs-lookup"><span data-stu-id="b50ad-197">`4-ridge-poly2.ipynb` - trains a ridge regression model on polynomial features of degree 2.</span></span>
- <span data-ttu-id="b50ad-198">`5-mlp.ipynb` - trains a multi-layer perceptron neural network.</span><span class="sxs-lookup"><span data-stu-id="b50ad-198">`5-mlp.ipynb` - trains a multi-layer perceptron neural network.</span></span>
- <span data-ttu-id="b50ad-199">`6-dtree.ipynb` - trains a decision tree model.</span><span class="sxs-lookup"><span data-stu-id="b50ad-199">`6-dtree.ipynb` - trains a decision tree model.</span></span>
- <span data-ttu-id="b50ad-200">`7-gbm.ipynb` - trains a gradient boosted machine model.</span><span class="sxs-lookup"><span data-stu-id="b50ad-200">`7-gbm.ipynb` - trains a gradient boosted machine model.</span></span>
- <span data-ttu-id="b50ad-201">`8-evaluate-model.py` - this script loads a trained model and uses it to make predictions on a held-out test dataset.</span><span class="sxs-lookup"><span data-stu-id="b50ad-201">`8-evaluate-model.py` - this script loads a trained model and uses it to make predictions on a held-out test dataset.</span></span> <span data-ttu-id="b50ad-202">It produces model evaluation metrics so the performance of different models can be compared.</span><span class="sxs-lookup"><span data-stu-id="b50ad-202">It produces model evaluation metrics so the performance of different models can be compared.</span></span>
- <span data-ttu-id="b50ad-203">`9-forecast-output-exploration.ipynb` - this notebook produces visualizations of the forecasts generated by the machine learning models.</span><span class="sxs-lookup"><span data-stu-id="b50ad-203">`9-forecast-output-exploration.ipynb` - this notebook produces visualizations of the forecasts generated by the machine learning models.</span></span>
- <span data-ttu-id="b50ad-204">`10-deploy-model.ipynb` - this notebook demonstrates how a trained forecasting model can be operationalized in a realtime web service.</span><span class="sxs-lookup"><span data-stu-id="b50ad-204">`10-deploy-model.ipynb` - this notebook demonstrates how a trained forecasting model can be operationalized in a realtime web service.</span></span>
- <span data-ttu-id="b50ad-205">`evaluate-all-models.py` - this script evaluates all trained models.</span><span class="sxs-lookup"><span data-stu-id="b50ad-205">`evaluate-all-models.py` - this script evaluates all trained models.</span></span> <span data-ttu-id="b50ad-206">It provides an alternative to running `8-evaluate-model.py` for each trained model individually.</span><span class="sxs-lookup"><span data-stu-id="b50ad-206">It provides an alternative to running `8-evaluate-model.py` for each trained model individually.</span></span>

### <a name="1-data-preparation-and-cleaning"></a><span data-ttu-id="b50ad-207">1. Data preparation and cleaning</span><span class="sxs-lookup"><span data-stu-id="b50ad-207">1. Data preparation and cleaning</span></span>

<span data-ttu-id="b50ad-208">To start running the sample, first click on `1-data-preparation.ipynb` to open the notebook in preview mode.</span><span class="sxs-lookup"><span data-stu-id="b50ad-208">To start running the sample, first click on `1-data-preparation.ipynb` to open the notebook in preview mode.</span></span> <span data-ttu-id="b50ad-209">Click on ***Start Notebook Server*** to start a Jupyter notebook server and Python kernel on your machine.</span><span class="sxs-lookup"><span data-stu-id="b50ad-209">Click on ***Start Notebook Server*** to start a Jupyter notebook server and Python kernel on your machine.</span></span> <span data-ttu-id="b50ad-210">You can either run the notebooks from within the Workbench, or you can use your browser by navigating to [http://localhost:8888](http://localhost:8888).</span><span class="sxs-lookup"><span data-stu-id="b50ad-210">You can either run the notebooks from within the Workbench, or you can use your browser by navigating to [http://localhost:8888](http://localhost:8888).</span></span> <span data-ttu-id="b50ad-211">Note that you must change the kernel to *PROJECT_NAME local*.</span><span class="sxs-lookup"><span data-stu-id="b50ad-211">Note that you must change the kernel to *PROJECT_NAME local*.</span></span> <span data-ttu-id="b50ad-212">You can do this from the *Kernel* menu in the notebook under *Change kernel*.</span><span class="sxs-lookup"><span data-stu-id="b50ad-212">You can do this from the *Kernel* menu in the notebook under *Change kernel*.</span></span> <span data-ttu-id="b50ad-213">Press ***shift+Enter*** to run the code in individual notebook cells, or click *Run All* in the *Cell* menu to run the entire notebook.</span><span class="sxs-lookup"><span data-stu-id="b50ad-213">Press ***shift+Enter*** to run the code in individual notebook cells, or click *Run All* in the *Cell* menu to run the entire notebook.</span></span>

<span data-ttu-id="b50ad-214">The notebook first downloads the data from a blob storage container hosted on Azure.</span><span class="sxs-lookup"><span data-stu-id="b50ad-214">The notebook first downloads the data from a blob storage container hosted on Azure.</span></span> <span data-ttu-id="b50ad-215">The data is then stored on your machine in the `AZUREML_NATIVE_SHARE_DIRECTORY`.</span><span class="sxs-lookup"><span data-stu-id="b50ad-215">The data is then stored on your machine in the `AZUREML_NATIVE_SHARE_DIRECTORY`.</span></span> <span data-ttu-id="b50ad-216">This location is accessible from any notebooks or scripts you run from the Workbench so is a good place to store data and trained models.</span><span class="sxs-lookup"><span data-stu-id="b50ad-216">This location is accessible from any notebooks or scripts you run from the Workbench so is a good place to store data and trained models.</span></span>

<span data-ttu-id="b50ad-217">Once the data has been downloaded, the notebook cleans the data by filling gaps in the time series and filling missing values by interpolation.</span><span class="sxs-lookup"><span data-stu-id="b50ad-217">Once the data has been downloaded, the notebook cleans the data by filling gaps in the time series and filling missing values by interpolation.</span></span> <span data-ttu-id="b50ad-218">Cleaning the time series data in this way maximizes the amount of data available for training the models.</span><span class="sxs-lookup"><span data-stu-id="b50ad-218">Cleaning the time series data in this way maximizes the amount of data available for training the models.</span></span>

<span data-ttu-id="b50ad-219">Several model features are created from the cleaned raw data.</span><span class="sxs-lookup"><span data-stu-id="b50ad-219">Several model features are created from the cleaned raw data.</span></span> <span data-ttu-id="b50ad-220">These features can be categorized into two groups:</span><span class="sxs-lookup"><span data-stu-id="b50ad-220">These features can be categorized into two groups:</span></span>

- <span data-ttu-id="b50ad-221">**Time driven features** are derived from the *timestamp* variable e.g. *month*, *dayofweek* and *hour*.</span><span class="sxs-lookup"><span data-stu-id="b50ad-221">**Time driven features** are derived from the *timestamp* variable e.g. *month*, *dayofweek* and *hour*.</span></span>
- <span data-ttu-id="b50ad-222">**Lagged features** are time shifted values of the actual demand or temperature values.</span><span class="sxs-lookup"><span data-stu-id="b50ad-222">**Lagged features** are time shifted values of the actual demand or temperature values.</span></span> <span data-ttu-id="b50ad-223">These features aim to capture the conditional dependencies between consecutive time periods in the model.</span><span class="sxs-lookup"><span data-stu-id="b50ad-223">These features aim to capture the conditional dependencies between consecutive time periods in the model.</span></span>

<span data-ttu-id="b50ad-224">The resulting feature dataset can then be used when developing forecasting models.</span><span class="sxs-lookup"><span data-stu-id="b50ad-224">The resulting feature dataset can then be used when developing forecasting models.</span></span>

### <a name="2-model-development"></a><span data-ttu-id="b50ad-225">2. Model development</span><span class="sxs-lookup"><span data-stu-id="b50ad-225">2. Model development</span></span>

<span data-ttu-id="b50ad-226">A first modeling approach may be a simple linear regression model.</span><span class="sxs-lookup"><span data-stu-id="b50ad-226">A first modeling approach may be a simple linear regression model.</span></span> <span data-ttu-id="b50ad-227">The `2-linear-regression.ipynb` notebook shows how to train a linear regression forecast model for future energy demand.</span><span class="sxs-lookup"><span data-stu-id="b50ad-227">The `2-linear-regression.ipynb` notebook shows how to train a linear regression forecast model for future energy demand.</span></span> <span data-ttu-id="b50ad-228">In particular, the model will be trained to predict energy demand one hour (*t+1*) ahead of the current time period (*t*).</span><span class="sxs-lookup"><span data-stu-id="b50ad-228">In particular, the model will be trained to predict energy demand one hour (*t+1*) ahead of the current time period (*t*).</span></span> <span data-ttu-id="b50ad-229">However, we can apply this 'one-step' model recursively at test time to generate forecasts for future time periods, *t+n*.</span><span class="sxs-lookup"><span data-stu-id="b50ad-229">However, we can apply this 'one-step' model recursively at test time to generate forecasts for future time periods, *t+n*.</span></span>

<span data-ttu-id="b50ad-230">To train a model, a predictive pipeline is created which involves three distinct steps:</span><span class="sxs-lookup"><span data-stu-id="b50ad-230">To train a model, a predictive pipeline is created which involves three distinct steps:</span></span>

- <span data-ttu-id="b50ad-231">**A data transformation**: the required formats for input data can vary depending on the machine learning algorithm.</span><span class="sxs-lookup"><span data-stu-id="b50ad-231">**A data transformation**: the required formats for input data can vary depending on the machine learning algorithm.</span></span> <span data-ttu-id="b50ad-232">In this case, the linear regression model requires categorical variables to be one-hot encoded.</span><span class="sxs-lookup"><span data-stu-id="b50ad-232">In this case, the linear regression model requires categorical variables to be one-hot encoded.</span></span>
- <span data-ttu-id="b50ad-233">**A cross validation routine**: Often a machine learning model will have one or more hyperparameters that need to be tuned through experimentation.</span><span class="sxs-lookup"><span data-stu-id="b50ad-233">**A cross validation routine**: Often a machine learning model will have one or more hyperparameters that need to be tuned through experimentation.</span></span> <span data-ttu-id="b50ad-234">Cross validation can be used to find the optimal set of parameter values.</span><span class="sxs-lookup"><span data-stu-id="b50ad-234">Cross validation can be used to find the optimal set of parameter values.</span></span> <span data-ttu-id="b50ad-235">The model is repeatedly trained and evaluated on different folds of the dataset.</span><span class="sxs-lookup"><span data-stu-id="b50ad-235">The model is repeatedly trained and evaluated on different folds of the dataset.</span></span> <span data-ttu-id="b50ad-236">The best parameters are those that achieve the best model performance when averaged across the cross validation folds.</span><span class="sxs-lookup"><span data-stu-id="b50ad-236">The best parameters are those that achieve the best model performance when averaged across the cross validation folds.</span></span> <span data-ttu-id="b50ad-237">This process is explained in more detail in `2-linear-regression.ipynb`.</span><span class="sxs-lookup"><span data-stu-id="b50ad-237">This process is explained in more detail in `2-linear-regression.ipynb`.</span></span>
- <span data-ttu-id="b50ad-238">**Training the final model**: The model is trained on the whole dataset, using the best set of hyperparameters.</span><span class="sxs-lookup"><span data-stu-id="b50ad-238">**Training the final model**: The model is trained on the whole dataset, using the best set of hyperparameters.</span></span>

<span data-ttu-id="b50ad-239">We have included a series of 6 different models in notebooks numbered 2-7.</span><span class="sxs-lookup"><span data-stu-id="b50ad-239">We have included a series of 6 different models in notebooks numbered 2-7.</span></span> <span data-ttu-id="b50ad-240">Each notebook trains a different model and stores it in the `AZUREML_NATIVE_SHARE_DIRECTORY` location.</span><span class="sxs-lookup"><span data-stu-id="b50ad-240">Each notebook trains a different model and stores it in the `AZUREML_NATIVE_SHARE_DIRECTORY` location.</span></span> <span data-ttu-id="b50ad-241">Once you have trained all the models developed for this scenario, we can evaluate and compare them as decribed in the next section.</span><span class="sxs-lookup"><span data-stu-id="b50ad-241">Once you have trained all the models developed for this scenario, we can evaluate and compare them as decribed in the next section.</span></span>

### <a name="3-model-evaluation-and-comparison"></a><span data-ttu-id="b50ad-242">3. Model evaluation and comparison</span><span class="sxs-lookup"><span data-stu-id="b50ad-242">3. Model evaluation and comparison</span></span>

<span data-ttu-id="b50ad-243">We can use a trained model to make forecasts for future time periods.</span><span class="sxs-lookup"><span data-stu-id="b50ad-243">We can use a trained model to make forecasts for future time periods.</span></span> <span data-ttu-id="b50ad-244">It is best to evaluate these models on a held-out test dataset.</span><span class="sxs-lookup"><span data-stu-id="b50ad-244">It is best to evaluate these models on a held-out test dataset.</span></span> <span data-ttu-id="b50ad-245">By evaluating the different models on the same unseen dataset, we can fairly compare their performance and identify the best model.</span><span class="sxs-lookup"><span data-stu-id="b50ad-245">By evaluating the different models on the same unseen dataset, we can fairly compare their performance and identify the best model.</span></span> <span data-ttu-id="b50ad-246">In this scenario, we apply the trained model recursively to forecast multiple time steps into the future.</span><span class="sxs-lookup"><span data-stu-id="b50ad-246">In this scenario, we apply the trained model recursively to forecast multiple time steps into the future.</span></span> <span data-ttu-id="b50ad-247">In particular, we generate forecasts for up to six hours, *t+6* ahead of the current hour, *t*.</span><span class="sxs-lookup"><span data-stu-id="b50ad-247">In particular, we generate forecasts for up to six hours, *t+6* ahead of the current hour, *t*.</span></span> <span data-ttu-id="b50ad-248">These predictions are evaluated against the actual demand observed for each time period.</span><span class="sxs-lookup"><span data-stu-id="b50ad-248">These predictions are evaluated against the actual demand observed for each time period.</span></span>

<span data-ttu-id="b50ad-249">To evaluate a model, open the `8-evaluate-model.py` script from the *Files* pane in the Workbench.</span><span class="sxs-lookup"><span data-stu-id="b50ad-249">To evaluate a model, open the `8-evaluate-model.py` script from the *Files* pane in the Workbench.</span></span> <span data-ttu-id="b50ad-250">Check that *Run Configuration* is set to **local** and then type the model name into the *Arguments* field.</span><span class="sxs-lookup"><span data-stu-id="b50ad-250">Check that *Run Configuration* is set to **local** and then type the model name into the *Arguments* field.</span></span> <span data-ttu-id="b50ad-251">The model name needs to match exactly the *model_name* variable set at the start of the notebook in which the model is trained.</span><span class="sxs-lookup"><span data-stu-id="b50ad-251">The model name needs to match exactly the *model_name* variable set at the start of the notebook in which the model is trained.</span></span> <span data-ttu-id="b50ad-252">For example, enter "linear_regression" to evaluate the trained linear regression model.</span><span class="sxs-lookup"><span data-stu-id="b50ad-252">For example, enter "linear_regression" to evaluate the trained linear regression model.</span></span> <span data-ttu-id="b50ad-253">Alternatively, once all models have been trained, you can evaluate them all with one command by running `evaluate-all-models.py`.</span><span class="sxs-lookup"><span data-stu-id="b50ad-253">Alternatively, once all models have been trained, you can evaluate them all with one command by running `evaluate-all-models.py`.</span></span> <span data-ttu-id="b50ad-254">To run this script, open a command prompt from the Workbench and execute the following command:</span><span class="sxs-lookup"><span data-stu-id="b50ad-254">To run this script, open a command prompt from the Workbench and execute the following command:</span></span>

```
python evaluate-all-models.py
```
<span data-ttu-id="b50ad-255">The `8-evaluate-model.py` script performs the following operations:</span><span class="sxs-lookup"><span data-stu-id="b50ad-255">The `8-evaluate-model.py` script performs the following operations:</span></span>

- <span data-ttu-id="b50ad-256">Loads a trained model pipeline from disk</span><span class="sxs-lookup"><span data-stu-id="b50ad-256">Loads a trained model pipeline from disk</span></span>
- <span data-ttu-id="b50ad-257">Makes predictions on the test dataset</span><span class="sxs-lookup"><span data-stu-id="b50ad-257">Makes predictions on the test dataset</span></span>
- <span data-ttu-id="b50ad-258">Computes model performance metrics and logs them</span><span class="sxs-lookup"><span data-stu-id="b50ad-258">Computes model performance metrics and logs them</span></span>
- <span data-ttu-id="b50ad-259">Saves the test dataset predictions to `AZUREML_NATIVE_SHARE_DIRECTORY` for later inspection and analysis</span><span class="sxs-lookup"><span data-stu-id="b50ad-259">Saves the test dataset predictions to `AZUREML_NATIVE_SHARE_DIRECTORY` for later inspection and analysis</span></span>
- <span data-ttu-id="b50ad-260">Saves the trained model pipeline to the *outputs* folder.</span><span class="sxs-lookup"><span data-stu-id="b50ad-260">Saves the trained model pipeline to the *outputs* folder.</span></span>

> [!Note]
> <span data-ttu-id="b50ad-261">Saving the model to the *outputs* folder automatically copies the model object into the Azure Blob Storage account associated with your Experimentation account.</span><span class="sxs-lookup"><span data-stu-id="b50ad-261">Saving the model to the *outputs* folder automatically copies the model object into the Azure Blob Storage account associated with your Experimentation account.</span></span> <span data-ttu-id="b50ad-262">This means you will always be able to retrieve the saved model object from the blob, even if you change machine or compute context.</span><span class="sxs-lookup"><span data-stu-id="b50ad-262">This means you will always be able to retrieve the saved model object from the blob, even if you change machine or compute context.</span></span>

<span data-ttu-id="b50ad-263">Navigate to the *Run History* pane and click on `8-evaluate-model.py`.</span><span class="sxs-lookup"><span data-stu-id="b50ad-263">Navigate to the *Run History* pane and click on `8-evaluate-model.py`.</span></span> <span data-ttu-id="b50ad-264">You will see charts displaying several model performance metrics:</span><span class="sxs-lookup"><span data-stu-id="b50ad-264">You will see charts displaying several model performance metrics:</span></span>

- <span data-ttu-id="b50ad-265">**ME**: mean error of the forecast.</span><span class="sxs-lookup"><span data-stu-id="b50ad-265">**ME**: mean error of the forecast.</span></span> <span data-ttu-id="b50ad-266">This can be interpreted as the average bias of the forecast.</span><span class="sxs-lookup"><span data-stu-id="b50ad-266">This can be interpreted as the average bias of the forecast.</span></span>
- <span data-ttu-id="b50ad-267">**MPE**: [mean percentage error](https://en.wikipedia.org/wiki/Mean_percentage_error) (ME expressed as a percentage of the actual demand)</span><span class="sxs-lookup"><span data-stu-id="b50ad-267">**MPE**: [mean percentage error](https://en.wikipedia.org/wiki/Mean_percentage_error) (ME expressed as a percentage of the actual demand)</span></span>
- <span data-ttu-id="b50ad-268">**MSE**: [mean squared error](https://en.wikipedia.org/wiki/Mean_squared_error)</span><span class="sxs-lookup"><span data-stu-id="b50ad-268">**MSE**: [mean squared error](https://en.wikipedia.org/wiki/Mean_squared_error)</span></span>
- <span data-ttu-id="b50ad-269">**RMSE**: root mean squared error (the square root of MSE)</span><span class="sxs-lookup"><span data-stu-id="b50ad-269">**RMSE**: root mean squared error (the square root of MSE)</span></span>
- <span data-ttu-id="b50ad-270">**MAPE**: [mean absolute percentage error](https://en.wikipedia.org/wiki/Mean_absolute_percentage_error)</span><span class="sxs-lookup"><span data-stu-id="b50ad-270">**MAPE**: [mean absolute percentage error](https://en.wikipedia.org/wiki/Mean_absolute_percentage_error)</span></span>
- <span data-ttu-id="b50ad-271">**sMAPE**: [symmetric mean absolute percentage error](https://en.wikipedia.org/wiki/Symmetric_mean_absolute_percentage_error)</span><span class="sxs-lookup"><span data-stu-id="b50ad-271">**sMAPE**: [symmetric mean absolute percentage error](https://en.wikipedia.org/wiki/Symmetric_mean_absolute_percentage_error)</span></span>
- <span data-ttu-id="b50ad-272">**MAPE_base**: MAPE of a baseline forecast in which the prediction equals the last known demand value.</span><span class="sxs-lookup"><span data-stu-id="b50ad-272">**MAPE_base**: MAPE of a baseline forecast in which the prediction equals the last known demand value.</span></span>
- <span data-ttu-id="b50ad-273">**MdRAE**: Median Relative Absolute Error.</span><span class="sxs-lookup"><span data-stu-id="b50ad-273">**MdRAE**: Median Relative Absolute Error.</span></span> <span data-ttu-id="b50ad-274">The median ratio of the forecast error to the baseline forecast error.</span><span class="sxs-lookup"><span data-stu-id="b50ad-274">The median ratio of the forecast error to the baseline forecast error.</span></span> <span data-ttu-id="b50ad-275">A value less than 1 means the forecast is performing better than the baseline.</span><span class="sxs-lookup"><span data-stu-id="b50ad-275">A value less than 1 means the forecast is performing better than the baseline.</span></span>

<span data-ttu-id="b50ad-276">All metrics above refer to the *t+1* forecast.</span><span class="sxs-lookup"><span data-stu-id="b50ad-276">All metrics above refer to the *t+1* forecast.</span></span> <span data-ttu-id="b50ad-277">In addition to the above metrics, you will also see a set of corresponding metrics with the *_horizon* suffix.</span><span class="sxs-lookup"><span data-stu-id="b50ad-277">In addition to the above metrics, you will also see a set of corresponding metrics with the *_horizon* suffix.</span></span> <span data-ttu-id="b50ad-278">This is the metric averaged over all periods in the forecast range from period *t+1* to period *t+6*.</span><span class="sxs-lookup"><span data-stu-id="b50ad-278">This is the metric averaged over all periods in the forecast range from period *t+1* to period *t+6*.</span></span>

<span data-ttu-id="b50ad-279">If metrics are not displaying in the chart area, click on the gear symbol in the top right-hand corner.</span><span class="sxs-lookup"><span data-stu-id="b50ad-279">If metrics are not displaying in the chart area, click on the gear symbol in the top right-hand corner.</span></span> <span data-ttu-id="b50ad-280">Ensure that the model performance metrics you are interested in are checked.</span><span class="sxs-lookup"><span data-stu-id="b50ad-280">Ensure that the model performance metrics you are interested in are checked.</span></span> <span data-ttu-id="b50ad-281">The metrics will also appear in a table below the charts.</span><span class="sxs-lookup"><span data-stu-id="b50ad-281">The metrics will also appear in a table below the charts.</span></span> <span data-ttu-id="b50ad-282">Again, this table is customizable be clicking on the gear symbol.</span><span class="sxs-lookup"><span data-stu-id="b50ad-282">Again, this table is customizable be clicking on the gear symbol.</span></span> <span data-ttu-id="b50ad-283">Sort the table by a performance metric to identify the best model.</span><span class="sxs-lookup"><span data-stu-id="b50ad-283">Sort the table by a performance metric to identify the best model.</span></span> <span data-ttu-id="b50ad-284">If you are interested in seeing how the forecast performance varies from period *t+1* to *t+6*, click on the entry for the model in the table.</span><span class="sxs-lookup"><span data-stu-id="b50ad-284">If you are interested in seeing how the forecast performance varies from period *t+1* to *t+6*, click on the entry for the model in the table.</span></span> <span data-ttu-id="b50ad-285">Charts displaying the MAPE, MPE and MdRAE metrics across the forecast period are shown under *Visualizations*.</span><span class="sxs-lookup"><span data-stu-id="b50ad-285">Charts displaying the MAPE, MPE and MdRAE metrics across the forecast period are shown under *Visualizations*.</span></span>

<span data-ttu-id="b50ad-286">When evaluating forecasting models, it can be very useful to visualize the output predictions.</span><span class="sxs-lookup"><span data-stu-id="b50ad-286">When evaluating forecasting models, it can be very useful to visualize the output predictions.</span></span> <span data-ttu-id="b50ad-287">This helps the data scientist to determine whether the forecast produced appears realistic.</span><span class="sxs-lookup"><span data-stu-id="b50ad-287">This helps the data scientist to determine whether the forecast produced appears realistic.</span></span> <span data-ttu-id="b50ad-288">It can also help to identify problems in the forecast if, for example, the forecast performs poorly in certain time periods.</span><span class="sxs-lookup"><span data-stu-id="b50ad-288">It can also help to identify problems in the forecast if, for example, the forecast performs poorly in certain time periods.</span></span> <span data-ttu-id="b50ad-289">The `9-forecast-output-exploration.ipynb` notebook will produce visualizations of the forecasts generated for the test dataset.</span><span class="sxs-lookup"><span data-stu-id="b50ad-289">The `9-forecast-output-exploration.ipynb` notebook will produce visualizations of the forecasts generated for the test dataset.</span></span>

### <a name="4-deployment"></a><span data-ttu-id="b50ad-290">4. Deployment</span><span class="sxs-lookup"><span data-stu-id="b50ad-290">4. Deployment</span></span>

<span data-ttu-id="b50ad-291">The best model can be operationalized by deploying it as a realtime web service.</span><span class="sxs-lookup"><span data-stu-id="b50ad-291">The best model can be operationalized by deploying it as a realtime web service.</span></span> <span data-ttu-id="b50ad-292">This web service can then be invoked to generate forecasts on demand as new data becomes available.</span><span class="sxs-lookup"><span data-stu-id="b50ad-292">This web service can then be invoked to generate forecasts on demand as new data becomes available.</span></span> <span data-ttu-id="b50ad-293">In this scenario, a new forecast needs to be generated every hour to predict the energy demand in the subsequent hour.</span><span class="sxs-lookup"><span data-stu-id="b50ad-293">In this scenario, a new forecast needs to be generated every hour to predict the energy demand in the subsequent hour.</span></span> <span data-ttu-id="b50ad-294">To perform this task, a web service can be deployed which takes an array of features for a given hour time period as input and returns the predicted demand as output.</span><span class="sxs-lookup"><span data-stu-id="b50ad-294">To perform this task, a web service can be deployed which takes an array of features for a given hour time period as input and returns the predicted demand as output.</span></span>

<span data-ttu-id="b50ad-295">In this sample, a web service is deployed to a Windows 10 machine.</span><span class="sxs-lookup"><span data-stu-id="b50ad-295">In this sample, a web service is deployed to a Windows 10 machine.</span></span> <span data-ttu-id="b50ad-296">Ensure you have completed the prerequisite steps for local deployment set out in this [getting started guide](https://github.com/Azure/Machine-Learning-Operationalization/blob/master/documentation/getting-started.md) for the Operationalization CLI.</span><span class="sxs-lookup"><span data-stu-id="b50ad-296">Ensure you have completed the prerequisite steps for local deployment set out in this [getting started guide](https://github.com/Azure/Machine-Learning-Operationalization/blob/master/documentation/getting-started.md) for the Operationalization CLI.</span></span> <span data-ttu-id="b50ad-297">Once you have set up your local environment and model management account, run the `10-deploy-model.ipynb` notebook to deploy the web service.</span><span class="sxs-lookup"><span data-stu-id="b50ad-297">Once you have set up your local environment and model management account, run the `10-deploy-model.ipynb` notebook to deploy the web service.</span></span>

## <a name="conclusion"></a><span data-ttu-id="b50ad-298">Conclusion</span><span class="sxs-lookup"><span data-stu-id="b50ad-298">Conclusion</span></span>

<span data-ttu-id="b50ad-299">This sample demonstrates how to build an end-to-end time series forecasting solution for the purposes of forecasting energy demand.</span><span class="sxs-lookup"><span data-stu-id="b50ad-299">This sample demonstrates how to build an end-to-end time series forecasting solution for the purposes of forecasting energy demand.</span></span> <span data-ttu-id="b50ad-300">Many of the principles explored in this sample can be extended to other forecasting scenarios and industries.</span><span class="sxs-lookup"><span data-stu-id="b50ad-300">Many of the principles explored in this sample can be extended to other forecasting scenarios and industries.</span></span>

<span data-ttu-id="b50ad-301">This scenario shows how Azure Machine Learning Workbench can assist a data scientist in developing real world solutions with useful features such as the Jupyter notebook environment and metric logging capabilities.</span><span class="sxs-lookup"><span data-stu-id="b50ad-301">This scenario shows how Azure Machine Learning Workbench can assist a data scientist in developing real world solutions with useful features such as the Jupyter notebook environment and metric logging capabilities.</span></span> <span data-ttu-id="b50ad-302">The sample also guides the reader on how a model can be operationalized and deployed using Azure Machine Learning Operationalization CLI.</span><span class="sxs-lookup"><span data-stu-id="b50ad-302">The sample also guides the reader on how a model can be operationalized and deployed using Azure Machine Learning Operationalization CLI.</span></span> <span data-ttu-id="b50ad-303">Once deployed, the web service API allows developers or data engineers to integrate the forecasting model into a wider data pipeline.</span><span class="sxs-lookup"><span data-stu-id="b50ad-303">Once deployed, the web service API allows developers or data engineers to integrate the forecasting model into a wider data pipeline.</span></span>
