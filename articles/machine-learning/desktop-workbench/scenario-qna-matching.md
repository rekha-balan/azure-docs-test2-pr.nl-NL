---
title: Q & A Matching using Azure Machine Learning Workbench | Microsoft Docs
description: How to use various effective machine learning methods to match open ended queries to pre-existing FAQ question/answers pairs.
services: machine-learning
documentationcenter: ''
author: rastala
ms.author: roastala
ms.service: machine-learning
ms.component: core
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/15/2017
ms.openlocfilehash: 33d95e0c17e8b9b18313cb0854532337ec76cfd1
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44868902"
---
#  <a name="q--a-matching-using-azure-machine-learning-workbench"></a><span data-ttu-id="712e3-103">Q & A Matching using Azure Machine Learning workbench</span><span class="sxs-lookup"><span data-stu-id="712e3-103">Q & A Matching using Azure Machine Learning workbench</span></span>
<span data-ttu-id="712e3-104">Answering open ended questions is difficult and often requires manual effort from subject matter experts (SMEs).</span><span class="sxs-lookup"><span data-stu-id="712e3-104">Answering open ended questions is difficult and often requires manual effort from subject matter experts (SMEs).</span></span> <span data-ttu-id="712e3-105">To help reduce the demands on internal SMEs, companies often create lists of Frequently Asked Questions (FAQs) as a means of assisting users.</span><span class="sxs-lookup"><span data-stu-id="712e3-105">To help reduce the demands on internal SMEs, companies often create lists of Frequently Asked Questions (FAQs) as a means of assisting users.</span></span> <span data-ttu-id="712e3-106">This example showcases various effective machine learning methods to match open ended queries to pre-existing FAQ question/answers pairs.</span><span class="sxs-lookup"><span data-stu-id="712e3-106">This example showcases various effective machine learning methods to match open ended queries to pre-existing FAQ question/answers pairs.</span></span> <span data-ttu-id="712e3-107">This example demonstrates an easy development process for building such a solution using the Azure Machine Learning Workbench.</span><span class="sxs-lookup"><span data-stu-id="712e3-107">This example demonstrates an easy development process for building such a solution using the Azure Machine Learning Workbench.</span></span> 

## <a name="link-to-the-gallery-github-repository"></a><span data-ttu-id="712e3-108">Link to the gallery GitHub repository</span><span class="sxs-lookup"><span data-stu-id="712e3-108">Link to the gallery GitHub repository</span></span>
[https://github.com/Azure/MachineLearningSamples-QnAMatching](https://github.com/Azure/MachineLearningSamples-QnAMatching)

## <a name="overview"></a><span data-ttu-id="712e3-109">Overview</span><span class="sxs-lookup"><span data-stu-id="712e3-109">Overview</span></span>

<span data-ttu-id="712e3-110">This example addresses the problem of mapping user questions to pre-existing Question & Answer (Q&A) pairs as is typically provided in a list of Frequently Asked Questions (that is, a FAQ) or in the Q&A pairs present on websites like [Stack Overflow](https://stackoverflow.com/).</span><span class="sxs-lookup"><span data-stu-id="712e3-110">This example addresses the problem of mapping user questions to pre-existing Question & Answer (Q&A) pairs as is typically provided in a list of Frequently Asked Questions (that is, a FAQ) or in the Q&A pairs present on websites like [Stack Overflow](https://stackoverflow.com/).</span></span> <span data-ttu-id="712e3-111">There are many approaches to match a question to its correct answer, such as finding the answer that is the most similar to the question.</span><span class="sxs-lookup"><span data-stu-id="712e3-111">There are many approaches to match a question to its correct answer, such as finding the answer that is the most similar to the question.</span></span> <span data-ttu-id="712e3-112">However, in this example open ended questions are matched to previously asked questions by assuming that each answer in the FAQ can answer multiple semantically equivalent questions.</span><span class="sxs-lookup"><span data-stu-id="712e3-112">However, in this example open ended questions are matched to previously asked questions by assuming that each answer in the FAQ can answer multiple semantically equivalent questions.</span></span>

<span data-ttu-id="712e3-113">The key steps required to deliver this solution are as follows:</span><span class="sxs-lookup"><span data-stu-id="712e3-113">The key steps required to deliver this solution are as follows:</span></span>

1. <span data-ttu-id="712e3-114">Clean and process text data.</span><span class="sxs-lookup"><span data-stu-id="712e3-114">Clean and process text data.</span></span>
2. <span data-ttu-id="712e3-115">Learn informative phrases, which are multi-word sequences that provide more information when viewed in sequence than when treated independently.</span><span class="sxs-lookup"><span data-stu-id="712e3-115">Learn informative phrases, which are multi-word sequences that provide more information when viewed in sequence than when treated independently.</span></span>
3. <span data-ttu-id="712e3-116">Extract features from text data.</span><span class="sxs-lookup"><span data-stu-id="712e3-116">Extract features from text data.</span></span>
4. <span data-ttu-id="712e3-117">Train text classification models and evaluate model performance.</span><span class="sxs-lookup"><span data-stu-id="712e3-117">Train text classification models and evaluate model performance.</span></span>


## <a name="prerequisites"></a><span data-ttu-id="712e3-118">Prerequisites</span><span class="sxs-lookup"><span data-stu-id="712e3-118">Prerequisites</span></span>

<span data-ttu-id="712e3-119">The prerequisites to run this example are as follows:</span><span class="sxs-lookup"><span data-stu-id="712e3-119">The prerequisites to run this example are as follows:</span></span>

1. <span data-ttu-id="712e3-120">An [Azure account](https://azure.microsoft.com/free/) (free trials are available).</span><span class="sxs-lookup"><span data-stu-id="712e3-120">An [Azure account](https://azure.microsoft.com/free/) (free trials are available).</span></span>
2. <span data-ttu-id="712e3-121">An installed copy of [Azure Machine Learning Workbench](../service/overview-what-is-azure-ml.md) following the [quick start installation guide](../service/quickstart-installation.md) to install the program and create a workspace.</span><span class="sxs-lookup"><span data-stu-id="712e3-121">An installed copy of [Azure Machine Learning Workbench](../service/overview-what-is-azure-ml.md) following the [quick start installation guide](../service/quickstart-installation.md) to install the program and create a workspace.</span></span>
3. <span data-ttu-id="712e3-122">This example could be run on any compute context.</span><span class="sxs-lookup"><span data-stu-id="712e3-122">This example could be run on any compute context.</span></span> <span data-ttu-id="712e3-123">However, it is recommended to run it on a multi-core machine with at least of 16-GB memory and 5-GB disk space.</span><span class="sxs-lookup"><span data-stu-id="712e3-123">However, it is recommended to run it on a multi-core machine with at least of 16-GB memory and 5-GB disk space.</span></span>

## <a name="create-a-new-workbench-project"></a><span data-ttu-id="712e3-124">Create a new workbench project</span><span class="sxs-lookup"><span data-stu-id="712e3-124">Create a new workbench project</span></span>

<span data-ttu-id="712e3-125">Create a new project using this example as a template:</span><span class="sxs-lookup"><span data-stu-id="712e3-125">Create a new project using this example as a template:</span></span>
1.  <span data-ttu-id="712e3-126">Open Azure Machine Learning Workbench</span><span class="sxs-lookup"><span data-stu-id="712e3-126">Open Azure Machine Learning Workbench</span></span>
2.  <span data-ttu-id="712e3-127">On the **Projects** page, click the **+** sign and select **New Project**</span><span class="sxs-lookup"><span data-stu-id="712e3-127">On the **Projects** page, click the **+** sign and select **New Project**</span></span>
3.  <span data-ttu-id="712e3-128">In the **Create New Project** pane, fill in the information for your new project</span><span class="sxs-lookup"><span data-stu-id="712e3-128">In the **Create New Project** pane, fill in the information for your new project</span></span>
4.  <span data-ttu-id="712e3-129">In the **Search Project Templates** search box, type "Q & A Matching" and select the template</span><span class="sxs-lookup"><span data-stu-id="712e3-129">In the **Search Project Templates** search box, type "Q & A Matching" and select the template</span></span>
5.  <span data-ttu-id="712e3-130">Click **Create**</span><span class="sxs-lookup"><span data-stu-id="712e3-130">Click **Create**</span></span>

## <a name="data-description"></a><span data-ttu-id="712e3-131">Data description</span><span class="sxs-lookup"><span data-stu-id="712e3-131">Data description</span></span>

<span data-ttu-id="712e3-132">The dataset used in this example is a Stack Exchange Data Dump stored at [archive.org](https://archive.org/details/stackexchange). This data is an anonymized dump of all user-contributed content on the [Stack Exchange network](https://stackexchange.com/).</span><span class="sxs-lookup"><span data-stu-id="712e3-132">The dataset used in this example is a Stack Exchange Data Dump stored at [archive.org](https://archive.org/details/stackexchange). This data is an anonymized dump of all user-contributed content on the [Stack Exchange network](https://stackexchange.com/).</span></span> <span data-ttu-id="712e3-133">Each site in the network is formatted as a separate archive consisting of XML files zipped via 7-zip using bzip2 compression.</span><span class="sxs-lookup"><span data-stu-id="712e3-133">Each site in the network is formatted as a separate archive consisting of XML files zipped via 7-zip using bzip2 compression.</span></span> <span data-ttu-id="712e3-134">Each site archive includes Posts, Users, Votes, Comments, PostHistory, and PostLinks.</span><span class="sxs-lookup"><span data-stu-id="712e3-134">Each site archive includes Posts, Users, Votes, Comments, PostHistory, and PostLinks.</span></span> 

### <a name="data-source"></a><span data-ttu-id="712e3-135">Data source</span><span class="sxs-lookup"><span data-stu-id="712e3-135">Data source</span></span>

<span data-ttu-id="712e3-136">This example uses the [Posts data (10 GB)](https://archive.org/download/stackexchange/stackoverflow.com-Posts.7z) and [PostLinks data (515 MB)](https://archive.org/download/stackexchange/stackoverflow.com-PostLinks.7z) from the Stack Overflow site.</span><span class="sxs-lookup"><span data-stu-id="712e3-136">This example uses the [Posts data (10 GB)](https://archive.org/download/stackexchange/stackoverflow.com-Posts.7z) and [PostLinks data (515 MB)](https://archive.org/download/stackexchange/stackoverflow.com-PostLinks.7z) from the Stack Overflow site.</span></span> <span data-ttu-id="712e3-137">For complete schema information, see the [readme.txt](https://ia800500.us.archive.org/22/items/stackexchange/readme.txt).</span><span class="sxs-lookup"><span data-stu-id="712e3-137">For complete schema information, see the [readme.txt](https://ia800500.us.archive.org/22/items/stackexchange/readme.txt).</span></span> 

<span data-ttu-id="712e3-138">The `PostTypeId` field in the Posts data indicates whether a post is a `Question` or an `Answer`.</span><span class="sxs-lookup"><span data-stu-id="712e3-138">The `PostTypeId` field in the Posts data indicates whether a post is a `Question` or an `Answer`.</span></span> <span data-ttu-id="712e3-139">The `PostLinkTypeId` field in the PostLinks data indicates whether two posts are linked or duplicate.</span><span class="sxs-lookup"><span data-stu-id="712e3-139">The `PostLinkTypeId` field in the PostLinks data indicates whether two posts are linked or duplicate.</span></span> <span data-ttu-id="712e3-140">Question posts typically include some tags, which are keywords that categorize a question with other similar/duplicate questions.</span><span class="sxs-lookup"><span data-stu-id="712e3-140">Question posts typically include some tags, which are keywords that categorize a question with other similar/duplicate questions.</span></span> <span data-ttu-id="712e3-141">There are some tags with high frequency, such as `javascript`, `java`, `c#`, `php` etc., consist of a larger number of question posts.</span><span class="sxs-lookup"><span data-stu-id="712e3-141">There are some tags with high frequency, such as `javascript`, `java`, `c#`, `php` etc., consist of a larger number of question posts.</span></span> <span data-ttu-id="712e3-142">In this example, a subset of Q&A pairs with the `javascript` tag is extracted.</span><span class="sxs-lookup"><span data-stu-id="712e3-142">In this example, a subset of Q&A pairs with the `javascript` tag is extracted.</span></span>

<span data-ttu-id="712e3-143">Additionionally, a question post may be related to multiple answer posts or duplicate question posts.</span><span class="sxs-lookup"><span data-stu-id="712e3-143">Additionionally, a question post may be related to multiple answer posts or duplicate question posts.</span></span> <span data-ttu-id="712e3-144">To construct a list of FAQ from these two datasets, some data collection criteria are considered.</span><span class="sxs-lookup"><span data-stu-id="712e3-144">To construct a list of FAQ from these two datasets, some data collection criteria are considered.</span></span> <span data-ttu-id="712e3-145">The three sets of compiled data are selected using a SQL script, which is not included in this example.</span><span class="sxs-lookup"><span data-stu-id="712e3-145">The three sets of compiled data are selected using a SQL script, which is not included in this example.</span></span> <span data-ttu-id="712e3-146">The resulting data description is as follows:</span><span class="sxs-lookup"><span data-stu-id="712e3-146">The resulting data description is as follows:</span></span>

- <span data-ttu-id="712e3-147">`Original Questions (Q)`: Question posts are asked and answered on Stack Overflow site.</span><span class="sxs-lookup"><span data-stu-id="712e3-147">`Original Questions (Q)`: Question posts are asked and answered on Stack Overflow site.</span></span>
- <span data-ttu-id="712e3-148">`Duplications (D)`: Question posts duplicate other pre-existing questions (`PostLinkTypeId = 3`), which are the original questions.</span><span class="sxs-lookup"><span data-stu-id="712e3-148">`Duplications (D)`: Question posts duplicate other pre-existing questions (`PostLinkTypeId = 3`), which are the original questions.</span></span> <span data-ttu-id="712e3-149">Duplications are considered as semantically equivalent to the original questions in the sense that the answer provided to the original question also answers the new duplicate question.</span><span class="sxs-lookup"><span data-stu-id="712e3-149">Duplications are considered as semantically equivalent to the original questions in the sense that the answer provided to the original question also answers the new duplicate question.</span></span>
- <span data-ttu-id="712e3-150">`Answers (A)`: Each original question and its duplications may link to more than one answer posts.</span><span class="sxs-lookup"><span data-stu-id="712e3-150">`Answers (A)`: Each original question and its duplications may link to more than one answer posts.</span></span> <span data-ttu-id="712e3-151">This example only selects the answer post that is either accepted by the original author (filtered by `AcceptedAnswerId`) or has the highest score (ranked by `Score`) in the original questions.</span><span class="sxs-lookup"><span data-stu-id="712e3-151">This example only selects the answer post that is either accepted by the original author (filtered by `AcceptedAnswerId`) or has the highest score (ranked by `Score`) in the original questions.</span></span> 

<span data-ttu-id="712e3-152">The combination of these three datasets creates Q&A pairs where an answer (A) is mapped to one original question (Q) and multiple duplicate questions (D) as illustrated by the following data diagram:</span><span class="sxs-lookup"><span data-stu-id="712e3-152">The combination of these three datasets creates Q&A pairs where an answer (A) is mapped to one original question (Q) and multiple duplicate questions (D) as illustrated by the following data diagram:</span></span>

<table><tr><td><img id ="data_diagram" src="media/scenario-qna-matching/data_diagram.png"></td></tr></table>

### <a name="data-structure"></a><span data-ttu-id="712e3-153">Data structure</span><span class="sxs-lookup"><span data-stu-id="712e3-153">Data structure</span></span>

<span data-ttu-id="712e3-154">The data schema and direct download links of the three datasets can be found in the following table:</span><span class="sxs-lookup"><span data-stu-id="712e3-154">The data schema and direct download links of the three datasets can be found in the following table:</span></span>

| <span data-ttu-id="712e3-155">Dataset</span><span class="sxs-lookup"><span data-stu-id="712e3-155">Dataset</span></span> | <span data-ttu-id="712e3-156">Field</span><span class="sxs-lookup"><span data-stu-id="712e3-156">Field</span></span> | <span data-ttu-id="712e3-157">Type</span><span class="sxs-lookup"><span data-stu-id="712e3-157">Type</span></span> | <span data-ttu-id="712e3-158">Description</span><span class="sxs-lookup"><span data-stu-id="712e3-158">Description</span></span>
| ----------|------------|------------|--------
| [<span data-ttu-id="712e3-159">questions</span><span class="sxs-lookup"><span data-stu-id="712e3-159">questions</span></span>](https://bostondata.blob.core.windows.net/stackoverflow/orig-q.tsv.gz) | <span data-ttu-id="712e3-160">Id</span><span class="sxs-lookup"><span data-stu-id="712e3-160">Id</span></span> | <span data-ttu-id="712e3-161">String</span><span class="sxs-lookup"><span data-stu-id="712e3-161">String</span></span> | <span data-ttu-id="712e3-162">The unique question ID (primary key)</span><span class="sxs-lookup"><span data-stu-id="712e3-162">The unique question ID (primary key)</span></span>
|  | <span data-ttu-id="712e3-163">AnswerId</span><span class="sxs-lookup"><span data-stu-id="712e3-163">AnswerId</span></span> | <span data-ttu-id="712e3-164">String</span><span class="sxs-lookup"><span data-stu-id="712e3-164">String</span></span> | <span data-ttu-id="712e3-165">The unique answer ID per question</span><span class="sxs-lookup"><span data-stu-id="712e3-165">The unique answer ID per question</span></span>
|  | <span data-ttu-id="712e3-166">Text0</span><span class="sxs-lookup"><span data-stu-id="712e3-166">Text0</span></span> | <span data-ttu-id="712e3-167">String</span><span class="sxs-lookup"><span data-stu-id="712e3-167">String</span></span> | <span data-ttu-id="712e3-168">The raw text data including the question's title and body</span><span class="sxs-lookup"><span data-stu-id="712e3-168">The raw text data including the question's title and body</span></span>
|  | <span data-ttu-id="712e3-169">CreationDate</span><span class="sxs-lookup"><span data-stu-id="712e3-169">CreationDate</span></span> | <span data-ttu-id="712e3-170">Timestamp</span><span class="sxs-lookup"><span data-stu-id="712e3-170">Timestamp</span></span> | <span data-ttu-id="712e3-171">The timestamp of when the question has been asked</span><span class="sxs-lookup"><span data-stu-id="712e3-171">The timestamp of when the question has been asked</span></span>
| [<span data-ttu-id="712e3-172">dupes</span><span class="sxs-lookup"><span data-stu-id="712e3-172">dupes</span></span>](https://bostondata.blob.core.windows.net/stackoverflow/dup-q.tsv.gz) | <span data-ttu-id="712e3-173">Id</span><span class="sxs-lookup"><span data-stu-id="712e3-173">Id</span></span> | <span data-ttu-id="712e3-174">String</span><span class="sxs-lookup"><span data-stu-id="712e3-174">String</span></span> | <span data-ttu-id="712e3-175">The unique duplication ID (primary key)</span><span class="sxs-lookup"><span data-stu-id="712e3-175">The unique duplication ID (primary key)</span></span>
|  | <span data-ttu-id="712e3-176">AnswerId</span><span class="sxs-lookup"><span data-stu-id="712e3-176">AnswerId</span></span> | <span data-ttu-id="712e3-177">String</span><span class="sxs-lookup"><span data-stu-id="712e3-177">String</span></span> | <span data-ttu-id="712e3-178">The answer ID associated with the duplication</span><span class="sxs-lookup"><span data-stu-id="712e3-178">The answer ID associated with the duplication</span></span>
|  | <span data-ttu-id="712e3-179">Text0</span><span class="sxs-lookup"><span data-stu-id="712e3-179">Text0</span></span> | <span data-ttu-id="712e3-180">String</span><span class="sxs-lookup"><span data-stu-id="712e3-180">String</span></span> | <span data-ttu-id="712e3-181">The raw text data including the duplication's title and body</span><span class="sxs-lookup"><span data-stu-id="712e3-181">The raw text data including the duplication's title and body</span></span>
|  | <span data-ttu-id="712e3-182">CreationDate</span><span class="sxs-lookup"><span data-stu-id="712e3-182">CreationDate</span></span> | <span data-ttu-id="712e3-183">Timestamp</span><span class="sxs-lookup"><span data-stu-id="712e3-183">Timestamp</span></span> | <span data-ttu-id="712e3-184">The timestamp of when the duplication has been asked</span><span class="sxs-lookup"><span data-stu-id="712e3-184">The timestamp of when the duplication has been asked</span></span>
| [<span data-ttu-id="712e3-185">answers</span><span class="sxs-lookup"><span data-stu-id="712e3-185">answers</span></span>](https://bostondata.blob.core.windows.net/stackoverflow/ans.tsv.gz)  | <span data-ttu-id="712e3-186">Id</span><span class="sxs-lookup"><span data-stu-id="712e3-186">Id</span></span> | <span data-ttu-id="712e3-187">String</span><span class="sxs-lookup"><span data-stu-id="712e3-187">String</span></span> | <span data-ttu-id="712e3-188">The unique answer ID (primary key)</span><span class="sxs-lookup"><span data-stu-id="712e3-188">The unique answer ID (primary key)</span></span>
|  | <span data-ttu-id="712e3-189">text0</span><span class="sxs-lookup"><span data-stu-id="712e3-189">text0</span></span> | <span data-ttu-id="712e3-190">String</span><span class="sxs-lookup"><span data-stu-id="712e3-190">String</span></span> | <span data-ttu-id="712e3-191">The raw text data of the answer</span><span class="sxs-lookup"><span data-stu-id="712e3-191">The raw text data of the answer</span></span>


## <a name="scenario-structure"></a><span data-ttu-id="712e3-192">Scenario structure</span><span class="sxs-lookup"><span data-stu-id="712e3-192">Scenario structure</span></span>

<span data-ttu-id="712e3-193">The Q&A matching example is presented through three types of files.</span><span class="sxs-lookup"><span data-stu-id="712e3-193">The Q&A matching example is presented through three types of files.</span></span> <span data-ttu-id="712e3-194">The first type is a series of Jupyter Notebooks that show the step-by-step descriptions of the entire workflow.</span><span class="sxs-lookup"><span data-stu-id="712e3-194">The first type is a series of Jupyter Notebooks that show the step-by-step descriptions of the entire workflow.</span></span> <span data-ttu-id="712e3-195">The second type is a set of Python files contain custom Python modules for phrase learning and feature extraction.</span><span class="sxs-lookup"><span data-stu-id="712e3-195">The second type is a set of Python files contain custom Python modules for phrase learning and feature extraction.</span></span> <span data-ttu-id="712e3-196">These Python modules are generic enough to not only serve this example but also other use cases.</span><span class="sxs-lookup"><span data-stu-id="712e3-196">These Python modules are generic enough to not only serve this example but also other use cases.</span></span> <span data-ttu-id="712e3-197">The third type is a set of Python files to tune hyper-parameters and track model performance using the Azure Machine Learning Workbench.</span><span class="sxs-lookup"><span data-stu-id="712e3-197">The third type is a set of Python files to tune hyper-parameters and track model performance using the Azure Machine Learning Workbench.</span></span>

<span data-ttu-id="712e3-198">The files in this example are organized as follows.</span><span class="sxs-lookup"><span data-stu-id="712e3-198">The files in this example are organized as follows.</span></span>

| <span data-ttu-id="712e3-199">File Name</span><span class="sxs-lookup"><span data-stu-id="712e3-199">File Name</span></span> | <span data-ttu-id="712e3-200">Type</span><span class="sxs-lookup"><span data-stu-id="712e3-200">Type</span></span> | <span data-ttu-id="712e3-201">Description</span><span class="sxs-lookup"><span data-stu-id="712e3-201">Description</span></span>
| ----------|------------|--------
| `Image` | <span data-ttu-id="712e3-202">Folder</span><span class="sxs-lookup"><span data-stu-id="712e3-202">Folder</span></span> | <span data-ttu-id="712e3-203">The folder used to save images for the README file</span><span class="sxs-lookup"><span data-stu-id="712e3-203">The folder used to save images for the README file</span></span>
| `notebooks` | <span data-ttu-id="712e3-204">Folder</span><span class="sxs-lookup"><span data-stu-id="712e3-204">Folder</span></span> | <span data-ttu-id="712e3-205">The Jupyter Notebooks folder</span><span class="sxs-lookup"><span data-stu-id="712e3-205">The Jupyter Notebooks folder</span></span>
| `modules` | <span data-ttu-id="712e3-206">Folder</span><span class="sxs-lookup"><span data-stu-id="712e3-206">Folder</span></span> | <span data-ttu-id="712e3-207">The Python modules folder</span><span class="sxs-lookup"><span data-stu-id="712e3-207">The Python modules folder</span></span>
| `scripts` | <span data-ttu-id="712e3-208">Folder</span><span class="sxs-lookup"><span data-stu-id="712e3-208">Folder</span></span> | <span data-ttu-id="712e3-209">The Python files folder</span><span class="sxs-lookup"><span data-stu-id="712e3-209">The Python files folder</span></span>
| `notebooks/Part_1_Data_Preparation.ipynb` | <span data-ttu-id="712e3-210">Jupyter Notebook</span><span class="sxs-lookup"><span data-stu-id="712e3-210">Jupyter Notebook</span></span> | <span data-ttu-id="712e3-211">Access the sample data, pre-process the text, and prepare training and test datasets</span><span class="sxs-lookup"><span data-stu-id="712e3-211">Access the sample data, pre-process the text, and prepare training and test datasets</span></span>
| `notebooks/Part_2_Phrase_Learning.ipynb` | <span data-ttu-id="712e3-212">Jupyter Notebook</span><span class="sxs-lookup"><span data-stu-id="712e3-212">Jupyter Notebook</span></span> | <span data-ttu-id="712e3-213">Learn informative phrases and tokenize text into Bag-of-Words (BOWs) representations</span><span class="sxs-lookup"><span data-stu-id="712e3-213">Learn informative phrases and tokenize text into Bag-of-Words (BOWs) representations</span></span>
| `notebooks/Part_3_Model_Training_and_Evaluation.ipynb` | <span data-ttu-id="712e3-214">Jupyter Notebook</span><span class="sxs-lookup"><span data-stu-id="712e3-214">Jupyter Notebook</span></span> | <span data-ttu-id="712e3-215">Extract features, train text classification models, and evaluation model performance</span><span class="sxs-lookup"><span data-stu-id="712e3-215">Extract features, train text classification models, and evaluation model performance</span></span>
| `modules/__init__.py` | <span data-ttu-id="712e3-216">Python file</span><span class="sxs-lookup"><span data-stu-id="712e3-216">Python file</span></span> | <span data-ttu-id="712e3-217">The Python package init file</span><span class="sxs-lookup"><span data-stu-id="712e3-217">The Python package init file</span></span>
| `modules/phrase_learning.py` | <span data-ttu-id="712e3-218">Python file</span><span class="sxs-lookup"><span data-stu-id="712e3-218">Python file</span></span> | <span data-ttu-id="712e3-219">The Python modules used to transform the raw data and learn informative phrases</span><span class="sxs-lookup"><span data-stu-id="712e3-219">The Python modules used to transform the raw data and learn informative phrases</span></span>
| `modules/feature_extractor.py` | <span data-ttu-id="712e3-220">Python file</span><span class="sxs-lookup"><span data-stu-id="712e3-220">Python file</span></span> | <span data-ttu-id="712e3-221">The Python modules extract features for model training</span><span class="sxs-lookup"><span data-stu-id="712e3-221">The Python modules extract features for model training</span></span>
| `scripts/naive_bayes.py` | <span data-ttu-id="712e3-222">Python file</span><span class="sxs-lookup"><span data-stu-id="712e3-222">Python file</span></span> | <span data-ttu-id="712e3-223">The Python to tune hyper-parameters in the Naive Bayes model</span><span class="sxs-lookup"><span data-stu-id="712e3-223">The Python to tune hyper-parameters in the Naive Bayes model</span></span>
| `scripts/random_forest.py` | <span data-ttu-id="712e3-224">Python file</span><span class="sxs-lookup"><span data-stu-id="712e3-224">Python file</span></span> | <span data-ttu-id="712e3-225">The Python to tune hyper-parameters in the Random Forest model</span><span class="sxs-lookup"><span data-stu-id="712e3-225">The Python to tune hyper-parameters in the Random Forest model</span></span>
| `README.md` | <span data-ttu-id="712e3-226">Markdown  file</span><span class="sxs-lookup"><span data-stu-id="712e3-226">Markdown  file</span></span> | <span data-ttu-id="712e3-227">The README markdown file</span><span class="sxs-lookup"><span data-stu-id="712e3-227">The README markdown file</span></span>

> [!NOTE]
> <span data-ttu-id="712e3-228">The series of notebooks is built under Python 3.5.</span><span class="sxs-lookup"><span data-stu-id="712e3-228">The series of notebooks is built under Python 3.5.</span></span>
> 

### <a name="data-ingestion-and-transformation"></a><span data-ttu-id="712e3-229">Data ingestion and transformation</span><span class="sxs-lookup"><span data-stu-id="712e3-229">Data ingestion and transformation</span></span>

<span data-ttu-id="712e3-230">The three compiled datasets are stored in a Blob storage and are retrieved in `Part_1_Data_Preparation.ipynb` notebook.</span><span class="sxs-lookup"><span data-stu-id="712e3-230">The three compiled datasets are stored in a Blob storage and are retrieved in `Part_1_Data_Preparation.ipynb` notebook.</span></span>  

<span data-ttu-id="712e3-231">Before training the text classification models, the text in the questions is cleaned and preprocessed to exclude code snippets.</span><span class="sxs-lookup"><span data-stu-id="712e3-231">Before training the text classification models, the text in the questions is cleaned and preprocessed to exclude code snippets.</span></span> <span data-ttu-id="712e3-232">An unsupervised phrase learning is applied over the training material to learn informative multi-word sequences.</span><span class="sxs-lookup"><span data-stu-id="712e3-232">An unsupervised phrase learning is applied over the training material to learn informative multi-word sequences.</span></span> <span data-ttu-id="712e3-233">These phrases are represented as single compound word units in the downstream Bag-of-Words (BOWs) featurization used by the text classification models.</span><span class="sxs-lookup"><span data-stu-id="712e3-233">These phrases are represented as single compound word units in the downstream Bag-of-Words (BOWs) featurization used by the text classification models.</span></span>

<span data-ttu-id="712e3-234">The detailed step-by-step descriptions of text preprocessing and phrase learning can be found in the Notebooks `Part_1_Data_Preparation.ipynb` and `Part_2_Phrase_Learning.ipynb`, respectively.</span><span class="sxs-lookup"><span data-stu-id="712e3-234">The detailed step-by-step descriptions of text preprocessing and phrase learning can be found in the Notebooks `Part_1_Data_Preparation.ipynb` and `Part_2_Phrase_Learning.ipynb`, respectively.</span></span>

### <a name="modeling"></a><span data-ttu-id="712e3-235">Modeling</span><span class="sxs-lookup"><span data-stu-id="712e3-235">Modeling</span></span>

<span data-ttu-id="712e3-236">This example is designed to score new questions against the pre-existing Q&A pairs by training text classification models where each pre-existing Q&A pair is a unique class and a subset of the duplicate questions for each Q&A pair are available as training material.</span><span class="sxs-lookup"><span data-stu-id="712e3-236">This example is designed to score new questions against the pre-existing Q&A pairs by training text classification models where each pre-existing Q&A pair is a unique class and a subset of the duplicate questions for each Q&A pair are available as training material.</span></span> <span data-ttu-id="712e3-237">In the example, the original questions and 75% of the duplicate questions are retained for training and the most recently posted 25% of duplicate questions are held-out as evaluation data.</span><span class="sxs-lookup"><span data-stu-id="712e3-237">In the example, the original questions and 75% of the duplicate questions are retained for training and the most recently posted 25% of duplicate questions are held-out as evaluation data.</span></span>

<span data-ttu-id="712e3-238">The classification model uses an ensemble method to aggregate three base classifiers, including **Naive Bayes**, **Support Vector Machine**, and **Random Forest**.</span><span class="sxs-lookup"><span data-stu-id="712e3-238">The classification model uses an ensemble method to aggregate three base classifiers, including **Naive Bayes**, **Support Vector Machine**, and **Random Forest**.</span></span> <span data-ttu-id="712e3-239">In each base classifier, the `AnswerId` is used as the class label and the BOWs representations is used as the features.</span><span class="sxs-lookup"><span data-stu-id="712e3-239">In each base classifier, the `AnswerId` is used as the class label and the BOWs representations is used as the features.</span></span>

<span data-ttu-id="712e3-240">The model training process is illustrated in `Part_3_Model_Training_and_Evaluation.ipynb`.</span><span class="sxs-lookup"><span data-stu-id="712e3-240">The model training process is illustrated in `Part_3_Model_Training_and_Evaluation.ipynb`.</span></span>

### <a name="evaluation"></a><span data-ttu-id="712e3-241">Evaluation</span><span class="sxs-lookup"><span data-stu-id="712e3-241">Evaluation</span></span>

<span data-ttu-id="712e3-242">Two different evaluation metrics are used to assess performance.</span><span class="sxs-lookup"><span data-stu-id="712e3-242">Two different evaluation metrics are used to assess performance.</span></span> 
1. <span data-ttu-id="712e3-243">`Average Rank (AR)`: indicates the average position where the correct answer is found in the list of retrieved Q&A pairs (out of the full set of 103 answer classes).</span><span class="sxs-lookup"><span data-stu-id="712e3-243">`Average Rank (AR)`: indicates the average position where the correct answer is found in the list of retrieved Q&A pairs (out of the full set of 103 answer classes).</span></span> 
2. <span data-ttu-id="712e3-244">`Top 3 Percentage`: indicates the percentage of test questions that the correct answer can be retrieved in the top three choices in the returned ranked list.</span><span class="sxs-lookup"><span data-stu-id="712e3-244">`Top 3 Percentage`: indicates the percentage of test questions that the correct answer can be retrieved in the top three choices in the returned ranked list.</span></span> 

<span data-ttu-id="712e3-245">The evaluation is demonstrated in `Part_3_Model_Training_and_Evaluation.ipynb`.</span><span class="sxs-lookup"><span data-stu-id="712e3-245">The evaluation is demonstrated in `Part_3_Model_Training_and_Evaluation.ipynb`.</span></span>


## <a name="conclusion"></a><span data-ttu-id="712e3-246">Conclusion</span><span class="sxs-lookup"><span data-stu-id="712e3-246">Conclusion</span></span>

<span data-ttu-id="712e3-247">This example highlights how to use well-known text analytics techniques, such as phrase learning and text classification, to produce a robust model.</span><span class="sxs-lookup"><span data-stu-id="712e3-247">This example highlights how to use well-known text analytics techniques, such as phrase learning and text classification, to produce a robust model.</span></span> <span data-ttu-id="712e3-248">It also showcases how Azure Machine Learning Workbench can help with interactive solution development and track model performance.</span><span class="sxs-lookup"><span data-stu-id="712e3-248">It also showcases how Azure Machine Learning Workbench can help with interactive solution development and track model performance.</span></span> 

<span data-ttu-id="712e3-249">Some key highlights of this example are:</span><span class="sxs-lookup"><span data-stu-id="712e3-249">Some key highlights of this example are:</span></span>

- <span data-ttu-id="712e3-250">The question and answer matching problem can be effectively solved with phrase learning and text classification models.</span><span class="sxs-lookup"><span data-stu-id="712e3-250">The question and answer matching problem can be effectively solved with phrase learning and text classification models.</span></span>
- <span data-ttu-id="712e3-251">Demonstrating interactive model development with Azure Machine Learning Workbench and Jupyter Notebook.</span><span class="sxs-lookup"><span data-stu-id="712e3-251">Demonstrating interactive model development with Azure Machine Learning Workbench and Jupyter Notebook.</span></span>
- <span data-ttu-id="712e3-252">Azure Machine Learning Workbench manages the run history and learned models with logging the evaluation metrics for comparison purposes.</span><span class="sxs-lookup"><span data-stu-id="712e3-252">Azure Machine Learning Workbench manages the run history and learned models with logging the evaluation metrics for comparison purposes.</span></span> <span data-ttu-id="712e3-253">These features enables quick hyper-parameter tuning and helps identify the best performing models.</span><span class="sxs-lookup"><span data-stu-id="712e3-253">These features enables quick hyper-parameter tuning and helps identify the best performing models.</span></span>


## <a name="references"></a><span data-ttu-id="712e3-254">References</span><span class="sxs-lookup"><span data-stu-id="712e3-254">References</span></span>

<span data-ttu-id="712e3-255">Timothy J. Hazen, Fred Richardson, [_Modeling Multiword Phrases with Constrained Phrases Tree for Improved Topic Modeling of Conversational Speech_](http://people.csail.mit.edu/hazen/publications/Hazen-SLT-2012.pdf).</span><span class="sxs-lookup"><span data-stu-id="712e3-255">Timothy J. Hazen, Fred Richardson, [_Modeling Multiword Phrases with Constrained Phrases Tree for Improved Topic Modeling of Conversational Speech_](http://people.csail.mit.edu/hazen/publications/Hazen-SLT-2012.pdf).</span></span> <span data-ttu-id="712e3-256">Spoken Language Technology Workshop (SLT), 2012 IEEE.</span><span class="sxs-lookup"><span data-stu-id="712e3-256">Spoken Language Technology Workshop (SLT), 2012 IEEE.</span></span> <span data-ttu-id="712e3-257">IEEE, 2012.</span><span class="sxs-lookup"><span data-stu-id="712e3-257">IEEE, 2012.</span></span>

<span data-ttu-id="712e3-258">Timothy J. Hazen, [_MCE Training Techniques for Topic Identification of Spoken Audio Documents_](http://ieeexplore.ieee.org/abstract/document/5742980/) in IEEE Transactions on Audio, Speech, and Language Processing, vol. 19, no.</span><span class="sxs-lookup"><span data-stu-id="712e3-258">Timothy J. Hazen, [_MCE Training Techniques for Topic Identification of Spoken Audio Documents_](http://ieeexplore.ieee.org/abstract/document/5742980/) in IEEE Transactions on Audio, Speech, and Language Processing, vol. 19, no.</span></span> <span data-ttu-id="712e3-259">8, pp. 2451-2460, Nov. 2011.</span><span class="sxs-lookup"><span data-stu-id="712e3-259">8, pp. 2451-2460, Nov. 2011.</span></span>
