---
title: Clean and prepare data for Azure Machine Learning | Microsoft Docs
description: Pre-process and clean data to prepare it for machine learning.
services: machine-learning
documentationcenter: ''
author: deguhath
manager: cgronlun
editor: cgronlun
ms.assetid: bdf659ec-4881-4324-8b9c-747cbfa0c3cd
ms.service: machine-learning
ms.component: team-data-science-process
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 11/09/2017
ms.author: deguhath
ms.openlocfilehash: 127c51b9a2617c6b8520d972a3cd4b6c3bbcddd1
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44966445"
---
# <a name="tasks-to-prepare-data-for-enhanced-machine-learning"></a><span data-ttu-id="57f54-103">Tasks to prepare data for enhanced machine learning</span><span class="sxs-lookup"><span data-stu-id="57f54-103">Tasks to prepare data for enhanced machine learning</span></span>
<span data-ttu-id="57f54-104">Pre-processing and cleaning data are important tasks that typically must be conducted before dataset can be used effectively for machine learning.</span><span class="sxs-lookup"><span data-stu-id="57f54-104">Pre-processing and cleaning data are important tasks that typically must be conducted before dataset can be used effectively for machine learning.</span></span> <span data-ttu-id="57f54-105">Raw data is often noisy and unreliable, and may be missing values.</span><span class="sxs-lookup"><span data-stu-id="57f54-105">Raw data is often noisy and unreliable, and may be missing values.</span></span> <span data-ttu-id="57f54-106">Using such data for modeling can produce misleading results.</span><span class="sxs-lookup"><span data-stu-id="57f54-106">Using such data for modeling can produce misleading results.</span></span> <span data-ttu-id="57f54-107">These tasks are part of the Team Data Science Process (TDSP) and typically follow an initial exploration of a dataset used to discover and plan the pre-processing required.</span><span class="sxs-lookup"><span data-stu-id="57f54-107">These tasks are part of the Team Data Science Process (TDSP) and typically follow an initial exploration of a dataset used to discover and plan the pre-processing required.</span></span> <span data-ttu-id="57f54-108">For more detailed instructions on the TDSP process, see the steps outlined in the [Team Data Science Process](overview.md).</span><span class="sxs-lookup"><span data-stu-id="57f54-108">For more detailed instructions on the TDSP process, see the steps outlined in the [Team Data Science Process](overview.md).</span></span>

<span data-ttu-id="57f54-109">Pre-processing and cleaning tasks, like the data exploration task, can be carried out in a wide variety of environments, such as SQL or Hive or Azure Machine Learning Studio, and with various tools and languages, such as R or Python, depending where your data is stored and how it is formatted.</span><span class="sxs-lookup"><span data-stu-id="57f54-109">Pre-processing and cleaning tasks, like the data exploration task, can be carried out in a wide variety of environments, such as SQL or Hive or Azure Machine Learning Studio, and with various tools and languages, such as R or Python, depending where your data is stored and how it is formatted.</span></span> <span data-ttu-id="57f54-110">Since TDSP is iterative in nature, these tasks can take place at various steps in the  workflow of the process.</span><span class="sxs-lookup"><span data-stu-id="57f54-110">Since TDSP is iterative in nature, these tasks can take place at various steps in the  workflow of the process.</span></span>

<span data-ttu-id="57f54-111">This article introduces various data processing concepts and tasks that can be undertaken either before or after ingesting data into Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="57f54-111">This article introduces various data processing concepts and tasks that can be undertaken either before or after ingesting data into Azure Machine Learning.</span></span>

<span data-ttu-id="57f54-112">For an example of data exploration and pre-processing done inside Azure Machine Learning studio, see the [Pre-processing data in Azure Machine Learning Studio](https://azure.microsoft.com/documentation/videos/preprocessing-data-in-azure-ml-studio/) video.</span><span class="sxs-lookup"><span data-stu-id="57f54-112">For an example of data exploration and pre-processing done inside Azure Machine Learning studio, see the [Pre-processing data in Azure Machine Learning Studio](https://azure.microsoft.com/documentation/videos/preprocessing-data-in-azure-ml-studio/) video.</span></span>

## <a name="why-pre-process-and-clean-data"></a><span data-ttu-id="57f54-113">Why pre-process and clean data?</span><span class="sxs-lookup"><span data-stu-id="57f54-113">Why pre-process and clean data?</span></span>
<span data-ttu-id="57f54-114">Real world data is gathered from various sources and processes and it may contain irregularities or corrupt data compromising the quality of the dataset.</span><span class="sxs-lookup"><span data-stu-id="57f54-114">Real world data is gathered from various sources and processes and it may contain irregularities or corrupt data compromising the quality of the dataset.</span></span> <span data-ttu-id="57f54-115">The typical data quality issues that arise are:</span><span class="sxs-lookup"><span data-stu-id="57f54-115">The typical data quality issues that arise are:</span></span>

* <span data-ttu-id="57f54-116">**Incomplete**: Data lacks attributes or containing missing values.</span><span class="sxs-lookup"><span data-stu-id="57f54-116">**Incomplete**: Data lacks attributes or containing missing values.</span></span>
* <span data-ttu-id="57f54-117">**Noisy**: Data contains erroneous records or outliers.</span><span class="sxs-lookup"><span data-stu-id="57f54-117">**Noisy**: Data contains erroneous records or outliers.</span></span>
* <span data-ttu-id="57f54-118">**Inconsistent**: Data contains conflicting records or discrepancies.</span><span class="sxs-lookup"><span data-stu-id="57f54-118">**Inconsistent**: Data contains conflicting records or discrepancies.</span></span>

<span data-ttu-id="57f54-119">Quality data is a prerequisite for quality predictive models.</span><span class="sxs-lookup"><span data-stu-id="57f54-119">Quality data is a prerequisite for quality predictive models.</span></span> <span data-ttu-id="57f54-120">To avoid "garbage in, garbage out" and improve data quality and therefore model performance, it is imperative to conduct a data health screen to spot data issues early and decide on the corresponding data processing and cleaning steps.</span><span class="sxs-lookup"><span data-stu-id="57f54-120">To avoid "garbage in, garbage out" and improve data quality and therefore model performance, it is imperative to conduct a data health screen to spot data issues early and decide on the corresponding data processing and cleaning steps.</span></span>

## <a name="what-are-some-typical-data-health-screens-that-are-employed"></a><span data-ttu-id="57f54-121">What are some typical data health screens that are employed?</span><span class="sxs-lookup"><span data-stu-id="57f54-121">What are some typical data health screens that are employed?</span></span>
<span data-ttu-id="57f54-122">We can check the general quality of data by checking:</span><span class="sxs-lookup"><span data-stu-id="57f54-122">We can check the general quality of data by checking:</span></span>

* <span data-ttu-id="57f54-123">The number of **records**.</span><span class="sxs-lookup"><span data-stu-id="57f54-123">The number of **records**.</span></span>
* <span data-ttu-id="57f54-124">The number of **attributes** (or **features**).</span><span class="sxs-lookup"><span data-stu-id="57f54-124">The number of **attributes** (or **features**).</span></span>
* <span data-ttu-id="57f54-125">The attribute **data types** (nominal, ordinal, or continuous).</span><span class="sxs-lookup"><span data-stu-id="57f54-125">The attribute **data types** (nominal, ordinal, or continuous).</span></span>
* <span data-ttu-id="57f54-126">The number of **missing values**.</span><span class="sxs-lookup"><span data-stu-id="57f54-126">The number of **missing values**.</span></span>
* <span data-ttu-id="57f54-127">**Well-formedness** of the data.</span><span class="sxs-lookup"><span data-stu-id="57f54-127">**Well-formedness** of the data.</span></span>
  * <span data-ttu-id="57f54-128">If the data is in TSV or CSV, check that the column separators and line separators always correctly separate columns and lines.</span><span class="sxs-lookup"><span data-stu-id="57f54-128">If the data is in TSV or CSV, check that the column separators and line separators always correctly separate columns and lines.</span></span>
  * <span data-ttu-id="57f54-129">If the data is in HTML or XML format, check whether the data is well formed based on their respective standards.</span><span class="sxs-lookup"><span data-stu-id="57f54-129">If the data is in HTML or XML format, check whether the data is well formed based on their respective standards.</span></span>
  * <span data-ttu-id="57f54-130">Parsing may also be necessary in order to extract structured information from semi-structured or unstructured data.</span><span class="sxs-lookup"><span data-stu-id="57f54-130">Parsing may also be necessary in order to extract structured information from semi-structured or unstructured data.</span></span>
* <span data-ttu-id="57f54-131">**Inconsistent data records**.</span><span class="sxs-lookup"><span data-stu-id="57f54-131">**Inconsistent data records**.</span></span> <span data-ttu-id="57f54-132">Check the range of values are allowed.</span><span class="sxs-lookup"><span data-stu-id="57f54-132">Check the range of values are allowed.</span></span> <span data-ttu-id="57f54-133">e.g. If the data contains student GPA, check if the GPA is in the designated range, say 0~4.</span><span class="sxs-lookup"><span data-stu-id="57f54-133">e.g. If the data contains student GPA, check if the GPA is in the designated range, say 0~4.</span></span>

<span data-ttu-id="57f54-134">When you find issues with data, **processing steps** are necessary which often involves cleaning missing values, data normalization, discretization, text processing to remove and/or replace embedded characters which may affect data alignment, mixed data types in common fields, and others.</span><span class="sxs-lookup"><span data-stu-id="57f54-134">When you find issues with data, **processing steps** are necessary which often involves cleaning missing values, data normalization, discretization, text processing to remove and/or replace embedded characters which may affect data alignment, mixed data types in common fields, and others.</span></span>

<span data-ttu-id="57f54-135">**Azure Machine Learning consumes well-formed tabular data**.</span><span class="sxs-lookup"><span data-stu-id="57f54-135">**Azure Machine Learning consumes well-formed tabular data**.</span></span>  <span data-ttu-id="57f54-136">If the data is already in tabular form, data pre-processing can be performed directly with Azure Machine Learning in the Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="57f54-136">If the data is already in tabular form, data pre-processing can be performed directly with Azure Machine Learning in the Machine Learning Studio.</span></span>  <span data-ttu-id="57f54-137">If data is not in tabular form, say it is in XML, parsing may be required in order to convert the data to tabular form.</span><span class="sxs-lookup"><span data-stu-id="57f54-137">If data is not in tabular form, say it is in XML, parsing may be required in order to convert the data to tabular form.</span></span>  

## <a name="what-are-some-of-the-major-tasks-in-data-pre-processing"></a><span data-ttu-id="57f54-138">What are some of the major tasks in data pre-processing?</span><span class="sxs-lookup"><span data-stu-id="57f54-138">What are some of the major tasks in data pre-processing?</span></span>
* <span data-ttu-id="57f54-139">**Data cleaning**:  Fill in or missing values, detect and remove noisy data and outliers.</span><span class="sxs-lookup"><span data-stu-id="57f54-139">**Data cleaning**:  Fill in or missing values, detect and remove noisy data and outliers.</span></span>
* <span data-ttu-id="57f54-140">**Data transformation**:  Normalize data to reduce dimensions and noise.</span><span class="sxs-lookup"><span data-stu-id="57f54-140">**Data transformation**:  Normalize data to reduce dimensions and noise.</span></span>
* <span data-ttu-id="57f54-141">**Data reduction**:  Sample data records or attributes for easier data handling.</span><span class="sxs-lookup"><span data-stu-id="57f54-141">**Data reduction**:  Sample data records or attributes for easier data handling.</span></span>
* <span data-ttu-id="57f54-142">**Data discretization**:  Convert continuous attributes to categorical attributes for ease of use with certain machine learning methods.</span><span class="sxs-lookup"><span data-stu-id="57f54-142">**Data discretization**:  Convert continuous attributes to categorical attributes for ease of use with certain machine learning methods.</span></span>
* <span data-ttu-id="57f54-143">**Text cleaning**: remove embedded characters which may cause data misalignment, for e.g., embedded tabs in a tab-separated data file, embedded new lines which may break records, etc.</span><span class="sxs-lookup"><span data-stu-id="57f54-143">**Text cleaning**: remove embedded characters which may cause data misalignment, for e.g., embedded tabs in a tab-separated data file, embedded new lines which may break records, etc.</span></span>

<span data-ttu-id="57f54-144">The sections below detail some of these data processing steps.</span><span class="sxs-lookup"><span data-stu-id="57f54-144">The sections below detail some of these data processing steps.</span></span>

## <a name="how-to-deal-with-missing-values"></a><span data-ttu-id="57f54-145">How to deal with missing values?</span><span class="sxs-lookup"><span data-stu-id="57f54-145">How to deal with missing values?</span></span>
<span data-ttu-id="57f54-146">To deal with missing values, it is best to first identify the reason for the missing values to better handle the problem.</span><span class="sxs-lookup"><span data-stu-id="57f54-146">To deal with missing values, it is best to first identify the reason for the missing values to better handle the problem.</span></span> <span data-ttu-id="57f54-147">Typical missing value handling methods are:</span><span class="sxs-lookup"><span data-stu-id="57f54-147">Typical missing value handling methods are:</span></span>

* <span data-ttu-id="57f54-148">**Deletion**: Remove records with missing values</span><span class="sxs-lookup"><span data-stu-id="57f54-148">**Deletion**: Remove records with missing values</span></span>
* <span data-ttu-id="57f54-149">**Dummy substitution**: Replace missing values with a dummy value: e.g, *unknown* for categorical or 0 for numerical values.</span><span class="sxs-lookup"><span data-stu-id="57f54-149">**Dummy substitution**: Replace missing values with a dummy value: e.g, *unknown* for categorical or 0 for numerical values.</span></span>
* <span data-ttu-id="57f54-150">**Mean substitution**: If the missing data is numerical, replace the missing values with the mean.</span><span class="sxs-lookup"><span data-stu-id="57f54-150">**Mean substitution**: If the missing data is numerical, replace the missing values with the mean.</span></span>
* <span data-ttu-id="57f54-151">**Frequent substitution**: If the missing data is categorical, replace the missing values with the most frequent item</span><span class="sxs-lookup"><span data-stu-id="57f54-151">**Frequent substitution**: If the missing data is categorical, replace the missing values with the most frequent item</span></span>
* <span data-ttu-id="57f54-152">**Regression substitution**: Use a regression method to replace missing values with regressed values.</span><span class="sxs-lookup"><span data-stu-id="57f54-152">**Regression substitution**: Use a regression method to replace missing values with regressed values.</span></span>  

## <a name="how-to-normalize-data"></a><span data-ttu-id="57f54-153">How to normalize data?</span><span class="sxs-lookup"><span data-stu-id="57f54-153">How to normalize data?</span></span>
<span data-ttu-id="57f54-154">Data normalization re-scales numerical values to a specified range.</span><span class="sxs-lookup"><span data-stu-id="57f54-154">Data normalization re-scales numerical values to a specified range.</span></span> <span data-ttu-id="57f54-155">Popular data normalization methods include:</span><span class="sxs-lookup"><span data-stu-id="57f54-155">Popular data normalization methods include:</span></span>

* <span data-ttu-id="57f54-156">**Min-Max Normalization**: Linearly transform the data to a range, say between 0 and 1, where the min value is scaled to 0 and max value to 1.</span><span class="sxs-lookup"><span data-stu-id="57f54-156">**Min-Max Normalization**: Linearly transform the data to a range, say between 0 and 1, where the min value is scaled to 0 and max value to 1.</span></span>
* <span data-ttu-id="57f54-157">**Z-score Normalization**: Scale data based on mean and standard deviation: divide the difference between the data and the mean by the standard deviation.</span><span class="sxs-lookup"><span data-stu-id="57f54-157">**Z-score Normalization**: Scale data based on mean and standard deviation: divide the difference between the data and the mean by the standard deviation.</span></span>
* <span data-ttu-id="57f54-158">**Decimal scaling**: Scale the data by moving the decimal point of the attribute value.</span><span class="sxs-lookup"><span data-stu-id="57f54-158">**Decimal scaling**: Scale the data by moving the decimal point of the attribute value.</span></span>  

## <a name="how-to-discretize-data"></a><span data-ttu-id="57f54-159">How to discretize data?</span><span class="sxs-lookup"><span data-stu-id="57f54-159">How to discretize data?</span></span>
<span data-ttu-id="57f54-160">Data can be discretized by converting continuous values to nominal attributes or intervals.</span><span class="sxs-lookup"><span data-stu-id="57f54-160">Data can be discretized by converting continuous values to nominal attributes or intervals.</span></span> <span data-ttu-id="57f54-161">Some ways of doing this are:</span><span class="sxs-lookup"><span data-stu-id="57f54-161">Some ways of doing this are:</span></span>

* <span data-ttu-id="57f54-162">**Equal-Width Binning**: Divide the range of all possible values of an attribute into N groups of the same size, and assign the values that fall in a bin with the bin number.</span><span class="sxs-lookup"><span data-stu-id="57f54-162">**Equal-Width Binning**: Divide the range of all possible values of an attribute into N groups of the same size, and assign the values that fall in a bin with the bin number.</span></span>
* <span data-ttu-id="57f54-163">**Equal-Height Binning**: Divide the range of all possible values of an attribute into N groups, each containing the same number of instances, then assign the values that fall in a bin with the bin number.</span><span class="sxs-lookup"><span data-stu-id="57f54-163">**Equal-Height Binning**: Divide the range of all possible values of an attribute into N groups, each containing the same number of instances, then assign the values that fall in a bin with the bin number.</span></span>  

## <a name="how-to-reduce-data"></a><span data-ttu-id="57f54-164">How to reduce data?</span><span class="sxs-lookup"><span data-stu-id="57f54-164">How to reduce data?</span></span>
<span data-ttu-id="57f54-165">There are various methods to reduce data size for easier data handling.</span><span class="sxs-lookup"><span data-stu-id="57f54-165">There are various methods to reduce data size for easier data handling.</span></span> <span data-ttu-id="57f54-166">Depending on data size and the domain, the following methods can be applied:</span><span class="sxs-lookup"><span data-stu-id="57f54-166">Depending on data size and the domain, the following methods can be applied:</span></span>

* <span data-ttu-id="57f54-167">**Record Sampling**: Sample the data records and only choose the representative subset from the data.</span><span class="sxs-lookup"><span data-stu-id="57f54-167">**Record Sampling**: Sample the data records and only choose the representative subset from the data.</span></span>
* <span data-ttu-id="57f54-168">**Attribute Sampling**: Select only a subset of the most important attributes from the data.</span><span class="sxs-lookup"><span data-stu-id="57f54-168">**Attribute Sampling**: Select only a subset of the most important attributes from the data.</span></span>  
* <span data-ttu-id="57f54-169">**Aggregation**: Divide the data into groups and store the numbers for each group.</span><span class="sxs-lookup"><span data-stu-id="57f54-169">**Aggregation**: Divide the data into groups and store the numbers for each group.</span></span> <span data-ttu-id="57f54-170">For example, the daily revenue numbers of a restaurant chain over the past 20 years can be aggregated to monthly revenue to reduce the size of the data.</span><span class="sxs-lookup"><span data-stu-id="57f54-170">For example, the daily revenue numbers of a restaurant chain over the past 20 years can be aggregated to monthly revenue to reduce the size of the data.</span></span>  

## <a name="how-to-clean-text-data"></a><span data-ttu-id="57f54-171">How to clean text data?</span><span class="sxs-lookup"><span data-stu-id="57f54-171">How to clean text data?</span></span>
<span data-ttu-id="57f54-172">**Text fields in tabular data** may include characters which affect columns alignment and/or record boundaries.</span><span class="sxs-lookup"><span data-stu-id="57f54-172">**Text fields in tabular data** may include characters which affect columns alignment and/or record boundaries.</span></span> <span data-ttu-id="57f54-173">For e.g., embedded tabs in a tab-separated file cause column misalignment, and embedded new line characters break record lines.</span><span class="sxs-lookup"><span data-stu-id="57f54-173">For e.g., embedded tabs in a tab-separated file cause column misalignment, and embedded new line characters break record lines.</span></span> <span data-ttu-id="57f54-174">Improper text encoding handling while writing/reading text leads to information loss, inadvertent introduction of unreadable characters, e.g., nulls, and may also affect text parsing.</span><span class="sxs-lookup"><span data-stu-id="57f54-174">Improper text encoding handling while writing/reading text leads to information loss, inadvertent introduction of unreadable characters, e.g., nulls, and may also affect text parsing.</span></span> <span data-ttu-id="57f54-175">Careful parsing and editing may be required in order to clean text fields for proper alignment and/or to extract structured data from unstructured or semi-structured text data.</span><span class="sxs-lookup"><span data-stu-id="57f54-175">Careful parsing and editing may be required in order to clean text fields for proper alignment and/or to extract structured data from unstructured or semi-structured text data.</span></span>

<span data-ttu-id="57f54-176">**Data exploration** offers an early view into the data.</span><span class="sxs-lookup"><span data-stu-id="57f54-176">**Data exploration** offers an early view into the data.</span></span> <span data-ttu-id="57f54-177">A number of data issues can be uncovered during this step and  corresponding methods can be applied to address those issues.</span><span class="sxs-lookup"><span data-stu-id="57f54-177">A number of data issues can be uncovered during this step and  corresponding methods can be applied to address those issues.</span></span>  <span data-ttu-id="57f54-178">It is important to ask questions such as what is the source of the issue and how the issue may have been introduced.</span><span class="sxs-lookup"><span data-stu-id="57f54-178">It is important to ask questions such as what is the source of the issue and how the issue may have been introduced.</span></span> <span data-ttu-id="57f54-179">This also helps you decide on the data processing steps that need to be taken to resolve them.</span><span class="sxs-lookup"><span data-stu-id="57f54-179">This also helps you decide on the data processing steps that need to be taken to resolve them.</span></span> <span data-ttu-id="57f54-180">The kind of insights one intends to derive from the data can also be used to prioritize the data processing effort.</span><span class="sxs-lookup"><span data-stu-id="57f54-180">The kind of insights one intends to derive from the data can also be used to prioritize the data processing effort.</span></span>

## <a name="references"></a><span data-ttu-id="57f54-181">References</span><span class="sxs-lookup"><span data-stu-id="57f54-181">References</span></span>
> <span data-ttu-id="57f54-182">*Data Mining: Concepts and Techniques*, Third Edition, Morgan Kaufmann, 2011, Jiawei Han, Micheline Kamber, and Jian Pei</span><span class="sxs-lookup"><span data-stu-id="57f54-182">*Data Mining: Concepts and Techniques*, Third Edition, Morgan Kaufmann, 2011, Jiawei Han, Micheline Kamber, and Jian Pei</span></span>
> 
> 

