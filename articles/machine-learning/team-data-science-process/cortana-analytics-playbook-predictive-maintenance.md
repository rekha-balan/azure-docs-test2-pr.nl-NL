---
title: Azure AI guide for predictive maintenance solutions | Microsoft Docs
description: A comprehensive description of the data science that powers predictive maintenance solutions in multiple vertical industries.
services: machine-learning
author: fboylu
manager: cgronlun
editor: ''
ms.assetid: 2e8b66db-91eb-432b-b305-6abccca25620
ms.service: machine-learning
ms.component: team-data-science-process
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/11/2018
ms.author: fboylu
ms.openlocfilehash: 816ba560ccb9b06414dff8ffaea054e88d216b10
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44864638"
---
# <a name="azure-ai-guide-for-predictive-maintenance-solutions"></a><span data-ttu-id="92892-103">Azure AI guide for predictive maintenance solutions</span><span class="sxs-lookup"><span data-stu-id="92892-103">Azure AI guide for predictive maintenance solutions</span></span>

## <a name="summary"></a><span data-ttu-id="92892-104">Summary</span><span class="sxs-lookup"><span data-stu-id="92892-104">Summary</span></span>

<span data-ttu-id="92892-105">Predictive maintenance (**PdM**) is a popular application of predictive analytics that can help businesses in several industries achieve high asset utilization and savings in operational costs.</span><span class="sxs-lookup"><span data-stu-id="92892-105">Predictive maintenance (**PdM**) is a popular application of predictive analytics that can help businesses in several industries achieve high asset utilization and savings in operational costs.</span></span> <span data-ttu-id="92892-106">This guide brings together the business and analytical guidelines and best practices to successfully develop and deploy PdM solutions using the [Microsoft Azure AI platform](https://azure.microsoft.com/overview/ai-platform) technology.</span><span class="sxs-lookup"><span data-stu-id="92892-106">This guide brings together the business and analytical guidelines and best practices to successfully develop and deploy PdM solutions using the [Microsoft Azure AI platform](https://azure.microsoft.com/overview/ai-platform) technology.</span></span>

<span data-ttu-id="92892-107">For starters, this guide introduces industry-specific business scenarios and the process of qualifying these scenarios for PdM.</span><span class="sxs-lookup"><span data-stu-id="92892-107">For starters, this guide introduces industry-specific business scenarios and the process of qualifying these scenarios for PdM.</span></span> <span data-ttu-id="92892-108">The data requirements and modeling techniques to build PdM solutions are also provided.</span><span class="sxs-lookup"><span data-stu-id="92892-108">The data requirements and modeling techniques to build PdM solutions are also provided.</span></span> <span data-ttu-id="92892-109">The main content of the guide is on the data science process - including the steps of data preparation, feature engineering, model creation, and model operationalization.</span><span class="sxs-lookup"><span data-stu-id="92892-109">The main content of the guide is on the data science process - including the steps of data preparation, feature engineering, model creation, and model operationalization.</span></span> <span data-ttu-id="92892-110">To complement these key concepts, this guide lists a set of solution templates to help accelerate PdM application development.</span><span class="sxs-lookup"><span data-stu-id="92892-110">To complement these key concepts, this guide lists a set of solution templates to help accelerate PdM application development.</span></span> <span data-ttu-id="92892-111">The guide also points to useful training resources for the practitioner to learn more about the AI behind the data science.</span><span class="sxs-lookup"><span data-stu-id="92892-111">The guide also points to useful training resources for the practitioner to learn more about the AI behind the data science.</span></span> 

### <a name="data-science-guide-overview-and-target-audience"></a><span data-ttu-id="92892-112">Data Science guide overview and target audience</span><span class="sxs-lookup"><span data-stu-id="92892-112">Data Science guide overview and target audience</span></span>
<span data-ttu-id="92892-113">The first half of this guide describes typical business problems, the benefits of implementing PdM to address these problems, and lists some common use cases.</span><span class="sxs-lookup"><span data-stu-id="92892-113">The first half of this guide describes typical business problems, the benefits of implementing PdM to address these problems, and lists some common use cases.</span></span> <span data-ttu-id="92892-114">Business decision makers (BDMs) will benefit from this content.</span><span class="sxs-lookup"><span data-stu-id="92892-114">Business decision makers (BDMs) will benefit from this content.</span></span> <span data-ttu-id="92892-115">The second half explains the data science behind PdM, and provides a list of PdM solutions built using the principles outlined in this guide.</span><span class="sxs-lookup"><span data-stu-id="92892-115">The second half explains the data science behind PdM, and provides a list of PdM solutions built using the principles outlined in this guide.</span></span> <span data-ttu-id="92892-116">It also provides learning paths and pointers to training material.</span><span class="sxs-lookup"><span data-stu-id="92892-116">It also provides learning paths and pointers to training material.</span></span> <span data-ttu-id="92892-117">Technical decision makers (TDMs) will find this content useful.</span><span class="sxs-lookup"><span data-stu-id="92892-117">Technical decision makers (TDMs) will find this content useful.</span></span>

| <span data-ttu-id="92892-118">Start with ...</span><span class="sxs-lookup"><span data-stu-id="92892-118">Start with ...</span></span> | <span data-ttu-id="92892-119">If you are ...</span><span class="sxs-lookup"><span data-stu-id="92892-119">If you are ...</span></span> |
|:---------------|:---------------|
| [<span data-ttu-id="92892-120">Business case for predictive maintenance</span><span class="sxs-lookup"><span data-stu-id="92892-120">Business case for predictive maintenance</span></span>](#Business-case-for-predictive-maintenance) |<span data-ttu-id="92892-121">a business decision maker (BDM) looking to reduce downtime and operational costs, and improve utilization of  equipment</span><span class="sxs-lookup"><span data-stu-id="92892-121">a business decision maker (BDM) looking to reduce downtime and operational costs, and improve utilization of  equipment</span></span> |
| [<span data-ttu-id="92892-122">Data Science for predictive maintenance</span><span class="sxs-lookup"><span data-stu-id="92892-122">Data Science for predictive maintenance</span></span>](#Data-Science-for-predictive-maintenance) |<span data-ttu-id="92892-123">a technical decision maker (TDM) evaluating PdM technologies to understand the unique data processing and AI requirements for predictive maintenance</span><span class="sxs-lookup"><span data-stu-id="92892-123">a technical decision maker (TDM) evaluating PdM technologies to understand the unique data processing and AI requirements for predictive maintenance</span></span> |
| [<span data-ttu-id="92892-124">Solution templates for predictive maintenance</span><span class="sxs-lookup"><span data-stu-id="92892-124">Solution templates for predictive maintenance</span></span>](#Solution-templates-for-predictive-maintenance)|<span data-ttu-id="92892-125">a software architect or AI Developer looking to quickly stand up a demo or a proof-of-concept</span><span class="sxs-lookup"><span data-stu-id="92892-125">a software architect or AI Developer looking to quickly stand up a demo or a proof-of-concept</span></span> |
| [<span data-ttu-id="92892-126">Training resources for predictive maintenance</span><span class="sxs-lookup"><span data-stu-id="92892-126">Training resources for predictive maintenance</span></span>](#Training-resources-for-predictive-maintenance) | <span data-ttu-id="92892-127">any or all of the above, and want to learn the foundational concepts behind the data science, tools, and techniques.</span><span class="sxs-lookup"><span data-stu-id="92892-127">any or all of the above, and want to learn the foundational concepts behind the data science, tools, and techniques.</span></span>

### <a name="prerequisite-knowledge"></a><span data-ttu-id="92892-128">Prerequisite knowledge</span><span class="sxs-lookup"><span data-stu-id="92892-128">Prerequisite knowledge</span></span>
<span data-ttu-id="92892-129">The BDM content does not expect the reader to have any prior data science knowledge.</span><span class="sxs-lookup"><span data-stu-id="92892-129">The BDM content does not expect the reader to have any prior data science knowledge.</span></span> <span data-ttu-id="92892-130">For the TDM content, basic knowledge of statistics and data science is helpful.</span><span class="sxs-lookup"><span data-stu-id="92892-130">For the TDM content, basic knowledge of statistics and data science is helpful.</span></span> <span data-ttu-id="92892-131">Knowledge of Azure Data and AI services, Python, R, XML, and JSON is recommended.</span><span class="sxs-lookup"><span data-stu-id="92892-131">Knowledge of Azure Data and AI services, Python, R, XML, and JSON is recommended.</span></span> <span data-ttu-id="92892-132">AI techniques are implemented in Python and R packages.</span><span class="sxs-lookup"><span data-stu-id="92892-132">AI techniques are implemented in Python and R packages.</span></span> <span data-ttu-id="92892-133">Solution templates are implemented using Azure services, development tools, and SDKs.</span><span class="sxs-lookup"><span data-stu-id="92892-133">Solution templates are implemented using Azure services, development tools, and SDKs.</span></span>

## <a name="business-case-for-predictive-maintenance"></a><span data-ttu-id="92892-134">Business case for predictive maintenance</span><span class="sxs-lookup"><span data-stu-id="92892-134">Business case for predictive maintenance</span></span>

<span data-ttu-id="92892-135">Businesses require critical equipment to be running at peak efficiency and utilization to realize their return on capital investments.</span><span class="sxs-lookup"><span data-stu-id="92892-135">Businesses require critical equipment to be running at peak efficiency and utilization to realize their return on capital investments.</span></span> <span data-ttu-id="92892-136">These assets could range from aircraft engines, turbines, elevators, or industrial chillers - that cost millions - down to everyday appliances like photocopiers, coffee machines, or water coolers.</span><span class="sxs-lookup"><span data-stu-id="92892-136">These assets could range from aircraft engines, turbines, elevators, or industrial chillers - that cost millions - down to everyday appliances like photocopiers, coffee machines, or water coolers.</span></span>
- <span data-ttu-id="92892-137">By default, most businesses rely on _corrective maintenance_, where parts are replaced as and when they fail.</span><span class="sxs-lookup"><span data-stu-id="92892-137">By default, most businesses rely on _corrective maintenance_, where parts are replaced as and when they fail.</span></span> <span data-ttu-id="92892-138">Corrective maintenance ensures parts are used completely (therefore not wasting component life), but costs the business in downtime, labor, and unscheduled maintenance requirements (off hours, or inconvenient locations).</span><span class="sxs-lookup"><span data-stu-id="92892-138">Corrective maintenance ensures parts are used completely (therefore not wasting component life), but costs the business in downtime, labor, and unscheduled maintenance requirements (off hours, or inconvenient locations).</span></span>
- <span data-ttu-id="92892-139">At the next level, businesses practice  _preventive maintenance_, where they determine the useful lifespan for a part, and maintain or replace it before a failure.</span><span class="sxs-lookup"><span data-stu-id="92892-139">At the next level, businesses practice  _preventive maintenance_, where they determine the useful lifespan for a part, and maintain or replace it before a failure.</span></span> <span data-ttu-id="92892-140">Preventive maintenance avoids unscheduled and catastrophic failures.</span><span class="sxs-lookup"><span data-stu-id="92892-140">Preventive maintenance avoids unscheduled and catastrophic failures.</span></span> <span data-ttu-id="92892-141">But the high costs of scheduled downtime, under-utilization of the component before its full lifetime of use, and labor still remain.</span><span class="sxs-lookup"><span data-stu-id="92892-141">But the high costs of scheduled downtime, under-utilization of the component before its full lifetime of use, and labor still remain.</span></span>
- <span data-ttu-id="92892-142">The goal of _predictive maintenance_ is to optimize the balance between corrective and preventative maintenance, by enabling _just in time_ replacement of components.</span><span class="sxs-lookup"><span data-stu-id="92892-142">The goal of _predictive maintenance_ is to optimize the balance between corrective and preventative maintenance, by enabling _just in time_ replacement of components.</span></span> <span data-ttu-id="92892-143">This approach only replaces those components when they are close to a failure.</span><span class="sxs-lookup"><span data-stu-id="92892-143">This approach only replaces those components when they are close to a failure.</span></span> <span data-ttu-id="92892-144">By extending component lifespans (compared to preventive maintenance) and reducing unscheduled maintenance and labor costs (over corrective maintenance), businesses can gain cost savings and competitive advantages.</span><span class="sxs-lookup"><span data-stu-id="92892-144">By extending component lifespans (compared to preventive maintenance) and reducing unscheduled maintenance and labor costs (over corrective maintenance), businesses can gain cost savings and competitive advantages.</span></span>

## <a name="business-problems-in-pdm"></a><span data-ttu-id="92892-145">Business problems in PdM</span><span class="sxs-lookup"><span data-stu-id="92892-145">Business problems in PdM</span></span>
<span data-ttu-id="92892-146">Businesses face high operational risk due to unexpected failures and have limited insight into the root cause of problems in complex systems.</span><span class="sxs-lookup"><span data-stu-id="92892-146">Businesses face high operational risk due to unexpected failures and have limited insight into the root cause of problems in complex systems.</span></span> <span data-ttu-id="92892-147">Some of the key business questions are:</span><span class="sxs-lookup"><span data-stu-id="92892-147">Some of the key business questions are:</span></span>

- <span data-ttu-id="92892-148">Detect anomalies in equipment or system performance or functionality.</span><span class="sxs-lookup"><span data-stu-id="92892-148">Detect anomalies in equipment or system performance or functionality.</span></span>
- <span data-ttu-id="92892-149">Predict whether an asset may fail in the near future.</span><span class="sxs-lookup"><span data-stu-id="92892-149">Predict whether an asset may fail in the near future.</span></span>
- <span data-ttu-id="92892-150">Estimate the remaining useful life of an asset.</span><span class="sxs-lookup"><span data-stu-id="92892-150">Estimate the remaining useful life of an asset.</span></span>
- <span data-ttu-id="92892-151">Identify the main causes of failure of an asset.</span><span class="sxs-lookup"><span data-stu-id="92892-151">Identify the main causes of failure of an asset.</span></span>
- <span data-ttu-id="92892-152">Identify what maintenance actions need to be done, by when, on an asset.</span><span class="sxs-lookup"><span data-stu-id="92892-152">Identify what maintenance actions need to be done, by when, on an asset.</span></span>

<span data-ttu-id="92892-153">Typical goal statements from PdM are:</span><span class="sxs-lookup"><span data-stu-id="92892-153">Typical goal statements from PdM are:</span></span>

- <span data-ttu-id="92892-154">Reduce operational risk of mission critical equipment.</span><span class="sxs-lookup"><span data-stu-id="92892-154">Reduce operational risk of mission critical equipment.</span></span>
- <span data-ttu-id="92892-155">Increase rate of return on assets by predicting  failures before they occur.</span><span class="sxs-lookup"><span data-stu-id="92892-155">Increase rate of return on assets by predicting  failures before they occur.</span></span>
- <span data-ttu-id="92892-156">Control cost of maintenance by enabling just-in-time maintenance operations.</span><span class="sxs-lookup"><span data-stu-id="92892-156">Control cost of maintenance by enabling just-in-time maintenance operations.</span></span>
- <span data-ttu-id="92892-157">Lower customer attrition, improve brand image, and lost sales.</span><span class="sxs-lookup"><span data-stu-id="92892-157">Lower customer attrition, improve brand image, and lost sales.</span></span>
- <span data-ttu-id="92892-158">Lower inventory costs by reducing inventory levels by predicting the reorder point.</span><span class="sxs-lookup"><span data-stu-id="92892-158">Lower inventory costs by reducing inventory levels by predicting the reorder point.</span></span>
- <span data-ttu-id="92892-159">Discover patterns connected to various maintenance problems.</span><span class="sxs-lookup"><span data-stu-id="92892-159">Discover patterns connected to various maintenance problems.</span></span>
- <span data-ttu-id="92892-160">Provide KPIs (key performance indicators) such as health scores for asset conditions.</span><span class="sxs-lookup"><span data-stu-id="92892-160">Provide KPIs (key performance indicators) such as health scores for asset conditions.</span></span>
- <span data-ttu-id="92892-161">Estimate remaining lifespan of assets.</span><span class="sxs-lookup"><span data-stu-id="92892-161">Estimate remaining lifespan of assets.</span></span>
- <span data-ttu-id="92892-162">Recommend timely maintenance activities.</span><span class="sxs-lookup"><span data-stu-id="92892-162">Recommend timely maintenance activities.</span></span>
- <span data-ttu-id="92892-163">Enable just in time inventory by estimating order dates for replacement of parts.</span><span class="sxs-lookup"><span data-stu-id="92892-163">Enable just in time inventory by estimating order dates for replacement of parts.</span></span>

<span data-ttu-id="92892-164">These goal statements are the starting points for:</span><span class="sxs-lookup"><span data-stu-id="92892-164">These goal statements are the starting points for:</span></span>

- <span data-ttu-id="92892-165">_data scientists_ to analyze and solve specific predictive problems.</span><span class="sxs-lookup"><span data-stu-id="92892-165">_data scientists_ to analyze and solve specific predictive problems.</span></span>
- <span data-ttu-id="92892-166">_cloud architects and developers_ to put together an end to end solution.</span><span class="sxs-lookup"><span data-stu-id="92892-166">_cloud architects and developers_ to put together an end to end solution.</span></span>

## <a name="qualifying-problems-for-predictive-maintenance"></a><span data-ttu-id="92892-167">Qualifying problems for predictive maintenance</span><span class="sxs-lookup"><span data-stu-id="92892-167">Qualifying problems for predictive maintenance</span></span>
<span data-ttu-id="92892-168">It is important to emphasize that not all use cases or business problems can be effectively solved by PdM.</span><span class="sxs-lookup"><span data-stu-id="92892-168">It is important to emphasize that not all use cases or business problems can be effectively solved by PdM.</span></span> <span data-ttu-id="92892-169">There are three important qualifying criteria that need to be considered during problem selection:</span><span class="sxs-lookup"><span data-stu-id="92892-169">There are three important qualifying criteria that need to be considered during problem selection:</span></span>

- <span data-ttu-id="92892-170">The problem has to be predictive in nature; that is, there should be a target or an outcome to predict.</span><span class="sxs-lookup"><span data-stu-id="92892-170">The problem has to be predictive in nature; that is, there should be a target or an outcome to predict.</span></span> <span data-ttu-id="92892-171">The problem should also have a clear path of action to prevent failures when they are detected.</span><span class="sxs-lookup"><span data-stu-id="92892-171">The problem should also have a clear path of action to prevent failures when they are detected.</span></span>
- <span data-ttu-id="92892-172">The problem should have a record of the operational history of the equipment that contains _both good and bad outcomes_.</span><span class="sxs-lookup"><span data-stu-id="92892-172">The problem should have a record of the operational history of the equipment that contains _both good and bad outcomes_.</span></span> <span data-ttu-id="92892-173">The set of actions taken to mitigate bad outcomes should also be available as part of these records.</span><span class="sxs-lookup"><span data-stu-id="92892-173">The set of actions taken to mitigate bad outcomes should also be available as part of these records.</span></span> <span data-ttu-id="92892-174">Error reports, maintenance logs of performance degradation, repair, and replace logs are also important.</span><span class="sxs-lookup"><span data-stu-id="92892-174">Error reports, maintenance logs of performance degradation, repair, and replace logs are also important.</span></span> <span data-ttu-id="92892-175">In addition, repairs undertaken to improve them, and replacement records are also useful.</span><span class="sxs-lookup"><span data-stu-id="92892-175">In addition, repairs undertaken to improve them, and replacement records are also useful.</span></span>
- <span data-ttu-id="92892-176">The recorded history should be reflected in _relevant_ data that is of _sufficient_ enough quality to support the use case.</span><span class="sxs-lookup"><span data-stu-id="92892-176">The recorded history should be reflected in _relevant_ data that is of _sufficient_ enough quality to support the use case.</span></span> <span data-ttu-id="92892-177">For more information about data relevance and sufficiency, see [Data requirements for predictive maintenance](#Data-requirements-for-predictive-maintenance).</span><span class="sxs-lookup"><span data-stu-id="92892-177">For more information about data relevance and sufficiency, see [Data requirements for predictive maintenance](#Data-requirements-for-predictive-maintenance).</span></span>
- <span data-ttu-id="92892-178">Finally, the business should have domain experts who have a clear understanding of the problem.</span><span class="sxs-lookup"><span data-stu-id="92892-178">Finally, the business should have domain experts who have a clear understanding of the problem.</span></span> <span data-ttu-id="92892-179">They should be aware of the internal processes and practices to be able to help the analyst understand and interpret the data.</span><span class="sxs-lookup"><span data-stu-id="92892-179">They should be aware of the internal processes and practices to be able to help the analyst understand and interpret the data.</span></span> <span data-ttu-id="92892-180">They should also be able to make the necessary changes to existing business processes to help collect the right data for the problems, if needed.</span><span class="sxs-lookup"><span data-stu-id="92892-180">They should also be able to make the necessary changes to existing business processes to help collect the right data for the problems, if needed.</span></span>

## <a name="sample-pdm-use-cases"></a><span data-ttu-id="92892-181">Sample PdM use cases</span><span class="sxs-lookup"><span data-stu-id="92892-181">Sample PdM use cases</span></span>
<span data-ttu-id="92892-182">This section focuses on a collection of PdM use cases from several industries such as Aerospace, Utilities, and Transportation.</span><span class="sxs-lookup"><span data-stu-id="92892-182">This section focuses on a collection of PdM use cases from several industries such as Aerospace, Utilities, and Transportation.</span></span> <span data-ttu-id="92892-183">Each section starts with a business problem, and discusses the benefits of PdM, the relevant data surrounding the business problem, and finally the benefits of a PdM solution.</span><span class="sxs-lookup"><span data-stu-id="92892-183">Each section starts with a business problem, and discusses the benefits of PdM, the relevant data surrounding the business problem, and finally the benefits of a PdM solution.</span></span>

| <span data-ttu-id="92892-184">Business Problem</span><span class="sxs-lookup"><span data-stu-id="92892-184">Business Problem</span></span> | <span data-ttu-id="92892-185">Benefits from PdM</span><span class="sxs-lookup"><span data-stu-id="92892-185">Benefits from PdM</span></span> |
|:-----------------|-------------------|
|<span data-ttu-id="92892-186">**Aviation**</span><span class="sxs-lookup"><span data-stu-id="92892-186">**Aviation**</span></span>      |                   |
|<span data-ttu-id="92892-187">_Flight delay and cancellations_ due to mechanical problems.</span><span class="sxs-lookup"><span data-stu-id="92892-187">_Flight delay and cancellations_ due to mechanical problems.</span></span> <span data-ttu-id="92892-188">Failures that cannot be repaired in time may cause flights to be canceled, and disrupt scheduling and operations.</span><span class="sxs-lookup"><span data-stu-id="92892-188">Failures that cannot be repaired in time may cause flights to be canceled, and disrupt scheduling and operations.</span></span> |<span data-ttu-id="92892-189">PdM solutions can predict the probability of an aircraft being delayed or canceled due to mechanical failures.</span><span class="sxs-lookup"><span data-stu-id="92892-189">PdM solutions can predict the probability of an aircraft being delayed or canceled due to mechanical failures.</span></span>|
|<span data-ttu-id="92892-190">_Aircraft engine parts failure_: Aircraft engine part replacements are among the most common maintenance tasks within the airline industry.</span><span class="sxs-lookup"><span data-stu-id="92892-190">_Aircraft engine parts failure_: Aircraft engine part replacements are among the most common maintenance tasks within the airline industry.</span></span> <span data-ttu-id="92892-191">Maintenance solutions require careful management of component stock availability, delivery, and planning</span><span class="sxs-lookup"><span data-stu-id="92892-191">Maintenance solutions require careful management of component stock availability, delivery, and planning</span></span>|<span data-ttu-id="92892-192">Being able to gather intelligence on component reliability leads to substantial reduction on investment costs.</span><span class="sxs-lookup"><span data-stu-id="92892-192">Being able to gather intelligence on component reliability leads to substantial reduction on investment costs.</span></span>|
|<span data-ttu-id="92892-193">**Finance**</span><span class="sxs-lookup"><span data-stu-id="92892-193">**Finance**</span></span> |                         |
|<span data-ttu-id="92892-194">_ATM failure_ is a common problem within the banking industry.</span><span class="sxs-lookup"><span data-stu-id="92892-194">_ATM failure_ is a common problem within the banking industry.</span></span> <span data-ttu-id="92892-195">The problem here is to report the probability that an ATM cash withdrawal transaction gets interrupted due to a paper jam or part failure in the cash dispenser.</span><span class="sxs-lookup"><span data-stu-id="92892-195">The problem here is to report the probability that an ATM cash withdrawal transaction gets interrupted due to a paper jam or part failure in the cash dispenser.</span></span> <span data-ttu-id="92892-196">Based on predictions of transaction failures, ATMs can be serviced proactively to prevent failures from occurring.</span><span class="sxs-lookup"><span data-stu-id="92892-196">Based on predictions of transaction failures, ATMs can be serviced proactively to prevent failures from occurring.</span></span>| <span data-ttu-id="92892-197">Rather than allow the machine to fail midway through a transaction, the desirable alternative is to program the machine to deny service based on the prediction.</span><span class="sxs-lookup"><span data-stu-id="92892-197">Rather than allow the machine to fail midway through a transaction, the desirable alternative is to program the machine to deny service based on the prediction.</span></span>|
|<span data-ttu-id="92892-198">**Energy**</span><span class="sxs-lookup"><span data-stu-id="92892-198">**Energy**</span></span> |                          |
|<span data-ttu-id="92892-199">_Wind turbine failures_: Wind turbines are the main energy source in environmentally responsible countries, and involve high capital costs.</span><span class="sxs-lookup"><span data-stu-id="92892-199">_Wind turbine failures_: Wind turbines are the main energy source in environmentally responsible countries, and involve high capital costs.</span></span> <span data-ttu-id="92892-200">A key component in wind turbines is the generator motor.</span><span class="sxs-lookup"><span data-stu-id="92892-200">A key component in wind turbines is the generator motor.</span></span> <span data-ttu-id="92892-201">its failure renders the turbine ineffective.</span><span class="sxs-lookup"><span data-stu-id="92892-201">its failure renders the turbine ineffective.</span></span> <span data-ttu-id="92892-202">It is also highly expensive to fix.</span><span class="sxs-lookup"><span data-stu-id="92892-202">It is also highly expensive to fix.</span></span>|<span data-ttu-id="92892-203">Predicting KPIs such as MTTF (mean time to failure) can help the energy companies prevent turbine failures, and ensure minimal downtime.</span><span class="sxs-lookup"><span data-stu-id="92892-203">Predicting KPIs such as MTTF (mean time to failure) can help the energy companies prevent turbine failures, and ensure minimal downtime.</span></span> <span data-ttu-id="92892-204">Failure probabilities will inform technicians to monitor turbines that are likely to fail soon, and schedule time-based maintenance regimes.</span><span class="sxs-lookup"><span data-stu-id="92892-204">Failure probabilities will inform technicians to monitor turbines that are likely to fail soon, and schedule time-based maintenance regimes.</span></span> <span data-ttu-id="92892-205">Predictive models provide insights into different factors that contribute to the failure, which helps technicians better understand the root causes of problems.</span><span class="sxs-lookup"><span data-stu-id="92892-205">Predictive models provide insights into different factors that contribute to the failure, which helps technicians better understand the root causes of problems.</span></span>|
|<span data-ttu-id="92892-206">_Circuit breaker failures_: Distribution of electricity to homes and businesses requires power lines to be operational at all times to guarantee energy delivery.</span><span class="sxs-lookup"><span data-stu-id="92892-206">_Circuit breaker failures_: Distribution of electricity to homes and businesses requires power lines to be operational at all times to guarantee energy delivery.</span></span> <span data-ttu-id="92892-207">Circuit breakers help limit or avoid damage to power lines during overloading or adverse weather conditions.</span><span class="sxs-lookup"><span data-stu-id="92892-207">Circuit breakers help limit or avoid damage to power lines during overloading or adverse weather conditions.</span></span> <span data-ttu-id="92892-208">The business problem here is to predict circuit breaker failures.</span><span class="sxs-lookup"><span data-stu-id="92892-208">The business problem here is to predict circuit breaker failures.</span></span>| <span data-ttu-id="92892-209">PdM solutions help reduce repair costs and increase the lifespan of equipment such as circuit breakers.</span><span class="sxs-lookup"><span data-stu-id="92892-209">PdM solutions help reduce repair costs and increase the lifespan of equipment such as circuit breakers.</span></span> <span data-ttu-id="92892-210">They help improve the quality of the power network by reducing unexpected failures and service interruptions.</span><span class="sxs-lookup"><span data-stu-id="92892-210">They help improve the quality of the power network by reducing unexpected failures and service interruptions.</span></span>|
|<span data-ttu-id="92892-211">**Transportation and logistics**</span><span class="sxs-lookup"><span data-stu-id="92892-211">**Transportation and logistics**</span></span> |    |
|<span data-ttu-id="92892-212">_Elevator door failures_: Large elevator companies provide a full stack service for millions of functional elevators around the world.</span><span class="sxs-lookup"><span data-stu-id="92892-212">_Elevator door failures_: Large elevator companies provide a full stack service for millions of functional elevators around the world.</span></span> <span data-ttu-id="92892-213">Elevator safety, reliability, and uptime are the main concerns for their customers.</span><span class="sxs-lookup"><span data-stu-id="92892-213">Elevator safety, reliability, and uptime are the main concerns for their customers.</span></span> <span data-ttu-id="92892-214">These companies track these and various other attributes via sensors, to help them with corrective and preventive maintenance.</span><span class="sxs-lookup"><span data-stu-id="92892-214">These companies track these and various other attributes via sensors, to help them with corrective and preventive maintenance.</span></span> <span data-ttu-id="92892-215">In an elevator, the most prominent customer problem is malfunctioning elevator doors.</span><span class="sxs-lookup"><span data-stu-id="92892-215">In an elevator, the most prominent customer problem is malfunctioning elevator doors.</span></span> <span data-ttu-id="92892-216">The business problem in this case is to provide a knowledge base predictive application that predicts the potential causes of door failures.</span><span class="sxs-lookup"><span data-stu-id="92892-216">The business problem in this case is to provide a knowledge base predictive application that predicts the potential causes of door failures.</span></span>| <span data-ttu-id="92892-217">Elevators are capital investments for potentially a 20-30 year lifespan.</span><span class="sxs-lookup"><span data-stu-id="92892-217">Elevators are capital investments for potentially a 20-30 year lifespan.</span></span> <span data-ttu-id="92892-218">So each potential sale can be highly competitive; hence expectations for service and support are high.</span><span class="sxs-lookup"><span data-stu-id="92892-218">So each potential sale can be highly competitive; hence expectations for service and support are high.</span></span> <span data-ttu-id="92892-219">Predictive maintenance can provide these companies with an advantage over their competitors in their product and service offerings.</span><span class="sxs-lookup"><span data-stu-id="92892-219">Predictive maintenance can provide these companies with an advantage over their competitors in their product and service offerings.</span></span>|
|<span data-ttu-id="92892-220">_Wheel failures_: Wheel failures account for half of all train derailments and cost billions to the global rail industry.</span><span class="sxs-lookup"><span data-stu-id="92892-220">_Wheel failures_: Wheel failures account for half of all train derailments and cost billions to the global rail industry.</span></span> <span data-ttu-id="92892-221">Wheel failures also cause rails to deteriorate, sometimes causing the rail to break prematurely.</span><span class="sxs-lookup"><span data-stu-id="92892-221">Wheel failures also cause rails to deteriorate, sometimes causing the rail to break prematurely.</span></span> <span data-ttu-id="92892-222">Rail breaks lead to catastrophic events such as derailments.</span><span class="sxs-lookup"><span data-stu-id="92892-222">Rail breaks lead to catastrophic events such as derailments.</span></span> <span data-ttu-id="92892-223">To avoid such instances, railways monitor the performance of wheels and replace them in a preventive manner.</span><span class="sxs-lookup"><span data-stu-id="92892-223">To avoid such instances, railways monitor the performance of wheels and replace them in a preventive manner.</span></span> <span data-ttu-id="92892-224">The business problem here is the prediction of wheel failures.</span><span class="sxs-lookup"><span data-stu-id="92892-224">The business problem here is the prediction of wheel failures.</span></span>| <span data-ttu-id="92892-225">Predictive maintenance of wheels will help with just-in-time replacement of wheels</span><span class="sxs-lookup"><span data-stu-id="92892-225">Predictive maintenance of wheels will help with just-in-time replacement of wheels</span></span> |
|<span data-ttu-id="92892-226">_Subway train door failures_: A major reason for delays in subway operations is door failures of train cars.</span><span class="sxs-lookup"><span data-stu-id="92892-226">_Subway train door failures_: A major reason for delays in subway operations is door failures of train cars.</span></span> <span data-ttu-id="92892-227">The business problem here is to predict train door failures.</span><span class="sxs-lookup"><span data-stu-id="92892-227">The business problem here is to predict train door failures.</span></span>|<span data-ttu-id="92892-228">Early awareness of a door failure, or the number of days until a door failure, will help the business optimize train door servicing schedules.</span><span class="sxs-lookup"><span data-stu-id="92892-228">Early awareness of a door failure, or the number of days until a door failure, will help the business optimize train door servicing schedules.</span></span>|

<span data-ttu-id="92892-229">The next section gets into the details of how to realize the PdM benefits discussed above.</span><span class="sxs-lookup"><span data-stu-id="92892-229">The next section gets into the details of how to realize the PdM benefits discussed above.</span></span>

## <a name="data-science-for-predictive-maintenance"></a><span data-ttu-id="92892-230">Data Science for predictive maintenance</span><span class="sxs-lookup"><span data-stu-id="92892-230">Data Science for predictive maintenance</span></span>

<span data-ttu-id="92892-231">This section provides general guidelines of data science principles and practice for PdM.</span><span class="sxs-lookup"><span data-stu-id="92892-231">This section provides general guidelines of data science principles and practice for PdM.</span></span> <span data-ttu-id="92892-232">It is intended to help a TDM, solution architect, or a developer understand the prerequisites and process for building end-to-end AI applications for PdM.</span><span class="sxs-lookup"><span data-stu-id="92892-232">It is intended to help a TDM, solution architect, or a developer understand the prerequisites and process for building end-to-end AI applications for PdM.</span></span> <span data-ttu-id="92892-233">You can read this section along with a review of the demos and proof-of-concept templates listed in [Solution Templates for predictive maintenance](#Solution-templates-for-predictive-maintenance).</span><span class="sxs-lookup"><span data-stu-id="92892-233">You can read this section along with a review of the demos and proof-of-concept templates listed in [Solution Templates for predictive maintenance](#Solution-templates-for-predictive-maintenance).</span></span> <span data-ttu-id="92892-234">You can then use these principles and best practices to implement your PdM solution in Azure.</span><span class="sxs-lookup"><span data-stu-id="92892-234">You can then use these principles and best practices to implement your PdM solution in Azure.</span></span>

> [!NOTE]
> <span data-ttu-id="92892-235">This guide is NOT intended to teach the reader Data Science.</span><span class="sxs-lookup"><span data-stu-id="92892-235">This guide is NOT intended to teach the reader Data Science.</span></span> <span data-ttu-id="92892-236">Several helpful sources are provided for further reading in the section for [training resources for predictive maintenance](#Training-resources-for-predictive-maintenance).</span><span class="sxs-lookup"><span data-stu-id="92892-236">Several helpful sources are provided for further reading in the section for [training resources for predictive maintenance](#Training-resources-for-predictive-maintenance).</span></span> <span data-ttu-id="92892-237">The [solution templates](#Solution-templates-for-predictive-maintenance) listed in the guide demonstrate some of these AI techniques for specific PdM problems.</span><span class="sxs-lookup"><span data-stu-id="92892-237">The [solution templates](#Solution-templates-for-predictive-maintenance) listed in the guide demonstrate some of these AI techniques for specific PdM problems.</span></span>

## <a name="data-requirements-for-predictive-maintenance"></a><span data-ttu-id="92892-238">Data requirements for predictive maintenance</span><span class="sxs-lookup"><span data-stu-id="92892-238">Data requirements for predictive maintenance</span></span>

<span data-ttu-id="92892-239">The success of any learning depends on (a) the quality of what is being taught, and (b) the ability of the learner.</span><span class="sxs-lookup"><span data-stu-id="92892-239">The success of any learning depends on (a) the quality of what is being taught, and (b) the ability of the learner.</span></span> <span data-ttu-id="92892-240">Predictive models learn patterns from historical data, and predict future outcomes with certain probability based on these observed patterns.</span><span class="sxs-lookup"><span data-stu-id="92892-240">Predictive models learn patterns from historical data, and predict future outcomes with certain probability based on these observed patterns.</span></span> <span data-ttu-id="92892-241">A model's predictive accuracy depends on the relevancy, sufficiency, and quality of the training and test data.</span><span class="sxs-lookup"><span data-stu-id="92892-241">A model's predictive accuracy depends on the relevancy, sufficiency, and quality of the training and test data.</span></span> <span data-ttu-id="92892-242">The new data that is 'scored' using this model should have the same features and schema as the training/test data.</span><span class="sxs-lookup"><span data-stu-id="92892-242">The new data that is 'scored' using this model should have the same features and schema as the training/test data.</span></span> <span data-ttu-id="92892-243">The feature characteristics (type, density, distribution, and so on) of new data should match that of the training and test data sets.</span><span class="sxs-lookup"><span data-stu-id="92892-243">The feature characteristics (type, density, distribution, and so on) of new data should match that of the training and test data sets.</span></span> <span data-ttu-id="92892-244">The focus of this section is on such data requirements.</span><span class="sxs-lookup"><span data-stu-id="92892-244">The focus of this section is on such data requirements.</span></span>

### <a name="relevant-data"></a><span data-ttu-id="92892-245">Relevant data</span><span class="sxs-lookup"><span data-stu-id="92892-245">Relevant data</span></span>

<span data-ttu-id="92892-246">First, the data has to be _relevant to the problem_.</span><span class="sxs-lookup"><span data-stu-id="92892-246">First, the data has to be _relevant to the problem_.</span></span> <span data-ttu-id="92892-247">Consider the _wheel failure_ use case discussed above - the training data should contain features related to the wheel operations.</span><span class="sxs-lookup"><span data-stu-id="92892-247">Consider the _wheel failure_ use case discussed above - the training data should contain features related to the wheel operations.</span></span> <span data-ttu-id="92892-248">If the problem was to predict the failure of the  _traction system_, the training data has to encompass all the different components for the traction system.</span><span class="sxs-lookup"><span data-stu-id="92892-248">If the problem was to predict the failure of the  _traction system_, the training data has to encompass all the different components for the traction system.</span></span> <span data-ttu-id="92892-249">The first case targets a specific component whereas the second case targets the failure of a larger subsystem.</span><span class="sxs-lookup"><span data-stu-id="92892-249">The first case targets a specific component whereas the second case targets the failure of a larger subsystem.</span></span> <span data-ttu-id="92892-250">The general recommendation is to design prediction systems about specific components rather than larger subsystems, since the latter will have more dispersed data.</span><span class="sxs-lookup"><span data-stu-id="92892-250">The general recommendation is to design prediction systems about specific components rather than larger subsystems, since the latter will have more dispersed data.</span></span> <span data-ttu-id="92892-251">The domain expert (see [Qualifying problems for predictive maintenance](#Qualifying-problems-for-predictive-maintenance)) should help in selecting the most relevant subsets of data for the analysis.</span><span class="sxs-lookup"><span data-stu-id="92892-251">The domain expert (see [Qualifying problems for predictive maintenance](#Qualifying-problems-for-predictive-maintenance)) should help in selecting the most relevant subsets of data for the analysis.</span></span> <span data-ttu-id="92892-252">The relevant data sources are discussed in greater detail in [Data preparation for predictive maintenance](#Data-preparation-for-predictive-maintenance).</span><span class="sxs-lookup"><span data-stu-id="92892-252">The relevant data sources are discussed in greater detail in [Data preparation for predictive maintenance](#Data-preparation-for-predictive-maintenance).</span></span>

### <a name="sufficient-data"></a><span data-ttu-id="92892-253">Sufficient data</span><span class="sxs-lookup"><span data-stu-id="92892-253">Sufficient data</span></span>
<span data-ttu-id="92892-254">Two questions are commonly asked with regard to failure history data: (1) "How many failure events are required to train a model?"</span><span class="sxs-lookup"><span data-stu-id="92892-254">Two questions are commonly asked with regard to failure history data: (1) "How many failure events are required to train a model?"</span></span> <span data-ttu-id="92892-255">(2) "How many records is considered as "enough"?" There are no definitive answers, but only rules of thumb.</span><span class="sxs-lookup"><span data-stu-id="92892-255">(2) "How many records is considered as "enough"?" There are no definitive answers, but only rules of thumb.</span></span> <span data-ttu-id="92892-256">For (1), more the number of failure events, better the model.</span><span class="sxs-lookup"><span data-stu-id="92892-256">For (1), more the number of failure events, better the model.</span></span> <span data-ttu-id="92892-257">For (2),  and the exact number of failure events depends on the data and the context of the problem being solved.</span><span class="sxs-lookup"><span data-stu-id="92892-257">For (2),  and the exact number of failure events depends on the data and the context of the problem being solved.</span></span> <span data-ttu-id="92892-258">But on the flip side, if a machine fails too often then the business will replace it, which will reduce failure instances.</span><span class="sxs-lookup"><span data-stu-id="92892-258">But on the flip side, if a machine fails too often then the business will replace it, which will reduce failure instances.</span></span> <span data-ttu-id="92892-259">Here again, the guidance from the domain expert is important.</span><span class="sxs-lookup"><span data-stu-id="92892-259">Here again, the guidance from the domain expert is important.</span></span> <span data-ttu-id="92892-260">However, there are methods to cope with the issue of _rare events_.</span><span class="sxs-lookup"><span data-stu-id="92892-260">However, there are methods to cope with the issue of _rare events_.</span></span> <span data-ttu-id="92892-261">They are discussed in the section [Handling imbalanced data](#Handling-imbalanced-data).</span><span class="sxs-lookup"><span data-stu-id="92892-261">They are discussed in the section [Handling imbalanced data](#Handling-imbalanced-data).</span></span>

### <a name="quality-data"></a><span data-ttu-id="92892-262">Quality data</span><span class="sxs-lookup"><span data-stu-id="92892-262">Quality data</span></span>
<span data-ttu-id="92892-263">The quality of the data is critical - each predictor attribute value must be _accurate_ in conjunction with the value of the target variable.</span><span class="sxs-lookup"><span data-stu-id="92892-263">The quality of the data is critical - each predictor attribute value must be _accurate_ in conjunction with the value of the target variable.</span></span> <span data-ttu-id="92892-264">Data quality is a well-studied area in statistics and data management, and hence out of scope for this guide.</span><span class="sxs-lookup"><span data-stu-id="92892-264">Data quality is a well-studied area in statistics and data management, and hence out of scope for this guide.</span></span>

> [!NOTE]
> <span data-ttu-id="92892-265">There are several resources and enterprise products to deliver quality data.</span><span class="sxs-lookup"><span data-stu-id="92892-265">There are several resources and enterprise products to deliver quality data.</span></span> <span data-ttu-id="92892-266">A sample of references is provided below:</span><span class="sxs-lookup"><span data-stu-id="92892-266">A sample of references is provided below:</span></span>
> - <span data-ttu-id="92892-267">Dasu, T, Johnson, T., Exploratory Data Mining and Data Cleaning, Wiley, 2003.</span><span class="sxs-lookup"><span data-stu-id="92892-267">Dasu, T, Johnson, T., Exploratory Data Mining and Data Cleaning, Wiley, 2003.</span></span>
> - [<span data-ttu-id="92892-268">Exploratory Data Analysis, Wikipedia</span><span class="sxs-lookup"><span data-stu-id="92892-268">Exploratory Data Analysis, Wikipedia</span></span>](https://en.wikipedia.org/wiki/Exploratory_data_analysis)
> - [<span data-ttu-id="92892-269">Hellerstein, J, Quantitative Data Cleaning for Large Databases</span><span class="sxs-lookup"><span data-stu-id="92892-269">Hellerstein, J, Quantitative Data Cleaning for Large Databases</span></span>](http://db.cs.berkeley.edu/jmh/papers/cleaning-unece.pdf)
> - [<span data-ttu-id="92892-270">de Jonge, E, van der loo, M, Introduction to Data Cleaning with R</span><span class="sxs-lookup"><span data-stu-id="92892-270">de Jonge, E, van der loo, M, Introduction to Data Cleaning with R</span></span>](https://cran.r-project.org/doc/contrib/de_Jonge+van_der_Loo-Introduction_to_data_cleaning_with_R.pdf)

## <a name="data-preparation-for-predictive-maintenance"></a><span data-ttu-id="92892-271">Data preparation for predictive maintenance</span><span class="sxs-lookup"><span data-stu-id="92892-271">Data preparation for predictive maintenance</span></span>

### <a name="data-sources"></a><span data-ttu-id="92892-272">Data sources</span><span class="sxs-lookup"><span data-stu-id="92892-272">Data sources</span></span>

<span data-ttu-id="92892-273">The relevant data sources for predictive maintenance include, but are not limited to:</span><span class="sxs-lookup"><span data-stu-id="92892-273">The relevant data sources for predictive maintenance include, but are not limited to:</span></span>
- <span data-ttu-id="92892-274">Failure history</span><span class="sxs-lookup"><span data-stu-id="92892-274">Failure history</span></span>
- <span data-ttu-id="92892-275">Maintenance/repair history</span><span class="sxs-lookup"><span data-stu-id="92892-275">Maintenance/repair history</span></span>
- <span data-ttu-id="92892-276">Machine operating conditions</span><span class="sxs-lookup"><span data-stu-id="92892-276">Machine operating conditions</span></span>
- <span data-ttu-id="92892-277">Equipment metadata</span><span class="sxs-lookup"><span data-stu-id="92892-277">Equipment metadata</span></span>

#### <a name="failure-history"></a><span data-ttu-id="92892-278">Failure history</span><span class="sxs-lookup"><span data-stu-id="92892-278">Failure history</span></span>
<span data-ttu-id="92892-279">Failure events are rare in PdM applications.</span><span class="sxs-lookup"><span data-stu-id="92892-279">Failure events are rare in PdM applications.</span></span> <span data-ttu-id="92892-280">However, when building prediction models, the algorithm needs to learn about a component's normal operational pattern, as well as its failure  patterns.</span><span class="sxs-lookup"><span data-stu-id="92892-280">However, when building prediction models, the algorithm needs to learn about a component's normal operational pattern, as well as its failure  patterns.</span></span> <span data-ttu-id="92892-281">So the training data should contain sufficient number of examples from both categories.</span><span class="sxs-lookup"><span data-stu-id="92892-281">So the training data should contain sufficient number of examples from both categories.</span></span> <span data-ttu-id="92892-282">Maintenance records and parts replacement history are good sources to find failure events.</span><span class="sxs-lookup"><span data-stu-id="92892-282">Maintenance records and parts replacement history are good sources to find failure events.</span></span> <span data-ttu-id="92892-283">With the help of some domain knowledge, anomalies in the training data can also be defined as failures.</span><span class="sxs-lookup"><span data-stu-id="92892-283">With the help of some domain knowledge, anomalies in the training data can also be defined as failures.</span></span>

#### <a name="maintenancerepair-history"></a><span data-ttu-id="92892-284">Maintenance/repair history</span><span class="sxs-lookup"><span data-stu-id="92892-284">Maintenance/repair history</span></span>
<span data-ttu-id="92892-285">Maintenance history of an asset contains details about components replaced, repair activities performed etc. These events record degradation patterns.</span><span class="sxs-lookup"><span data-stu-id="92892-285">Maintenance history of an asset contains details about components replaced, repair activities performed etc. These events record degradation patterns.</span></span> <span data-ttu-id="92892-286">Absence of this crucial information in the training data can lead to misleading model results.</span><span class="sxs-lookup"><span data-stu-id="92892-286">Absence of this crucial information in the training data can lead to misleading model results.</span></span> <span data-ttu-id="92892-287">Failure history can also be found within maintenance history as special error codes, or order dates for parts.</span><span class="sxs-lookup"><span data-stu-id="92892-287">Failure history can also be found within maintenance history as special error codes, or order dates for parts.</span></span> <span data-ttu-id="92892-288">Additional data sources that influence failure patterns should be investigated and provided by domain experts.</span><span class="sxs-lookup"><span data-stu-id="92892-288">Additional data sources that influence failure patterns should be investigated and provided by domain experts.</span></span>

#### <a name="machine-operating-conditions"></a><span data-ttu-id="92892-289">Machine operating conditions</span><span class="sxs-lookup"><span data-stu-id="92892-289">Machine operating conditions</span></span>
<span data-ttu-id="92892-290">Sensor based (or other) streaming data of the equipment in operation is an important data source.</span><span class="sxs-lookup"><span data-stu-id="92892-290">Sensor based (or other) streaming data of the equipment in operation is an important data source.</span></span> <span data-ttu-id="92892-291">A key assumption in PdM is that a machine’s health status degrades over time during its routine operation.</span><span class="sxs-lookup"><span data-stu-id="92892-291">A key assumption in PdM is that a machine’s health status degrades over time during its routine operation.</span></span> <span data-ttu-id="92892-292">The data is expected to contain time-varying features that capture this aging pattern, and any anomalies that leads to degradation.</span><span class="sxs-lookup"><span data-stu-id="92892-292">The data is expected to contain time-varying features that capture this aging pattern, and any anomalies that leads to degradation.</span></span> <span data-ttu-id="92892-293">The temporal aspect of the data is required for the algorithm to learn the failure and non-failure patterns over time.</span><span class="sxs-lookup"><span data-stu-id="92892-293">The temporal aspect of the data is required for the algorithm to learn the failure and non-failure patterns over time.</span></span> <span data-ttu-id="92892-294">Based on these data points, the algorithm learns to predict how many more units of time a machine can continue to work before it fails.</span><span class="sxs-lookup"><span data-stu-id="92892-294">Based on these data points, the algorithm learns to predict how many more units of time a machine can continue to work before it fails.</span></span>

#### <a name="static-feature-data"></a><span data-ttu-id="92892-295">Static feature data</span><span class="sxs-lookup"><span data-stu-id="92892-295">Static feature data</span></span>
<span data-ttu-id="92892-296">Static features are metadata about the equipment.</span><span class="sxs-lookup"><span data-stu-id="92892-296">Static features are metadata about the equipment.</span></span> <span data-ttu-id="92892-297">Examples are the equipment make, model, manufactured date, start date of service, location of the system, and other technical specifications.</span><span class="sxs-lookup"><span data-stu-id="92892-297">Examples are the equipment make, model, manufactured date, start date of service, location of the system, and other technical specifications.</span></span>

<span data-ttu-id="92892-298">Examples of relevant data for the [sample PdM use cases](#Sample-PdM-use-cases) are tabulated below:</span><span class="sxs-lookup"><span data-stu-id="92892-298">Examples of relevant data for the [sample PdM use cases](#Sample-PdM-use-cases) are tabulated below:</span></span>

| <span data-ttu-id="92892-299">Use Case</span><span class="sxs-lookup"><span data-stu-id="92892-299">Use Case</span></span> | <span data-ttu-id="92892-300">Examples of relevant data</span><span class="sxs-lookup"><span data-stu-id="92892-300">Examples of relevant data</span></span> |
|:---------|---------------------------|
|<span data-ttu-id="92892-301">_Flight delay and cancellations_</span><span class="sxs-lookup"><span data-stu-id="92892-301">_Flight delay and cancellations_</span></span> | <span data-ttu-id="92892-302">Flight route information in the form of flight legs and page logs.</span><span class="sxs-lookup"><span data-stu-id="92892-302">Flight route information in the form of flight legs and page logs.</span></span> <span data-ttu-id="92892-303">Flight leg data includes routing details such as departure/arrival date, time, airport, layovers etc. Page log includes a series of error and maintenance codes recorded by the ground maintenance personnel.</span><span class="sxs-lookup"><span data-stu-id="92892-303">Flight leg data includes routing details such as departure/arrival date, time, airport, layovers etc. Page log includes a series of error and maintenance codes recorded by the ground maintenance personnel.</span></span>|
|<span data-ttu-id="92892-304">_Aircraft engine parts failure_</span><span class="sxs-lookup"><span data-stu-id="92892-304">_Aircraft engine parts failure_</span></span> | <span data-ttu-id="92892-305">Data collected from sensors in the aircraft that provide information on the condition of the various parts.</span><span class="sxs-lookup"><span data-stu-id="92892-305">Data collected from sensors in the aircraft that provide information on the condition of the various parts.</span></span> <span data-ttu-id="92892-306">Maintenance records help identify when component failures occurred and when they were replaced.</span><span class="sxs-lookup"><span data-stu-id="92892-306">Maintenance records help identify when component failures occurred and when they were replaced.</span></span>|
|<span data-ttu-id="92892-307">_ATM Failure_</span><span class="sxs-lookup"><span data-stu-id="92892-307">_ATM Failure_</span></span> | <span data-ttu-id="92892-308">Sensor readings for each transaction (depositing cash/check) and dispensing of cash.</span><span class="sxs-lookup"><span data-stu-id="92892-308">Sensor readings for each transaction (depositing cash/check) and dispensing of cash.</span></span> <span data-ttu-id="92892-309">Information on gap measurement between notes, note thickness, note arrival distance, check attributes etc. Maintenance records that provide error codes, repair information, last time the cash dispenser was refilled.</span><span class="sxs-lookup"><span data-stu-id="92892-309">Information on gap measurement between notes, note thickness, note arrival distance, check attributes etc. Maintenance records that provide error codes, repair information, last time the cash dispenser was refilled.</span></span>|
|<span data-ttu-id="92892-310">_Wind turbine failure_</span><span class="sxs-lookup"><span data-stu-id="92892-310">_Wind turbine failure_</span></span> | <span data-ttu-id="92892-311">Sensors monitor turbine conditions such as temperature, wind direction, power generated, generator speed etc. Data is gathered from multiple wind turbines from wind farms located in various regions.</span><span class="sxs-lookup"><span data-stu-id="92892-311">Sensors monitor turbine conditions such as temperature, wind direction, power generated, generator speed etc. Data is gathered from multiple wind turbines from wind farms located in various regions.</span></span> <span data-ttu-id="92892-312">Typically, each turbine will have multiple sensor readings relaying measurements at a fixed time interval.</span><span class="sxs-lookup"><span data-stu-id="92892-312">Typically, each turbine will have multiple sensor readings relaying measurements at a fixed time interval.</span></span>|
|<span data-ttu-id="92892-313">_Circuit breaker failures_</span><span class="sxs-lookup"><span data-stu-id="92892-313">_Circuit breaker failures_</span></span> | <span data-ttu-id="92892-314">Maintenance logs that include corrective, preventive, and systematic actions.</span><span class="sxs-lookup"><span data-stu-id="92892-314">Maintenance logs that include corrective, preventive, and systematic actions.</span></span> <span data-ttu-id="92892-315">Operational data that includes automatic and manual commands sent to circuit breakers such as for open and close actions.</span><span class="sxs-lookup"><span data-stu-id="92892-315">Operational data that includes automatic and manual commands sent to circuit breakers such as for open and close actions.</span></span> <span data-ttu-id="92892-316">Device metadata such as date of manufacture, location, model, etc. Circuit breaker specifications such as voltage levels, geolocation, ambient conditions.</span><span class="sxs-lookup"><span data-stu-id="92892-316">Device metadata such as date of manufacture, location, model, etc. Circuit breaker specifications such as voltage levels, geolocation, ambient conditions.</span></span>|
|<span data-ttu-id="92892-317">_Elevator door failures_</span><span class="sxs-lookup"><span data-stu-id="92892-317">_Elevator door failures_</span></span>| <span data-ttu-id="92892-318">Elevator metadata such as type of elevator, manufactured date,  maintenance frequency, building type, and so on.</span><span class="sxs-lookup"><span data-stu-id="92892-318">Elevator metadata such as type of elevator, manufactured date,  maintenance frequency, building type, and so on.</span></span> <span data-ttu-id="92892-319">Operational information such as number of door cycles, average door close time.</span><span class="sxs-lookup"><span data-stu-id="92892-319">Operational information such as number of door cycles, average door close time.</span></span> <span data-ttu-id="92892-320">Failure history with causes.</span><span class="sxs-lookup"><span data-stu-id="92892-320">Failure history with causes.</span></span>|
|<span data-ttu-id="92892-321">_Wheel failures_</span><span class="sxs-lookup"><span data-stu-id="92892-321">_Wheel failures_</span></span> | <span data-ttu-id="92892-322">Sensor data that measures wheel acceleration, braking instances, driving distance, velocity etc. Static information on wheels like manufacturer, manufactured date.</span><span class="sxs-lookup"><span data-stu-id="92892-322">Sensor data that measures wheel acceleration, braking instances, driving distance, velocity etc. Static information on wheels like manufacturer, manufactured date.</span></span> <span data-ttu-id="92892-323">Failure data inferred from part order database that track order dates and quantities.</span><span class="sxs-lookup"><span data-stu-id="92892-323">Failure data inferred from part order database that track order dates and quantities.</span></span>|
|<span data-ttu-id="92892-324">_Subway train door failures_</span><span class="sxs-lookup"><span data-stu-id="92892-324">_Subway train door failures_</span></span> | <span data-ttu-id="92892-325">Door opening and closing times, other operational data such as current condition of train doors.</span><span class="sxs-lookup"><span data-stu-id="92892-325">Door opening and closing times, other operational data such as current condition of train doors.</span></span> <span data-ttu-id="92892-326">Static data would include asset identifier, time, and condition value columns.</span><span class="sxs-lookup"><span data-stu-id="92892-326">Static data would include asset identifier, time, and condition value columns.</span></span>|

### <a name="data-types"></a><span data-ttu-id="92892-327">Data types</span><span class="sxs-lookup"><span data-stu-id="92892-327">Data types</span></span>
<span data-ttu-id="92892-328">Given the above data sources, the two main data types observed in PdM domain are:</span><span class="sxs-lookup"><span data-stu-id="92892-328">Given the above data sources, the two main data types observed in PdM domain are:</span></span>

- <span data-ttu-id="92892-329">_Temporal data_: Operational telemetry, machine conditions, work order types, priority codes that will have timestamps at the time of recording.</span><span class="sxs-lookup"><span data-stu-id="92892-329">_Temporal data_: Operational telemetry, machine conditions, work order types, priority codes that will have timestamps at the time of recording.</span></span> <span data-ttu-id="92892-330">Failure,  maintenance/repair, and usage history will also have timestamps associated with each event.</span><span class="sxs-lookup"><span data-stu-id="92892-330">Failure,  maintenance/repair, and usage history will also have timestamps associated with each event.</span></span>
- <span data-ttu-id="92892-331">_Static data_: Machine features and operator features in general are static since they describe the technical specifications of machines or operator attributes.</span><span class="sxs-lookup"><span data-stu-id="92892-331">_Static data_: Machine features and operator features in general are static since they describe the technical specifications of machines or operator attributes.</span></span> <span data-ttu-id="92892-332">If these features could change over time, they should also have timestamps associated with them.</span><span class="sxs-lookup"><span data-stu-id="92892-332">If these features could change over time, they should also have timestamps associated with them.</span></span>

<span data-ttu-id="92892-333">Predictor and target variables should be preprocessed/transformed into [numerical, categorical, and other data types](https://www.statsdirect.com/help/basics/measurement_scales.htm) depending on the algorithm being used.</span><span class="sxs-lookup"><span data-stu-id="92892-333">Predictor and target variables should be preprocessed/transformed into [numerical, categorical, and other data types](https://www.statsdirect.com/help/basics/measurement_scales.htm) depending on the algorithm being used.</span></span>

### <a name="data-preprocessing"></a><span data-ttu-id="92892-334">Data preprocessing</span><span class="sxs-lookup"><span data-stu-id="92892-334">Data preprocessing</span></span>
<span data-ttu-id="92892-335">As a prerequisite to _feature engineering_, prepare the data from various streams to compose a schema from which it is easy to build features.</span><span class="sxs-lookup"><span data-stu-id="92892-335">As a prerequisite to _feature engineering_, prepare the data from various streams to compose a schema from which it is easy to build features.</span></span> <span data-ttu-id="92892-336">Visualize the data first as a table of records.</span><span class="sxs-lookup"><span data-stu-id="92892-336">Visualize the data first as a table of records.</span></span> <span data-ttu-id="92892-337">Each row in the table represents a training instance, and the columns represent _predictor_ features (also called independent attributes or variables).</span><span class="sxs-lookup"><span data-stu-id="92892-337">Each row in the table represents a training instance, and the columns represent _predictor_ features (also called independent attributes or variables).</span></span> <span data-ttu-id="92892-338">Organize the data such that the last column(s) is the _target_ (dependent variable).</span><span class="sxs-lookup"><span data-stu-id="92892-338">Organize the data such that the last column(s) is the _target_ (dependent variable).</span></span> <span data-ttu-id="92892-339">For each training instance, assign a _label_ as the value of this column.</span><span class="sxs-lookup"><span data-stu-id="92892-339">For each training instance, assign a _label_ as the value of this column.</span></span>

<span data-ttu-id="92892-340">For temporal data, divide the duration of sensor data into time units.</span><span class="sxs-lookup"><span data-stu-id="92892-340">For temporal data, divide the duration of sensor data into time units.</span></span> <span data-ttu-id="92892-341">Each record should belong to a time unit for an asset, _and should offer distinct information_.</span><span class="sxs-lookup"><span data-stu-id="92892-341">Each record should belong to a time unit for an asset, _and should offer distinct information_.</span></span> <span data-ttu-id="92892-342">Time units are defined based on business needs in multiples of seconds, minutes, hours, days, months, and so on.</span><span class="sxs-lookup"><span data-stu-id="92892-342">Time units are defined based on business needs in multiples of seconds, minutes, hours, days, months, and so on.</span></span> <span data-ttu-id="92892-343">The time unit _does not have to be the same as the frequency of data collection_.</span><span class="sxs-lookup"><span data-stu-id="92892-343">The time unit _does not have to be the same as the frequency of data collection_.</span></span> <span data-ttu-id="92892-344">If the frequency is high, the data may not show any significant difference from one unit to the other.</span><span class="sxs-lookup"><span data-stu-id="92892-344">If the frequency is high, the data may not show any significant difference from one unit to the other.</span></span> <span data-ttu-id="92892-345">For example, assume that ambient temperature was collected every 10 seconds.</span><span class="sxs-lookup"><span data-stu-id="92892-345">For example, assume that ambient temperature was collected every 10 seconds.</span></span> <span data-ttu-id="92892-346">Using that same interval for training data only inflates the number of examples without providing any additional information.</span><span class="sxs-lookup"><span data-stu-id="92892-346">Using that same interval for training data only inflates the number of examples without providing any additional information.</span></span> <span data-ttu-id="92892-347">For this case, a better strategy would be to use average the data over 10 minutes, or an hour based on the business justification.</span><span class="sxs-lookup"><span data-stu-id="92892-347">For this case, a better strategy would be to use average the data over 10 minutes, or an hour based on the business justification.</span></span>

<span data-ttu-id="92892-348">For static data,</span><span class="sxs-lookup"><span data-stu-id="92892-348">For static data,</span></span>
- <span data-ttu-id="92892-349">_Maintenance records_: Raw maintenance data has an asset identifier and timestamp with information on maintenance activities that have been performed at a given point in time.</span><span class="sxs-lookup"><span data-stu-id="92892-349">_Maintenance records_: Raw maintenance data has an asset identifier and timestamp with information on maintenance activities that have been performed at a given point in time.</span></span> <span data-ttu-id="92892-350">Transform maintenance activities into _categorical_ columns, where each category descriptor uniquely maps to a specific maintenance action.</span><span class="sxs-lookup"><span data-stu-id="92892-350">Transform maintenance activities into _categorical_ columns, where each category descriptor uniquely maps to a specific maintenance action.</span></span> <span data-ttu-id="92892-351">The schema for maintenance records would include asset identifier, time, and maintenance action.</span><span class="sxs-lookup"><span data-stu-id="92892-351">The schema for maintenance records would include asset identifier, time, and maintenance action.</span></span>

- <span data-ttu-id="92892-352">_Failure records_: Failures or failure reasons can be recorded as specific error codes or failure events defined by specific business conditions.</span><span class="sxs-lookup"><span data-stu-id="92892-352">_Failure records_: Failures or failure reasons can be recorded as specific error codes or failure events defined by specific business conditions.</span></span> <span data-ttu-id="92892-353">In cases where the equipment has multiple error codes, the domain expert should help identify the ones that are pertinent to the target variable.</span><span class="sxs-lookup"><span data-stu-id="92892-353">In cases where the equipment has multiple error codes, the domain expert should help identify the ones that are pertinent to the target variable.</span></span> <span data-ttu-id="92892-354">Use the remaining error codes or conditions to construct _predictor_ features that correlate with these failures.</span><span class="sxs-lookup"><span data-stu-id="92892-354">Use the remaining error codes or conditions to construct _predictor_ features that correlate with these failures.</span></span> <span data-ttu-id="92892-355">The schema for failure records would include asset identifier, time, failure, or failure reason - if available.</span><span class="sxs-lookup"><span data-stu-id="92892-355">The schema for failure records would include asset identifier, time, failure, or failure reason - if available.</span></span>

- <span data-ttu-id="92892-356">_Machine and operator metadata_: Merge the machine and operator data into one schema to associate an asset with its operator, along with their respective attributes.</span><span class="sxs-lookup"><span data-stu-id="92892-356">_Machine and operator metadata_: Merge the machine and operator data into one schema to associate an asset with its operator, along with their respective attributes.</span></span> <span data-ttu-id="92892-357">The schema for machine conditions would include asset identifier, asset features, operator identifier, and operator features.</span><span class="sxs-lookup"><span data-stu-id="92892-357">The schema for machine conditions would include asset identifier, asset features, operator identifier, and operator features.</span></span>

<span data-ttu-id="92892-358">Other data preprocessing steps include _handling missing values_ and _normalization_ of attribute values.</span><span class="sxs-lookup"><span data-stu-id="92892-358">Other data preprocessing steps include _handling missing values_ and _normalization_ of attribute values.</span></span> <span data-ttu-id="92892-359">A detailed discussion is beyond the scope of this guide - see the next section for some useful references.</span><span class="sxs-lookup"><span data-stu-id="92892-359">A detailed discussion is beyond the scope of this guide - see the next section for some useful references.</span></span>

<span data-ttu-id="92892-360">With the above preprocessed data sources in place, the final transformation before feature engineering is to join the above tables based on the asset identifier and timestamp.</span><span class="sxs-lookup"><span data-stu-id="92892-360">With the above preprocessed data sources in place, the final transformation before feature engineering is to join the above tables based on the asset identifier and timestamp.</span></span> <span data-ttu-id="92892-361">The resulting table would have null values for the failure column when machine is in normal operation.</span><span class="sxs-lookup"><span data-stu-id="92892-361">The resulting table would have null values for the failure column when machine is in normal operation.</span></span> <span data-ttu-id="92892-362">These null values can be imputed by an indicator for normal operation.</span><span class="sxs-lookup"><span data-stu-id="92892-362">These null values can be imputed by an indicator for normal operation.</span></span> <span data-ttu-id="92892-363">Use this failure column to create _labels for the predictive model_.</span><span class="sxs-lookup"><span data-stu-id="92892-363">Use this failure column to create _labels for the predictive model_.</span></span> <span data-ttu-id="92892-364">For more information, see the section on [modeling techniques for predictive maintenance](#Modeling-techniques-for-predictive-maintenance).</span><span class="sxs-lookup"><span data-stu-id="92892-364">For more information, see the section on [modeling techniques for predictive maintenance](#Modeling-techniques-for-predictive-maintenance).</span></span>

## <a name="feature-engineering"></a><span data-ttu-id="92892-365">Feature engineering</span><span class="sxs-lookup"><span data-stu-id="92892-365">Feature engineering</span></span>
<span data-ttu-id="92892-366">Feature engineering is the first step prior to modeling the data.</span><span class="sxs-lookup"><span data-stu-id="92892-366">Feature engineering is the first step prior to modeling the data.</span></span> <span data-ttu-id="92892-367">Its role in the data science process [is described here](https://docs.microsoft.com/azure/machine-learning/team-data-science-process/create-features).</span><span class="sxs-lookup"><span data-stu-id="92892-367">Its role in the data science process [is described here](https://docs.microsoft.com/azure/machine-learning/team-data-science-process/create-features).</span></span> <span data-ttu-id="92892-368">A _feature_ is a predictive attribute for the model - such as temperature, pressure, vibration, and so on.</span><span class="sxs-lookup"><span data-stu-id="92892-368">A _feature_ is a predictive attribute for the model - such as temperature, pressure, vibration, and so on.</span></span> <span data-ttu-id="92892-369">For PdM, feature engineering involves abstracting a machine’s health over historical data collected over a sizable duration.</span><span class="sxs-lookup"><span data-stu-id="92892-369">For PdM, feature engineering involves abstracting a machine’s health over historical data collected over a sizable duration.</span></span> <span data-ttu-id="92892-370">In that sense, it is different from its peers such as remote monitoring, anomaly detection, and failure detection.</span><span class="sxs-lookup"><span data-stu-id="92892-370">In that sense, it is different from its peers such as remote monitoring, anomaly detection, and failure detection.</span></span> 

### <a name="time-windows"></a><span data-ttu-id="92892-371">Time windows</span><span class="sxs-lookup"><span data-stu-id="92892-371">Time windows</span></span>
<span data-ttu-id="92892-372">Remote monitoring entails reporting the events that happen as of _points in time_.</span><span class="sxs-lookup"><span data-stu-id="92892-372">Remote monitoring entails reporting the events that happen as of _points in time_.</span></span> <span data-ttu-id="92892-373">Anomaly detection models evaluate (score) incoming streams of data to flag anomalies as of points in time.</span><span class="sxs-lookup"><span data-stu-id="92892-373">Anomaly detection models evaluate (score) incoming streams of data to flag anomalies as of points in time.</span></span> <span data-ttu-id="92892-374">Failure detection classifies failures to be of specific types as they occur points in time.</span><span class="sxs-lookup"><span data-stu-id="92892-374">Failure detection classifies failures to be of specific types as they occur points in time.</span></span> <span data-ttu-id="92892-375">In contrast, PdM involves predicting failures over a _future time period_, based on features that represent machine behavior over _historical time period_.</span><span class="sxs-lookup"><span data-stu-id="92892-375">In contrast, PdM involves predicting failures over a _future time period_, based on features that represent machine behavior over _historical time period_.</span></span> <span data-ttu-id="92892-376">For PdM, feature data from individual points of time are too noisy to be predictive.</span><span class="sxs-lookup"><span data-stu-id="92892-376">For PdM, feature data from individual points of time are too noisy to be predictive.</span></span> <span data-ttu-id="92892-377">So the data for each feature needs to be _smoothened_ by aggregating data points over time windows.</span><span class="sxs-lookup"><span data-stu-id="92892-377">So the data for each feature needs to be _smoothened_ by aggregating data points over time windows.</span></span>

### <a name="lag-features"></a><span data-ttu-id="92892-378">Lag features</span><span class="sxs-lookup"><span data-stu-id="92892-378">Lag features</span></span>
<span data-ttu-id="92892-379">The business requirements define how far the model has to predict into the future.</span><span class="sxs-lookup"><span data-stu-id="92892-379">The business requirements define how far the model has to predict into the future.</span></span> <span data-ttu-id="92892-380">In turn, this duration helps define 'how far back the model has to look' to make these predictions.</span><span class="sxs-lookup"><span data-stu-id="92892-380">In turn, this duration helps define 'how far back the model has to look' to make these predictions.</span></span> <span data-ttu-id="92892-381">This 'looking back' period is called the _lag_, and features engineered over this lag period are called _lag features_.</span><span class="sxs-lookup"><span data-stu-id="92892-381">This 'looking back' period is called the _lag_, and features engineered over this lag period are called _lag features_.</span></span> <span data-ttu-id="92892-382">This section discusses lag features that can be constructed from data sources with timestamps, and feature creation from static data sources.</span><span class="sxs-lookup"><span data-stu-id="92892-382">This section discusses lag features that can be constructed from data sources with timestamps, and feature creation from static data sources.</span></span> <span data-ttu-id="92892-383">Lag features are typically _numerical_ in nature.</span><span class="sxs-lookup"><span data-stu-id="92892-383">Lag features are typically _numerical_ in nature.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="92892-384">The window size is determined via experimentation, and should be finalized with the help of a domain expert.</span><span class="sxs-lookup"><span data-stu-id="92892-384">The window size is determined via experimentation, and should be finalized with the help of a domain expert.</span></span> <span data-ttu-id="92892-385">The same caveat holds for the selection and definition of lag features, their aggregations, and the type of windows.</span><span class="sxs-lookup"><span data-stu-id="92892-385">The same caveat holds for the selection and definition of lag features, their aggregations, and the type of windows.</span></span>

#### <a name="rolling-aggregates"></a><span data-ttu-id="92892-386">Rolling aggregates</span><span class="sxs-lookup"><span data-stu-id="92892-386">Rolling aggregates</span></span>
<span data-ttu-id="92892-387">For each record of an asset, a rolling window of size "W" is chosen as the number of units of time to compute the aggregates.</span><span class="sxs-lookup"><span data-stu-id="92892-387">For each record of an asset, a rolling window of size "W" is chosen as the number of units of time to compute the aggregates.</span></span> <span data-ttu-id="92892-388">Lag features are then computed using the W periods _before the date_ of that record.</span><span class="sxs-lookup"><span data-stu-id="92892-388">Lag features are then computed using the W periods _before the date_ of that record.</span></span> <span data-ttu-id="92892-389">In Figure 1, the blue lines show sensor values recorded for an asset for each unit of time.</span><span class="sxs-lookup"><span data-stu-id="92892-389">In Figure 1, the blue lines show sensor values recorded for an asset for each unit of time.</span></span> <span data-ttu-id="92892-390">They denote a rolling average of feature values over a window of size W=3.</span><span class="sxs-lookup"><span data-stu-id="92892-390">They denote a rolling average of feature values over a window of size W=3.</span></span> <span data-ttu-id="92892-391">The rolling average is computed over all records with timestamps in the range t<sub>1</sub> (in orange) to t<sub>2</sub> (in green).</span><span class="sxs-lookup"><span data-stu-id="92892-391">The rolling average is computed over all records with timestamps in the range t<sub>1</sub> (in orange) to t<sub>2</sub> (in green).</span></span> <span data-ttu-id="92892-392">The value for W is typically in minutes or hours depending on the nature of the data.</span><span class="sxs-lookup"><span data-stu-id="92892-392">The value for W is typically in minutes or hours depending on the nature of the data.</span></span> <span data-ttu-id="92892-393">But for certain problems, picking a large W (say 12 months) can provide the whole history of an asset until the time of the record.</span><span class="sxs-lookup"><span data-stu-id="92892-393">But for certain problems, picking a large W (say 12 months) can provide the whole history of an asset until the time of the record.</span></span>

<span data-ttu-id="92892-394">![Figure 1.</span><span class="sxs-lookup"><span data-stu-id="92892-394">![Figure 1.</span></span> <span data-ttu-id="92892-395">Rolling aggregate features](./media/cortana-analytics-playbook-predictive-maintenance/rolling-aggregate-features.png) Figure 1.</span><span class="sxs-lookup"><span data-stu-id="92892-395">Rolling aggregate features](./media/cortana-analytics-playbook-predictive-maintenance/rolling-aggregate-features.png) Figure 1.</span></span> <span data-ttu-id="92892-396">Rolling aggregate features</span><span class="sxs-lookup"><span data-stu-id="92892-396">Rolling aggregate features</span></span>

<span data-ttu-id="92892-397">Examples of rolling aggregates over a time window are count, average, CUMESUM (cumulative sum) measures, min/max values.</span><span class="sxs-lookup"><span data-stu-id="92892-397">Examples of rolling aggregates over a time window are count, average, CUMESUM (cumulative sum) measures, min/max values.</span></span> <span data-ttu-id="92892-398">In addition, variance, standard deviation, and count of outliers beyond N standard deviations are often used.</span><span class="sxs-lookup"><span data-stu-id="92892-398">In addition, variance, standard deviation, and count of outliers beyond N standard deviations are often used.</span></span> <span data-ttu-id="92892-399">Examples of aggregates that may be applied for the [use cases](#Sample-PdM-use-cases) in this guide are listed below.</span><span class="sxs-lookup"><span data-stu-id="92892-399">Examples of aggregates that may be applied for the [use cases](#Sample-PdM-use-cases) in this guide are listed below.</span></span> 
- <span data-ttu-id="92892-400">_Flight delay_: count of error codes over the last day/week.</span><span class="sxs-lookup"><span data-stu-id="92892-400">_Flight delay_: count of error codes over the last day/week.</span></span>
- <span data-ttu-id="92892-401">_Aircraft engine part failure_: rolling means, standard deviation, and sum over the past day, week etc. This metric should be determined along with the business domain expert.</span><span class="sxs-lookup"><span data-stu-id="92892-401">_Aircraft engine part failure_: rolling means, standard deviation, and sum over the past day, week etc. This metric should be determined along with the business domain expert.</span></span>
- <span data-ttu-id="92892-402">_ATM failures_: rolling means, median, range, standard deviations, count of outliers beyond three standard deviations, upper and lower CUMESUM.</span><span class="sxs-lookup"><span data-stu-id="92892-402">_ATM failures_: rolling means, median, range, standard deviations, count of outliers beyond three standard deviations, upper and lower CUMESUM.</span></span>
- <span data-ttu-id="92892-403">_Subway train door failures_: Count of events over past day, week, two weeks etc.</span><span class="sxs-lookup"><span data-stu-id="92892-403">_Subway train door failures_: Count of events over past day, week, two weeks etc.</span></span>
- <span data-ttu-id="92892-404">_Circuit breaker failures_: Failure counts over past week, year, three years etc.</span><span class="sxs-lookup"><span data-stu-id="92892-404">_Circuit breaker failures_: Failure counts over past week, year, three years etc.</span></span>

<span data-ttu-id="92892-405">Another useful technique in PdM is to capture trend changes, spikes, and level changes using algorithms that detect anomalies in data.</span><span class="sxs-lookup"><span data-stu-id="92892-405">Another useful technique in PdM is to capture trend changes, spikes, and level changes using algorithms that detect anomalies in data.</span></span>

#### <a name="tumbling-aggregates"></a><span data-ttu-id="92892-406">Tumbling aggregates</span><span class="sxs-lookup"><span data-stu-id="92892-406">Tumbling aggregates</span></span>
<span data-ttu-id="92892-407">For each labeled record of an asset, a window of size _W-<sub>k</sub>_ is defined, where _k_ is the number of windows of size _W_. Aggregates are then created over _k_ _tumbling windows_ _W-k, W-<sub>(k-1)</sub>, …, W-<sub>2</sub>, W-<sub>1</sub>_ for the periods before a record's timestamp.</span><span class="sxs-lookup"><span data-stu-id="92892-407">For each labeled record of an asset, a window of size _W-<sub>k</sub>_ is defined, where _k_ is the number of windows of size _W_. Aggregates are then created over _k_ _tumbling windows_ _W-k, W-<sub>(k-1)</sub>, …, W-<sub>2</sub>, W-<sub>1</sub>_ for the periods before a record's timestamp.</span></span> <span data-ttu-id="92892-408">_k_ can be a small number to capture short-term effects, or a large number to capture long-term degradation patterns.</span><span class="sxs-lookup"><span data-stu-id="92892-408">_k_ can be a small number to capture short-term effects, or a large number to capture long-term degradation patterns.</span></span> <span data-ttu-id="92892-409">(see Figure 2).</span><span class="sxs-lookup"><span data-stu-id="92892-409">(see Figure 2).</span></span>

<span data-ttu-id="92892-410">![Figure 2.</span><span class="sxs-lookup"><span data-stu-id="92892-410">![Figure 2.</span></span> <span data-ttu-id="92892-411">Tumbling aggregate features](./media/cortana-analytics-playbook-predictive-maintenance/tumbling-aggregate-features.png) Figure 2.</span><span class="sxs-lookup"><span data-stu-id="92892-411">Tumbling aggregate features](./media/cortana-analytics-playbook-predictive-maintenance/tumbling-aggregate-features.png) Figure 2.</span></span> <span data-ttu-id="92892-412">Tumbling aggregate features</span><span class="sxs-lookup"><span data-stu-id="92892-412">Tumbling aggregate features</span></span>

<span data-ttu-id="92892-413">For example, lag features for the wind turbines use case may be created with W=1 and k=3.</span><span class="sxs-lookup"><span data-stu-id="92892-413">For example, lag features for the wind turbines use case may be created with W=1 and k=3.</span></span> <span data-ttu-id="92892-414">They imply the lag for each of the past three months using top and bottom outliers.</span><span class="sxs-lookup"><span data-stu-id="92892-414">They imply the lag for each of the past three months using top and bottom outliers.</span></span>

### <a name="static-features"></a><span data-ttu-id="92892-415">Static features</span><span class="sxs-lookup"><span data-stu-id="92892-415">Static features</span></span>

<span data-ttu-id="92892-416">Technical specifications of the equipment such as date of manufacture, model number, location, are some examples of static features.</span><span class="sxs-lookup"><span data-stu-id="92892-416">Technical specifications of the equipment such as date of manufacture, model number, location, are some examples of static features.</span></span> <span data-ttu-id="92892-417">They are treated as _categorical_ variables for modeling.</span><span class="sxs-lookup"><span data-stu-id="92892-417">They are treated as _categorical_ variables for modeling.</span></span> <span data-ttu-id="92892-418">Some examples for the circuit breaker use case are voltage, current, power capacity, transformer type, and power source.</span><span class="sxs-lookup"><span data-stu-id="92892-418">Some examples for the circuit breaker use case are voltage, current, power capacity, transformer type, and power source.</span></span> <span data-ttu-id="92892-419">For wheel failures, the type of tire wheels (alloy vs steel) is an example.</span><span class="sxs-lookup"><span data-stu-id="92892-419">For wheel failures, the type of tire wheels (alloy vs steel) is an example.</span></span>

<span data-ttu-id="92892-420">The data preparation efforts discussed so far should lead to the data being organized as shown below.</span><span class="sxs-lookup"><span data-stu-id="92892-420">The data preparation efforts discussed so far should lead to the data being organized as shown below.</span></span> <span data-ttu-id="92892-421">Training, test, and validation data should have this logical schema (this example shows time in units of days).</span><span class="sxs-lookup"><span data-stu-id="92892-421">Training, test, and validation data should have this logical schema (this example shows time in units of days).</span></span>

| <span data-ttu-id="92892-422">Asset ID</span><span class="sxs-lookup"><span data-stu-id="92892-422">Asset ID</span></span> | <span data-ttu-id="92892-423">Time</span><span class="sxs-lookup"><span data-stu-id="92892-423">Time</span></span> | <Feature Columns> | <span data-ttu-id="92892-424">Label</span><span class="sxs-lookup"><span data-stu-id="92892-424">Label</span></span> |
| ---- | ---- | --- | --- |
| <span data-ttu-id="92892-425">A123</span><span class="sxs-lookup"><span data-stu-id="92892-425">A123</span></span> |<span data-ttu-id="92892-426">Day 1</span><span class="sxs-lookup"><span data-stu-id="92892-426">Day 1</span></span> | <span data-ttu-id="92892-427">.</span><span class="sxs-lookup"><span data-stu-id="92892-427">.</span></span> <span data-ttu-id="92892-428">.</span><span class="sxs-lookup"><span data-stu-id="92892-428">.</span></span> <span data-ttu-id="92892-429">.</span><span class="sxs-lookup"><span data-stu-id="92892-429">.</span></span> | <span data-ttu-id="92892-430">.</span><span class="sxs-lookup"><span data-stu-id="92892-430">.</span></span> |
| <span data-ttu-id="92892-431">A123</span><span class="sxs-lookup"><span data-stu-id="92892-431">A123</span></span> |<span data-ttu-id="92892-432">Day 2</span><span class="sxs-lookup"><span data-stu-id="92892-432">Day 2</span></span> | <span data-ttu-id="92892-433">.</span><span class="sxs-lookup"><span data-stu-id="92892-433">.</span></span> <span data-ttu-id="92892-434">.</span><span class="sxs-lookup"><span data-stu-id="92892-434">.</span></span> <span data-ttu-id="92892-435">.</span><span class="sxs-lookup"><span data-stu-id="92892-435">.</span></span> | <span data-ttu-id="92892-436">.</span><span class="sxs-lookup"><span data-stu-id="92892-436">.</span></span> |
| <span data-ttu-id="92892-437">...</span><span class="sxs-lookup"><span data-stu-id="92892-437">...</span></span>  |<span data-ttu-id="92892-438">...</span><span class="sxs-lookup"><span data-stu-id="92892-438">...</span></span>   | <span data-ttu-id="92892-439">.</span><span class="sxs-lookup"><span data-stu-id="92892-439">.</span></span> <span data-ttu-id="92892-440">.</span><span class="sxs-lookup"><span data-stu-id="92892-440">.</span></span> <span data-ttu-id="92892-441">.</span><span class="sxs-lookup"><span data-stu-id="92892-441">.</span></span> | <span data-ttu-id="92892-442">.</span><span class="sxs-lookup"><span data-stu-id="92892-442">.</span></span> |
| <span data-ttu-id="92892-443">B234</span><span class="sxs-lookup"><span data-stu-id="92892-443">B234</span></span> |<span data-ttu-id="92892-444">Day 1</span><span class="sxs-lookup"><span data-stu-id="92892-444">Day 1</span></span> | <span data-ttu-id="92892-445">.</span><span class="sxs-lookup"><span data-stu-id="92892-445">.</span></span> <span data-ttu-id="92892-446">.</span><span class="sxs-lookup"><span data-stu-id="92892-446">.</span></span> <span data-ttu-id="92892-447">.</span><span class="sxs-lookup"><span data-stu-id="92892-447">.</span></span> | <span data-ttu-id="92892-448">.</span><span class="sxs-lookup"><span data-stu-id="92892-448">.</span></span> |
| <span data-ttu-id="92892-449">B234</span><span class="sxs-lookup"><span data-stu-id="92892-449">B234</span></span> |<span data-ttu-id="92892-450">Day 2</span><span class="sxs-lookup"><span data-stu-id="92892-450">Day 2</span></span> | <span data-ttu-id="92892-451">.</span><span class="sxs-lookup"><span data-stu-id="92892-451">.</span></span> <span data-ttu-id="92892-452">.</span><span class="sxs-lookup"><span data-stu-id="92892-452">.</span></span> <span data-ttu-id="92892-453">.</span><span class="sxs-lookup"><span data-stu-id="92892-453">.</span></span> | <span data-ttu-id="92892-454">.</span><span class="sxs-lookup"><span data-stu-id="92892-454">.</span></span> |
| <span data-ttu-id="92892-455">...</span><span class="sxs-lookup"><span data-stu-id="92892-455">...</span></span>  |<span data-ttu-id="92892-456">...</span><span class="sxs-lookup"><span data-stu-id="92892-456">...</span></span>   | <span data-ttu-id="92892-457">.</span><span class="sxs-lookup"><span data-stu-id="92892-457">.</span></span> <span data-ttu-id="92892-458">.</span><span class="sxs-lookup"><span data-stu-id="92892-458">.</span></span> <span data-ttu-id="92892-459">.</span><span class="sxs-lookup"><span data-stu-id="92892-459">.</span></span> | <span data-ttu-id="92892-460">.</span><span class="sxs-lookup"><span data-stu-id="92892-460">.</span></span> |

<span data-ttu-id="92892-461">The last step in feature engineering is the **labeling** of the target variable.</span><span class="sxs-lookup"><span data-stu-id="92892-461">The last step in feature engineering is the **labeling** of the target variable.</span></span> <span data-ttu-id="92892-462">This process is dependent on the modeling technique.</span><span class="sxs-lookup"><span data-stu-id="92892-462">This process is dependent on the modeling technique.</span></span> <span data-ttu-id="92892-463">In turn, the modeling technique depends on the business problem and nature of the available data.</span><span class="sxs-lookup"><span data-stu-id="92892-463">In turn, the modeling technique depends on the business problem and nature of the available data.</span></span> <span data-ttu-id="92892-464">Labeling is discussed in the next section.</span><span class="sxs-lookup"><span data-stu-id="92892-464">Labeling is discussed in the next section.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="92892-465">Data preparation and feature engineering are as important as modeling techniques to arrive at successful PdM solutions.</span><span class="sxs-lookup"><span data-stu-id="92892-465">Data preparation and feature engineering are as important as modeling techniques to arrive at successful PdM solutions.</span></span> <span data-ttu-id="92892-466">The domain expert and the practitioner should invest significant time in arriving at the right features and data for the model.</span><span class="sxs-lookup"><span data-stu-id="92892-466">The domain expert and the practitioner should invest significant time in arriving at the right features and data for the model.</span></span> <span data-ttu-id="92892-467">A small sample from many books on feature engineering are listed below:</span><span class="sxs-lookup"><span data-stu-id="92892-467">A small sample from many books on feature engineering are listed below:</span></span>
> - <span data-ttu-id="92892-468">Pyle, D. Data Preparation for Data Mining (The Morgan Kaufmann Series in Data Management Systems), 1999</span><span class="sxs-lookup"><span data-stu-id="92892-468">Pyle, D. Data Preparation for Data Mining (The Morgan Kaufmann Series in Data Management Systems), 1999</span></span>
> - <span data-ttu-id="92892-469">Zheng, A., Casari, A. Feature Engineering for Machine Learning: Principles and Techniques for Data Scientists, O'Reilly, 2018.</span><span class="sxs-lookup"><span data-stu-id="92892-469">Zheng, A., Casari, A. Feature Engineering for Machine Learning: Principles and Techniques for Data Scientists, O'Reilly, 2018.</span></span>
> - <span data-ttu-id="92892-470">Dong, G. Liu, H. (Editors), Feature Engineering for Machine Learning and Data Analytics (Chapman & Hall/CRC Data Mining and Knowledge Discovery Series), CRC Press, 2018.</span><span class="sxs-lookup"><span data-stu-id="92892-470">Dong, G. Liu, H. (Editors), Feature Engineering for Machine Learning and Data Analytics (Chapman & Hall/CRC Data Mining and Knowledge Discovery Series), CRC Press, 2018.</span></span>

## <a name="modeling-techniques-for-predictive-maintenance"></a><span data-ttu-id="92892-471">Modeling techniques for predictive maintenance</span><span class="sxs-lookup"><span data-stu-id="92892-471">Modeling techniques for predictive maintenance</span></span>

<span data-ttu-id="92892-472">This section discusses the main modeling techniques for PdM problems, along with their specific label construction methods.</span><span class="sxs-lookup"><span data-stu-id="92892-472">This section discusses the main modeling techniques for PdM problems, along with their specific label construction methods.</span></span> <span data-ttu-id="92892-473">Notice that a single modeling technique can be used across different industries.</span><span class="sxs-lookup"><span data-stu-id="92892-473">Notice that a single modeling technique can be used across different industries.</span></span> <span data-ttu-id="92892-474">The modeling technique is paired to the data science problem, rather than the context of the data at hand.</span><span class="sxs-lookup"><span data-stu-id="92892-474">The modeling technique is paired to the data science problem, rather than the context of the data at hand.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="92892-475">The choice of labels for the failure cases and the labeling strategy</span><span class="sxs-lookup"><span data-stu-id="92892-475">The choice of labels for the failure cases and the labeling strategy</span></span>  
> <span data-ttu-id="92892-476">should be determined in consultation with the domain expert.</span><span class="sxs-lookup"><span data-stu-id="92892-476">should be determined in consultation with the domain expert.</span></span>

### <a name="binary-classification"></a><span data-ttu-id="92892-477">Binary classification</span><span class="sxs-lookup"><span data-stu-id="92892-477">Binary classification</span></span>
<span data-ttu-id="92892-478">Binary classification is used to _predict the probability that a piece of equipment fails within a future time period_ - called the _future horizon period X_. X is determined by the business problem and the data at hand, in consultation with the domain expert.</span><span class="sxs-lookup"><span data-stu-id="92892-478">Binary classification is used to _predict the probability that a piece of equipment fails within a future time period_ - called the _future horizon period X_. X is determined by the business problem and the data at hand, in consultation with the domain expert.</span></span> <span data-ttu-id="92892-479">Examples are:</span><span class="sxs-lookup"><span data-stu-id="92892-479">Examples are:</span></span>
- <span data-ttu-id="92892-480">_minimum lead time_ required to replace components, deploy maintenance resources, perform maintenance to avoid a problem that is likely to occur in that period.</span><span class="sxs-lookup"><span data-stu-id="92892-480">_minimum lead time_ required to replace components, deploy maintenance resources, perform maintenance to avoid a problem that is likely to occur in that period.</span></span>
- <span data-ttu-id="92892-481">_minimum count of events_ that can happen before a problem occurs.</span><span class="sxs-lookup"><span data-stu-id="92892-481">_minimum count of events_ that can happen before a problem occurs.</span></span>

<span data-ttu-id="92892-482">In this technique, two types of training examples are identified.</span><span class="sxs-lookup"><span data-stu-id="92892-482">In this technique, two types of training examples are identified.</span></span> <span data-ttu-id="92892-483">A positive example, _which indicates a failure_, with label = 1.</span><span class="sxs-lookup"><span data-stu-id="92892-483">A positive example, _which indicates a failure_, with label = 1.</span></span> <span data-ttu-id="92892-484">A negative example, which indicates normal operations, with  label = 0.</span><span class="sxs-lookup"><span data-stu-id="92892-484">A negative example, which indicates normal operations, with  label = 0.</span></span> <span data-ttu-id="92892-485">The target variable, and hence the label values, are _categorical_.</span><span class="sxs-lookup"><span data-stu-id="92892-485">The target variable, and hence the label values, are _categorical_.</span></span> <span data-ttu-id="92892-486">The model should identify each new example as likely to fail or work normally over the next X time units.</span><span class="sxs-lookup"><span data-stu-id="92892-486">The model should identify each new example as likely to fail or work normally over the next X time units.</span></span>

#### <a name="label-construction-for-binary-classification"></a><span data-ttu-id="92892-487">Label construction for binary classification</span><span class="sxs-lookup"><span data-stu-id="92892-487">Label construction for binary classification</span></span>
<span data-ttu-id="92892-488">The question here is: "What is the probability that the asset will fail in the next X units of time?"</span><span class="sxs-lookup"><span data-stu-id="92892-488">The question here is: "What is the probability that the asset will fail in the next X units of time?"</span></span> <span data-ttu-id="92892-489">To answer this question, label X records prior to the failure of an asset as "about to fail" (label = 1), and label all other records as being "normal" (label =0).</span><span class="sxs-lookup"><span data-stu-id="92892-489">To answer this question, label X records prior to the failure of an asset as "about to fail" (label = 1), and label all other records as being "normal" (label =0).</span></span> <span data-ttu-id="92892-490">(see Figure 3).</span><span class="sxs-lookup"><span data-stu-id="92892-490">(see Figure 3).</span></span>

<span data-ttu-id="92892-491">![Figure 3.</span><span class="sxs-lookup"><span data-stu-id="92892-491">![Figure 3.</span></span> <span data-ttu-id="92892-492">Labeling for binary classification](./media/cortana-analytics-playbook-predictive-maintenance/labelling-for-binary-classification.png) Figure 3.</span><span class="sxs-lookup"><span data-stu-id="92892-492">Labeling for binary classification](./media/cortana-analytics-playbook-predictive-maintenance/labelling-for-binary-classification.png) Figure 3.</span></span> <span data-ttu-id="92892-493">Labeling for binary classification</span><span class="sxs-lookup"><span data-stu-id="92892-493">Labeling for binary classification</span></span>

<span data-ttu-id="92892-494">Examples of labeling strategy for some of the use cases are listed below.</span><span class="sxs-lookup"><span data-stu-id="92892-494">Examples of labeling strategy for some of the use cases are listed below.</span></span>
- <span data-ttu-id="92892-495">_Flight delays_: X may be chosen as 1 day, to predict delays in the next 24 hours.</span><span class="sxs-lookup"><span data-stu-id="92892-495">_Flight delays_: X may be chosen as 1 day, to predict delays in the next 24 hours.</span></span> <span data-ttu-id="92892-496">Then all flights that are within 24 hours before failures are labeled as 1.</span><span class="sxs-lookup"><span data-stu-id="92892-496">Then all flights that are within 24 hours before failures are labeled as 1.</span></span>
- <span data-ttu-id="92892-497">_ATM cash dispense failures_: A goal may be to determine failure probability of a transaction in the next one hour.</span><span class="sxs-lookup"><span data-stu-id="92892-497">_ATM cash dispense failures_: A goal may be to determine failure probability of a transaction in the next one hour.</span></span> <span data-ttu-id="92892-498">In that case, all transactions that happened within the past hour of the failure are labeled as 1.</span><span class="sxs-lookup"><span data-stu-id="92892-498">In that case, all transactions that happened within the past hour of the failure are labeled as 1.</span></span> <span data-ttu-id="92892-499">To predict failure probability over the next N currency notes dispensed, all notes dispensed within the last N notes of a failure are labeled as 1.</span><span class="sxs-lookup"><span data-stu-id="92892-499">To predict failure probability over the next N currency notes dispensed, all notes dispensed within the last N notes of a failure are labeled as 1.</span></span>
- <span data-ttu-id="92892-500">_Circuit breaker failures_: The goal may be to predict the next circuit breaker command failure.</span><span class="sxs-lookup"><span data-stu-id="92892-500">_Circuit breaker failures_: The goal may be to predict the next circuit breaker command failure.</span></span> <span data-ttu-id="92892-501">In that case, X is chosen to be one future command.</span><span class="sxs-lookup"><span data-stu-id="92892-501">In that case, X is chosen to be one future command.</span></span>
- <span data-ttu-id="92892-502">_Train door failures_: X may be chosen as two days.</span><span class="sxs-lookup"><span data-stu-id="92892-502">_Train door failures_: X may be chosen as two days.</span></span>
- <span data-ttu-id="92892-503">_Wind turbine failures_: X may be chosen as two months.</span><span class="sxs-lookup"><span data-stu-id="92892-503">_Wind turbine failures_: X may be chosen as two months.</span></span>

### <a name="regression-for-predictive-maintenance"></a><span data-ttu-id="92892-504">Regression for predictive maintenance</span><span class="sxs-lookup"><span data-stu-id="92892-504">Regression for predictive maintenance</span></span>
<span data-ttu-id="92892-505">Regression models are used to _compute the remaining useful life (RUL) of an asset_.</span><span class="sxs-lookup"><span data-stu-id="92892-505">Regression models are used to _compute the remaining useful life (RUL) of an asset_.</span></span> <span data-ttu-id="92892-506">RUL is defined as the amount of time that an asset is operational before the next failure occurs.</span><span class="sxs-lookup"><span data-stu-id="92892-506">RUL is defined as the amount of time that an asset is operational before the next failure occurs.</span></span> <span data-ttu-id="92892-507">Each training example is a record that belongs to a time unit _nY_ for an asset, where _n_ is the multiple.</span><span class="sxs-lookup"><span data-stu-id="92892-507">Each training example is a record that belongs to a time unit _nY_ for an asset, where _n_ is the multiple.</span></span> <span data-ttu-id="92892-508">The model should calculate the RUL of each new example as a _continuous number_.</span><span class="sxs-lookup"><span data-stu-id="92892-508">The model should calculate the RUL of each new example as a _continuous number_.</span></span> <span data-ttu-id="92892-509">This number denotes the period of time remaining before the failure.</span><span class="sxs-lookup"><span data-stu-id="92892-509">This number denotes the period of time remaining before the failure.</span></span>

#### <a name="label-construction-for-regression"></a><span data-ttu-id="92892-510">Label construction for regression</span><span class="sxs-lookup"><span data-stu-id="92892-510">Label construction for regression</span></span>
<span data-ttu-id="92892-511">The question here is: "What is the remaining useful life (RUL) of the equipment?"</span><span class="sxs-lookup"><span data-stu-id="92892-511">The question here is: "What is the remaining useful life (RUL) of the equipment?"</span></span> <span data-ttu-id="92892-512">For each record prior to the failure, calculate the label to be the number of units of time remaining before the next failure.</span><span class="sxs-lookup"><span data-stu-id="92892-512">For each record prior to the failure, calculate the label to be the number of units of time remaining before the next failure.</span></span> <span data-ttu-id="92892-513">In this method, labels are continuous variables.</span><span class="sxs-lookup"><span data-stu-id="92892-513">In this method, labels are continuous variables.</span></span> <span data-ttu-id="92892-514">(See Figure 4)</span><span class="sxs-lookup"><span data-stu-id="92892-514">(See Figure 4)</span></span>

<span data-ttu-id="92892-515">![Figure 4.</span><span class="sxs-lookup"><span data-stu-id="92892-515">![Figure 4.</span></span> <span data-ttu-id="92892-516">Labeling for regression](./media/cortana-analytics-playbook-predictive-maintenance/labelling-for-regression.png) Figure 4.</span><span class="sxs-lookup"><span data-stu-id="92892-516">Labeling for regression](./media/cortana-analytics-playbook-predictive-maintenance/labelling-for-regression.png) Figure 4.</span></span> <span data-ttu-id="92892-517">Labeling for regression</span><span class="sxs-lookup"><span data-stu-id="92892-517">Labeling for regression</span></span>

<span data-ttu-id="92892-518">For regression, labeling is done with reference to a failure point.</span><span class="sxs-lookup"><span data-stu-id="92892-518">For regression, labeling is done with reference to a failure point.</span></span> <span data-ttu-id="92892-519">Its calculation is not possible without knowing how long the asset has survived before a failure.</span><span class="sxs-lookup"><span data-stu-id="92892-519">Its calculation is not possible without knowing how long the asset has survived before a failure.</span></span> <span data-ttu-id="92892-520">So in contrast to binary classification, assets without any failures in the data cannot be used for modeling.</span><span class="sxs-lookup"><span data-stu-id="92892-520">So in contrast to binary classification, assets without any failures in the data cannot be used for modeling.</span></span> <span data-ttu-id="92892-521">This issue is best addressed by another statistical technique called [Survival Analysis](https://en.wikipedia.org/wiki/Survival_analysis).</span><span class="sxs-lookup"><span data-stu-id="92892-521">This issue is best addressed by another statistical technique called [Survival Analysis](https://en.wikipedia.org/wiki/Survival_analysis).</span></span> <span data-ttu-id="92892-522">But potential complications may arise when applying this technique to PdM use cases that involve time-varying data with frequent intervals.</span><span class="sxs-lookup"><span data-stu-id="92892-522">But potential complications may arise when applying this technique to PdM use cases that involve time-varying data with frequent intervals.</span></span> <span data-ttu-id="92892-523">For more information on Survival Analysis, see [this one-pager](https://www.cscu.cornell.edu/news/statnews/stnews78.pdf).</span><span class="sxs-lookup"><span data-stu-id="92892-523">For more information on Survival Analysis, see [this one-pager](https://www.cscu.cornell.edu/news/statnews/stnews78.pdf).</span></span>

### <a name="multi-class-classification-for-predictive-maintenance"></a><span data-ttu-id="92892-524">Multi-class classification for predictive maintenance</span><span class="sxs-lookup"><span data-stu-id="92892-524">Multi-class classification for predictive maintenance</span></span>
<span data-ttu-id="92892-525">Multi-class classification techniques can be used in PdM solutions for two scenarios:</span><span class="sxs-lookup"><span data-stu-id="92892-525">Multi-class classification techniques can be used in PdM solutions for two scenarios:</span></span>
- <span data-ttu-id="92892-526">Predict _two future outcomes_: The first outcome is _a range of time to failure_ for an asset.</span><span class="sxs-lookup"><span data-stu-id="92892-526">Predict _two future outcomes_: The first outcome is _a range of time to failure_ for an asset.</span></span> <span data-ttu-id="92892-527">The asset is assigned to one of multiple possible periods of time.</span><span class="sxs-lookup"><span data-stu-id="92892-527">The asset is assigned to one of multiple possible periods of time.</span></span> <span data-ttu-id="92892-528">The second outcome is the likelihood of failure in a future period due to _one of the multiple root causes_.</span><span class="sxs-lookup"><span data-stu-id="92892-528">The second outcome is the likelihood of failure in a future period due to _one of the multiple root causes_.</span></span> <span data-ttu-id="92892-529">This prediction enables the maintenance crew to watch for symptoms and plan maintenance schedules.</span><span class="sxs-lookup"><span data-stu-id="92892-529">This prediction enables the maintenance crew to watch for symptoms and plan maintenance schedules.</span></span>
- <span data-ttu-id="92892-530">Predict _the most likely root cause_ of a given failure.</span><span class="sxs-lookup"><span data-stu-id="92892-530">Predict _the most likely root cause_ of a given failure.</span></span> <span data-ttu-id="92892-531">This outcome recommends the right set of maintenance actions to fix a failure.</span><span class="sxs-lookup"><span data-stu-id="92892-531">This outcome recommends the right set of maintenance actions to fix a failure.</span></span> <span data-ttu-id="92892-532">A ranked list of root causes and recommended repairs can help technicians prioritize their repair actions after a failure.</span><span class="sxs-lookup"><span data-stu-id="92892-532">A ranked list of root causes and recommended repairs can help technicians prioritize their repair actions after a failure.</span></span>

#### <a name="label-construction-for-multi-class-classification"></a><span data-ttu-id="92892-533">Label construction for multi-class classification</span><span class="sxs-lookup"><span data-stu-id="92892-533">Label construction for multi-class classification</span></span>
<span data-ttu-id="92892-534">The question here is: "What is the probability that an asset will fail in the next _nZ_ units of time where _n_ is the number of periods?"</span><span class="sxs-lookup"><span data-stu-id="92892-534">The question here is: "What is the probability that an asset will fail in the next _nZ_ units of time where _n_ is the number of periods?"</span></span> <span data-ttu-id="92892-535">To answer this question, label nZ records prior to the failure of an asset using buckets of time (3Z, 2Z, Z).</span><span class="sxs-lookup"><span data-stu-id="92892-535">To answer this question, label nZ records prior to the failure of an asset using buckets of time (3Z, 2Z, Z).</span></span> <span data-ttu-id="92892-536">Label all other records as "normal" (label = 0).</span><span class="sxs-lookup"><span data-stu-id="92892-536">Label all other records as "normal" (label = 0).</span></span> <span data-ttu-id="92892-537">In this method, the target variable holds _categorical_ values.</span><span class="sxs-lookup"><span data-stu-id="92892-537">In this method, the target variable holds _categorical_ values.</span></span> <span data-ttu-id="92892-538">(See Figure 5).</span><span class="sxs-lookup"><span data-stu-id="92892-538">(See Figure 5).</span></span>

<span data-ttu-id="92892-539">![Figure 5.</span><span class="sxs-lookup"><span data-stu-id="92892-539">![Figure 5.</span></span> <span data-ttu-id="92892-540">Labeling for multiclass classification for failure time prediction](./media/cortana-analytics-playbook-predictive-maintenance/labelling-for-multiclass-classification-for-failure-time-prediction.png) Figure 5.</span><span class="sxs-lookup"><span data-stu-id="92892-540">Labeling for multiclass classification for failure time prediction](./media/cortana-analytics-playbook-predictive-maintenance/labelling-for-multiclass-classification-for-failure-time-prediction.png) Figure 5.</span></span> <span data-ttu-id="92892-541">Labeling for multi-class classification for failure time prediction</span><span class="sxs-lookup"><span data-stu-id="92892-541">Labeling for multi-class classification for failure time prediction</span></span>

<span data-ttu-id="92892-542">The question here is: "What is the probability that the asset will fail in the next X units of time due to root cause/problem _P<sub>i</sub>_?"</span><span class="sxs-lookup"><span data-stu-id="92892-542">The question here is: "What is the probability that the asset will fail in the next X units of time due to root cause/problem _P<sub>i</sub>_?"</span></span> <span data-ttu-id="92892-543">where _i_ is the number of possible root causes.</span><span class="sxs-lookup"><span data-stu-id="92892-543">where _i_ is the number of possible root causes.</span></span> <span data-ttu-id="92892-544">To answer this question, label X records prior to the failure of an asset as "about to fail due to root cause _P<sub>i</sub>_" (label = _P<sub>i</sub>_).</span><span class="sxs-lookup"><span data-stu-id="92892-544">To answer this question, label X records prior to the failure of an asset as "about to fail due to root cause _P<sub>i</sub>_" (label = _P<sub>i</sub>_).</span></span> <span data-ttu-id="92892-545">Label all other records as being "normal" (label = 0).</span><span class="sxs-lookup"><span data-stu-id="92892-545">Label all other records as being "normal" (label = 0).</span></span> <span data-ttu-id="92892-546">In this method also, labels are categorical (See Figure 6).</span><span class="sxs-lookup"><span data-stu-id="92892-546">In this method also, labels are categorical (See Figure 6).</span></span>

<span data-ttu-id="92892-547">![Figure 6.</span><span class="sxs-lookup"><span data-stu-id="92892-547">![Figure 6.</span></span> <span data-ttu-id="92892-548">Labeling for multiclass classification for root cause prediction](./media/cortana-analytics-playbook-predictive-maintenance/labelling-for-multiclass-classification-for-root-cause-prediction.png) Figure 6.</span><span class="sxs-lookup"><span data-stu-id="92892-548">Labeling for multiclass classification for root cause prediction](./media/cortana-analytics-playbook-predictive-maintenance/labelling-for-multiclass-classification-for-root-cause-prediction.png) Figure 6.</span></span> <span data-ttu-id="92892-549">Labeling for multi-class classification for root cause prediction</span><span class="sxs-lookup"><span data-stu-id="92892-549">Labeling for multi-class classification for root cause prediction</span></span>

<span data-ttu-id="92892-550">The model assigns a failure probability due to each _P<sub>i</sub>_ as well as the probability of no failure.</span><span class="sxs-lookup"><span data-stu-id="92892-550">The model assigns a failure probability due to each _P<sub>i</sub>_ as well as the probability of no failure.</span></span> <span data-ttu-id="92892-551">These probabilities can be ordered by magnitude to allow prediction of the problems that are most likely to occur in the future.</span><span class="sxs-lookup"><span data-stu-id="92892-551">These probabilities can be ordered by magnitude to allow prediction of the problems that are most likely to occur in the future.</span></span>

<span data-ttu-id="92892-552">The question here is: "What maintenance actions do you recommend after a failure?"</span><span class="sxs-lookup"><span data-stu-id="92892-552">The question here is: "What maintenance actions do you recommend after a failure?"</span></span> <span data-ttu-id="92892-553">To answer this question, labeling _does not require a future horizon to be picked_, because the model is not predicting failure in the future.</span><span class="sxs-lookup"><span data-stu-id="92892-553">To answer this question, labeling _does not require a future horizon to be picked_, because the model is not predicting failure in the future.</span></span> <span data-ttu-id="92892-554">It is just predicting the most likely root cause _once the failure has already happened_.</span><span class="sxs-lookup"><span data-stu-id="92892-554">It is just predicting the most likely root cause _once the failure has already happened_.</span></span>

## <a name="training-validation-and-testing-methods-for-predictive-maintenance"></a><span data-ttu-id="92892-555">Training, validation, and testing methods for predictive maintenance</span><span class="sxs-lookup"><span data-stu-id="92892-555">Training, validation, and testing methods for predictive maintenance</span></span>
<span data-ttu-id="92892-556">The [Team Data Science Process](https://docs.microsoft.com/azure/machine-learning/team-data-science-process/overview) provides a full coverage of the model train-test-validate cycle.</span><span class="sxs-lookup"><span data-stu-id="92892-556">The [Team Data Science Process](https://docs.microsoft.com/azure/machine-learning/team-data-science-process/overview) provides a full coverage of the model train-test-validate cycle.</span></span> <span data-ttu-id="92892-557">This section discusses aspects unique to PdM.</span><span class="sxs-lookup"><span data-stu-id="92892-557">This section discusses aspects unique to PdM.</span></span>

### <a name="cross-validation"></a><span data-ttu-id="92892-558">Cross validation</span><span class="sxs-lookup"><span data-stu-id="92892-558">Cross validation</span></span>
<span data-ttu-id="92892-559">The goal of [cross validation](https://en.wikipedia.org/wiki/Cross-validation_(statistics)) is to define a data set to "test" the model in the training phase.</span><span class="sxs-lookup"><span data-stu-id="92892-559">The goal of [cross validation](https://en.wikipedia.org/wiki/Cross-validation_(statistics)) is to define a data set to "test" the model in the training phase.</span></span> <span data-ttu-id="92892-560">This data set is called the _validation set_.</span><span class="sxs-lookup"><span data-stu-id="92892-560">This data set is called the _validation set_.</span></span> <span data-ttu-id="92892-561">This technique helps limit problems like _overfitting_ and gives an insight on how the model will generalize to an independent data set.</span><span class="sxs-lookup"><span data-stu-id="92892-561">This technique helps limit problems like _overfitting_ and gives an insight on how the model will generalize to an independent data set.</span></span> <span data-ttu-id="92892-562">That is, an unknown data set, which could be from a real problem.</span><span class="sxs-lookup"><span data-stu-id="92892-562">That is, an unknown data set, which could be from a real problem.</span></span> <span data-ttu-id="92892-563">The training and testing routine for PdM needs to take into account the time varying aspects to better generalize on unseen future data.</span><span class="sxs-lookup"><span data-stu-id="92892-563">The training and testing routine for PdM needs to take into account the time varying aspects to better generalize on unseen future data.</span></span>

<span data-ttu-id="92892-564">Many machine learning algorithms depend on a number of hyperparameters that can change the model performance significantly.</span><span class="sxs-lookup"><span data-stu-id="92892-564">Many machine learning algorithms depend on a number of hyperparameters that can change the model performance significantly.</span></span> <span data-ttu-id="92892-565">The optimal values of these hyperparameters are not computed automatically when training the model.</span><span class="sxs-lookup"><span data-stu-id="92892-565">The optimal values of these hyperparameters are not computed automatically when training the model.</span></span> <span data-ttu-id="92892-566">They should be specified by the data scientist.</span><span class="sxs-lookup"><span data-stu-id="92892-566">They should be specified by the data scientist.</span></span> <span data-ttu-id="92892-567">There are several ways of finding good values of hyperparameters.</span><span class="sxs-lookup"><span data-stu-id="92892-567">There are several ways of finding good values of hyperparameters.</span></span>

<span data-ttu-id="92892-568">The most common one is _k-fold cross-validation_ that splits the examples randomly into _k_ folds.</span><span class="sxs-lookup"><span data-stu-id="92892-568">The most common one is _k-fold cross-validation_ that splits the examples randomly into _k_ folds.</span></span> <span data-ttu-id="92892-569">For each set of hyperparameters values, run the learning algorithm _k_ times.</span><span class="sxs-lookup"><span data-stu-id="92892-569">For each set of hyperparameters values, run the learning algorithm _k_ times.</span></span> <span data-ttu-id="92892-570">At each iteration, use the examples in the current fold as a validation set, and the rest of the examples as a training set.</span><span class="sxs-lookup"><span data-stu-id="92892-570">At each iteration, use the examples in the current fold as a validation set, and the rest of the examples as a training set.</span></span> <span data-ttu-id="92892-571">Train the algorithm over training examples and compute the performance metrics over validation examples.</span><span class="sxs-lookup"><span data-stu-id="92892-571">Train the algorithm over training examples and compute the performance metrics over validation examples.</span></span> <span data-ttu-id="92892-572">At the end of this loop, compute the average of _k_ performance metrics.</span><span class="sxs-lookup"><span data-stu-id="92892-572">At the end of this loop, compute the average of _k_ performance metrics.</span></span> <span data-ttu-id="92892-573">For each set of hyperparameter values, choose the ones that have the best average performance.</span><span class="sxs-lookup"><span data-stu-id="92892-573">For each set of hyperparameter values, choose the ones that have the best average performance.</span></span> <span data-ttu-id="92892-574">The task of choosing hyperparameters is often experimental in nature.</span><span class="sxs-lookup"><span data-stu-id="92892-574">The task of choosing hyperparameters is often experimental in nature.</span></span>

<span data-ttu-id="92892-575">In PdM problems, data is recorded as a time series of events that come from several data sources.</span><span class="sxs-lookup"><span data-stu-id="92892-575">In PdM problems, data is recorded as a time series of events that come from several data sources.</span></span> <span data-ttu-id="92892-576">These records may be ordered according to the time of labeling.</span><span class="sxs-lookup"><span data-stu-id="92892-576">These records may be ordered according to the time of labeling.</span></span> <span data-ttu-id="92892-577">Hence, if the dataset is split _randomly_ into training and validation set, _some of the training examples may be later in time than some of validation examples_.</span><span class="sxs-lookup"><span data-stu-id="92892-577">Hence, if the dataset is split _randomly_ into training and validation set, _some of the training examples may be later in time than some of validation examples_.</span></span> <span data-ttu-id="92892-578">Future performance of hyperparameter values will be estimated based on some data that arrived _before_ model was trained.</span><span class="sxs-lookup"><span data-stu-id="92892-578">Future performance of hyperparameter values will be estimated based on some data that arrived _before_ model was trained.</span></span> <span data-ttu-id="92892-579">These estimations might be overly optimistic, especially if the time-series is not stationary and evolves over time.</span><span class="sxs-lookup"><span data-stu-id="92892-579">These estimations might be overly optimistic, especially if the time-series is not stationary and evolves over time.</span></span> <span data-ttu-id="92892-580">As a result, the chosen hyperparameter values might be suboptimal.</span><span class="sxs-lookup"><span data-stu-id="92892-580">As a result, the chosen hyperparameter values might be suboptimal.</span></span>

<span data-ttu-id="92892-581">The recommended way is to split the examples into training and validation set in a _time-dependent_ manner, where all validation examples are later in time than all training examples.</span><span class="sxs-lookup"><span data-stu-id="92892-581">The recommended way is to split the examples into training and validation set in a _time-dependent_ manner, where all validation examples are later in time than all training examples.</span></span> <span data-ttu-id="92892-582">For each set of hyperparameter values, train the algorithm over the training data set.</span><span class="sxs-lookup"><span data-stu-id="92892-582">For each set of hyperparameter values, train the algorithm over the training data set.</span></span> <span data-ttu-id="92892-583">Measure the model’s performance over the same validation set.</span><span class="sxs-lookup"><span data-stu-id="92892-583">Measure the model’s performance over the same validation set.</span></span> <span data-ttu-id="92892-584">Choose hyperparameter values that show the best performance.</span><span class="sxs-lookup"><span data-stu-id="92892-584">Choose hyperparameter values that show the best performance.</span></span> <span data-ttu-id="92892-585">Hyperparameter values chosen by train/validation split result in better future model performance than with the values chosen randomly by cross-validation.</span><span class="sxs-lookup"><span data-stu-id="92892-585">Hyperparameter values chosen by train/validation split result in better future model performance than with the values chosen randomly by cross-validation.</span></span>

<span data-ttu-id="92892-586">The final model can be generated by training a learning algorithm over entire training data using the best hyperparameter values.</span><span class="sxs-lookup"><span data-stu-id="92892-586">The final model can be generated by training a learning algorithm over entire training data using the best hyperparameter values.</span></span>

### <a name="testing-for-model-performance"></a><span data-ttu-id="92892-587">Testing for model performance</span><span class="sxs-lookup"><span data-stu-id="92892-587">Testing for model performance</span></span>
<span data-ttu-id="92892-588">Once a model is built, an estimate of its future performance on new data is required.</span><span class="sxs-lookup"><span data-stu-id="92892-588">Once a model is built, an estimate of its future performance on new data is required.</span></span> <span data-ttu-id="92892-589">A good estimate is the performance metric of hyperparameter values computed over the validation set, or an average performance metric computed from cross-validation.</span><span class="sxs-lookup"><span data-stu-id="92892-589">A good estimate is the performance metric of hyperparameter values computed over the validation set, or an average performance metric computed from cross-validation.</span></span> <span data-ttu-id="92892-590">These estimations are often overly optimistic.</span><span class="sxs-lookup"><span data-stu-id="92892-590">These estimations are often overly optimistic.</span></span> <span data-ttu-id="92892-591">The business might often have some additional guidelines on how they would like to test the model.</span><span class="sxs-lookup"><span data-stu-id="92892-591">The business might often have some additional guidelines on how they would like to test the model.</span></span>

<span data-ttu-id="92892-592">The recommended way for PdM is to split the examples into training, validation, and test data sets in a _time-dependent_ manner.</span><span class="sxs-lookup"><span data-stu-id="92892-592">The recommended way for PdM is to split the examples into training, validation, and test data sets in a _time-dependent_ manner.</span></span> <span data-ttu-id="92892-593">All test examples should be later in time than all the training and validation examples.</span><span class="sxs-lookup"><span data-stu-id="92892-593">All test examples should be later in time than all the training and validation examples.</span></span> <span data-ttu-id="92892-594">After the split, generate the model and measure its performance as described earlier.</span><span class="sxs-lookup"><span data-stu-id="92892-594">After the split, generate the model and measure its performance as described earlier.</span></span>

<span data-ttu-id="92892-595">When time-series are stationary and easy to predict, both random and time-dependent approaches generate similar estimations of future performance.</span><span class="sxs-lookup"><span data-stu-id="92892-595">When time-series are stationary and easy to predict, both random and time-dependent approaches generate similar estimations of future performance.</span></span> <span data-ttu-id="92892-596">But when time-series are non-stationary, and/or hard to predict, the time-dependent approach will generate more realistic estimates of future performance.</span><span class="sxs-lookup"><span data-stu-id="92892-596">But when time-series are non-stationary, and/or hard to predict, the time-dependent approach will generate more realistic estimates of future performance.</span></span>

### <a name="time-dependent-split"></a><span data-ttu-id="92892-597">Time-dependent split</span><span class="sxs-lookup"><span data-stu-id="92892-597">Time-dependent split</span></span>
<span data-ttu-id="92892-598">This section describes best practices to implement time-dependent split.</span><span class="sxs-lookup"><span data-stu-id="92892-598">This section describes best practices to implement time-dependent split.</span></span> <span data-ttu-id="92892-599">A time-dependent two-way split between training and test sets is described below.</span><span class="sxs-lookup"><span data-stu-id="92892-599">A time-dependent two-way split between training and test sets is described below.</span></span>

<span data-ttu-id="92892-600">Assume a stream of timestamped events such as measurements from various sensors.</span><span class="sxs-lookup"><span data-stu-id="92892-600">Assume a stream of timestamped events such as measurements from various sensors.</span></span> <span data-ttu-id="92892-601">Define features and labels of training and test examples over time frames that contain multiple events.</span><span class="sxs-lookup"><span data-stu-id="92892-601">Define features and labels of training and test examples over time frames that contain multiple events.</span></span> <span data-ttu-id="92892-602">For example, for binary classification, create features based on past events, and create labels  based on future events within "X" units of time in the future (see the sections on [feature engineering](#Feature-engineering) and [modeling techniques](#Modeling-techniques-applied-to-PdM-use-cases)).</span><span class="sxs-lookup"><span data-stu-id="92892-602">For example, for binary classification, create features based on past events, and create labels  based on future events within "X" units of time in the future (see the sections on [feature engineering](#Feature-engineering) and [modeling techniques](#Modeling-techniques-applied-to-PdM-use-cases)).</span></span> <span data-ttu-id="92892-603">Thus, the labeling time frame of an example comes later than the time frame of its features.</span><span class="sxs-lookup"><span data-stu-id="92892-603">Thus, the labeling time frame of an example comes later than the time frame of its features.</span></span>

<span data-ttu-id="92892-604">For time-dependent split, pick a _training cutoff time T<sub>c</sub>_ at which to train a model, with hyperparameters tuned using historical data up to T<sub>c</sub>.</span><span class="sxs-lookup"><span data-stu-id="92892-604">For time-dependent split, pick a _training cutoff time T<sub>c</sub>_ at which to train a model, with hyperparameters tuned using historical data up to T<sub>c</sub>.</span></span> <span data-ttu-id="92892-605">To prevent leakage of future labels that are beyond T<sub>c</sub> into the training data, choose the latest time to label training examples to be X units before T<sub>c</sub>.</span><span class="sxs-lookup"><span data-stu-id="92892-605">To prevent leakage of future labels that are beyond T<sub>c</sub> into the training data, choose the latest time to label training examples to be X units before T<sub>c</sub>.</span></span> <span data-ttu-id="92892-606">In the example shown in Figure 7, each square represents a record in the data set where features and labels are computed as described above.</span><span class="sxs-lookup"><span data-stu-id="92892-606">In the example shown in Figure 7, each square represents a record in the data set where features and labels are computed as described above.</span></span> <span data-ttu-id="92892-607">The figure shows the records that should go into training and testing sets for X=2 and W=3:</span><span class="sxs-lookup"><span data-stu-id="92892-607">The figure shows the records that should go into training and testing sets for X=2 and W=3:</span></span>

<span data-ttu-id="92892-608">![Figure 7.</span><span class="sxs-lookup"><span data-stu-id="92892-608">![Figure 7.</span></span> <span data-ttu-id="92892-609">Time-dependent split for binary classification](./media/cortana-analytics-playbook-predictive-maintenance/time-dependent-split-for-binary-classification.png) Figure 7.</span><span class="sxs-lookup"><span data-stu-id="92892-609">Time-dependent split for binary classification](./media/cortana-analytics-playbook-predictive-maintenance/time-dependent-split-for-binary-classification.png) Figure 7.</span></span> <span data-ttu-id="92892-610">Time-dependent split for binary classification</span><span class="sxs-lookup"><span data-stu-id="92892-610">Time-dependent split for binary classification</span></span>

<span data-ttu-id="92892-611">The green squares represent records belonging to the time units that can be used for training.</span><span class="sxs-lookup"><span data-stu-id="92892-611">The green squares represent records belonging to the time units that can be used for training.</span></span> <span data-ttu-id="92892-612">Each training example is generated by considering the past three periods for feature generation, and two future periods for labeling before T<sub>c</sub>.</span><span class="sxs-lookup"><span data-stu-id="92892-612">Each training example is generated by considering the past three periods for feature generation, and two future periods for labeling before T<sub>c</sub>.</span></span> <span data-ttu-id="92892-613">When any part of the two future periods is beyond T<sub>c</sub>, exclude that example from the training data set because no visibility is assumed beyond T<sub>c</sub>.</span><span class="sxs-lookup"><span data-stu-id="92892-613">When any part of the two future periods is beyond T<sub>c</sub>, exclude that example from the training data set because no visibility is assumed beyond T<sub>c</sub>.</span></span>

<span data-ttu-id="92892-614">The black squares represent the records of the final labeled data set that should not be used in the training data set, given the above constraint.</span><span class="sxs-lookup"><span data-stu-id="92892-614">The black squares represent the records of the final labeled data set that should not be used in the training data set, given the above constraint.</span></span> <span data-ttu-id="92892-615">These records will also not be used in testing data, since they are before T<sub>c</sub>.</span><span class="sxs-lookup"><span data-stu-id="92892-615">These records will also not be used in testing data, since they are before T<sub>c</sub>.</span></span> <span data-ttu-id="92892-616">In addition, their labeling time frames partially depend on the training time frame, which is not ideal.</span><span class="sxs-lookup"><span data-stu-id="92892-616">In addition, their labeling time frames partially depend on the training time frame, which is not ideal.</span></span> <span data-ttu-id="92892-617">Training and test data should have separate labeling time frames to prevent label information leakage.</span><span class="sxs-lookup"><span data-stu-id="92892-617">Training and test data should have separate labeling time frames to prevent label information leakage.</span></span>

<span data-ttu-id="92892-618">The technique discussed so far allows for overlap between training and testing examples that have timestamps near T<sub>c</sub>.</span><span class="sxs-lookup"><span data-stu-id="92892-618">The technique discussed so far allows for overlap between training and testing examples that have timestamps near T<sub>c</sub>.</span></span> <span data-ttu-id="92892-619">A solution to achieve greater separation is to exclude examples that are within W time units of T<sub>c</sub> from the test set.</span><span class="sxs-lookup"><span data-stu-id="92892-619">A solution to achieve greater separation is to exclude examples that are within W time units of T<sub>c</sub> from the test set.</span></span> <span data-ttu-id="92892-620">But such an aggressive split depends on ample data availability.</span><span class="sxs-lookup"><span data-stu-id="92892-620">But such an aggressive split depends on ample data availability.</span></span>

<span data-ttu-id="92892-621">Regression models used for predicting RUL are more severely affected by the leakage problem.</span><span class="sxs-lookup"><span data-stu-id="92892-621">Regression models used for predicting RUL are more severely affected by the leakage problem.</span></span> <span data-ttu-id="92892-622">Using the random split method leads to extreme over-fitting.</span><span class="sxs-lookup"><span data-stu-id="92892-622">Using the random split method leads to extreme over-fitting.</span></span> <span data-ttu-id="92892-623">For regression problems, the split should be such that the records belonging to assets with failures before T<sub>c</sub> go into the training set.</span><span class="sxs-lookup"><span data-stu-id="92892-623">For regression problems, the split should be such that the records belonging to assets with failures before T<sub>c</sub> go into the training set.</span></span> <span data-ttu-id="92892-624">Records of assets that have failures after the cutoff go into the test set.</span><span class="sxs-lookup"><span data-stu-id="92892-624">Records of assets that have failures after the cutoff go into the test set.</span></span>

<span data-ttu-id="92892-625">Another best practice for splitting data for training and testing is to use a split by asset ID.</span><span class="sxs-lookup"><span data-stu-id="92892-625">Another best practice for splitting data for training and testing is to use a split by asset ID.</span></span> <span data-ttu-id="92892-626">The split should be such that none of the assets used in the training set are used in testing the model performance.</span><span class="sxs-lookup"><span data-stu-id="92892-626">The split should be such that none of the assets used in the training set are used in testing the model performance.</span></span> <span data-ttu-id="92892-627">Using this approach, a model has a better chance of providing more realistic results with new assets.</span><span class="sxs-lookup"><span data-stu-id="92892-627">Using this approach, a model has a better chance of providing more realistic results with new assets.</span></span>

### <a name="handling-imbalanced-data"></a><span data-ttu-id="92892-628">Handling imbalanced data</span><span class="sxs-lookup"><span data-stu-id="92892-628">Handling imbalanced data</span></span>
<span data-ttu-id="92892-629">In classification problems, if there are more examples of one class than of the others, the data set is said to be _imbalanced_.</span><span class="sxs-lookup"><span data-stu-id="92892-629">In classification problems, if there are more examples of one class than of the others, the data set is said to be _imbalanced_.</span></span> <span data-ttu-id="92892-630">Ideally, enough representatives of each class in the training data are preferred to enable differentiation between different classes.</span><span class="sxs-lookup"><span data-stu-id="92892-630">Ideally, enough representatives of each class in the training data are preferred to enable differentiation between different classes.</span></span> <span data-ttu-id="92892-631">If one class is less than 10% of the data, the data is deemed to be imbalanced.</span><span class="sxs-lookup"><span data-stu-id="92892-631">If one class is less than 10% of the data, the data is deemed to be imbalanced.</span></span> <span data-ttu-id="92892-632">The underrepresented class is called a _minority class_.</span><span class="sxs-lookup"><span data-stu-id="92892-632">The underrepresented class is called a _minority class_.</span></span>

<span data-ttu-id="92892-633">Many PdM problems face such imbalanced datasets, where one class is severely underrepresented compared to the other class, or classes.</span><span class="sxs-lookup"><span data-stu-id="92892-633">Many PdM problems face such imbalanced datasets, where one class is severely underrepresented compared to the other class, or classes.</span></span> <span data-ttu-id="92892-634">In some situations, the minority class may constitute only 0.001% of the total data points.</span><span class="sxs-lookup"><span data-stu-id="92892-634">In some situations, the minority class may constitute only 0.001% of the total data points.</span></span> <span data-ttu-id="92892-635">Class imbalance is not unique to PdM.</span><span class="sxs-lookup"><span data-stu-id="92892-635">Class imbalance is not unique to PdM.</span></span> <span data-ttu-id="92892-636">Other domains where failures and anomalies are rare occurrences face a similar problem, for examples, fraud detection and network intrusion.</span><span class="sxs-lookup"><span data-stu-id="92892-636">Other domains where failures and anomalies are rare occurrences face a similar problem, for examples, fraud detection and network intrusion.</span></span> <span data-ttu-id="92892-637">These failures make up the minority class examples.</span><span class="sxs-lookup"><span data-stu-id="92892-637">These failures make up the minority class examples.</span></span>

<span data-ttu-id="92892-638">With class imbalance in data, performance of most standard learning algorithms is compromised, since they aim to minimize the overall error rate.</span><span class="sxs-lookup"><span data-stu-id="92892-638">With class imbalance in data, performance of most standard learning algorithms is compromised, since they aim to minimize the overall error rate.</span></span> <span data-ttu-id="92892-639">For a data set with 99% negative and 1% positive examples, a model can be shown to have 99% accuracy by labeling all instances as negative.</span><span class="sxs-lookup"><span data-stu-id="92892-639">For a data set with 99% negative and 1% positive examples, a model can be shown to have 99% accuracy by labeling all instances as negative.</span></span> <span data-ttu-id="92892-640">But the model will mis-classify all positive examples; so even if its accuracy is high, the algorithm is not a useful one.</span><span class="sxs-lookup"><span data-stu-id="92892-640">But the model will mis-classify all positive examples; so even if its accuracy is high, the algorithm is not a useful one.</span></span> <span data-ttu-id="92892-641">Consequently, conventional evaluation metrics such as _overall accuracy on error rate_ are insufficient for imbalanced learning.</span><span class="sxs-lookup"><span data-stu-id="92892-641">Consequently, conventional evaluation metrics such as _overall accuracy on error rate_ are insufficient for imbalanced learning.</span></span> <span data-ttu-id="92892-642">When faced with imbalanced datasets, other metrics are used for model evaluation:</span><span class="sxs-lookup"><span data-stu-id="92892-642">When faced with imbalanced datasets, other metrics are used for model evaluation:</span></span>
- <span data-ttu-id="92892-643">Precision</span><span class="sxs-lookup"><span data-stu-id="92892-643">Precision</span></span>
- <span data-ttu-id="92892-644">Recall</span><span class="sxs-lookup"><span data-stu-id="92892-644">Recall</span></span>
- <span data-ttu-id="92892-645">F1 scores</span><span class="sxs-lookup"><span data-stu-id="92892-645">F1 scores</span></span>
- <span data-ttu-id="92892-646">Cost adjusted ROC (receiver operating characteristics)</span><span class="sxs-lookup"><span data-stu-id="92892-646">Cost adjusted ROC (receiver operating characteristics)</span></span>

<span data-ttu-id="92892-647">For more information about these metrics, see [model evaluation](#Model-evaluation).</span><span class="sxs-lookup"><span data-stu-id="92892-647">For more information about these metrics, see [model evaluation](#Model-evaluation).</span></span>

<span data-ttu-id="92892-648">However, there are some methods that help remedy class imbalance problem.</span><span class="sxs-lookup"><span data-stu-id="92892-648">However, there are some methods that help remedy class imbalance problem.</span></span> <span data-ttu-id="92892-649">The two major ones are _sampling techniques_ and _cost sensitive learning_.</span><span class="sxs-lookup"><span data-stu-id="92892-649">The two major ones are _sampling techniques_ and _cost sensitive learning_.</span></span>

#### <a name="sampling-methods"></a><span data-ttu-id="92892-650">Sampling methods</span><span class="sxs-lookup"><span data-stu-id="92892-650">Sampling methods</span></span>
<span data-ttu-id="92892-651">Imbalanced learning involves the use of sampling methods to modify the training data set to a balanced data set.</span><span class="sxs-lookup"><span data-stu-id="92892-651">Imbalanced learning involves the use of sampling methods to modify the training data set to a balanced data set.</span></span> <span data-ttu-id="92892-652">Sampling methods are not to be applied to the test set.</span><span class="sxs-lookup"><span data-stu-id="92892-652">Sampling methods are not to be applied to the test set.</span></span> <span data-ttu-id="92892-653">Although there are several sampling techniques, most straight forward ones are _random oversampling_ and _under sampling_.</span><span class="sxs-lookup"><span data-stu-id="92892-653">Although there are several sampling techniques, most straight forward ones are _random oversampling_ and _under sampling_.</span></span>

<span data-ttu-id="92892-654">_Random oversampling_ involves selecting a random sample from minority class, replicating these examples, and adding them to training data set.</span><span class="sxs-lookup"><span data-stu-id="92892-654">_Random oversampling_ involves selecting a random sample from minority class, replicating these examples, and adding them to training data set.</span></span> <span data-ttu-id="92892-655">Consequently, the number of examples in minority class is increased, and eventually balance the number of examples of different classes.</span><span class="sxs-lookup"><span data-stu-id="92892-655">Consequently, the number of examples in minority class is increased, and eventually balance the number of examples of different classes.</span></span> <span data-ttu-id="92892-656">A drawback of oversampling is that multiple instances of certain examples can cause the classifier to become too specific, leading to over-fitting.</span><span class="sxs-lookup"><span data-stu-id="92892-656">A drawback of oversampling is that multiple instances of certain examples can cause the classifier to become too specific, leading to over-fitting.</span></span> <span data-ttu-id="92892-657">The model may show high training accuracy, but its performance on unseen test data may be suboptimal.</span><span class="sxs-lookup"><span data-stu-id="92892-657">The model may show high training accuracy, but its performance on unseen test data may be suboptimal.</span></span>

<span data-ttu-id="92892-658">Conversely, _random under sampling_ is selecting a random sample from a majority class and removing those examples from training data set.</span><span class="sxs-lookup"><span data-stu-id="92892-658">Conversely, _random under sampling_ is selecting a random sample from a majority class and removing those examples from training data set.</span></span> <span data-ttu-id="92892-659">However, removing examples from majority class may cause the classifier to miss important concepts pertaining to the majority class.</span><span class="sxs-lookup"><span data-stu-id="92892-659">However, removing examples from majority class may cause the classifier to miss important concepts pertaining to the majority class.</span></span> <span data-ttu-id="92892-660">_Hybrid sampling_ where minority class is over-sampled and majority class is under-sampled at the same time is another viable approach.</span><span class="sxs-lookup"><span data-stu-id="92892-660">_Hybrid sampling_ where minority class is over-sampled and majority class is under-sampled at the same time is another viable approach.</span></span>

<span data-ttu-id="92892-661">There are many sophisticated sampling techniques.</span><span class="sxs-lookup"><span data-stu-id="92892-661">There are many sophisticated sampling techniques.</span></span> <span data-ttu-id="92892-662">The technique chosen depends on the data properties and results of iterative experiments by the data scientist.</span><span class="sxs-lookup"><span data-stu-id="92892-662">The technique chosen depends on the data properties and results of iterative experiments by the data scientist.</span></span>

#### <a name="cost-sensitive-learning"></a><span data-ttu-id="92892-663">Cost sensitive learning</span><span class="sxs-lookup"><span data-stu-id="92892-663">Cost sensitive learning</span></span>
<span data-ttu-id="92892-664">In PdM, failures that constitute the minority class are of more interest than normal examples.</span><span class="sxs-lookup"><span data-stu-id="92892-664">In PdM, failures that constitute the minority class are of more interest than normal examples.</span></span> <span data-ttu-id="92892-665">So the focus is mainly on the algorithm's performance on failures.</span><span class="sxs-lookup"><span data-stu-id="92892-665">So the focus is mainly on the algorithm's performance on failures.</span></span> <span data-ttu-id="92892-666">Incorrectly predicting a positive class as a negative class can cost more than vice-versa.</span><span class="sxs-lookup"><span data-stu-id="92892-666">Incorrectly predicting a positive class as a negative class can cost more than vice-versa.</span></span> <span data-ttu-id="92892-667">This situation is commonly referred as unequal loss or asymmetric cost of mis-classifying elements to different classes.</span><span class="sxs-lookup"><span data-stu-id="92892-667">This situation is commonly referred as unequal loss or asymmetric cost of mis-classifying elements to different classes.</span></span> <span data-ttu-id="92892-668">The ideal classifier should deliver high prediction accuracy over the minority class, without compromising on the accuracy for the majority class.</span><span class="sxs-lookup"><span data-stu-id="92892-668">The ideal classifier should deliver high prediction accuracy over the minority class, without compromising on the accuracy for the majority class.</span></span>

<span data-ttu-id="92892-669">There are multiple ways to achieve this balance.</span><span class="sxs-lookup"><span data-stu-id="92892-669">There are multiple ways to achieve this balance.</span></span> <span data-ttu-id="92892-670">To mitigate the problem of unequal loss, assign a high cost to mis-classification of the minority class, and try to minimize the overall cost.</span><span class="sxs-lookup"><span data-stu-id="92892-670">To mitigate the problem of unequal loss, assign a high cost to mis-classification of the minority class, and try to minimize the overall cost.</span></span> <span data-ttu-id="92892-671">Algorithms like _SVMs (Support Vector Machines)_ adopt this method inherently, by allowing cost of positive and negative examples to be specified during training.</span><span class="sxs-lookup"><span data-stu-id="92892-671">Algorithms like _SVMs (Support Vector Machines)_ adopt this method inherently, by allowing cost of positive and negative examples to be specified during training.</span></span> <span data-ttu-id="92892-672">Similarly, boosting methods such as _boosted decision trees_ usually show good performance with imbalanced data.</span><span class="sxs-lookup"><span data-stu-id="92892-672">Similarly, boosting methods such as _boosted decision trees_ usually show good performance with imbalanced data.</span></span>

## <a name="model-evaluation"></a><span data-ttu-id="92892-673">Model evaluation</span><span class="sxs-lookup"><span data-stu-id="92892-673">Model evaluation</span></span>
<span data-ttu-id="92892-674">Mis-classification is a significant problem for PdM scenarios where the cost of false alarms to the business is high.</span><span class="sxs-lookup"><span data-stu-id="92892-674">Mis-classification is a significant problem for PdM scenarios where the cost of false alarms to the business is high.</span></span> <span data-ttu-id="92892-675">For instance, a decision to ground an aircraft based on an incorrect prediction of engine failure can disrupt schedules and travel plans.</span><span class="sxs-lookup"><span data-stu-id="92892-675">For instance, a decision to ground an aircraft based on an incorrect prediction of engine failure can disrupt schedules and travel plans.</span></span> <span data-ttu-id="92892-676">Taking a machine offline from an assembly line can lead to loss of revenue.</span><span class="sxs-lookup"><span data-stu-id="92892-676">Taking a machine offline from an assembly line can lead to loss of revenue.</span></span> <span data-ttu-id="92892-677">So model evaluation with the right performance metrics against new test data is critical.</span><span class="sxs-lookup"><span data-stu-id="92892-677">So model evaluation with the right performance metrics against new test data is critical.</span></span>

<span data-ttu-id="92892-678">Typical performance metrics used to evaluate PdM models are discussed below:</span><span class="sxs-lookup"><span data-stu-id="92892-678">Typical performance metrics used to evaluate PdM models are discussed below:</span></span>

- <span data-ttu-id="92892-679">[Accuracy](https://en.wikipedia.org/wiki/Accuracy_and_precision) is the most popular metric used for describing a classifier’s performance.</span><span class="sxs-lookup"><span data-stu-id="92892-679">[Accuracy](https://en.wikipedia.org/wiki/Accuracy_and_precision) is the most popular metric used for describing a classifier’s performance.</span></span> <span data-ttu-id="92892-680">But accuracy is sensitive to data distributions, and is an ineffective measure for scenarios with imbalanced data sets.</span><span class="sxs-lookup"><span data-stu-id="92892-680">But accuracy is sensitive to data distributions, and is an ineffective measure for scenarios with imbalanced data sets.</span></span> <span data-ttu-id="92892-681">Other metrics are used instead.</span><span class="sxs-lookup"><span data-stu-id="92892-681">Other metrics are used instead.</span></span> <span data-ttu-id="92892-682">Tools like [confusion matrix](https://en.wikipedia.org/wiki/Confusion_matrix) are used to compute and reason about accuracy of the model.</span><span class="sxs-lookup"><span data-stu-id="92892-682">Tools like [confusion matrix](https://en.wikipedia.org/wiki/Confusion_matrix) are used to compute and reason about accuracy of the model.</span></span>
- <span data-ttu-id="92892-683">[Precision](https://en.wikipedia.org/wiki/Precision_and_recall) of PdM models relate to the rate of false alarms.</span><span class="sxs-lookup"><span data-stu-id="92892-683">[Precision](https://en.wikipedia.org/wiki/Precision_and_recall) of PdM models relate to the rate of false alarms.</span></span> <span data-ttu-id="92892-684">Lower precision of the model generally corresponds to a higher rate of false alarms.</span><span class="sxs-lookup"><span data-stu-id="92892-684">Lower precision of the model generally corresponds to a higher rate of false alarms.</span></span>
- <span data-ttu-id="92892-685">[Recall](https://en.wikipedia.org/wiki/Precision_and_recall) rate denotes how many of the failures in the test set were correctly identified by the model.</span><span class="sxs-lookup"><span data-stu-id="92892-685">[Recall](https://en.wikipedia.org/wiki/Precision_and_recall) rate denotes how many of the failures in the test set were correctly identified by the model.</span></span> <span data-ttu-id="92892-686">Higher recall rates mean the model is successful in identifying the true failures.</span><span class="sxs-lookup"><span data-stu-id="92892-686">Higher recall rates mean the model is successful in identifying the true failures.</span></span>
- <span data-ttu-id="92892-687">[F1 score](https://en.wikipedia.org/wiki/F1_score) is the harmonic average of precision and recall, with its value ranging between 0 (worst) to 1 (best).</span><span class="sxs-lookup"><span data-stu-id="92892-687">[F1 score](https://en.wikipedia.org/wiki/F1_score) is the harmonic average of precision and recall, with its value ranging between 0 (worst) to 1 (best).</span></span>

<span data-ttu-id="92892-688">For binary classification,</span><span class="sxs-lookup"><span data-stu-id="92892-688">For binary classification,</span></span>
- <span data-ttu-id="92892-689">[Receiver operating curves (ROC)](https://en.wikipedia.org/wiki/Receiver_operating_characteristic) is also a popular metric.</span><span class="sxs-lookup"><span data-stu-id="92892-689">[Receiver operating curves (ROC)](https://en.wikipedia.org/wiki/Receiver_operating_characteristic) is also a popular metric.</span></span> <span data-ttu-id="92892-690">In ROC curves, model performance is interpreted based on one fixed operating point on the ROC.</span><span class="sxs-lookup"><span data-stu-id="92892-690">In ROC curves, model performance is interpreted based on one fixed operating point on the ROC.</span></span>
- <span data-ttu-id="92892-691">But for PdM problems, _decile tables_ and _lift charts_ are more informative.</span><span class="sxs-lookup"><span data-stu-id="92892-691">But for PdM problems, _decile tables_ and _lift charts_ are more informative.</span></span> <span data-ttu-id="92892-692">They focus only on the positive class (failures), and provide a more complex picture of the algorithm performance than ROC curves.</span><span class="sxs-lookup"><span data-stu-id="92892-692">They focus only on the positive class (failures), and provide a more complex picture of the algorithm performance than ROC curves.</span></span>
  - <span data-ttu-id="92892-693">_Decile tables_ are created using test examples in a descending order of  failure probabilities.</span><span class="sxs-lookup"><span data-stu-id="92892-693">_Decile tables_ are created using test examples in a descending order of  failure probabilities.</span></span> <span data-ttu-id="92892-694">The ordered samples are then grouped into deciles (10% of the samples with highest probability, then 20%, 30%, and so on).</span><span class="sxs-lookup"><span data-stu-id="92892-694">The ordered samples are then grouped into deciles (10% of the samples with highest probability, then 20%, 30%, and so on).</span></span> <span data-ttu-id="92892-695">The ratio (true positive rate)/(random baseline) for each decile helps estimate the algorithm performance at each decile.</span><span class="sxs-lookup"><span data-stu-id="92892-695">The ratio (true positive rate)/(random baseline) for each decile helps estimate the algorithm performance at each decile.</span></span> <span data-ttu-id="92892-696">The random baseline takes on values 0.1, 0.2, and so on.</span><span class="sxs-lookup"><span data-stu-id="92892-696">The random baseline takes on values 0.1, 0.2, and so on.</span></span>
  - <span data-ttu-id="92892-697">[Lift charts](http://www2.cs.uregina.ca/~dbd/cs831/notes/lift_chart/lift_chart.html) plot the decile true positive rate versus random true positive rate for all deciles.</span><span class="sxs-lookup"><span data-stu-id="92892-697">[Lift charts](http://www2.cs.uregina.ca/~dbd/cs831/notes/lift_chart/lift_chart.html) plot the decile true positive rate versus random true positive rate for all deciles.</span></span> <span data-ttu-id="92892-698">The first deciles are usually the focus of results, since they show the largest gains.</span><span class="sxs-lookup"><span data-stu-id="92892-698">The first deciles are usually the focus of results, since they show the largest gains.</span></span> <span data-ttu-id="92892-699">First deciles can also be seen as representative for "at risk", when used for PdM.</span><span class="sxs-lookup"><span data-stu-id="92892-699">First deciles can also be seen as representative for "at risk", when used for PdM.</span></span>

## <a name="model-operationalization-for-predictive-maintenance"></a><span data-ttu-id="92892-700">Model operationalization for predictive maintenance</span><span class="sxs-lookup"><span data-stu-id="92892-700">Model operationalization for predictive maintenance</span></span>

<span data-ttu-id="92892-701">The benefit the data science exercise is realized only when the trained model is made operational.</span><span class="sxs-lookup"><span data-stu-id="92892-701">The benefit the data science exercise is realized only when the trained model is made operational.</span></span> <span data-ttu-id="92892-702">That is, the model must be deployed into the business systems to make predictions based on new, previously unseen, data.</span><span class="sxs-lookup"><span data-stu-id="92892-702">That is, the model must be deployed into the business systems to make predictions based on new, previously unseen, data.</span></span>  <span data-ttu-id="92892-703">The new data must exactly conform to the _model signature_ of the trained model in two ways:</span><span class="sxs-lookup"><span data-stu-id="92892-703">The new data must exactly conform to the _model signature_ of the trained model in two ways:</span></span>
- <span data-ttu-id="92892-704">all the features must be present in every logical instance (say a row in a table) of the new data.</span><span class="sxs-lookup"><span data-stu-id="92892-704">all the features must be present in every logical instance (say a row in a table) of the new data.</span></span>
- <span data-ttu-id="92892-705">the new data must be pre-processed, and each of the features engineered, in exactly the same way as the training data.</span><span class="sxs-lookup"><span data-stu-id="92892-705">the new data must be pre-processed, and each of the features engineered, in exactly the same way as the training data.</span></span>

<span data-ttu-id="92892-706">The above process is stated in many ways in academic and industry literature.</span><span class="sxs-lookup"><span data-stu-id="92892-706">The above process is stated in many ways in academic and industry literature.</span></span> <span data-ttu-id="92892-707">But all the following statements mean the same thing:</span><span class="sxs-lookup"><span data-stu-id="92892-707">But all the following statements mean the same thing:</span></span>
- <span data-ttu-id="92892-708">_Score new data_ using the model</span><span class="sxs-lookup"><span data-stu-id="92892-708">_Score new data_ using the model</span></span>
- <span data-ttu-id="92892-709">_Apply the model_ to new data</span><span class="sxs-lookup"><span data-stu-id="92892-709">_Apply the model_ to new data</span></span>
- <span data-ttu-id="92892-710">_Operationalize_ the model</span><span class="sxs-lookup"><span data-stu-id="92892-710">_Operationalize_ the model</span></span>
- <span data-ttu-id="92892-711">_Deploy_ the model</span><span class="sxs-lookup"><span data-stu-id="92892-711">_Deploy_ the model</span></span>
- <span data-ttu-id="92892-712">_Run the model_ against new data</span><span class="sxs-lookup"><span data-stu-id="92892-712">_Run the model_ against new data</span></span>

<span data-ttu-id="92892-713">As stated earlier, model operationalization for PdM is different from its peers.</span><span class="sxs-lookup"><span data-stu-id="92892-713">As stated earlier, model operationalization for PdM is different from its peers.</span></span> <span data-ttu-id="92892-714">Scenarios involving anomaly detection and failure detection typically implement _online scoring_ (also called _real time scoring_).</span><span class="sxs-lookup"><span data-stu-id="92892-714">Scenarios involving anomaly detection and failure detection typically implement _online scoring_ (also called _real time scoring_).</span></span> <span data-ttu-id="92892-715">Here, the model _scores_ each incoming record, and returns a prediction.</span><span class="sxs-lookup"><span data-stu-id="92892-715">Here, the model _scores_ each incoming record, and returns a prediction.</span></span> <span data-ttu-id="92892-716">For anomaly detection, the prediction is an indication that an anomaly occurred (Example: One-class SVM).</span><span class="sxs-lookup"><span data-stu-id="92892-716">For anomaly detection, the prediction is an indication that an anomaly occurred (Example: One-class SVM).</span></span> <span data-ttu-id="92892-717">For failure detection, it would be the type or class of failure.</span><span class="sxs-lookup"><span data-stu-id="92892-717">For failure detection, it would be the type or class of failure.</span></span>

<span data-ttu-id="92892-718">In contrast, PdM involves _batch scoring_.</span><span class="sxs-lookup"><span data-stu-id="92892-718">In contrast, PdM involves _batch scoring_.</span></span> <span data-ttu-id="92892-719">To conform to the model signature, the features in the new data must be engineered in the same manner as the training data.</span><span class="sxs-lookup"><span data-stu-id="92892-719">To conform to the model signature, the features in the new data must be engineered in the same manner as the training data.</span></span> <span data-ttu-id="92892-720">For the large datasets that is typical for new data, features are aggregated over time windows and scored in batch.</span><span class="sxs-lookup"><span data-stu-id="92892-720">For the large datasets that is typical for new data, features are aggregated over time windows and scored in batch.</span></span> <span data-ttu-id="92892-721">Batch scoring is typically done in distributed systems like [Spark](http://spark.apache.org/) or [Azure Batch](https://docs.microsoft.com/azure/batch/batch-api-basics).</span><span class="sxs-lookup"><span data-stu-id="92892-721">Batch scoring is typically done in distributed systems like [Spark](http://spark.apache.org/) or [Azure Batch](https://docs.microsoft.com/azure/batch/batch-api-basics).</span></span> <span data-ttu-id="92892-722">There are a couple of alternatives - both suboptimal:</span><span class="sxs-lookup"><span data-stu-id="92892-722">There are a couple of alternatives - both suboptimal:</span></span>
- <span data-ttu-id="92892-723">Streaming data engines support aggregation over windows in memory.</span><span class="sxs-lookup"><span data-stu-id="92892-723">Streaming data engines support aggregation over windows in memory.</span></span> <span data-ttu-id="92892-724">So it could be argued that they support online scoring.</span><span class="sxs-lookup"><span data-stu-id="92892-724">So it could be argued that they support online scoring.</span></span> <span data-ttu-id="92892-725">But these systems are suitable for dense data in narrow windows of time, or sparse elements over wider windows.</span><span class="sxs-lookup"><span data-stu-id="92892-725">But these systems are suitable for dense data in narrow windows of time, or sparse elements over wider windows.</span></span> <span data-ttu-id="92892-726">They may not scale well for the dense data over wider time windows, as seen in PdM scenarios.</span><span class="sxs-lookup"><span data-stu-id="92892-726">They may not scale well for the dense data over wider time windows, as seen in PdM scenarios.</span></span>
- <span data-ttu-id="92892-727">If batch scoring is not available, the solution is to adapt online scoring to handle new data in small batches at a time.</span><span class="sxs-lookup"><span data-stu-id="92892-727">If batch scoring is not available, the solution is to adapt online scoring to handle new data in small batches at a time.</span></span>

## <a name="solution-templates-for-predictive-maintenance"></a><span data-ttu-id="92892-728">Solution templates for predictive maintenance</span><span class="sxs-lookup"><span data-stu-id="92892-728">Solution templates for predictive maintenance</span></span>

<span data-ttu-id="92892-729">The final section of this guide provides a list of PdM solution templates, tutorials, and experiments implemented in Azure.</span><span class="sxs-lookup"><span data-stu-id="92892-729">The final section of this guide provides a list of PdM solution templates, tutorials, and experiments implemented in Azure.</span></span> <span data-ttu-id="92892-730">These PdM applications can be deployed into an Azure subscription within minutes in some cases.</span><span class="sxs-lookup"><span data-stu-id="92892-730">These PdM applications can be deployed into an Azure subscription within minutes in some cases.</span></span> <span data-ttu-id="92892-731">They can be used as proof-of-concept demos, sandboxes to experiment with alternatives, or accelerators for actual production implementations.</span><span class="sxs-lookup"><span data-stu-id="92892-731">They can be used as proof-of-concept demos, sandboxes to experiment with alternatives, or accelerators for actual production implementations.</span></span> <span data-ttu-id="92892-732">These templates are located in the [Azure AI Gallery](http://gallery.azure.ai) or [Azure GitHub](https://github.com/Azure).</span><span class="sxs-lookup"><span data-stu-id="92892-732">These templates are located in the [Azure AI Gallery](http://gallery.azure.ai) or [Azure GitHub](https://github.com/Azure).</span></span> <span data-ttu-id="92892-733">These different samples will be rolled into this solution template over time.</span><span class="sxs-lookup"><span data-stu-id="92892-733">These different samples will be rolled into this solution template over time.</span></span>

| # | <span data-ttu-id="92892-734">Title</span><span class="sxs-lookup"><span data-stu-id="92892-734">Title</span></span> | <span data-ttu-id="92892-735">Description</span><span class="sxs-lookup"><span data-stu-id="92892-735">Description</span></span> |
|--:|:------|-------------|
| <span data-ttu-id="92892-736">1</span><span class="sxs-lookup"><span data-stu-id="92892-736">1</span></span> | [<span data-ttu-id="92892-737">Azure Predictive Maintenance Machine Learning Sample</span><span class="sxs-lookup"><span data-stu-id="92892-737">Azure Predictive Maintenance Machine Learning Sample</span></span>](https://github.com/Azure/MachineLearningSamples-PredictiveMaintenance) |<span data-ttu-id="92892-738">PdM sample to predict failure over the next N time units.</span><span class="sxs-lookup"><span data-stu-id="92892-738">PdM sample to predict failure over the next N time units.</span></span> <span data-ttu-id="92892-739">This sample is written as an Azure ML Workbench project, and is ideal for beginners to PdM.</span><span class="sxs-lookup"><span data-stu-id="92892-739">This sample is written as an Azure ML Workbench project, and is ideal for beginners to PdM.</span></span> <span data-ttu-id="92892-740">[Additional documentation](https://docs.microsoft.com/azure/machine-learning/desktop-workbench/scenario-predictive-maintenance) related to this sample.</span><span class="sxs-lookup"><span data-stu-id="92892-740">[Additional documentation](https://docs.microsoft.com/azure/machine-learning/desktop-workbench/scenario-predictive-maintenance) related to this sample.</span></span>|
| <span data-ttu-id="92892-741">2</span><span class="sxs-lookup"><span data-stu-id="92892-741">2</span></span> | [<span data-ttu-id="92892-742">Azure Predictive Maintenance Solution Template</span><span class="sxs-lookup"><span data-stu-id="92892-742">Azure Predictive Maintenance Solution Template</span></span>](https://github.com/Azure/AI-PredictiveMaintenance) | <span data-ttu-id="92892-743">An open-source solution template which demonstrates ML modeling and a complete Azure infrastructure capable of supporting Predictive Maintenance scenarios in the context of IoT remote monitoring.</span><span class="sxs-lookup"><span data-stu-id="92892-743">An open-source solution template which demonstrates ML modeling and a complete Azure infrastructure capable of supporting Predictive Maintenance scenarios in the context of IoT remote monitoring.</span></span> |
| <span data-ttu-id="92892-744">3</span><span class="sxs-lookup"><span data-stu-id="92892-744">3</span></span> | [<span data-ttu-id="92892-745">Deep Learning for Predictive Maintenance</span><span class="sxs-lookup"><span data-stu-id="92892-745">Deep Learning for Predictive Maintenance</span></span>](https://github.com/Azure/MachineLearningSamples-DeepLearningforPredictiveMaintenance) | <span data-ttu-id="92892-746">Azure Notebook with a demo solution of using LSTM (Long Short-Term Memory) networks (a class of Recurrent Neural Networks) for Predictive Maintenance, with a [blog post on this sample](https://azure.microsoft.com/blog/deep-learning-for-predictive-maintenance).</span><span class="sxs-lookup"><span data-stu-id="92892-746">Azure Notebook with a demo solution of using LSTM (Long Short-Term Memory) networks (a class of Recurrent Neural Networks) for Predictive Maintenance, with a [blog post on this sample](https://azure.microsoft.com/blog/deep-learning-for-predictive-maintenance).</span></span>|
| <span data-ttu-id="92892-747">4</span><span class="sxs-lookup"><span data-stu-id="92892-747">4</span></span> | [<span data-ttu-id="92892-748">Predictive Maintenance Modeling Guide in R</span><span class="sxs-lookup"><span data-stu-id="92892-748">Predictive Maintenance Modeling Guide in R</span></span>](https://gallery.azure.ai/Notebook/Predictive-Maintenance-Modelling-Guide-R-Notebook-1) | <span data-ttu-id="92892-749">PdM modeling guide with scripts in R.</span><span class="sxs-lookup"><span data-stu-id="92892-749">PdM modeling guide with scripts in R.</span></span>|
| <span data-ttu-id="92892-750">5</span><span class="sxs-lookup"><span data-stu-id="92892-750">5</span></span> | [<span data-ttu-id="92892-751">Azure Predictive Maintenance for Aerospace</span><span class="sxs-lookup"><span data-stu-id="92892-751">Azure Predictive Maintenance for Aerospace</span></span>](https://gallery.azure.ai/Solution/Predictive-Maintenance-for-Aerospace-1) | <span data-ttu-id="92892-752">One of the first PdM solution templates based on Azure ML v1.0 for aircraft maintenance.</span><span class="sxs-lookup"><span data-stu-id="92892-752">One of the first PdM solution templates based on Azure ML v1.0 for aircraft maintenance.</span></span> <span data-ttu-id="92892-753">This guide originated from this project.</span><span class="sxs-lookup"><span data-stu-id="92892-753">This guide originated from this project.</span></span> |
| <span data-ttu-id="92892-754">6</span><span class="sxs-lookup"><span data-stu-id="92892-754">6</span></span> | [<span data-ttu-id="92892-755">Azure AI Toolkit for IoT Edge</span><span class="sxs-lookup"><span data-stu-id="92892-755">Azure AI Toolkit for IoT Edge</span></span>](https://github.com/Azure/ai-toolkit-iot-edge) | <span data-ttu-id="92892-756">AI in the IoT edge using TensorFlow; toolkit packages deep learning models in Azure IoT Edge-compatible Docker containers and expose those models as REST APIs.</span><span class="sxs-lookup"><span data-stu-id="92892-756">AI in the IoT edge using TensorFlow; toolkit packages deep learning models in Azure IoT Edge-compatible Docker containers and expose those models as REST APIs.</span></span>
| <span data-ttu-id="92892-757">7</span><span class="sxs-lookup"><span data-stu-id="92892-757">7</span></span> | [<span data-ttu-id="92892-758">Azure IoT Predictive Maintenance</span><span class="sxs-lookup"><span data-stu-id="92892-758">Azure IoT Predictive Maintenance</span></span>](https://github.com/Azure/azure-iot-predictive-maintenance) | <span data-ttu-id="92892-759">Azure IoT Suite PCS - Preconfigured Solution.</span><span class="sxs-lookup"><span data-stu-id="92892-759">Azure IoT Suite PCS - Preconfigured Solution.</span></span> <span data-ttu-id="92892-760">Aircraft maintenance PdM template with IoT Suite.</span><span class="sxs-lookup"><span data-stu-id="92892-760">Aircraft maintenance PdM template with IoT Suite.</span></span> <span data-ttu-id="92892-761">[Another document](https://docs.microsoft.com/azure/iot-suite/iot-suite-predictive-overview) and [walkthrough](https://docs.microsoft.com/azure/iot-suite/iot-suite-predictive-walkthrough) related to the same project.</span><span class="sxs-lookup"><span data-stu-id="92892-761">[Another document](https://docs.microsoft.com/azure/iot-suite/iot-suite-predictive-overview) and [walkthrough](https://docs.microsoft.com/azure/iot-suite/iot-suite-predictive-walkthrough) related to the same project.</span></span> |
| <span data-ttu-id="92892-762">8</span><span class="sxs-lookup"><span data-stu-id="92892-762">8</span></span> | [<span data-ttu-id="92892-763">Predictive Maintenance template using SQL Server R Services</span><span class="sxs-lookup"><span data-stu-id="92892-763">Predictive Maintenance template using SQL Server R Services</span></span>](https://gallery.azure.ai/Tutorial/Predictive-Maintenance-Template-with-SQL-Server-R-Services-1) | <span data-ttu-id="92892-764">Demo of remaining useful life scenario based on R services.</span><span class="sxs-lookup"><span data-stu-id="92892-764">Demo of remaining useful life scenario based on R services.</span></span> |
| <span data-ttu-id="92892-765">9</span><span class="sxs-lookup"><span data-stu-id="92892-765">9</span></span> | [<span data-ttu-id="92892-766">Predictive Maintenance Modeling Guide</span><span class="sxs-lookup"><span data-stu-id="92892-766">Predictive Maintenance Modeling Guide</span></span>](https://gallery.azure.ai/Collection/Predictive-Maintenance-Modelling-Guide-1) | <span data-ttu-id="92892-767">Aircraft maintenance dataset feature engineered using R with [experiments](https://gallery.azure.ai/Experiment/Predictive-Maintenance-Modelling-Guide-Experiment-1) and [datasets](https://gallery.azure.ai/Experiment/Predictive-Maintenance-Modelling-Guide-Data-Sets-1) and [Azure notebook](https://gallery.azure.ai/Notebook/Predictive-Maintenance-Modelling-Guide-R-Notebook-1) and [experiments](https://gallery.azure.ai/Experiment/Predictive-Maintenance-Step-1-of-3-data-preparation-and-feature-engineering-2) in AzureML v1.0</span><span class="sxs-lookup"><span data-stu-id="92892-767">Aircraft maintenance dataset feature engineered using R with [experiments](https://gallery.azure.ai/Experiment/Predictive-Maintenance-Modelling-Guide-Experiment-1) and [datasets](https://gallery.azure.ai/Experiment/Predictive-Maintenance-Modelling-Guide-Data-Sets-1) and [Azure notebook](https://gallery.azure.ai/Notebook/Predictive-Maintenance-Modelling-Guide-R-Notebook-1) and [experiments](https://gallery.azure.ai/Experiment/Predictive-Maintenance-Step-1-of-3-data-preparation-and-feature-engineering-2) in AzureML v1.0</span></span>|

## <a name="training-resources-for-predictive-maintenance"></a><span data-ttu-id="92892-768">Training resources for predictive maintenance</span><span class="sxs-lookup"><span data-stu-id="92892-768">Training resources for predictive maintenance</span></span>

<span data-ttu-id="92892-769">The [Azure AI learning path for predictive maintenance](https://github.com/Azure/AI-PredictiveMaintenance/blob/master/docs/azure-ai-learning-path-for-predictive-maintenance.md) provides the training material for a deeper understanding of the concepts and math behind the algorithms and techniques used in PdM problems.</span><span class="sxs-lookup"><span data-stu-id="92892-769">The [Azure AI learning path for predictive maintenance](https://github.com/Azure/AI-PredictiveMaintenance/blob/master/docs/azure-ai-learning-path-for-predictive-maintenance.md) provides the training material for a deeper understanding of the concepts and math behind the algorithms and techniques used in PdM problems.</span></span> 

<span data-ttu-id="92892-770">Microsoft Azure offers free content and training on general AI concepts and practice.</span><span class="sxs-lookup"><span data-stu-id="92892-770">Microsoft Azure offers free content and training on general AI concepts and practice.</span></span>

| <span data-ttu-id="92892-771">Training resource</span><span class="sxs-lookup"><span data-stu-id="92892-771">Training resource</span></span>  | <span data-ttu-id="92892-772">Availability</span><span class="sxs-lookup"><span data-stu-id="92892-772">Availability</span></span> |
|:-------------------|--------------|
| [<span data-ttu-id="92892-773">AI Developer on Azure</span><span class="sxs-lookup"><span data-stu-id="92892-773">AI Developer on Azure</span></span>](http://azure.microsoft.com/training/learning-paths/azure-ai-developer) | <span data-ttu-id="92892-774">Public</span><span class="sxs-lookup"><span data-stu-id="92892-774">Public</span></span> |
| [<span data-ttu-id="92892-775">Microsoft AI School</span><span class="sxs-lookup"><span data-stu-id="92892-775">Microsoft AI School</span></span>](http://aischool.microsoft.com/learning-paths) | <span data-ttu-id="92892-776">Public</span><span class="sxs-lookup"><span data-stu-id="92892-776">Public</span></span> |
| [<span data-ttu-id="92892-777">Azure AI Learning from GitHub</span><span class="sxs-lookup"><span data-stu-id="92892-777">Azure AI Learning from GitHub</span></span>](https://github.com/Azure/connectthedots/blob/master/readme.md) | <span data-ttu-id="92892-778">Public</span><span class="sxs-lookup"><span data-stu-id="92892-778">Public</span></span> |
| [<span data-ttu-id="92892-779">LinkedIn Learning</span><span class="sxs-lookup"><span data-stu-id="92892-779">LinkedIn Learning</span></span>](http://www.linkedin.com/learning) | <span data-ttu-id="92892-780">Public</span><span class="sxs-lookup"><span data-stu-id="92892-780">Public</span></span> |
| [<span data-ttu-id="92892-781">Microsoft AI Youtube Webinars</span><span class="sxs-lookup"><span data-stu-id="92892-781">Microsoft AI Youtube Webinars</span></span>](https://www.youtube.com/watch?v=NvrH7_KKzoM&t=4s) | <span data-ttu-id="92892-782">Public</span><span class="sxs-lookup"><span data-stu-id="92892-782">Public</span></span> |
| [<span data-ttu-id="92892-783">Microsoft AI Show</span><span class="sxs-lookup"><span data-stu-id="92892-783">Microsoft AI Show</span></span>](http://channel9.msdn.com/Shows/AI-Show) | <span data-ttu-id="92892-784">Public</span><span class="sxs-lookup"><span data-stu-id="92892-784">Public</span></span> |
| [LearnAI@MS](http://learnanalytics.microsoft.com) | <span data-ttu-id="92892-785">For Microsoft Partners</span><span class="sxs-lookup"><span data-stu-id="92892-785">For Microsoft Partners</span></span> |
| [<span data-ttu-id="92892-786">Microsoft Partner Network</span><span class="sxs-lookup"><span data-stu-id="92892-786">Microsoft Partner Network</span></span>](http://learningportal.microsoft.com) | <span data-ttu-id="92892-787">For Microsoft Partners</span><span class="sxs-lookup"><span data-stu-id="92892-787">For Microsoft Partners</span></span> |

<span data-ttu-id="92892-788">In addition, free MOOCS (massive open online courses) on AI are offered online by academic  institutions like Stanford and MIT, and other educational companies.</span><span class="sxs-lookup"><span data-stu-id="92892-788">In addition, free MOOCS (massive open online courses) on AI are offered online by academic  institutions like Stanford and MIT, and other educational companies.</span></span>
