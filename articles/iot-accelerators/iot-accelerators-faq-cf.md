---
title: Connected Factory solution FAQ - Azure | Microsoft Docs
description: Frequently asked questions for the Connected Factory solution accelerator
author: dominicbetts
manager: timlt
ms.service: iot-accelerators
services: iot-accelerators
ms.topic: conceptual
ms.date: 12/12/2017
ms.author: dobett
ms.openlocfilehash: d2f5ce97ee81deaf590771f4794af4adf0fdbd1b
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44855602"
---
# <a name="frequently-asked-questions-for-connected-factory-solution-accelerator"></a><span data-ttu-id="97c7a-103">Frequently asked questions for Connected Factory solution accelerator</span><span class="sxs-lookup"><span data-stu-id="97c7a-103">Frequently asked questions for Connected Factory solution accelerator</span></span>

<span data-ttu-id="97c7a-104">See also, the general [FAQ](iot-accelerators-faq.md) for IoT solution accelerators.</span><span class="sxs-lookup"><span data-stu-id="97c7a-104">See also, the general [FAQ](iot-accelerators-faq.md) for IoT solution accelerators.</span></span>

### <a name="where-can-i-find-the-source-code-for-the-solution-accelerator"></a><span data-ttu-id="97c7a-105">Where can I find the source code for the solution accelerator?</span><span class="sxs-lookup"><span data-stu-id="97c7a-105">Where can I find the source code for the solution accelerator?</span></span>

<span data-ttu-id="97c7a-106">The source code is stored in the following GitHub repository:</span><span class="sxs-lookup"><span data-stu-id="97c7a-106">The source code is stored in the following GitHub repository:</span></span>

* [<span data-ttu-id="97c7a-107">Connected Factory solution accelerator</span><span class="sxs-lookup"><span data-stu-id="97c7a-107">Connected Factory solution accelerator</span></span>](https://github.com/Azure/azure-iot-connected-factory)

### <a name="what-is-opc-ua"></a><span data-ttu-id="97c7a-108">What is OPC UA?</span><span class="sxs-lookup"><span data-stu-id="97c7a-108">What is OPC UA?</span></span>

<span data-ttu-id="97c7a-109">OPC Unified Architecture (UA), released in 2008, is a platform-independent, service-oriented interoperability standard.</span><span class="sxs-lookup"><span data-stu-id="97c7a-109">OPC Unified Architecture (UA), released in 2008, is a platform-independent, service-oriented interoperability standard.</span></span> <span data-ttu-id="97c7a-110">OPC UA is used by various industrial systems and devices such as industry PCs, PLCs, and sensors.</span><span class="sxs-lookup"><span data-stu-id="97c7a-110">OPC UA is used by various industrial systems and devices such as industry PCs, PLCs, and sensors.</span></span> <span data-ttu-id="97c7a-111">OPC UA integrates the functionality of the OPC Classic specifications into one extensible framework with built-in security.</span><span class="sxs-lookup"><span data-stu-id="97c7a-111">OPC UA integrates the functionality of the OPC Classic specifications into one extensible framework with built-in security.</span></span> <span data-ttu-id="97c7a-112">It is a standard that is driven by the OPC Foundation.</span><span class="sxs-lookup"><span data-stu-id="97c7a-112">It is a standard that is driven by the OPC Foundation.</span></span> <span data-ttu-id="97c7a-113">The [OPC Foundation](http://opcfoundation.org/) is a not-for-profit organization with more than 440 members.</span><span class="sxs-lookup"><span data-stu-id="97c7a-113">The [OPC Foundation](http://opcfoundation.org/) is a not-for-profit organization with more than 440 members.</span></span> <span data-ttu-id="97c7a-114">The goal of the organization is to use OPC specifications to facilitate multi-vendor, multi-platform, secure and reliable interoperability through:</span><span class="sxs-lookup"><span data-stu-id="97c7a-114">The goal of the organization is to use OPC specifications to facilitate multi-vendor, multi-platform, secure and reliable interoperability through:</span></span>

* <span data-ttu-id="97c7a-115">Infrastructure</span><span class="sxs-lookup"><span data-stu-id="97c7a-115">Infrastructure</span></span>
* <span data-ttu-id="97c7a-116">Specifications</span><span class="sxs-lookup"><span data-stu-id="97c7a-116">Specifications</span></span>
* <span data-ttu-id="97c7a-117">Technology</span><span class="sxs-lookup"><span data-stu-id="97c7a-117">Technology</span></span>
* <span data-ttu-id="97c7a-118">Processes</span><span class="sxs-lookup"><span data-stu-id="97c7a-118">Processes</span></span>

### <a name="why-did-microsoft-choose-opc-ua-for-the-connected-factory-solution-accelerator"></a><span data-ttu-id="97c7a-119">Why did Microsoft choose OPC UA for the Connected Factory solution accelerator?</span><span class="sxs-lookup"><span data-stu-id="97c7a-119">Why did Microsoft choose OPC UA for the Connected Factory solution accelerator?</span></span>

<span data-ttu-id="97c7a-120">Microsoft chose OPC UA because it is an open, non-proprietary, platform independent, industry-recognized, and proven standard.</span><span class="sxs-lookup"><span data-stu-id="97c7a-120">Microsoft chose OPC UA because it is an open, non-proprietary, platform independent, industry-recognized, and proven standard.</span></span> <span data-ttu-id="97c7a-121">It is a requirement for Industrie 4.0 (RAMI4.0) reference architecture solutions ensuring interoperability between a broad set of manufacturing processes and equipment.</span><span class="sxs-lookup"><span data-stu-id="97c7a-121">It is a requirement for Industrie 4.0 (RAMI4.0) reference architecture solutions ensuring interoperability between a broad set of manufacturing processes and equipment.</span></span> <span data-ttu-id="97c7a-122">Microsoft sees demand from its customers to build Industrie 4.0 solutions.</span><span class="sxs-lookup"><span data-stu-id="97c7a-122">Microsoft sees demand from its customers to build Industrie 4.0 solutions.</span></span> <span data-ttu-id="97c7a-123">Support for OPC UA helps lower the barrier for customers to achieve their goals and provides immediate business value to them.</span><span class="sxs-lookup"><span data-stu-id="97c7a-123">Support for OPC UA helps lower the barrier for customers to achieve their goals and provides immediate business value to them.</span></span>

### <a name="how-do-i-add-a-public-ip-address-to-the-simulation-vm"></a><span data-ttu-id="97c7a-124">How do I add a public IP address to the simulation VM?</span><span class="sxs-lookup"><span data-stu-id="97c7a-124">How do I add a public IP address to the simulation VM?</span></span>

<span data-ttu-id="97c7a-125">You have two options to add the IP address:</span><span class="sxs-lookup"><span data-stu-id="97c7a-125">You have two options to add the IP address:</span></span>

* <span data-ttu-id="97c7a-126">Use the PowerShell script `Simulation/Factory/Add-SimulationPublicIp.ps1` in the [repository](https://github.com/Azure/azure-iot-connected-factory).</span><span class="sxs-lookup"><span data-stu-id="97c7a-126">Use the PowerShell script `Simulation/Factory/Add-SimulationPublicIp.ps1` in the [repository](https://github.com/Azure/azure-iot-connected-factory).</span></span> <span data-ttu-id="97c7a-127">Pass in your deployment name as a parameter.</span><span class="sxs-lookup"><span data-stu-id="97c7a-127">Pass in your deployment name as a parameter.</span></span> <span data-ttu-id="97c7a-128">For a local deployment, use `<your username>ConnFactoryLocal`.</span><span class="sxs-lookup"><span data-stu-id="97c7a-128">For a local deployment, use `<your username>ConnFactoryLocal`.</span></span> <span data-ttu-id="97c7a-129">The script prints out the IP address of the VM.</span><span class="sxs-lookup"><span data-stu-id="97c7a-129">The script prints out the IP address of the VM.</span></span>

* <span data-ttu-id="97c7a-130">In the Azure portal, locate the resource group of your deployment.</span><span class="sxs-lookup"><span data-stu-id="97c7a-130">In the Azure portal, locate the resource group of your deployment.</span></span> <span data-ttu-id="97c7a-131">Except for a local deployment, the resource group has the name you specified as solution or deployment name.</span><span class="sxs-lookup"><span data-stu-id="97c7a-131">Except for a local deployment, the resource group has the name you specified as solution or deployment name.</span></span> <span data-ttu-id="97c7a-132">For a local deployment using the build script, the name of the resource group is `<your username>ConnFactoryLocal`.</span><span class="sxs-lookup"><span data-stu-id="97c7a-132">For a local deployment using the build script, the name of the resource group is `<your username>ConnFactoryLocal`.</span></span> <span data-ttu-id="97c7a-133">Now add a new **Public IP address** resource to the resource group.</span><span class="sxs-lookup"><span data-stu-id="97c7a-133">Now add a new **Public IP address** resource to the resource group.</span></span>

> [!NOTE]
> <span data-ttu-id="97c7a-134">In either case, ensure you install the latest patches by following the instructions on the [Ubuntu website](https://wiki.ubuntu.com/Security/Upgrades).</span><span class="sxs-lookup"><span data-stu-id="97c7a-134">In either case, ensure you install the latest patches by following the instructions on the [Ubuntu website](https://wiki.ubuntu.com/Security/Upgrades).</span></span> <span data-ttu-id="97c7a-135">Keep the installation up to date for as long as your VM is accessible through a public IP address.</span><span class="sxs-lookup"><span data-stu-id="97c7a-135">Keep the installation up to date for as long as your VM is accessible through a public IP address.</span></span>

### <a name="how-do-i-remove-the-public-ip-address-to-the-simulation-vm"></a><span data-ttu-id="97c7a-136">How do I remove the public IP address to the simulation VM?</span><span class="sxs-lookup"><span data-stu-id="97c7a-136">How do I remove the public IP address to the simulation VM?</span></span>

<span data-ttu-id="97c7a-137">You have two options to remove the IP address:</span><span class="sxs-lookup"><span data-stu-id="97c7a-137">You have two options to remove the IP address:</span></span>

* <span data-ttu-id="97c7a-138">Use the PowerShell script Simulation/Factory/Remove-SimulationPublicIp.ps1 of the [repository](https://github.com/Azure/azure-iot-connected-factory).</span><span class="sxs-lookup"><span data-stu-id="97c7a-138">Use the PowerShell script Simulation/Factory/Remove-SimulationPublicIp.ps1 of the [repository](https://github.com/Azure/azure-iot-connected-factory).</span></span> <span data-ttu-id="97c7a-139">Pass in your deployment name as a parameter.</span><span class="sxs-lookup"><span data-stu-id="97c7a-139">Pass in your deployment name as a parameter.</span></span> <span data-ttu-id="97c7a-140">For a local deployment, use `<your username>ConnFactoryLocal`.</span><span class="sxs-lookup"><span data-stu-id="97c7a-140">For a local deployment, use `<your username>ConnFactoryLocal`.</span></span> <span data-ttu-id="97c7a-141">The script prints out the IP address of the VM.</span><span class="sxs-lookup"><span data-stu-id="97c7a-141">The script prints out the IP address of the VM.</span></span>

* <span data-ttu-id="97c7a-142">In the Azure portal, locate the resource group of your deployment.</span><span class="sxs-lookup"><span data-stu-id="97c7a-142">In the Azure portal, locate the resource group of your deployment.</span></span> <span data-ttu-id="97c7a-143">Except for a local deployment, the resource group has the name you specified as solution or deployment name.</span><span class="sxs-lookup"><span data-stu-id="97c7a-143">Except for a local deployment, the resource group has the name you specified as solution or deployment name.</span></span> <span data-ttu-id="97c7a-144">For a local deployment using the build script, the name of the resource group is `<your username>ConnFactoryLocal`.</span><span class="sxs-lookup"><span data-stu-id="97c7a-144">For a local deployment using the build script, the name of the resource group is `<your username>ConnFactoryLocal`.</span></span> <span data-ttu-id="97c7a-145">Now remove the **Public IP address** resource from the resource group.</span><span class="sxs-lookup"><span data-stu-id="97c7a-145">Now remove the **Public IP address** resource from the resource group.</span></span>

### <a name="how-do-i-sign-in-to-the-simulation-vm"></a><span data-ttu-id="97c7a-146">How do I sign in to the simulation VM?</span><span class="sxs-lookup"><span data-stu-id="97c7a-146">How do I sign in to the simulation VM?</span></span>

<span data-ttu-id="97c7a-147">Signing in to the simulation VM is only supported if you have deployed your solution using the PowerShell script `build.ps1` in the [repository](https://github.com/Azure/azure-iot-connected-factory).</span><span class="sxs-lookup"><span data-stu-id="97c7a-147">Signing in to the simulation VM is only supported if you have deployed your solution using the PowerShell script `build.ps1` in the [repository](https://github.com/Azure/azure-iot-connected-factory).</span></span>

<span data-ttu-id="97c7a-148">If you deployed the solution from www.azureiotsolutions.com, you cannot sign in to the VM.</span><span class="sxs-lookup"><span data-stu-id="97c7a-148">If you deployed the solution from www.azureiotsolutions.com, you cannot sign in to the VM.</span></span> <span data-ttu-id="97c7a-149">You cannot sign in, because the password is generated randomly and you cannot reset it.</span><span class="sxs-lookup"><span data-stu-id="97c7a-149">You cannot sign in, because the password is generated randomly and you cannot reset it.</span></span>

1. <span data-ttu-id="97c7a-150">Add a public IP address to the VM.</span><span class="sxs-lookup"><span data-stu-id="97c7a-150">Add a public IP address to the VM.</span></span> <span data-ttu-id="97c7a-151">See [How do I add a public IP address to the simulation VM?](#how-do-i-remove-the-public-ip-address-to-the-simulation-vm)</span><span class="sxs-lookup"><span data-stu-id="97c7a-151">See [How do I add a public IP address to the simulation VM?](#how-do-i-remove-the-public-ip-address-to-the-simulation-vm)</span></span>
1. <span data-ttu-id="97c7a-152">Create an SSH session to your VM using the IP address of the VM.</span><span class="sxs-lookup"><span data-stu-id="97c7a-152">Create an SSH session to your VM using the IP address of the VM.</span></span>
1. <span data-ttu-id="97c7a-153">The username to use is: `docker`.</span><span class="sxs-lookup"><span data-stu-id="97c7a-153">The username to use is: `docker`.</span></span>
1. <span data-ttu-id="97c7a-154">The password to use depends on the version you used to deploy:</span><span class="sxs-lookup"><span data-stu-id="97c7a-154">The password to use depends on the version you used to deploy:</span></span>
    * <span data-ttu-id="97c7a-155">For solutions deployed using the build.ps1 script before 1 June 2017, the password is: `Passw0rd`.</span><span class="sxs-lookup"><span data-stu-id="97c7a-155">For solutions deployed using the build.ps1 script before 1 June 2017, the password is: `Passw0rd`.</span></span>
    * <span data-ttu-id="97c7a-156">For solutions deployed using the build.ps1 script after 1 June 2017, you can find the password in the `<name of your deployment>.config.user` file.</span><span class="sxs-lookup"><span data-stu-id="97c7a-156">For solutions deployed using the build.ps1 script after 1 June 2017, you can find the password in the `<name of your deployment>.config.user` file.</span></span> <span data-ttu-id="97c7a-157">The password is stored in the **VmAdminPassword** setting.</span><span class="sxs-lookup"><span data-stu-id="97c7a-157">The password is stored in the **VmAdminPassword** setting.</span></span> <span data-ttu-id="97c7a-158">The password is generated randomly at deployment time unless you specify it using the `build.ps1` script parameter `-VmAdminPassword`</span><span class="sxs-lookup"><span data-stu-id="97c7a-158">The password is generated randomly at deployment time unless you specify it using the `build.ps1` script parameter `-VmAdminPassword`</span></span>

### <a name="how-do-i-stop-and-start-all-docker-processes-in-the-simulation-vm"></a><span data-ttu-id="97c7a-159">How do I stop and start all docker processes in the simulation VM?</span><span class="sxs-lookup"><span data-stu-id="97c7a-159">How do I stop and start all docker processes in the simulation VM?</span></span>

1. <span data-ttu-id="97c7a-160">Sign in to the simulation VM.</span><span class="sxs-lookup"><span data-stu-id="97c7a-160">Sign in to the simulation VM.</span></span> <span data-ttu-id="97c7a-161">See [How do I sign in to the simulation VM?](#how-do-i-sign-in-to-the-simulation-vm)</span><span class="sxs-lookup"><span data-stu-id="97c7a-161">See [How do I sign in to the simulation VM?](#how-do-i-sign-in-to-the-simulation-vm)</span></span>
1. <span data-ttu-id="97c7a-162">To check which containers are active, run: `docker ps`.</span><span class="sxs-lookup"><span data-stu-id="97c7a-162">To check which containers are active, run: `docker ps`.</span></span>
1. <span data-ttu-id="97c7a-163">To stop all simulation containers, run: `./stopsimulation`.</span><span class="sxs-lookup"><span data-stu-id="97c7a-163">To stop all simulation containers, run: `./stopsimulation`.</span></span>
1. <span data-ttu-id="97c7a-164">To start all simulation containers:</span><span class="sxs-lookup"><span data-stu-id="97c7a-164">To start all simulation containers:</span></span>
    * <span data-ttu-id="97c7a-165">Export a shell variable with the name **IOTHUB_CONNECTIONSTRING**.</span><span class="sxs-lookup"><span data-stu-id="97c7a-165">Export a shell variable with the name **IOTHUB_CONNECTIONSTRING**.</span></span> <span data-ttu-id="97c7a-166">Use the value of the **IotHubOwnerConnectionString** setting in the `<name of your deployment>.config.user` file.</span><span class="sxs-lookup"><span data-stu-id="97c7a-166">Use the value of the **IotHubOwnerConnectionString** setting in the `<name of your deployment>.config.user` file.</span></span> <span data-ttu-id="97c7a-167">For example:</span><span class="sxs-lookup"><span data-stu-id="97c7a-167">For example:</span></span>

        ```
        export IOTHUB_CONNECTIONSTRING="HostName={yourdeployment}.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey={your key}"
        ```

    * <span data-ttu-id="97c7a-168">Run `./startsimulation`.</span><span class="sxs-lookup"><span data-stu-id="97c7a-168">Run `./startsimulation`.</span></span>

### <a name="how-do-i-update-the-simulation-in-the-vm"></a><span data-ttu-id="97c7a-169">How do I update the simulation in the VM?</span><span class="sxs-lookup"><span data-stu-id="97c7a-169">How do I update the simulation in the VM?</span></span>

<span data-ttu-id="97c7a-170">If you have made any changes to the simulation, you can use the PowerShell script `build.ps1` in the [repository](https://github.com/Azure/azure-iot-connected-factory) using the `updatedimulation` command.</span><span class="sxs-lookup"><span data-stu-id="97c7a-170">If you have made any changes to the simulation, you can use the PowerShell script `build.ps1` in the [repository](https://github.com/Azure/azure-iot-connected-factory) using the `updatedimulation` command.</span></span> <span data-ttu-id="97c7a-171">This script builds all the simulation components, stops the simulation in the VM, uploads, installs, and starts them.</span><span class="sxs-lookup"><span data-stu-id="97c7a-171">This script builds all the simulation components, stops the simulation in the VM, uploads, installs, and starts them.</span></span>

### <a name="how-do-i-find-out-the-connection-string-of-the-iot-hub-used-by-my-solution"></a><span data-ttu-id="97c7a-172">How do I find out the connection string of the IoT hub used by my solution?</span><span class="sxs-lookup"><span data-stu-id="97c7a-172">How do I find out the connection string of the IoT hub used by my solution?</span></span>

<span data-ttu-id="97c7a-173">If you deployed your solution with the `build.ps1` script in the [repository](https://github.com/Azure/azure-iot-connected-factory), the connection string is the value of **IotHubOwnerConnectionString** in the `<name of your deployment>.config.user` file.</span><span class="sxs-lookup"><span data-stu-id="97c7a-173">If you deployed your solution with the `build.ps1` script in the [repository](https://github.com/Azure/azure-iot-connected-factory), the connection string is the value of **IotHubOwnerConnectionString** in the `<name of your deployment>.config.user` file.</span></span>

<span data-ttu-id="97c7a-174">You can also find the connection string using the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="97c7a-174">You can also find the connection string using the Azure portal.</span></span> <span data-ttu-id="97c7a-175">In the IoT Hub resource in the resource group of your deployment, locate the connection string settings.</span><span class="sxs-lookup"><span data-stu-id="97c7a-175">In the IoT Hub resource in the resource group of your deployment, locate the connection string settings.</span></span>

### <a name="which-iot-hub-devices-does-the-connected-factory-simulation-use"></a><span data-ttu-id="97c7a-176">Which IoT Hub devices does the Connected Factory simulation use?</span><span class="sxs-lookup"><span data-stu-id="97c7a-176">Which IoT Hub devices does the Connected Factory simulation use?</span></span>

<span data-ttu-id="97c7a-177">The simulation self registers the following devices:</span><span class="sxs-lookup"><span data-stu-id="97c7a-177">The simulation self registers the following devices:</span></span>

* <span data-ttu-id="97c7a-178">proxy.beijing.corp.contoso</span><span class="sxs-lookup"><span data-stu-id="97c7a-178">proxy.beijing.corp.contoso</span></span>
* <span data-ttu-id="97c7a-179">proxy.capetown.corp.contoso</span><span class="sxs-lookup"><span data-stu-id="97c7a-179">proxy.capetown.corp.contoso</span></span>
* <span data-ttu-id="97c7a-180">proxy.mumbai.corp.contoso</span><span class="sxs-lookup"><span data-stu-id="97c7a-180">proxy.mumbai.corp.contoso</span></span>
* <span data-ttu-id="97c7a-181">proxy.munich0.corp.contoso</span><span class="sxs-lookup"><span data-stu-id="97c7a-181">proxy.munich0.corp.contoso</span></span>
* <span data-ttu-id="97c7a-182">proxy.rio.corp.contoso</span><span class="sxs-lookup"><span data-stu-id="97c7a-182">proxy.rio.corp.contoso</span></span>
* <span data-ttu-id="97c7a-183">proxy.seattle.corp.contoso</span><span class="sxs-lookup"><span data-stu-id="97c7a-183">proxy.seattle.corp.contoso</span></span>
* <span data-ttu-id="97c7a-184">publisher.beijing.corp.contoso</span><span class="sxs-lookup"><span data-stu-id="97c7a-184">publisher.beijing.corp.contoso</span></span>
* <span data-ttu-id="97c7a-185">publisher.capetown.corp.contoso</span><span class="sxs-lookup"><span data-stu-id="97c7a-185">publisher.capetown.corp.contoso</span></span>
* <span data-ttu-id="97c7a-186">publisher.mumbai.corp.contoso</span><span class="sxs-lookup"><span data-stu-id="97c7a-186">publisher.mumbai.corp.contoso</span></span>
* <span data-ttu-id="97c7a-187">publisher.munich0.corp.contoso</span><span class="sxs-lookup"><span data-stu-id="97c7a-187">publisher.munich0.corp.contoso</span></span>
* <span data-ttu-id="97c7a-188">publisher.rio.corp.contoso</span><span class="sxs-lookup"><span data-stu-id="97c7a-188">publisher.rio.corp.contoso</span></span>
* <span data-ttu-id="97c7a-189">publisher.seattle.corp.contoso</span><span class="sxs-lookup"><span data-stu-id="97c7a-189">publisher.seattle.corp.contoso</span></span>

<span data-ttu-id="97c7a-190">Using the [DeviceExplorer](https://github.com/Azure/azure-iot-sdk-csharp/tree/master/tools/DeviceExplorer) or [the IoT extension for Azure CLI 2.0](https://github.com/Azure/azure-iot-cli-extension) tool, you can check which devices are registered with the IoT hub your solution is using.</span><span class="sxs-lookup"><span data-stu-id="97c7a-190">Using the [DeviceExplorer](https://github.com/Azure/azure-iot-sdk-csharp/tree/master/tools/DeviceExplorer) or [the IoT extension for Azure CLI 2.0](https://github.com/Azure/azure-iot-cli-extension) tool, you can check which devices are registered with the IoT hub your solution is using.</span></span> <span data-ttu-id="97c7a-191">To use device explorer, you need the connection string for the IoT hub in your deployment.</span><span class="sxs-lookup"><span data-stu-id="97c7a-191">To use device explorer, you need the connection string for the IoT hub in your deployment.</span></span> <span data-ttu-id="97c7a-192">To use the IoT extension for Azure CLI 2.0, you need your IoT Hub name.</span><span class="sxs-lookup"><span data-stu-id="97c7a-192">To use the IoT extension for Azure CLI 2.0, you need your IoT Hub name.</span></span>

### <a name="how-can-i-get-log-data-from-the-simulation-components"></a><span data-ttu-id="97c7a-193">How can I get log data from the simulation components?</span><span class="sxs-lookup"><span data-stu-id="97c7a-193">How can I get log data from the simulation components?</span></span>

<span data-ttu-id="97c7a-194">All components in the simulation log information in to log files.</span><span class="sxs-lookup"><span data-stu-id="97c7a-194">All components in the simulation log information in to log files.</span></span> <span data-ttu-id="97c7a-195">These files can be found in the VM in the folder `home/docker/Logs`.</span><span class="sxs-lookup"><span data-stu-id="97c7a-195">These files can be found in the VM in the folder `home/docker/Logs`.</span></span> <span data-ttu-id="97c7a-196">To retrieve the logs, you can use the PowerShell script `Simulation/Factory/Get-SimulationLogs.ps1` in the [repository](https://github.com/Azure/azure-iot-connected-factory).</span><span class="sxs-lookup"><span data-stu-id="97c7a-196">To retrieve the logs, you can use the PowerShell script `Simulation/Factory/Get-SimulationLogs.ps1` in the [repository](https://github.com/Azure/azure-iot-connected-factory).</span></span>

<span data-ttu-id="97c7a-197">This script needs to sign in to the VM.</span><span class="sxs-lookup"><span data-stu-id="97c7a-197">This script needs to sign in to the VM.</span></span> <span data-ttu-id="97c7a-198">You may need to provide credentials for the sign-in.</span><span class="sxs-lookup"><span data-stu-id="97c7a-198">You may need to provide credentials for the sign-in.</span></span> <span data-ttu-id="97c7a-199">See [How do I sign in to the simulation VM?](#how-do-i-sign-in-to-the-simulation-vm) to find the credentials.</span><span class="sxs-lookup"><span data-stu-id="97c7a-199">See [How do I sign in to the simulation VM?](#how-do-i-sign-in-to-the-simulation-vm) to find the credentials.</span></span>

<span data-ttu-id="97c7a-200">The script adds/removes a public IP address to the VM, if it does not yet have one and removes it.</span><span class="sxs-lookup"><span data-stu-id="97c7a-200">The script adds/removes a public IP address to the VM, if it does not yet have one and removes it.</span></span> <span data-ttu-id="97c7a-201">The script puts all log files in an archive and downloads the archive to your development workstation.</span><span class="sxs-lookup"><span data-stu-id="97c7a-201">The script puts all log files in an archive and downloads the archive to your development workstation.</span></span>

<span data-ttu-id="97c7a-202">Alternatively log in to the VM via SSH and inspect the log files at runtime.</span><span class="sxs-lookup"><span data-stu-id="97c7a-202">Alternatively log in to the VM via SSH and inspect the log files at runtime.</span></span>

### <a name="how-can-i-check-if-the-simulation-is-sending-data-to-the-cloud"></a><span data-ttu-id="97c7a-203">How can I check if the simulation is sending data to the cloud?</span><span class="sxs-lookup"><span data-stu-id="97c7a-203">How can I check if the simulation is sending data to the cloud?</span></span>

<span data-ttu-id="97c7a-204">With the [DeviceExplorer](https://github.com/Azure/azure-iot-sdk-csharp/tree/master/tools/DeviceExplorer) or the [Azure IoT CLI Extension monitor-events](https://docs.microsoft.com/cli/azure/ext/azure-cli-iot-ext/iot/hub?view=azure-cli-latest#ext-azure-cli-iot-ext-az-iot-hub-monitor-events) command, you can inspect the data sent to IoT Hub from certain devices.</span><span class="sxs-lookup"><span data-stu-id="97c7a-204">With the [DeviceExplorer](https://github.com/Azure/azure-iot-sdk-csharp/tree/master/tools/DeviceExplorer) or the [Azure IoT CLI Extension monitor-events](https://docs.microsoft.com/cli/azure/ext/azure-cli-iot-ext/iot/hub?view=azure-cli-latest#ext-azure-cli-iot-ext-az-iot-hub-monitor-events) command, you can inspect the data sent to IoT Hub from certain devices.</span></span> <span data-ttu-id="97c7a-205">To use these tools, you need to know the connection string for the IoT hub in your deployment.</span><span class="sxs-lookup"><span data-stu-id="97c7a-205">To use these tools, you need to know the connection string for the IoT hub in your deployment.</span></span> <span data-ttu-id="97c7a-206">See [How do I find out the connection string of the IoT hub used by my solution?](#how-do-i-find-out-the-connection-string-of-the-iot-hub-used-by-my-solution)</span><span class="sxs-lookup"><span data-stu-id="97c7a-206">See [How do I find out the connection string of the IoT hub used by my solution?](#how-do-i-find-out-the-connection-string-of-the-iot-hub-used-by-my-solution)</span></span>

<span data-ttu-id="97c7a-207">Inspect the data sent by one of the publisher devices:</span><span class="sxs-lookup"><span data-stu-id="97c7a-207">Inspect the data sent by one of the publisher devices:</span></span>

* <span data-ttu-id="97c7a-208">publisher.beijing.corp.contoso</span><span class="sxs-lookup"><span data-stu-id="97c7a-208">publisher.beijing.corp.contoso</span></span>
* <span data-ttu-id="97c7a-209">publisher.capetown.corp.contoso</span><span class="sxs-lookup"><span data-stu-id="97c7a-209">publisher.capetown.corp.contoso</span></span>
* <span data-ttu-id="97c7a-210">publisher.mumbai.corp.contoso</span><span class="sxs-lookup"><span data-stu-id="97c7a-210">publisher.mumbai.corp.contoso</span></span>
* <span data-ttu-id="97c7a-211">publisher.munich0.corp.contoso</span><span class="sxs-lookup"><span data-stu-id="97c7a-211">publisher.munich0.corp.contoso</span></span>
* <span data-ttu-id="97c7a-212">publisher.rio.corp.contoso</span><span class="sxs-lookup"><span data-stu-id="97c7a-212">publisher.rio.corp.contoso</span></span>
* <span data-ttu-id="97c7a-213">publisher.seattle.corp.contoso</span><span class="sxs-lookup"><span data-stu-id="97c7a-213">publisher.seattle.corp.contoso</span></span>

<span data-ttu-id="97c7a-214">If you see no data sent to IoT Hub, then there is an issue with the simulation.</span><span class="sxs-lookup"><span data-stu-id="97c7a-214">If you see no data sent to IoT Hub, then there is an issue with the simulation.</span></span> <span data-ttu-id="97c7a-215">As a first analysis step you should analyze the log files of the simulation components.</span><span class="sxs-lookup"><span data-stu-id="97c7a-215">As a first analysis step you should analyze the log files of the simulation components.</span></span> <span data-ttu-id="97c7a-216">See [How can I get log data from the simulation components?](#how-can-i-get-log-data-from-the-simulation-components)</span><span class="sxs-lookup"><span data-stu-id="97c7a-216">See [How can I get log data from the simulation components?](#how-can-i-get-log-data-from-the-simulation-components)</span></span> <span data-ttu-id="97c7a-217">Next, try to stop and start the simulation and if there's still no data sent, update the simulation completely.</span><span class="sxs-lookup"><span data-stu-id="97c7a-217">Next, try to stop and start the simulation and if there's still no data sent, update the simulation completely.</span></span> <span data-ttu-id="97c7a-218">See [How do I update the simulation in the VM?](#how-do-i-update-the-simulation-in-the-vm)</span><span class="sxs-lookup"><span data-stu-id="97c7a-218">See [How do I update the simulation in the VM?](#how-do-i-update-the-simulation-in-the-vm)</span></span>

### <a name="how-do-i-enable-an-interactive-map-in-my-connected-factory-solution"></a><span data-ttu-id="97c7a-219">How do I enable an interactive map in my Connected Factory solution?</span><span class="sxs-lookup"><span data-stu-id="97c7a-219">How do I enable an interactive map in my Connected Factory solution?</span></span>

<span data-ttu-id="97c7a-220">To enable an interactive map in your Connected Factory solution, you must have an existing Bing Maps API for Enterprise plan.</span><span class="sxs-lookup"><span data-stu-id="97c7a-220">To enable an interactive map in your Connected Factory solution, you must have an existing Bing Maps API for Enterprise plan.</span></span>

<span data-ttu-id="97c7a-221">When deploying from [www.azureiotsolutions.com](http://www.azureiotsolutions.com), the deployment process verifies that your subscription has an enabled Bing Maps API for Enterprise plan and automatically deploys an interactive map into Connected Factory.</span><span class="sxs-lookup"><span data-stu-id="97c7a-221">When deploying from [www.azureiotsolutions.com](http://www.azureiotsolutions.com), the deployment process verifies that your subscription has an enabled Bing Maps API for Enterprise plan and automatically deploys an interactive map into Connected Factory.</span></span> <span data-ttu-id="97c7a-222">If this is not the case, you can still enable an interactive map in your deployment as follows:</span><span class="sxs-lookup"><span data-stu-id="97c7a-222">If this is not the case, you can still enable an interactive map in your deployment as follows:</span></span>

<span data-ttu-id="97c7a-223">When you deploy using the `build.ps1` script in the Connected Factory GitHub repository and you have a Bing Maps API for Enterprise plan, set the environment variable `$env:MapApiQueryKey` in the build window to the query key of your plan.</span><span class="sxs-lookup"><span data-stu-id="97c7a-223">When you deploy using the `build.ps1` script in the Connected Factory GitHub repository and you have a Bing Maps API for Enterprise plan, set the environment variable `$env:MapApiQueryKey` in the build window to the query key of your plan.</span></span> <span data-ttu-id="97c7a-224">The interactive map is then enabled automatically.</span><span class="sxs-lookup"><span data-stu-id="97c7a-224">The interactive map is then enabled automatically.</span></span>

<span data-ttu-id="97c7a-225">If you don't have a Bing Maps API for Enterprise plan, deploy the Connected Factory solution from [www.azureiotsolutions.com](http://www.azureiotsolutions.com) or using the `build.ps1` script.</span><span class="sxs-lookup"><span data-stu-id="97c7a-225">If you don't have a Bing Maps API for Enterprise plan, deploy the Connected Factory solution from [www.azureiotsolutions.com](http://www.azureiotsolutions.com) or using the `build.ps1` script.</span></span> <span data-ttu-id="97c7a-226">Then add a Bing Maps API for Enterprise plan to your subscription as explained in [How do I create a Bing Maps API for Enterprise account?](#how-do-i-create-a-bing-maps-api-for-enterprise-account).</span><span class="sxs-lookup"><span data-stu-id="97c7a-226">Then add a Bing Maps API for Enterprise plan to your subscription as explained in [How do I create a Bing Maps API for Enterprise account?](#how-do-i-create-a-bing-maps-api-for-enterprise-account).</span></span> <span data-ttu-id="97c7a-227">Look up the query key of this account as explained in [How to obtain your Bing Maps API for Enterprise QueryKey](#how-to-obtain-your-bing-maps-api-for-enterprise-querykey) and save this key.</span><span class="sxs-lookup"><span data-stu-id="97c7a-227">Look up the query key of this account as explained in [How to obtain your Bing Maps API for Enterprise QueryKey](#how-to-obtain-your-bing-maps-api-for-enterprise-querykey) and save this key.</span></span> <span data-ttu-id="97c7a-228">Navigate to the Azure portal and access the App Service resource in your Connected Factory deployment.</span><span class="sxs-lookup"><span data-stu-id="97c7a-228">Navigate to the Azure portal and access the App Service resource in your Connected Factory deployment.</span></span> <span data-ttu-id="97c7a-229">Navigate to **Application settings**, where you find a section **App settings**.</span><span class="sxs-lookup"><span data-stu-id="97c7a-229">Navigate to **Application settings**, where you find a section **App settings**.</span></span> <span data-ttu-id="97c7a-230">Set the **MapApiQueryKey** to the query key you obtained.</span><span class="sxs-lookup"><span data-stu-id="97c7a-230">Set the **MapApiQueryKey** to the query key you obtained.</span></span> <span data-ttu-id="97c7a-231">Save the settings and then navigate to **Overview** and restart the App Service.</span><span class="sxs-lookup"><span data-stu-id="97c7a-231">Save the settings and then navigate to **Overview** and restart the App Service.</span></span>

### <a name="how-do-i-create-a-bing-maps-api-for-enterprise-account"></a><span data-ttu-id="97c7a-232">How do I create a Bing Maps API for Enterprise account</span><span class="sxs-lookup"><span data-stu-id="97c7a-232">How do I create a Bing Maps API for Enterprise account</span></span>

<span data-ttu-id="97c7a-233">You can get a free *Internal Transactions Level 1 Bing Maps for Enterprise* plan.</span><span class="sxs-lookup"><span data-stu-id="97c7a-233">You can get a free *Internal Transactions Level 1 Bing Maps for Enterprise* plan.</span></span> <span data-ttu-id="97c7a-234">However, you can only add two of these plans to an Azure subscription.</span><span class="sxs-lookup"><span data-stu-id="97c7a-234">However, you can only add two of these plans to an Azure subscription.</span></span> <span data-ttu-id="97c7a-235">If you don't have a Bing Maps API for Enterprise account, create one in the Azure portal by clicking **+ Create a resource**.</span><span class="sxs-lookup"><span data-stu-id="97c7a-235">If you don't have a Bing Maps API for Enterprise account, create one in the Azure portal by clicking **+ Create a resource**.</span></span> <span data-ttu-id="97c7a-236">Then search for **Bing Maps API for Enterprise** and follow the prompts to create it.</span><span class="sxs-lookup"><span data-stu-id="97c7a-236">Then search for **Bing Maps API for Enterprise** and follow the prompts to create it.</span></span>

![Bing key](./media/iot-accelerators-faq-cf/bing.png)

### <a name="how-to-obtain-your-bing-maps-api-for-enterprise-querykey"></a><span data-ttu-id="97c7a-238">How to obtain your Bing Maps API for Enterprise QueryKey</span><span class="sxs-lookup"><span data-stu-id="97c7a-238">How to obtain your Bing Maps API for Enterprise QueryKey</span></span>

<span data-ttu-id="97c7a-239">Once you have created your Bing Maps API for Enterprise plan, add a Bing Maps for Enterprise resource to the resource group of your Connected Factory solution in the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="97c7a-239">Once you have created your Bing Maps API for Enterprise plan, add a Bing Maps for Enterprise resource to the resource group of your Connected Factory solution in the Azure portal.</span></span>

1. <span data-ttu-id="97c7a-240">In the Azure portal, navigate to the resource group that contains your Bing Maps API for Enterprise plan.</span><span class="sxs-lookup"><span data-stu-id="97c7a-240">In the Azure portal, navigate to the resource group that contains your Bing Maps API for Enterprise plan.</span></span>

1. <span data-ttu-id="97c7a-241">Click **All Settings**, then **Key Management**.</span><span class="sxs-lookup"><span data-stu-id="97c7a-241">Click **All Settings**, then **Key Management**.</span></span>

1. <span data-ttu-id="97c7a-242">There are two keys: **MasterKey** and **QueryKey**.</span><span class="sxs-lookup"><span data-stu-id="97c7a-242">There are two keys: **MasterKey** and **QueryKey**.</span></span> <span data-ttu-id="97c7a-243">Copy the **QueryKey** value.</span><span class="sxs-lookup"><span data-stu-id="97c7a-243">Copy the **QueryKey** value.</span></span>

1. <span data-ttu-id="97c7a-244">To have the key picked up by the `build.ps1` script, set the environment variable `$env:MapApiQueryKey` in your PowerShell environment to the **QueryKey** of your plan.</span><span class="sxs-lookup"><span data-stu-id="97c7a-244">To have the key picked up by the `build.ps1` script, set the environment variable `$env:MapApiQueryKey` in your PowerShell environment to the **QueryKey** of your plan.</span></span> <span data-ttu-id="97c7a-245">The build script then automatically adds the value to the settings of the App Service.</span><span class="sxs-lookup"><span data-stu-id="97c7a-245">The build script then automatically adds the value to the settings of the App Service.</span></span>

1. <span data-ttu-id="97c7a-246">Run a local or cloud deployment using the `build.ps1` script.</span><span class="sxs-lookup"><span data-stu-id="97c7a-246">Run a local or cloud deployment using the `build.ps1` script.</span></span>

### <a name="how-do-enable-the-interactive-map-while-debugging-locally"></a><span data-ttu-id="97c7a-247">How do enable the interactive map while debugging locally?</span><span class="sxs-lookup"><span data-stu-id="97c7a-247">How do enable the interactive map while debugging locally?</span></span>

<span data-ttu-id="97c7a-248">To enable the interactive map while you are debugging locally, set the value of the setting `MapApiQueryKey` in the files `local.user.config` and `<yourdeploymentname>.user.config` in the root of your deployment to the value of the **QueryKey** you copied previously.</span><span class="sxs-lookup"><span data-stu-id="97c7a-248">To enable the interactive map while you are debugging locally, set the value of the setting `MapApiQueryKey` in the files `local.user.config` and `<yourdeploymentname>.user.config` in the root of your deployment to the value of the **QueryKey** you copied previously.</span></span>

### <a name="how-do-i-use-a-different-image-at-the-home-page-of-my-dashboard"></a><span data-ttu-id="97c7a-249">How do I use a different image at the home page of my dashboard?</span><span class="sxs-lookup"><span data-stu-id="97c7a-249">How do I use a different image at the home page of my dashboard?</span></span>

<span data-ttu-id="97c7a-250">To change the static image shown io the home page of the dashboard, replace the image `WebApp\Content\img\world.jpg`.</span><span class="sxs-lookup"><span data-stu-id="97c7a-250">To change the static image shown io the home page of the dashboard, replace the image `WebApp\Content\img\world.jpg`.</span></span> <span data-ttu-id="97c7a-251">Then rebuild and redeploy the WebApp.</span><span class="sxs-lookup"><span data-stu-id="97c7a-251">Then rebuild and redeploy the WebApp.</span></span>

### <a name="how-do-i-use-non-opc-ua-devices-with-connected-factory"></a><span data-ttu-id="97c7a-252">How do I use non OPC UA devices with Connected Factory?</span><span class="sxs-lookup"><span data-stu-id="97c7a-252">How do I use non OPC UA devices with Connected Factory?</span></span>

<span data-ttu-id="97c7a-253">To send telemetry data from non OPC UA devices to Connected Factory:</span><span class="sxs-lookup"><span data-stu-id="97c7a-253">To send telemetry data from non OPC UA devices to Connected Factory:</span></span>

1. <span data-ttu-id="97c7a-254">[Configure a new station in the Connected Factory topology](iot-accelerators-connected-factory-configure.md) in the `ContosoTopologyDescription.json` file.</span><span class="sxs-lookup"><span data-stu-id="97c7a-254">[Configure a new station in the Connected Factory topology](iot-accelerators-connected-factory-configure.md) in the `ContosoTopologyDescription.json` file.</span></span>

1. <span data-ttu-id="97c7a-255">Ingest the telemetry data in Connected Factory compatible JSON format:</span><span class="sxs-lookup"><span data-stu-id="97c7a-255">Ingest the telemetry data in Connected Factory compatible JSON format:</span></span>

    ```json
    [
      {
        "ApplicationUri": "<the_value_of_OpcUri_of_your_station",
        "DisplayName": "<name_of_the_datapoint>",
        "NodeId": "value_of_NodeId_of_your_datapoint_in_the_station",
        "Value": {
          "Value": <datapoint_value>,
          "SourceTimestamp": "<timestamp>"
        }
      }
    ]
    ```

1. <span data-ttu-id="97c7a-256">The format of `<timestamp>` is: `2017-12-08T19:24:51.886753Z`</span><span class="sxs-lookup"><span data-stu-id="97c7a-256">The format of `<timestamp>` is: `2017-12-08T19:24:51.886753Z`</span></span>

1. <span data-ttu-id="97c7a-257">Restart the Connected Factory App Service.</span><span class="sxs-lookup"><span data-stu-id="97c7a-257">Restart the Connected Factory App Service.</span></span>

### <a name="next-steps"></a><span data-ttu-id="97c7a-258">Next steps</span><span class="sxs-lookup"><span data-stu-id="97c7a-258">Next steps</span></span>

<span data-ttu-id="97c7a-259">You can also explore some of the other features and capabilities of the IoT solution accelerators:</span><span class="sxs-lookup"><span data-stu-id="97c7a-259">You can also explore some of the other features and capabilities of the IoT solution accelerators:</span></span>

* [<span data-ttu-id="97c7a-260">Predictive Maintenance solution accelerator overview</span><span class="sxs-lookup"><span data-stu-id="97c7a-260">Predictive Maintenance solution accelerator overview</span></span>](iot-accelerators-predictive-overview.md)
* [<span data-ttu-id="97c7a-261">Deploy Connected Factory solution accelerator</span><span class="sxs-lookup"><span data-stu-id="97c7a-261">Deploy Connected Factory solution accelerator</span></span>](quickstart-connected-factory-deploy.md)
* [<span data-ttu-id="97c7a-262">IoT security from the ground up</span><span class="sxs-lookup"><span data-stu-id="97c7a-262">IoT security from the ground up</span></span>](/azure/iot-fundamentals/iot-security-ground-up)
