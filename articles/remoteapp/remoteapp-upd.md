---
title: How does Azure RemoteApp save user data and settings? | Microsoft Docs
description: Learn how Azure RemoteApp saves user data using the user profile disk.
services: remoteapp
documentationcenter: ''
author: msmbaldwin
manager: mbaldwin
ms.assetid: e125af62-5c1a-4186-a238-52f537f7bb34
ms.service: remoteapp
ms.workload: compute
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 11/23/2016
ms.author: mbaldwin
ms.openlocfilehash: f66058f22cd35586faeadb23176fd9417cb927aa
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44671971"
---
# <a name="how-does-azure-remoteapp-save-user-data-and-settings"></a><span data-ttu-id="08c21-104">How does Azure RemoteApp save user data and settings?</span><span class="sxs-lookup"><span data-stu-id="08c21-104">How does Azure RemoteApp save user data and settings?</span></span>
> [!IMPORTANT]
> <span data-ttu-id="08c21-105">Azure RemoteApp is being discontinued on August 31, 2017.</span><span class="sxs-lookup"><span data-stu-id="08c21-105">Azure RemoteApp is being discontinued on August 31, 2017.</span></span> <span data-ttu-id="08c21-106">Read the [announcement](https://go.microsoft.com/fwlink/?linkid=821148) for details.</span><span class="sxs-lookup"><span data-stu-id="08c21-106">Read the [announcement](https://go.microsoft.com/fwlink/?linkid=821148) for details.</span></span>
> 
> 

<span data-ttu-id="08c21-107">Azure RemoteApp saves user identity and customizations across devices and sessions.</span><span class="sxs-lookup"><span data-stu-id="08c21-107">Azure RemoteApp saves user identity and customizations across devices and sessions.</span></span> <span data-ttu-id="08c21-108">This user data is stored in a per-user per-collection disk, known as a user profile disk (UPD).</span><span class="sxs-lookup"><span data-stu-id="08c21-108">This user data is stored in a per-user per-collection disk, known as a user profile disk (UPD).</span></span> <span data-ttu-id="08c21-109">The disk follows the user and ensures the user has a consistent experience, regardless of where they sign in.</span><span class="sxs-lookup"><span data-stu-id="08c21-109">The disk follows the user and ensures the user has a consistent experience, regardless of where they sign in.</span></span>

<span data-ttu-id="08c21-110">User profile disks are completely transparent to the user — users save documents to their Documents folder (on what appears to be a local drive) and change their app settings as usual.</span><span class="sxs-lookup"><span data-stu-id="08c21-110">User profile disks are completely transparent to the user — users save documents to their Documents folder (on what appears to be a local drive) and change their app settings as usual.</span></span> <span data-ttu-id="08c21-111">At the same time, all personal settings persist when connecting to Azure RemoteApp from any device.</span><span class="sxs-lookup"><span data-stu-id="08c21-111">At the same time, all personal settings persist when connecting to Azure RemoteApp from any device.</span></span> <span data-ttu-id="08c21-112">All the user sees is their data in the same place.</span><span class="sxs-lookup"><span data-stu-id="08c21-112">All the user sees is their data in the same place.</span></span>

<span data-ttu-id="08c21-113">Each UPD has 50GB of persistent storage and contains both user data and application settings.</span><span class="sxs-lookup"><span data-stu-id="08c21-113">Each UPD has 50GB of persistent storage and contains both user data and application settings.</span></span> 

<span data-ttu-id="08c21-114">Read on for specifics on user profile data.</span><span class="sxs-lookup"><span data-stu-id="08c21-114">Read on for specifics on user profile data.</span></span>

> [!NOTE]
> <span data-ttu-id="08c21-115">Need to disable the UPD?</span><span class="sxs-lookup"><span data-stu-id="08c21-115">Need to disable the UPD?</span></span> <span data-ttu-id="08c21-116">You can do that now - check out Pavithra's blog post, [Disable User Profile Disks (UPDs) in Azure RemoteApp](https://blogs.technet.microsoft.com/enterprisemobility/2015/11/11/disable-user-profile-disks-upds-in-azure-remoteapp/), for details.</span><span class="sxs-lookup"><span data-stu-id="08c21-116">You can do that now - check out Pavithra's blog post, [Disable User Profile Disks (UPDs) in Azure RemoteApp](https://blogs.technet.microsoft.com/enterprisemobility/2015/11/11/disable-user-profile-disks-upds-in-azure-remoteapp/), for details.</span></span>
> 
> 

## <a name="how-can-an-admin-get-to-the-data"></a><span data-ttu-id="08c21-117">How can an admin get to the data?</span><span class="sxs-lookup"><span data-stu-id="08c21-117">How can an admin get to the data?</span></span>
<span data-ttu-id="08c21-118">If you need to access the data for one of your users (for disaster recovery or if the user leaves the company), contact Azure Support and provide the subscription information for the collection and the user identity.</span><span class="sxs-lookup"><span data-stu-id="08c21-118">If you need to access the data for one of your users (for disaster recovery or if the user leaves the company), contact Azure Support and provide the subscription information for the collection and the user identity.</span></span> <span data-ttu-id="08c21-119">The Azure RemoteApp team will provide you a URL to the VHD.</span><span class="sxs-lookup"><span data-stu-id="08c21-119">The Azure RemoteApp team will provide you a URL to the VHD.</span></span> <span data-ttu-id="08c21-120">Download that VHD and retrieve any documents or files you need.</span><span class="sxs-lookup"><span data-stu-id="08c21-120">Download that VHD and retrieve any documents or files you need.</span></span> <span data-ttu-id="08c21-121">Note that the VHD is 50GB, so it will take a bit to download it.</span><span class="sxs-lookup"><span data-stu-id="08c21-121">Note that the VHD is 50GB, so it will take a bit to download it.</span></span>

## <a name="is-the-data-backed-up"></a><span data-ttu-id="08c21-122">Is the data backed up?</span><span class="sxs-lookup"><span data-stu-id="08c21-122">Is the data backed up?</span></span>
<span data-ttu-id="08c21-123">Yes, we save a backup of the user data per geographic location.</span><span class="sxs-lookup"><span data-stu-id="08c21-123">Yes, we save a backup of the user data per geographic location.</span></span> <span data-ttu-id="08c21-124">The data is read-only and can be accessed in the same way as the regular data would be (contact Azure RemoteApp to get it), if the primary data center is down.</span><span class="sxs-lookup"><span data-stu-id="08c21-124">The data is read-only and can be accessed in the same way as the regular data would be (contact Azure RemoteApp to get it), if the primary data center is down.</span></span> <span data-ttu-id="08c21-125">The data is copied real-time to the backup location and we do not keep copies of different versions.</span><span class="sxs-lookup"><span data-stu-id="08c21-125">The data is copied real-time to the backup location and we do not keep copies of different versions.</span></span> <span data-ttu-id="08c21-126">So, on data corruption, we will not be able to restore it to a previously known good version but if the primary data center is down, you will be able to get user data from the other location.</span><span class="sxs-lookup"><span data-stu-id="08c21-126">So, on data corruption, we will not be able to restore it to a previously known good version but if the primary data center is down, you will be able to get user data from the other location.</span></span>

## <a name="how-do-users-see-the-upd-on-the-server-side"></a><span data-ttu-id="08c21-127">How do users see the UPD on the server side?</span><span class="sxs-lookup"><span data-stu-id="08c21-127">How do users see the UPD on the server side?</span></span>
<span data-ttu-id="08c21-128">Each user will have their own directory on the server that maps to their UPD: c:\Users\username.</span><span class="sxs-lookup"><span data-stu-id="08c21-128">Each user will have their own directory on the server that maps to their UPD: c:\Users\username.</span></span>

## <a name="whats-the-best-way-to-use-outlook-and-upd"></a><span data-ttu-id="08c21-129">What's the best way to use Outlook and UPD?</span><span class="sxs-lookup"><span data-stu-id="08c21-129">What's the best way to use Outlook and UPD?</span></span>
<span data-ttu-id="08c21-130">Azure RemoteApp saves the Outlook state (mailboxes, PSTs) between sessions.</span><span class="sxs-lookup"><span data-stu-id="08c21-130">Azure RemoteApp saves the Outlook state (mailboxes, PSTs) between sessions.</span></span> <span data-ttu-id="08c21-131">To enable this, we need the PST to be stored in the user profile data (c:\users\<username>).</span><span class="sxs-lookup"><span data-stu-id="08c21-131">To enable this, we need the PST to be stored in the user profile data (c:\users\<username>).</span></span> <span data-ttu-id="08c21-132">This is the default location for the data, so as long as you do not change the location, the data will persist between sessions.</span><span class="sxs-lookup"><span data-stu-id="08c21-132">This is the default location for the data, so as long as you do not change the location, the data will persist between sessions.</span></span>

<span data-ttu-id="08c21-133">We also recommend that you use "cached" mode in Outlook and use "server/online" mode for searching.</span><span class="sxs-lookup"><span data-stu-id="08c21-133">We also recommend that you use "cached" mode in Outlook and use "server/online" mode for searching.</span></span>

<span data-ttu-id="08c21-134">Check out [this article](remoteapp-outlook.md) for more information on using Outlook and Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="08c21-134">Check out [this article](remoteapp-outlook.md) for more information on using Outlook and Azure RemoteApp.</span></span>

## <a name="what-about-redirection"></a><span data-ttu-id="08c21-135">What about redirection?</span><span class="sxs-lookup"><span data-stu-id="08c21-135">What about redirection?</span></span>
<span data-ttu-id="08c21-136">You can configure Azure RemoteApp to let users access local devices by setting up [redirection](remoteapp-redirection.md).</span><span class="sxs-lookup"><span data-stu-id="08c21-136">You can configure Azure RemoteApp to let users access local devices by setting up [redirection](remoteapp-redirection.md).</span></span> <span data-ttu-id="08c21-137">Local devices will then be able to access the data on the UPD.</span><span class="sxs-lookup"><span data-stu-id="08c21-137">Local devices will then be able to access the data on the UPD.</span></span>

## <a name="can-i-use-my-upd-as-a-network-share"></a><span data-ttu-id="08c21-138">Can I use my UPD as a network share?</span><span class="sxs-lookup"><span data-stu-id="08c21-138">Can I use my UPD as a network share?</span></span>
<span data-ttu-id="08c21-139">No.</span><span class="sxs-lookup"><span data-stu-id="08c21-139">No.</span></span> <span data-ttu-id="08c21-140">UPDs cannot be used as a network share.</span><span class="sxs-lookup"><span data-stu-id="08c21-140">UPDs cannot be used as a network share.</span></span> <span data-ttu-id="08c21-141">A UPD is only available to the user when the user is actively connected to Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="08c21-141">A UPD is only available to the user when the user is actively connected to Azure RemoteApp.</span></span>

## <a name="if-i-delete-a-user-from-a-collection-is-their-upd-deleted"></a><span data-ttu-id="08c21-142">If I delete a user from a collection, is their UPD deleted?</span><span class="sxs-lookup"><span data-stu-id="08c21-142">If I delete a user from a collection, is their UPD deleted?</span></span>
<span data-ttu-id="08c21-143">No, when you delete a user, we do not automatically delete the UPD - instead, we store the data until you delete the collection.</span><span class="sxs-lookup"><span data-stu-id="08c21-143">No, when you delete a user, we do not automatically delete the UPD - instead, we store the data until you delete the collection.</span></span> <span data-ttu-id="08c21-144">90 days after you delete the collection, we delete all UPDs.</span><span class="sxs-lookup"><span data-stu-id="08c21-144">90 days after you delete the collection, we delete all UPDs.</span></span> 

<span data-ttu-id="08c21-145">If you need to delete a UPD from a collection, contact Azure RemoteApp - we can delete UPD from our side.</span><span class="sxs-lookup"><span data-stu-id="08c21-145">If you need to delete a UPD from a collection, contact Azure RemoteApp - we can delete UPD from our side.</span></span>

## <a name="can-i-access-my-users-upds-either-current-or-deleted-users"></a><span data-ttu-id="08c21-146">Can I access my users' UPDs (either current or deleted users)?</span><span class="sxs-lookup"><span data-stu-id="08c21-146">Can I access my users' UPDs (either current or deleted users)?</span></span>
<span data-ttu-id="08c21-147">Yes, if you contact [Azure RemoteApp](mailto:remoteappforum@microsoft.com), we can set you up with a URL to access the data.</span><span class="sxs-lookup"><span data-stu-id="08c21-147">Yes, if you contact [Azure RemoteApp](mailto:remoteappforum@microsoft.com), we can set you up with a URL to access the data.</span></span> <span data-ttu-id="08c21-148">You'll have about 10 hours to download any data or files from the UPD before the access expires.</span><span class="sxs-lookup"><span data-stu-id="08c21-148">You'll have about 10 hours to download any data or files from the UPD before the access expires.</span></span>

## <a name="are-upds-available-offline"></a><span data-ttu-id="08c21-149">Are UPDs available offline?</span><span class="sxs-lookup"><span data-stu-id="08c21-149">Are UPDs available offline?</span></span>
<span data-ttu-id="08c21-150">Right now we do not provide offline access to UPDs, beyond the 10 hour access window described above.</span><span class="sxs-lookup"><span data-stu-id="08c21-150">Right now we do not provide offline access to UPDs, beyond the 10 hour access window described above.</span></span> <span data-ttu-id="08c21-151">This means that we do not currently have a way to provide you with access for long enough to complete more complicated tasks, like running anti-virus software on the UPDs or accessing data for an audit.</span><span class="sxs-lookup"><span data-stu-id="08c21-151">This means that we do not currently have a way to provide you with access for long enough to complete more complicated tasks, like running anti-virus software on the UPDs or accessing data for an audit.</span></span>

## <a name="do-registry-key-settings-persist"></a><span data-ttu-id="08c21-152">Do registry key settings persist?</span><span class="sxs-lookup"><span data-stu-id="08c21-152">Do registry key settings persist?</span></span>
<span data-ttu-id="08c21-153">Yes, anything written to HKEY_Current_User is part of the UPD.</span><span class="sxs-lookup"><span data-stu-id="08c21-153">Yes, anything written to HKEY_Current_User is part of the UPD.</span></span>

## <a name="can-i-disable-upds-for-a-collection"></a><span data-ttu-id="08c21-154">Can I disable UPDs for a collection?</span><span class="sxs-lookup"><span data-stu-id="08c21-154">Can I disable UPDs for a collection?</span></span>
<span data-ttu-id="08c21-155">Yes, you can ask Azure RemoteApp to disable UPDs for a subscription, but you cannot do that yourself.</span><span class="sxs-lookup"><span data-stu-id="08c21-155">Yes, you can ask Azure RemoteApp to disable UPDs for a subscription, but you cannot do that yourself.</span></span> <span data-ttu-id="08c21-156">This means that UPDs will be disabled for all collections in the subscription.</span><span class="sxs-lookup"><span data-stu-id="08c21-156">This means that UPDs will be disabled for all collections in the subscription.</span></span>

<span data-ttu-id="08c21-157">You might want to disable UPDs in any of the following situations:</span><span class="sxs-lookup"><span data-stu-id="08c21-157">You might want to disable UPDs in any of the following situations:</span></span> 

* <span data-ttu-id="08c21-158">You need complete access and control of user data (for audit and review purposes such as financial institutions).</span><span class="sxs-lookup"><span data-stu-id="08c21-158">You need complete access and control of user data (for audit and review purposes such as financial institutions).</span></span>
* <span data-ttu-id="08c21-159">You have 3rd-party user profile management solutions on-premises and want to continue using them in your domain-joined Azure RemoteApp deployment.</span><span class="sxs-lookup"><span data-stu-id="08c21-159">You have 3rd-party user profile management solutions on-premises and want to continue using them in your domain-joined Azure RemoteApp deployment.</span></span> <span data-ttu-id="08c21-160">This would require the profile agent to be loaded into the gold image.</span><span class="sxs-lookup"><span data-stu-id="08c21-160">This would require the profile agent to be loaded into the gold image.</span></span> 
* <span data-ttu-id="08c21-161">You don’t need any local data storage or you have all data in the cloud or file share and would like to control saving of data locally using Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="08c21-161">You don’t need any local data storage or you have all data in the cloud or file share and would like to control saving of data locally using Azure RemoteApp.</span></span>

<span data-ttu-id="08c21-162">See  [Disable User Profile Disks (UPDs) in Azure RemoteApp](https://blogs.technet.microsoft.com/enterprisemobility/2015/11/11/disable-user-profile-disks-upds-in-azure-remoteapp/) for more information.</span><span class="sxs-lookup"><span data-stu-id="08c21-162">See  [Disable User Profile Disks (UPDs) in Azure RemoteApp](https://blogs.technet.microsoft.com/enterprisemobility/2015/11/11/disable-user-profile-disks-upds-in-azure-remoteapp/) for more information.</span></span>

## <a name="can-i-restrict-users-from-saving-data-to-the-system-drive"></a><span data-ttu-id="08c21-163">Can I restrict users from saving data to the system drive?</span><span class="sxs-lookup"><span data-stu-id="08c21-163">Can I restrict users from saving data to the system drive?</span></span>
<span data-ttu-id="08c21-164">Yes, but you'll need to set that up in the template image before you create the collection.</span><span class="sxs-lookup"><span data-stu-id="08c21-164">Yes, but you'll need to set that up in the template image before you create the collection.</span></span> <span data-ttu-id="08c21-165">Use the following steps to block access to the system drive:</span><span class="sxs-lookup"><span data-stu-id="08c21-165">Use the following steps to block access to the system drive:</span></span>

1. <span data-ttu-id="08c21-166">Run **gpedit.msc** on the template image.</span><span class="sxs-lookup"><span data-stu-id="08c21-166">Run **gpedit.msc** on the template image.</span></span>
2. <span data-ttu-id="08c21-167">Navigate to **User Configuration > Administrative Templates > Windows Components > Explorer**.</span><span class="sxs-lookup"><span data-stu-id="08c21-167">Navigate to **User Configuration > Administrative Templates > Windows Components > Explorer**.</span></span>
3. <span data-ttu-id="08c21-168">Select the following options:</span><span class="sxs-lookup"><span data-stu-id="08c21-168">Select the following options:</span></span>
   * <span data-ttu-id="08c21-169">**Hide these specified drives in My Computer**</span><span class="sxs-lookup"><span data-stu-id="08c21-169">**Hide these specified drives in My Computer**</span></span>
   * <span data-ttu-id="08c21-170">**Prevent access to drives from My Computer**</span><span class="sxs-lookup"><span data-stu-id="08c21-170">**Prevent access to drives from My Computer**</span></span>

## <a name="can-i-seed-upds-i-want-to-put-some-data-in-the-upd-thats-available-the-first-time-the-user-signs-in"></a><span data-ttu-id="08c21-171">Can I seed UPDs?</span><span class="sxs-lookup"><span data-stu-id="08c21-171">Can I seed UPDs?</span></span> <span data-ttu-id="08c21-172">I want to put some data in the UPD that's available the first time the user signs in.</span><span class="sxs-lookup"><span data-stu-id="08c21-172">I want to put some data in the UPD that's available the first time the user signs in.</span></span>
<span data-ttu-id="08c21-173">Yes, when you create the template image, you can add information to the default profile.</span><span class="sxs-lookup"><span data-stu-id="08c21-173">Yes, when you create the template image, you can add information to the default profile.</span></span> <span data-ttu-id="08c21-174">That information is then added to the UPD.</span><span class="sxs-lookup"><span data-stu-id="08c21-174">That information is then added to the UPD.</span></span>

## <a name="can-i-change-the-size-of-the-upd-depending-on-how-much-data-i-want-to-store"></a><span data-ttu-id="08c21-175">Can I change the size of the UPD depending on how much data I want to store?</span><span class="sxs-lookup"><span data-stu-id="08c21-175">Can I change the size of the UPD depending on how much data I want to store?</span></span>
<span data-ttu-id="08c21-176">No, all UPDs have 50 GB of storage.</span><span class="sxs-lookup"><span data-stu-id="08c21-176">No, all UPDs have 50 GB of storage.</span></span> <span data-ttu-id="08c21-177">If you want to store different amounts of data, try the following:</span><span class="sxs-lookup"><span data-stu-id="08c21-177">If you want to store different amounts of data, try the following:</span></span>

1. <span data-ttu-id="08c21-178">Disable UPDs for the collection.</span><span class="sxs-lookup"><span data-stu-id="08c21-178">Disable UPDs for the collection.</span></span>
2. <span data-ttu-id="08c21-179">Set up a file share for users to access.</span><span class="sxs-lookup"><span data-stu-id="08c21-179">Set up a file share for users to access.</span></span>
3. <span data-ttu-id="08c21-180">Load the file share by using a startup script.</span><span class="sxs-lookup"><span data-stu-id="08c21-180">Load the file share by using a startup script.</span></span> <span data-ttu-id="08c21-181">See below for details on startup scripts in Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="08c21-181">See below for details on startup scripts in Azure RemoteApp.</span></span>
4. <span data-ttu-id="08c21-182">Direct users to save all data to the file share.</span><span class="sxs-lookup"><span data-stu-id="08c21-182">Direct users to save all data to the file share.</span></span>

## <a name="how-do-i-run-a-startup-script-in-azure-remoteapp"></a><span data-ttu-id="08c21-183">How do I run a startup script in Azure RemoteApp?</span><span class="sxs-lookup"><span data-stu-id="08c21-183">How do I run a startup script in Azure RemoteApp?</span></span>
<span data-ttu-id="08c21-184">If you want to run a startup script, start by creating a scheduled task in the template image you are going to use for the collection.</span><span class="sxs-lookup"><span data-stu-id="08c21-184">If you want to run a startup script, start by creating a scheduled task in the template image you are going to use for the collection.</span></span> <span data-ttu-id="08c21-185">(Do this *before* you run sysprep.)</span><span class="sxs-lookup"><span data-stu-id="08c21-185">(Do this *before* you run sysprep.)</span></span> 

![Create a system task](https://docstestmedia1.blob.core.windows.net/azure-media/articles/remoteapp/media/remoteapp-upd/upd1.png)

![Create a system task that runs when a user logs on](https://docstestmedia1.blob.core.windows.net/azure-media/articles/remoteapp/media/remoteapp-upd/upd2.png)

<span data-ttu-id="08c21-188">On the **General** tab, be sure to change the **User Account** under Security to "BUILTIN\Users."</span><span class="sxs-lookup"><span data-stu-id="08c21-188">On the **General** tab, be sure to change the **User Account** under Security to "BUILTIN\Users."</span></span>

![Change the user account to a group](https://docstestmedia1.blob.core.windows.net/azure-media/articles/remoteapp/media/remoteapp-upd/upd4.png)

<span data-ttu-id="08c21-190">The scheduled task will launch your startup script, using the user's credentials.</span><span class="sxs-lookup"><span data-stu-id="08c21-190">The scheduled task will launch your startup script, using the user's credentials.</span></span> <span data-ttu-id="08c21-191">Schedule the task to run every a time a user logs on.</span><span class="sxs-lookup"><span data-stu-id="08c21-191">Schedule the task to run every a time a user logs on.</span></span>

![Set the trigger for the task as "At log on"](https://docstestmedia1.blob.core.windows.net/azure-media/articles/remoteapp/media/remoteapp-upd/upd3.png)

<span data-ttu-id="08c21-193">You can also use [Group Policy-based startup scripts](https://technet.microsoft.com/library/cc779329%28v=ws.10%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="08c21-193">You can also use [Group Policy-based startup scripts](https://technet.microsoft.com/library/cc779329%28v=ws.10%29.aspx).</span></span> 

## <a name="what-about-placing-a-startup-script-in-the-start-menu-would-that-work"></a><span data-ttu-id="08c21-194">What about placing a startup script in the Start menu?</span><span class="sxs-lookup"><span data-stu-id="08c21-194">What about placing a startup script in the Start menu?</span></span> <span data-ttu-id="08c21-195">Would that work?</span><span class="sxs-lookup"><span data-stu-id="08c21-195">Would that work?</span></span>
<span data-ttu-id="08c21-196">In other words, can I create a .bat file that runs a config window script and save it to the c:\ProgramData\Microsoft\Windows\Start Menu\Programs\StartUp folder, and then have that script run whenever a user starts a RemoteApp session?</span><span class="sxs-lookup"><span data-stu-id="08c21-196">In other words, can I create a .bat file that runs a config window script and save it to the c:\ProgramData\Microsoft\Windows\Start Menu\Programs\StartUp folder, and then have that script run whenever a user starts a RemoteApp session?</span></span>

<span data-ttu-id="08c21-197">No, that's not supported with Azure RemoteApp, which uses RDSH, which also does not support startup scripts in the Start menu.</span><span class="sxs-lookup"><span data-stu-id="08c21-197">No, that's not supported with Azure RemoteApp, which uses RDSH, which also does not support startup scripts in the Start menu.</span></span>

## <a name="can-i-use-mstscexe-the-remote-desktop-program-to-configure-logon-scripts"></a><span data-ttu-id="08c21-198">Can I use mstsc.exe (the Remote Desktop program) to configure logon scripts?</span><span class="sxs-lookup"><span data-stu-id="08c21-198">Can I use mstsc.exe (the Remote Desktop program) to configure logon scripts?</span></span>
<span data-ttu-id="08c21-199">Nope, not supported by Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="08c21-199">Nope, not supported by Azure RemoteApp.</span></span>

## <a name="can-i-store-data-on-the-vm-locally"></a><span data-ttu-id="08c21-200">Can I store data on the VM locally?</span><span class="sxs-lookup"><span data-stu-id="08c21-200">Can I store data on the VM locally?</span></span>
<span data-ttu-id="08c21-201">NO, data stored anywhere on the VM other than in the UPD will be lost.</span><span class="sxs-lookup"><span data-stu-id="08c21-201">NO, data stored anywhere on the VM other than in the UPD will be lost.</span></span> <span data-ttu-id="08c21-202">There is a high chance the user will not get the same VM the next time that they sign into Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="08c21-202">There is a high chance the user will not get the same VM the next time that they sign into Azure RemoteApp.</span></span> <span data-ttu-id="08c21-203">We do not maintain user-VM persistence, so the user will not sign into the same VM, and the data will be lost.</span><span class="sxs-lookup"><span data-stu-id="08c21-203">We do not maintain user-VM persistence, so the user will not sign into the same VM, and the data will be lost.</span></span> <span data-ttu-id="08c21-204">Additionally, when we update the collection, the existing VMs are replaced with a new set of VMs - that means any data stored on the VM itself is lost.</span><span class="sxs-lookup"><span data-stu-id="08c21-204">Additionally, when we update the collection, the existing VMs are replaced with a new set of VMs - that means any data stored on the VM itself is lost.</span></span> <span data-ttu-id="08c21-205">The recommendation is to store data in the UPD, shared storage like Azure Files, a file server inside a VNET, or on the cloud using a cloud storage system like DropBox.</span><span class="sxs-lookup"><span data-stu-id="08c21-205">The recommendation is to store data in the UPD, shared storage like Azure Files, a file server inside a VNET, or on the cloud using a cloud storage system like DropBox.</span></span>

## <a name="how-do-i-mount-an-azure-file-share-on-a-vm-using-powershell"></a><span data-ttu-id="08c21-206">How do I mount an Azure File share on a VM, using PowerShell?</span><span class="sxs-lookup"><span data-stu-id="08c21-206">How do I mount an Azure File share on a VM, using PowerShell?</span></span>
<span data-ttu-id="08c21-207">You can use the Net-PSDrive cmdlet to mount the drive, as follows:</span><span class="sxs-lookup"><span data-stu-id="08c21-207">You can use the Net-PSDrive cmdlet to mount the drive, as follows:</span></span>

    New-PSDrive -Name <drive-name> -PSProvider FileSystem -Root \\<storage-account-name>.file.core.windows.net\<share-name> -Credential :<storage-account-name>


<span data-ttu-id="08c21-208">You can also save your credentials by running the following:</span><span class="sxs-lookup"><span data-stu-id="08c21-208">You can also save your credentials by running the following:</span></span>

    cmdkey /add:<storage-account-name>.file.core.windows.net /user:<storage-account-name> /pass:<storage-account-key>


<span data-ttu-id="08c21-209">That lets you skip the -Credential parameter in the New-PSDrive cmdlet.</span><span class="sxs-lookup"><span data-stu-id="08c21-209">That lets you skip the -Credential parameter in the New-PSDrive cmdlet.</span></span>





