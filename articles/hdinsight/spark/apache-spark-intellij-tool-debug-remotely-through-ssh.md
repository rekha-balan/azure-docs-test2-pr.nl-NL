---
title: 'Azure Toolkit for IntelliJ: Debug Spark applications remotely through SSH '
description: Step-by-step guidance on how to use HDInsight Tools in Azure Toolkit for IntelliJ to debug applications remotely on HDInsight clusters through SSH
keywords: debug remotely intellij, remote debugging intellij, ssh, intellij, hdinsight, debug intellij, debugging
services: hdinsight
ms.service: hdinsight
author: jejiang
ms.author: jejiang
ms.reviewer: jasonh
ms.custom: hdinsightactive,hdiseo17may2017
ms.topic: conceptual
ms.date: 11/25/2017
ms.openlocfilehash: f26355f32eeeb6b6e195b838bed502271533f4f4
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44868487"
---
# <a name="debug-spark-applications-locally-or-remotely-on-an-hdinsight-cluster-with-azure-toolkit-for-intellij-through-ssh"></a><span data-ttu-id="5ebfd-104">Debug Spark applications locally or remotely on an HDInsight cluster with Azure Toolkit for IntelliJ through SSH</span><span class="sxs-lookup"><span data-stu-id="5ebfd-104">Debug Spark applications locally or remotely on an HDInsight cluster with Azure Toolkit for IntelliJ through SSH</span></span>

<span data-ttu-id="5ebfd-105">This article provides step-by-step guidance on how to use HDInsight Tools in Azure Toolkit for IntelliJ to debug applications remotely on an HDInsight cluster.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-105">This article provides step-by-step guidance on how to use HDInsight Tools in Azure Toolkit for IntelliJ to debug applications remotely on an HDInsight cluster.</span></span> <span data-ttu-id="5ebfd-106">To debug your project, you can also view the [Debug HDInsight Spark applications with Azure Toolkit for IntelliJ](https://channel9.msdn.com/Series/AzureDataLake/Debug-HDInsight-Spark-Applications-with-Azure-Toolkit-for-IntelliJ) video.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-106">To debug your project, you can also view the [Debug HDInsight Spark applications with Azure Toolkit for IntelliJ](https://channel9.msdn.com/Series/AzureDataLake/Debug-HDInsight-Spark-Applications-with-Azure-Toolkit-for-IntelliJ) video.</span></span>

<span data-ttu-id="5ebfd-107">**Prerequisites**</span><span class="sxs-lookup"><span data-stu-id="5ebfd-107">**Prerequisites**</span></span>
* <span data-ttu-id="5ebfd-108">**HDInsight Tools in Azure Toolkit for IntelliJ**.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-108">**HDInsight Tools in Azure Toolkit for IntelliJ**.</span></span> <span data-ttu-id="5ebfd-109">This tool is part of Azure Toolkit for IntelliJ.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-109">This tool is part of Azure Toolkit for IntelliJ.</span></span> <span data-ttu-id="5ebfd-110">For more information, see [Install Azure Toolkit for IntelliJ](https://docs.microsoft.com/azure/azure-toolkit-for-intellij-installation).</span><span class="sxs-lookup"><span data-stu-id="5ebfd-110">For more information, see [Install Azure Toolkit for IntelliJ](https://docs.microsoft.com/azure/azure-toolkit-for-intellij-installation).</span></span> <span data-ttu-id="5ebfd-111">And **Azure Toolkit for IntelliJ**.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-111">And **Azure Toolkit for IntelliJ**.</span></span> <span data-ttu-id="5ebfd-112">Use this toolkit to create Spark applications for an HDInsight cluster.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-112">Use this toolkit to create Spark applications for an HDInsight cluster.</span></span> <span data-ttu-id="5ebfd-113">For more information, follow the instructions in [Use Azure Toolkit for IntelliJ to create Spark applications for an HDInsight cluster](https://docs.microsoft.com/azure/hdinsight/hdinsight-apache-spark-intellij-tool-plugin).</span><span class="sxs-lookup"><span data-stu-id="5ebfd-113">For more information, follow the instructions in [Use Azure Toolkit for IntelliJ to create Spark applications for an HDInsight cluster](https://docs.microsoft.com/azure/hdinsight/hdinsight-apache-spark-intellij-tool-plugin).</span></span>

* <span data-ttu-id="5ebfd-114">**HDInsight SSH service with username and password management**.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-114">**HDInsight SSH service with username and password management**.</span></span> <span data-ttu-id="5ebfd-115">For more information, see [Connect to HDInsight (Hadoop) by using SSH](https://docs.microsoft.com/azure/hdinsight/hdinsight-hadoop-linux-use-ssh-unix) and [Use SSH tunneling to access Ambari web UI, JobHistory, NameNode, Oozie, and other web UIs](https://docs.microsoft.com/azure/hdinsight/hdinsight-linux-ambari-ssh-tunnel).</span><span class="sxs-lookup"><span data-stu-id="5ebfd-115">For more information, see [Connect to HDInsight (Hadoop) by using SSH](https://docs.microsoft.com/azure/hdinsight/hdinsight-hadoop-linux-use-ssh-unix) and [Use SSH tunneling to access Ambari web UI, JobHistory, NameNode, Oozie, and other web UIs](https://docs.microsoft.com/azure/hdinsight/hdinsight-linux-ambari-ssh-tunnel).</span></span> 
 
## <a name="learn-how-to-perform-local-run-and-debugging"></a><span data-ttu-id="5ebfd-116">Learn how to perform local run and debugging</span><span class="sxs-lookup"><span data-stu-id="5ebfd-116">Learn how to perform local run and debugging</span></span>
### <a name="scenario-1-create-a-spark-scala-application"></a><span data-ttu-id="5ebfd-117">Scenario 1: Create a Spark Scala application</span><span class="sxs-lookup"><span data-stu-id="5ebfd-117">Scenario 1: Create a Spark Scala application</span></span> 

1. <span data-ttu-id="5ebfd-118">Start IntelliJ IDEA, and then create a project.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-118">Start IntelliJ IDEA, and then create a project.</span></span> <span data-ttu-id="5ebfd-119">In the **New Project** dialog box, do the following:</span><span class="sxs-lookup"><span data-stu-id="5ebfd-119">In the **New Project** dialog box, do the following:</span></span>

   <span data-ttu-id="5ebfd-120">a.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-120">a.</span></span> <span data-ttu-id="5ebfd-121">Select **HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-121">Select **HDInsight**.</span></span> 

   <span data-ttu-id="5ebfd-122">b.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-122">b.</span></span> <span data-ttu-id="5ebfd-123">Select a Java or Scala template based on your preference.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-123">Select a Java or Scala template based on your preference.</span></span> <span data-ttu-id="5ebfd-124">Select between the following options:</span><span class="sxs-lookup"><span data-stu-id="5ebfd-124">Select between the following options:</span></span>

      - <span data-ttu-id="5ebfd-125">**Spark on HDInsight (Scala)**</span><span class="sxs-lookup"><span data-stu-id="5ebfd-125">**Spark on HDInsight (Scala)**</span></span>

      - <span data-ttu-id="5ebfd-126">**Spark on HDInsight (Java)**</span><span class="sxs-lookup"><span data-stu-id="5ebfd-126">**Spark on HDInsight (Java)**</span></span>

      - <span data-ttu-id="5ebfd-127">**Spark on HDInsight Sample (Scala)**</span><span class="sxs-lookup"><span data-stu-id="5ebfd-127">**Spark on HDInsight Sample (Scala)**</span></span>

      <span data-ttu-id="5ebfd-128">This example uses a **Spark on HDInsight Sample (Scala)** template.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-128">This example uses a **Spark on HDInsight Sample (Scala)** template.</span></span>

   <span data-ttu-id="5ebfd-129">c.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-129">c.</span></span> <span data-ttu-id="5ebfd-130">In the **Build tool** list, select either of the following, according to your need:</span><span class="sxs-lookup"><span data-stu-id="5ebfd-130">In the **Build tool** list, select either of the following, according to your need:</span></span>

      - <span data-ttu-id="5ebfd-131">**Maven**, for Scala project-creation wizard support</span><span class="sxs-lookup"><span data-stu-id="5ebfd-131">**Maven**, for Scala project-creation wizard support</span></span>

      -  <span data-ttu-id="5ebfd-132">**SBT**, for managing the dependencies and building for the Scala project</span><span class="sxs-lookup"><span data-stu-id="5ebfd-132">**SBT**, for managing the dependencies and building for the Scala project</span></span> 

      ![Create a debug project](./media/apache-spark-intellij-tool-debug-remotely-through-ssh/hdinsight-create-projectfor-debug-remotely.png)

   <span data-ttu-id="5ebfd-134">d.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-134">d.</span></span> <span data-ttu-id="5ebfd-135">Select **Next**.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-135">Select **Next**.</span></span>     
 
1. <span data-ttu-id="5ebfd-136">In the next **New Project** window, do the following:</span><span class="sxs-lookup"><span data-stu-id="5ebfd-136">In the next **New Project** window, do the following:</span></span>

   ![Select the Spark SDK](./media/apache-spark-intellij-tool-debug-remotely-through-ssh/hdinsight-new-project.png)

   <span data-ttu-id="5ebfd-138">a.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-138">a.</span></span> <span data-ttu-id="5ebfd-139">Enter a project name and project location.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-139">Enter a project name and project location.</span></span>

   <span data-ttu-id="5ebfd-140">b.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-140">b.</span></span> <span data-ttu-id="5ebfd-141">In the **Project SDK** drop-down list, select **Java 1.8** for **Spark 2.x** cluster or select **Java 1.7** for **Spark 1.x** cluster.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-141">In the **Project SDK** drop-down list, select **Java 1.8** for **Spark 2.x** cluster or select **Java 1.7** for **Spark 1.x** cluster.</span></span>

   <span data-ttu-id="5ebfd-142">c.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-142">c.</span></span> <span data-ttu-id="5ebfd-143">In the **Spark Version** drop-down list, the Scala project creation wizard integrates the correct version for Spark SDK and Scala SDK.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-143">In the **Spark Version** drop-down list, the Scala project creation wizard integrates the correct version for Spark SDK and Scala SDK.</span></span> <span data-ttu-id="5ebfd-144">If the spark cluster version is earlier than 2.0, select **Spark 1.x**.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-144">If the spark cluster version is earlier than 2.0, select **Spark 1.x**.</span></span> <span data-ttu-id="5ebfd-145">Otherwise, select **Spark 2.x.**</span><span class="sxs-lookup"><span data-stu-id="5ebfd-145">Otherwise, select **Spark 2.x.**</span></span> <span data-ttu-id="5ebfd-146">This example uses **Spark 2.0.2 (Scala 2.11.8)**.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-146">This example uses **Spark 2.0.2 (Scala 2.11.8)**.</span></span>

   <span data-ttu-id="5ebfd-147">d.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-147">d.</span></span> <span data-ttu-id="5ebfd-148">Select **Finish**.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-148">Select **Finish**.</span></span>

1. <span data-ttu-id="5ebfd-149">Select **src** > **main** > **scala** to open your code in the project.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-149">Select **src** > **main** > **scala** to open your code in the project.</span></span> <span data-ttu-id="5ebfd-150">This example uses the **SparkCore_wasbloTest** script.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-150">This example uses the **SparkCore_wasbloTest** script.</span></span>

### <a name="prerequisite-for-windows"></a><span data-ttu-id="5ebfd-151">Prerequisite for windows</span><span class="sxs-lookup"><span data-stu-id="5ebfd-151">Prerequisite for windows</span></span>
<span data-ttu-id="5ebfd-152">While you're running the local Spark Scala application on a Windows computer, you might get an exception, as explained in [SPARK-2356](https://issues.apache.org/jira/browse/SPARK-2356).</span><span class="sxs-lookup"><span data-stu-id="5ebfd-152">While you're running the local Spark Scala application on a Windows computer, you might get an exception, as explained in [SPARK-2356](https://issues.apache.org/jira/browse/SPARK-2356).</span></span> <span data-ttu-id="5ebfd-153">The exception occurs because WinUtils.exe is missing on Windows.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-153">The exception occurs because WinUtils.exe is missing on Windows.</span></span> 

<span data-ttu-id="5ebfd-154">To resolve this error, [download the executable](http://public-repo-1.hortonworks.com/hdp-win-alpha/winutils.exe) to a location such as **C:\WinUtils\bin**.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-154">To resolve this error, [download the executable](http://public-repo-1.hortonworks.com/hdp-win-alpha/winutils.exe) to a location such as **C:\WinUtils\bin**.</span></span> <span data-ttu-id="5ebfd-155">Then, add the environment variable **HADOOP_HOME**, and set the value of the variable to **C:\WinUtils**.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-155">Then, add the environment variable **HADOOP_HOME**, and set the value of the variable to **C:\WinUtils**.</span></span>

### <a name="scenario-2-perform-local-run"></a><span data-ttu-id="5ebfd-156">Scenario 2: Perform local run</span><span class="sxs-lookup"><span data-stu-id="5ebfd-156">Scenario 2: Perform local run</span></span>
1. <span data-ttu-id="5ebfd-157">Open the **SparkCore_wasbloTest** script, right-click the script editor, and then select the option **Run '[Spark Job]XXX'** to perform local run.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-157">Open the **SparkCore_wasbloTest** script, right-click the script editor, and then select the option **Run '[Spark Job]XXX'** to perform local run.</span></span>
1. <span data-ttu-id="5ebfd-158">Once local run completed, you can see the output file save to your current project explorer **data** > **__default__**.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-158">Once local run completed, you can see the output file save to your current project explorer **data** > **__default__**.</span></span>

    ![Local run result](./media/apache-spark-intellij-tool-debug-remotely-through-ssh/local-run-result.png)
1. <span data-ttu-id="5ebfd-160">Our tools have set the default local run configuration automatically when you perform the local run and local debug.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-160">Our tools have set the default local run configuration automatically when you perform the local run and local debug.</span></span> <span data-ttu-id="5ebfd-161">Open the configuration **[Spark Job] XXX** on the upper right corner, you can see the **[Spark Job]XXX** already created under **Azure HDInsight Spark Job**.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-161">Open the configuration **[Spark Job] XXX** on the upper right corner, you can see the **[Spark Job]XXX** already created under **Azure HDInsight Spark Job**.</span></span> <span data-ttu-id="5ebfd-162">Switch to **Locally Run** tab.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-162">Switch to **Locally Run** tab.</span></span>

    ![Local run configuration](./media/apache-spark-intellij-tool-debug-remotely-through-ssh/local-run-configuration.png)
    - <span data-ttu-id="5ebfd-164">[Environment variables](#prerequisite-for-windows): If you already set the system environment variable **HADOOP_HOME** to **C:\WinUtils**, it can auto detect that no need to manually add.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-164">[Environment variables](#prerequisite-for-windows): If you already set the system environment variable **HADOOP_HOME** to **C:\WinUtils**, it can auto detect that no need to manually add.</span></span>
    - <span data-ttu-id="5ebfd-165">[WinUtils.exe Location](#prerequisite-for-windows): If you have not set the system environment variable, you can find the location by clicking its button.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-165">[WinUtils.exe Location](#prerequisite-for-windows): If you have not set the system environment variable, you can find the location by clicking its button.</span></span>
    - <span data-ttu-id="5ebfd-166">Just choose either of two options and, they are not needed on MacOS and Linux.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-166">Just choose either of two options and, they are not needed on MacOS and Linux.</span></span>
1. <span data-ttu-id="5ebfd-167">You can also set the configuration manually before performing local run and local debug.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-167">You can also set the configuration manually before performing local run and local debug.</span></span> <span data-ttu-id="5ebfd-168">In the preceding screenshot, select the plus sign (**+**).</span><span class="sxs-lookup"><span data-stu-id="5ebfd-168">In the preceding screenshot, select the plus sign (**+**).</span></span> <span data-ttu-id="5ebfd-169">Then select the **Azure HDInsight Spark Job** option.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-169">Then select the **Azure HDInsight Spark Job** option.</span></span> <span data-ttu-id="5ebfd-170">Enter information for **Name**, **Main class name** to save, then click the local run button.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-170">Enter information for **Name**, **Main class name** to save, then click the local run button.</span></span>

### <a name="scenario-3-perform-local-debugging"></a><span data-ttu-id="5ebfd-171">Scenario 3: Perform local debugging</span><span class="sxs-lookup"><span data-stu-id="5ebfd-171">Scenario 3: Perform local debugging</span></span>
1. <span data-ttu-id="5ebfd-172">Open the **SparkCore_wasbloTest** script, set breakpoints.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-172">Open the **SparkCore_wasbloTest** script, set breakpoints.</span></span>
1. <span data-ttu-id="5ebfd-173">Right-click the script editor, and then select the option **Debug '[Spark Job]XXX'** to perform local debugging.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-173">Right-click the script editor, and then select the option **Debug '[Spark Job]XXX'** to perform local debugging.</span></span>   



## <a name="learn-how-to-perform-remote-run-and-debugging"></a><span data-ttu-id="5ebfd-174">Learn how to perform remote run and debugging</span><span class="sxs-lookup"><span data-stu-id="5ebfd-174">Learn how to perform remote run and debugging</span></span>
### <a name="scenario-1-perform-remote-run"></a><span data-ttu-id="5ebfd-175">Scenario 1: Perform remote run</span><span class="sxs-lookup"><span data-stu-id="5ebfd-175">Scenario 1: Perform remote run</span></span>

1. <span data-ttu-id="5ebfd-176">To access the **Edit Configurations** menu, select the icon in the upper-right corner.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-176">To access the **Edit Configurations** menu, select the icon in the upper-right corner.</span></span> <span data-ttu-id="5ebfd-177">From this menu, you can create or edit the configurations for remote debugging.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-177">From this menu, you can create or edit the configurations for remote debugging.</span></span>

   ![Edit configurations](./media/apache-spark-intellij-tool-debug-remotely-through-ssh/hdinsight-edit-configurations.png) 

1. <span data-ttu-id="5ebfd-179">In the **Run/Debug Configurations** dialog box, select the plus sign (**+**).</span><span class="sxs-lookup"><span data-stu-id="5ebfd-179">In the **Run/Debug Configurations** dialog box, select the plus sign (**+**).</span></span> <span data-ttu-id="5ebfd-180">Then select the **Azure HDInsight Spark Job** option.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-180">Then select the **Azure HDInsight Spark Job** option.</span></span>

   ![Add new configuration](./media/apache-spark-intellij-tool-debug-remotely-through-ssh/hdinsight-add-new-Configuration.png)
1. <span data-ttu-id="5ebfd-182">Switch to **Remotely Run in Cluster** tab. Enter information for **Name**, **Spark cluster**, and **Main class name**.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-182">Switch to **Remotely Run in Cluster** tab. Enter information for **Name**, **Spark cluster**, and **Main class name**.</span></span> <span data-ttu-id="5ebfd-183">Then select **Advanced configuration**.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-183">Then select **Advanced configuration**.</span></span> <span data-ttu-id="5ebfd-184">Our tools support debug with **Executors**.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-184">Our tools support debug with **Executors**.</span></span> <span data-ttu-id="5ebfd-185">The **numExectors**, the default value is 5.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-185">The **numExectors**, the default value is 5.</span></span> <span data-ttu-id="5ebfd-186">You'd better not set higher than 3.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-186">You'd better not set higher than 3.</span></span>

   ![Run debug configurations](./media/apache-spark-intellij-tool-debug-remotely-through-ssh/hdinsight-run-debug-configurations.png)

1. <span data-ttu-id="5ebfd-188">In the **Spark Submission Advanced Configuration** dialog box, select **Enable Spark remote debug**.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-188">In the **Spark Submission Advanced Configuration** dialog box, select **Enable Spark remote debug**.</span></span> <span data-ttu-id="5ebfd-189">Enter the SSH username, and then enter a password or use a private key file.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-189">Enter the SSH username, and then enter a password or use a private key file.</span></span> <span data-ttu-id="5ebfd-190">To save the configuration, select **OK**.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-190">To save the configuration, select **OK**.</span></span> <span data-ttu-id="5ebfd-191">If you want to perform remote debug, you need to set it.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-191">If you want to perform remote debug, you need to set it.</span></span> <span data-ttu-id="5ebfd-192">There is no need to set it if you just want to use remote run.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-192">There is no need to set it if you just want to use remote run.</span></span>

   ![Enable Spark remote debug](./media/apache-spark-intellij-tool-debug-remotely-through-ssh/hdinsight-enable-spark-remote-debug.png)

1. <span data-ttu-id="5ebfd-194">The configuration is now saved with the name you provided.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-194">The configuration is now saved with the name you provided.</span></span> <span data-ttu-id="5ebfd-195">To view the configuration details, select the configuration name.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-195">To view the configuration details, select the configuration name.</span></span> <span data-ttu-id="5ebfd-196">To make changes, select **Edit Configurations**.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-196">To make changes, select **Edit Configurations**.</span></span> 

1. <span data-ttu-id="5ebfd-197">After you complete the configurations settings, you can run the project against the remote cluster or perform remote debugging.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-197">After you complete the configurations settings, you can run the project against the remote cluster or perform remote debugging.</span></span>
   
   ![Remote run button](./media/apache-spark-intellij-tool-debug-remotely-through-ssh/perform-remote-run.png)

1. <span data-ttu-id="5ebfd-199">Click the **Disconnect** button that the submission logs not appear in the left panel.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-199">Click the **Disconnect** button that the submission logs not appear in the left panel.</span></span> <span data-ttu-id="5ebfd-200">However, it is still running on the backend.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-200">However, it is still running on the backend.</span></span>

   ![Remote run button](./media/apache-spark-intellij-tool-debug-remotely-through-ssh/remote-run-result.png)



### <a name="scenario-2-perform-remote-debugging"></a><span data-ttu-id="5ebfd-202">Scenario 2: Perform remote debugging</span><span class="sxs-lookup"><span data-stu-id="5ebfd-202">Scenario 2: Perform remote debugging</span></span>
1. <span data-ttu-id="5ebfd-203">Set up breaking points, and then Click the **Remote debug** icon.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-203">Set up breaking points, and then Click the **Remote debug** icon.</span></span> <span data-ttu-id="5ebfd-204">The difference with remote submission is that SSH username/password need to be configured.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-204">The difference with remote submission is that SSH username/password need to be configured.</span></span>

   ![Select the debug icon](./media/apache-spark-intellij-tool-debug-remotely-through-ssh/hdinsight-debug-icon.png)

1. <span data-ttu-id="5ebfd-206">When the program execution reaches the breaking point, you see a **Driver** tab and two **Executor** tabs in the **Debugger** pane.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-206">When the program execution reaches the breaking point, you see a **Driver** tab and two **Executor** tabs in the **Debugger** pane.</span></span> <span data-ttu-id="5ebfd-207">Select the **Resume Program** icon to continue running the code, which then reaches the next breakpoint.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-207">Select the **Resume Program** icon to continue running the code, which then reaches the next breakpoint.</span></span> <span data-ttu-id="5ebfd-208">You need to switch to the correct **Executor** tab to find the target executor to debug.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-208">You need to switch to the correct **Executor** tab to find the target executor to debug.</span></span> <span data-ttu-id="5ebfd-209">You can view the execution logs on the corresponding **Console** tab.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-209">You can view the execution logs on the corresponding **Console** tab.</span></span>

   ![Debugging tab](./media/apache-spark-intellij-tool-debug-remotely-through-ssh/hdinsight-debugger-tab.png)

### <a name="scenario-3-perform-remote-debugging-and-bug-fixing"></a><span data-ttu-id="5ebfd-211">Scenario 3: Perform remote debugging and bug fixing</span><span class="sxs-lookup"><span data-stu-id="5ebfd-211">Scenario 3: Perform remote debugging and bug fixing</span></span>
1. <span data-ttu-id="5ebfd-212">Set up two breaking points, and then select the **Debug** icon to start the remote debugging process.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-212">Set up two breaking points, and then select the **Debug** icon to start the remote debugging process.</span></span>

1. <span data-ttu-id="5ebfd-213">The code stops at the first breaking point, and the parameter and variable information are shown in the **Variables** pane.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-213">The code stops at the first breaking point, and the parameter and variable information are shown in the **Variables** pane.</span></span> 

1. <span data-ttu-id="5ebfd-214">Select the **Resume Program** icon to continue.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-214">Select the **Resume Program** icon to continue.</span></span> <span data-ttu-id="5ebfd-215">The code stops at the second point.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-215">The code stops at the second point.</span></span> <span data-ttu-id="5ebfd-216">The exception is caught as expected.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-216">The exception is caught as expected.</span></span>

   ![Throw error](./media/apache-spark-intellij-tool-debug-remotely-through-ssh/hdinsight-throw-error.png) 

1. <span data-ttu-id="5ebfd-218">Select the **Resume Program** icon again.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-218">Select the **Resume Program** icon again.</span></span> <span data-ttu-id="5ebfd-219">The **HDInsight Spark Submission** window displays a "job run failed" error.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-219">The **HDInsight Spark Submission** window displays a "job run failed" error.</span></span>

   ![Error submission](./media/apache-spark-intellij-tool-debug-remotely-through-ssh/hdinsight-error-submission.png) 

1. <span data-ttu-id="5ebfd-221">To dynamically update the variable value by using the IntelliJ debugging capability, select **Debug** again.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-221">To dynamically update the variable value by using the IntelliJ debugging capability, select **Debug** again.</span></span> <span data-ttu-id="5ebfd-222">The **Variables** pane appears again.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-222">The **Variables** pane appears again.</span></span> 

1. <span data-ttu-id="5ebfd-223">Right-click the target on the **Debug** tab, and then select **Set Value**.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-223">Right-click the target on the **Debug** tab, and then select **Set Value**.</span></span> <span data-ttu-id="5ebfd-224">Next, enter a new value for the variable.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-224">Next, enter a new value for the variable.</span></span> <span data-ttu-id="5ebfd-225">Then select **Enter** to save the value.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-225">Then select **Enter** to save the value.</span></span> 

   ![Set value](./media/apache-spark-intellij-tool-debug-remotely-through-ssh/hdinsight-set-value.png) 

1. <span data-ttu-id="5ebfd-227">Select the **Resume Program** icon to continue to run the program.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-227">Select the **Resume Program** icon to continue to run the program.</span></span> <span data-ttu-id="5ebfd-228">This time, no exception is caught.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-228">This time, no exception is caught.</span></span> <span data-ttu-id="5ebfd-229">You can see that the project runs successfully without any exceptions.</span><span class="sxs-lookup"><span data-stu-id="5ebfd-229">You can see that the project runs successfully without any exceptions.</span></span>

   ![Debug without exception](./media/apache-spark-intellij-tool-debug-remotely-through-ssh/hdinsight-debug-without-exception.png)

## <a name="seealso"></a><span data-ttu-id="5ebfd-231">Next steps</span><span class="sxs-lookup"><span data-stu-id="5ebfd-231">Next steps</span></span>
* [<span data-ttu-id="5ebfd-232">Overview: Apache Spark on Azure HDInsight</span><span class="sxs-lookup"><span data-stu-id="5ebfd-232">Overview: Apache Spark on Azure HDInsight</span></span>](apache-spark-overview.md)

### <a name="demo"></a><span data-ttu-id="5ebfd-233">Demo</span><span class="sxs-lookup"><span data-stu-id="5ebfd-233">Demo</span></span>
* <span data-ttu-id="5ebfd-234">Create Scala project (video): [Create Spark Scala Applications](https://channel9.msdn.com/Series/AzureDataLake/Create-Spark-Applications-with-the-Azure-Toolkit-for-IntelliJ)</span><span class="sxs-lookup"><span data-stu-id="5ebfd-234">Create Scala project (video): [Create Spark Scala Applications](https://channel9.msdn.com/Series/AzureDataLake/Create-Spark-Applications-with-the-Azure-Toolkit-for-IntelliJ)</span></span>
* <span data-ttu-id="5ebfd-235">Remote debug (video): [Use Azure Toolkit for IntelliJ to debug Spark applications remotely on an HDInsight cluster](https://channel9.msdn.com/Series/AzureDataLake/Debug-HDInsight-Spark-Applications-with-Azure-Toolkit-for-IntelliJ)</span><span class="sxs-lookup"><span data-stu-id="5ebfd-235">Remote debug (video): [Use Azure Toolkit for IntelliJ to debug Spark applications remotely on an HDInsight cluster](https://channel9.msdn.com/Series/AzureDataLake/Debug-HDInsight-Spark-Applications-with-Azure-Toolkit-for-IntelliJ)</span></span>

### <a name="scenarios"></a><span data-ttu-id="5ebfd-236">Scenarios</span><span class="sxs-lookup"><span data-stu-id="5ebfd-236">Scenarios</span></span>
* [<span data-ttu-id="5ebfd-237">Spark with BI: Perform interactive data analysis by using Spark in HDInsight with BI tools</span><span class="sxs-lookup"><span data-stu-id="5ebfd-237">Spark with BI: Perform interactive data analysis by using Spark in HDInsight with BI tools</span></span>](apache-spark-use-bi-tools.md)
* [<span data-ttu-id="5ebfd-238">Spark with Machine Learning: Use Spark in HDInsight to analyze building temperature using HVAC data</span><span class="sxs-lookup"><span data-stu-id="5ebfd-238">Spark with Machine Learning: Use Spark in HDInsight to analyze building temperature using HVAC data</span></span>](apache-spark-ipython-notebook-machine-learning.md)
* [<span data-ttu-id="5ebfd-239">Spark with Machine Learning: Use Spark in HDInsight to predict food inspection results</span><span class="sxs-lookup"><span data-stu-id="5ebfd-239">Spark with Machine Learning: Use Spark in HDInsight to predict food inspection results</span></span>](apache-spark-machine-learning-mllib-ipython.md)
* [<span data-ttu-id="5ebfd-240">Website log analysis using Spark in HDInsight</span><span class="sxs-lookup"><span data-stu-id="5ebfd-240">Website log analysis using Spark in HDInsight</span></span>](../hdinsight-apache-spark-custom-library-website-log-analysis.md)

### <a name="create-and-run-applications"></a><span data-ttu-id="5ebfd-241">Create and run applications</span><span class="sxs-lookup"><span data-stu-id="5ebfd-241">Create and run applications</span></span>
* [<span data-ttu-id="5ebfd-242">Create a standalone application using Scala</span><span class="sxs-lookup"><span data-stu-id="5ebfd-242">Create a standalone application using Scala</span></span>](../hdinsight-apache-spark-create-standalone-application.md)
* [<span data-ttu-id="5ebfd-243">Run jobs remotely on a Spark cluster using Livy</span><span class="sxs-lookup"><span data-stu-id="5ebfd-243">Run jobs remotely on a Spark cluster using Livy</span></span>](apache-spark-livy-rest-interface.md)

### <a name="tools-and-extensions"></a><span data-ttu-id="5ebfd-244">Tools and extensions</span><span class="sxs-lookup"><span data-stu-id="5ebfd-244">Tools and extensions</span></span>
* [<span data-ttu-id="5ebfd-245">Use Azure Toolkit for IntelliJ to create Spark applications for an HDInsight cluster</span><span class="sxs-lookup"><span data-stu-id="5ebfd-245">Use Azure Toolkit for IntelliJ to create Spark applications for an HDInsight cluster</span></span>](apache-spark-intellij-tool-plugin.md)
* [<span data-ttu-id="5ebfd-246">Use Azure Toolkit for IntelliJ to debug Spark applications remotely through VPN</span><span class="sxs-lookup"><span data-stu-id="5ebfd-246">Use Azure Toolkit for IntelliJ to debug Spark applications remotely through VPN</span></span>](apache-spark-intellij-tool-plugin-debug-jobs-remotely.md)
* [<span data-ttu-id="5ebfd-247">Use HDInsight Tools for IntelliJ with Hortonworks Sandbox</span><span class="sxs-lookup"><span data-stu-id="5ebfd-247">Use HDInsight Tools for IntelliJ with Hortonworks Sandbox</span></span>](../hadoop/hdinsight-tools-for-intellij-with-hortonworks-sandbox.md)
* [<span data-ttu-id="5ebfd-248">Use HDInsight Tools in Azure Toolkit for Eclipse to create Spark applications</span><span class="sxs-lookup"><span data-stu-id="5ebfd-248">Use HDInsight Tools in Azure Toolkit for Eclipse to create Spark applications</span></span>](../hdinsight-apache-spark-eclipse-tool-plugin.md)
* [<span data-ttu-id="5ebfd-249">Use Zeppelin notebooks with a Spark cluster on HDInsight</span><span class="sxs-lookup"><span data-stu-id="5ebfd-249">Use Zeppelin notebooks with a Spark cluster on HDInsight</span></span>](apache-spark-zeppelin-notebook.md)
* [<span data-ttu-id="5ebfd-250">Kernels available for Jupyter notebook in the Spark cluster for HDInsight</span><span class="sxs-lookup"><span data-stu-id="5ebfd-250">Kernels available for Jupyter notebook in the Spark cluster for HDInsight</span></span>](apache-spark-jupyter-notebook-kernels.md)
* [<span data-ttu-id="5ebfd-251">Use external packages with Jupyter notebooks</span><span class="sxs-lookup"><span data-stu-id="5ebfd-251">Use external packages with Jupyter notebooks</span></span>](apache-spark-jupyter-notebook-use-external-packages.md)
* [<span data-ttu-id="5ebfd-252">Install Jupyter on your computer and connect to an HDInsight Spark cluster</span><span class="sxs-lookup"><span data-stu-id="5ebfd-252">Install Jupyter on your computer and connect to an HDInsight Spark cluster</span></span>](apache-spark-jupyter-notebook-install-locally.md)

### <a name="manage-resources"></a><span data-ttu-id="5ebfd-253">Manage resources</span><span class="sxs-lookup"><span data-stu-id="5ebfd-253">Manage resources</span></span>
* [<span data-ttu-id="5ebfd-254">Manage resources for the Apache Spark cluster in Azure HDInsight</span><span class="sxs-lookup"><span data-stu-id="5ebfd-254">Manage resources for the Apache Spark cluster in Azure HDInsight</span></span>](apache-spark-resource-manager.md)
* [<span data-ttu-id="5ebfd-255">Track and debug jobs running on an Apache Spark cluster in HDInsight</span><span class="sxs-lookup"><span data-stu-id="5ebfd-255">Track and debug jobs running on an Apache Spark cluster in HDInsight</span></span>](apache-spark-job-debugging.md)
