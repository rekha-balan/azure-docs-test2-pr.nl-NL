---
title: 'Quickstart: Create an Spark cluster in HDInsight using template'
description: This quickstart shows how to use Resource Manager template to create an Apache Spark cluster in Azure HDInsight, and run a simple Spark SQL query.
services: azure-hdinsight
author: jasonwhowell
ms.reviewer: jasonh
ms.service: hdinsight
ms.topic: quickstart
ms.date: 05/07/2018
ms.author: jasonh
ms.custom: mvc
ms.openlocfilehash: eccef79b53a78abc577ff40d84b615968be3dd0f
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44855883"
---
# <a name="quickstart-create-a-spark-cluster-in-hdinsight-using-template"></a><span data-ttu-id="3d3f8-103">Quickstart: Create a Spark cluster in HDInsight using template</span><span class="sxs-lookup"><span data-stu-id="3d3f8-103">Quickstart: Create a Spark cluster in HDInsight using template</span></span>

<span data-ttu-id="3d3f8-104">Learn how to create an Apache Spark cluster in Azure HDInsight, and how to run Spark SQL queries against Hive tables.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-104">Learn how to create an Apache Spark cluster in Azure HDInsight, and how to run Spark SQL queries against Hive tables.</span></span> <span data-ttu-id="3d3f8-105">Apache Spark enables fast data analytics and cluster computing using in-memory processing.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-105">Apache Spark enables fast data analytics and cluster computing using in-memory processing.</span></span> <span data-ttu-id="3d3f8-106">For information on Spark on HDInsight, see [Overview: Apache Spark on Azure HDInsight](apache-spark-overview.md).</span><span class="sxs-lookup"><span data-stu-id="3d3f8-106">For information on Spark on HDInsight, see [Overview: Apache Spark on Azure HDInsight](apache-spark-overview.md).</span></span>

<span data-ttu-id="3d3f8-107">In this quickstart, you use a Resource Manager template to create an HDInsight Spark cluster.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-107">In this quickstart, you use a Resource Manager template to create an HDInsight Spark cluster.</span></span> <span data-ttu-id="3d3f8-108">The cluster uses Azure Storage Blobs as the cluster storage.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-108">The cluster uses Azure Storage Blobs as the cluster storage.</span></span> <span data-ttu-id="3d3f8-109">For more information on using Data Lake Storage Gen2, see [Quickstart: Set up clusters in HDInsight](../../storage/data-lake-storage/quickstart-create-connect-hdi-cluster.md).</span><span class="sxs-lookup"><span data-stu-id="3d3f8-109">For more information on using Data Lake Storage Gen2, see [Quickstart: Set up clusters in HDInsight](../../storage/data-lake-storage/quickstart-create-connect-hdi-cluster.md).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="3d3f8-110">Billing for HDInsight clusters is prorated per minute, whether you are using them or not.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-110">Billing for HDInsight clusters is prorated per minute, whether you are using them or not.</span></span> <span data-ttu-id="3d3f8-111">Be sure to delete your cluster after you have finished using it.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-111">Be sure to delete your cluster after you have finished using it.</span></span> <span data-ttu-id="3d3f8-112">For more information, see the [Clean up resources](#clean-up-resources) section of this article.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-112">For more information, see the [Clean up resources](#clean-up-resources) section of this article.</span></span>

<span data-ttu-id="3d3f8-113">If you don't have an Azure subscription, [create a free account](https://azure.microsoft.com/free/) before you begin.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-113">If you don't have an Azure subscription, [create a free account](https://azure.microsoft.com/free/) before you begin.</span></span>

## <a name="create-an-hdinsight-spark-cluster"></a><span data-ttu-id="3d3f8-114">Create an HDInsight Spark cluster</span><span class="sxs-lookup"><span data-stu-id="3d3f8-114">Create an HDInsight Spark cluster</span></span>

<span data-ttu-id="3d3f8-115">Create an HDInsight Spark cluster using an Azure Resource Manager template.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-115">Create an HDInsight Spark cluster using an Azure Resource Manager template.</span></span> <span data-ttu-id="3d3f8-116">The template can be found in [github](https://azure.microsoft.com/resources/templates/101-hdinsight-spark-linux/).</span><span class="sxs-lookup"><span data-stu-id="3d3f8-116">The template can be found in [github](https://azure.microsoft.com/resources/templates/101-hdinsight-spark-linux/).</span></span> 

1. <span data-ttu-id="3d3f8-117">Select the following link to open the template in the Azure portal in a new browser tab:</span><span class="sxs-lookup"><span data-stu-id="3d3f8-117">Select the following link to open the template in the Azure portal in a new browser tab:</span></span>         

    <span data-ttu-id="3d3f8-118"><a href="https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2F101-hdinsight-spark-linux%2Fazuredeploy.json" target="_blank">Deploy to Azure</a></span><span class="sxs-lookup"><span data-stu-id="3d3f8-118"><a href="https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2F101-hdinsight-spark-linux%2Fazuredeploy.json" target="_blank">Deploy to Azure</a></span></span>

2. <span data-ttu-id="3d3f8-119">Enter the following values:</span><span class="sxs-lookup"><span data-stu-id="3d3f8-119">Enter the following values:</span></span>

    | <span data-ttu-id="3d3f8-120">Property</span><span class="sxs-lookup"><span data-stu-id="3d3f8-120">Property</span></span> | <span data-ttu-id="3d3f8-121">Value</span><span class="sxs-lookup"><span data-stu-id="3d3f8-121">Value</span></span> |
    |---|---|
    |<span data-ttu-id="3d3f8-122">**Subscription**</span><span class="sxs-lookup"><span data-stu-id="3d3f8-122">**Subscription**</span></span>|<span data-ttu-id="3d3f8-123">Select your Azure subscription used for creating this cluster.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-123">Select your Azure subscription used for creating this cluster.</span></span> <span data-ttu-id="3d3f8-124">The subscription used for this quickstart is **&lt;Azure subscription name>**.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-124">The subscription used for this quickstart is **&lt;Azure subscription name>**.</span></span> |
    | <span data-ttu-id="3d3f8-125">**Resource group**</span><span class="sxs-lookup"><span data-stu-id="3d3f8-125">**Resource group**</span></span>|<span data-ttu-id="3d3f8-126">Create a resource group or select an existing one.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-126">Create a resource group or select an existing one.</span></span> <span data-ttu-id="3d3f8-127">Resource group is used to manage Azure resources for your projects.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-127">Resource group is used to manage Azure resources for your projects.</span></span> <span data-ttu-id="3d3f8-128">The new resource group name used for this quickstart is **myspark20180403rg**.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-128">The new resource group name used for this quickstart is **myspark20180403rg**.</span></span>|
    | <span data-ttu-id="3d3f8-129">**Location**</span><span class="sxs-lookup"><span data-stu-id="3d3f8-129">**Location**</span></span>|<span data-ttu-id="3d3f8-130">Select a location for the resource group.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-130">Select a location for the resource group.</span></span> <span data-ttu-id="3d3f8-131">The template uses this location for creating the cluster as well as for the default cluster storage.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-131">The template uses this location for creating the cluster as well as for the default cluster storage.</span></span> <span data-ttu-id="3d3f8-132">The location used for this quickstart is **East US 2**.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-132">The location used for this quickstart is **East US 2**.</span></span>|
    | <span data-ttu-id="3d3f8-133">**ClusterName**</span><span class="sxs-lookup"><span data-stu-id="3d3f8-133">**ClusterName**</span></span>|<span data-ttu-id="3d3f8-134">Enter a name for the HDInsight cluster that you want to create.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-134">Enter a name for the HDInsight cluster that you want to create.</span></span> <span data-ttu-id="3d3f8-135">The new cluster name used for this quickstart is **myspark20180403**.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-135">The new cluster name used for this quickstart is **myspark20180403**.</span></span>|
    | <span data-ttu-id="3d3f8-136">**Cluster login name and password**</span><span class="sxs-lookup"><span data-stu-id="3d3f8-136">**Cluster login name and password**</span></span>|<span data-ttu-id="3d3f8-137">The default login name is admin. Choose a password for the cluster login.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-137">The default login name is admin. Choose a password for the cluster login.</span></span> <span data-ttu-id="3d3f8-138">The login name used for this quickstart is **admin**.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-138">The login name used for this quickstart is **admin**.</span></span>|
    | <span data-ttu-id="3d3f8-139">**SSH user name and password**</span><span class="sxs-lookup"><span data-stu-id="3d3f8-139">**SSH user name and password**</span></span>|<span data-ttu-id="3d3f8-140">Choose a password for the SSH user.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-140">Choose a password for the SSH user.</span></span> <span data-ttu-id="3d3f8-141">The SSH user name used for this quickstart is **sshuser**.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-141">The SSH user name used for this quickstart is **sshuser**.</span></span>|

    <span data-ttu-id="3d3f8-142">![Create HDInsight Spark cluster using an Azure Resource Manager template](./media/apache-spark-jupyter-spark-sql/create-spark-cluster-in-hdinsight-using-azure-resource-manager-template.png "Create Spark cluster in HDInsight using an Azure Resource Manager template")</span><span class="sxs-lookup"><span data-stu-id="3d3f8-142">![Create HDInsight Spark cluster using an Azure Resource Manager template](./media/apache-spark-jupyter-spark-sql/create-spark-cluster-in-hdinsight-using-azure-resource-manager-template.png "Create Spark cluster in HDInsight using an Azure Resource Manager template")</span></span>

3. <span data-ttu-id="3d3f8-143">Select **I agree to the terms and conditions stated above**, select **Pin to dashboard**, and then select **Purchase**.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-143">Select **I agree to the terms and conditions stated above**, select **Pin to dashboard**, and then select **Purchase**.</span></span> <span data-ttu-id="3d3f8-144">You can see a new tile titled **Deploying Template deployment**.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-144">You can see a new tile titled **Deploying Template deployment**.</span></span> <span data-ttu-id="3d3f8-145">It takes about 20 minutes to create the cluster.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-145">It takes about 20 minutes to create the cluster.</span></span> <span data-ttu-id="3d3f8-146">The cluster must be created before you can proceed to the next session.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-146">The cluster must be created before you can proceed to the next session.</span></span>

<span data-ttu-id="3d3f8-147">If you run into an issue with creating HDInsight clusters, it could be that you do not have the right permissions to do so.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-147">If you run into an issue with creating HDInsight clusters, it could be that you do not have the right permissions to do so.</span></span> <span data-ttu-id="3d3f8-148">For more information, see [Access control requirements](../hdinsight-administer-use-portal-linux.md#create-clusters).</span><span class="sxs-lookup"><span data-stu-id="3d3f8-148">For more information, see [Access control requirements](../hdinsight-administer-use-portal-linux.md#create-clusters).</span></span>

## <a name="install-intellijeclipse-for-spark-application"></a><span data-ttu-id="3d3f8-149">Install IntelliJ/Eclipse for Spark application</span><span class="sxs-lookup"><span data-stu-id="3d3f8-149">Install IntelliJ/Eclipse for Spark application</span></span>
<span data-ttu-id="3d3f8-150">Use the Azure Toolkit for IntelliJ/Eclipse plug-in to develop Spark applications written in Scala, and then submit them to an Azure HDInsight Spark cluster directly from the IntelliJ/Eclipse integrated development environment (IDE).</span><span class="sxs-lookup"><span data-stu-id="3d3f8-150">Use the Azure Toolkit for IntelliJ/Eclipse plug-in to develop Spark applications written in Scala, and then submit them to an Azure HDInsight Spark cluster directly from the IntelliJ/Eclipse integrated development environment (IDE).</span></span> <span data-ttu-id="3d3f8-151">For more information, see [Use IntelliJ to author/submit Spark application](./apache-spark-intellij-tool-plugin.md) and [Use Eclipse to author/submit Spark application](./apache-spark-eclipse-tool-plugin.md).</span><span class="sxs-lookup"><span data-stu-id="3d3f8-151">For more information, see [Use IntelliJ to author/submit Spark application](./apache-spark-intellij-tool-plugin.md) and [Use Eclipse to author/submit Spark application](./apache-spark-eclipse-tool-plugin.md).</span></span>

## <a name="install-vscode-for-pysparkhive-applications"></a><span data-ttu-id="3d3f8-152">Install VSCode for PySpark/hive applications</span><span class="sxs-lookup"><span data-stu-id="3d3f8-152">Install VSCode for PySpark/hive applications</span></span>
<span data-ttu-id="3d3f8-153">Learn how to use the Azure HDInsight Tools for Visual Studio Code (VSCode) to create and submit Hive batch jobs, interactive Hive queries, PySpark batch, and PySpark interactive scripts.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-153">Learn how to use the Azure HDInsight Tools for Visual Studio Code (VSCode) to create and submit Hive batch jobs, interactive Hive queries, PySpark batch, and PySpark interactive scripts.</span></span> <span data-ttu-id="3d3f8-154">The Azure HDInsight Tools can be installed on the platforms that are supported by VSCode.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-154">The Azure HDInsight Tools can be installed on the platforms that are supported by VSCode.</span></span> <span data-ttu-id="3d3f8-155">These include Windows, Linux, and macOS.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-155">These include Windows, Linux, and macOS.</span></span> <span data-ttu-id="3d3f8-156">For more information, see [Use VSCode to author/submit PySpark application](../hdinsight-for-vscode.md).</span><span class="sxs-lookup"><span data-stu-id="3d3f8-156">For more information, see [Use VSCode to author/submit PySpark application](../hdinsight-for-vscode.md).</span></span>

## <a name="create-a-jupyter-notebook"></a><span data-ttu-id="3d3f8-157">Create a Jupyter notebook</span><span class="sxs-lookup"><span data-stu-id="3d3f8-157">Create a Jupyter notebook</span></span>

<span data-ttu-id="3d3f8-158">Jupyter Notebook is an interactive notebook environment that supports various programming languages.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-158">Jupyter Notebook is an interactive notebook environment that supports various programming languages.</span></span> <span data-ttu-id="3d3f8-159">The notebook allows you to interact with your data, combine code with markdown text and perform simple visualizations.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-159">The notebook allows you to interact with your data, combine code with markdown text and perform simple visualizations.</span></span> 

1. <span data-ttu-id="3d3f8-160">Open the [Azure portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="3d3f8-160">Open the [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="3d3f8-161">Select **HDInsight clusters**, and then select the cluster you created.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-161">Select **HDInsight clusters**, and then select the cluster you created.</span></span>

    ![open HDInsight cluster in the Azure portal](./media/apache-spark-jupyter-spark-sql/azure-portal-open-hdinsight-cluster.png)

3. <span data-ttu-id="3d3f8-163">From the portal, select **Cluster dashboards**, and then select **Jupyter Notebook**.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-163">From the portal, select **Cluster dashboards**, and then select **Jupyter Notebook**.</span></span> <span data-ttu-id="3d3f8-164">If prompted, enter the cluster login credentials for the cluster.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-164">If prompted, enter the cluster login credentials for the cluster.</span></span>

   <span data-ttu-id="3d3f8-165">![Open Jupyter Notebook to run interactive Spark SQL query](./media/apache-spark-jupyter-spark-sql/hdinsight-spark-open-jupyter-interactive-spark-sql-query.png "Open Jupyter Notebook to run interactive Spark SQL query")</span><span class="sxs-lookup"><span data-stu-id="3d3f8-165">![Open Jupyter Notebook to run interactive Spark SQL query](./media/apache-spark-jupyter-spark-sql/hdinsight-spark-open-jupyter-interactive-spark-sql-query.png "Open Jupyter Notebook to run interactive Spark SQL query")</span></span>

4. <span data-ttu-id="3d3f8-166">Select **New** > **PySpark** to create a notebook.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-166">Select **New** > **PySpark** to create a notebook.</span></span> 

   <span data-ttu-id="3d3f8-167">![Create a Jupyter Notebook to run interactive Spark SQL query](./media/apache-spark-jupyter-spark-sql/hdinsight-spark-create-jupyter-interactive-spark-sql-query.png "Create a Jupyter Notebook to run interactive Spark SQL query")</span><span class="sxs-lookup"><span data-stu-id="3d3f8-167">![Create a Jupyter Notebook to run interactive Spark SQL query](./media/apache-spark-jupyter-spark-sql/hdinsight-spark-create-jupyter-interactive-spark-sql-query.png "Create a Jupyter Notebook to run interactive Spark SQL query")</span></span>

   <span data-ttu-id="3d3f8-168">A new notebook is created and opened with the name Untitled(Untitled.pynb).</span><span class="sxs-lookup"><span data-stu-id="3d3f8-168">A new notebook is created and opened with the name Untitled(Untitled.pynb).</span></span>


## <a name="run-spark-sql-statements"></a><span data-ttu-id="3d3f8-169">Run Spark SQL statements</span><span class="sxs-lookup"><span data-stu-id="3d3f8-169">Run Spark SQL statements</span></span>

<span data-ttu-id="3d3f8-170">SQL (Structured Query Language) is the most common and widely used language for querying and defining data.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-170">SQL (Structured Query Language) is the most common and widely used language for querying and defining data.</span></span> <span data-ttu-id="3d3f8-171">Spark SQL functions as an extension to Apache Spark for processing structured data, using the familiar SQL syntax.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-171">Spark SQL functions as an extension to Apache Spark for processing structured data, using the familiar SQL syntax.</span></span>

1. <span data-ttu-id="3d3f8-172">Verify the kernel is ready.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-172">Verify the kernel is ready.</span></span> <span data-ttu-id="3d3f8-173">The kernel is ready when you see a hollow circle next to the kernel name in the notebook.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-173">The kernel is ready when you see a hollow circle next to the kernel name in the notebook.</span></span> <span data-ttu-id="3d3f8-174">Solid circle denotes that the kernel is busy.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-174">Solid circle denotes that the kernel is busy.</span></span>

    <span data-ttu-id="3d3f8-175">![Hive query in HDInsight Spark](./media/apache-spark-jupyter-spark-sql/jupyter-spark-kernel-status.png "Hive query in HDInsight Spark")</span><span class="sxs-lookup"><span data-stu-id="3d3f8-175">![Hive query in HDInsight Spark](./media/apache-spark-jupyter-spark-sql/jupyter-spark-kernel-status.png "Hive query in HDInsight Spark")</span></span>

    <span data-ttu-id="3d3f8-176">When you start the notebook for the first time, the kernel performs some tasks in the background.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-176">When you start the notebook for the first time, the kernel performs some tasks in the background.</span></span> <span data-ttu-id="3d3f8-177">Wait for the kernel to be ready.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-177">Wait for the kernel to be ready.</span></span> 
2. <span data-ttu-id="3d3f8-178">Paste the following code in an empty cell, and then press **SHIFT + ENTER** to run the code.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-178">Paste the following code in an empty cell, and then press **SHIFT + ENTER** to run the code.</span></span> <span data-ttu-id="3d3f8-179">The command lists the Hive tables on the cluster:</span><span class="sxs-lookup"><span data-stu-id="3d3f8-179">The command lists the Hive tables on the cluster:</span></span>

    ```PySpark
    %%sql
    SHOW TABLES
    ```
    <span data-ttu-id="3d3f8-180">When you use a Jupyter Notebook with your HDInsight Spark cluster, you get a preset `sqlContext` that you can use to run Hive queries using Spark SQL.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-180">When you use a Jupyter Notebook with your HDInsight Spark cluster, you get a preset `sqlContext` that you can use to run Hive queries using Spark SQL.</span></span> <span data-ttu-id="3d3f8-181">`%%sql` tells Jupyter Notebook to use the preset `sqlContext` to run the Hive query.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-181">`%%sql` tells Jupyter Notebook to use the preset `sqlContext` to run the Hive query.</span></span> <span data-ttu-id="3d3f8-182">The query retrieves the top 10 rows from a Hive table (**hivesampletable**) that comes with all HDInsight clusters by default.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-182">The query retrieves the top 10 rows from a Hive table (**hivesampletable**) that comes with all HDInsight clusters by default.</span></span> <span data-ttu-id="3d3f8-183">It takes about 30 seconds to get the results.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-183">It takes about 30 seconds to get the results.</span></span> <span data-ttu-id="3d3f8-184">The output looks like:</span><span class="sxs-lookup"><span data-stu-id="3d3f8-184">The output looks like:</span></span> 

    <span data-ttu-id="3d3f8-185">![Hive query in HDInsight Spark](./media/apache-spark-jupyter-spark-sql/hdinsight-spark-get-started-hive-query.png "Hive query in HDInsight Spark")</span><span class="sxs-lookup"><span data-stu-id="3d3f8-185">![Hive query in HDInsight Spark](./media/apache-spark-jupyter-spark-sql/hdinsight-spark-get-started-hive-query.png "Hive query in HDInsight Spark")</span></span>

    <span data-ttu-id="3d3f8-186">Every time you run a query in Jupyter, your web browser window title shows a **(Busy)** status along with the notebook title.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-186">Every time you run a query in Jupyter, your web browser window title shows a **(Busy)** status along with the notebook title.</span></span> <span data-ttu-id="3d3f8-187">You also see a solid circle next to the **PySpark** text in the top-right corner.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-187">You also see a solid circle next to the **PySpark** text in the top-right corner.</span></span>
    
2. <span data-ttu-id="3d3f8-188">Run another query to see the data in `hivesampletable`.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-188">Run another query to see the data in `hivesampletable`.</span></span>

    ```PySpark
    %%sql
    SELECT * FROM hivesampletable LIMIT 10
    ```
    
    <span data-ttu-id="3d3f8-189">The screen shall refresh to show the query output.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-189">The screen shall refresh to show the query output.</span></span>

    <span data-ttu-id="3d3f8-190">![Hive query output in HDInsight Spark](./media/apache-spark-jupyter-spark-sql/hdinsight-spark-get-started-hive-query-output.png "Hive query output in HDInsight Spark")</span><span class="sxs-lookup"><span data-stu-id="3d3f8-190">![Hive query output in HDInsight Spark](./media/apache-spark-jupyter-spark-sql/hdinsight-spark-get-started-hive-query-output.png "Hive query output in HDInsight Spark")</span></span>

2. <span data-ttu-id="3d3f8-191">From the **File** menu on the notebook, select **Close and Halt**.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-191">From the **File** menu on the notebook, select **Close and Halt**.</span></span> <span data-ttu-id="3d3f8-192">Shutting down the notebook releases the cluster resources.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-192">Shutting down the notebook releases the cluster resources.</span></span>

## <a name="clean-up-resources"></a><span data-ttu-id="3d3f8-193">Clean up resources</span><span class="sxs-lookup"><span data-stu-id="3d3f8-193">Clean up resources</span></span>
<span data-ttu-id="3d3f8-194">HDInsight saves your data in Azure Storage or Azure Data Lake Store, so you can safely delete a cluster when it is not in use.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-194">HDInsight saves your data in Azure Storage or Azure Data Lake Store, so you can safely delete a cluster when it is not in use.</span></span> <span data-ttu-id="3d3f8-195">You are also charged for an HDInsight cluster, even when it is not in use.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-195">You are also charged for an HDInsight cluster, even when it is not in use.</span></span> <span data-ttu-id="3d3f8-196">Since the charges for the cluster are many times more than the charges for storage, it makes economic sense to delete clusters when they are not in use.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-196">Since the charges for the cluster are many times more than the charges for storage, it makes economic sense to delete clusters when they are not in use.</span></span> <span data-ttu-id="3d3f8-197">If you plan to work on the tutorial listed in [Next steps](#next-steps) immediately, you might want to keep the cluster.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-197">If you plan to work on the tutorial listed in [Next steps](#next-steps) immediately, you might want to keep the cluster.</span></span>

<span data-ttu-id="3d3f8-198">Switch back to the Azure portal, and select **Delete**.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-198">Switch back to the Azure portal, and select **Delete**.</span></span>

<span data-ttu-id="3d3f8-199">![Delete an HDInsight cluster](./media/apache-spark-jupyter-spark-sql/hdinsight-azure-portal-delete-cluster.png "Delete HDInsight cluster")</span><span class="sxs-lookup"><span data-stu-id="3d3f8-199">![Delete an HDInsight cluster](./media/apache-spark-jupyter-spark-sql/hdinsight-azure-portal-delete-cluster.png "Delete HDInsight cluster")</span></span>

<span data-ttu-id="3d3f8-200">You can also select the resource group name to open the resource group page, and then select **Delete resource group**.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-200">You can also select the resource group name to open the resource group page, and then select **Delete resource group**.</span></span> <span data-ttu-id="3d3f8-201">By deleting the resource group, you delete both the HDInsight Spark cluster, and the default storage account.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-201">By deleting the resource group, you delete both the HDInsight Spark cluster, and the default storage account.</span></span>

## <a name="next-steps"></a><span data-ttu-id="3d3f8-202">Next steps</span><span class="sxs-lookup"><span data-stu-id="3d3f8-202">Next steps</span></span> 

<span data-ttu-id="3d3f8-203">In this quickstart, you learned how to create an HDInsight Spark cluster and run a basic Spark SQL query.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-203">In this quickstart, you learned how to create an HDInsight Spark cluster and run a basic Spark SQL query.</span></span> <span data-ttu-id="3d3f8-204">Advance to the next tutorial to learn how to use an HDInsight Spark cluster to run interactive queries on sample data.</span><span class="sxs-lookup"><span data-stu-id="3d3f8-204">Advance to the next tutorial to learn how to use an HDInsight Spark cluster to run interactive queries on sample data.</span></span>

> [!div class="nextstepaction"]
>[<span data-ttu-id="3d3f8-205">Run interactive queries on Spark</span><span class="sxs-lookup"><span data-stu-id="3d3f8-205">Run interactive queries on Spark</span></span>](./apache-spark-load-data-run-query.md)


