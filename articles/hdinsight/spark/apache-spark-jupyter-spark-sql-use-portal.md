---
title: 'Quickstart: Create an Spark cluster in HDInsight using the Azure portal'
description: This quickstart shows how to use the Azure portal to create an Apache Spark cluster in Azure HDInsight, and run a Spark SQL.
services: azure-hdinsight
author: jasonwhowell
ms.reviewer: jasonh
ms.service: azure-hdinsight
ms.topic: quickstart
ms.date: 05/07/2018
ms.author: jasonh
ms.custom: mvc
ms.openlocfilehash: 15190258fcc8800bdfec3796ebd8b4b0487d05e2
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44867065"
---
# <a name="quickstart-create-a-spark-cluster-in-hdinsight-using-the-azure-portal"></a><span data-ttu-id="2e6f1-103">Quickstart: Create a Spark cluster in HDInsight using the Azure portal</span><span class="sxs-lookup"><span data-stu-id="2e6f1-103">Quickstart: Create a Spark cluster in HDInsight using the Azure portal</span></span>
<span data-ttu-id="2e6f1-104">Learn how to create Apache Spark cluster in Azure HDInsight, and how to run Spark SQL queries against Hive tables.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-104">Learn how to create Apache Spark cluster in Azure HDInsight, and how to run Spark SQL queries against Hive tables.</span></span> <span data-ttu-id="2e6f1-105">Apache Spark enables fast data analytics and cluster computing using in-memory processing.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-105">Apache Spark enables fast data analytics and cluster computing using in-memory processing.</span></span> <span data-ttu-id="2e6f1-106">For information on Spark on HDInsight, see [Overview: Apache Spark on Azure HDInsight](apache-spark-overview.md).</span><span class="sxs-lookup"><span data-stu-id="2e6f1-106">For information on Spark on HDInsight, see [Overview: Apache Spark on Azure HDInsight](apache-spark-overview.md).</span></span>

<span data-ttu-id="2e6f1-107">In this quickstart, you use the Azure portal to create an HDInsight Spark cluster.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-107">In this quickstart, you use the Azure portal to create an HDInsight Spark cluster.</span></span> <span data-ttu-id="2e6f1-108">The cluster uses Azure Storage Blobs as the cluster storage.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-108">The cluster uses Azure Storage Blobs as the cluster storage.</span></span> <span data-ttu-id="2e6f1-109">For more information on using Data Lake Storage Gen2, see [Quickstart: Set up clusters in HDInsight](../../storage/data-lake-storage/quickstart-create-connect-hdi-cluster.md).</span><span class="sxs-lookup"><span data-stu-id="2e6f1-109">For more information on using Data Lake Storage Gen2, see [Quickstart: Set up clusters in HDInsight](../../storage/data-lake-storage/quickstart-create-connect-hdi-cluster.md).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="2e6f1-110">Billing for HDInsight clusters is prorated per minute, whether you are using them or not.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-110">Billing for HDInsight clusters is prorated per minute, whether you are using them or not.</span></span> <span data-ttu-id="2e6f1-111">Be sure to delete your cluster after you have finished using it.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-111">Be sure to delete your cluster after you have finished using it.</span></span> <span data-ttu-id="2e6f1-112">For more information, see the [Clean up resources](#clean-up-resources) section of this article.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-112">For more information, see the [Clean up resources](#clean-up-resources) section of this article.</span></span>

<span data-ttu-id="2e6f1-113">If you don't have an Azure subscription, [create a free account](https://azure.microsoft.com/free/) before you begin.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-113">If you don't have an Azure subscription, [create a free account](https://azure.microsoft.com/free/) before you begin.</span></span>

## <a name="create-an-hdinsight-spark-cluster"></a><span data-ttu-id="2e6f1-114">Create an HDInsight Spark cluster</span><span class="sxs-lookup"><span data-stu-id="2e6f1-114">Create an HDInsight Spark cluster</span></span>

1. <span data-ttu-id="2e6f1-115">In the Azure portal, select **Create a resource** > **Data + Analytics** > **HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-115">In the Azure portal, select **Create a resource** > **Data + Analytics** > **HDInsight**.</span></span> 

    <span data-ttu-id="2e6f1-116">![HDInsight on Azure portal](./media/apache-spark-jupyter-spark-sql-use-portal/azure-portal-create-hdinsight-spark-cluster.png "HDInsight on Azure portal")</span><span class="sxs-lookup"><span data-stu-id="2e6f1-116">![HDInsight on Azure portal](./media/apache-spark-jupyter-spark-sql-use-portal/azure-portal-create-hdinsight-spark-cluster.png "HDInsight on Azure portal")</span></span>
2. <span data-ttu-id="2e6f1-117">Under **Basics**, provide the following values:</span><span class="sxs-lookup"><span data-stu-id="2e6f1-117">Under **Basics**, provide the following values:</span></span>
     
    |<span data-ttu-id="2e6f1-118">Property</span><span class="sxs-lookup"><span data-stu-id="2e6f1-118">Property</span></span>  |<span data-ttu-id="2e6f1-119">Description</span><span class="sxs-lookup"><span data-stu-id="2e6f1-119">Description</span></span>  |
    |---------|---------|
    |<span data-ttu-id="2e6f1-120">**Cluster name**</span><span class="sxs-lookup"><span data-stu-id="2e6f1-120">**Cluster name**</span></span>     | <span data-ttu-id="2e6f1-121">Give a name to your HDInsight Spark cluster.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-121">Give a name to your HDInsight Spark cluster.</span></span> <span data-ttu-id="2e6f1-122">The cluster name used for this quickstart is **myspark20180403**.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-122">The cluster name used for this quickstart is **myspark20180403**.</span></span>|
    |<span data-ttu-id="2e6f1-123">**Subscription**</span><span class="sxs-lookup"><span data-stu-id="2e6f1-123">**Subscription**</span></span>     | <span data-ttu-id="2e6f1-124">From the drop-down, select an Azure subscription used for this cluster.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-124">From the drop-down, select an Azure subscription used for this cluster.</span></span> <span data-ttu-id="2e6f1-125">The subscription used for this quickstart is **&lt;Azure subscription**.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-125">The subscription used for this quickstart is **&lt;Azure subscription**.</span></span> |
    |<span data-ttu-id="2e6f1-126">**Cluster type**</span><span class="sxs-lookup"><span data-stu-id="2e6f1-126">**Cluster type**</span></span>| <span data-ttu-id="2e6f1-127">Expand the item, and then select **Spark** as the cluster type, and specify the Spark cluster version.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-127">Expand the item, and then select **Spark** as the cluster type, and specify the Spark cluster version.</span></span> <br/> <img src="./media/apache-spark-jupyter-spark-sql-use-portal/azure-portal-create-hdinsight-spark-cluster-type.png" alt = "Slect HDInsight clsuter type" /> |
    |<span data-ttu-id="2e6f1-128">**Cluster login username**</span><span class="sxs-lookup"><span data-stu-id="2e6f1-128">**Cluster login username**</span></span>| <span data-ttu-id="2e6f1-129">Enter the cluster login username.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-129">Enter the cluster login username.</span></span>  <span data-ttu-id="2e6f1-130">The default name is *admin*. You use this account to login in to the Jupyter notebook later in the quickstart.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-130">The default name is *admin*. You use this account to login in to the Jupyter notebook later in the quickstart.</span></span> |
    |<span data-ttu-id="2e6f1-131">**Cluster login password**</span><span class="sxs-lookup"><span data-stu-id="2e6f1-131">**Cluster login password**</span></span>| <span data-ttu-id="2e6f1-132">Enter the cluster login password.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-132">Enter the cluster login password.</span></span> |
    |<span data-ttu-id="2e6f1-133">**Secure Shell (SSH) username**</span><span class="sxs-lookup"><span data-stu-id="2e6f1-133">**Secure Shell (SSH) username**</span></span>| <span data-ttu-id="2e6f1-134">Enter the SSH username.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-134">Enter the SSH username.</span></span> <span data-ttu-id="2e6f1-135">The SSH username used for this quickstart is **sshuser**.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-135">The SSH username used for this quickstart is **sshuser**.</span></span> <span data-ttu-id="2e6f1-136">By default, this account shares the same password as the *Cluster Login username* account.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-136">By default, this account shares the same password as the *Cluster Login username* account.</span></span> |
    |<span data-ttu-id="2e6f1-137">**Resource group**</span><span class="sxs-lookup"><span data-stu-id="2e6f1-137">**Resource group**</span></span>     | <span data-ttu-id="2e6f1-138">Specify whether you want to create a new resource group or use an existing one.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-138">Specify whether you want to create a new resource group or use an existing one.</span></span> <span data-ttu-id="2e6f1-139">A resource group is a container that holds related resources for an Azure solution.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-139">A resource group is a container that holds related resources for an Azure solution.</span></span> <span data-ttu-id="2e6f1-140">The resource group name used for this quickstart is **myspark20180403rg**.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-140">The resource group name used for this quickstart is **myspark20180403rg**.</span></span> |
    |<span data-ttu-id="2e6f1-141">**Location**</span><span class="sxs-lookup"><span data-stu-id="2e6f1-141">**Location**</span></span>     | <span data-ttu-id="2e6f1-142">Select a location for the resource group.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-142">Select a location for the resource group.</span></span> <span data-ttu-id="2e6f1-143">The template uses this location for creating the cluster as well as for the default cluster storage.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-143">The template uses this location for creating the cluster as well as for the default cluster storage.</span></span> <span data-ttu-id="2e6f1-144">The location used for this quickstart is **East US 2**.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-144">The location used for this quickstart is **East US 2**.</span></span> |

    <span data-ttu-id="2e6f1-145">![Create HDInsight Spark cluster basic configurations](./media/apache-spark-jupyter-spark-sql-use-portal/azure-portal-create-hdinsight-spark-cluster-basic2.png "Create Spark cluster in HDInsight the Basic configurations")</span><span class="sxs-lookup"><span data-stu-id="2e6f1-145">![Create HDInsight Spark cluster basic configurations](./media/apache-spark-jupyter-spark-sql-use-portal/azure-portal-create-hdinsight-spark-cluster-basic2.png "Create Spark cluster in HDInsight the Basic configurations")</span></span>

    <span data-ttu-id="2e6f1-146">Select **Next** to continue to the **Storage** page.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-146">Select **Next** to continue to the **Storage** page.</span></span>
3. <span data-ttu-id="2e6f1-147">Under **Storage**, provide the following values:</span><span class="sxs-lookup"><span data-stu-id="2e6f1-147">Under **Storage**, provide the following values:</span></span>

    - <span data-ttu-id="2e6f1-148">**Select a Storage account**: select **Create new**, and then give a name to the new storage account.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-148">**Select a Storage account**: select **Create new**, and then give a name to the new storage account.</span></span> <span data-ttu-id="2e6f1-149">The storage account name used for this quickstart is **myspark20180403store**.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-149">The storage account name used for this quickstart is **myspark20180403store**.</span></span>

    <span data-ttu-id="2e6f1-150">![Create HDInsight Spark cluster storage configurations](./media/apache-spark-jupyter-spark-sql-use-portal/azure-portal-create-hdinsight-spark-cluster-storage.png "Create Spark cluster in HDInsight the storage configurations")</span><span class="sxs-lookup"><span data-stu-id="2e6f1-150">![Create HDInsight Spark cluster storage configurations](./media/apache-spark-jupyter-spark-sql-use-portal/azure-portal-create-hdinsight-spark-cluster-storage.png "Create Spark cluster in HDInsight the storage configurations")</span></span>

    > [!NOTE] 
    > <span data-ttu-id="2e6f1-151">On the screenshot, it shows **Select existing**.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-151">On the screenshot, it shows **Select existing**.</span></span> <span data-ttu-id="2e6f1-152">The link toggles between **Create new** and **Select existing**.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-152">The link toggles between **Create new** and **Select existing**.</span></span>

    <span data-ttu-id="2e6f1-153">The **Default container** has a default name.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-153">The **Default container** has a default name.</span></span>  <span data-ttu-id="2e6f1-154">You can change the name if you want.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-154">You can change the name if you want.</span></span>

    <span data-ttu-id="2e6f1-155">Select **Next** to continue to the **Summary** page.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-155">Select **Next** to continue to the **Summary** page.</span></span> 


3. <span data-ttu-id="2e6f1-156">On **Summary**, select **Create**.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-156">On **Summary**, select **Create**.</span></span> <span data-ttu-id="2e6f1-157">It takes about 20 minutes to create the cluster.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-157">It takes about 20 minutes to create the cluster.</span></span> <span data-ttu-id="2e6f1-158">The cluster must be created before you can proceed to the next session.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-158">The cluster must be created before you can proceed to the next session.</span></span>

<span data-ttu-id="2e6f1-159">If you run into an issue with creating HDInsight clusters, it could be that you do not have the right permissions to do so.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-159">If you run into an issue with creating HDInsight clusters, it could be that you do not have the right permissions to do so.</span></span> <span data-ttu-id="2e6f1-160">For more information, see [Access control requirements](../hdinsight-administer-use-portal-linux.md#create-clusters).</span><span class="sxs-lookup"><span data-stu-id="2e6f1-160">For more information, see [Access control requirements](../hdinsight-administer-use-portal-linux.md#create-clusters).</span></span>

## <a name="create-a-jupyter-notebook"></a><span data-ttu-id="2e6f1-161">Create a Jupyter notebook</span><span class="sxs-lookup"><span data-stu-id="2e6f1-161">Create a Jupyter notebook</span></span>

<span data-ttu-id="2e6f1-162">Jupyter Notebook is an interactive notebook environment that supports various programming languages.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-162">Jupyter Notebook is an interactive notebook environment that supports various programming languages.</span></span> <span data-ttu-id="2e6f1-163">The notebook allows you to interact with your data, combine code with markdown text and perform simple visualizations.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-163">The notebook allows you to interact with your data, combine code with markdown text and perform simple visualizations.</span></span> 

1. <span data-ttu-id="2e6f1-164">Open the [Azure portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="2e6f1-164">Open the [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="2e6f1-165">Select **HDInsight clusters**, and then select the cluster you created.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-165">Select **HDInsight clusters**, and then select the cluster you created.</span></span>

    ![open HDInsight cluster in the Azure portal](./media/apache-spark-jupyter-spark-sql/azure-portal-open-hdinsight-cluster.png)

3. <span data-ttu-id="2e6f1-167">From the portal, select **Cluster dashboards**, and then select **Jupyter Notebook**.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-167">From the portal, select **Cluster dashboards**, and then select **Jupyter Notebook**.</span></span> <span data-ttu-id="2e6f1-168">If prompted, enter the cluster login credentials for the cluster.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-168">If prompted, enter the cluster login credentials for the cluster.</span></span>

   <span data-ttu-id="2e6f1-169">![Open Jupyter Notebook to run interactive Spark SQL query](./media/apache-spark-jupyter-spark-sql/hdinsight-spark-open-jupyter-interactive-spark-sql-query.png "Open Jupyter Notebook to run interactive Spark SQL query")</span><span class="sxs-lookup"><span data-stu-id="2e6f1-169">![Open Jupyter Notebook to run interactive Spark SQL query](./media/apache-spark-jupyter-spark-sql/hdinsight-spark-open-jupyter-interactive-spark-sql-query.png "Open Jupyter Notebook to run interactive Spark SQL query")</span></span>

4. <span data-ttu-id="2e6f1-170">Select **New** > **PySpark** to create a notebook.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-170">Select **New** > **PySpark** to create a notebook.</span></span> 

   <span data-ttu-id="2e6f1-171">![Create a Jupyter Notebook to run interactive Spark SQL query](./media/apache-spark-jupyter-spark-sql/hdinsight-spark-create-jupyter-interactive-spark-sql-query.png "Create a Jupyter Notebook to run interactive Spark SQL query")</span><span class="sxs-lookup"><span data-stu-id="2e6f1-171">![Create a Jupyter Notebook to run interactive Spark SQL query](./media/apache-spark-jupyter-spark-sql/hdinsight-spark-create-jupyter-interactive-spark-sql-query.png "Create a Jupyter Notebook to run interactive Spark SQL query")</span></span>

   <span data-ttu-id="2e6f1-172">A new notebook is created and opened with the name Untitled(Untitled.pynb).</span><span class="sxs-lookup"><span data-stu-id="2e6f1-172">A new notebook is created and opened with the name Untitled(Untitled.pynb).</span></span>


## <a name="run-spark-sql-statements"></a><span data-ttu-id="2e6f1-173">Run Spark SQL statements</span><span class="sxs-lookup"><span data-stu-id="2e6f1-173">Run Spark SQL statements</span></span>

<span data-ttu-id="2e6f1-174">SQL (Structured Query Language) is the most common and widely used language for querying and defining data.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-174">SQL (Structured Query Language) is the most common and widely used language for querying and defining data.</span></span> <span data-ttu-id="2e6f1-175">Spark SQL functions as an extension to Apache Spark for processing structured data, using the familiar SQL syntax.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-175">Spark SQL functions as an extension to Apache Spark for processing structured data, using the familiar SQL syntax.</span></span>

1. <span data-ttu-id="2e6f1-176">Verify the kernel is ready.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-176">Verify the kernel is ready.</span></span> <span data-ttu-id="2e6f1-177">The kernel is ready when you see a hollow circle next to the kernel name in the notebook.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-177">The kernel is ready when you see a hollow circle next to the kernel name in the notebook.</span></span> <span data-ttu-id="2e6f1-178">Solid circle denotes that the kernel is busy.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-178">Solid circle denotes that the kernel is busy.</span></span>

    <span data-ttu-id="2e6f1-179">![Hive query in HDInsight Spark](./media/apache-spark-jupyter-spark-sql/jupyter-spark-kernel-status.png "Hive query in HDInsight Spark")</span><span class="sxs-lookup"><span data-stu-id="2e6f1-179">![Hive query in HDInsight Spark](./media/apache-spark-jupyter-spark-sql/jupyter-spark-kernel-status.png "Hive query in HDInsight Spark")</span></span>

    <span data-ttu-id="2e6f1-180">When you start the notebook for the first time, the kernel performs some tasks in the background.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-180">When you start the notebook for the first time, the kernel performs some tasks in the background.</span></span> <span data-ttu-id="2e6f1-181">Wait for the kernel to be ready.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-181">Wait for the kernel to be ready.</span></span> 
2. <span data-ttu-id="2e6f1-182">Paste the following code in an empty cell, and then press **SHIFT + ENTER** to run the code.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-182">Paste the following code in an empty cell, and then press **SHIFT + ENTER** to run the code.</span></span> <span data-ttu-id="2e6f1-183">The command lists the Hive tables on the cluster:</span><span class="sxs-lookup"><span data-stu-id="2e6f1-183">The command lists the Hive tables on the cluster:</span></span>

    ```PySpark
    %%sql
    SHOW TABLES
    ```
    <span data-ttu-id="2e6f1-184">When you use a Jupyter Notebook with your HDInsight Spark cluster, you get a preset `sqlContext` that you can use to run Hive queries using Spark SQL.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-184">When you use a Jupyter Notebook with your HDInsight Spark cluster, you get a preset `sqlContext` that you can use to run Hive queries using Spark SQL.</span></span> <span data-ttu-id="2e6f1-185">`%%sql` tells Jupyter Notebook to use the preset `sqlContext` to run the Hive query.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-185">`%%sql` tells Jupyter Notebook to use the preset `sqlContext` to run the Hive query.</span></span> <span data-ttu-id="2e6f1-186">The query retrieves the top 10 rows from a Hive table (**hivesampletable**) that comes with all HDInsight clusters by default.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-186">The query retrieves the top 10 rows from a Hive table (**hivesampletable**) that comes with all HDInsight clusters by default.</span></span> <span data-ttu-id="2e6f1-187">It takes about 30 seconds to get the results.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-187">It takes about 30 seconds to get the results.</span></span> <span data-ttu-id="2e6f1-188">The output looks like:</span><span class="sxs-lookup"><span data-stu-id="2e6f1-188">The output looks like:</span></span> 

    <span data-ttu-id="2e6f1-189">![Hive query in HDInsight Spark](./media/apache-spark-jupyter-spark-sql/hdinsight-spark-get-started-hive-query.png "Hive query in HDInsight Spark")</span><span class="sxs-lookup"><span data-stu-id="2e6f1-189">![Hive query in HDInsight Spark](./media/apache-spark-jupyter-spark-sql/hdinsight-spark-get-started-hive-query.png "Hive query in HDInsight Spark")</span></span>

    <span data-ttu-id="2e6f1-190">Every time you run a query in Jupyter, your web browser window title shows a **(Busy)** status along with the notebook title.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-190">Every time you run a query in Jupyter, your web browser window title shows a **(Busy)** status along with the notebook title.</span></span> <span data-ttu-id="2e6f1-191">You also see a solid circle next to the **PySpark** text in the top-right corner.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-191">You also see a solid circle next to the **PySpark** text in the top-right corner.</span></span>
    
2. <span data-ttu-id="2e6f1-192">Run another query to see the data in `hivesampletable`.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-192">Run another query to see the data in `hivesampletable`.</span></span>

    ```PySpark
    %%sql
    SELECT * FROM hivesampletable LIMIT 10
    ```
    
    <span data-ttu-id="2e6f1-193">The screen shall refresh to show the query output.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-193">The screen shall refresh to show the query output.</span></span>

    <span data-ttu-id="2e6f1-194">![Hive query output in HDInsight Spark](./media/apache-spark-jupyter-spark-sql/hdinsight-spark-get-started-hive-query-output.png "Hive query output in HDInsight Spark")</span><span class="sxs-lookup"><span data-stu-id="2e6f1-194">![Hive query output in HDInsight Spark](./media/apache-spark-jupyter-spark-sql/hdinsight-spark-get-started-hive-query-output.png "Hive query output in HDInsight Spark")</span></span>

2. <span data-ttu-id="2e6f1-195">From the **File** menu on the notebook, select **Close and Halt**.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-195">From the **File** menu on the notebook, select **Close and Halt**.</span></span> <span data-ttu-id="2e6f1-196">Shutting down the notebook releases the cluster resources.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-196">Shutting down the notebook releases the cluster resources.</span></span>

## <a name="clean-up-resources"></a><span data-ttu-id="2e6f1-197">Clean up resources</span><span class="sxs-lookup"><span data-stu-id="2e6f1-197">Clean up resources</span></span>
<span data-ttu-id="2e6f1-198">HDInsight saves your data in Azure Storage or Azure Data Lake Storage, so you can safely delete a cluster when it is not in use.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-198">HDInsight saves your data in Azure Storage or Azure Data Lake Storage, so you can safely delete a cluster when it is not in use.</span></span> <span data-ttu-id="2e6f1-199">You are also charged for an HDInsight cluster, even when it is not in use.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-199">You are also charged for an HDInsight cluster, even when it is not in use.</span></span> <span data-ttu-id="2e6f1-200">Since the charges for the cluster are many times more than the charges for storage, it makes economic sense to delete clusters when they are not in use.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-200">Since the charges for the cluster are many times more than the charges for storage, it makes economic sense to delete clusters when they are not in use.</span></span> <span data-ttu-id="2e6f1-201">If you plan to work on the tutorial listed in [Next steps](#next-steps) immediately, you might want to keep the cluster.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-201">If you plan to work on the tutorial listed in [Next steps](#next-steps) immediately, you might want to keep the cluster.</span></span>

<span data-ttu-id="2e6f1-202">Switch back to the Azure portal, and select **Delete**.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-202">Switch back to the Azure portal, and select **Delete**.</span></span>

<span data-ttu-id="2e6f1-203">![Delete an HDInsight cluster](./media/apache-spark-jupyter-spark-sql/hdinsight-azure-portal-delete-cluster.png "Delete HDInsight cluster")</span><span class="sxs-lookup"><span data-stu-id="2e6f1-203">![Delete an HDInsight cluster](./media/apache-spark-jupyter-spark-sql/hdinsight-azure-portal-delete-cluster.png "Delete HDInsight cluster")</span></span>

<span data-ttu-id="2e6f1-204">You can also select the resource group name to open the resource group page, and then select **Delete resource group**.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-204">You can also select the resource group name to open the resource group page, and then select **Delete resource group**.</span></span> <span data-ttu-id="2e6f1-205">By deleting the resource group, you delete both the HDInsight Spark cluster, and the default storage account.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-205">By deleting the resource group, you delete both the HDInsight Spark cluster, and the default storage account.</span></span>

## <a name="next-steps"></a><span data-ttu-id="2e6f1-206">Next steps</span><span class="sxs-lookup"><span data-stu-id="2e6f1-206">Next steps</span></span> 

<span data-ttu-id="2e6f1-207">In this quickstart, you learned how to create an HDInsight Spark cluster and run a basic Spark SQL query.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-207">In this quickstart, you learned how to create an HDInsight Spark cluster and run a basic Spark SQL query.</span></span> <span data-ttu-id="2e6f1-208">Advance to the next tutorial to learn how to use an HDInsight Spark cluster to run interactive queries on sample data.</span><span class="sxs-lookup"><span data-stu-id="2e6f1-208">Advance to the next tutorial to learn how to use an HDInsight Spark cluster to run interactive queries on sample data.</span></span>

> [!div class="nextstepaction"]
>[<span data-ttu-id="2e6f1-209">Run interactive queries on Spark</span><span class="sxs-lookup"><span data-stu-id="2e6f1-209">Run interactive queries on Spark</span></span>](./apache-spark-load-data-run-query.md)
