---
title: Introduction to ML Services on Azure HDInsight
description: Learn how to use ML Services on HDInsight to create applications for big data analysis.
services: hdinsight
ms.service: hdinsight
author: jasonwhowell
ms.author: jasonh
ms.reviewer: jasonh
ms.custom: hdinsightactive
ms.topic: conceptual
ms.date: 06/27/2018
ms.openlocfilehash: af143ef1ec79868294af7d7511548dc54f8ceb8d
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44864864"
---
# <a name="introduction-to-ml-services-and-open-source-r-capabilities-on-hdinsight"></a><span data-ttu-id="3f022-103">Introduction to ML Services and open-source R capabilities on HDInsight</span><span class="sxs-lookup"><span data-stu-id="3f022-103">Introduction to ML Services and open-source R capabilities on HDInsight</span></span>

> [!NOTE]
> <span data-ttu-id="3f022-104">In September 2017, Microsoft R Server was released under the new name of **Microsoft Machine Learning Server** or ML Server.</span><span class="sxs-lookup"><span data-stu-id="3f022-104">In September 2017, Microsoft R Server was released under the new name of **Microsoft Machine Learning Server** or ML Server.</span></span> <span data-ttu-id="3f022-105">Consequently, R Server cluster on HDInsight is now called **Machine Learning Services** or **ML Services** cluster on HDInsight.</span><span class="sxs-lookup"><span data-stu-id="3f022-105">Consequently, R Server cluster on HDInsight is now called **Machine Learning Services** or **ML Services** cluster on HDInsight.</span></span> <span data-ttu-id="3f022-106">For more information on the R Server name change, see [Microsoft R Server is now Microsoft Machine Learning Server](https://docs.microsoft.com/machine-learning-server/rebranding-microsoft-r-server#get-support-for-r-server).</span><span class="sxs-lookup"><span data-stu-id="3f022-106">For more information on the R Server name change, see [Microsoft R Server is now Microsoft Machine Learning Server](https://docs.microsoft.com/machine-learning-server/rebranding-microsoft-r-server#get-support-for-r-server).</span></span>

<span data-ttu-id="3f022-107">Microsoft Machine Learning Server is available as a deployment option when you create HDInsight clusters in Azure.</span><span class="sxs-lookup"><span data-stu-id="3f022-107">Microsoft Machine Learning Server is available as a deployment option when you create HDInsight clusters in Azure.</span></span> <span data-ttu-id="3f022-108">The cluster type that provides this option is called **ML Services**.</span><span class="sxs-lookup"><span data-stu-id="3f022-108">The cluster type that provides this option is called **ML Services**.</span></span> <span data-ttu-id="3f022-109">This capability provides data scientists, statisticians, and R programmers with on-demand access to scalable, distributed methods of analytics on HDInsight.</span><span class="sxs-lookup"><span data-stu-id="3f022-109">This capability provides data scientists, statisticians, and R programmers with on-demand access to scalable, distributed methods of analytics on HDInsight.</span></span>

[!INCLUDE [hdinsight-price-change](../../../includes/hdinsight-enhancements.md)]

<span data-ttu-id="3f022-110">ML Services on HDInsight provides the latest capabilities for R-based analytics on datasets of virtually any size, loaded to either Azure Blob or Data Lake storage.</span><span class="sxs-lookup"><span data-stu-id="3f022-110">ML Services on HDInsight provides the latest capabilities for R-based analytics on datasets of virtually any size, loaded to either Azure Blob or Data Lake storage.</span></span> <span data-ttu-id="3f022-111">Since ML Services cluster is built on open-source R, the R-based applications you build can leverage any of the 8000+ open-source R packages.</span><span class="sxs-lookup"><span data-stu-id="3f022-111">Since ML Services cluster is built on open-source R, the R-based applications you build can leverage any of the 8000+ open-source R packages.</span></span> <span data-ttu-id="3f022-112">The routines in ScaleR, Microsoft’s big data analytics package are also available.</span><span class="sxs-lookup"><span data-stu-id="3f022-112">The routines in ScaleR, Microsoft’s big data analytics package are also available.</span></span>

<span data-ttu-id="3f022-113">The edge node of a cluster provides a convenient place to connect to the cluster and to run your R scripts.</span><span class="sxs-lookup"><span data-stu-id="3f022-113">The edge node of a cluster provides a convenient place to connect to the cluster and to run your R scripts.</span></span> <span data-ttu-id="3f022-114">With an edge node, you have the option of running the parallelized distributed functions of ScaleR across the cores of the edge node server.</span><span class="sxs-lookup"><span data-stu-id="3f022-114">With an edge node, you have the option of running the parallelized distributed functions of ScaleR across the cores of the edge node server.</span></span> <span data-ttu-id="3f022-115">You can also run them across the nodes of the cluster by using ScaleR’s Hadoop Map Reduce or Spark compute contexts.</span><span class="sxs-lookup"><span data-stu-id="3f022-115">You can also run them across the nodes of the cluster by using ScaleR’s Hadoop Map Reduce or Spark compute contexts.</span></span>

<span data-ttu-id="3f022-116">The models or predictions that result from analysis can be downloaded for on-premises use.</span><span class="sxs-lookup"><span data-stu-id="3f022-116">The models or predictions that result from analysis can be downloaded for on-premises use.</span></span> <span data-ttu-id="3f022-117">They can also be operationalized elsewhere in Azure, in particular through [Azure Machine Learning Studio](http://studio.azureml.net) [web service](../../machine-learning/studio/publish-a-machine-learning-web-service.md).</span><span class="sxs-lookup"><span data-stu-id="3f022-117">They can also be operationalized elsewhere in Azure, in particular through [Azure Machine Learning Studio](http://studio.azureml.net) [web service](../../machine-learning/studio/publish-a-machine-learning-web-service.md).</span></span>

## <a name="get-started-with-ml-services-on-hdinsight"></a><span data-ttu-id="3f022-118">Get started with ML Services on HDInsight</span><span class="sxs-lookup"><span data-stu-id="3f022-118">Get started with ML Services on HDInsight</span></span>

<span data-ttu-id="3f022-119">To create an ML Services cluster in Azure HDInsight, select the **ML Services** cluster type when creating an HDInsight cluster using the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="3f022-119">To create an ML Services cluster in Azure HDInsight, select the **ML Services** cluster type when creating an HDInsight cluster using the Azure portal.</span></span> <span data-ttu-id="3f022-120">The ML Services cluster type includes ML Server on the data nodes of the cluster and on an edge node, which serves as a landing zone for ML Services-based analytics.</span><span class="sxs-lookup"><span data-stu-id="3f022-120">The ML Services cluster type includes ML Server on the data nodes of the cluster and on an edge node, which serves as a landing zone for ML Services-based analytics.</span></span> <span data-ttu-id="3f022-121">See [Getting Started with ML Services on HDInsight](r-server-get-started.md) for a walkthrough on how to create the cluster.</span><span class="sxs-lookup"><span data-stu-id="3f022-121">See [Getting Started with ML Services on HDInsight](r-server-get-started.md) for a walkthrough on how to create the cluster.</span></span>

## <a name="why-choose-ml-services-in-hdinsight"></a><span data-ttu-id="3f022-122">Why choose ML Services in HDInsight?</span><span class="sxs-lookup"><span data-stu-id="3f022-122">Why choose ML Services in HDInsight?</span></span>

<span data-ttu-id="3f022-123">ML Services in HDInsight provides the following benefits:</span><span class="sxs-lookup"><span data-stu-id="3f022-123">ML Services in HDInsight provides the following benefits:</span></span>

### <a name="ai-innovation-from-microsoft-and-open-source"></a><span data-ttu-id="3f022-124">AI innovation from Microsoft and open-source</span><span class="sxs-lookup"><span data-stu-id="3f022-124">AI innovation from Microsoft and open-source</span></span>

  <span data-ttu-id="3f022-125">ML Services includes highly scalable, distributed set of algorithms such as [RevoscaleR](https://docs.microsoft.com/machine-learning-server/r-reference/revoscaler/revoscaler), [revoscalepy](https://docs.microsoft.com/machine-learning-server/python-reference/revoscalepy/revoscalepy-package), and [microsoftML](https://docs.microsoft.com/machine-learning-server/python-reference/microsoftml/microsoftml-package) that can work on data sizes larger than the size of physical memory, and run on a wide variety of platforms in a distributed manner.</span><span class="sxs-lookup"><span data-stu-id="3f022-125">ML Services includes highly scalable, distributed set of algorithms such as [RevoscaleR](https://docs.microsoft.com/machine-learning-server/r-reference/revoscaler/revoscaler), [revoscalepy](https://docs.microsoft.com/machine-learning-server/python-reference/revoscalepy/revoscalepy-package), and [microsoftML](https://docs.microsoft.com/machine-learning-server/python-reference/microsoftml/microsoftml-package) that can work on data sizes larger than the size of physical memory, and run on a wide variety of platforms in a distributed manner.</span></span> <span data-ttu-id="3f022-126">Learn more about the collection of Microsoft's custom [R packages](https://docs.microsoft.com/machine-learning-server/r-reference/introducing-r-server-r-package-reference) and [Python packages](https://docs.microsoft.com/machine-learning-server/python-reference/introducing-python-package-reference) included with the product.</span><span class="sxs-lookup"><span data-stu-id="3f022-126">Learn more about the collection of Microsoft's custom [R packages](https://docs.microsoft.com/machine-learning-server/r-reference/introducing-r-server-r-package-reference) and [Python packages](https://docs.microsoft.com/machine-learning-server/python-reference/introducing-python-package-reference) included with the product.</span></span>
  
  <span data-ttu-id="3f022-127">ML Services bridges these Microsoft innovations and contributions coming from the open-source community (R, Python, and AI toolkits) all on top of a single enterprise-grade platform.</span><span class="sxs-lookup"><span data-stu-id="3f022-127">ML Services bridges these Microsoft innovations and contributions coming from the open-source community (R, Python, and AI toolkits) all on top of a single enterprise-grade platform.</span></span> <span data-ttu-id="3f022-128">Any R or Python open-source machine learning package can work side by side with any proprietary innovation from Microsoft.</span><span class="sxs-lookup"><span data-stu-id="3f022-128">Any R or Python open-source machine learning package can work side by side with any proprietary innovation from Microsoft.</span></span>

### <a name="simple-secure-and-high-scale-operationalization-and-administration"></a><span data-ttu-id="3f022-129">Simple, secure, and high-scale operationalization and administration</span><span class="sxs-lookup"><span data-stu-id="3f022-129">Simple, secure, and high-scale operationalization and administration</span></span>

  <span data-ttu-id="3f022-130">Enterprises relying on traditional paradigms and environments invest much time and effort towards operationalization.</span><span class="sxs-lookup"><span data-stu-id="3f022-130">Enterprises relying on traditional paradigms and environments invest much time and effort towards operationalization.</span></span> <span data-ttu-id="3f022-131">This results in inflated costs and delays including the translation time for models, iterations to keep them valid and current, regulatory approval, and managing permissions through operationalization.</span><span class="sxs-lookup"><span data-stu-id="3f022-131">This results in inflated costs and delays including the translation time for models, iterations to keep them valid and current, regulatory approval, and managing permissions through operationalization.</span></span>

  <span data-ttu-id="3f022-132">ML Services offers enterprise grade [operationalization](https://docs.microsoft.com/machine-learning-server/what-is-operationalization), in that, after a machine learning model is completed, it takes just a few clicks to generate web services APIs.</span><span class="sxs-lookup"><span data-stu-id="3f022-132">ML Services offers enterprise grade [operationalization](https://docs.microsoft.com/machine-learning-server/what-is-operationalization), in that, after a machine learning model is completed, it takes just a few clicks to generate web services APIs.</span></span> <span data-ttu-id="3f022-133">These [web services](https://docs.microsoft.com/machine-learning-server/operationalize/concept-what-are-web-services) are hosted on a server grid in the cloud and can be integrated with line-of-business applications.</span><span class="sxs-lookup"><span data-stu-id="3f022-133">These [web services](https://docs.microsoft.com/machine-learning-server/operationalize/concept-what-are-web-services) are hosted on a server grid in the cloud and can be integrated with line-of-business applications.</span></span> <span data-ttu-id="3f022-134">The ability to deploy to an elastic grid lets you scale seamlessly with the needs of your business, both for batch and real-time scoring.</span><span class="sxs-lookup"><span data-stu-id="3f022-134">The ability to deploy to an elastic grid lets you scale seamlessly with the needs of your business, both for batch and real-time scoring.</span></span> <span data-ttu-id="3f022-135">For instructions, see [Operationalize ML Services on HDInsight](r-server-operationalize.md).</span><span class="sxs-lookup"><span data-stu-id="3f022-135">For instructions, see [Operationalize ML Services on HDInsight](r-server-operationalize.md).</span></span>

<!---
* **Deep ecosystem engagements to deliver customer success with optimal total cost of ownership**

  Individuals embarking on the journey of making their applications intelligent or simply wanting to learn the new world of AI and machine learning, need the right resources to help them get started. In addition to this documentation, Microsoft provides several learning resources and has engaged several training partners to help you ramp up and become productive quickly.
--->

## <a name="key-features-of-ml-services-on-hdinsight"></a><span data-ttu-id="3f022-136">Key features of ML Services on HDInsight</span><span class="sxs-lookup"><span data-stu-id="3f022-136">Key features of ML Services on HDInsight</span></span>

<span data-ttu-id="3f022-137">The following features are included in ML Services on HDInsight.</span><span class="sxs-lookup"><span data-stu-id="3f022-137">The following features are included in ML Services on HDInsight.</span></span>

| <span data-ttu-id="3f022-138">Feature category</span><span class="sxs-lookup"><span data-stu-id="3f022-138">Feature category</span></span> | <span data-ttu-id="3f022-139">Description</span><span class="sxs-lookup"><span data-stu-id="3f022-139">Description</span></span> |
|------------------|-------------|
| <span data-ttu-id="3f022-140">R-enabled</span><span class="sxs-lookup"><span data-stu-id="3f022-140">R-enabled</span></span> | <span data-ttu-id="3f022-141">[R packages](https://docs.microsoft.com/machine-learning-server/r-reference/introducing-r-server-r-package-reference) for solutions written in R, with an open source distribution of R, and run-time infrastructure for script execution.</span><span class="sxs-lookup"><span data-stu-id="3f022-141">[R packages](https://docs.microsoft.com/machine-learning-server/r-reference/introducing-r-server-r-package-reference) for solutions written in R, with an open source distribution of R, and run-time infrastructure for script execution.</span></span> |
| <span data-ttu-id="3f022-142">Python-enabled</span><span class="sxs-lookup"><span data-stu-id="3f022-142">Python-enabled</span></span> | <span data-ttu-id="3f022-143">[Python modules](https://docs.microsoft.com/machine-learning-server/python-reference/introducing-python-package-reference) for solutions written in Python, with an open source distribution of Python, and run-time infrastructure for script execution.</span><span class="sxs-lookup"><span data-stu-id="3f022-143">[Python modules](https://docs.microsoft.com/machine-learning-server/python-reference/introducing-python-package-reference) for solutions written in Python, with an open source distribution of Python, and run-time infrastructure for script execution.</span></span>
| [<span data-ttu-id="3f022-144">Pre-trained models</span><span class="sxs-lookup"><span data-stu-id="3f022-144">Pre-trained models</span></span>](https://docs.microsoft.com/machine-learning-server/install/microsoftml-install-pretrained-models) | <span data-ttu-id="3f022-145">For visual analysis and text sentiment analysis, ready to score data you provide.</span><span class="sxs-lookup"><span data-stu-id="3f022-145">For visual analysis and text sentiment analysis, ready to score data you provide.</span></span> |
| [<span data-ttu-id="3f022-146">Deploy and consume</span><span class="sxs-lookup"><span data-stu-id="3f022-146">Deploy and consume</span></span>](r-server-operationalize.md) | <span data-ttu-id="3f022-147">Operationalize your server and deploy solutions as a web service.</span><span class="sxs-lookup"><span data-stu-id="3f022-147">Operationalize your server and deploy solutions as a web service.</span></span> |
| [<span data-ttu-id="3f022-148">Remote execution</span><span class="sxs-lookup"><span data-stu-id="3f022-148">Remote execution</span></span>](r-server-hdinsight-manage.md#connect-remotely-to-microsoft-ml-services) | <span data-ttu-id="3f022-149">Start remote sessions on ML Services cluster on your network from your client workstation.</span><span class="sxs-lookup"><span data-stu-id="3f022-149">Start remote sessions on ML Services cluster on your network from your client workstation.</span></span> |


## <a name="data-storage-options-for-ml-services-on-hdinsight"></a><span data-ttu-id="3f022-150">Data storage options for ML Services on HDInsight</span><span class="sxs-lookup"><span data-stu-id="3f022-150">Data storage options for ML Services on HDInsight</span></span>

<span data-ttu-id="3f022-151">Default storage for the HDFS file system of HDInsight clusters can be associated with either an Azure Storage account or an Azure Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="3f022-151">Default storage for the HDFS file system of HDInsight clusters can be associated with either an Azure Storage account or an Azure Data Lake Store.</span></span> <span data-ttu-id="3f022-152">This association ensures that whatever data is uploaded to the cluster storage during analysis is made persistent and the data is available even after the cluster is deleted.</span><span class="sxs-lookup"><span data-stu-id="3f022-152">This association ensures that whatever data is uploaded to the cluster storage during analysis is made persistent and the data is available even after the cluster is deleted.</span></span> <span data-ttu-id="3f022-153">There are various tools for handling the data transfer to the storage option that you select, including the portal-based upload facility of the storage account and the [AzCopy](../../storage/common/storage-use-azcopy.md) utility.</span><span class="sxs-lookup"><span data-stu-id="3f022-153">There are various tools for handling the data transfer to the storage option that you select, including the portal-based upload facility of the storage account and the [AzCopy](../../storage/common/storage-use-azcopy.md) utility.</span></span>

<span data-ttu-id="3f022-154">You have the option of enabling access to additional Blob and Data lake stores during the cluster provisioning process regardless of the primary storage option in use.</span><span class="sxs-lookup"><span data-stu-id="3f022-154">You have the option of enabling access to additional Blob and Data lake stores during the cluster provisioning process regardless of the primary storage option in use.</span></span> <span data-ttu-id="3f022-155">See [Getting started with ML Services on HDInsight](https://docs.microsoft.com/azure/hdinsight/hdinsight-hadoop-r-server-get-started) for information on adding access to additional accounts.</span><span class="sxs-lookup"><span data-stu-id="3f022-155">See [Getting started with ML Services on HDInsight](https://docs.microsoft.com/azure/hdinsight/hdinsight-hadoop-r-server-get-started) for information on adding access to additional accounts.</span></span> <span data-ttu-id="3f022-156">See [Azure Storage options for ML Services on HDInsight](https://docs.microsoft.com/azure/hdinsight/hdinsight-hadoop-r-server-storage) article to learn more about using multiple storage accounts.</span><span class="sxs-lookup"><span data-stu-id="3f022-156">See [Azure Storage options for ML Services on HDInsight](https://docs.microsoft.com/azure/hdinsight/hdinsight-hadoop-r-server-storage) article to learn more about using multiple storage accounts.</span></span>

<span data-ttu-id="3f022-157">You can also use [Azure Files](../../storage/files/storage-how-to-use-files-linux.md) as a storage option for use on the edge node.</span><span class="sxs-lookup"><span data-stu-id="3f022-157">You can also use [Azure Files](../../storage/files/storage-how-to-use-files-linux.md) as a storage option for use on the edge node.</span></span> <span data-ttu-id="3f022-158">Azure Files enables you to mount a file share that was created in Azure Storage to the Linux file system.</span><span class="sxs-lookup"><span data-stu-id="3f022-158">Azure Files enables you to mount a file share that was created in Azure Storage to the Linux file system.</span></span> <span data-ttu-id="3f022-159">For more information about these data storage options for ML Services on HDInsight cluster, see [Azure Storage options for ML Services on HDInsight](r-server-storage.md).</span><span class="sxs-lookup"><span data-stu-id="3f022-159">For more information about these data storage options for ML Services on HDInsight cluster, see [Azure Storage options for ML Services on HDInsight](r-server-storage.md).</span></span>

## <a name="access-ml-services-edge-node"></a><span data-ttu-id="3f022-160">Access ML Services edge node</span><span class="sxs-lookup"><span data-stu-id="3f022-160">Access ML Services edge node</span></span>

<span data-ttu-id="3f022-161">You can connect to Microsoft ML Server on the edge node using a browser.</span><span class="sxs-lookup"><span data-stu-id="3f022-161">You can connect to Microsoft ML Server on the edge node using a browser.</span></span> <span data-ttu-id="3f022-162">It is installed by default during cluster creation.</span><span class="sxs-lookup"><span data-stu-id="3f022-162">It is installed by default during cluster creation.</span></span> <span data-ttu-id="3f022-163">For more information, see [Get stared with ML Services on HDInsight](r-server-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="3f022-163">For more information, see [Get stared with ML Services on HDInsight](r-server-get-started.md).</span></span> <span data-ttu-id="3f022-164">You can also connect to the cluster edge node from the command line by using SSH/PuTTY to access the R console.</span><span class="sxs-lookup"><span data-stu-id="3f022-164">You can also connect to the cluster edge node from the command line by using SSH/PuTTY to access the R console.</span></span>

## <a name="develop-and-run-r-scripts"></a><span data-ttu-id="3f022-165">Develop and run R scripts</span><span class="sxs-lookup"><span data-stu-id="3f022-165">Develop and run R scripts</span></span>

<span data-ttu-id="3f022-166">The R scripts you create and run can use any of the 8000+ open-source R packages in addition to the parallelized and distributed routines available in the ScaleR library.</span><span class="sxs-lookup"><span data-stu-id="3f022-166">The R scripts you create and run can use any of the 8000+ open-source R packages in addition to the parallelized and distributed routines available in the ScaleR library.</span></span> <span data-ttu-id="3f022-167">In general, a script that is run with ML Services on the edge node runs within the R interpreter on that node.</span><span class="sxs-lookup"><span data-stu-id="3f022-167">In general, a script that is run with ML Services on the edge node runs within the R interpreter on that node.</span></span> <span data-ttu-id="3f022-168">The exceptions are those steps that need to call a ScaleR function with a compute context that is set to Hadoop Map Reduce (RxHadoopMR) or Spark (RxSpark).</span><span class="sxs-lookup"><span data-stu-id="3f022-168">The exceptions are those steps that need to call a ScaleR function with a compute context that is set to Hadoop Map Reduce (RxHadoopMR) or Spark (RxSpark).</span></span> <span data-ttu-id="3f022-169">In this case, the function runs in a distributed fashion across those data (task) nodes of the cluster that are associated with the data referenced.</span><span class="sxs-lookup"><span data-stu-id="3f022-169">In this case, the function runs in a distributed fashion across those data (task) nodes of the cluster that are associated with the data referenced.</span></span> <span data-ttu-id="3f022-170">For more information about the different compute context options, see [Compute context options for ML Services on HDInsight](r-server-compute-contexts.md).</span><span class="sxs-lookup"><span data-stu-id="3f022-170">For more information about the different compute context options, see [Compute context options for ML Services on HDInsight](r-server-compute-contexts.md).</span></span>

## <a name="operationalize-a-model"></a><span data-ttu-id="3f022-171">Operationalize a model</span><span class="sxs-lookup"><span data-stu-id="3f022-171">Operationalize a model</span></span>

<span data-ttu-id="3f022-172">When your data modeling is complete, you can operationalize the model to make predictions for new data either from Azure or on-premises.</span><span class="sxs-lookup"><span data-stu-id="3f022-172">When your data modeling is complete, you can operationalize the model to make predictions for new data either from Azure or on-premises.</span></span> <span data-ttu-id="3f022-173">This process is known as scoring.</span><span class="sxs-lookup"><span data-stu-id="3f022-173">This process is known as scoring.</span></span> <span data-ttu-id="3f022-174">Scoring can be done in HDInsight, Azure Machine Learning, or on-premises.</span><span class="sxs-lookup"><span data-stu-id="3f022-174">Scoring can be done in HDInsight, Azure Machine Learning, or on-premises.</span></span>

### <a name="score-in-hdinsight"></a><span data-ttu-id="3f022-175">Score in HDInsight</span><span class="sxs-lookup"><span data-stu-id="3f022-175">Score in HDInsight</span></span>

<span data-ttu-id="3f022-176">To score in HDInsight, write an R function that calls your model to make predictions for a new data file that you've loaded to your storage account.</span><span class="sxs-lookup"><span data-stu-id="3f022-176">To score in HDInsight, write an R function that calls your model to make predictions for a new data file that you've loaded to your storage account.</span></span> <span data-ttu-id="3f022-177">Then, save the predictions back to the storage account.</span><span class="sxs-lookup"><span data-stu-id="3f022-177">Then, save the predictions back to the storage account.</span></span> <span data-ttu-id="3f022-178">You can run this routine on-demand on the edge node of your cluster or by using a scheduled job.</span><span class="sxs-lookup"><span data-stu-id="3f022-178">You can run this routine on-demand on the edge node of your cluster or by using a scheduled job.</span></span>

### <a name="score-in-azure-machine-learning-aml"></a><span data-ttu-id="3f022-179">Score in Azure Machine Learning (AML)</span><span class="sxs-lookup"><span data-stu-id="3f022-179">Score in Azure Machine Learning (AML)</span></span>

<span data-ttu-id="3f022-180">To score using Azure Machine Learning, use the open-source Azure Machine Learning R package known as [AzureML](https://cran.r-project.org/web/packages/AzureML/vignettes/getting_started.html) to publish your model as an Azure web service.</span><span class="sxs-lookup"><span data-stu-id="3f022-180">To score using Azure Machine Learning, use the open-source Azure Machine Learning R package known as [AzureML](https://cran.r-project.org/web/packages/AzureML/vignettes/getting_started.html) to publish your model as an Azure web service.</span></span> <span data-ttu-id="3f022-181">For convenience, this package is pre-installed on the edge node.</span><span class="sxs-lookup"><span data-stu-id="3f022-181">For convenience, this package is pre-installed on the edge node.</span></span> <span data-ttu-id="3f022-182">Next, use the facilities in Azure Machine Learning to create a user interface for the web service, and then call the web service as needed for scoring.</span><span class="sxs-lookup"><span data-stu-id="3f022-182">Next, use the facilities in Azure Machine Learning to create a user interface for the web service, and then call the web service as needed for scoring.</span></span>

<span data-ttu-id="3f022-183">If you choose this option, you must convert any ScaleR model objects to equivalent open-source model objects for use with the web service.</span><span class="sxs-lookup"><span data-stu-id="3f022-183">If you choose this option, you must convert any ScaleR model objects to equivalent open-source model objects for use with the web service.</span></span> <span data-ttu-id="3f022-184">Use ScaleR coercion functions, such as `as.randomForest()` for ensemble-based models, for this conversion.</span><span class="sxs-lookup"><span data-stu-id="3f022-184">Use ScaleR coercion functions, such as `as.randomForest()` for ensemble-based models, for this conversion.</span></span>

### <a name="score-on-premises"></a><span data-ttu-id="3f022-185">Score on-premises</span><span class="sxs-lookup"><span data-stu-id="3f022-185">Score on-premises</span></span>

<span data-ttu-id="3f022-186">To score on-premises after creating your model, you can serialize the model in R, download it, de-serialize it, and then use it for scoring new data.</span><span class="sxs-lookup"><span data-stu-id="3f022-186">To score on-premises after creating your model, you can serialize the model in R, download it, de-serialize it, and then use it for scoring new data.</span></span> <span data-ttu-id="3f022-187">You can score new data by using the approach described earlier in [Scoring in HDInsight](#scoring-in-hdinsight) or by using [web services](https://docs.microsoft.com/machine-learning-server/operationalize/concept-what-are-web-services).</span><span class="sxs-lookup"><span data-stu-id="3f022-187">You can score new data by using the approach described earlier in [Scoring in HDInsight](#scoring-in-hdinsight) or by using [web services](https://docs.microsoft.com/machine-learning-server/operationalize/concept-what-are-web-services).</span></span>

## <a name="maintain-the-cluster"></a><span data-ttu-id="3f022-188">Maintain the cluster</span><span class="sxs-lookup"><span data-stu-id="3f022-188">Maintain the cluster</span></span>

### <a name="install-and-maintain-r-packages"></a><span data-ttu-id="3f022-189">Install and maintain R packages</span><span class="sxs-lookup"><span data-stu-id="3f022-189">Install and maintain R packages</span></span>

<span data-ttu-id="3f022-190">Most of the R packages that you use are required on the edge node since most steps of your R scripts run there.</span><span class="sxs-lookup"><span data-stu-id="3f022-190">Most of the R packages that you use are required on the edge node since most steps of your R scripts run there.</span></span> <span data-ttu-id="3f022-191">To install additional R packages on the edge node, you can use the `install.packages()` method in R.</span><span class="sxs-lookup"><span data-stu-id="3f022-191">To install additional R packages on the edge node, you can use the `install.packages()` method in R.</span></span>

<span data-ttu-id="3f022-192">If you are just using routines from the ScaleR library across the cluster, you do not usually need to install additional R packages on the data nodes.</span><span class="sxs-lookup"><span data-stu-id="3f022-192">If you are just using routines from the ScaleR library across the cluster, you do not usually need to install additional R packages on the data nodes.</span></span> <span data-ttu-id="3f022-193">However, you might need additional packages to support the use of **rxExec** or **RxDataStep** execution on the data nodes.</span><span class="sxs-lookup"><span data-stu-id="3f022-193">However, you might need additional packages to support the use of **rxExec** or **RxDataStep** execution on the data nodes.</span></span>

<span data-ttu-id="3f022-194">In such cases, the additional packages can be installed with a script action after you create the cluster.</span><span class="sxs-lookup"><span data-stu-id="3f022-194">In such cases, the additional packages can be installed with a script action after you create the cluster.</span></span> <span data-ttu-id="3f022-195">For more information, see [Manage ML Services in HDInsight cluster](r-server-hdinsight-manage.md).</span><span class="sxs-lookup"><span data-stu-id="3f022-195">For more information, see [Manage ML Services in HDInsight cluster](r-server-hdinsight-manage.md).</span></span>

### <a name="change-hadoop-mapreduce-memory-settings"></a><span data-ttu-id="3f022-196">Change Hadoop MapReduce memory settings</span><span class="sxs-lookup"><span data-stu-id="3f022-196">Change Hadoop MapReduce memory settings</span></span>

<span data-ttu-id="3f022-197">A cluster can be modified to change the amount of memory that is available to ML Services when it is running a MapReduce job.</span><span class="sxs-lookup"><span data-stu-id="3f022-197">A cluster can be modified to change the amount of memory that is available to ML Services when it is running a MapReduce job.</span></span> <span data-ttu-id="3f022-198">To modify a cluster, use the Apache Ambari UI that's available through the Azure portal blade for your cluster.</span><span class="sxs-lookup"><span data-stu-id="3f022-198">To modify a cluster, use the Apache Ambari UI that's available through the Azure portal blade for your cluster.</span></span> <span data-ttu-id="3f022-199">For instructions about how to access the Ambari UI for your cluster, see [Manage HDInsight clusters using the Ambari Web UI](../hdinsight-hadoop-manage-ambari.md).</span><span class="sxs-lookup"><span data-stu-id="3f022-199">For instructions about how to access the Ambari UI for your cluster, see [Manage HDInsight clusters using the Ambari Web UI](../hdinsight-hadoop-manage-ambari.md).</span></span>

<span data-ttu-id="3f022-200">It is also possible to change the amount of memory that is available to ML Services by using Hadoop switches in the call to **RxHadoopMR** as follows:</span><span class="sxs-lookup"><span data-stu-id="3f022-200">It is also possible to change the amount of memory that is available to ML Services by using Hadoop switches in the call to **RxHadoopMR** as follows:</span></span>

    hadoopSwitches = "-libjars /etc/hadoop/conf -Dmapred.job.map.memory.mb=6656"  

### <a name="scale-your-cluster"></a><span data-ttu-id="3f022-201">Scale your cluster</span><span class="sxs-lookup"><span data-stu-id="3f022-201">Scale your cluster</span></span>

<span data-ttu-id="3f022-202">An existing ML Services cluster on HDInsight can be scaled up or down through the portal.</span><span class="sxs-lookup"><span data-stu-id="3f022-202">An existing ML Services cluster on HDInsight can be scaled up or down through the portal.</span></span> <span data-ttu-id="3f022-203">By scaling up, you can gain the additional capacity that you might need for larger processing tasks, or you can scale back a cluster when it is idle.</span><span class="sxs-lookup"><span data-stu-id="3f022-203">By scaling up, you can gain the additional capacity that you might need for larger processing tasks, or you can scale back a cluster when it is idle.</span></span> <span data-ttu-id="3f022-204">For instructions about how to scale a cluster, see [Manage HDInsight clusters](../hdinsight-administer-use-portal-linux.md).</span><span class="sxs-lookup"><span data-stu-id="3f022-204">For instructions about how to scale a cluster, see [Manage HDInsight clusters](../hdinsight-administer-use-portal-linux.md).</span></span>

### <a name="maintain-the-system"></a><span data-ttu-id="3f022-205">Maintain the system</span><span class="sxs-lookup"><span data-stu-id="3f022-205">Maintain the system</span></span>

<span data-ttu-id="3f022-206">Maintenance to apply OS patches and other updates is performed on the underlying Linux VMs in an HDInsight cluster during off-hours.</span><span class="sxs-lookup"><span data-stu-id="3f022-206">Maintenance to apply OS patches and other updates is performed on the underlying Linux VMs in an HDInsight cluster during off-hours.</span></span> <span data-ttu-id="3f022-207">Typically, maintenance is done at 3:30 AM (based on the local time for the VM) every Monday and Thursday.</span><span class="sxs-lookup"><span data-stu-id="3f022-207">Typically, maintenance is done at 3:30 AM (based on the local time for the VM) every Monday and Thursday.</span></span> <span data-ttu-id="3f022-208">Updates are performed in such a way that they don't impact more than a quarter of the cluster at a time.</span><span class="sxs-lookup"><span data-stu-id="3f022-208">Updates are performed in such a way that they don't impact more than a quarter of the cluster at a time.</span></span>

<span data-ttu-id="3f022-209">Since the head nodes are redundant and not all data nodes are impacted, any jobs that are running during this time might slow down.</span><span class="sxs-lookup"><span data-stu-id="3f022-209">Since the head nodes are redundant and not all data nodes are impacted, any jobs that are running during this time might slow down.</span></span> <span data-ttu-id="3f022-210">However, they should still run to completion.</span><span class="sxs-lookup"><span data-stu-id="3f022-210">However, they should still run to completion.</span></span> <span data-ttu-id="3f022-211">Any custom software or local data that you have is preserved across these maintenance events unless a catastrophic failure occurs that requires a cluster rebuild.</span><span class="sxs-lookup"><span data-stu-id="3f022-211">Any custom software or local data that you have is preserved across these maintenance events unless a catastrophic failure occurs that requires a cluster rebuild.</span></span>

## <a name="ide-options-for-ml-services-on-hdinsight"></a><span data-ttu-id="3f022-212">IDE options for ML Services on HDInsight</span><span class="sxs-lookup"><span data-stu-id="3f022-212">IDE options for ML Services on HDInsight</span></span>

<span data-ttu-id="3f022-213">The Linux edge node of an HDInsight cluster is the landing zone for R-based analysis.</span><span class="sxs-lookup"><span data-stu-id="3f022-213">The Linux edge node of an HDInsight cluster is the landing zone for R-based analysis.</span></span> <span data-ttu-id="3f022-214">Recent versions of HDInsight provide a default installation of RStudio Server on the edge node as a browser-based IDE.</span><span class="sxs-lookup"><span data-stu-id="3f022-214">Recent versions of HDInsight provide a default installation of RStudio Server on the edge node as a browser-based IDE.</span></span> <span data-ttu-id="3f022-215">Use of RStudio Server as an IDE for the development and execution of R scripts can be considerably more productive than just using the R console.</span><span class="sxs-lookup"><span data-stu-id="3f022-215">Use of RStudio Server as an IDE for the development and execution of R scripts can be considerably more productive than just using the R console.</span></span>

<span data-ttu-id="3f022-216">Additionally, you can install a desktop IDE and use it to access the cluster through use of a remote MapReduce or Spark compute context.</span><span class="sxs-lookup"><span data-stu-id="3f022-216">Additionally, you can install a desktop IDE and use it to access the cluster through use of a remote MapReduce or Spark compute context.</span></span> <span data-ttu-id="3f022-217">Options include Microsoft’s [R Tools for Visual Studio](https://www.visualstudio.com/features/rtvs-vs.aspx) (RTVS), RStudio, and Walware’s Eclipse-based [StatET](http://www.walware.de/goto/statet).</span><span class="sxs-lookup"><span data-stu-id="3f022-217">Options include Microsoft’s [R Tools for Visual Studio](https://www.visualstudio.com/features/rtvs-vs.aspx) (RTVS), RStudio, and Walware’s Eclipse-based [StatET](http://www.walware.de/goto/statet).</span></span>

<span data-ttu-id="3f022-218">Additionally, you can access the R console on the edge node by typing **R** at the Linux command prompt after connecting via SSH or PuTTY.</span><span class="sxs-lookup"><span data-stu-id="3f022-218">Additionally, you can access the R console on the edge node by typing **R** at the Linux command prompt after connecting via SSH or PuTTY.</span></span> <span data-ttu-id="3f022-219">When using the console interface, it is convenient to run a text editor for R script development in another window, and cut and paste sections of your script into the R console as needed.</span><span class="sxs-lookup"><span data-stu-id="3f022-219">When using the console interface, it is convenient to run a text editor for R script development in another window, and cut and paste sections of your script into the R console as needed.</span></span>

## <a name="pricing"></a><span data-ttu-id="3f022-220">Pricing</span><span class="sxs-lookup"><span data-stu-id="3f022-220">Pricing</span></span>

<span data-ttu-id="3f022-221">The prices that are associated with an ML Services HDInsight cluster are structured similarly to the prices for other HDInsight cluster types.</span><span class="sxs-lookup"><span data-stu-id="3f022-221">The prices that are associated with an ML Services HDInsight cluster are structured similarly to the prices for other HDInsight cluster types.</span></span> <span data-ttu-id="3f022-222">They are based on the sizing of the underlying VMs across the name, data, and edge nodes, with the addition of a core-hour uplift.</span><span class="sxs-lookup"><span data-stu-id="3f022-222">They are based on the sizing of the underlying VMs across the name, data, and edge nodes, with the addition of a core-hour uplift.</span></span> <span data-ttu-id="3f022-223">For more information, see [HDInsight pricing](https://azure.microsoft.com/pricing/details/hdinsight/).</span><span class="sxs-lookup"><span data-stu-id="3f022-223">For more information, see [HDInsight pricing](https://azure.microsoft.com/pricing/details/hdinsight/).</span></span>

## <a name="next-steps"></a><span data-ttu-id="3f022-224">Next steps</span><span class="sxs-lookup"><span data-stu-id="3f022-224">Next steps</span></span>

<span data-ttu-id="3f022-225">To learn more about how to use ML Services on HDInsight clusters, see the following topics:</span><span class="sxs-lookup"><span data-stu-id="3f022-225">To learn more about how to use ML Services on HDInsight clusters, see the following topics:</span></span>

* [<span data-ttu-id="3f022-226">Get started with ML Serices cluster on HDInsight</span><span class="sxs-lookup"><span data-stu-id="3f022-226">Get started with ML Serices cluster on HDInsight</span></span>](r-server-get-started.md)
* [<span data-ttu-id="3f022-227">Compute context options for ML Services cluster on HDInsight</span><span class="sxs-lookup"><span data-stu-id="3f022-227">Compute context options for ML Services cluster on HDInsight</span></span>](r-server-compute-contexts.md)
* [<span data-ttu-id="3f022-228">Storage options for ML Services cluster on HDInsight</span><span class="sxs-lookup"><span data-stu-id="3f022-228">Storage options for ML Services cluster on HDInsight</span></span>](r-server-storage.md)
