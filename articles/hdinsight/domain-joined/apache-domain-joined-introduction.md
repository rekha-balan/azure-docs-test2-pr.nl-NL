---
title: An introduction to Hadoop security with domain-joined Azure HDInsight clusters
description: Learn how domain-joined Azure HDInsight clusters support the four pillars of enterprise security.
services: hdinsight
ms.service: hdinsight
author: omidm1
ms.author: omidm
ms.reviewer: jasonh
ms.custom: hdinsightactive
ms.topic: conceptual
ms.date: 06/26/2018
ms.openlocfilehash: c13fd979562cc89831d031c5050fe9dbb184267b
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44866751"
---
# <a name="an-introduction-to-hadoop-security-with-domain-joined-hdinsight-clusters"></a><span data-ttu-id="8578a-103">An introduction to Hadoop security with domain-joined HDInsight clusters</span><span class="sxs-lookup"><span data-stu-id="8578a-103">An introduction to Hadoop security with domain-joined HDInsight clusters</span></span>

<span data-ttu-id="8578a-104">In the past, Azure HDInsight supported only a single user: local admin. This worked great for smaller application teams or departments.</span><span class="sxs-lookup"><span data-stu-id="8578a-104">In the past, Azure HDInsight supported only a single user: local admin. This worked great for smaller application teams or departments.</span></span> <span data-ttu-id="8578a-105">As Hadoop-based workloads gained more popularity in the enterprise sector, the need for enterprise-grade capabilities like Active Directory-based authentication, multiuser support, and role-based access control became increasingly important.</span><span class="sxs-lookup"><span data-stu-id="8578a-105">As Hadoop-based workloads gained more popularity in the enterprise sector, the need for enterprise-grade capabilities like Active Directory-based authentication, multiuser support, and role-based access control became increasingly important.</span></span> 

<span data-ttu-id="8578a-106">You can create an HDInsight cluster that's joined to an Active Directory domain.</span><span class="sxs-lookup"><span data-stu-id="8578a-106">You can create an HDInsight cluster that's joined to an Active Directory domain.</span></span> <span data-ttu-id="8578a-107">You can then configure a list of employees from the enterprise who can authenticate through Azure Active Directory to log on to the HDInsight cluster.</span><span class="sxs-lookup"><span data-stu-id="8578a-107">You can then configure a list of employees from the enterprise who can authenticate through Azure Active Directory to log on to the HDInsight cluster.</span></span> <span data-ttu-id="8578a-108">Anyone outside the enterprise can't log on or access the HDInsight cluster.</span><span class="sxs-lookup"><span data-stu-id="8578a-108">Anyone outside the enterprise can't log on or access the HDInsight cluster.</span></span> 

<span data-ttu-id="8578a-109">The enterprise admin can configure role-based access control (RBAC) for Hive security by using [Apache Ranger](http://hortonworks.com/apache/ranger/).</span><span class="sxs-lookup"><span data-stu-id="8578a-109">The enterprise admin can configure role-based access control (RBAC) for Hive security by using [Apache Ranger](http://hortonworks.com/apache/ranger/).</span></span> <span data-ttu-id="8578a-110">Configuring RBAC restricts data access to only what's needed.</span><span class="sxs-lookup"><span data-stu-id="8578a-110">Configuring RBAC restricts data access to only what's needed.</span></span> <span data-ttu-id="8578a-111">Finally, the admin can audit the data access by employees and any changes done to access control policies.</span><span class="sxs-lookup"><span data-stu-id="8578a-111">Finally, the admin can audit the data access by employees and any changes done to access control policies.</span></span> <span data-ttu-id="8578a-112">The admin can then achieve a high degree of governance of their corporate resources.</span><span class="sxs-lookup"><span data-stu-id="8578a-112">The admin can then achieve a high degree of governance of their corporate resources.</span></span>

> [!NOTE]
> <span data-ttu-id="8578a-113">The new features described in this article are available in preview only on the following cluster types: Hadoop, Spark, and Interactive Query.</span><span class="sxs-lookup"><span data-stu-id="8578a-113">The new features described in this article are available in preview only on the following cluster types: Hadoop, Spark, and Interactive Query.</span></span> <span data-ttu-id="8578a-114">Oozie is now enabled on domain-joined clusters.</span><span class="sxs-lookup"><span data-stu-id="8578a-114">Oozie is now enabled on domain-joined clusters.</span></span> <span data-ttu-id="8578a-115">To access the Oozie web UI, users should enable [tunneling](../hdinsight-linux-ambari-ssh-tunnel.md).</span><span class="sxs-lookup"><span data-stu-id="8578a-115">To access the Oozie web UI, users should enable [tunneling](../hdinsight-linux-ambari-ssh-tunnel.md).</span></span>

<span data-ttu-id="8578a-116">Enterprise security contains four major pillars: perimeter security, authentication, authorization, and encryption.</span><span class="sxs-lookup"><span data-stu-id="8578a-116">Enterprise security contains four major pillars: perimeter security, authentication, authorization, and encryption.</span></span>

![Benefits of domain-joined HDInsight clusters in the four pillars of enterprise security](./media/apache-domain-joined-introduction/hdinsight-domain-joined-four-pillars.png)<span data-ttu-id="8578a-118">.</span><span class="sxs-lookup"><span data-stu-id="8578a-118">.</span></span>

## <a name="perimeter-security"></a><span data-ttu-id="8578a-119">Perimeter security</span><span class="sxs-lookup"><span data-stu-id="8578a-119">Perimeter security</span></span>
<span data-ttu-id="8578a-120">Perimeter security in HDInsight is achieved through virtual networks and the Azure VPN Gateway service.</span><span class="sxs-lookup"><span data-stu-id="8578a-120">Perimeter security in HDInsight is achieved through virtual networks and the Azure VPN Gateway service.</span></span> <span data-ttu-id="8578a-121">An enterprise admin can create an HDInsight cluster inside a virtual network and use network security groups (firewall rules) to restrict access to the virtual network.</span><span class="sxs-lookup"><span data-stu-id="8578a-121">An enterprise admin can create an HDInsight cluster inside a virtual network and use network security groups (firewall rules) to restrict access to the virtual network.</span></span> <span data-ttu-id="8578a-122">Only the IP addresses defined in the inbound firewall rules will be able to communicate with the HDInsight cluster.</span><span class="sxs-lookup"><span data-stu-id="8578a-122">Only the IP addresses defined in the inbound firewall rules will be able to communicate with the HDInsight cluster.</span></span> <span data-ttu-id="8578a-123">This configuration provides perimeter security.</span><span class="sxs-lookup"><span data-stu-id="8578a-123">This configuration provides perimeter security.</span></span>

<span data-ttu-id="8578a-124">Another layer of perimeter security is achieved through the VPN Gateway service.</span><span class="sxs-lookup"><span data-stu-id="8578a-124">Another layer of perimeter security is achieved through the VPN Gateway service.</span></span> <span data-ttu-id="8578a-125">The gateway acts as first line of defense for any incoming request to the HDInsight cluster.</span><span class="sxs-lookup"><span data-stu-id="8578a-125">The gateway acts as first line of defense for any incoming request to the HDInsight cluster.</span></span> <span data-ttu-id="8578a-126">It accepts the request, validates it, and only then allows the request to pass to the other nodes in cluster.</span><span class="sxs-lookup"><span data-stu-id="8578a-126">It accepts the request, validates it, and only then allows the request to pass to the other nodes in cluster.</span></span> <span data-ttu-id="8578a-127">In this way, the gateway provides perimeter security to other name and data nodes in the cluster.</span><span class="sxs-lookup"><span data-stu-id="8578a-127">In this way, the gateway provides perimeter security to other name and data nodes in the cluster.</span></span>

## <a name="authentication"></a><span data-ttu-id="8578a-128">Authentication</span><span class="sxs-lookup"><span data-stu-id="8578a-128">Authentication</span></span>
<span data-ttu-id="8578a-129">An enterprise admin can create a domain-joined HDInsight cluster in a [virtual network](https://azure.microsoft.com/services/virtual-network/).</span><span class="sxs-lookup"><span data-stu-id="8578a-129">An enterprise admin can create a domain-joined HDInsight cluster in a [virtual network](https://azure.microsoft.com/services/virtual-network/).</span></span> <span data-ttu-id="8578a-130">All the nodes of the HDInsight cluster are joined to the domain that the enterprise manages.</span><span class="sxs-lookup"><span data-stu-id="8578a-130">All the nodes of the HDInsight cluster are joined to the domain that the enterprise manages.</span></span> <span data-ttu-id="8578a-131">This is achieved through the use of [Azure Active Directory Domain Services](../../active-directory-domain-services/active-directory-ds-overview.md).</span><span class="sxs-lookup"><span data-stu-id="8578a-131">This is achieved through the use of [Azure Active Directory Domain Services](../../active-directory-domain-services/active-directory-ds-overview.md).</span></span> 

<span data-ttu-id="8578a-132">With this setup, enterprise employees can log on to the cluster nodes by using their domain credentials.</span><span class="sxs-lookup"><span data-stu-id="8578a-132">With this setup, enterprise employees can log on to the cluster nodes by using their domain credentials.</span></span> <span data-ttu-id="8578a-133">They can also use their domain credentials to authenticate with other approved endpoints like Ambari Views, ODBC, JDBC, PowerShell, and REST APIs to interact with the cluster.</span><span class="sxs-lookup"><span data-stu-id="8578a-133">They can also use their domain credentials to authenticate with other approved endpoints like Ambari Views, ODBC, JDBC, PowerShell, and REST APIs to interact with the cluster.</span></span> <span data-ttu-id="8578a-134">The admin has full control over limiting the number of users who interact with the cluster via these endpoints.</span><span class="sxs-lookup"><span data-stu-id="8578a-134">The admin has full control over limiting the number of users who interact with the cluster via these endpoints.</span></span>

## <a name="authorization"></a><span data-ttu-id="8578a-135">Authorization</span><span class="sxs-lookup"><span data-stu-id="8578a-135">Authorization</span></span>
<span data-ttu-id="8578a-136">A best practice that most enterprises follow is making sure that not every employee has access to all enterprise resources.</span><span class="sxs-lookup"><span data-stu-id="8578a-136">A best practice that most enterprises follow is making sure that not every employee has access to all enterprise resources.</span></span> <span data-ttu-id="8578a-137">Likewise, the admin can define role-based access control policies for the cluster resources.</span><span class="sxs-lookup"><span data-stu-id="8578a-137">Likewise, the admin can define role-based access control policies for the cluster resources.</span></span> 

<span data-ttu-id="8578a-138">For example, the admin can configure [Apache Ranger](http://hortonworks.com/apache/ranger/) to set access control policies for Hive.</span><span class="sxs-lookup"><span data-stu-id="8578a-138">For example, the admin can configure [Apache Ranger](http://hortonworks.com/apache/ranger/) to set access control policies for Hive.</span></span> <span data-ttu-id="8578a-139">This functionality ensures that employees can access only as much data as they need to be successful in their jobs.</span><span class="sxs-lookup"><span data-stu-id="8578a-139">This functionality ensures that employees can access only as much data as they need to be successful in their jobs.</span></span> <span data-ttu-id="8578a-140">SSH access to the cluster is also restricted to only the administrator.</span><span class="sxs-lookup"><span data-stu-id="8578a-140">SSH access to the cluster is also restricted to only the administrator.</span></span>

## <a name="auditing"></a><span data-ttu-id="8578a-141">Auditing</span><span class="sxs-lookup"><span data-stu-id="8578a-141">Auditing</span></span>
<span data-ttu-id="8578a-142">Auditing of all access to the cluster resources, and the data, is necessary to track unauthorized or unintentional access of the resources.</span><span class="sxs-lookup"><span data-stu-id="8578a-142">Auditing of all access to the cluster resources, and the data, is necessary to track unauthorized or unintentional access of the resources.</span></span> <span data-ttu-id="8578a-143">It's as important as protecting the HDInsight cluster resources from unauthorized users and securing the data.</span><span class="sxs-lookup"><span data-stu-id="8578a-143">It's as important as protecting the HDInsight cluster resources from unauthorized users and securing the data.</span></span> 

<span data-ttu-id="8578a-144">The admin can view and report all access to the HDInsight cluster resources and data.</span><span class="sxs-lookup"><span data-stu-id="8578a-144">The admin can view and report all access to the HDInsight cluster resources and data.</span></span> <span data-ttu-id="8578a-145">The admin can also view and report all changes to the access control policies created in Apache Ranger supported endpoints.</span><span class="sxs-lookup"><span data-stu-id="8578a-145">The admin can also view and report all changes to the access control policies created in Apache Ranger supported endpoints.</span></span> 

<span data-ttu-id="8578a-146">A domain-joined HDInsight cluster uses the familiar Apache Ranger UI to search audit logs.</span><span class="sxs-lookup"><span data-stu-id="8578a-146">A domain-joined HDInsight cluster uses the familiar Apache Ranger UI to search audit logs.</span></span> <span data-ttu-id="8578a-147">On the back end, Ranger uses [Apache Solr](http://hortonworks.com/apache/solr/) for storing and searching the logs.</span><span class="sxs-lookup"><span data-stu-id="8578a-147">On the back end, Ranger uses [Apache Solr](http://hortonworks.com/apache/solr/) for storing and searching the logs.</span></span>

## <a name="encryption"></a><span data-ttu-id="8578a-148">Encryption</span><span class="sxs-lookup"><span data-stu-id="8578a-148">Encryption</span></span>
<span data-ttu-id="8578a-149">Protecting data is important for meeting organizational security and compliance requirements.</span><span class="sxs-lookup"><span data-stu-id="8578a-149">Protecting data is important for meeting organizational security and compliance requirements.</span></span> <span data-ttu-id="8578a-150">Along with restricting access to data from unauthorized employees, you should encrypt it.</span><span class="sxs-lookup"><span data-stu-id="8578a-150">Along with restricting access to data from unauthorized employees, you should encrypt it.</span></span> 

<span data-ttu-id="8578a-151">Both data stores for HDInsight clusters--Azure Blob storage and Azure Data Lake Storage Gen1--support transparent server-side [encryption of data](../../storage/common/storage-service-encryption.md) at rest.</span><span class="sxs-lookup"><span data-stu-id="8578a-151">Both data stores for HDInsight clusters--Azure Blob storage and Azure Data Lake Storage Gen1--support transparent server-side [encryption of data](../../storage/common/storage-service-encryption.md) at rest.</span></span> <span data-ttu-id="8578a-152">Secure HDInsight clusters will seamlessly work with this capability of server-side encryption of data at rest.</span><span class="sxs-lookup"><span data-stu-id="8578a-152">Secure HDInsight clusters will seamlessly work with this capability of server-side encryption of data at rest.</span></span>

## <a name="next-steps"></a><span data-ttu-id="8578a-153">Next steps</span><span class="sxs-lookup"><span data-stu-id="8578a-153">Next steps</span></span>
* [<span data-ttu-id="8578a-154">Plan for domain-joined HDInsight clusters</span><span class="sxs-lookup"><span data-stu-id="8578a-154">Plan for domain-joined HDInsight clusters</span></span>](apache-domain-joined-architecture.md)
* [<span data-ttu-id="8578a-155">Configure domain-joined HDInsight clusters</span><span class="sxs-lookup"><span data-stu-id="8578a-155">Configure domain-joined HDInsight clusters</span></span>](apache-domain-joined-configure.md)
* [<span data-ttu-id="8578a-156">Manage domain-joined HDInsight clusters</span><span class="sxs-lookup"><span data-stu-id="8578a-156">Manage domain-joined HDInsight clusters</span></span>](apache-domain-joined-manage.md)
* [<span data-ttu-id="8578a-157">Configure Hive policies for domain-joined HDInsight clusters</span><span class="sxs-lookup"><span data-stu-id="8578a-157">Configure Hive policies for domain-joined HDInsight clusters</span></span>](apache-domain-joined-run-hive.md)
* [<span data-ttu-id="8578a-158">Use SSH with HDInsight</span><span class="sxs-lookup"><span data-stu-id="8578a-158">Use SSH with HDInsight</span></span>](../hdinsight-hadoop-linux-use-ssh-unix.md#domainjoined)

