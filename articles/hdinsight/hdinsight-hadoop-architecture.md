---
title: Hadoop architecture - Azure HDInsight
description: Describes Hadoop storage and processing on HDInsight clusters.
services: hdinsight
author: ashishthaps
ms.author: ashishth
ms.reviewer: jasonh
ms.service: hdinsight
ms.custom: hdinsightactive
ms.topic: conceptual
ms.date: 01/19/2018
ms.openlocfilehash: f22cb6a56e0ef81e3d7799b38e33113f8b175457
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44855603"
---
# <a name="hadoop-architecture-in-hdinsight"></a><span data-ttu-id="ae929-103">Hadoop architecture in HDInsight</span><span class="sxs-lookup"><span data-stu-id="ae929-103">Hadoop architecture in HDInsight</span></span>

<span data-ttu-id="ae929-104">Hadoop includes two core components: the Hadoop Distributed File System (HDFS) that provides storage, and Yet Another Resource Negotiator (YARN) that provides processing.</span><span class="sxs-lookup"><span data-stu-id="ae929-104">Hadoop includes two core components: the Hadoop Distributed File System (HDFS) that provides storage, and Yet Another Resource Negotiator (YARN) that provides processing.</span></span> <span data-ttu-id="ae929-105">With storage and processing capabilities, a cluster becomes capable of running MapReduce programs to perform the desired data processing.</span><span class="sxs-lookup"><span data-stu-id="ae929-105">With storage and processing capabilities, a cluster becomes capable of running MapReduce programs to perform the desired data processing.</span></span>

> [!NOTE]
> <span data-ttu-id="ae929-106">An HDFS is not typically deployed within the HDInsight cluster to provide storage.</span><span class="sxs-lookup"><span data-stu-id="ae929-106">An HDFS is not typically deployed within the HDInsight cluster to provide storage.</span></span> <span data-ttu-id="ae929-107">Instead, an HDFS-compatible interface layer is used by Hadoop  components.</span><span class="sxs-lookup"><span data-stu-id="ae929-107">Instead, an HDFS-compatible interface layer is used by Hadoop  components.</span></span> <span data-ttu-id="ae929-108">The actual storage capability is provided by either Azure Storage or Azure Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="ae929-108">The actual storage capability is provided by either Azure Storage or Azure Data Lake Store.</span></span> <span data-ttu-id="ae929-109">For Hadoop, MapReduce jobs executing on the HDInsight cluster run as if an HDFS were present and so require no changes to support their storage needs.</span><span class="sxs-lookup"><span data-stu-id="ae929-109">For Hadoop, MapReduce jobs executing on the HDInsight cluster run as if an HDFS were present and so require no changes to support their storage needs.</span></span> <span data-ttu-id="ae929-110">In Hadoop on HDInsight, storage is outsourced, but YARN processing  remains a core component.</span><span class="sxs-lookup"><span data-stu-id="ae929-110">In Hadoop on HDInsight, storage is outsourced, but YARN processing  remains a core component.</span></span> <span data-ttu-id="ae929-111">For more information, see [Introduction to Azure HDInsight](hadoop/apache-hadoop-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="ae929-111">For more information, see [Introduction to Azure HDInsight](hadoop/apache-hadoop-introduction.md).</span></span>

<span data-ttu-id="ae929-112">This article introduces YARN and how it coordinates the execution of applications on HDInsight.</span><span class="sxs-lookup"><span data-stu-id="ae929-112">This article introduces YARN and how it coordinates the execution of applications on HDInsight.</span></span>

## <a name="yarn-basics"></a><span data-ttu-id="ae929-113">YARN basics</span><span class="sxs-lookup"><span data-stu-id="ae929-113">YARN basics</span></span> 

<span data-ttu-id="ae929-114">YARN  governs and orchestrates data processing in Hadoop.</span><span class="sxs-lookup"><span data-stu-id="ae929-114">YARN  governs and orchestrates data processing in Hadoop.</span></span> <span data-ttu-id="ae929-115">YARN has two core services that run as processes on nodes in the cluster:</span><span class="sxs-lookup"><span data-stu-id="ae929-115">YARN has two core services that run as processes on nodes in the cluster:</span></span> 

* <span data-ttu-id="ae929-116">ResourceManager</span><span class="sxs-lookup"><span data-stu-id="ae929-116">ResourceManager</span></span> 
* <span data-ttu-id="ae929-117">NodeManager</span><span class="sxs-lookup"><span data-stu-id="ae929-117">NodeManager</span></span>

<span data-ttu-id="ae929-118">The ResourceManager grants cluster compute resources to applications like MapReduce jobs.</span><span class="sxs-lookup"><span data-stu-id="ae929-118">The ResourceManager grants cluster compute resources to applications like MapReduce jobs.</span></span> <span data-ttu-id="ae929-119">The ResourceManager grants these resources as containers, where each container consists of an allocation of CPU cores and RAM memory.</span><span class="sxs-lookup"><span data-stu-id="ae929-119">The ResourceManager grants these resources as containers, where each container consists of an allocation of CPU cores and RAM memory.</span></span> <span data-ttu-id="ae929-120">If you combined all the resources available in a cluster and then distributed the cores and memory in blocks, each block of resources is a container.</span><span class="sxs-lookup"><span data-stu-id="ae929-120">If you combined all the resources available in a cluster and then distributed the cores and memory in blocks, each block of resources is a container.</span></span> <span data-ttu-id="ae929-121">Each node in the cluster has a capacity for a certain number of containers, therefore the cluster has a fixed limit on the number of containers available.</span><span class="sxs-lookup"><span data-stu-id="ae929-121">Each node in the cluster has a capacity for a certain number of containers, therefore the cluster has a fixed limit on the number of containers available.</span></span> <span data-ttu-id="ae929-122">The allotment of resources in a container is configurable.</span><span class="sxs-lookup"><span data-stu-id="ae929-122">The allotment of resources in a container is configurable.</span></span> 

<span data-ttu-id="ae929-123">When a MapReduce application runs on a cluster, the ResourceManager provides the application the containers in which to execute.</span><span class="sxs-lookup"><span data-stu-id="ae929-123">When a MapReduce application runs on a cluster, the ResourceManager provides the application the containers in which to execute.</span></span> <span data-ttu-id="ae929-124">The ResourceManager tracks the status of running applications, available cluster capacity, and tracks applications as they complete and release their resources.</span><span class="sxs-lookup"><span data-stu-id="ae929-124">The ResourceManager tracks the status of running applications, available cluster capacity, and tracks applications as they complete and release their resources.</span></span> 

<span data-ttu-id="ae929-125">The ResourceManager also runs a web server process that provides a web user interface to monitor the status of applications.</span><span class="sxs-lookup"><span data-stu-id="ae929-125">The ResourceManager also runs a web server process that provides a web user interface to monitor the status of applications.</span></span>

<span data-ttu-id="ae929-126">When a user submits a MapReduce application to run on the cluster, the application is submitted to the ResourceManager.</span><span class="sxs-lookup"><span data-stu-id="ae929-126">When a user submits a MapReduce application to run on the cluster, the application is submitted to the ResourceManager.</span></span> <span data-ttu-id="ae929-127">In turn, the ResourceManager allocates a container on  available NodeManager nodes.</span><span class="sxs-lookup"><span data-stu-id="ae929-127">In turn, the ResourceManager allocates a container on  available NodeManager nodes.</span></span> <span data-ttu-id="ae929-128">The NodeManager nodes are where the application actually executes.</span><span class="sxs-lookup"><span data-stu-id="ae929-128">The NodeManager nodes are where the application actually executes.</span></span> <span data-ttu-id="ae929-129">The first container allocated  runs a special application called the ApplicationMaster.</span><span class="sxs-lookup"><span data-stu-id="ae929-129">The first container allocated  runs a special application called the ApplicationMaster.</span></span> <span data-ttu-id="ae929-130">This ApplicationMaster is responsible for acquiring resources, in the form of subsequent containers, needed to run the submitted application.</span><span class="sxs-lookup"><span data-stu-id="ae929-130">This ApplicationMaster is responsible for acquiring resources, in the form of subsequent containers, needed to run the submitted application.</span></span> <span data-ttu-id="ae929-131">The ApplicationMaster examines the stages of the application, such as the map stage and reduce stage, and factors in how much data needs to be processed.</span><span class="sxs-lookup"><span data-stu-id="ae929-131">The ApplicationMaster examines the stages of the application, such as the map stage and reduce stage, and factors in how much data needs to be processed.</span></span> <span data-ttu-id="ae929-132">The ApplicationMaster then requests (*negotiates*) the resources from the ResourceManager on behalf of the application.</span><span class="sxs-lookup"><span data-stu-id="ae929-132">The ApplicationMaster then requests (*negotiates*) the resources from the ResourceManager on behalf of the application.</span></span> <span data-ttu-id="ae929-133">The ResourceManager in turn grants resources from the NodeManagers in the cluster to the ApplicationMaster for it to use in executing the application.</span><span class="sxs-lookup"><span data-stu-id="ae929-133">The ResourceManager in turn grants resources from the NodeManagers in the cluster to the ApplicationMaster for it to use in executing the application.</span></span> 

<span data-ttu-id="ae929-134">The NodeManagers run the tasks that make up the application, then report their progress and status back to the ApplicationMaster.</span><span class="sxs-lookup"><span data-stu-id="ae929-134">The NodeManagers run the tasks that make up the application, then report their progress and status back to the ApplicationMaster.</span></span> <span data-ttu-id="ae929-135">The ApplicationMaster in turn reports the status of the application back to the ResourceManager.</span><span class="sxs-lookup"><span data-stu-id="ae929-135">The ApplicationMaster in turn reports the status of the application back to the ResourceManager.</span></span> <span data-ttu-id="ae929-136">The ResourceManager returns any results to the client.</span><span class="sxs-lookup"><span data-stu-id="ae929-136">The ResourceManager returns any results to the client.</span></span>

## <a name="yarn-on-hdinsight"></a><span data-ttu-id="ae929-137">YARN on HDInsight</span><span class="sxs-lookup"><span data-stu-id="ae929-137">YARN on HDInsight</span></span>

<span data-ttu-id="ae929-138">All HDInsight cluster types deploy YARN.</span><span class="sxs-lookup"><span data-stu-id="ae929-138">All HDInsight cluster types deploy YARN.</span></span> <span data-ttu-id="ae929-139">The ResourceManager is deployed for high availability with a primary and secondary instance, which runs on the first and second head nodes within the cluster respectively.</span><span class="sxs-lookup"><span data-stu-id="ae929-139">The ResourceManager is deployed for high availability with a primary and secondary instance, which runs on the first and second head nodes within the cluster respectively.</span></span> <span data-ttu-id="ae929-140">Only the one instance of the ResourceManager is active at a time.</span><span class="sxs-lookup"><span data-stu-id="ae929-140">Only the one instance of the ResourceManager is active at a time.</span></span> <span data-ttu-id="ae929-141">The NodeManager instances run across the available worker nodes in the cluster.</span><span class="sxs-lookup"><span data-stu-id="ae929-141">The NodeManager instances run across the available worker nodes in the cluster.</span></span>

![YARN on HDInsight](./media/hdinsight-hadoop-architecture/yarn-on-hdinsight.png)

## <a name="next-steps"></a><span data-ttu-id="ae929-143">Next steps</span><span class="sxs-lookup"><span data-stu-id="ae929-143">Next steps</span></span>

* [<span data-ttu-id="ae929-144">Use MapReduce in Hadoop on HDInsight</span><span class="sxs-lookup"><span data-stu-id="ae929-144">Use MapReduce in Hadoop on HDInsight</span></span>](hadoop/hdinsight-use-mapreduce.md)
* [<span data-ttu-id="ae929-145">Introduction to Azure HDInsight</span><span class="sxs-lookup"><span data-stu-id="ae929-145">Introduction to Azure HDInsight</span></span>](hadoop/apache-hadoop-introduction.md)
