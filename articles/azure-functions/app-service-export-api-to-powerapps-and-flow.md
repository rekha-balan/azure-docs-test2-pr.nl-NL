---
title: Exporting an Azure-hosted API to PowerApps and Microsoft Flow | Microsoft Docs
description: Overview of how to expose an API hosted in App Service to PowerApps and Microsoft Flow
services: app-service
author: ggailey777
manager: jeconnoc
ms.assetid: ''
ms.service: app-service
ms.devlang: multiple
ms.topic: conceptual
ms.date: 12/15/2017
ms.author: glenga
ms.reviewer: sunayv
ms.openlocfilehash: ceb0b1ce0d04c15a5b949519caad65d2c33b40ed
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44868724"
---
# <a name="exporting-an-azure-hosted-api-to-powerapps-and-microsoft-flow"></a><span data-ttu-id="475a1-103">Exporting an Azure-hosted API to PowerApps and Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="475a1-103">Exporting an Azure-hosted API to PowerApps and Microsoft Flow</span></span>

<span data-ttu-id="475a1-104">[PowerApps](https://powerapps.microsoft.com/guided-learning/learning-introducing-powerapps/) is a service for building and using custom business apps that connect to your data and work across platforms.</span><span class="sxs-lookup"><span data-stu-id="475a1-104">[PowerApps](https://powerapps.microsoft.com/guided-learning/learning-introducing-powerapps/) is a service for building and using custom business apps that connect to your data and work across platforms.</span></span> <span data-ttu-id="475a1-105">[Microsoft Flow](https://flow.microsoft.com/guided-learning/learning-introducing-flow/) makes it easy to automate workflows and business processes between your favorite apps and services.</span><span class="sxs-lookup"><span data-stu-id="475a1-105">[Microsoft Flow](https://flow.microsoft.com/guided-learning/learning-introducing-flow/) makes it easy to automate workflows and business processes between your favorite apps and services.</span></span> <span data-ttu-id="475a1-106">Both PowerApps and Microsoft Flow come with a variety of built-in connectors to data sources such as Office 365, Dynamics 365, Salesforce, and more.</span><span class="sxs-lookup"><span data-stu-id="475a1-106">Both PowerApps and Microsoft Flow come with a variety of built-in connectors to data sources such as Office 365, Dynamics 365, Salesforce, and more.</span></span> <span data-ttu-id="475a1-107">In some cases, app and flow builders also want to connect to data sources and APIs built by their organization.</span><span class="sxs-lookup"><span data-stu-id="475a1-107">In some cases, app and flow builders also want to connect to data sources and APIs built by their organization.</span></span>

<span data-ttu-id="475a1-108">Similarly, developers that want to expose their APIs more broadly within an organization can make their APIs available to app and flow builders.</span><span class="sxs-lookup"><span data-stu-id="475a1-108">Similarly, developers that want to expose their APIs more broadly within an organization can make their APIs available to app and flow builders.</span></span> <span data-ttu-id="475a1-109">This topic shows you how to export an API built with [Azure Functions](../azure-functions/functions-overview.md) or [Azure App Service](../app-service/app-service-web-overview.md).</span><span class="sxs-lookup"><span data-stu-id="475a1-109">This topic shows you how to export an API built with [Azure Functions](../azure-functions/functions-overview.md) or [Azure App Service](../app-service/app-service-web-overview.md).</span></span> <span data-ttu-id="475a1-110">The exported API becomes a *custom connector*, which is used in PowerApps and Microsoft Flow just like a built-in connector.</span><span class="sxs-lookup"><span data-stu-id="475a1-110">The exported API becomes a *custom connector*, which is used in PowerApps and Microsoft Flow just like a built-in connector.</span></span>

## <a name="create-and-export-an-api-definition"></a><span data-ttu-id="475a1-111">Create and export an API definition</span><span class="sxs-lookup"><span data-stu-id="475a1-111">Create and export an API definition</span></span>
<span data-ttu-id="475a1-112">Before exporting an API, you must describe the API using an OpenAPI definition (formerly known as a [Swagger](http://swagger.io/) file).</span><span class="sxs-lookup"><span data-stu-id="475a1-112">Before exporting an API, you must describe the API using an OpenAPI definition (formerly known as a [Swagger](http://swagger.io/) file).</span></span> <span data-ttu-id="475a1-113">This definition contains information about what operations are available in an API and how the request and response data for the API should be structured.</span><span class="sxs-lookup"><span data-stu-id="475a1-113">This definition contains information about what operations are available in an API and how the request and response data for the API should be structured.</span></span> <span data-ttu-id="475a1-114">PowerApps and Microsoft Flow can create custom connectors for any OpenAPI 2.0 definition.</span><span class="sxs-lookup"><span data-stu-id="475a1-114">PowerApps and Microsoft Flow can create custom connectors for any OpenAPI 2.0 definition.</span></span> <span data-ttu-id="475a1-115">Azure Functions and Azure App Service have built-in support for creating, hosting, and managing OpenAPI definitions.</span><span class="sxs-lookup"><span data-stu-id="475a1-115">Azure Functions and Azure App Service have built-in support for creating, hosting, and managing OpenAPI definitions.</span></span> <span data-ttu-id="475a1-116">For more information, see [Host a RESTful API with CORS in Azure App Service](../app-service/app-service-web-tutorial-rest-api.md).</span><span class="sxs-lookup"><span data-stu-id="475a1-116">For more information, see [Host a RESTful API with CORS in Azure App Service](../app-service/app-service-web-tutorial-rest-api.md).</span></span>

> [!NOTE]
> <span data-ttu-id="475a1-117">You can also build custom connectors in the PowerApps and Microsoft Flow UI, without using an OpenAPI definition.</span><span class="sxs-lookup"><span data-stu-id="475a1-117">You can also build custom connectors in the PowerApps and Microsoft Flow UI, without using an OpenAPI definition.</span></span> <span data-ttu-id="475a1-118">For more information, see [Register and use a custom connector (PowerApps)](https://powerapps.microsoft.com/tutorials/register-custom-api/) and [Register and use a custom connector (Microsoft  Flow)](https://flow.microsoft.com/documentation/register-custom-api/).</span><span class="sxs-lookup"><span data-stu-id="475a1-118">For more information, see [Register and use a custom connector (PowerApps)](https://powerapps.microsoft.com/tutorials/register-custom-api/) and [Register and use a custom connector (Microsoft  Flow)](https://flow.microsoft.com/documentation/register-custom-api/).</span></span>

<span data-ttu-id="475a1-119">To export the API definition, follow these steps:</span><span class="sxs-lookup"><span data-stu-id="475a1-119">To export the API definition, follow these steps:</span></span>

1. <span data-ttu-id="475a1-120">In the [Azure portal](https://portal.azure.com), navigate to your Azure Functions or another App Service application.</span><span class="sxs-lookup"><span data-stu-id="475a1-120">In the [Azure portal](https://portal.azure.com), navigate to your Azure Functions or another App Service application.</span></span>

    <span data-ttu-id="475a1-121">If using Azure Functions, select your function app, choose **Platform features**, and then **API definition**.</span><span class="sxs-lookup"><span data-stu-id="475a1-121">If using Azure Functions, select your function app, choose **Platform features**, and then **API definition**.</span></span>

    ![Azure Functions API definition](media/app-service-export-api-to-powerapps-and-flow/api-definition-function.png)

    <span data-ttu-id="475a1-123">If using Azure App Service, select **API definition** from the settings list.</span><span class="sxs-lookup"><span data-stu-id="475a1-123">If using Azure App Service, select **API definition** from the settings list.</span></span>

    ![App Service API definition](media/app-service-export-api-to-powerapps-and-flow/api-definition-app.png)

2. <span data-ttu-id="475a1-125">The **Export to PowerApps + Microsoft Flow** button should be available (if not, you must first create an OpenAPI definition).</span><span class="sxs-lookup"><span data-stu-id="475a1-125">The **Export to PowerApps + Microsoft Flow** button should be available (if not, you must first create an OpenAPI definition).</span></span> <span data-ttu-id="475a1-126">Click this button to begin the export process.</span><span class="sxs-lookup"><span data-stu-id="475a1-126">Click this button to begin the export process.</span></span>

    ![Export to PowerApps + Microsoft Flow button](media/app-service-export-api-to-powerapps-and-flow/export-apps-flow.png)

3. <span data-ttu-id="475a1-128">Select the **Export Mode**:</span><span class="sxs-lookup"><span data-stu-id="475a1-128">Select the **Export Mode**:</span></span>

    <span data-ttu-id="475a1-129">**Express** lets you create the custom connector from within the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="475a1-129">**Express** lets you create the custom connector from within the Azure portal.</span></span> <span data-ttu-id="475a1-130">It requires that you are signed into PowerApps or Microsoft Flow and have permission to create connectors in the target environment.</span><span class="sxs-lookup"><span data-stu-id="475a1-130">It requires that you are signed into PowerApps or Microsoft Flow and have permission to create connectors in the target environment.</span></span> <span data-ttu-id="475a1-131">This is the recommended approach if these two requirements can be met.</span><span class="sxs-lookup"><span data-stu-id="475a1-131">This is the recommended approach if these two requirements can be met.</span></span> <span data-ttu-id="475a1-132">If using this mode, follow the [Use express export](#express) instructions below.</span><span class="sxs-lookup"><span data-stu-id="475a1-132">If using this mode, follow the [Use express export](#express) instructions below.</span></span>

    <span data-ttu-id="475a1-133">**Manual** lets you export the API definition, which you then import using the PowerApps or Microsoft Flow portals.</span><span class="sxs-lookup"><span data-stu-id="475a1-133">**Manual** lets you export the API definition, which you then import using the PowerApps or Microsoft Flow portals.</span></span> <span data-ttu-id="475a1-134">This is the recommended approach if the Azure user and the user with permission to create connectors are different people or if the connector needs to be created in another Azure tenant.</span><span class="sxs-lookup"><span data-stu-id="475a1-134">This is the recommended approach if the Azure user and the user with permission to create connectors are different people or if the connector needs to be created in another Azure tenant.</span></span> <span data-ttu-id="475a1-135">If using this mode, follow the [Use manual export](#manual) instructions below.</span><span class="sxs-lookup"><span data-stu-id="475a1-135">If using this mode, follow the [Use manual export](#manual) instructions below.</span></span>

    ![Export mode](media/app-service-export-api-to-powerapps-and-flow/export-mode.png)

> [!NOTE]
> <span data-ttu-id="475a1-137">The custom connector uses a *copy* of the API definition, so PowerApps and Microsoft Flow will not immediately know if you make changes to the application and its API definition.</span><span class="sxs-lookup"><span data-stu-id="475a1-137">The custom connector uses a *copy* of the API definition, so PowerApps and Microsoft Flow will not immediately know if you make changes to the application and its API definition.</span></span> <span data-ttu-id="475a1-138">If you do make changes, repeat the export steps for the new version.</span><span class="sxs-lookup"><span data-stu-id="475a1-138">If you do make changes, repeat the export steps for the new version.</span></span>

<a name="express"></a>
## <a name="use-express-export"></a><span data-ttu-id="475a1-139">Use express export</span><span class="sxs-lookup"><span data-stu-id="475a1-139">Use express export</span></span>

<span data-ttu-id="475a1-140">To complete the export in **Express** mode, follow these steps:</span><span class="sxs-lookup"><span data-stu-id="475a1-140">To complete the export in **Express** mode, follow these steps:</span></span>

1. <span data-ttu-id="475a1-141">Make sure you're signed in to the PowerApps or Microsoft Flow tenant to which you want to export.</span><span class="sxs-lookup"><span data-stu-id="475a1-141">Make sure you're signed in to the PowerApps or Microsoft Flow tenant to which you want to export.</span></span> 

2. <span data-ttu-id="475a1-142">Use the settings as specified in the table.</span><span class="sxs-lookup"><span data-stu-id="475a1-142">Use the settings as specified in the table.</span></span>

    |<span data-ttu-id="475a1-143">Setting</span><span class="sxs-lookup"><span data-stu-id="475a1-143">Setting</span></span>|<span data-ttu-id="475a1-144">Description</span><span class="sxs-lookup"><span data-stu-id="475a1-144">Description</span></span>|
    |--------|------------|
    |<span data-ttu-id="475a1-145">**Environment**</span><span class="sxs-lookup"><span data-stu-id="475a1-145">**Environment**</span></span>|<span data-ttu-id="475a1-146">Select the environment that the custom connector should be saved to.</span><span class="sxs-lookup"><span data-stu-id="475a1-146">Select the environment that the custom connector should be saved to.</span></span> <span data-ttu-id="475a1-147">For more information, see [Environments overview](https://powerapps.microsoft.com/tutorials/environments-overview/).</span><span class="sxs-lookup"><span data-stu-id="475a1-147">For more information, see [Environments overview](https://powerapps.microsoft.com/tutorials/environments-overview/).</span></span>|
    |<span data-ttu-id="475a1-148">**Custom API Name**</span><span class="sxs-lookup"><span data-stu-id="475a1-148">**Custom API Name**</span></span>|<span data-ttu-id="475a1-149">Enter a name, which PowerApps and Microsoft Flow builders will see in their connector list.</span><span class="sxs-lookup"><span data-stu-id="475a1-149">Enter a name, which PowerApps and Microsoft Flow builders will see in their connector list.</span></span>|
    |<span data-ttu-id="475a1-150">**Prepare security configuration**</span><span class="sxs-lookup"><span data-stu-id="475a1-150">**Prepare security configuration**</span></span>|<span data-ttu-id="475a1-151">If required, provide the security configuration details needed to grant users access to your API.</span><span class="sxs-lookup"><span data-stu-id="475a1-151">If required, provide the security configuration details needed to grant users access to your API.</span></span> <span data-ttu-id="475a1-152">This example shows an API key.</span><span class="sxs-lookup"><span data-stu-id="475a1-152">This example shows an API key.</span></span> <span data-ttu-id="475a1-153">For more information, see [Specify authentication type](#auth) below.</span><span class="sxs-lookup"><span data-stu-id="475a1-153">For more information, see [Specify authentication type](#auth) below.</span></span>|
 
    ![Express export to PowerApps and Microsoft Flow](media/app-service-export-api-to-powerapps-and-flow/export-express.png)

3. <span data-ttu-id="475a1-155">Click **OK**.</span><span class="sxs-lookup"><span data-stu-id="475a1-155">Click **OK**.</span></span> <span data-ttu-id="475a1-156">The custom connector is now built and added to the environment you specified.</span><span class="sxs-lookup"><span data-stu-id="475a1-156">The custom connector is now built and added to the environment you specified.</span></span>

<span data-ttu-id="475a1-157">For examples of using **Express** mode with Azure Functions, see [Call a function from PowerApps](functions-powerapps-scenario.md) and [Call a function from Microsoft Flow](functions-flow-scenario.md).</span><span class="sxs-lookup"><span data-stu-id="475a1-157">For examples of using **Express** mode with Azure Functions, see [Call a function from PowerApps](functions-powerapps-scenario.md) and [Call a function from Microsoft Flow](functions-flow-scenario.md).</span></span>

<a name="manual"></a>
## <a name="use-manual-export"></a><span data-ttu-id="475a1-158">Use manual export</span><span class="sxs-lookup"><span data-stu-id="475a1-158">Use manual export</span></span>

<span data-ttu-id="475a1-159">To complete the export in **Manual** mode, follow these steps:</span><span class="sxs-lookup"><span data-stu-id="475a1-159">To complete the export in **Manual** mode, follow these steps:</span></span>

1. <span data-ttu-id="475a1-160">Click **Download** and save the file, or click the copy button and save the URL.</span><span class="sxs-lookup"><span data-stu-id="475a1-160">Click **Download** and save the file, or click the copy button and save the URL.</span></span> <span data-ttu-id="475a1-161">You will use the download file or the URL during import.</span><span class="sxs-lookup"><span data-stu-id="475a1-161">You will use the download file or the URL during import.</span></span>
 
    ![Manual export to PowerApps and Microsoft Flow](media/app-service-export-api-to-powerapps-and-flow/export-manual.png)
 
2. <span data-ttu-id="475a1-163">If your API definition includes any security definitions, these are called out in step #2.</span><span class="sxs-lookup"><span data-stu-id="475a1-163">If your API definition includes any security definitions, these are called out in step #2.</span></span> <span data-ttu-id="475a1-164">During import, PowerApps and Microsoft Flow detects these and prompts for security information.</span><span class="sxs-lookup"><span data-stu-id="475a1-164">During import, PowerApps and Microsoft Flow detects these and prompts for security information.</span></span> <span data-ttu-id="475a1-165">Gather the credentials related to each definition for use in the next section.</span><span class="sxs-lookup"><span data-stu-id="475a1-165">Gather the credentials related to each definition for use in the next section.</span></span> <span data-ttu-id="475a1-166">For more information, see [Specify authentication type](#auth) below.</span><span class="sxs-lookup"><span data-stu-id="475a1-166">For more information, see [Specify authentication type](#auth) below.</span></span>

    ![Security for manual export](media/app-service-export-api-to-powerapps-and-flow/export-manual-security.png)

    <span data-ttu-id="475a1-168">This example shows the API key security definition that was included in the OpenAPI definition.</span><span class="sxs-lookup"><span data-stu-id="475a1-168">This example shows the API key security definition that was included in the OpenAPI definition.</span></span>

<span data-ttu-id="475a1-169">Now that you've exported the API definition, you import it to create a custom connector in PowerApps and Microsoft Flow.</span><span class="sxs-lookup"><span data-stu-id="475a1-169">Now that you've exported the API definition, you import it to create a custom connector in PowerApps and Microsoft Flow.</span></span> <span data-ttu-id="475a1-170">Custom connectors are shared between the two services, so you only need to import the definition once.</span><span class="sxs-lookup"><span data-stu-id="475a1-170">Custom connectors are shared between the two services, so you only need to import the definition once.</span></span>

<span data-ttu-id="475a1-171">To import the API definition into PowerApps and Microsoft Flow, follow these steps:</span><span class="sxs-lookup"><span data-stu-id="475a1-171">To import the API definition into PowerApps and Microsoft Flow, follow these steps:</span></span>

1. <span data-ttu-id="475a1-172">Go to [powerapps.com](https://web.powerapps.com) or [flow.microsoft.com](https://flow.microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="475a1-172">Go to [powerapps.com](https://web.powerapps.com) or [flow.microsoft.com](https://flow.microsoft.com).</span></span>

2. <span data-ttu-id="475a1-173">In the upper right corner, click the gear icon, then click **Custom connectors**.</span><span class="sxs-lookup"><span data-stu-id="475a1-173">In the upper right corner, click the gear icon, then click **Custom connectors**.</span></span>

   ![Gear icon in service](media/app-service-export-api-to-powerapps-and-flow/icon-gear.png)

3. <span data-ttu-id="475a1-175">Click **Create custom connector**, then click **Import an OpenAPI definition**.</span><span class="sxs-lookup"><span data-stu-id="475a1-175">Click **Create custom connector**, then click **Import an OpenAPI definition**.</span></span>

   ![Create custom connector](media/app-service-export-api-to-powerapps-and-flow/flow-apps-create-connector.png)

4. <span data-ttu-id="475a1-177">Enter a name for the custom connector, then navigate to the OpenAPI definition that you exported, and click **Continue**.</span><span class="sxs-lookup"><span data-stu-id="475a1-177">Enter a name for the custom connector, then navigate to the OpenAPI definition that you exported, and click **Continue**.</span></span>

   ![Upload OpenAPI definition](media/app-service-export-api-to-powerapps-and-flow/flow-apps-upload-definition.png)

4. <span data-ttu-id="475a1-179">On the **General** tab, review the information that comes from the OpenAPI definition.</span><span class="sxs-lookup"><span data-stu-id="475a1-179">On the **General** tab, review the information that comes from the OpenAPI definition.</span></span>

5. <span data-ttu-id="475a1-180">On the **Security** tab, if you are prompted to provide authentication details, enter the values appropriate for the authentication type.</span><span class="sxs-lookup"><span data-stu-id="475a1-180">On the **Security** tab, if you are prompted to provide authentication details, enter the values appropriate for the authentication type.</span></span> <span data-ttu-id="475a1-181">Click **Continue**.</span><span class="sxs-lookup"><span data-stu-id="475a1-181">Click **Continue**.</span></span>

    ![Security tab](media/app-service-export-api-to-powerapps-and-flow/tab-security.png)

    <span data-ttu-id="475a1-183">This example shows the required fields for API key authentication.</span><span class="sxs-lookup"><span data-stu-id="475a1-183">This example shows the required fields for API key authentication.</span></span> <span data-ttu-id="475a1-184">The fields differ depending on the authentication type.</span><span class="sxs-lookup"><span data-stu-id="475a1-184">The fields differ depending on the authentication type.</span></span>

6. <span data-ttu-id="475a1-185">On the **Definitions** tab, all the operations defined in your OpenAPI file are auto-populated.</span><span class="sxs-lookup"><span data-stu-id="475a1-185">On the **Definitions** tab, all the operations defined in your OpenAPI file are auto-populated.</span></span> <span data-ttu-id="475a1-186">If all your required operations are defined, you can go to the next step.</span><span class="sxs-lookup"><span data-stu-id="475a1-186">If all your required operations are defined, you can go to the next step.</span></span> <span data-ttu-id="475a1-187">If not, you can add and modify operations here.</span><span class="sxs-lookup"><span data-stu-id="475a1-187">If not, you can add and modify operations here.</span></span>

    ![Definitions tab](media/app-service-export-api-to-powerapps-and-flow/tab-definitions.png)

    <span data-ttu-id="475a1-189">This example has one operation, named `CalculateCosts`.</span><span class="sxs-lookup"><span data-stu-id="475a1-189">This example has one operation, named `CalculateCosts`.</span></span> <span data-ttu-id="475a1-190">The metadata, like **Description**, all comes from the OpenAPI file.</span><span class="sxs-lookup"><span data-stu-id="475a1-190">The metadata, like **Description**, all comes from the OpenAPI file.</span></span>

7. <span data-ttu-id="475a1-191">Click **Create connector** at the top of the page.</span><span class="sxs-lookup"><span data-stu-id="475a1-191">Click **Create connector** at the top of the page.</span></span>

<span data-ttu-id="475a1-192">You can now connect to the custom connector in PowerApps and Microsoft Flow.</span><span class="sxs-lookup"><span data-stu-id="475a1-192">You can now connect to the custom connector in PowerApps and Microsoft Flow.</span></span> <span data-ttu-id="475a1-193">For more information on creating connectors in the PowerApps and Microsoft Flow portals, see [Register your custom connector (PowerApps)](https://powerapps.microsoft.com/tutorials/register-custom-api/#register-your-custom-connector) and [Register your custom connector (Microsoft  Flow)](https://flow.microsoft.com/documentation/register-custom-api/#register-your-custom-connector).</span><span class="sxs-lookup"><span data-stu-id="475a1-193">For more information on creating connectors in the PowerApps and Microsoft Flow portals, see [Register your custom connector (PowerApps)](https://powerapps.microsoft.com/tutorials/register-custom-api/#register-your-custom-connector) and [Register your custom connector (Microsoft  Flow)](https://flow.microsoft.com/documentation/register-custom-api/#register-your-custom-connector).</span></span>

<a name="auth"></a>
## <a name="specify-authentication-type"></a><span data-ttu-id="475a1-194">Specify authentication type</span><span class="sxs-lookup"><span data-stu-id="475a1-194">Specify authentication type</span></span>

<span data-ttu-id="475a1-195">PowerApps and Microsoft Flow support a collection of identity providers that provide authentication for custom connectors.</span><span class="sxs-lookup"><span data-stu-id="475a1-195">PowerApps and Microsoft Flow support a collection of identity providers that provide authentication for custom connectors.</span></span> <span data-ttu-id="475a1-196">If your API requires authentication, ensure that it is captured as a _security definition_ in your OpenAPI document, like the following example:</span><span class="sxs-lookup"><span data-stu-id="475a1-196">If your API requires authentication, ensure that it is captured as a _security definition_ in your OpenAPI document, like the following example:</span></span>

```json
"securityDefinitions": {
    "AAD": {
    "type": "oauth2",
    "flow": "accessCode",
    "authorizationUrl": "https://login.windows.net/common/oauth2/authorize",
    "scopes": {}
    }
}
``` 
<span data-ttu-id="475a1-197">During export, you provide configuration values that allow PowerApps and Microsoft Flow to authenticate users.</span><span class="sxs-lookup"><span data-stu-id="475a1-197">During export, you provide configuration values that allow PowerApps and Microsoft Flow to authenticate users.</span></span>

<span data-ttu-id="475a1-198">This section covers the authentication types that are supported in **Express** mode: API key, Azure Active Directory, and Generic OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="475a1-198">This section covers the authentication types that are supported in **Express** mode: API key, Azure Active Directory, and Generic OAuth 2.0.</span></span> <span data-ttu-id="475a1-199">PowerApps and Microsoft Flow also support Basic Authentication, and OAuth 2.0 for specific services like Dropbox, Facebook, and SalesForce.</span><span class="sxs-lookup"><span data-stu-id="475a1-199">PowerApps and Microsoft Flow also support Basic Authentication, and OAuth 2.0 for specific services like Dropbox, Facebook, and SalesForce.</span></span>

### <a name="api-key"></a><span data-ttu-id="475a1-200">API key</span><span class="sxs-lookup"><span data-stu-id="475a1-200">API key</span></span>
<span data-ttu-id="475a1-201">When using an API key, the users of your connector are prompted to provide the key when they create a connection.</span><span class="sxs-lookup"><span data-stu-id="475a1-201">When using an API key, the users of your connector are prompted to provide the key when they create a connection.</span></span> <span data-ttu-id="475a1-202">You specify an API key name to help them understand which key is needed.</span><span class="sxs-lookup"><span data-stu-id="475a1-202">You specify an API key name to help them understand which key is needed.</span></span> <span data-ttu-id="475a1-203">In the earlier example, we use the name `API Key (contact meganb@contoso.com)` so people know where to get information about the API key.</span><span class="sxs-lookup"><span data-stu-id="475a1-203">In the earlier example, we use the name `API Key (contact meganb@contoso.com)` so people know where to get information about the API key.</span></span> <span data-ttu-id="475a1-204">For Azure Functions, the key is typically one of the host keys, covering several functions within the function app.</span><span class="sxs-lookup"><span data-stu-id="475a1-204">For Azure Functions, the key is typically one of the host keys, covering several functions within the function app.</span></span>

### <a name="azure-active-directory-azure-ad"></a><span data-ttu-id="475a1-205">Azure Active Directory (Azure AD)</span><span class="sxs-lookup"><span data-stu-id="475a1-205">Azure Active Directory (Azure AD)</span></span>
<span data-ttu-id="475a1-206">When using Azure AD, you need two Azure AD application registrations: one for the API itself, and one for the custom connector:</span><span class="sxs-lookup"><span data-stu-id="475a1-206">When using Azure AD, you need two Azure AD application registrations: one for the API itself, and one for the custom connector:</span></span>

- <span data-ttu-id="475a1-207">To configure registration for the API, use the [App Service Authentication/Authorization](../app-service/app-service-mobile-how-to-configure-active-directory-authentication.md) feature.</span><span class="sxs-lookup"><span data-stu-id="475a1-207">To configure registration for the API, use the [App Service Authentication/Authorization](../app-service/app-service-mobile-how-to-configure-active-directory-authentication.md) feature.</span></span>

- <span data-ttu-id="475a1-208">To configure registration for the connector, follow the steps in [Adding an Azure AD application](https://docs.microsoft.com/azure/active-directory/develop/active-directory-integrating-applications#adding-an-application).</span><span class="sxs-lookup"><span data-stu-id="475a1-208">To configure registration for the connector, follow the steps in [Adding an Azure AD application](https://docs.microsoft.com/azure/active-directory/develop/active-directory-integrating-applications#adding-an-application).</span></span> <span data-ttu-id="475a1-209">The registration must have delegated access to your API and a reply URL of `https://msmanaged-na.consent.azure-apim.net/redirect`.</span><span class="sxs-lookup"><span data-stu-id="475a1-209">The registration must have delegated access to your API and a reply URL of `https://msmanaged-na.consent.azure-apim.net/redirect`.</span></span> 

<span data-ttu-id="475a1-210">For more information, see the Azure AD registration examples for [PowerApps](https://powerapps.microsoft.com/tutorials/customapi-azure-resource-manager-tutorial/) and [Microsoft Flow](https://flow.microsoft.com/documentation/customapi-azure-resource-manager-tutorial/).</span><span class="sxs-lookup"><span data-stu-id="475a1-210">For more information, see the Azure AD registration examples for [PowerApps](https://powerapps.microsoft.com/tutorials/customapi-azure-resource-manager-tutorial/) and [Microsoft Flow](https://flow.microsoft.com/documentation/customapi-azure-resource-manager-tutorial/).</span></span> <span data-ttu-id="475a1-211">These examples use Azure Resource Manager as the API; substitute your API if you follow the steps.</span><span class="sxs-lookup"><span data-stu-id="475a1-211">These examples use Azure Resource Manager as the API; substitute your API if you follow the steps.</span></span>

<span data-ttu-id="475a1-212">The following configuration values are required:</span><span class="sxs-lookup"><span data-stu-id="475a1-212">The following configuration values are required:</span></span>
- <span data-ttu-id="475a1-213">**Client ID** - the client ID of your connector Azure AD registration</span><span class="sxs-lookup"><span data-stu-id="475a1-213">**Client ID** - the client ID of your connector Azure AD registration</span></span>
- <span data-ttu-id="475a1-214">**Client secret** - the client secret of your connector Azure AD registration</span><span class="sxs-lookup"><span data-stu-id="475a1-214">**Client secret** - the client secret of your connector Azure AD registration</span></span>
- <span data-ttu-id="475a1-215">**Login URL** - the base URL for Azure AD.</span><span class="sxs-lookup"><span data-stu-id="475a1-215">**Login URL** - the base URL for Azure AD.</span></span> <span data-ttu-id="475a1-216">In Azure, this is typically `https://login.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="475a1-216">In Azure, this is typically `https://login.windows.net`.</span></span>
- <span data-ttu-id="475a1-217">**Tenant ID** - the ID of the tenant to be used for the login.</span><span class="sxs-lookup"><span data-stu-id="475a1-217">**Tenant ID** - the ID of the tenant to be used for the login.</span></span> <span data-ttu-id="475a1-218">This should be "common" or the ID of the tenant in which the connector is created.</span><span class="sxs-lookup"><span data-stu-id="475a1-218">This should be "common" or the ID of the tenant in which the connector is created.</span></span>
- <span data-ttu-id="475a1-219">**Resource URL** - the resource URL of the Azure AD registration for your API</span><span class="sxs-lookup"><span data-stu-id="475a1-219">**Resource URL** - the resource URL of the Azure AD registration for your API</span></span>

> [!IMPORTANT]
> <span data-ttu-id="475a1-220">If someone else will import the API definition into PowerApps and Microsoft Flow as part of the manual flow, you must provide them with the client ID and client secret of the *connector registration*, as well as the resource URL of your API.</span><span class="sxs-lookup"><span data-stu-id="475a1-220">If someone else will import the API definition into PowerApps and Microsoft Flow as part of the manual flow, you must provide them with the client ID and client secret of the *connector registration*, as well as the resource URL of your API.</span></span> <span data-ttu-id="475a1-221">Make sure that these secrets are managed securely.</span><span class="sxs-lookup"><span data-stu-id="475a1-221">Make sure that these secrets are managed securely.</span></span> <span data-ttu-id="475a1-222">**Do not share the security credentials of the API itself.**</span><span class="sxs-lookup"><span data-stu-id="475a1-222">**Do not share the security credentials of the API itself.**</span></span>

### <a name="generic-oauth-20"></a><span data-ttu-id="475a1-223">Generic OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="475a1-223">Generic OAuth 2.0</span></span>
<span data-ttu-id="475a1-224">When using generic OAuth 2.0, you can integrate with any OAuth 2.0 provider.</span><span class="sxs-lookup"><span data-stu-id="475a1-224">When using generic OAuth 2.0, you can integrate with any OAuth 2.0 provider.</span></span> <span data-ttu-id="475a1-225">This allows you to work with custom providers that are not natively supported.</span><span class="sxs-lookup"><span data-stu-id="475a1-225">This allows you to work with custom providers that are not natively supported.</span></span>

<span data-ttu-id="475a1-226">The following configuration values are required:</span><span class="sxs-lookup"><span data-stu-id="475a1-226">The following configuration values are required:</span></span>
- <span data-ttu-id="475a1-227">**Client ID** - the OAuth 2.0 client ID</span><span class="sxs-lookup"><span data-stu-id="475a1-227">**Client ID** - the OAuth 2.0 client ID</span></span>
- <span data-ttu-id="475a1-228">**Client secret** - the OAuth 2.0 client secret</span><span class="sxs-lookup"><span data-stu-id="475a1-228">**Client secret** - the OAuth 2.0 client secret</span></span>
- <span data-ttu-id="475a1-229">**Authorization URL** - the OAuth 2.0 authorization URL</span><span class="sxs-lookup"><span data-stu-id="475a1-229">**Authorization URL** - the OAuth 2.0 authorization URL</span></span>
- <span data-ttu-id="475a1-230">**Token URL** - the OAuth 2.0 token URL</span><span class="sxs-lookup"><span data-stu-id="475a1-230">**Token URL** - the OAuth 2.0 token URL</span></span>
- <span data-ttu-id="475a1-231">**Refresh URL** - the OAuth 2.0 refresh URL</span><span class="sxs-lookup"><span data-stu-id="475a1-231">**Refresh URL** - the OAuth 2.0 refresh URL</span></span>


