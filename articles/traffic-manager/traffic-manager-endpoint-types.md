---
title: Traffic Manager Endpoint Types | Microsoft Docs
description: This article explains different types of endpoints that can be used with Azure Traffic Manager
services: traffic-manager
documentationcenter: ''
author: kumudd
manager: timlt
editor: ''
ms.assetid: 4e506986-f78d-41d1-becf-56c8516e4d21
ms.service: traffic-manager
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 03/29/2017
ms.author: kumud
ms.openlocfilehash: 6d048b73528d1812f1be9585d30812ca4aeaa397
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44556147"
---
# <a name="traffic-manager-endpoints"></a><span data-ttu-id="94719-103">Traffic Manager endpoints</span><span class="sxs-lookup"><span data-stu-id="94719-103">Traffic Manager endpoints</span></span>
<span data-ttu-id="94719-104">Microsoft Azure Traffic Manager allows you to control how network traffic is distributed to application deployments running in different datacenters.</span><span class="sxs-lookup"><span data-stu-id="94719-104">Microsoft Azure Traffic Manager allows you to control how network traffic is distributed to application deployments running in different datacenters.</span></span> <span data-ttu-id="94719-105">You configure each application deployment as an 'endpoint' in Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="94719-105">You configure each application deployment as an 'endpoint' in Traffic Manager.</span></span> <span data-ttu-id="94719-106">When Traffic Manager receives a DNS request, it chooses an available endpoint to return in the DNS response.</span><span class="sxs-lookup"><span data-stu-id="94719-106">When Traffic Manager receives a DNS request, it chooses an available endpoint to return in the DNS response.</span></span> <span data-ttu-id="94719-107">Traffic manager bases the choice on the current endpoint status and the traffic-routing method.</span><span class="sxs-lookup"><span data-stu-id="94719-107">Traffic manager bases the choice on the current endpoint status and the traffic-routing method.</span></span> <span data-ttu-id="94719-108">For more information, see [How Traffic Manager Works](traffic-manager-how-traffic-manager-works.md).</span><span class="sxs-lookup"><span data-stu-id="94719-108">For more information, see [How Traffic Manager Works](traffic-manager-how-traffic-manager-works.md).</span></span>

<span data-ttu-id="94719-109">There are three types of endpoint supported by Traffic Manager:</span><span class="sxs-lookup"><span data-stu-id="94719-109">There are three types of endpoint supported by Traffic Manager:</span></span>
* <span data-ttu-id="94719-110">**Azure endpoints** are used for services hosted in Azure.</span><span class="sxs-lookup"><span data-stu-id="94719-110">**Azure endpoints** are used for services hosted in Azure.</span></span>
* <span data-ttu-id="94719-111">**External endpoints** are used for services hosted outside Azure, either on-premises or with a different hosting provider.</span><span class="sxs-lookup"><span data-stu-id="94719-111">**External endpoints** are used for services hosted outside Azure, either on-premises or with a different hosting provider.</span></span>
* <span data-ttu-id="94719-112">**Nested endpoints** are used to combine Traffic Manager profiles to create more flexible traffic-routing schemes to support the needs of larger, more complex deployments.</span><span class="sxs-lookup"><span data-stu-id="94719-112">**Nested endpoints** are used to combine Traffic Manager profiles to create more flexible traffic-routing schemes to support the needs of larger, more complex deployments.</span></span>

<span data-ttu-id="94719-113">There is no restriction on how endpoints of different types are combined in a single Traffic Manager profile.</span><span class="sxs-lookup"><span data-stu-id="94719-113">There is no restriction on how endpoints of different types are combined in a single Traffic Manager profile.</span></span> <span data-ttu-id="94719-114">Each profile can contain any mix of endpoint types.</span><span class="sxs-lookup"><span data-stu-id="94719-114">Each profile can contain any mix of endpoint types.</span></span>

<span data-ttu-id="94719-115">The following sections describe each endpoint type in greater depth.</span><span class="sxs-lookup"><span data-stu-id="94719-115">The following sections describe each endpoint type in greater depth.</span></span>

## <a name="azure-endpoints"></a><span data-ttu-id="94719-116">Azure endpoints</span><span class="sxs-lookup"><span data-stu-id="94719-116">Azure endpoints</span></span>

<span data-ttu-id="94719-117">Azure endpoints are used for Azure-based services in Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="94719-117">Azure endpoints are used for Azure-based services in Traffic Manager.</span></span> <span data-ttu-id="94719-118">The following Azure resource types are supported:</span><span class="sxs-lookup"><span data-stu-id="94719-118">The following Azure resource types are supported:</span></span>

* <span data-ttu-id="94719-119">'Classic' IaaS VMs and PaaS cloud services.</span><span class="sxs-lookup"><span data-stu-id="94719-119">'Classic' IaaS VMs and PaaS cloud services.</span></span>
* <span data-ttu-id="94719-120">Web Apps</span><span class="sxs-lookup"><span data-stu-id="94719-120">Web Apps</span></span>
* <span data-ttu-id="94719-121">PublicIPAddress resources (which can be connected to VMs either directly or via an Azure Load Balancer).</span><span class="sxs-lookup"><span data-stu-id="94719-121">PublicIPAddress resources (which can be connected to VMs either directly or via an Azure Load Balancer).</span></span> <span data-ttu-id="94719-122">The publicIpAddress must have a DNS name assigned to be used in a Traffic Manager profile.</span><span class="sxs-lookup"><span data-stu-id="94719-122">The publicIpAddress must have a DNS name assigned to be used in a Traffic Manager profile.</span></span>

<span data-ttu-id="94719-123">PublicIPAddress resources are Azure Resource Manager resources.</span><span class="sxs-lookup"><span data-stu-id="94719-123">PublicIPAddress resources are Azure Resource Manager resources.</span></span> <span data-ttu-id="94719-124">They do not exist in the classic deployment model.</span><span class="sxs-lookup"><span data-stu-id="94719-124">They do not exist in the classic deployment model.</span></span> <span data-ttu-id="94719-125">Thus they are only supported in Traffic Manager's Azure Resource Manager experiences.</span><span class="sxs-lookup"><span data-stu-id="94719-125">Thus they are only supported in Traffic Manager's Azure Resource Manager experiences.</span></span> <span data-ttu-id="94719-126">The other endpoint types are supported via both Resource Manager and the classic deployment model.</span><span class="sxs-lookup"><span data-stu-id="94719-126">The other endpoint types are supported via both Resource Manager and the classic deployment model.</span></span>

<span data-ttu-id="94719-127">When using Azure endpoints, Traffic Manager detects when a 'Classic' IaaS VM, cloud service, or a Web App is stopped and started.</span><span class="sxs-lookup"><span data-stu-id="94719-127">When using Azure endpoints, Traffic Manager detects when a 'Classic' IaaS VM, cloud service, or a Web App is stopped and started.</span></span> <span data-ttu-id="94719-128">This status is reflected in the endpoint status.</span><span class="sxs-lookup"><span data-stu-id="94719-128">This status is reflected in the endpoint status.</span></span> <span data-ttu-id="94719-129">See [Traffic Manager endpoint monitoring](traffic-manager-monitoring.md#endpoint-and-profile-status) for details.</span><span class="sxs-lookup"><span data-stu-id="94719-129">See [Traffic Manager endpoint monitoring](traffic-manager-monitoring.md#endpoint-and-profile-status) for details.</span></span> <span data-ttu-id="94719-130">When the underlying service is stopped, Traffic Manager does not perform endpoint health checks or direct traffic to the endpoint.</span><span class="sxs-lookup"><span data-stu-id="94719-130">When the underlying service is stopped, Traffic Manager does not perform endpoint health checks or direct traffic to the endpoint.</span></span> <span data-ttu-id="94719-131">No Traffic Manager billing events occur for the stopped instance.</span><span class="sxs-lookup"><span data-stu-id="94719-131">No Traffic Manager billing events occur for the stopped instance.</span></span> <span data-ttu-id="94719-132">When the service is restarted, billing resumes and the endpoint is eligible to receive traffic.</span><span class="sxs-lookup"><span data-stu-id="94719-132">When the service is restarted, billing resumes and the endpoint is eligible to receive traffic.</span></span> <span data-ttu-id="94719-133">This detection does not apply to PublicIpAddress endpoints.</span><span class="sxs-lookup"><span data-stu-id="94719-133">This detection does not apply to PublicIpAddress endpoints.</span></span>

## <a name="external-endpoints"></a><span data-ttu-id="94719-134">External endpoints</span><span class="sxs-lookup"><span data-stu-id="94719-134">External endpoints</span></span>

<span data-ttu-id="94719-135">External endpoints are used for services outside of Azure.</span><span class="sxs-lookup"><span data-stu-id="94719-135">External endpoints are used for services outside of Azure.</span></span> <span data-ttu-id="94719-136">For example, a service hosted on-premises or with a different provider.</span><span class="sxs-lookup"><span data-stu-id="94719-136">For example, a service hosted on-premises or with a different provider.</span></span> <span data-ttu-id="94719-137">External endpoints can be used individually or combined with Azure Endpoints in the same Traffic Manager profile.</span><span class="sxs-lookup"><span data-stu-id="94719-137">External endpoints can be used individually or combined with Azure Endpoints in the same Traffic Manager profile.</span></span> <span data-ttu-id="94719-138">Combining Azure endpoints with External endpoints enables various scenarios:</span><span class="sxs-lookup"><span data-stu-id="94719-138">Combining Azure endpoints with External endpoints enables various scenarios:</span></span>

* <span data-ttu-id="94719-139">In either an active-active or active-passive failover model, use Azure to provide increased redundancy for an existing on-premises application.</span><span class="sxs-lookup"><span data-stu-id="94719-139">In either an active-active or active-passive failover model, use Azure to provide increased redundancy for an existing on-premises application.</span></span>
* <span data-ttu-id="94719-140">To reduce application latency for users around the world, extend an existing on-premises application to additional geographic locations in Azure.</span><span class="sxs-lookup"><span data-stu-id="94719-140">To reduce application latency for users around the world, extend an existing on-premises application to additional geographic locations in Azure.</span></span> <span data-ttu-id="94719-141">For more information, see [Traffic Manager 'Performance' traffic routing](traffic-manager-routing-methods.md#performance-traffic-routing-method).</span><span class="sxs-lookup"><span data-stu-id="94719-141">For more information, see [Traffic Manager 'Performance' traffic routing](traffic-manager-routing-methods.md#performance-traffic-routing-method).</span></span>
* <span data-ttu-id="94719-142">Use Azure to provide additional capacity for an existing on-premises application, either continuously or as a 'burst-to-cloud' solution to meet a spike in demand.</span><span class="sxs-lookup"><span data-stu-id="94719-142">Use Azure to provide additional capacity for an existing on-premises application, either continuously or as a 'burst-to-cloud' solution to meet a spike in demand.</span></span>

<span data-ttu-id="94719-143">In certain cases, it is useful to use External endpoints to reference Azure services (for examples, see the [FAQ](traffic-manager-faqs.md#traffic-manager-endpoints)).</span><span class="sxs-lookup"><span data-stu-id="94719-143">In certain cases, it is useful to use External endpoints to reference Azure services (for examples, see the [FAQ](traffic-manager-faqs.md#traffic-manager-endpoints)).</span></span> <span data-ttu-id="94719-144">In this case, health checks are billed at the Azure endpoints rate, not the External endpoints rate.</span><span class="sxs-lookup"><span data-stu-id="94719-144">In this case, health checks are billed at the Azure endpoints rate, not the External endpoints rate.</span></span> <span data-ttu-id="94719-145">However, unlike Azure endpoints, if you stop or delete the underlying service, health check billing continues until you disable or delete the endpoint in Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="94719-145">However, unlike Azure endpoints, if you stop or delete the underlying service, health check billing continues until you disable or delete the endpoint in Traffic Manager.</span></span>

## <a name="nested-endpoints"></a><span data-ttu-id="94719-146">Nested endpoints</span><span class="sxs-lookup"><span data-stu-id="94719-146">Nested endpoints</span></span>

<span data-ttu-id="94719-147">Nested endpoints combine multiple Traffic Manager profiles to create flexible traffic-routing schemes and support the needs of larger, complex deployments.</span><span class="sxs-lookup"><span data-stu-id="94719-147">Nested endpoints combine multiple Traffic Manager profiles to create flexible traffic-routing schemes and support the needs of larger, complex deployments.</span></span> <span data-ttu-id="94719-148">With Nested endpoints, a 'child' profile is added as an endpoint to a 'parent' profile.</span><span class="sxs-lookup"><span data-stu-id="94719-148">With Nested endpoints, a 'child' profile is added as an endpoint to a 'parent' profile.</span></span> <span data-ttu-id="94719-149">Both the child and parent profiles can contain other endpoints of any type, including other nested profiles.</span><span class="sxs-lookup"><span data-stu-id="94719-149">Both the child and parent profiles can contain other endpoints of any type, including other nested profiles.</span></span> <span data-ttu-id="94719-150">For more information, see [nested Traffic Manager profiles](traffic-manager-nested-profiles.md).</span><span class="sxs-lookup"><span data-stu-id="94719-150">For more information, see [nested Traffic Manager profiles](traffic-manager-nested-profiles.md).</span></span>

## <a name="web-apps-as-endpoints"></a><span data-ttu-id="94719-151">Web Apps as endpoints</span><span class="sxs-lookup"><span data-stu-id="94719-151">Web Apps as endpoints</span></span>

<span data-ttu-id="94719-152">Some additional considerations apply when configuring Web Apps as endpoints in Traffic Manager:</span><span class="sxs-lookup"><span data-stu-id="94719-152">Some additional considerations apply when configuring Web Apps as endpoints in Traffic Manager:</span></span>

1. <span data-ttu-id="94719-153">Only Web Apps at the 'Standard' SKU or above are eligible for use with Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="94719-153">Only Web Apps at the 'Standard' SKU or above are eligible for use with Traffic Manager.</span></span> <span data-ttu-id="94719-154">Attempts to add a Web App of a lower SKU fail.</span><span class="sxs-lookup"><span data-stu-id="94719-154">Attempts to add a Web App of a lower SKU fail.</span></span> <span data-ttu-id="94719-155">Downgrading the SKU of an existing Web App results in Traffic Manager no longer sending traffic to that Web App.</span><span class="sxs-lookup"><span data-stu-id="94719-155">Downgrading the SKU of an existing Web App results in Traffic Manager no longer sending traffic to that Web App.</span></span>
2. <span data-ttu-id="94719-156">When an endpoint receives an HTTP request, it uses the 'host' header in the request to determine which Web App should service the request.</span><span class="sxs-lookup"><span data-stu-id="94719-156">When an endpoint receives an HTTP request, it uses the 'host' header in the request to determine which Web App should service the request.</span></span> <span data-ttu-id="94719-157">The host header contains the DNS name used to initiate the request, for example 'contosoapp.azurewebsites.net'.</span><span class="sxs-lookup"><span data-stu-id="94719-157">The host header contains the DNS name used to initiate the request, for example 'contosoapp.azurewebsites.net'.</span></span> <span data-ttu-id="94719-158">To use a different DNS name with your Web App, the DNS name must be registered as a custom domain name for the App.</span><span class="sxs-lookup"><span data-stu-id="94719-158">To use a different DNS name with your Web App, the DNS name must be registered as a custom domain name for the App.</span></span> <span data-ttu-id="94719-159">When adding a Web App endpoint as an Azure endpoint, the Traffic Manager profile DNS name is automatically registered for the App.</span><span class="sxs-lookup"><span data-stu-id="94719-159">When adding a Web App endpoint as an Azure endpoint, the Traffic Manager profile DNS name is automatically registered for the App.</span></span> <span data-ttu-id="94719-160">This registration is automatically removed when the endpoint is deleted.</span><span class="sxs-lookup"><span data-stu-id="94719-160">This registration is automatically removed when the endpoint is deleted.</span></span>
3. <span data-ttu-id="94719-161">Each Traffic Manager profile can have at most one Web App endpoint from each Azure region.</span><span class="sxs-lookup"><span data-stu-id="94719-161">Each Traffic Manager profile can have at most one Web App endpoint from each Azure region.</span></span> <span data-ttu-id="94719-162">To work around for this constraint, you can configure a Web App as an External endpoint.</span><span class="sxs-lookup"><span data-stu-id="94719-162">To work around for this constraint, you can configure a Web App as an External endpoint.</span></span> <span data-ttu-id="94719-163">For more information, see the [FAQ](traffic-manager-faqs.md#traffic-manager-endpoints).</span><span class="sxs-lookup"><span data-stu-id="94719-163">For more information, see the [FAQ](traffic-manager-faqs.md#traffic-manager-endpoints).</span></span>

## <a name="enabling-and-disabling-endpoints"></a><span data-ttu-id="94719-164">Enabling and disabling endpoints</span><span class="sxs-lookup"><span data-stu-id="94719-164">Enabling and disabling endpoints</span></span>

<span data-ttu-id="94719-165">Disabling an endpoint in Traffic Manager can be useful to temporarily remove traffic from an endpoint that is in maintenance mode or being redeployed.</span><span class="sxs-lookup"><span data-stu-id="94719-165">Disabling an endpoint in Traffic Manager can be useful to temporarily remove traffic from an endpoint that is in maintenance mode or being redeployed.</span></span> <span data-ttu-id="94719-166">Once the endpoint is running again, it can be re-enabled.</span><span class="sxs-lookup"><span data-stu-id="94719-166">Once the endpoint is running again, it can be re-enabled.</span></span>

<span data-ttu-id="94719-167">Endpoints can be enabled and disabled via the Traffic Manager portal, PowerShell, CLI or REST API, all of which are supported in both Resource Manager and the classic deployment model.</span><span class="sxs-lookup"><span data-stu-id="94719-167">Endpoints can be enabled and disabled via the Traffic Manager portal, PowerShell, CLI or REST API, all of which are supported in both Resource Manager and the classic deployment model.</span></span>

> [!NOTE]
> <span data-ttu-id="94719-168">Disabling an Azure endpoint has nothing to do with its deployment state in Azure.</span><span class="sxs-lookup"><span data-stu-id="94719-168">Disabling an Azure endpoint has nothing to do with its deployment state in Azure.</span></span> <span data-ttu-id="94719-169">An Azure service (such as a VM or Web App remains running and able to receive traffic even when disabled in Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="94719-169">An Azure service (such as a VM or Web App remains running and able to receive traffic even when disabled in Traffic Manager.</span></span> <span data-ttu-id="94719-170">Traffic can be addressed directly to the service instance rather than via the Traffic Manager profile DNS name.</span><span class="sxs-lookup"><span data-stu-id="94719-170">Traffic can be addressed directly to the service instance rather than via the Traffic Manager profile DNS name.</span></span> <span data-ttu-id="94719-171">For more information, see [how Traffic Manager works](traffic-manager-how-traffic-manager-works.md).</span><span class="sxs-lookup"><span data-stu-id="94719-171">For more information, see [how Traffic Manager works](traffic-manager-how-traffic-manager-works.md).</span></span>

<span data-ttu-id="94719-172">The current eligibility of each endpoint to receive traffic depends on the following factors:</span><span class="sxs-lookup"><span data-stu-id="94719-172">The current eligibility of each endpoint to receive traffic depends on the following factors:</span></span>

* <span data-ttu-id="94719-173">The profile status (enabled/disabled)</span><span class="sxs-lookup"><span data-stu-id="94719-173">The profile status (enabled/disabled)</span></span>
* <span data-ttu-id="94719-174">The endpoint status (enabled/disabled)</span><span class="sxs-lookup"><span data-stu-id="94719-174">The endpoint status (enabled/disabled)</span></span>
* <span data-ttu-id="94719-175">The results of the health checks for that endpoint</span><span class="sxs-lookup"><span data-stu-id="94719-175">The results of the health checks for that endpoint</span></span>

<span data-ttu-id="94719-176">For details, see [Traffic Manager endpoint monitoring](traffic-manager-monitoring.md#endpoint-and-profile-status).</span><span class="sxs-lookup"><span data-stu-id="94719-176">For details, see [Traffic Manager endpoint monitoring](traffic-manager-monitoring.md#endpoint-and-profile-status).</span></span>

> [!NOTE]
> <span data-ttu-id="94719-177">Since Traffic Manager works at the DNS level, it is unable to influence existing connections to any endpoint.</span><span class="sxs-lookup"><span data-stu-id="94719-177">Since Traffic Manager works at the DNS level, it is unable to influence existing connections to any endpoint.</span></span> <span data-ttu-id="94719-178">When an endpoint is unavailable, Traffic Manager directs new connections to another available endpoint.</span><span class="sxs-lookup"><span data-stu-id="94719-178">When an endpoint is unavailable, Traffic Manager directs new connections to another available endpoint.</span></span> <span data-ttu-id="94719-179">However, the host behind the disabled or unhealthy endpoint may continue to receive traffic via existing connections until those sessions are terminated.</span><span class="sxs-lookup"><span data-stu-id="94719-179">However, the host behind the disabled or unhealthy endpoint may continue to receive traffic via existing connections until those sessions are terminated.</span></span> <span data-ttu-id="94719-180">Applications should limit the session duration to allow traffic to drain from existing connections.</span><span class="sxs-lookup"><span data-stu-id="94719-180">Applications should limit the session duration to allow traffic to drain from existing connections.</span></span>

<span data-ttu-id="94719-181">If all endpoints in a profile are disabled, or if the profile itself is disabled, then Traffic Manager sends an 'NXDOMAIN' response to a new DNS query.</span><span class="sxs-lookup"><span data-stu-id="94719-181">If all endpoints in a profile are disabled, or if the profile itself is disabled, then Traffic Manager sends an 'NXDOMAIN' response to a new DNS query.</span></span>


## <a name="next-steps"></a><span data-ttu-id="94719-182">Next steps</span><span class="sxs-lookup"><span data-stu-id="94719-182">Next steps</span></span>

* <span data-ttu-id="94719-183">Learn [how Traffic Manager works](traffic-manager-how-traffic-manager-works.md).</span><span class="sxs-lookup"><span data-stu-id="94719-183">Learn [how Traffic Manager works](traffic-manager-how-traffic-manager-works.md).</span></span>
* <span data-ttu-id="94719-184">Learn about Traffic Manager [endpoint monitoring and automatic failover](traffic-manager-monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="94719-184">Learn about Traffic Manager [endpoint monitoring and automatic failover](traffic-manager-monitoring.md).</span></span>
* <span data-ttu-id="94719-185">Learn about Traffic Manager [traffic routing methods](traffic-manager-routing-methods.md).</span><span class="sxs-lookup"><span data-stu-id="94719-185">Learn about Traffic Manager [traffic routing methods](traffic-manager-routing-methods.md).</span></span>

