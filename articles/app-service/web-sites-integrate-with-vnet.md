---
title: Integrate an app with an Azure Virtual Network
description: Shows you how to connect an app in Azure App Service to a new or existing Azure virtual network
services: app-service
documentationcenter: ''
author: ccompy
manager: erikre
editor: cephalin
ms.assetid: 90bc6ec6-133d-4d87-a867-fcf77da75f5a
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/23/2017
ms.author: ccompy
ms.openlocfilehash: 83f5c64926eb9b718463c415a5478af374245f31
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44867086"
---
# <a name="integrate-your-app-with-an-azure-virtual-network"></a><span data-ttu-id="cad21-103">Integrate your app with an Azure Virtual Network</span><span class="sxs-lookup"><span data-stu-id="cad21-103">Integrate your app with an Azure Virtual Network</span></span>
<span data-ttu-id="cad21-104">This document describes the Azure App Service virtual network integration feature and shows how to set it up with apps in [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span><span class="sxs-lookup"><span data-stu-id="cad21-104">This document describes the Azure App Service virtual network integration feature and shows how to set it up with apps in [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span></span> <span data-ttu-id="cad21-105">If you are unfamiliar with Azure Virtual Networks (VNets), this is a capability that allows you to place many of your Azure resources in a non-internet routeable network that you control access to.</span><span class="sxs-lookup"><span data-stu-id="cad21-105">If you are unfamiliar with Azure Virtual Networks (VNets), this is a capability that allows you to place many of your Azure resources in a non-internet routeable network that you control access to.</span></span> <span data-ttu-id="cad21-106">These networks can then be connected to your on-premises networks using a variety of VPN technologies.</span><span class="sxs-lookup"><span data-stu-id="cad21-106">These networks can then be connected to your on-premises networks using a variety of VPN technologies.</span></span> <span data-ttu-id="cad21-107">To learn more about Azure Virtual Networks, start with the information here: [Azure Virtual Network Overview][VNETOverview].</span><span class="sxs-lookup"><span data-stu-id="cad21-107">To learn more about Azure Virtual Networks, start with the information here: [Azure Virtual Network Overview][VNETOverview].</span></span> 

<span data-ttu-id="cad21-108">The Azure App Service has two forms.</span><span class="sxs-lookup"><span data-stu-id="cad21-108">The Azure App Service has two forms.</span></span> 

1. <span data-ttu-id="cad21-109">The multi-tenant systems that support the full range of pricing plans</span><span class="sxs-lookup"><span data-stu-id="cad21-109">The multi-tenant systems that support the full range of pricing plans</span></span>
2. <span data-ttu-id="cad21-110">The App Service Environment (ASE) premium feature, which deploys into your VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-110">The App Service Environment (ASE) premium feature, which deploys into your VNet.</span></span> 

<span data-ttu-id="cad21-111">This document goes through VNet Integration and not App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="cad21-111">This document goes through VNet Integration and not App Service Environment.</span></span> <span data-ttu-id="cad21-112">If you want to learn more about the ASE feature, start with the information here: [App Service Environment introduction][ASEintro].</span><span class="sxs-lookup"><span data-stu-id="cad21-112">If you want to learn more about the ASE feature, start with the information here: [App Service Environment introduction][ASEintro].</span></span>

<span data-ttu-id="cad21-113">VNet Integration gives your web app access to resources in your virtual network but does not grant private access to your web app from the virtual network.</span><span class="sxs-lookup"><span data-stu-id="cad21-113">VNet Integration gives your web app access to resources in your virtual network but does not grant private access to your web app from the virtual network.</span></span> <span data-ttu-id="cad21-114">Private site access refers to making your app only accessible from a private network such as from within an Azure virtual network.</span><span class="sxs-lookup"><span data-stu-id="cad21-114">Private site access refers to making your app only accessible from a private network such as from within an Azure virtual network.</span></span> <span data-ttu-id="cad21-115">Private site access is only available with an ASE configured with an Internal Load Balancer (ILB).</span><span class="sxs-lookup"><span data-stu-id="cad21-115">Private site access is only available with an ASE configured with an Internal Load Balancer (ILB).</span></span> <span data-ttu-id="cad21-116">For details on using an ILB ASE, start with the article here: [Creating and using an ILB ASE][ILBASE].</span><span class="sxs-lookup"><span data-stu-id="cad21-116">For details on using an ILB ASE, start with the article here: [Creating and using an ILB ASE][ILBASE].</span></span> 

<span data-ttu-id="cad21-117">A common scenario where you would use VNet Integration is enabling access from your web app to a database or a web service running on a virtual machine in your Azure virtual network.</span><span class="sxs-lookup"><span data-stu-id="cad21-117">A common scenario where you would use VNet Integration is enabling access from your web app to a database or a web service running on a virtual machine in your Azure virtual network.</span></span> <span data-ttu-id="cad21-118">With VNet Integration, you don't need to expose a public endpoint for applications on your VM but can use the private non-internet routable addresses instead.</span><span class="sxs-lookup"><span data-stu-id="cad21-118">With VNet Integration, you don't need to expose a public endpoint for applications on your VM but can use the private non-internet routable addresses instead.</span></span> 

<span data-ttu-id="cad21-119">The VNet Integration feature:</span><span class="sxs-lookup"><span data-stu-id="cad21-119">The VNet Integration feature:</span></span>

* <span data-ttu-id="cad21-120">requires a Standard, Premium, or Isolated pricing plan</span><span class="sxs-lookup"><span data-stu-id="cad21-120">requires a Standard, Premium, or Isolated pricing plan</span></span> 
* <span data-ttu-id="cad21-121">works with Classic or Resource Manager VNet</span><span class="sxs-lookup"><span data-stu-id="cad21-121">works with Classic or Resource Manager VNet</span></span> 
* <span data-ttu-id="cad21-122">supports TCP and UDP</span><span class="sxs-lookup"><span data-stu-id="cad21-122">supports TCP and UDP</span></span>
* <span data-ttu-id="cad21-123">works with Web, Mobile, API apps and Function apps</span><span class="sxs-lookup"><span data-stu-id="cad21-123">works with Web, Mobile, API apps and Function apps</span></span>
* <span data-ttu-id="cad21-124">enables an app to connect to only 1 VNet at a time</span><span class="sxs-lookup"><span data-stu-id="cad21-124">enables an app to connect to only 1 VNet at a time</span></span>
* <span data-ttu-id="cad21-125">enables up to five VNets to be integrated with in an App Service Plan</span><span class="sxs-lookup"><span data-stu-id="cad21-125">enables up to five VNets to be integrated with in an App Service Plan</span></span> 
* <span data-ttu-id="cad21-126">allows the same VNet to be used by multiple apps in an App Service Plan</span><span class="sxs-lookup"><span data-stu-id="cad21-126">allows the same VNet to be used by multiple apps in an App Service Plan</span></span>
* <span data-ttu-id="cad21-127">supports a 99.9% SLA due to the SLA on the VNet Gateway</span><span class="sxs-lookup"><span data-stu-id="cad21-127">supports a 99.9% SLA due to the SLA on the VNet Gateway</span></span>

<span data-ttu-id="cad21-128">There are some things that VNet Integration does not support including:</span><span class="sxs-lookup"><span data-stu-id="cad21-128">There are some things that VNet Integration does not support including:</span></span>

* <span data-ttu-id="cad21-129">mounting a drive</span><span class="sxs-lookup"><span data-stu-id="cad21-129">mounting a drive</span></span>
* <span data-ttu-id="cad21-130">AD integration</span><span class="sxs-lookup"><span data-stu-id="cad21-130">AD integration</span></span> 
* <span data-ttu-id="cad21-131">NetBios</span><span class="sxs-lookup"><span data-stu-id="cad21-131">NetBios</span></span>
* <span data-ttu-id="cad21-132">private site access</span><span class="sxs-lookup"><span data-stu-id="cad21-132">private site access</span></span>

### <a name="getting-started"></a><span data-ttu-id="cad21-133">Getting started</span><span class="sxs-lookup"><span data-stu-id="cad21-133">Getting started</span></span>
<span data-ttu-id="cad21-134">Here are some things to keep in mind before connecting your web app to a virtual network:</span><span class="sxs-lookup"><span data-stu-id="cad21-134">Here are some things to keep in mind before connecting your web app to a virtual network:</span></span>

* <span data-ttu-id="cad21-135">VNet Integration only works with apps in a **Standard**, **Premium**, or **Isolated** pricing plan.</span><span class="sxs-lookup"><span data-stu-id="cad21-135">VNet Integration only works with apps in a **Standard**, **Premium**, or **Isolated** pricing plan.</span></span> <span data-ttu-id="cad21-136">If you enable the feature, and then scale your App Service Plan to an unsupported pricing plan your apps lose their connections to the VNets they are using.</span><span class="sxs-lookup"><span data-stu-id="cad21-136">If you enable the feature, and then scale your App Service Plan to an unsupported pricing plan your apps lose their connections to the VNets they are using.</span></span> 
* <span data-ttu-id="cad21-137">If your target virtual network already exists, it must have point-to-site VPN enabled with a Dynamic routing gateway before it can be connected to an app.</span><span class="sxs-lookup"><span data-stu-id="cad21-137">If your target virtual network already exists, it must have point-to-site VPN enabled with a Dynamic routing gateway before it can be connected to an app.</span></span> <span data-ttu-id="cad21-138">If your gateway is configured with Static routing, you cannot enable point-to-site Virtual Private Network (VPN).</span><span class="sxs-lookup"><span data-stu-id="cad21-138">If your gateway is configured with Static routing, you cannot enable point-to-site Virtual Private Network (VPN).</span></span>
* <span data-ttu-id="cad21-139">The VNet must be in the same subscription as your App Service Plan(ASP).</span><span class="sxs-lookup"><span data-stu-id="cad21-139">The VNet must be in the same subscription as your App Service Plan(ASP).</span></span>
* <span data-ttu-id="cad21-140">If your gateway already exists with point-to-site enabled, and it is not in the basic SKU, IKEV2 must be disabled in your point-to-site configuration.</span><span class="sxs-lookup"><span data-stu-id="cad21-140">If your gateway already exists with point-to-site enabled, and it is not in the basic SKU, IKEV2 must be disabled in your point-to-site configuration.</span></span>
* <span data-ttu-id="cad21-141">The apps that integrate with a VNet use the DNS that is specified for that VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-141">The apps that integrate with a VNet use the DNS that is specified for that VNet.</span></span>
* <span data-ttu-id="cad21-142">By default your integrating apps only route traffic into your VNet based on the routes that are defined in your VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-142">By default your integrating apps only route traffic into your VNet based on the routes that are defined in your VNet.</span></span> 

## <a name="enabling-vnet-integration"></a><span data-ttu-id="cad21-143">Enabling VNet Integration</span><span class="sxs-lookup"><span data-stu-id="cad21-143">Enabling VNet Integration</span></span>

<span data-ttu-id="cad21-144">You have the option to connect your app to a new or existing virtual network.</span><span class="sxs-lookup"><span data-stu-id="cad21-144">You have the option to connect your app to a new or existing virtual network.</span></span> <span data-ttu-id="cad21-145">If you create a new network as a part of your integration, then in addition to just creating the VNet, a dynamic routing gateway is pre-configured for you and Point to Site VPN is enabled.</span><span class="sxs-lookup"><span data-stu-id="cad21-145">If you create a new network as a part of your integration, then in addition to just creating the VNet, a dynamic routing gateway is pre-configured for you and Point to Site VPN is enabled.</span></span> 

> [!NOTE]
> <span data-ttu-id="cad21-146">Configuring a new virtual network integration can take several minutes.</span><span class="sxs-lookup"><span data-stu-id="cad21-146">Configuring a new virtual network integration can take several minutes.</span></span> 
> 
> 

<span data-ttu-id="cad21-147">To enable VNet Integration, open your app Settings and then select Networking.</span><span class="sxs-lookup"><span data-stu-id="cad21-147">To enable VNet Integration, open your app Settings and then select Networking.</span></span> <span data-ttu-id="cad21-148">The UI that opens up offers three networking choices.</span><span class="sxs-lookup"><span data-stu-id="cad21-148">The UI that opens up offers three networking choices.</span></span> <span data-ttu-id="cad21-149">This guide is only going into VNet Integration though Hybrid Connections and App Service Environments are discussed later in this document.</span><span class="sxs-lookup"><span data-stu-id="cad21-149">This guide is only going into VNet Integration though Hybrid Connections and App Service Environments are discussed later in this document.</span></span> 

<span data-ttu-id="cad21-150">If your app is not in the correct pricing plan, the UI enables you to scale your plan to a higher pricing plan of your choice.</span><span class="sxs-lookup"><span data-stu-id="cad21-150">If your app is not in the correct pricing plan, the UI enables you to scale your plan to a higher pricing plan of your choice.</span></span>

![][1]

### <a name="enabling-vnet-integration-with-a-pre-existing-vnet"></a><span data-ttu-id="cad21-151">Enabling VNet Integration with a pre-existing VNet</span><span class="sxs-lookup"><span data-stu-id="cad21-151">Enabling VNet Integration with a pre-existing VNet</span></span>
<span data-ttu-id="cad21-152">The VNet Integration UI allows you to select from a list of your VNets.</span><span class="sxs-lookup"><span data-stu-id="cad21-152">The VNet Integration UI allows you to select from a list of your VNets.</span></span> <span data-ttu-id="cad21-153">The Classic VNets indicate that they are such with the word "Classic" in parentheses next to the VNet name.</span><span class="sxs-lookup"><span data-stu-id="cad21-153">The Classic VNets indicate that they are such with the word "Classic" in parentheses next to the VNet name.</span></span> <span data-ttu-id="cad21-154">The list is sorted such that the Resource Manager VNets are listed first.</span><span class="sxs-lookup"><span data-stu-id="cad21-154">The list is sorted such that the Resource Manager VNets are listed first.</span></span> <span data-ttu-id="cad21-155">In the image shown below you can see that only one VNet can be selected.</span><span class="sxs-lookup"><span data-stu-id="cad21-155">In the image shown below you can see that only one VNet can be selected.</span></span> <span data-ttu-id="cad21-156">There are multiple reasons that a VNet can be grayed out including:</span><span class="sxs-lookup"><span data-stu-id="cad21-156">There are multiple reasons that a VNet can be grayed out including:</span></span>

* <span data-ttu-id="cad21-157">the VNet is in another subscription that your account has access to</span><span class="sxs-lookup"><span data-stu-id="cad21-157">the VNet is in another subscription that your account has access to</span></span>
* <span data-ttu-id="cad21-158">the VNet does not have Point to Site enabled</span><span class="sxs-lookup"><span data-stu-id="cad21-158">the VNet does not have Point to Site enabled</span></span>
* <span data-ttu-id="cad21-159">the VNet does not have a dynamic routing gateway</span><span class="sxs-lookup"><span data-stu-id="cad21-159">the VNet does not have a dynamic routing gateway</span></span>

![][2]

<span data-ttu-id="cad21-160">To enable integration simply click on the VNet you wish to integrate with.</span><span class="sxs-lookup"><span data-stu-id="cad21-160">To enable integration simply click on the VNet you wish to integrate with.</span></span> <span data-ttu-id="cad21-161">After you select the VNet, your app is automatically restarted for the changes to take effect.</span><span class="sxs-lookup"><span data-stu-id="cad21-161">After you select the VNet, your app is automatically restarted for the changes to take effect.</span></span> 

##### <a name="enable-point-to-site-in-a-classic-vnet"></a><span data-ttu-id="cad21-162">Enable Point to Site in a Classic VNet</span><span class="sxs-lookup"><span data-stu-id="cad21-162">Enable Point to Site in a Classic VNet</span></span>
<span data-ttu-id="cad21-163">If your VNet does not have a gateway nor has Point to Site, then you have to set that up first.</span><span class="sxs-lookup"><span data-stu-id="cad21-163">If your VNet does not have a gateway nor has Point to Site, then you have to set that up first.</span></span> <span data-ttu-id="cad21-164">To do this for a Classic VNet, go to the [Azure portal][AzurePortal] and bring up the list of Virtual Networks(classic).</span><span class="sxs-lookup"><span data-stu-id="cad21-164">To do this for a Classic VNet, go to the [Azure portal][AzurePortal] and bring up the list of Virtual Networks(classic).</span></span> <span data-ttu-id="cad21-165">From here, click on the network you want to integrate with and click on the big box under Essentials called VPN Connections.</span><span class="sxs-lookup"><span data-stu-id="cad21-165">From here, click on the network you want to integrate with and click on the big box under Essentials called VPN Connections.</span></span> <span data-ttu-id="cad21-166">From here, you can create your point to site VPN and even have it create a gateway.</span><span class="sxs-lookup"><span data-stu-id="cad21-166">From here, you can create your point to site VPN and even have it create a gateway.</span></span> <span data-ttu-id="cad21-167">After you go through the point to site with gateway creation experience it is about 30 minutes before it is ready.</span><span class="sxs-lookup"><span data-stu-id="cad21-167">After you go through the point to site with gateway creation experience it is about 30 minutes before it is ready.</span></span> 

![][8]

##### <a name="enabling-point-to-site-in-a-resource-manager-vnet"></a><span data-ttu-id="cad21-168">Enabling Point to Site in a Resource Manager VNet</span><span class="sxs-lookup"><span data-stu-id="cad21-168">Enabling Point to Site in a Resource Manager VNet</span></span>
<span data-ttu-id="cad21-169">To configure a Resource Manager VNet with a gateway and Point to Site, you can use either PowerShell as documented here, [Configure a Point-to-Site connection to a virtual network using PowerShell][V2VNETP2S] or use the Azure portal as documented here, [Configure a Point-to-Site connection to a VNet using the Azure portal][V2VNETPortal].</span><span class="sxs-lookup"><span data-stu-id="cad21-169">To configure a Resource Manager VNet with a gateway and Point to Site, you can use either PowerShell as documented here, [Configure a Point-to-Site connection to a virtual network using PowerShell][V2VNETP2S] or use the Azure portal as documented here, [Configure a Point-to-Site connection to a VNet using the Azure portal][V2VNETPortal].</span></span> <span data-ttu-id="cad21-170">The UI to perform this capability is not yet available.</span><span class="sxs-lookup"><span data-stu-id="cad21-170">The UI to perform this capability is not yet available.</span></span> <span data-ttu-id="cad21-171">Note that you don't need to create certificates for the Point to Site configuration.</span><span class="sxs-lookup"><span data-stu-id="cad21-171">Note that you don't need to create certificates for the Point to Site configuration.</span></span> <span data-ttu-id="cad21-172">This is automatically configured when you connect your WebApp to the VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-172">This is automatically configured when you connect your WebApp to the VNet.</span></span> 

### <a name="creating-a-pre-configured-vnet"></a><span data-ttu-id="cad21-173">Creating a pre-configured VNet</span><span class="sxs-lookup"><span data-stu-id="cad21-173">Creating a pre-configured VNet</span></span>
<span data-ttu-id="cad21-174">If you want to create a new VNet that is configured with a gateway and Point-to-Site, then the App Service networking UI has the capability to do that but only for a Resource Manager VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-174">If you want to create a new VNet that is configured with a gateway and Point-to-Site, then the App Service networking UI has the capability to do that but only for a Resource Manager VNet.</span></span> <span data-ttu-id="cad21-175">If you wish to create a Classic VNet with a gateway and Point-to-Site, then you need to do this manually through the Networking user interface.</span><span class="sxs-lookup"><span data-stu-id="cad21-175">If you wish to create a Classic VNet with a gateway and Point-to-Site, then you need to do this manually through the Networking user interface.</span></span> 

<span data-ttu-id="cad21-176">To create a Resource Manager VNet through the VNet Integration UI, simply select **Create New Virtual Network** and provide the:</span><span class="sxs-lookup"><span data-stu-id="cad21-176">To create a Resource Manager VNet through the VNet Integration UI, simply select **Create New Virtual Network** and provide the:</span></span>

* <span data-ttu-id="cad21-177">Virtual Network Name</span><span class="sxs-lookup"><span data-stu-id="cad21-177">Virtual Network Name</span></span>
* <span data-ttu-id="cad21-178">Virtual Network Address Block</span><span class="sxs-lookup"><span data-stu-id="cad21-178">Virtual Network Address Block</span></span>
* <span data-ttu-id="cad21-179">Subnet Name</span><span class="sxs-lookup"><span data-stu-id="cad21-179">Subnet Name</span></span>
* <span data-ttu-id="cad21-180">Subnet Address Block</span><span class="sxs-lookup"><span data-stu-id="cad21-180">Subnet Address Block</span></span>
* <span data-ttu-id="cad21-181">Gateway Address Block</span><span class="sxs-lookup"><span data-stu-id="cad21-181">Gateway Address Block</span></span>
* <span data-ttu-id="cad21-182">Point-to-Site Address Block</span><span class="sxs-lookup"><span data-stu-id="cad21-182">Point-to-Site Address Block</span></span>

<span data-ttu-id="cad21-183">If you want this VNet to connect to any other networks, then you should avoid picking IP address space that overlaps with those networks.</span><span class="sxs-lookup"><span data-stu-id="cad21-183">If you want this VNet to connect to any other networks, then you should avoid picking IP address space that overlaps with those networks.</span></span> 

> [!NOTE]
> <span data-ttu-id="cad21-184">Resource Manager VNet creation with a gateway takes about 30 minutes and currently does not integrate the VNet with your app.</span><span class="sxs-lookup"><span data-stu-id="cad21-184">Resource Manager VNet creation with a gateway takes about 30 minutes and currently does not integrate the VNet with your app.</span></span> <span data-ttu-id="cad21-185">After your VNet is created with the gateway you need to come back to your app VNet Integration UI and select your new VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-185">After your VNet is created with the gateway you need to come back to your app VNet Integration UI and select your new VNet.</span></span>
> 
> 

![][3]

<span data-ttu-id="cad21-186">Azure VNets normally are created within private network addresses.</span><span class="sxs-lookup"><span data-stu-id="cad21-186">Azure VNets normally are created within private network addresses.</span></span> <span data-ttu-id="cad21-187">By default the VNet Integration feature routes any traffic destined for those IP address ranges into your VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-187">By default the VNet Integration feature routes any traffic destined for those IP address ranges into your VNet.</span></span> <span data-ttu-id="cad21-188">The private IP address ranges are:</span><span class="sxs-lookup"><span data-stu-id="cad21-188">The private IP address ranges are:</span></span>

* <span data-ttu-id="cad21-189">10.0.0.0/8 - this is the same as 10.0.0.0 - 10.255.255.255</span><span class="sxs-lookup"><span data-stu-id="cad21-189">10.0.0.0/8 - this is the same as 10.0.0.0 - 10.255.255.255</span></span>
* <span data-ttu-id="cad21-190">172.16.0.0/12 - this is the same as 172.16.0.0 - 172.31.255.255</span><span class="sxs-lookup"><span data-stu-id="cad21-190">172.16.0.0/12 - this is the same as 172.16.0.0 - 172.31.255.255</span></span> 
* <span data-ttu-id="cad21-191">192.168.0.0/16 - this is the same as 192.168.0.0 - 192.168.255.255</span><span class="sxs-lookup"><span data-stu-id="cad21-191">192.168.0.0/16 - this is the same as 192.168.0.0 - 192.168.255.255</span></span>

<span data-ttu-id="cad21-192">The VNet address space needs to be specified in CIDR notation.</span><span class="sxs-lookup"><span data-stu-id="cad21-192">The VNet address space needs to be specified in CIDR notation.</span></span> <span data-ttu-id="cad21-193">If you are unfamiliar with CIDR notation, it is a method for specifying address blocks using an IP address and an integer that represents the network mask.</span><span class="sxs-lookup"><span data-stu-id="cad21-193">If you are unfamiliar with CIDR notation, it is a method for specifying address blocks using an IP address and an integer that represents the network mask.</span></span> <span data-ttu-id="cad21-194">As a quick reference, consider that 10.1.0.0/24 would be 256 addresses and 10.1.0.0/25 would be 128 addresses.</span><span class="sxs-lookup"><span data-stu-id="cad21-194">As a quick reference, consider that 10.1.0.0/24 would be 256 addresses and 10.1.0.0/25 would be 128 addresses.</span></span> <span data-ttu-id="cad21-195">An IPv4 address with a /32 would be just 1 address.</span><span class="sxs-lookup"><span data-stu-id="cad21-195">An IPv4 address with a /32 would be just 1 address.</span></span> 

<span data-ttu-id="cad21-196">If you set the DNS server information here, then that is set for your VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-196">If you set the DNS server information here, then that is set for your VNet.</span></span> <span data-ttu-id="cad21-197">After VNet creation you can edit this information from the VNet user experiences.</span><span class="sxs-lookup"><span data-stu-id="cad21-197">After VNet creation you can edit this information from the VNet user experiences.</span></span> <span data-ttu-id="cad21-198">If you change the DNS of the VNet, then you need to perform a Sync Network operation.</span><span class="sxs-lookup"><span data-stu-id="cad21-198">If you change the DNS of the VNet, then you need to perform a Sync Network operation.</span></span>

<span data-ttu-id="cad21-199">When you create a Classic VNet using the VNet Integration UI, it creates a VNet in the same resource group as your app.</span><span class="sxs-lookup"><span data-stu-id="cad21-199">When you create a Classic VNet using the VNet Integration UI, it creates a VNet in the same resource group as your app.</span></span> 

## <a name="how-the-system-works"></a><span data-ttu-id="cad21-200">How the system works</span><span class="sxs-lookup"><span data-stu-id="cad21-200">How the system works</span></span>
<span data-ttu-id="cad21-201">Under the covers this feature builds on top of Point-to-Site VPN technology to connect your app to your VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-201">Under the covers this feature builds on top of Point-to-Site VPN technology to connect your app to your VNet.</span></span> <span data-ttu-id="cad21-202">Apps in Azure App Service have a multi-tenant system architecture, which precludes provisioning an app directly in a VNet as is done with virtual machines.</span><span class="sxs-lookup"><span data-stu-id="cad21-202">Apps in Azure App Service have a multi-tenant system architecture, which precludes provisioning an app directly in a VNet as is done with virtual machines.</span></span> <span data-ttu-id="cad21-203">By building on point-to-site technology we limit network access to just the virtual machine hosting the app.</span><span class="sxs-lookup"><span data-stu-id="cad21-203">By building on point-to-site technology we limit network access to just the virtual machine hosting the app.</span></span> <span data-ttu-id="cad21-204">Access to the network is further restricted on those app hosts so that your apps can only access the networks that you configure them to access.</span><span class="sxs-lookup"><span data-stu-id="cad21-204">Access to the network is further restricted on those app hosts so that your apps can only access the networks that you configure them to access.</span></span> 

![][4]

<span data-ttu-id="cad21-205">If you haven’t configured a DNS server with your virtual network, your app will need to use IP addresses to reach resource in the VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-205">If you haven’t configured a DNS server with your virtual network, your app will need to use IP addresses to reach resource in the VNet.</span></span> <span data-ttu-id="cad21-206">While using IP addresses, remember that the major benefit of this feature is that it enables you to use the private addresses within your private network.</span><span class="sxs-lookup"><span data-stu-id="cad21-206">While using IP addresses, remember that the major benefit of this feature is that it enables you to use the private addresses within your private network.</span></span> <span data-ttu-id="cad21-207">If you set your app up to use public IP addresses for one of your VMs, then you aren't using the VNet Integration feature and are communicating over the internet.</span><span class="sxs-lookup"><span data-stu-id="cad21-207">If you set your app up to use public IP addresses for one of your VMs, then you aren't using the VNet Integration feature and are communicating over the internet.</span></span>

## <a name="managing-the-vnet-integrations"></a><span data-ttu-id="cad21-208">Managing the VNet Integrations</span><span class="sxs-lookup"><span data-stu-id="cad21-208">Managing the VNet Integrations</span></span>
<span data-ttu-id="cad21-209">The ability to connect and disconnect to a VNet is at an app level.</span><span class="sxs-lookup"><span data-stu-id="cad21-209">The ability to connect and disconnect to a VNet is at an app level.</span></span> <span data-ttu-id="cad21-210">Operations that can affect the VNet Integration across multiple apps are at an ASP level.</span><span class="sxs-lookup"><span data-stu-id="cad21-210">Operations that can affect the VNet Integration across multiple apps are at an ASP level.</span></span> <span data-ttu-id="cad21-211">From the UI that is shown at the app level, you can get details on your VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-211">From the UI that is shown at the app level, you can get details on your VNet.</span></span> <span data-ttu-id="cad21-212">Most of the same information is also shown at the ASP level.</span><span class="sxs-lookup"><span data-stu-id="cad21-212">Most of the same information is also shown at the ASP level.</span></span> 

![][5]

<span data-ttu-id="cad21-213">From the Network Feature Status page, you can see if your app is connected to your VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-213">From the Network Feature Status page, you can see if your app is connected to your VNet.</span></span> <span data-ttu-id="cad21-214">If your VNet gateway is down for whatever reason, then this would show as not-connected.</span><span class="sxs-lookup"><span data-stu-id="cad21-214">If your VNet gateway is down for whatever reason, then this would show as not-connected.</span></span> 

<span data-ttu-id="cad21-215">The information you now have available to you in the app level VNet Integration UI is the same as the detail information you get from the ASP.</span><span class="sxs-lookup"><span data-stu-id="cad21-215">The information you now have available to you in the app level VNet Integration UI is the same as the detail information you get from the ASP.</span></span> <span data-ttu-id="cad21-216">Here are those items:</span><span class="sxs-lookup"><span data-stu-id="cad21-216">Here are those items:</span></span>

* <span data-ttu-id="cad21-217">VNet Name - This link opens the Azure virtual network UI</span><span class="sxs-lookup"><span data-stu-id="cad21-217">VNet Name - This link opens the Azure virtual network UI</span></span>
* <span data-ttu-id="cad21-218">Location - This reflects the location of your VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-218">Location - This reflects the location of your VNet.</span></span> <span data-ttu-id="cad21-219">It is possible to integrate with a VNet in another location.</span><span class="sxs-lookup"><span data-stu-id="cad21-219">It is possible to integrate with a VNet in another location.</span></span>
* <span data-ttu-id="cad21-220">Certificate Status - There are certificates used to secure the VPN connection between the app and the VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-220">Certificate Status - There are certificates used to secure the VPN connection between the app and the VNet.</span></span> <span data-ttu-id="cad21-221">This reflects a test to ensure they are in sync.</span><span class="sxs-lookup"><span data-stu-id="cad21-221">This reflects a test to ensure they are in sync.</span></span>
* <span data-ttu-id="cad21-222">Gateway Status - Should your gateways be down for whatever reason then your app cannot access resources in the VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-222">Gateway Status - Should your gateways be down for whatever reason then your app cannot access resources in the VNet.</span></span> 
* <span data-ttu-id="cad21-223">VNet address space - This is the IP address space for your VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-223">VNet address space - This is the IP address space for your VNet.</span></span> 
* <span data-ttu-id="cad21-224">Point to Site address space - This is the point to site IP address space for your VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-224">Point to Site address space - This is the point to site IP address space for your VNet.</span></span> <span data-ttu-id="cad21-225">Your app shows communication as coming from one of the IPs in this address space.</span><span class="sxs-lookup"><span data-stu-id="cad21-225">Your app shows communication as coming from one of the IPs in this address space.</span></span> 
* <span data-ttu-id="cad21-226">Site to site address space - You can use Site to Site VPNs to connect your VNet to your on-premises resources or to other VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-226">Site to site address space - You can use Site to Site VPNs to connect your VNet to your on-premises resources or to other VNet.</span></span> <span data-ttu-id="cad21-227">Should you have that configured then the IP ranges defined with that VPN connection shows here.</span><span class="sxs-lookup"><span data-stu-id="cad21-227">Should you have that configured then the IP ranges defined with that VPN connection shows here.</span></span>
* <span data-ttu-id="cad21-228">DNS Servers - If you have DNS Servers configured with your VNet, then they are listed here.</span><span class="sxs-lookup"><span data-stu-id="cad21-228">DNS Servers - If you have DNS Servers configured with your VNet, then they are listed here.</span></span>
* <span data-ttu-id="cad21-229">IPs routed to the VNet - There are a list of IP addresses that your VNet has routing defined for, and those addresses show here.</span><span class="sxs-lookup"><span data-stu-id="cad21-229">IPs routed to the VNet - There are a list of IP addresses that your VNet has routing defined for, and those addresses show here.</span></span> 

<span data-ttu-id="cad21-230">The only operation you can take in the app view of your VNet Integration is to disconnect your app from the VNet it is currently connected to.</span><span class="sxs-lookup"><span data-stu-id="cad21-230">The only operation you can take in the app view of your VNet Integration is to disconnect your app from the VNet it is currently connected to.</span></span> <span data-ttu-id="cad21-231">To do this simply click Disconnect at the top.</span><span class="sxs-lookup"><span data-stu-id="cad21-231">To do this simply click Disconnect at the top.</span></span> <span data-ttu-id="cad21-232">This action does not change your VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-232">This action does not change your VNet.</span></span> <span data-ttu-id="cad21-233">The VNet and its configuration including the gateways remains unchanged.</span><span class="sxs-lookup"><span data-stu-id="cad21-233">The VNet and its configuration including the gateways remains unchanged.</span></span> <span data-ttu-id="cad21-234">If you then want to delete your VNet, you need to first delete the resources in it including the gateways.</span><span class="sxs-lookup"><span data-stu-id="cad21-234">If you then want to delete your VNet, you need to first delete the resources in it including the gateways.</span></span> 

<span data-ttu-id="cad21-235">The App Service Plan view has a number of additional operations.</span><span class="sxs-lookup"><span data-stu-id="cad21-235">The App Service Plan view has a number of additional operations.</span></span> <span data-ttu-id="cad21-236">It is also accessed differently than from the app.</span><span class="sxs-lookup"><span data-stu-id="cad21-236">It is also accessed differently than from the app.</span></span> <span data-ttu-id="cad21-237">To reach the ASP Networking UI simply open your ASP UI and scroll down.</span><span class="sxs-lookup"><span data-stu-id="cad21-237">To reach the ASP Networking UI simply open your ASP UI and scroll down.</span></span> <span data-ttu-id="cad21-238">There is a UI element called Network Feature Status.</span><span class="sxs-lookup"><span data-stu-id="cad21-238">There is a UI element called Network Feature Status.</span></span> <span data-ttu-id="cad21-239">It gives some minor details around your VNet Integration.</span><span class="sxs-lookup"><span data-stu-id="cad21-239">It gives some minor details around your VNet Integration.</span></span> <span data-ttu-id="cad21-240">Clicking on this UI opens the Network Feature Status UI.</span><span class="sxs-lookup"><span data-stu-id="cad21-240">Clicking on this UI opens the Network Feature Status UI.</span></span> <span data-ttu-id="cad21-241">If you then click on "Click here to manage", the UI that lists the VNet Integrations in this ASP opens.</span><span class="sxs-lookup"><span data-stu-id="cad21-241">If you then click on "Click here to manage", the UI that lists the VNet Integrations in this ASP opens.</span></span>

![][6]

<span data-ttu-id="cad21-242">The location of the ASP is good to remember when looking at the locations of the VNets you are integrating with.</span><span class="sxs-lookup"><span data-stu-id="cad21-242">The location of the ASP is good to remember when looking at the locations of the VNets you are integrating with.</span></span> <span data-ttu-id="cad21-243">When the VNet is in another location you are far more likely to see latency issues.</span><span class="sxs-lookup"><span data-stu-id="cad21-243">When the VNet is in another location you are far more likely to see latency issues.</span></span> 

<span data-ttu-id="cad21-244">The VNets integrated with is a reminder on how many VNets your apps are integrated with in this ASP and how many you can have.</span><span class="sxs-lookup"><span data-stu-id="cad21-244">The VNets integrated with is a reminder on how many VNets your apps are integrated with in this ASP and how many you can have.</span></span> 

<span data-ttu-id="cad21-245">To see added details on each VNet, just click on the VNet you are interested in.</span><span class="sxs-lookup"><span data-stu-id="cad21-245">To see added details on each VNet, just click on the VNet you are interested in.</span></span> <span data-ttu-id="cad21-246">In addition to the details that were noted earlier, you can also see a list of the apps in this ASP that are using that VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-246">In addition to the details that were noted earlier, you can also see a list of the apps in this ASP that are using that VNet.</span></span> 

<span data-ttu-id="cad21-247">With respect to actions there are two primary actions.</span><span class="sxs-lookup"><span data-stu-id="cad21-247">With respect to actions there are two primary actions.</span></span> <span data-ttu-id="cad21-248">The first is the ability to add routes that drive traffic leaving your app into your VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-248">The first is the ability to add routes that drive traffic leaving your app into your VNet.</span></span> <span data-ttu-id="cad21-249">The second action is the ability to sync certificates and network information.</span><span class="sxs-lookup"><span data-stu-id="cad21-249">The second action is the ability to sync certificates and network information.</span></span>

![][7]

<span data-ttu-id="cad21-250">**Routing** As noted earlier the routes that are defined in your VNet are what is used for directing traffic into your VNet from your app.</span><span class="sxs-lookup"><span data-stu-id="cad21-250">**Routing** As noted earlier the routes that are defined in your VNet are what is used for directing traffic into your VNet from your app.</span></span> <span data-ttu-id="cad21-251">There are some uses though where customers want to send additional outbound traffic from an app into the VNet and for them this capability is provided.</span><span class="sxs-lookup"><span data-stu-id="cad21-251">There are some uses though where customers want to send additional outbound traffic from an app into the VNet and for them this capability is provided.</span></span> <span data-ttu-id="cad21-252">What happens to the traffic after that is up to how the customer configures their VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-252">What happens to the traffic after that is up to how the customer configures their VNet.</span></span> 

<span data-ttu-id="cad21-253">**Certificates** The Certificate Status reflects a check being performed by the App Service to validate that the certificates that we are using for the VPN connection are still good.</span><span class="sxs-lookup"><span data-stu-id="cad21-253">**Certificates** The Certificate Status reflects a check being performed by the App Service to validate that the certificates that we are using for the VPN connection are still good.</span></span> <span data-ttu-id="cad21-254">When VNet Integration enabled, then if this is the first integration to that VNet from any apps in this ASP, there is a required exchange of certificates to ensure the security of the connection.</span><span class="sxs-lookup"><span data-stu-id="cad21-254">When VNet Integration enabled, then if this is the first integration to that VNet from any apps in this ASP, there is a required exchange of certificates to ensure the security of the connection.</span></span> <span data-ttu-id="cad21-255">Along with the certificates we get the DNS configuration, routes and other similar things that describe the network.</span><span class="sxs-lookup"><span data-stu-id="cad21-255">Along with the certificates we get the DNS configuration, routes and other similar things that describe the network.</span></span>
<span data-ttu-id="cad21-256">If those certificates or network information is changed, then you need to click "Sync Network".</span><span class="sxs-lookup"><span data-stu-id="cad21-256">If those certificates or network information is changed, then you need to click "Sync Network".</span></span> <span data-ttu-id="cad21-257">**NOTE**: When you click "Sync Network" then you cause a brief outage in connectivity between your app and your VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-257">**NOTE**: When you click "Sync Network" then you cause a brief outage in connectivity between your app and your VNet.</span></span> <span data-ttu-id="cad21-258">While your app is not restarted, the loss of connectivity could cause your site to not function properly.</span><span class="sxs-lookup"><span data-stu-id="cad21-258">While your app is not restarted, the loss of connectivity could cause your site to not function properly.</span></span> 

## <a name="accessing-on-premises-resources"></a><span data-ttu-id="cad21-259">Accessing on-premises resources</span><span class="sxs-lookup"><span data-stu-id="cad21-259">Accessing on-premises resources</span></span>
<span data-ttu-id="cad21-260">One of the benefits of the VNet Integration feature is that if your VNet is connected to your on-premises network with a Site to Site VPN then your apps can have access to your on-premises resources from your app.</span><span class="sxs-lookup"><span data-stu-id="cad21-260">One of the benefits of the VNet Integration feature is that if your VNet is connected to your on-premises network with a Site to Site VPN then your apps can have access to your on-premises resources from your app.</span></span> <span data-ttu-id="cad21-261">For this to work though you may need to update your on-premises VPN gateway with the routes for your Point to Site IP range.</span><span class="sxs-lookup"><span data-stu-id="cad21-261">For this to work though you may need to update your on-premises VPN gateway with the routes for your Point to Site IP range.</span></span> <span data-ttu-id="cad21-262">When the Site to Site VPN is first set up then the scripts used to configure it should set up routes including your Point to Site VPN.</span><span class="sxs-lookup"><span data-stu-id="cad21-262">When the Site to Site VPN is first set up then the scripts used to configure it should set up routes including your Point to Site VPN.</span></span> <span data-ttu-id="cad21-263">If you add the Point to Site VPN after you create your Site to Site VPN, then you need to update the routes manually.</span><span class="sxs-lookup"><span data-stu-id="cad21-263">If you add the Point to Site VPN after you create your Site to Site VPN, then you need to update the routes manually.</span></span> <span data-ttu-id="cad21-264">Details on how to do that vary per gateway and are not described here.</span><span class="sxs-lookup"><span data-stu-id="cad21-264">Details on how to do that vary per gateway and are not described here.</span></span> 

> [!NOTE]
> <span data-ttu-id="cad21-265">The VNet Integration feature does not integrate an app with a VNet that has an ExpressRoute Gateway.</span><span class="sxs-lookup"><span data-stu-id="cad21-265">The VNet Integration feature does not integrate an app with a VNet that has an ExpressRoute Gateway.</span></span> <span data-ttu-id="cad21-266">Even if the ExpressRoute Gateway is configured in [coexistence mode][VPNERCoex] the VNet Integration does not work.</span><span class="sxs-lookup"><span data-stu-id="cad21-266">Even if the ExpressRoute Gateway is configured in [coexistence mode][VPNERCoex] the VNet Integration does not work.</span></span> <span data-ttu-id="cad21-267">If you need to access resources through an ExpressRoute connection, then you can use an [App Service Environment][ASE], which runs in your VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-267">If you need to access resources through an ExpressRoute connection, then you can use an [App Service Environment][ASE], which runs in your VNet.</span></span>
> 
> 

## <a name="pricing-details"></a><span data-ttu-id="cad21-268">Pricing details</span><span class="sxs-lookup"><span data-stu-id="cad21-268">Pricing details</span></span>
<span data-ttu-id="cad21-269">There are a few pricing nuances that you should be aware of when using the VNet Integration feature.</span><span class="sxs-lookup"><span data-stu-id="cad21-269">There are a few pricing nuances that you should be aware of when using the VNet Integration feature.</span></span> <span data-ttu-id="cad21-270">There are 3 related charges to the use of this feature:</span><span class="sxs-lookup"><span data-stu-id="cad21-270">There are 3 related charges to the use of this feature:</span></span>

* <span data-ttu-id="cad21-271">ASP pricing tier requirements</span><span class="sxs-lookup"><span data-stu-id="cad21-271">ASP pricing tier requirements</span></span>
* <span data-ttu-id="cad21-272">Data transfer costs</span><span class="sxs-lookup"><span data-stu-id="cad21-272">Data transfer costs</span></span>
* <span data-ttu-id="cad21-273">VPN Gateway costs.</span><span class="sxs-lookup"><span data-stu-id="cad21-273">VPN Gateway costs.</span></span>

<span data-ttu-id="cad21-274">For your apps to be able to use this feature, they need to be in a Standard or Premium App Service Plan.</span><span class="sxs-lookup"><span data-stu-id="cad21-274">For your apps to be able to use this feature, they need to be in a Standard or Premium App Service Plan.</span></span> <span data-ttu-id="cad21-275">You can see more details on those costs here: [App Service Pricing][ASPricing].</span><span class="sxs-lookup"><span data-stu-id="cad21-275">You can see more details on those costs here: [App Service Pricing][ASPricing].</span></span> 

<span data-ttu-id="cad21-276">Due to the way Point to Site VPNs are handled, you always have a charge for outbound data through your VNet Integration connection even if the VNet is in the same data center.</span><span class="sxs-lookup"><span data-stu-id="cad21-276">Due to the way Point to Site VPNs are handled, you always have a charge for outbound data through your VNet Integration connection even if the VNet is in the same data center.</span></span> <span data-ttu-id="cad21-277">To see what those charges are, take a look here: [Data Transfer Pricing Details][DataPricing].</span><span class="sxs-lookup"><span data-stu-id="cad21-277">To see what those charges are, take a look here: [Data Transfer Pricing Details][DataPricing].</span></span> 

<span data-ttu-id="cad21-278">The last item is the cost of the VNet gateways.</span><span class="sxs-lookup"><span data-stu-id="cad21-278">The last item is the cost of the VNet gateways.</span></span> <span data-ttu-id="cad21-279">If you don't need the gateways for something else such as Site to Site VPNs, then you are paying for gateways to support the VNet Integration feature.</span><span class="sxs-lookup"><span data-stu-id="cad21-279">If you don't need the gateways for something else such as Site to Site VPNs, then you are paying for gateways to support the VNet Integration feature.</span></span> <span data-ttu-id="cad21-280">There are details on those costs here: [VPN Gateway Pricing][VNETPricing].</span><span class="sxs-lookup"><span data-stu-id="cad21-280">There are details on those costs here: [VPN Gateway Pricing][VNETPricing].</span></span> 

## <a name="troubleshooting"></a><span data-ttu-id="cad21-281">Troubleshooting</span><span class="sxs-lookup"><span data-stu-id="cad21-281">Troubleshooting</span></span>
<span data-ttu-id="cad21-282">While the feature is easy to set up, that doesn't mean that your experience will be problem free.</span><span class="sxs-lookup"><span data-stu-id="cad21-282">While the feature is easy to set up, that doesn't mean that your experience will be problem free.</span></span> <span data-ttu-id="cad21-283">Should you encounter problems accessing your desired endpoint there are some utilities you can use to test connectivity from the app console.</span><span class="sxs-lookup"><span data-stu-id="cad21-283">Should you encounter problems accessing your desired endpoint there are some utilities you can use to test connectivity from the app console.</span></span> <span data-ttu-id="cad21-284">There are two console experiences you can use.</span><span class="sxs-lookup"><span data-stu-id="cad21-284">There are two console experiences you can use.</span></span> <span data-ttu-id="cad21-285">One is from the Kudu console and the other is the console that you can reach in the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="cad21-285">One is from the Kudu console and the other is the console that you can reach in the Azure portal.</span></span> <span data-ttu-id="cad21-286">To get to the Kudu console from your app go to Tools -> Kudu.</span><span class="sxs-lookup"><span data-stu-id="cad21-286">To get to the Kudu console from your app go to Tools -> Kudu.</span></span> <span data-ttu-id="cad21-287">This is the same as going to [sitename].scm.azurewebsites.net.</span><span class="sxs-lookup"><span data-stu-id="cad21-287">This is the same as going to [sitename].scm.azurewebsites.net.</span></span> <span data-ttu-id="cad21-288">Once that opens simply go to the Debug console tab. To get to the Azure portal hosted console then from your app go to Tools -> Console.</span><span class="sxs-lookup"><span data-stu-id="cad21-288">Once that opens simply go to the Debug console tab. To get to the Azure portal hosted console then from your app go to Tools -> Console.</span></span> 

#### <a name="tools"></a><span data-ttu-id="cad21-289">Tools</span><span class="sxs-lookup"><span data-stu-id="cad21-289">Tools</span></span>
<span data-ttu-id="cad21-290">The tools ping, nslookup and tracert won’t work through the console due to security constraints.</span><span class="sxs-lookup"><span data-stu-id="cad21-290">The tools ping, nslookup and tracert won’t work through the console due to security constraints.</span></span> <span data-ttu-id="cad21-291">To fill the void there have been two separate tools added.</span><span class="sxs-lookup"><span data-stu-id="cad21-291">To fill the void there have been two separate tools added.</span></span> <span data-ttu-id="cad21-292">In order to test DNS functionality we added a tool named nameresolver.exe.</span><span class="sxs-lookup"><span data-stu-id="cad21-292">In order to test DNS functionality we added a tool named nameresolver.exe.</span></span> <span data-ttu-id="cad21-293">The syntax is:</span><span class="sxs-lookup"><span data-stu-id="cad21-293">The syntax is:</span></span>

    nameresolver.exe hostname [optional: DNS Server]

<span data-ttu-id="cad21-294">You can use nameresolver to check the hostnames that your app depends on.</span><span class="sxs-lookup"><span data-stu-id="cad21-294">You can use nameresolver to check the hostnames that your app depends on.</span></span> <span data-ttu-id="cad21-295">This way you can test if you have anything mis-configured with your DNS or perhaps don't have access to your DNS server.</span><span class="sxs-lookup"><span data-stu-id="cad21-295">This way you can test if you have anything mis-configured with your DNS or perhaps don't have access to your DNS server.</span></span>

<span data-ttu-id="cad21-296">The next tool allows you to test for TCP connectivity to a host and port combination.</span><span class="sxs-lookup"><span data-stu-id="cad21-296">The next tool allows you to test for TCP connectivity to a host and port combination.</span></span> <span data-ttu-id="cad21-297">This tool is called tcpping.exe and the syntax is:</span><span class="sxs-lookup"><span data-stu-id="cad21-297">This tool is called tcpping.exe and the syntax is:</span></span>

    tcpping.exe hostname [optional: port]

<span data-ttu-id="cad21-298">The tcpping utility tells you if you can reach a specific host and port.</span><span class="sxs-lookup"><span data-stu-id="cad21-298">The tcpping utility tells you if you can reach a specific host and port.</span></span> <span data-ttu-id="cad21-299">It only can show success if: there is an application listening at the host and port combination, and there is network access from your app to the specified host and port.</span><span class="sxs-lookup"><span data-stu-id="cad21-299">It only can show success if: there is an application listening at the host and port combination, and there is network access from your app to the specified host and port.</span></span>

#### <a name="debugging-access-to-vnet-hosted-resources"></a><span data-ttu-id="cad21-300">Debugging access to VNet hosted resources</span><span class="sxs-lookup"><span data-stu-id="cad21-300">Debugging access to VNet hosted resources</span></span>
<span data-ttu-id="cad21-301">There are a number of things that can prevent your app from reaching a specific host and port.</span><span class="sxs-lookup"><span data-stu-id="cad21-301">There are a number of things that can prevent your app from reaching a specific host and port.</span></span> <span data-ttu-id="cad21-302">Most of the time it is one of three things:</span><span class="sxs-lookup"><span data-stu-id="cad21-302">Most of the time it is one of three things:</span></span>

* <span data-ttu-id="cad21-303">**There is a firewall in the way** If you have a firewall in the way, you will hit the TCP timeout.</span><span class="sxs-lookup"><span data-stu-id="cad21-303">**There is a firewall in the way** If you have a firewall in the way, you will hit the TCP timeout.</span></span> <span data-ttu-id="cad21-304">That is 21 seconds in this case.</span><span class="sxs-lookup"><span data-stu-id="cad21-304">That is 21 seconds in this case.</span></span> <span data-ttu-id="cad21-305">Use the tcpping tool to test connectivity.</span><span class="sxs-lookup"><span data-stu-id="cad21-305">Use the tcpping tool to test connectivity.</span></span> <span data-ttu-id="cad21-306">TCP timeouts can be due to many things beyond firewalls but start there.</span><span class="sxs-lookup"><span data-stu-id="cad21-306">TCP timeouts can be due to many things beyond firewalls but start there.</span></span> 
* <span data-ttu-id="cad21-307">**DNS is not accessible** The DNS timeout is three seconds per DNS server.</span><span class="sxs-lookup"><span data-stu-id="cad21-307">**DNS is not accessible** The DNS timeout is three seconds per DNS server.</span></span> <span data-ttu-id="cad21-308">If you have two DNS servers, the timeout is 6 seconds.</span><span class="sxs-lookup"><span data-stu-id="cad21-308">If you have two DNS servers, the timeout is 6 seconds.</span></span> <span data-ttu-id="cad21-309">Use nameresolver to see if DNS is working.</span><span class="sxs-lookup"><span data-stu-id="cad21-309">Use nameresolver to see if DNS is working.</span></span> <span data-ttu-id="cad21-310">Remember you can't use nslookup as that does not use the DNS your VNet is configured with.</span><span class="sxs-lookup"><span data-stu-id="cad21-310">Remember you can't use nslookup as that does not use the DNS your VNet is configured with.</span></span>
* <span data-ttu-id="cad21-311">**Invalid P2S IP range** The point to site IP range needs to be in the RFC 1918 private IP ranges (10.0.0.0-10.255.255.255 / 172.16.0.0-172.31.255.255 / 192.168.0.0-192.168.255.255).</span><span class="sxs-lookup"><span data-stu-id="cad21-311">**Invalid P2S IP range** The point to site IP range needs to be in the RFC 1918 private IP ranges (10.0.0.0-10.255.255.255 / 172.16.0.0-172.31.255.255 / 192.168.0.0-192.168.255.255).</span></span> <span data-ttu-id="cad21-312">If the range uses IPs outside of that, then things won't work.</span><span class="sxs-lookup"><span data-stu-id="cad21-312">If the range uses IPs outside of that, then things won't work.</span></span> 

<span data-ttu-id="cad21-313">If those items don't answer your problem, look first for the simple things like:</span><span class="sxs-lookup"><span data-stu-id="cad21-313">If those items don't answer your problem, look first for the simple things like:</span></span> 

* <span data-ttu-id="cad21-314">Does the Gateway show as being up in the portal?</span><span class="sxs-lookup"><span data-stu-id="cad21-314">Does the Gateway show as being up in the portal?</span></span>
* <span data-ttu-id="cad21-315">Do certificates show as being in sync?</span><span class="sxs-lookup"><span data-stu-id="cad21-315">Do certificates show as being in sync?</span></span>
* <span data-ttu-id="cad21-316">Did anybody change the network configuration without doing a "Sync Network" in the affected ASPs?</span><span class="sxs-lookup"><span data-stu-id="cad21-316">Did anybody change the network configuration without doing a "Sync Network" in the affected ASPs?</span></span> 

<span data-ttu-id="cad21-317">If your gateway is down, then bring it back up.</span><span class="sxs-lookup"><span data-stu-id="cad21-317">If your gateway is down, then bring it back up.</span></span> <span data-ttu-id="cad21-318">If your certificates are out of sync, then go to the ASP view of your VNet Integration and hit "Sync Network".</span><span class="sxs-lookup"><span data-stu-id="cad21-318">If your certificates are out of sync, then go to the ASP view of your VNet Integration and hit "Sync Network".</span></span> <span data-ttu-id="cad21-319">If you suspect that there has been a change made to your VNet configuration and it wasn't sync'd with your ASPs, then go to the ASP view of your VNet Integration and hit "Sync Network" Just as a reminder, this causes a brief outage with your VNet connection and your apps.</span><span class="sxs-lookup"><span data-stu-id="cad21-319">If you suspect that there has been a change made to your VNet configuration and it wasn't sync'd with your ASPs, then go to the ASP view of your VNet Integration and hit "Sync Network" Just as a reminder, this causes a brief outage with your VNet connection and your apps.</span></span> 

<span data-ttu-id="cad21-320">If all of that is fine, then you need to dig in a bit deeper:</span><span class="sxs-lookup"><span data-stu-id="cad21-320">If all of that is fine, then you need to dig in a bit deeper:</span></span>

* <span data-ttu-id="cad21-321">Are there any other apps using VNet Integration to reach resources in the same VNet?</span><span class="sxs-lookup"><span data-stu-id="cad21-321">Are there any other apps using VNet Integration to reach resources in the same VNet?</span></span> 
* <span data-ttu-id="cad21-322">Can you go to the app console and use tcpping to reach any other resources in your VNet?</span><span class="sxs-lookup"><span data-stu-id="cad21-322">Can you go to the app console and use tcpping to reach any other resources in your VNet?</span></span> 

<span data-ttu-id="cad21-323">If either of the above are true, then your VNet Integration is fine and the problem is somewhere else.</span><span class="sxs-lookup"><span data-stu-id="cad21-323">If either of the above are true, then your VNet Integration is fine and the problem is somewhere else.</span></span> <span data-ttu-id="cad21-324">This is where it gets to be more of a challenge because there is no simple way to see why you can't reach a host:port.</span><span class="sxs-lookup"><span data-stu-id="cad21-324">This is where it gets to be more of a challenge because there is no simple way to see why you can't reach a host:port.</span></span> <span data-ttu-id="cad21-325">Some of the causes include:</span><span class="sxs-lookup"><span data-stu-id="cad21-325">Some of the causes include:</span></span>

* <span data-ttu-id="cad21-326">you have a firewall up on your host preventing access to the application port from your point to site IP range.</span><span class="sxs-lookup"><span data-stu-id="cad21-326">you have a firewall up on your host preventing access to the application port from your point to site IP range.</span></span> <span data-ttu-id="cad21-327">Crossing subnets often requires Public access.</span><span class="sxs-lookup"><span data-stu-id="cad21-327">Crossing subnets often requires Public access.</span></span>
* <span data-ttu-id="cad21-328">your target host is down</span><span class="sxs-lookup"><span data-stu-id="cad21-328">your target host is down</span></span>
* <span data-ttu-id="cad21-329">your application is down</span><span class="sxs-lookup"><span data-stu-id="cad21-329">your application is down</span></span>
* <span data-ttu-id="cad21-330">you had the wrong IP or hostname</span><span class="sxs-lookup"><span data-stu-id="cad21-330">you had the wrong IP or hostname</span></span>
* <span data-ttu-id="cad21-331">your application is listening on a different port than what you expected.</span><span class="sxs-lookup"><span data-stu-id="cad21-331">your application is listening on a different port than what you expected.</span></span> <span data-ttu-id="cad21-332">You can check this by going onto that host and using "netstat -aon" from the cmd prompt.</span><span class="sxs-lookup"><span data-stu-id="cad21-332">You can check this by going onto that host and using "netstat -aon" from the cmd prompt.</span></span> <span data-ttu-id="cad21-333">This shows you what process ID is listening on what port.</span><span class="sxs-lookup"><span data-stu-id="cad21-333">This shows you what process ID is listening on what port.</span></span> 
* <span data-ttu-id="cad21-334">your network security groups are configured in such a manner that they prevent access to your application host and port from your point to site IP range</span><span class="sxs-lookup"><span data-stu-id="cad21-334">your network security groups are configured in such a manner that they prevent access to your application host and port from your point to site IP range</span></span>

<span data-ttu-id="cad21-335">Remember that you don't know what IP in your Point to Site IP range that your app will use so you need to allow access from the entire range.</span><span class="sxs-lookup"><span data-stu-id="cad21-335">Remember that you don't know what IP in your Point to Site IP range that your app will use so you need to allow access from the entire range.</span></span> 

<span data-ttu-id="cad21-336">Additional debug steps include:</span><span class="sxs-lookup"><span data-stu-id="cad21-336">Additional debug steps include:</span></span>

* <span data-ttu-id="cad21-337">log onto another VM in your VNet and attempt to reach your resource host:port from there.</span><span class="sxs-lookup"><span data-stu-id="cad21-337">log onto another VM in your VNet and attempt to reach your resource host:port from there.</span></span> <span data-ttu-id="cad21-338">There are some TCP ping utilities that you can use for this purpose or can even use telnet if need be.</span><span class="sxs-lookup"><span data-stu-id="cad21-338">There are some TCP ping utilities that you can use for this purpose or can even use telnet if need be.</span></span> <span data-ttu-id="cad21-339">The purpose here is just to determine if connectivity is there from this other VM.</span><span class="sxs-lookup"><span data-stu-id="cad21-339">The purpose here is just to determine if connectivity is there from this other VM.</span></span> 
* <span data-ttu-id="cad21-340">bring up an application on another VM and test access to that host and port from the console from your app</span><span class="sxs-lookup"><span data-stu-id="cad21-340">bring up an application on another VM and test access to that host and port from the console from your app</span></span>

#### <a name="on-premises-resources"></a><span data-ttu-id="cad21-341">On-premises resources</span><span class="sxs-lookup"><span data-stu-id="cad21-341">On-premises resources</span></span> ####
<span data-ttu-id="cad21-342">If your app cannot reach resources on-premises, then the first thing you should check is if you can reach a resource in your VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-342">If your app cannot reach resources on-premises, then the first thing you should check is if you can reach a resource in your VNet.</span></span> <span data-ttu-id="cad21-343">If that works, try to reach the on-premises application from a VM in the VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-343">If that works, try to reach the on-premises application from a VM in the VNet.</span></span> <span data-ttu-id="cad21-344">You can use telnet or a TCP ping utility.</span><span class="sxs-lookup"><span data-stu-id="cad21-344">You can use telnet or a TCP ping utility.</span></span> <span data-ttu-id="cad21-345">If your VM can't reach your on-premises resource, then make sure your Site to Site VPN connection is working.</span><span class="sxs-lookup"><span data-stu-id="cad21-345">If your VM can't reach your on-premises resource, then make sure your Site to Site VPN connection is working.</span></span> <span data-ttu-id="cad21-346">If it is working, then check the same things noted earlier as well as the on-premises gateway configuration and status.</span><span class="sxs-lookup"><span data-stu-id="cad21-346">If it is working, then check the same things noted earlier as well as the on-premises gateway configuration and status.</span></span> 

<span data-ttu-id="cad21-347">Now if your VNet hosted VM can reach your on-premises system but your app can't then the reason is likely one of the following:</span><span class="sxs-lookup"><span data-stu-id="cad21-347">Now if your VNet hosted VM can reach your on-premises system but your app can't then the reason is likely one of the following:</span></span>

* <span data-ttu-id="cad21-348">your routes are not configured with your point to site IP ranges in your on-premises gateway</span><span class="sxs-lookup"><span data-stu-id="cad21-348">your routes are not configured with your point to site IP ranges in your on-premises gateway</span></span>
* <span data-ttu-id="cad21-349">your network security groups are blocking access for your Point to Site IP range</span><span class="sxs-lookup"><span data-stu-id="cad21-349">your network security groups are blocking access for your Point to Site IP range</span></span>
* <span data-ttu-id="cad21-350">your on-premises firewalls are blocking traffic from your Point to Site IP range</span><span class="sxs-lookup"><span data-stu-id="cad21-350">your on-premises firewalls are blocking traffic from your Point to Site IP range</span></span>
* <span data-ttu-id="cad21-351">you have a User Defined Route(UDR) in your VNet that prevents your Point to Site based traffic from reaching your on-premises network</span><span class="sxs-lookup"><span data-stu-id="cad21-351">you have a User Defined Route(UDR) in your VNet that prevents your Point to Site based traffic from reaching your on-premises network</span></span>

## <a name="powershell-automation"></a><span data-ttu-id="cad21-352">PowerShell automation</span><span class="sxs-lookup"><span data-stu-id="cad21-352">PowerShell automation</span></span>

<span data-ttu-id="cad21-353">You can integrate App Service with an Azure Virtual Network using PowerShell.</span><span class="sxs-lookup"><span data-stu-id="cad21-353">You can integrate App Service with an Azure Virtual Network using PowerShell.</span></span> <span data-ttu-id="cad21-354">For a ready-to-run script, see [Connect an app in Azure App Service to an Azure Virtual Network](https://gallery.technet.microsoft.com/scriptcenter/Connect-an-app-in-Azure-ab7527e3).</span><span class="sxs-lookup"><span data-stu-id="cad21-354">For a ready-to-run script, see [Connect an app in Azure App Service to an Azure Virtual Network](https://gallery.technet.microsoft.com/scriptcenter/Connect-an-app-in-Azure-ab7527e3).</span></span>

## <a name="hybrid-connections-and-app-service-environments"></a><span data-ttu-id="cad21-355">Hybrid Connections and App Service Environments</span><span class="sxs-lookup"><span data-stu-id="cad21-355">Hybrid Connections and App Service Environments</span></span>
<span data-ttu-id="cad21-356">There are three features that enable access to VNet hosted resources.</span><span class="sxs-lookup"><span data-stu-id="cad21-356">There are three features that enable access to VNet hosted resources.</span></span> <span data-ttu-id="cad21-357">They are:</span><span class="sxs-lookup"><span data-stu-id="cad21-357">They are:</span></span>

* <span data-ttu-id="cad21-358">VNet Integration</span><span class="sxs-lookup"><span data-stu-id="cad21-358">VNet Integration</span></span>
* <span data-ttu-id="cad21-359">Hybrid Connections</span><span class="sxs-lookup"><span data-stu-id="cad21-359">Hybrid Connections</span></span>
* <span data-ttu-id="cad21-360">App Service Environments</span><span class="sxs-lookup"><span data-stu-id="cad21-360">App Service Environments</span></span>

<span data-ttu-id="cad21-361">Hybrid Connections requires you to install a relay agent called the Hybrid Connection Manager(HCM) in your network.</span><span class="sxs-lookup"><span data-stu-id="cad21-361">Hybrid Connections requires you to install a relay agent called the Hybrid Connection Manager(HCM) in your network.</span></span> <span data-ttu-id="cad21-362">The HCM needs to be able to connect to Azure and also to your application.</span><span class="sxs-lookup"><span data-stu-id="cad21-362">The HCM needs to be able to connect to Azure and also to your application.</span></span> <span data-ttu-id="cad21-363">This solution is especially great from a remote network such as your on-premises network or even another cloud hosted network because it does not require an internet accessible endpoint.</span><span class="sxs-lookup"><span data-stu-id="cad21-363">This solution is especially great from a remote network such as your on-premises network or even another cloud hosted network because it does not require an internet accessible endpoint.</span></span> <span data-ttu-id="cad21-364">The HCM only runs on Windows and you can have up to five instances running to provide high availability.</span><span class="sxs-lookup"><span data-stu-id="cad21-364">The HCM only runs on Windows and you can have up to five instances running to provide high availability.</span></span> <span data-ttu-id="cad21-365">Hybrid Connections only supports TCP though and each HC endpoint has to match to a specific host:port combination.</span><span class="sxs-lookup"><span data-stu-id="cad21-365">Hybrid Connections only supports TCP though and each HC endpoint has to match to a specific host:port combination.</span></span> 

<span data-ttu-id="cad21-366">The App Service Environment feature allows you to run an instance of the Azure App Service in your VNet.</span><span class="sxs-lookup"><span data-stu-id="cad21-366">The App Service Environment feature allows you to run an instance of the Azure App Service in your VNet.</span></span> <span data-ttu-id="cad21-367">This lets your apps access resources in your VNet without any extra steps.</span><span class="sxs-lookup"><span data-stu-id="cad21-367">This lets your apps access resources in your VNet without any extra steps.</span></span> <span data-ttu-id="cad21-368">Some of the other benefits of an App Service Environment are that you can use Dv2 based workers with up to 14 GB of RAM.</span><span class="sxs-lookup"><span data-stu-id="cad21-368">Some of the other benefits of an App Service Environment are that you can use Dv2 based workers with up to 14 GB of RAM.</span></span> <span data-ttu-id="cad21-369">Another benefit is that you can scale the system to meet your needs.</span><span class="sxs-lookup"><span data-stu-id="cad21-369">Another benefit is that you can scale the system to meet your needs.</span></span> <span data-ttu-id="cad21-370">Unlike the multi-tenant environments where your ASP is limited to 20 instances, in an ASE you can scale up to 100 ASP instances.</span><span class="sxs-lookup"><span data-stu-id="cad21-370">Unlike the multi-tenant environments where your ASP is limited to 20 instances, in an ASE you can scale up to 100 ASP instances.</span></span> <span data-ttu-id="cad21-371">One of the things you get with an ASE that you don't with VNet Integration is that an App Service Environment can work with an ExpressRoute VPN.</span><span class="sxs-lookup"><span data-stu-id="cad21-371">One of the things you get with an ASE that you don't with VNet Integration is that an App Service Environment can work with an ExpressRoute VPN.</span></span> 

<span data-ttu-id="cad21-372">While there is some use case overlap, none of these feature can replace any of the others.</span><span class="sxs-lookup"><span data-stu-id="cad21-372">While there is some use case overlap, none of these feature can replace any of the others.</span></span> <span data-ttu-id="cad21-373">Knowing what feature to use is tied to your needs.</span><span class="sxs-lookup"><span data-stu-id="cad21-373">Knowing what feature to use is tied to your needs.</span></span> <span data-ttu-id="cad21-374">For example:</span><span class="sxs-lookup"><span data-stu-id="cad21-374">For example:</span></span>

* <span data-ttu-id="cad21-375">If you are a developer and simply want to run a site in Azure and have it access the database on the workstation under your desk, then the easiest thing to use is Hybrid Connections.</span><span class="sxs-lookup"><span data-stu-id="cad21-375">If you are a developer and simply want to run a site in Azure and have it access the database on the workstation under your desk, then the easiest thing to use is Hybrid Connections.</span></span> 
* <span data-ttu-id="cad21-376">If you are a large organization that wants to put a large number of web properties in the public cloud and manage them in your own network, then you want to go with the App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="cad21-376">If you are a large organization that wants to put a large number of web properties in the public cloud and manage them in your own network, then you want to go with the App Service Environment.</span></span> 
* <span data-ttu-id="cad21-377">If you have a number of App Service hosted apps and simply want to access resources in your VNet, then VNet Integration is the way to go.</span><span class="sxs-lookup"><span data-stu-id="cad21-377">If you have a number of App Service hosted apps and simply want to access resources in your VNet, then VNet Integration is the way to go.</span></span> 

<span data-ttu-id="cad21-378">Beyond the use cases, there are some simplicity related aspects.</span><span class="sxs-lookup"><span data-stu-id="cad21-378">Beyond the use cases, there are some simplicity related aspects.</span></span> <span data-ttu-id="cad21-379">If your VNet is already connected to your on-premises network, then using VNet Integration or an App Service Environment is an easy way to consume on-premises resources.</span><span class="sxs-lookup"><span data-stu-id="cad21-379">If your VNet is already connected to your on-premises network, then using VNet Integration or an App Service Environment is an easy way to consume on-premises resources.</span></span> <span data-ttu-id="cad21-380">On the other hand, if your VNet is not connected to your on-premises network then it's a lot more overhead to set up a site to site VPN with your VNet compared with installing the HCM.</span><span class="sxs-lookup"><span data-stu-id="cad21-380">On the other hand, if your VNet is not connected to your on-premises network then it's a lot more overhead to set up a site to site VPN with your VNet compared with installing the HCM.</span></span> 

<span data-ttu-id="cad21-381">Beyond the functional differences, there are also pricing differences.</span><span class="sxs-lookup"><span data-stu-id="cad21-381">Beyond the functional differences, there are also pricing differences.</span></span> <span data-ttu-id="cad21-382">The App Service Environment feature is a Premium service offering but offers the most network configuration possibilities in addition to other great features.</span><span class="sxs-lookup"><span data-stu-id="cad21-382">The App Service Environment feature is a Premium service offering but offers the most network configuration possibilities in addition to other great features.</span></span> <span data-ttu-id="cad21-383">VNet Integration can be used with Standard or Premium ASPs and is perfect for securely consuming resources in your VNet from the multi-tenant App Service.</span><span class="sxs-lookup"><span data-stu-id="cad21-383">VNet Integration can be used with Standard or Premium ASPs and is perfect for securely consuming resources in your VNet from the multi-tenant App Service.</span></span> <span data-ttu-id="cad21-384">Hybrid Connections currently depends on a BizTalk account, which has pricing levels that start free and then get progressively more expensive based on the amount you need.</span><span class="sxs-lookup"><span data-stu-id="cad21-384">Hybrid Connections currently depends on a BizTalk account, which has pricing levels that start free and then get progressively more expensive based on the amount you need.</span></span> <span data-ttu-id="cad21-385">When it comes to working across many networks though, there is no other feature like Hybrid Connections, which can enable you to access resources in well over 100 separate networks.</span><span class="sxs-lookup"><span data-stu-id="cad21-385">When it comes to working across many networks though, there is no other feature like Hybrid Connections, which can enable you to access resources in well over 100 separate networks.</span></span> 

<!--Image references-->
[1]: ./media/web-sites-integrate-with-vnet/vnetint-upgradeplan.png
[2]: ./media/web-sites-integrate-with-vnet/vnetint-existingvnet.png
[3]: ./media/web-sites-integrate-with-vnet/vnetint-createvnet.png
[4]: ./media/web-sites-integrate-with-vnet/vnetint-howitworks.png
[5]: ./media/web-sites-integrate-with-vnet/vnetint-appmanage.png
[6]: ./media/web-sites-integrate-with-vnet/vnetint-aspmanage.png
[7]: ./media/web-sites-integrate-with-vnet/vnetint-aspmanagedetail.png
[8]: ./media/web-sites-integrate-with-vnet/vnetint-vnetp2s.png

<!--Links-->
[VNETOverview]: http://azure.microsoft.com/documentation/articles/virtual-networks-overview/ 
[AzurePortal]: http://portal.azure.com/
[ASPricing]: http://azure.microsoft.com/pricing/details/app-service/
[VNETPricing]: http://azure.microsoft.com/pricing/details/vpn-gateway/
[DataPricing]: http://azure.microsoft.com/pricing/details/data-transfers/
[V2VNETP2S]: http://azure.microsoft.com/documentation/articles/vpn-gateway-howto-point-to-site-rm-ps/
[ASEintro]: environment/intro.md
[ILBASE]: environment/create-ilb-ase.md
[V2VNETPortal]: ../vpn-gateway/vpn-gateway-howto-point-to-site-resource-manager-portal.md
[VPNERCoex]: ../expressroute/expressroute-howto-coexist-resource-manager.md
[ASE]: environment/intro.md
