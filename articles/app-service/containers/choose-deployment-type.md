---
title: Azure App Service on Linux Deployment - Custom image, multi-container, or built-in platform image?  | Microsoft Docs
description: How to decide between custom Docker container deployment, multi-container and a built-in application framework for App Service on Linux
keywords: azure app service, web app, linux, oss
services: app-service
documentationCenter: ''
authors: msangapu
manager: cfowler
editor: ''
ms.assetid: ''
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/04/2018
ms.author: msangapu
ms.openlocfilehash: 012f78fc07f237e8ed532246c81a3c86bb6ab4ac
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44869481"
---
# <a name="custom-image-multi-container-or-built-in-platform-image"></a><span data-ttu-id="8e55f-105">Custom image, multi-container, or built-in platform image?</span><span class="sxs-lookup"><span data-stu-id="8e55f-105">Custom image, multi-container, or built-in platform image?</span></span>

<span data-ttu-id="8e55f-106">[App Service on Linux](app-service-linux-intro.md) offers three different paths to getting your application published to the web:</span><span class="sxs-lookup"><span data-stu-id="8e55f-106">[App Service on Linux](app-service-linux-intro.md) offers three different paths to getting your application published to the web:</span></span>

- <span data-ttu-id="8e55f-107">**Custom image deployment**: "Dockerize" your app into a Docker image that contains all of your files and dependencies in a ready-to-run package.</span><span class="sxs-lookup"><span data-stu-id="8e55f-107">**Custom image deployment**: "Dockerize" your app into a Docker image that contains all of your files and dependencies in a ready-to-run package.</span></span>
- <span data-ttu-id="8e55f-108">**Multi-container deployment**: "Dockerize" your app across multiple containers using a Docker Compose or a Kubernetes configuration file.</span><span class="sxs-lookup"><span data-stu-id="8e55f-108">**Multi-container deployment**: "Dockerize" your app across multiple containers using a Docker Compose or a Kubernetes configuration file.</span></span> <span data-ttu-id="8e55f-109">For more information, see [Multi-container app](#multi-container-apps-supportability).</span><span class="sxs-lookup"><span data-stu-id="8e55f-109">For more information, see [Multi-container app](#multi-container-apps-supportability).</span></span>
- <span data-ttu-id="8e55f-110">**App deployment with a built-in platform image**: Our built-in platform images contain common web app runtimes and dependencies, such as Node and PHP.</span><span class="sxs-lookup"><span data-stu-id="8e55f-110">**App deployment with a built-in platform image**: Our built-in platform images contain common web app runtimes and dependencies, such as Node and PHP.</span></span> <span data-ttu-id="8e55f-111">Use any one of the [Azure App Service deployment methods](../app-service-deploy-local-git.md?toc=%2fazure%2fapp-service%2fcontainers%2ftoc.json) to deploy your app to your web app's storage, and then use a built-in platform image to run it.</span><span class="sxs-lookup"><span data-stu-id="8e55f-111">Use any one of the [Azure App Service deployment methods](../app-service-deploy-local-git.md?toc=%2fazure%2fapp-service%2fcontainers%2ftoc.json) to deploy your app to your web app's storage, and then use a built-in platform image to run it.</span></span>

##<a name="which-method-is-right-for-your-app"></a><span data-ttu-id="8e55f-112">Which method is right for your app?</span><span class="sxs-lookup"><span data-stu-id="8e55f-112">Which method is right for your app?</span></span> 

<span data-ttu-id="8e55f-113">The primary factors to consider are:</span><span class="sxs-lookup"><span data-stu-id="8e55f-113">The primary factors to consider are:</span></span>

- <span data-ttu-id="8e55f-114">**Availability of Docker in your development workflow**: Custom image development requires basic knowledge of the Docker development workflow.</span><span class="sxs-lookup"><span data-stu-id="8e55f-114">**Availability of Docker in your development workflow**: Custom image development requires basic knowledge of the Docker development workflow.</span></span> <span data-ttu-id="8e55f-115">Deployment of a custom image to a web app requires publication of your custom image to a repository host like Docker Hub.</span><span class="sxs-lookup"><span data-stu-id="8e55f-115">Deployment of a custom image to a web app requires publication of your custom image to a repository host like Docker Hub.</span></span> <span data-ttu-id="8e55f-116">If you are familiar with Docker and can add Docker tasks to your build workflow, or if you are already publishing your app as a Docker image, a custom image is almost certainly the best choice.</span><span class="sxs-lookup"><span data-stu-id="8e55f-116">If you are familiar with Docker and can add Docker tasks to your build workflow, or if you are already publishing your app as a Docker image, a custom image is almost certainly the best choice.</span></span>
- <span data-ttu-id="8e55f-117">**Multi-layered architecture**: Deploy multiple containers such as a web application layer and an API layer to separate capabilities by using multi-container.</span><span class="sxs-lookup"><span data-stu-id="8e55f-117">**Multi-layered architecture**: Deploy multiple containers such as a web application layer and an API layer to separate capabilities by using multi-container.</span></span> 
- <span data-ttu-id="8e55f-118">**Application performance**: Increase the performance of your multi-container app using a cache layer such as Redis.</span><span class="sxs-lookup"><span data-stu-id="8e55f-118">**Application performance**: Increase the performance of your multi-container app using a cache layer such as Redis.</span></span> <span data-ttu-id="8e55f-119">Select multi-container to achieve this.</span><span class="sxs-lookup"><span data-stu-id="8e55f-119">Select multi-container to achieve this.</span></span>
- <span data-ttu-id="8e55f-120">**Unique runtime requirements**: The built-in platform images are designed to meet the needs of most web apps, but are limited in their customizability.</span><span class="sxs-lookup"><span data-stu-id="8e55f-120">**Unique runtime requirements**: The built-in platform images are designed to meet the needs of most web apps, but are limited in their customizability.</span></span> <span data-ttu-id="8e55f-121">Your app may have unique dependencies or other runtime requirements that exceed what the built-in images are capable of.</span><span class="sxs-lookup"><span data-stu-id="8e55f-121">Your app may have unique dependencies or other runtime requirements that exceed what the built-in images are capable of.</span></span>
- <span data-ttu-id="8e55f-122">**Build requirements**: With [continuous deployment](../app-service-continuous-deployment.md?toc=%2fazure%2fapp-service%2fcontainers%2ftoc.json), you can get your app up and running on Azure directly from source code.</span><span class="sxs-lookup"><span data-stu-id="8e55f-122">**Build requirements**: With [continuous deployment](../app-service-continuous-deployment.md?toc=%2fazure%2fapp-service%2fcontainers%2ftoc.json), you can get your app up and running on Azure directly from source code.</span></span> <span data-ttu-id="8e55f-123">No external build or publication process is required.</span><span class="sxs-lookup"><span data-stu-id="8e55f-123">No external build or publication process is required.</span></span> <span data-ttu-id="8e55f-124">However, there is a limit to the customizability and availability of build tools within the [Kudu](https://github.com/projectkudu/kudu/wiki) deployment engine.</span><span class="sxs-lookup"><span data-stu-id="8e55f-124">However, there is a limit to the customizability and availability of build tools within the [Kudu](https://github.com/projectkudu/kudu/wiki) deployment engine.</span></span> <span data-ttu-id="8e55f-125">Your app may outgrow Kudu's capabilities as it grows in its dependencies or requirements for custom build logic.</span><span class="sxs-lookup"><span data-stu-id="8e55f-125">Your app may outgrow Kudu's capabilities as it grows in its dependencies or requirements for custom build logic.</span></span>
- <span data-ttu-id="8e55f-126">**Disk read/write requirements**: All web apps are allocated a storage volume for web content.</span><span class="sxs-lookup"><span data-stu-id="8e55f-126">**Disk read/write requirements**: All web apps are allocated a storage volume for web content.</span></span> <span data-ttu-id="8e55f-127">This volume, backed by Azure Storage, is mounted to `/home` in the app's filesystem.</span><span class="sxs-lookup"><span data-stu-id="8e55f-127">This volume, backed by Azure Storage, is mounted to `/home` in the app's filesystem.</span></span> <span data-ttu-id="8e55f-128">Unlike files in the container filesystem, files in the content volume are accessible across all scale instances of an app, and modifications will persist across app restarts.</span><span class="sxs-lookup"><span data-stu-id="8e55f-128">Unlike files in the container filesystem, files in the content volume are accessible across all scale instances of an app, and modifications will persist across app restarts.</span></span> <span data-ttu-id="8e55f-129">However, the disk latency of the content volume is higher and more variable than the latency of the local container filesystem, and access can be impacted by platform upgrades, unplanned downtime, and network connectivity issues.</span><span class="sxs-lookup"><span data-stu-id="8e55f-129">However, the disk latency of the content volume is higher and more variable than the latency of the local container filesystem, and access can be impacted by platform upgrades, unplanned downtime, and network connectivity issues.</span></span> <span data-ttu-id="8e55f-130">Apps that require heavy read-only access to content files may benefit from custom image deployment, which places files in the image filesystem instead of on the content volume.</span><span class="sxs-lookup"><span data-stu-id="8e55f-130">Apps that require heavy read-only access to content files may benefit from custom image deployment, which places files in the image filesystem instead of on the content volume.</span></span>
- <span data-ttu-id="8e55f-131">**Build resource usage**: When an app is deployed from source, the deployment scripts run by Kudu use the same App Service Plan compute and storage resources as the running app.</span><span class="sxs-lookup"><span data-stu-id="8e55f-131">**Build resource usage**: When an app is deployed from source, the deployment scripts run by Kudu use the same App Service Plan compute and storage resources as the running app.</span></span> <span data-ttu-id="8e55f-132">Large app deployments may consume more resources or time than desired.</span><span class="sxs-lookup"><span data-stu-id="8e55f-132">Large app deployments may consume more resources or time than desired.</span></span> <span data-ttu-id="8e55f-133">In particular, many deployment workflows generate heavy disk activity on the app content volume, which is not optimized for such activity.</span><span class="sxs-lookup"><span data-stu-id="8e55f-133">In particular, many deployment workflows generate heavy disk activity on the app content volume, which is not optimized for such activity.</span></span> <span data-ttu-id="8e55f-134">A custom image delivers all of your app's files and dependencies to Azure in a single package with no need for additional file transfers or deployment actions.</span><span class="sxs-lookup"><span data-stu-id="8e55f-134">A custom image delivers all of your app's files and dependencies to Azure in a single package with no need for additional file transfers or deployment actions.</span></span>
- <span data-ttu-id="8e55f-135">**Need for rapid iteration**: Dockerizing an app requires additional build steps.</span><span class="sxs-lookup"><span data-stu-id="8e55f-135">**Need for rapid iteration**: Dockerizing an app requires additional build steps.</span></span> <span data-ttu-id="8e55f-136">For changes to take effect, you must push your new image to a repository with each update.</span><span class="sxs-lookup"><span data-stu-id="8e55f-136">For changes to take effect, you must push your new image to a repository with each update.</span></span> <span data-ttu-id="8e55f-137">These updates are then pulled to the Azure environment.</span><span class="sxs-lookup"><span data-stu-id="8e55f-137">These updates are then pulled to the Azure environment.</span></span> <span data-ttu-id="8e55f-138">If one of the built-in containers meets your app's needs, deploying from source may offer a faster development workflow.</span><span class="sxs-lookup"><span data-stu-id="8e55f-138">If one of the built-in containers meets your app's needs, deploying from source may offer a faster development workflow.</span></span>

## <a name="multi-container-apps-supportability"></a><span data-ttu-id="8e55f-139">Multi-container apps supportability</span><span class="sxs-lookup"><span data-stu-id="8e55f-139">Multi-container apps supportability</span></span>

### <a name="supported-docker-compose-configuration-options"></a><span data-ttu-id="8e55f-140">Supported Docker Compose configuration options</span><span class="sxs-lookup"><span data-stu-id="8e55f-140">Supported Docker Compose configuration options</span></span>
- <span data-ttu-id="8e55f-141">command</span><span class="sxs-lookup"><span data-stu-id="8e55f-141">command</span></span>
- <span data-ttu-id="8e55f-142">entrypoint</span><span class="sxs-lookup"><span data-stu-id="8e55f-142">entrypoint</span></span>
- <span data-ttu-id="8e55f-143">environment</span><span class="sxs-lookup"><span data-stu-id="8e55f-143">environment</span></span>
- <span data-ttu-id="8e55f-144">image</span><span class="sxs-lookup"><span data-stu-id="8e55f-144">image</span></span>
- <span data-ttu-id="8e55f-145">ports</span><span class="sxs-lookup"><span data-stu-id="8e55f-145">ports</span></span>
- <span data-ttu-id="8e55f-146">restart</span><span class="sxs-lookup"><span data-stu-id="8e55f-146">restart</span></span>
- <span data-ttu-id="8e55f-147">services</span><span class="sxs-lookup"><span data-stu-id="8e55f-147">services</span></span>
- <span data-ttu-id="8e55f-148">volumes</span><span class="sxs-lookup"><span data-stu-id="8e55f-148">volumes</span></span>

### <a name="unsupported-docker-compose-configuration-options"></a><span data-ttu-id="8e55f-149">Unsupported Docker Compose configuration options</span><span class="sxs-lookup"><span data-stu-id="8e55f-149">Unsupported Docker Compose configuration options</span></span>
- <span data-ttu-id="8e55f-150">build (not allowed)</span><span class="sxs-lookup"><span data-stu-id="8e55f-150">build (not allowed)</span></span>
- <span data-ttu-id="8e55f-151">depends_on (ignored)</span><span class="sxs-lookup"><span data-stu-id="8e55f-151">depends_on (ignored)</span></span>
- <span data-ttu-id="8e55f-152">networks (ignored)</span><span class="sxs-lookup"><span data-stu-id="8e55f-152">networks (ignored)</span></span>
- <span data-ttu-id="8e55f-153">secrets (ignored)</span><span class="sxs-lookup"><span data-stu-id="8e55f-153">secrets (ignored)</span></span>
- <span data-ttu-id="8e55f-154">ports other than 80 and 8080 (ignored)</span><span class="sxs-lookup"><span data-stu-id="8e55f-154">ports other than 80 and 8080 (ignored)</span></span>

> [!NOTE]
> <span data-ttu-id="8e55f-155">Any other options not explicitly called out are also ignored in Public Preview.</span><span class="sxs-lookup"><span data-stu-id="8e55f-155">Any other options not explicitly called out are also ignored in Public Preview.</span></span>

### <a name="supported-kubernetes-configuration-options"></a><span data-ttu-id="8e55f-156">Supported Kubernetes configuration options</span><span class="sxs-lookup"><span data-stu-id="8e55f-156">Supported Kubernetes configuration options</span></span>
- <span data-ttu-id="8e55f-157">args</span><span class="sxs-lookup"><span data-stu-id="8e55f-157">args</span></span>
- <span data-ttu-id="8e55f-158">command</span><span class="sxs-lookup"><span data-stu-id="8e55f-158">command</span></span>
- <span data-ttu-id="8e55f-159">containers</span><span class="sxs-lookup"><span data-stu-id="8e55f-159">containers</span></span>
- <span data-ttu-id="8e55f-160">image</span><span class="sxs-lookup"><span data-stu-id="8e55f-160">image</span></span>
- <span data-ttu-id="8e55f-161">name</span><span class="sxs-lookup"><span data-stu-id="8e55f-161">name</span></span>
- <span data-ttu-id="8e55f-162">ports</span><span class="sxs-lookup"><span data-stu-id="8e55f-162">ports</span></span>
- <span data-ttu-id="8e55f-163">spec</span><span class="sxs-lookup"><span data-stu-id="8e55f-163">spec</span></span>

> [!NOTE]
><span data-ttu-id="8e55f-164">Any other Kubernetes options not explicitly called out aren't supported in Public Preview.</span><span class="sxs-lookup"><span data-stu-id="8e55f-164">Any other Kubernetes options not explicitly called out aren't supported in Public Preview.</span></span>
>