---
title: Azure Storage queues and Service Bus queues - compared and contrasted | Microsoft Docs
description: Analyzes differences and similarities between two types of queues offered by Azure.
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: tysonn
ms.assetid: f07301dc-ca9b-465c-bd5b-a0f99bab606b
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: tbd
ms.date: 01/19/2017
ms.author: sethm
ms.openlocfilehash: fd86979339b0ff661dcc6447585ca594b680911d
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44552140"
---
# <a name="storage-queues-and-service-bus-queues---compared-and-contrasted"></a><span data-ttu-id="fe6b8-103">Storage queues and Service Bus queues - compared and contrasted</span><span class="sxs-lookup"><span data-stu-id="fe6b8-103">Storage queues and Service Bus queues - compared and contrasted</span></span>
<span data-ttu-id="fe6b8-104">This article analyzes the differences and similarities between the two types of queues offered by Microsoft Azure today: Storage queues and Service Bus queues.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-104">This article analyzes the differences and similarities between the two types of queues offered by Microsoft Azure today: Storage queues and Service Bus queues.</span></span> <span data-ttu-id="fe6b8-105">By using this information, you can compare and contrast the respective technologies and be able to make a more informed decision about which solution best meets your needs.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-105">By using this information, you can compare and contrast the respective technologies and be able to make a more informed decision about which solution best meets your needs.</span></span>

## <a name="introduction"></a><span data-ttu-id="fe6b8-106">Introduction</span><span class="sxs-lookup"><span data-stu-id="fe6b8-106">Introduction</span></span>
<span data-ttu-id="fe6b8-107">Microsoft Azure supports two types of queue mechanisms: **Storage queues** and **Service Bus queues**.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-107">Microsoft Azure supports two types of queue mechanisms: **Storage queues** and **Service Bus queues**.</span></span>

<span data-ttu-id="fe6b8-108">**Storage queues**, which are part of the [Azure storage](https://azure.microsoft.com/services/storage/) infrastructure, feature a simple REST-based Get/Put/Peek interface, providing reliable, persistent messaging within and between services.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-108">**Storage queues**, which are part of the [Azure storage](https://azure.microsoft.com/services/storage/) infrastructure, feature a simple REST-based Get/Put/Peek interface, providing reliable, persistent messaging within and between services.</span></span>

<span data-ttu-id="fe6b8-109">**Service Bus queues** are part of a broader [Azure messaging](https://azure.microsoft.com/services/service-bus/) infrastructure that supports queuing as well as publish/subscribe, and more advanced integration patterns.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-109">**Service Bus queues** are part of a broader [Azure messaging](https://azure.microsoft.com/services/service-bus/) infrastructure that supports queuing as well as publish/subscribe, and more advanced integration patterns.</span></span> <span data-ttu-id="fe6b8-110">For more information about Service Bus queues/topics/subscriptions, see the [overview of Service Bus](service-bus-messaging-overview.md).</span><span class="sxs-lookup"><span data-stu-id="fe6b8-110">For more information about Service Bus queues/topics/subscriptions, see the [overview of Service Bus](service-bus-messaging-overview.md).</span></span>

<span data-ttu-id="fe6b8-111">While both queuing technologies exist concurrently, Storage queues were introduced first, as a dedicated queue storage mechanism built on top of the Azure storage services.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-111">While both queuing technologies exist concurrently, Storage queues were introduced first, as a dedicated queue storage mechanism built on top of the Azure storage services.</span></span> <span data-ttu-id="fe6b8-112">Service Bus queues are built on top of the broader "messaging" infrastructure designed to integrate applications or application components that may span multiple communication protocols, data contracts, trust domains, and/or network environments.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-112">Service Bus queues are built on top of the broader "messaging" infrastructure designed to integrate applications or application components that may span multiple communication protocols, data contracts, trust domains, and/or network environments.</span></span>

## <a name="technology-selection-considerations"></a><span data-ttu-id="fe6b8-113">Technology selection considerations</span><span class="sxs-lookup"><span data-stu-id="fe6b8-113">Technology selection considerations</span></span>
<span data-ttu-id="fe6b8-114">Both Storage queues and Service Bus queues are implementations of the message queuing service currently offered on Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-114">Both Storage queues and Service Bus queues are implementations of the message queuing service currently offered on Microsoft Azure.</span></span> <span data-ttu-id="fe6b8-115">Each has a slightly different feature set, which means you can choose one or the other, or use both, depending on the needs of your particular solution or business/technical problem you are solving.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-115">Each has a slightly different feature set, which means you can choose one or the other, or use both, depending on the needs of your particular solution or business/technical problem you are solving.</span></span>

<span data-ttu-id="fe6b8-116">When determining which queuing technology fits the purpose for a given solution, solution architects and developers should consider the recommendations below.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-116">When determining which queuing technology fits the purpose for a given solution, solution architects and developers should consider the recommendations below.</span></span> <span data-ttu-id="fe6b8-117">For more details, see the next section.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-117">For more details, see the next section.</span></span>

<span data-ttu-id="fe6b8-118">As a solution architect/developer, **you should consider using Storage queues** when:</span><span class="sxs-lookup"><span data-stu-id="fe6b8-118">As a solution architect/developer, **you should consider using Storage queues** when:</span></span>

* <span data-ttu-id="fe6b8-119">Your application must store over 80 GB of messages in a queue, where the messages have a lifetime shorter than 7 days.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-119">Your application must store over 80 GB of messages in a queue, where the messages have a lifetime shorter than 7 days.</span></span>
* <span data-ttu-id="fe6b8-120">Your application wants to track progress for processing a message inside of the queue.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-120">Your application wants to track progress for processing a message inside of the queue.</span></span> <span data-ttu-id="fe6b8-121">This is useful if the worker processing a message crashes.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-121">This is useful if the worker processing a message crashes.</span></span> <span data-ttu-id="fe6b8-122">A subsequent worker can then use that information to continue from where the prior worker left off.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-122">A subsequent worker can then use that information to continue from where the prior worker left off.</span></span>
* <span data-ttu-id="fe6b8-123">You require server side logs of all of the transactions executed against your queues.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-123">You require server side logs of all of the transactions executed against your queues.</span></span>

<span data-ttu-id="fe6b8-124">As a solution architect/developer, **you should consider using Service Bus queues** when:</span><span class="sxs-lookup"><span data-stu-id="fe6b8-124">As a solution architect/developer, **you should consider using Service Bus queues** when:</span></span>

* <span data-ttu-id="fe6b8-125">Your solution must be able to receive messages without having to poll the queue.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-125">Your solution must be able to receive messages without having to poll the queue.</span></span> <span data-ttu-id="fe6b8-126">With Service Bus, this can be achieved through the use of the long-polling receive operation using the TCP-based protocols that Service Bus supports.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-126">With Service Bus, this can be achieved through the use of the long-polling receive operation using the TCP-based protocols that Service Bus supports.</span></span>
* <span data-ttu-id="fe6b8-127">Your solution requires the queue to provide a guaranteed first-in-first-out (FIFO) ordered delivery.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-127">Your solution requires the queue to provide a guaranteed first-in-first-out (FIFO) ordered delivery.</span></span>
* <span data-ttu-id="fe6b8-128">You want a symmetric experience in Azure and on Windows Server (private cloud).</span><span class="sxs-lookup"><span data-stu-id="fe6b8-128">You want a symmetric experience in Azure and on Windows Server (private cloud).</span></span> <span data-ttu-id="fe6b8-129">For more information, see [Service Bus for Windows Server](https://msdn.microsoft.com/library/dn282144.aspx).</span><span class="sxs-lookup"><span data-stu-id="fe6b8-129">For more information, see [Service Bus for Windows Server](https://msdn.microsoft.com/library/dn282144.aspx).</span></span>
* <span data-ttu-id="fe6b8-130">Your solution must be able to support automatic duplicate detection.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-130">Your solution must be able to support automatic duplicate detection.</span></span>
* <span data-ttu-id="fe6b8-131">You want your application to process messages as parallel long-running streams (messages are associated with a stream using the [SessionId](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage.sessionid.aspx) property on the message).</span><span class="sxs-lookup"><span data-stu-id="fe6b8-131">You want your application to process messages as parallel long-running streams (messages are associated with a stream using the [SessionId](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage.sessionid.aspx) property on the message).</span></span> <span data-ttu-id="fe6b8-132">In this model, each node in the consuming application competes for streams, as opposed to messages.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-132">In this model, each node in the consuming application competes for streams, as opposed to messages.</span></span> <span data-ttu-id="fe6b8-133">When a stream is given to a consuming node, the node can examine the state of the application stream state using transactions.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-133">When a stream is given to a consuming node, the node can examine the state of the application stream state using transactions.</span></span>
* <span data-ttu-id="fe6b8-134">Your solution requires transactional behavior and atomicity when sending or receiving multiple messages from a queue.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-134">Your solution requires transactional behavior and atomicity when sending or receiving multiple messages from a queue.</span></span>
* <span data-ttu-id="fe6b8-135">The time-to-live (TTL) characteristic of the application-specific workload can exceed the 7-day period.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-135">The time-to-live (TTL) characteristic of the application-specific workload can exceed the 7-day period.</span></span>
* <span data-ttu-id="fe6b8-136">Your application handles messages that can exceed 64 KB but will not likely approach the 256 KB limit.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-136">Your application handles messages that can exceed 64 KB but will not likely approach the 256 KB limit.</span></span>
* <span data-ttu-id="fe6b8-137">You deal with a requirement to provide a role-based access model to the queues, and different rights/permissions for senders and receivers.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-137">You deal with a requirement to provide a role-based access model to the queues, and different rights/permissions for senders and receivers.</span></span>
* <span data-ttu-id="fe6b8-138">Your queue size will not grow larger than 80 GB.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-138">Your queue size will not grow larger than 80 GB.</span></span>
* <span data-ttu-id="fe6b8-139">You want to use the AMQP 1.0 standards-based messaging protocol.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-139">You want to use the AMQP 1.0 standards-based messaging protocol.</span></span> <span data-ttu-id="fe6b8-140">For more information about AMQP, see [Service Bus AMQP Overview](service-bus-amqp-overview.md).</span><span class="sxs-lookup"><span data-stu-id="fe6b8-140">For more information about AMQP, see [Service Bus AMQP Overview](service-bus-amqp-overview.md).</span></span>
* <span data-ttu-id="fe6b8-141">You can envision an eventual migration from queue-based point-to-point communication to a message exchange pattern that enables seamless integration of additional receivers (subscribers), each of which receives independent copies of either some or all messages sent to the queue.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-141">You can envision an eventual migration from queue-based point-to-point communication to a message exchange pattern that enables seamless integration of additional receivers (subscribers), each of which receives independent copies of either some or all messages sent to the queue.</span></span> <span data-ttu-id="fe6b8-142">The latter refers to the publish/subscribe capability natively provided by Service Bus.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-142">The latter refers to the publish/subscribe capability natively provided by Service Bus.</span></span>
* <span data-ttu-id="fe6b8-143">Your messaging solution must be able to support the "At-Most-Once" delivery guarantee without the need for you to build the additional infrastructure components.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-143">Your messaging solution must be able to support the "At-Most-Once" delivery guarantee without the need for you to build the additional infrastructure components.</span></span>
* <span data-ttu-id="fe6b8-144">You would like to be able to publish and consume batches of messages.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-144">You would like to be able to publish and consume batches of messages.</span></span>

## <a name="comparing-storage-queues-and-service-bus-queues"></a><span data-ttu-id="fe6b8-145">Comparing Storage queues and Service Bus queues</span><span class="sxs-lookup"><span data-stu-id="fe6b8-145">Comparing Storage queues and Service Bus queues</span></span>
<span data-ttu-id="fe6b8-146">The tables in the following sections provide a logical grouping of queue features and let you compare, at a glance, the capabilities available in both Storage queues and Service Bus queues.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-146">The tables in the following sections provide a logical grouping of queue features and let you compare, at a glance, the capabilities available in both Storage queues and Service Bus queues.</span></span>

## <a name="foundational-capabilities"></a><span data-ttu-id="fe6b8-147">Foundational capabilities</span><span class="sxs-lookup"><span data-stu-id="fe6b8-147">Foundational capabilities</span></span>
<span data-ttu-id="fe6b8-148">This section compares some of the fundamental queuing capabilities provided by Storage queues and Service Bus queues.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-148">This section compares some of the fundamental queuing capabilities provided by Storage queues and Service Bus queues.</span></span>

| <span data-ttu-id="fe6b8-149">Comparison Criteria</span><span class="sxs-lookup"><span data-stu-id="fe6b8-149">Comparison Criteria</span></span> | <span data-ttu-id="fe6b8-150">Storage queues</span><span class="sxs-lookup"><span data-stu-id="fe6b8-150">Storage queues</span></span> | <span data-ttu-id="fe6b8-151">Service Bus Queues</span><span class="sxs-lookup"><span data-stu-id="fe6b8-151">Service Bus Queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="fe6b8-152">Ordering guarantee</span><span class="sxs-lookup"><span data-stu-id="fe6b8-152">Ordering guarantee</span></span> |<span data-ttu-id="fe6b8-153">**No**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-153">**No**</span></span> <br/><br><span data-ttu-id="fe6b8-154">For more information, see the first note in the “Additional Information” section.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-154">For more information, see the first note in the “Additional Information” section.</span></span></br> |<span data-ttu-id="fe6b8-155">**Yes - First-In-First-Out (FIFO)**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-155">**Yes - First-In-First-Out (FIFO)**</span></span><br/><br><span data-ttu-id="fe6b8-156">(through the use of messaging sessions)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-156">(through the use of messaging sessions)</span></span> |
| <span data-ttu-id="fe6b8-157">Delivery guarantee</span><span class="sxs-lookup"><span data-stu-id="fe6b8-157">Delivery guarantee</span></span> |<span data-ttu-id="fe6b8-158">**At-Least-Once**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-158">**At-Least-Once**</span></span> |<span data-ttu-id="fe6b8-159">**At-Least-Once**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-159">**At-Least-Once**</span></span><br/><br/><span data-ttu-id="fe6b8-160">**At-Most-Once**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-160">**At-Most-Once**</span></span> |
| <span data-ttu-id="fe6b8-161">Atomic operation support</span><span class="sxs-lookup"><span data-stu-id="fe6b8-161">Atomic operation support</span></span> |<span data-ttu-id="fe6b8-162">**No**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-162">**No**</span></span> |<span data-ttu-id="fe6b8-163">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-163">**Yes**</span></span><br/><br/> |
| <span data-ttu-id="fe6b8-164">Receive behavior</span><span class="sxs-lookup"><span data-stu-id="fe6b8-164">Receive behavior</span></span> |<span data-ttu-id="fe6b8-165">**Non-blocking**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-165">**Non-blocking**</span></span><br/><br/><span data-ttu-id="fe6b8-166">(completes immediately if no new message is found)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-166">(completes immediately if no new message is found)</span></span> |<span data-ttu-id="fe6b8-167">**Blocking with/without timeout**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-167">**Blocking with/without timeout**</span></span><br/><br/><span data-ttu-id="fe6b8-168">(offers long polling, or the ["Comet technique"](http://go.microsoft.com/fwlink/?LinkId=613759))</span><span class="sxs-lookup"><span data-stu-id="fe6b8-168">(offers long polling, or the ["Comet technique"](http://go.microsoft.com/fwlink/?LinkId=613759))</span></span><br/><br/><span data-ttu-id="fe6b8-169">**Non-blocking**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-169">**Non-blocking**</span></span><br/><br/><span data-ttu-id="fe6b8-170">(through the use of .NET managed API only)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-170">(through the use of .NET managed API only)</span></span> |
| <span data-ttu-id="fe6b8-171">Push-style API</span><span class="sxs-lookup"><span data-stu-id="fe6b8-171">Push-style API</span></span> |<span data-ttu-id="fe6b8-172">**No**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-172">**No**</span></span> |<span data-ttu-id="fe6b8-173">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-173">**Yes**</span></span><br/><br/><span data-ttu-id="fe6b8-174">[OnMessage](https://msdn.microsoft.com/library/azure/jj908682.aspx) and **OnMessage** sessions .NET API.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-174">[OnMessage](https://msdn.microsoft.com/library/azure/jj908682.aspx) and **OnMessage** sessions .NET API.</span></span> |
| <span data-ttu-id="fe6b8-175">Receive mode</span><span class="sxs-lookup"><span data-stu-id="fe6b8-175">Receive mode</span></span> |<span data-ttu-id="fe6b8-176">**Peek & Lease**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-176">**Peek & Lease**</span></span> |<span data-ttu-id="fe6b8-177">**Peek & Lock**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-177">**Peek & Lock**</span></span><br/><br/><span data-ttu-id="fe6b8-178">**Receive & Delete**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-178">**Receive & Delete**</span></span> |
| <span data-ttu-id="fe6b8-179">Exclusive access mode</span><span class="sxs-lookup"><span data-stu-id="fe6b8-179">Exclusive access mode</span></span> |<span data-ttu-id="fe6b8-180">**Lease-based**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-180">**Lease-based**</span></span> |<span data-ttu-id="fe6b8-181">**Lock-based**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-181">**Lock-based**</span></span> |
| <span data-ttu-id="fe6b8-182">Lease/Lock duration</span><span class="sxs-lookup"><span data-stu-id="fe6b8-182">Lease/Lock duration</span></span> |<span data-ttu-id="fe6b8-183">**30 seconds (default)**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-183">**30 seconds (default)**</span></span><br/><br/><span data-ttu-id="fe6b8-184">**7 days (maximum)** (You can renew or release a message lease using the [UpdateMessage](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueue.updatemessage.aspx) API.)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-184">**7 days (maximum)** (You can renew or release a message lease using the [UpdateMessage](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueue.updatemessage.aspx) API.)</span></span> |<span data-ttu-id="fe6b8-185">**60 seconds (default)**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-185">**60 seconds (default)**</span></span><br/><br/><span data-ttu-id="fe6b8-186">You can renew a message lock using the [RenewLock](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage.renewlock.aspx) API.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-186">You can renew a message lock using the [RenewLock](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage.renewlock.aspx) API.</span></span> |
| <span data-ttu-id="fe6b8-187">Lease/Lock precision</span><span class="sxs-lookup"><span data-stu-id="fe6b8-187">Lease/Lock precision</span></span> |<span data-ttu-id="fe6b8-188">**Message level**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-188">**Message level**</span></span><br/><br/><span data-ttu-id="fe6b8-189">(each message can have a different timeout value, which you can then update as needed while processing the message, by using the [UpdateMessage](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueue.updatemessage.aspx) API)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-189">(each message can have a different timeout value, which you can then update as needed while processing the message, by using the [UpdateMessage](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueue.updatemessage.aspx) API)</span></span> |<span data-ttu-id="fe6b8-190">**Queue level**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-190">**Queue level**</span></span><br/><br/><span data-ttu-id="fe6b8-191">(each queue has a lock precision applied to all of its messages, but you can renew the lock using the [RenewLock](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage.renewlock.aspx) API.)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-191">(each queue has a lock precision applied to all of its messages, but you can renew the lock using the [RenewLock](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage.renewlock.aspx) API.)</span></span> |
| <span data-ttu-id="fe6b8-192">Batched receive</span><span class="sxs-lookup"><span data-stu-id="fe6b8-192">Batched receive</span></span> |<span data-ttu-id="fe6b8-193">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-193">**Yes**</span></span><br/><br/><span data-ttu-id="fe6b8-194">(explicitly specifying message count when retrieving messages, up to a maximum of 32 messages)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-194">(explicitly specifying message count when retrieving messages, up to a maximum of 32 messages)</span></span> |<span data-ttu-id="fe6b8-195">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-195">**Yes**</span></span><br/><br/><span data-ttu-id="fe6b8-196">(implicitly enabling a pre-fetch property or explicitly through the use of transactions)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-196">(implicitly enabling a pre-fetch property or explicitly through the use of transactions)</span></span> |
| <span data-ttu-id="fe6b8-197">Batched send</span><span class="sxs-lookup"><span data-stu-id="fe6b8-197">Batched send</span></span> |<span data-ttu-id="fe6b8-198">**No**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-198">**No**</span></span> |<span data-ttu-id="fe6b8-199">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-199">**Yes**</span></span><br/><br/><span data-ttu-id="fe6b8-200">(through the use of transactions or client-side batching)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-200">(through the use of transactions or client-side batching)</span></span> |

### <a name="additional-information"></a><span data-ttu-id="fe6b8-201">Additional information</span><span class="sxs-lookup"><span data-stu-id="fe6b8-201">Additional information</span></span>
* <span data-ttu-id="fe6b8-202">Messages in Storage queues are typically first-in-first-out, but sometimes they can be out of order; for example, when a message's visibility timeout duration expires (for example, as a result of a client application crashing during processing).</span><span class="sxs-lookup"><span data-stu-id="fe6b8-202">Messages in Storage queues are typically first-in-first-out, but sometimes they can be out of order; for example, when a message's visibility timeout duration expires (for example, as a result of a client application crashing during processing).</span></span> <span data-ttu-id="fe6b8-203">When the visibility timeout expires, the message becomes visible again on the queue for another worker to dequeue it.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-203">When the visibility timeout expires, the message becomes visible again on the queue for another worker to dequeue it.</span></span> <span data-ttu-id="fe6b8-204">At that point, the newly visible message might be placed in the queue (to be dequeued again) after a message that was originally enqueued after it.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-204">At that point, the newly visible message might be placed in the queue (to be dequeued again) after a message that was originally enqueued after it.</span></span>
* <span data-ttu-id="fe6b8-205">The guaranteed FIFO pattern in Service Bus queues requires the use of messaging sessions.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-205">The guaranteed FIFO pattern in Service Bus queues requires the use of messaging sessions.</span></span> <span data-ttu-id="fe6b8-206">In the event that the application crashes while processing a message received in the **Peek & Lock** mode, the next time a queue receiver accepts a messaging session, it will start with the failed message after its time-to-live (TTL) period expires.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-206">In the event that the application crashes while processing a message received in the **Peek & Lock** mode, the next time a queue receiver accepts a messaging session, it will start with the failed message after its time-to-live (TTL) period expires.</span></span>
* <span data-ttu-id="fe6b8-207">Storage queues are designed to support standard queuing scenarios, such as decoupling application components to increase scalability and tolerance for failures, load leveling, and building process workflows.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-207">Storage queues are designed to support standard queuing scenarios, such as decoupling application components to increase scalability and tolerance for failures, load leveling, and building process workflows.</span></span>
* <span data-ttu-id="fe6b8-208">Service Bus queues support the *At-Least-Once* delivery guarantee.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-208">Service Bus queues support the *At-Least-Once* delivery guarantee.</span></span> <span data-ttu-id="fe6b8-209">In addition, the *At-Most-Once* semantic can be supported by using session state to store the application state and by using transactions to atomically receive messages and update the session state.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-209">In addition, the *At-Most-Once* semantic can be supported by using session state to store the application state and by using transactions to atomically receive messages and update the session state.</span></span>
* <span data-ttu-id="fe6b8-210">Storage queues provide a uniform and consistent programming model across queues, tables, and BLOBs – both for developers and for operations teams.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-210">Storage queues provide a uniform and consistent programming model across queues, tables, and BLOBs – both for developers and for operations teams.</span></span>
* <span data-ttu-id="fe6b8-211">Service Bus queues provide support for local transactions in the context of a single queue.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-211">Service Bus queues provide support for local transactions in the context of a single queue.</span></span>
* <span data-ttu-id="fe6b8-212">The **Receive and Delete** mode supported by Service Bus provides the ability to reduce the messaging operation count (and associated cost) in exchange for lowered delivery assurance.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-212">The **Receive and Delete** mode supported by Service Bus provides the ability to reduce the messaging operation count (and associated cost) in exchange for lowered delivery assurance.</span></span>
* <span data-ttu-id="fe6b8-213">Storage queues provide leases with the ability to extend the leases for messages.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-213">Storage queues provide leases with the ability to extend the leases for messages.</span></span> <span data-ttu-id="fe6b8-214">This allows the workers to maintain short leases on messages.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-214">This allows the workers to maintain short leases on messages.</span></span> <span data-ttu-id="fe6b8-215">Thus, if a worker crashes, the message can be quickly processed again by another worker.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-215">Thus, if a worker crashes, the message can be quickly processed again by another worker.</span></span> <span data-ttu-id="fe6b8-216">In addition, a worker can extend the lease on a message if it needs to process it longer than the current lease time.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-216">In addition, a worker can extend the lease on a message if it needs to process it longer than the current lease time.</span></span>
* <span data-ttu-id="fe6b8-217">Storage queues offer a visibility timeout that you can set upon the enqueueing or dequeuing of a message.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-217">Storage queues offer a visibility timeout that you can set upon the enqueueing or dequeuing of a message.</span></span> <span data-ttu-id="fe6b8-218">In addition, you can update a message with different lease values at run-time, and update different values across messages in the same queue.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-218">In addition, you can update a message with different lease values at run-time, and update different values across messages in the same queue.</span></span> <span data-ttu-id="fe6b8-219">Service Bus lock timeouts are defined in the queue metadata; however, you can renew the lock by calling the [RenewLock](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage.renewlock.aspx) method.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-219">Service Bus lock timeouts are defined in the queue metadata; however, you can renew the lock by calling the [RenewLock](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage.renewlock.aspx) method.</span></span>
* <span data-ttu-id="fe6b8-220">The maximum timeout for a blocking receive operation in Service Bus queues is 24 days.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-220">The maximum timeout for a blocking receive operation in Service Bus queues is 24 days.</span></span> <span data-ttu-id="fe6b8-221">However, REST-based timeouts have a maximum value of 55 seconds.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-221">However, REST-based timeouts have a maximum value of 55 seconds.</span></span>
* <span data-ttu-id="fe6b8-222">Client-side batching provided by Service Bus enables a queue client to batch multiple messages into a single send operation.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-222">Client-side batching provided by Service Bus enables a queue client to batch multiple messages into a single send operation.</span></span> <span data-ttu-id="fe6b8-223">Batching is only available for asynchronous send operations.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-223">Batching is only available for asynchronous send operations.</span></span>
* <span data-ttu-id="fe6b8-224">Features such as the 200 TB ceiling of Storage queues (more when you virtualize accounts) and unlimited queues make it an ideal platform for SaaS providers.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-224">Features such as the 200 TB ceiling of Storage queues (more when you virtualize accounts) and unlimited queues make it an ideal platform for SaaS providers.</span></span>
* <span data-ttu-id="fe6b8-225">Storage queues provide a flexible and performant delegated access control mechanism.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-225">Storage queues provide a flexible and performant delegated access control mechanism.</span></span>

## <a name="advanced-capabilities"></a><span data-ttu-id="fe6b8-226">Advanced capabilities</span><span class="sxs-lookup"><span data-stu-id="fe6b8-226">Advanced capabilities</span></span>
<span data-ttu-id="fe6b8-227">This section compares advanced capabilities provided by Storage queues and Service Bus queues.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-227">This section compares advanced capabilities provided by Storage queues and Service Bus queues.</span></span>

| <span data-ttu-id="fe6b8-228">Comparison Criteria</span><span class="sxs-lookup"><span data-stu-id="fe6b8-228">Comparison Criteria</span></span> | <span data-ttu-id="fe6b8-229">Storage queues</span><span class="sxs-lookup"><span data-stu-id="fe6b8-229">Storage queues</span></span> | <span data-ttu-id="fe6b8-230">Service Bus Queues</span><span class="sxs-lookup"><span data-stu-id="fe6b8-230">Service Bus Queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="fe6b8-231">Scheduled delivery</span><span class="sxs-lookup"><span data-stu-id="fe6b8-231">Scheduled delivery</span></span> |<span data-ttu-id="fe6b8-232">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-232">**Yes**</span></span> |<span data-ttu-id="fe6b8-233">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-233">**Yes**</span></span> |
| <span data-ttu-id="fe6b8-234">Automatic dead lettering</span><span class="sxs-lookup"><span data-stu-id="fe6b8-234">Automatic dead lettering</span></span> |<span data-ttu-id="fe6b8-235">**No**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-235">**No**</span></span> |<span data-ttu-id="fe6b8-236">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-236">**Yes**</span></span> |
| <span data-ttu-id="fe6b8-237">Increasing queue time-to-live value</span><span class="sxs-lookup"><span data-stu-id="fe6b8-237">Increasing queue time-to-live value</span></span> |<span data-ttu-id="fe6b8-238">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-238">**Yes**</span></span><br/><br/><span data-ttu-id="fe6b8-239">(via in-place update of visibility timeout)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-239">(via in-place update of visibility timeout)</span></span> |<span data-ttu-id="fe6b8-240">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-240">**Yes**</span></span><br/><br/><span data-ttu-id="fe6b8-241">(provided via a dedicated API function)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-241">(provided via a dedicated API function)</span></span> |
| <span data-ttu-id="fe6b8-242">Poison message support</span><span class="sxs-lookup"><span data-stu-id="fe6b8-242">Poison message support</span></span> |<span data-ttu-id="fe6b8-243">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-243">**Yes**</span></span> |<span data-ttu-id="fe6b8-244">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-244">**Yes**</span></span> |
| <span data-ttu-id="fe6b8-245">In-place update</span><span class="sxs-lookup"><span data-stu-id="fe6b8-245">In-place update</span></span> |<span data-ttu-id="fe6b8-246">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-246">**Yes**</span></span> |<span data-ttu-id="fe6b8-247">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-247">**Yes**</span></span> |
| <span data-ttu-id="fe6b8-248">Server-side transaction log</span><span class="sxs-lookup"><span data-stu-id="fe6b8-248">Server-side transaction log</span></span> |<span data-ttu-id="fe6b8-249">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-249">**Yes**</span></span> |<span data-ttu-id="fe6b8-250">**No**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-250">**No**</span></span> |
| <span data-ttu-id="fe6b8-251">Storage metrics</span><span class="sxs-lookup"><span data-stu-id="fe6b8-251">Storage metrics</span></span> |<span data-ttu-id="fe6b8-252">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-252">**Yes**</span></span><br/><br/><span data-ttu-id="fe6b8-253">**Minute Metrics**: provides real-time metrics for availability, TPS, API call counts, error counts, and more, all in real time (aggregated per minute and reported within a few minutes from what just happened in production.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-253">**Minute Metrics**: provides real-time metrics for availability, TPS, API call counts, error counts, and more, all in real time (aggregated per minute and reported within a few minutes from what just happened in production.</span></span> <span data-ttu-id="fe6b8-254">For more information, see [About Storage Analytics Metrics](https://msdn.microsoft.com/library/azure/hh343258.aspx).</span><span class="sxs-lookup"><span data-stu-id="fe6b8-254">For more information, see [About Storage Analytics Metrics](https://msdn.microsoft.com/library/azure/hh343258.aspx).</span></span> |<span data-ttu-id="fe6b8-255">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-255">**Yes**</span></span><br/><br/><span data-ttu-id="fe6b8-256">(bulk queries by calling [GetQueues](https://msdn.microsoft.com/library/azure/hh293128.aspx))</span><span class="sxs-lookup"><span data-stu-id="fe6b8-256">(bulk queries by calling [GetQueues](https://msdn.microsoft.com/library/azure/hh293128.aspx))</span></span> |
| <span data-ttu-id="fe6b8-257">State management</span><span class="sxs-lookup"><span data-stu-id="fe6b8-257">State management</span></span> |<span data-ttu-id="fe6b8-258">**No**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-258">**No**</span></span> |<span data-ttu-id="fe6b8-259">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-259">**Yes**</span></span><br/><br/><span data-ttu-id="fe6b8-260">[Microsoft.ServiceBus.Messaging.EntityStatus.Active](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.entitystatus.aspx), [Microsoft.ServiceBus.Messaging.EntityStatus.Disabled](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.entitystatus.aspx), [Microsoft.ServiceBus.Messaging.EntityStatus.SendDisabled](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.entitystatus.aspx), [Microsoft.ServiceBus.Messaging.EntityStatus.ReceiveDisabled](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.entitystatus.aspx)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-260">[Microsoft.ServiceBus.Messaging.EntityStatus.Active](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.entitystatus.aspx), [Microsoft.ServiceBus.Messaging.EntityStatus.Disabled](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.entitystatus.aspx), [Microsoft.ServiceBus.Messaging.EntityStatus.SendDisabled](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.entitystatus.aspx), [Microsoft.ServiceBus.Messaging.EntityStatus.ReceiveDisabled](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.entitystatus.aspx)</span></span> |
| <span data-ttu-id="fe6b8-261">Message auto-forwarding</span><span class="sxs-lookup"><span data-stu-id="fe6b8-261">Message auto-forwarding</span></span> |<span data-ttu-id="fe6b8-262">**No**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-262">**No**</span></span> |<span data-ttu-id="fe6b8-263">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-263">**Yes**</span></span> |
| <span data-ttu-id="fe6b8-264">Purge queue function</span><span class="sxs-lookup"><span data-stu-id="fe6b8-264">Purge queue function</span></span> |<span data-ttu-id="fe6b8-265">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-265">**Yes**</span></span> |<span data-ttu-id="fe6b8-266">**No**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-266">**No**</span></span> |
| <span data-ttu-id="fe6b8-267">Message groups</span><span class="sxs-lookup"><span data-stu-id="fe6b8-267">Message groups</span></span> |<span data-ttu-id="fe6b8-268">**No**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-268">**No**</span></span> |<span data-ttu-id="fe6b8-269">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-269">**Yes**</span></span><br/><br/><span data-ttu-id="fe6b8-270">(through the use of messaging sessions)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-270">(through the use of messaging sessions)</span></span> |
| <span data-ttu-id="fe6b8-271">Application state per message group</span><span class="sxs-lookup"><span data-stu-id="fe6b8-271">Application state per message group</span></span> |<span data-ttu-id="fe6b8-272">**No**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-272">**No**</span></span> |<span data-ttu-id="fe6b8-273">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-273">**Yes**</span></span> |
| <span data-ttu-id="fe6b8-274">Duplicate detection</span><span class="sxs-lookup"><span data-stu-id="fe6b8-274">Duplicate detection</span></span> |<span data-ttu-id="fe6b8-275">**No**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-275">**No**</span></span> |<span data-ttu-id="fe6b8-276">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-276">**Yes**</span></span><br/><br/><span data-ttu-id="fe6b8-277">(configurable on the sender side)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-277">(configurable on the sender side)</span></span> |
| <span data-ttu-id="fe6b8-278">Browsing message groups</span><span class="sxs-lookup"><span data-stu-id="fe6b8-278">Browsing message groups</span></span> |<span data-ttu-id="fe6b8-279">**No**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-279">**No**</span></span> |<span data-ttu-id="fe6b8-280">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-280">**Yes**</span></span> |
| <span data-ttu-id="fe6b8-281">Fetching message sessions by ID</span><span class="sxs-lookup"><span data-stu-id="fe6b8-281">Fetching message sessions by ID</span></span> |<span data-ttu-id="fe6b8-282">**No**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-282">**No**</span></span> |<span data-ttu-id="fe6b8-283">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-283">**Yes**</span></span> |

### <a name="additional-information"></a><span data-ttu-id="fe6b8-284">Additional information</span><span class="sxs-lookup"><span data-stu-id="fe6b8-284">Additional information</span></span>
* <span data-ttu-id="fe6b8-285">Both queuing technologies enable a message to be scheduled for delivery at a later time.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-285">Both queuing technologies enable a message to be scheduled for delivery at a later time.</span></span>
* <span data-ttu-id="fe6b8-286">Queue auto-forwarding enables thousands of queues to auto-forward their messages to a single queue, from which the receiving application consumes the message.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-286">Queue auto-forwarding enables thousands of queues to auto-forward their messages to a single queue, from which the receiving application consumes the message.</span></span> <span data-ttu-id="fe6b8-287">You can use this mechanism to achieve security, control flow, and isolate storage between each message publisher.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-287">You can use this mechanism to achieve security, control flow, and isolate storage between each message publisher.</span></span>
* <span data-ttu-id="fe6b8-288">Storage queues provide support for updating message content.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-288">Storage queues provide support for updating message content.</span></span> <span data-ttu-id="fe6b8-289">You can use this functionality for persisting state information and incremental progress updates into the message so that it can be processed from the last known checkpoint, instead of starting from scratch.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-289">You can use this functionality for persisting state information and incremental progress updates into the message so that it can be processed from the last known checkpoint, instead of starting from scratch.</span></span> <span data-ttu-id="fe6b8-290">With Service Bus queues, you can enable the same scenario through the use of message sessions.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-290">With Service Bus queues, you can enable the same scenario through the use of message sessions.</span></span> <span data-ttu-id="fe6b8-291">Sessions enable you to save and retrieve the application processing state (by using [SetState](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagesession.setstate.aspx) and [GetState](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagesession.getstate.aspx)).</span><span class="sxs-lookup"><span data-stu-id="fe6b8-291">Sessions enable you to save and retrieve the application processing state (by using [SetState](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagesession.setstate.aspx) and [GetState](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagesession.getstate.aspx)).</span></span>
* <span data-ttu-id="fe6b8-292">[Dead lettering](service-bus-dead-letter-queues.md), which is only supported by Service Bus queues, can be useful for isolating messages that cannot be processed successfully by the receiving application or when messages cannot reach their destination due to an expired time-to-live (TTL) property.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-292">[Dead lettering](service-bus-dead-letter-queues.md), which is only supported by Service Bus queues, can be useful for isolating messages that cannot be processed successfully by the receiving application or when messages cannot reach their destination due to an expired time-to-live (TTL) property.</span></span> <span data-ttu-id="fe6b8-293">The TTL value specifies how long a message remains in the queue.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-293">The TTL value specifies how long a message remains in the queue.</span></span> <span data-ttu-id="fe6b8-294">With Service Bus, the message will be moved to a special queue called $DeadLetterQueue when the TTL period expires.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-294">With Service Bus, the message will be moved to a special queue called $DeadLetterQueue when the TTL period expires.</span></span>
* <span data-ttu-id="fe6b8-295">To find "poison" messages in Storage queues, when dequeuing a message the application examines the **[DequeueCount](https://msdn.microsoft.com/library/azure/dd179474.aspx)** property of the message.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-295">To find "poison" messages in Storage queues, when dequeuing a message the application examines the **[DequeueCount](https://msdn.microsoft.com/library/azure/dd179474.aspx)** property of the message.</span></span> <span data-ttu-id="fe6b8-296">If **DequeueCount** is above a given threshold, the application moves the message to an application-defined "dead letter" queue.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-296">If **DequeueCount** is above a given threshold, the application moves the message to an application-defined "dead letter" queue.</span></span>
* <span data-ttu-id="fe6b8-297">Storage queues enable you to obtain a detailed log of all of the transactions executed against the queue, as well as aggregated metrics.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-297">Storage queues enable you to obtain a detailed log of all of the transactions executed against the queue, as well as aggregated metrics.</span></span> <span data-ttu-id="fe6b8-298">Both of these options are useful for debugging and understanding how your application uses Storage queues.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-298">Both of these options are useful for debugging and understanding how your application uses Storage queues.</span></span> <span data-ttu-id="fe6b8-299">They are also useful for performance-tuning your application and reducing the costs of using queues.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-299">They are also useful for performance-tuning your application and reducing the costs of using queues.</span></span>
* <span data-ttu-id="fe6b8-300">The concept of "message sessions" supported by Service Bus enables messages that belong to a certain logical group to be associated with a given receiver, which in turn creates a session-like affinity between messages and their respective receivers.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-300">The concept of "message sessions" supported by Service Bus enables messages that belong to a certain logical group to be associated with a given receiver, which in turn creates a session-like affinity between messages and their respective receivers.</span></span> <span data-ttu-id="fe6b8-301">You can enable this advanced functionality in Service Bus by setting the [SessionID](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage.sessionid.aspx) property on a message.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-301">You can enable this advanced functionality in Service Bus by setting the [SessionID](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage.sessionid.aspx) property on a message.</span></span> <span data-ttu-id="fe6b8-302">Receivers can then listen on a specific session ID and receive messages that share the specified session identifier.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-302">Receivers can then listen on a specific session ID and receive messages that share the specified session identifier.</span></span>
* <span data-ttu-id="fe6b8-303">The duplication detection functionality supported by Service Bus queues automatically removes duplicate messages sent to a queue or topic, based on the value of the [MessageId](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage.messageid.aspx) property.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-303">The duplication detection functionality supported by Service Bus queues automatically removes duplicate messages sent to a queue or topic, based on the value of the [MessageId](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage.messageid.aspx) property.</span></span>

## <a name="capacity-and-quotas"></a><span data-ttu-id="fe6b8-304">Capacity and quotas</span><span class="sxs-lookup"><span data-stu-id="fe6b8-304">Capacity and quotas</span></span>
<span data-ttu-id="fe6b8-305">This section compares Storage queues and Service Bus queues from the perspective of [capacity and quotas](service-bus-quotas.md) that may apply.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-305">This section compares Storage queues and Service Bus queues from the perspective of [capacity and quotas](service-bus-quotas.md) that may apply.</span></span>

| <span data-ttu-id="fe6b8-306">Comparison Criteria</span><span class="sxs-lookup"><span data-stu-id="fe6b8-306">Comparison Criteria</span></span> | <span data-ttu-id="fe6b8-307">Storage queues</span><span class="sxs-lookup"><span data-stu-id="fe6b8-307">Storage queues</span></span> | <span data-ttu-id="fe6b8-308">Service Bus Queues</span><span class="sxs-lookup"><span data-stu-id="fe6b8-308">Service Bus Queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="fe6b8-309">Maximum queue size</span><span class="sxs-lookup"><span data-stu-id="fe6b8-309">Maximum queue size</span></span> |<span data-ttu-id="fe6b8-310">**200 TB**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-310">**200 TB**</span></span><br/><br/><span data-ttu-id="fe6b8-311">(limited to a single storage account capacity)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-311">(limited to a single storage account capacity)</span></span> |<span data-ttu-id="fe6b8-312">**1 GB to 80 GB**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-312">**1 GB to 80 GB**</span></span><br/><br/><span data-ttu-id="fe6b8-313">(defined upon creation of a queue and [enabling partitioning](service-bus-partitioning.md) – see the “Additional Information” section)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-313">(defined upon creation of a queue and [enabling partitioning](service-bus-partitioning.md) – see the “Additional Information” section)</span></span> |
| <span data-ttu-id="fe6b8-314">Maximum message size</span><span class="sxs-lookup"><span data-stu-id="fe6b8-314">Maximum message size</span></span> |<span data-ttu-id="fe6b8-315">**64 KB**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-315">**64 KB**</span></span><br/><br/><span data-ttu-id="fe6b8-316">(48 KB when using **Base64** encoding)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-316">(48 KB when using **Base64** encoding)</span></span><br/><br/><span data-ttu-id="fe6b8-317">Azure supports large messages by combining queues and blobs – at which point you can enqueue up to 200GB for a single item.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-317">Azure supports large messages by combining queues and blobs – at which point you can enqueue up to 200GB for a single item.</span></span> |<span data-ttu-id="fe6b8-318">**256 KB** or **1 MB**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-318">**256 KB** or **1 MB**</span></span><br/><br/><span data-ttu-id="fe6b8-319">(including both header and body, maximum header size: 64 KB).</span><span class="sxs-lookup"><span data-stu-id="fe6b8-319">(including both header and body, maximum header size: 64 KB).</span></span><br/><br/><span data-ttu-id="fe6b8-320">Depends on the [service tier](service-bus-premium-messaging.md).</span><span class="sxs-lookup"><span data-stu-id="fe6b8-320">Depends on the [service tier](service-bus-premium-messaging.md).</span></span> |
| <span data-ttu-id="fe6b8-321">Maximum message TTL</span><span class="sxs-lookup"><span data-stu-id="fe6b8-321">Maximum message TTL</span></span> |<span data-ttu-id="fe6b8-322">**7 days**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-322">**7 days**</span></span> |**`TimeSpan.Max`** |
| <span data-ttu-id="fe6b8-323">Maximum number of queues</span><span class="sxs-lookup"><span data-stu-id="fe6b8-323">Maximum number of queues</span></span> |<span data-ttu-id="fe6b8-324">**Unlimited**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-324">**Unlimited**</span></span> |<span data-ttu-id="fe6b8-325">**10,000**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-325">**10,000**</span></span><br/><br/><span data-ttu-id="fe6b8-326">(per service namespace, can be increased)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-326">(per service namespace, can be increased)</span></span> |
| <span data-ttu-id="fe6b8-327">Maximum number of concurrent clients</span><span class="sxs-lookup"><span data-stu-id="fe6b8-327">Maximum number of concurrent clients</span></span> |<span data-ttu-id="fe6b8-328">**Unlimited**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-328">**Unlimited**</span></span> |<span data-ttu-id="fe6b8-329">**Unlimited**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-329">**Unlimited**</span></span><br/><br/><span data-ttu-id="fe6b8-330">(100 concurrent connection limit only applies to TCP protocol-based communication)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-330">(100 concurrent connection limit only applies to TCP protocol-based communication)</span></span> |

### <a name="additional-information"></a><span data-ttu-id="fe6b8-331">Additional information</span><span class="sxs-lookup"><span data-stu-id="fe6b8-331">Additional information</span></span>
* <span data-ttu-id="fe6b8-332">Service Bus enforces queue size limits.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-332">Service Bus enforces queue size limits.</span></span> <span data-ttu-id="fe6b8-333">The maximum queue size is specified upon creation of the queue and can have a value between 1 and 80 GB.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-333">The maximum queue size is specified upon creation of the queue and can have a value between 1 and 80 GB.</span></span> <span data-ttu-id="fe6b8-334">If the queue size value set on creation of the queue is reached, additional incoming messages will be rejected and an exception will be received by the calling code.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-334">If the queue size value set on creation of the queue is reached, additional incoming messages will be rejected and an exception will be received by the calling code.</span></span> <span data-ttu-id="fe6b8-335">For more information about quotas in Service Bus, see [Service Bus Quotas](service-bus-quotas.md).</span><span class="sxs-lookup"><span data-stu-id="fe6b8-335">For more information about quotas in Service Bus, see [Service Bus Quotas](service-bus-quotas.md).</span></span>
* <span data-ttu-id="fe6b8-336">You can create Service Bus queues in 1, 2, 3, 4, or 5 GB sizes (the default is 1 GB).</span><span class="sxs-lookup"><span data-stu-id="fe6b8-336">You can create Service Bus queues in 1, 2, 3, 4, or 5 GB sizes (the default is 1 GB).</span></span> <span data-ttu-id="fe6b8-337">With partitioning enabled (which is the default), Service Bus creates 16 partitions for each GB you specify.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-337">With partitioning enabled (which is the default), Service Bus creates 16 partitions for each GB you specify.</span></span> <span data-ttu-id="fe6b8-338">As such, if you create a queue that is 5 GB in size, with 16 partitions the maximum queue size becomes (5 \* 16) = 80 GB.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-338">As such, if you create a queue that is 5 GB in size, with 16 partitions the maximum queue size becomes (5 \* 16) = 80 GB.</span></span> <span data-ttu-id="fe6b8-339">You can see the maximum size of your partitioned queue or topic by looking at its entry on the [Azure portal][Azure portal].</span><span class="sxs-lookup"><span data-stu-id="fe6b8-339">You can see the maximum size of your partitioned queue or topic by looking at its entry on the [Azure portal][Azure portal].</span></span>
* <span data-ttu-id="fe6b8-340">With Storage queues, if the content of the message is not XML-safe, then it must be **Base64** encoded.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-340">With Storage queues, if the content of the message is not XML-safe, then it must be **Base64** encoded.</span></span> <span data-ttu-id="fe6b8-341">If you **Base64**-encode the message, the user payload can be up to 48 KB, instead of 64 KB.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-341">If you **Base64**-encode the message, the user payload can be up to 48 KB, instead of 64 KB.</span></span>
* <span data-ttu-id="fe6b8-342">With Service Bus queues, each message stored in a queue is composed of two parts: a header and a body.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-342">With Service Bus queues, each message stored in a queue is composed of two parts: a header and a body.</span></span> <span data-ttu-id="fe6b8-343">The total size of the message cannot exceed the maximum message size supported by the service tier.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-343">The total size of the message cannot exceed the maximum message size supported by the service tier.</span></span>
* <span data-ttu-id="fe6b8-344">When clients communicate with Service Bus queues over the TCP protocol, the maximum number of concurrent connections to a single Service Bus queue is limited to 100.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-344">When clients communicate with Service Bus queues over the TCP protocol, the maximum number of concurrent connections to a single Service Bus queue is limited to 100.</span></span> <span data-ttu-id="fe6b8-345">This number is shared between senders and receivers.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-345">This number is shared between senders and receivers.</span></span> <span data-ttu-id="fe6b8-346">If this quota is reached, subsequent requests for additional connections will be rejected and an exception will be received by the calling code.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-346">If this quota is reached, subsequent requests for additional connections will be rejected and an exception will be received by the calling code.</span></span> <span data-ttu-id="fe6b8-347">This limit is not imposed on clients connecting to the queues using REST-based API.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-347">This limit is not imposed on clients connecting to the queues using REST-based API.</span></span>
* <span data-ttu-id="fe6b8-348">If you require more than 10,000 queues in a single Service Bus namespace, you can contact the Azure support team and request an increase.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-348">If you require more than 10,000 queues in a single Service Bus namespace, you can contact the Azure support team and request an increase.</span></span> <span data-ttu-id="fe6b8-349">To scale beyond 10,000 queues with Service Bus, you can also create additional namespaces using the [Azure portal][Azure portal].</span><span class="sxs-lookup"><span data-stu-id="fe6b8-349">To scale beyond 10,000 queues with Service Bus, you can also create additional namespaces using the [Azure portal][Azure portal].</span></span>

## <a name="management-and-operations"></a><span data-ttu-id="fe6b8-350">Management and operations</span><span class="sxs-lookup"><span data-stu-id="fe6b8-350">Management and operations</span></span>
<span data-ttu-id="fe6b8-351">This section compares the management features provided by Storage queues and Service Bus queues.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-351">This section compares the management features provided by Storage queues and Service Bus queues.</span></span>

| <span data-ttu-id="fe6b8-352">Comparison Criteria</span><span class="sxs-lookup"><span data-stu-id="fe6b8-352">Comparison Criteria</span></span> | <span data-ttu-id="fe6b8-353">Storage queues</span><span class="sxs-lookup"><span data-stu-id="fe6b8-353">Storage queues</span></span> | <span data-ttu-id="fe6b8-354">Service Bus queues</span><span class="sxs-lookup"><span data-stu-id="fe6b8-354">Service Bus queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="fe6b8-355">Management protocol</span><span class="sxs-lookup"><span data-stu-id="fe6b8-355">Management protocol</span></span> |<span data-ttu-id="fe6b8-356">**REST over HTTP/HTTPS**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-356">**REST over HTTP/HTTPS**</span></span> |<span data-ttu-id="fe6b8-357">**REST over HTTPS**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-357">**REST over HTTPS**</span></span> |
| <span data-ttu-id="fe6b8-358">Runtime protocol</span><span class="sxs-lookup"><span data-stu-id="fe6b8-358">Runtime protocol</span></span> |<span data-ttu-id="fe6b8-359">**REST over HTTP/HTTPS**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-359">**REST over HTTP/HTTPS**</span></span> |<span data-ttu-id="fe6b8-360">**REST over HTTPS**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-360">**REST over HTTPS**</span></span><br/><br/><span data-ttu-id="fe6b8-361">**AMQP 1.0 Standard (TCP with TLS)**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-361">**AMQP 1.0 Standard (TCP with TLS)**</span></span> |
| <span data-ttu-id="fe6b8-362">.NET API</span><span class="sxs-lookup"><span data-stu-id="fe6b8-362">.NET API</span></span> |<span data-ttu-id="fe6b8-363">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-363">**Yes**</span></span><br/><br/><span data-ttu-id="fe6b8-364">(.NET Storage Client API)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-364">(.NET Storage Client API)</span></span> |<span data-ttu-id="fe6b8-365">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-365">**Yes**</span></span><br/><br/><span data-ttu-id="fe6b8-366">(.NET Service Bus API)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-366">(.NET Service Bus API)</span></span> |
| <span data-ttu-id="fe6b8-367">Native C++</span><span class="sxs-lookup"><span data-stu-id="fe6b8-367">Native C++</span></span> |<span data-ttu-id="fe6b8-368">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-368">**Yes**</span></span> |<span data-ttu-id="fe6b8-369">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-369">**Yes**</span></span> |
| <span data-ttu-id="fe6b8-370">Java API</span><span class="sxs-lookup"><span data-stu-id="fe6b8-370">Java API</span></span> |<span data-ttu-id="fe6b8-371">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-371">**Yes**</span></span> |<span data-ttu-id="fe6b8-372">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-372">**Yes**</span></span> |
| <span data-ttu-id="fe6b8-373">PHP API</span><span class="sxs-lookup"><span data-stu-id="fe6b8-373">PHP API</span></span> |<span data-ttu-id="fe6b8-374">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-374">**Yes**</span></span> |<span data-ttu-id="fe6b8-375">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-375">**Yes**</span></span> |
| <span data-ttu-id="fe6b8-376">Node.js API</span><span class="sxs-lookup"><span data-stu-id="fe6b8-376">Node.js API</span></span> |<span data-ttu-id="fe6b8-377">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-377">**Yes**</span></span> |<span data-ttu-id="fe6b8-378">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-378">**Yes**</span></span> |
| <span data-ttu-id="fe6b8-379">Arbitrary metadata support</span><span class="sxs-lookup"><span data-stu-id="fe6b8-379">Arbitrary metadata support</span></span> |<span data-ttu-id="fe6b8-380">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-380">**Yes**</span></span> |<span data-ttu-id="fe6b8-381">**No**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-381">**No**</span></span> |
| <span data-ttu-id="fe6b8-382">Queue naming rules</span><span class="sxs-lookup"><span data-stu-id="fe6b8-382">Queue naming rules</span></span> |<span data-ttu-id="fe6b8-383">**Up to 63 characters long**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-383">**Up to 63 characters long**</span></span><br/><br/><span data-ttu-id="fe6b8-384">(Letters in a queue name must be lowercase.)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-384">(Letters in a queue name must be lowercase.)</span></span> |<span data-ttu-id="fe6b8-385">**Up to 260 characters long**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-385">**Up to 260 characters long**</span></span><br/><br/><span data-ttu-id="fe6b8-386">(Queue paths and names are case-insensitive.)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-386">(Queue paths and names are case-insensitive.)</span></span> |
| <span data-ttu-id="fe6b8-387">Get queue length function</span><span class="sxs-lookup"><span data-stu-id="fe6b8-387">Get queue length function</span></span> |<span data-ttu-id="fe6b8-388">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-388">**Yes**</span></span><br/><br/><span data-ttu-id="fe6b8-389">(Approximate value if messages expire beyond the TTL without being deleted.)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-389">(Approximate value if messages expire beyond the TTL without being deleted.)</span></span> |<span data-ttu-id="fe6b8-390">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-390">**Yes**</span></span><br/><br/><span data-ttu-id="fe6b8-391">(Exact, point-in-time value.)</span><span class="sxs-lookup"><span data-stu-id="fe6b8-391">(Exact, point-in-time value.)</span></span> |
| <span data-ttu-id="fe6b8-392">Peek function</span><span class="sxs-lookup"><span data-stu-id="fe6b8-392">Peek function</span></span> |<span data-ttu-id="fe6b8-393">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-393">**Yes**</span></span> |<span data-ttu-id="fe6b8-394">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-394">**Yes**</span></span> |

### <a name="additional-information"></a><span data-ttu-id="fe6b8-395">Additional information</span><span class="sxs-lookup"><span data-stu-id="fe6b8-395">Additional information</span></span>
* <span data-ttu-id="fe6b8-396">Storage queues provide support for arbitrary attributes that can be applied to the queue description, in the form of name/value pairs.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-396">Storage queues provide support for arbitrary attributes that can be applied to the queue description, in the form of name/value pairs.</span></span>
* <span data-ttu-id="fe6b8-397">Both queue technologies offer the ability to peek a message without having to lock it, which can be useful when implementing a queue explorer/browser tool.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-397">Both queue technologies offer the ability to peek a message without having to lock it, which can be useful when implementing a queue explorer/browser tool.</span></span>
* <span data-ttu-id="fe6b8-398">The Service Bus .NET brokered messaging APIs leverage full-duplex TCP connections for improved performance when compared to REST over HTTP, and they support the AMQP 1.0 standard protocol.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-398">The Service Bus .NET brokered messaging APIs leverage full-duplex TCP connections for improved performance when compared to REST over HTTP, and they support the AMQP 1.0 standard protocol.</span></span>
* <span data-ttu-id="fe6b8-399">Names of Storage queues can be 3-63 characters long, can contain lowercase letters, numbers, and hyphens.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-399">Names of Storage queues can be 3-63 characters long, can contain lowercase letters, numbers, and hyphens.</span></span> <span data-ttu-id="fe6b8-400">For more information, see [Naming Queues and Metadata](https://msdn.microsoft.com/library/azure/dd179349.aspx).</span><span class="sxs-lookup"><span data-stu-id="fe6b8-400">For more information, see [Naming Queues and Metadata](https://msdn.microsoft.com/library/azure/dd179349.aspx).</span></span>
* <span data-ttu-id="fe6b8-401">Service Bus queue names can be up to 260 characters long and have less restrictive naming rules.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-401">Service Bus queue names can be up to 260 characters long and have less restrictive naming rules.</span></span> <span data-ttu-id="fe6b8-402">Service Bus queue names can contain letters, numbers, periods, hyphens, and underscores.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-402">Service Bus queue names can contain letters, numbers, periods, hyphens, and underscores.</span></span>

## <a name="authentication-and-authorization"></a><span data-ttu-id="fe6b8-403">Authentication and authorization</span><span class="sxs-lookup"><span data-stu-id="fe6b8-403">Authentication and authorization</span></span>
<span data-ttu-id="fe6b8-404">This section discusses the authentication and authorization features supported by Storage queues and Service Bus queues.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-404">This section discusses the authentication and authorization features supported by Storage queues and Service Bus queues.</span></span>

| <span data-ttu-id="fe6b8-405">Comparison Criteria</span><span class="sxs-lookup"><span data-stu-id="fe6b8-405">Comparison Criteria</span></span> | <span data-ttu-id="fe6b8-406">Storage queues</span><span class="sxs-lookup"><span data-stu-id="fe6b8-406">Storage queues</span></span> | <span data-ttu-id="fe6b8-407">Service Bus Queues</span><span class="sxs-lookup"><span data-stu-id="fe6b8-407">Service Bus Queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="fe6b8-408">Authentication</span><span class="sxs-lookup"><span data-stu-id="fe6b8-408">Authentication</span></span> |<span data-ttu-id="fe6b8-409">**Symmetric key**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-409">**Symmetric key**</span></span> |<span data-ttu-id="fe6b8-410">**Symmetric key**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-410">**Symmetric key**</span></span> |
| <span data-ttu-id="fe6b8-411">Security model</span><span class="sxs-lookup"><span data-stu-id="fe6b8-411">Security model</span></span> |<span data-ttu-id="fe6b8-412">Delegated access via SAS tokens.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-412">Delegated access via SAS tokens.</span></span> |<span data-ttu-id="fe6b8-413">SAS</span><span class="sxs-lookup"><span data-stu-id="fe6b8-413">SAS</span></span> |
| <span data-ttu-id="fe6b8-414">Identity provider federation</span><span class="sxs-lookup"><span data-stu-id="fe6b8-414">Identity provider federation</span></span> |<span data-ttu-id="fe6b8-415">**No**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-415">**No**</span></span> |<span data-ttu-id="fe6b8-416">**Yes**</span><span class="sxs-lookup"><span data-stu-id="fe6b8-416">**Yes**</span></span> |

### <a name="additional-information"></a><span data-ttu-id="fe6b8-417">Additional information</span><span class="sxs-lookup"><span data-stu-id="fe6b8-417">Additional information</span></span>
* <span data-ttu-id="fe6b8-418">Every request to either of the queuing technologies must be authenticated.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-418">Every request to either of the queuing technologies must be authenticated.</span></span> <span data-ttu-id="fe6b8-419">Public queues with anonymous access are not supported.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-419">Public queues with anonymous access are not supported.</span></span> <span data-ttu-id="fe6b8-420">Using [SAS](service-bus-sas-overview.md), you can address this scenario by publishing a write-only SAS, read-only SAS, or even a full-access SAS.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-420">Using [SAS](service-bus-sas-overview.md), you can address this scenario by publishing a write-only SAS, read-only SAS, or even a full-access SAS.</span></span>
* <span data-ttu-id="fe6b8-421">The authentication scheme provided by Storage queues involves the use of a symmetric key, which is a hash-based Message Authentication Code (HMAC), computed with the SHA-256 algorithm and encoded as a **Base64** string.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-421">The authentication scheme provided by Storage queues involves the use of a symmetric key, which is a hash-based Message Authentication Code (HMAC), computed with the SHA-256 algorithm and encoded as a **Base64** string.</span></span> <span data-ttu-id="fe6b8-422">For more information about the respective protocol, see [Authentication for the Azure Storage Services](https://msdn.microsoft.com/library/azure/dd179428.aspx).</span><span class="sxs-lookup"><span data-stu-id="fe6b8-422">For more information about the respective protocol, see [Authentication for the Azure Storage Services](https://msdn.microsoft.com/library/azure/dd179428.aspx).</span></span> <span data-ttu-id="fe6b8-423">Service Bus queues support a similar model using symmetric keys.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-423">Service Bus queues support a similar model using symmetric keys.</span></span> <span data-ttu-id="fe6b8-424">For more information, see [Shared Access Signature Authentication with Service Bus](service-bus-shared-access-signature-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="fe6b8-424">For more information, see [Shared Access Signature Authentication with Service Bus](service-bus-shared-access-signature-authentication.md).</span></span>

## <a name="conclusion"></a><span data-ttu-id="fe6b8-425">Conclusion</span><span class="sxs-lookup"><span data-stu-id="fe6b8-425">Conclusion</span></span>
<span data-ttu-id="fe6b8-426">By gaining a deeper understanding of the two technologies, you will be able to make a more informed decision on which queue technology to use, and when.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-426">By gaining a deeper understanding of the two technologies, you will be able to make a more informed decision on which queue technology to use, and when.</span></span> <span data-ttu-id="fe6b8-427">The decision on when to use Storage queues or Service Bus queues clearly depends on a number of factors.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-427">The decision on when to use Storage queues or Service Bus queues clearly depends on a number of factors.</span></span> <span data-ttu-id="fe6b8-428">These factors may depend heavily on the individual needs of your application and its architecture.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-428">These factors may depend heavily on the individual needs of your application and its architecture.</span></span> <span data-ttu-id="fe6b8-429">If your application already uses the core capabilities of Microsoft Azure, you may prefer to choose Storage queues, especially if you require basic communication and messaging between services or need queues that can be larger than 80 GB in size.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-429">If your application already uses the core capabilities of Microsoft Azure, you may prefer to choose Storage queues, especially if you require basic communication and messaging between services or need queues that can be larger than 80 GB in size.</span></span>

<span data-ttu-id="fe6b8-430">Because Service Bus queues provide a number of advanced features, such as sessions, transactions, duplicate detection, automatic dead-lettering, and durable publish/subscribe capabilities, they may be a preferred choice if you are building a hybrid application or if your application otherwise requires these features.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-430">Because Service Bus queues provide a number of advanced features, such as sessions, transactions, duplicate detection, automatic dead-lettering, and durable publish/subscribe capabilities, they may be a preferred choice if you are building a hybrid application or if your application otherwise requires these features.</span></span>

## <a name="next-steps"></a><span data-ttu-id="fe6b8-431">Next steps</span><span class="sxs-lookup"><span data-stu-id="fe6b8-431">Next steps</span></span>
<span data-ttu-id="fe6b8-432">The following articles provide more guidance and information about using Storage queues or Service Bus queues.</span><span class="sxs-lookup"><span data-stu-id="fe6b8-432">The following articles provide more guidance and information about using Storage queues or Service Bus queues.</span></span>

* [<span data-ttu-id="fe6b8-433">How to Use Service Bus Queues</span><span class="sxs-lookup"><span data-stu-id="fe6b8-433">How to Use Service Bus Queues</span></span>](service-bus-dotnet-get-started-with-queues.md)
* [<span data-ttu-id="fe6b8-434">How to Use the Queue Storage Service</span><span class="sxs-lookup"><span data-stu-id="fe6b8-434">How to Use the Queue Storage Service</span></span>](../storage/storage-dotnet-how-to-use-queues.md)
* [<span data-ttu-id="fe6b8-435">Best practices for performance improvements using Service Bus brokered messaging</span><span class="sxs-lookup"><span data-stu-id="fe6b8-435">Best practices for performance improvements using Service Bus brokered messaging</span></span>](service-bus-performance-improvements.md)
* [<span data-ttu-id="fe6b8-436">Introducing Queues and Topics in Azure Service Bus</span><span class="sxs-lookup"><span data-stu-id="fe6b8-436">Introducing Queues and Topics in Azure Service Bus</span></span>](http://www.code-magazine.com/article.aspx?quickid=1112041)
* [<span data-ttu-id="fe6b8-437">The Developer's Guide to Service Bus</span><span class="sxs-lookup"><span data-stu-id="fe6b8-437">The Developer's Guide to Service Bus</span></span>](http://www.cloudcasts.net/devguide/Default.aspx?id=11030)
* [<span data-ttu-id="fe6b8-438">Using the Queuing Service in Azure</span><span class="sxs-lookup"><span data-stu-id="fe6b8-438">Using the Queuing Service in Azure</span></span>](http://www.developerfusion.com/article/120197/using-the-queuing-service-in-windows-azure/)
* [<span data-ttu-id="fe6b8-439">Understanding Azure Storage Billing – Bandwidth, Transactions, and Capacity</span><span class="sxs-lookup"><span data-stu-id="fe6b8-439">Understanding Azure Storage Billing – Bandwidth, Transactions, and Capacity</span></span>](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx)

[Azure portal]: https://portal.azure.com

