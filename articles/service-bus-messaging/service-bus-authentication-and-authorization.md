---
title: Azure Service Bus authentication and authorization | Microsoft Docs
description: Authenticate apps to Service Bus with Shared Access Signature (SAS) authentication.
services: service-bus-messaging
documentationcenter: na
author: spelluru
manager: timlt
editor: ''
ms.assetid: 18bad0ed-1cee-4a5c-a377-facc4785c8c9
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 11/14/2017
ms.author: spelluru
ms.openlocfilehash: e98d980747edfb9987430a635ff3118cdd455828
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44827710"
---
# <a name="service-bus-authentication-and-authorization"></a><span data-ttu-id="7ec74-103">Service Bus authentication and authorization</span><span class="sxs-lookup"><span data-stu-id="7ec74-103">Service Bus authentication and authorization</span></span>

<span data-ttu-id="7ec74-104">Applications gain access to Azure Service Bus resources using Shared Access Signature (SAS) token authentication.</span><span class="sxs-lookup"><span data-stu-id="7ec74-104">Applications gain access to Azure Service Bus resources using Shared Access Signature (SAS) token authentication.</span></span> <span data-ttu-id="7ec74-105">With SAS, applications present a token to Service Bus that has been signed with a symmetric key known both to the token issuer and Service Bus (hence "shared") and that key is directly associated with a rule granting specific access rights, like the permission to receive/listen or send messages.</span><span class="sxs-lookup"><span data-stu-id="7ec74-105">With SAS, applications present a token to Service Bus that has been signed with a symmetric key known both to the token issuer and Service Bus (hence "shared") and that key is directly associated with a rule granting specific access rights, like the permission to receive/listen or send messages.</span></span> <span data-ttu-id="7ec74-106">SAS rules are either configured on the namespace, or directly on entities such as a queue or topic, allowing for fine grained access control.</span><span class="sxs-lookup"><span data-stu-id="7ec74-106">SAS rules are either configured on the namespace, or directly on entities such as a queue or topic, allowing for fine grained access control.</span></span>

<span data-ttu-id="7ec74-107">SAS tokens can either be generated by a Service Bus client directly, or they can be generated by some intermediate token issuing endpoint with which the client interacts.</span><span class="sxs-lookup"><span data-stu-id="7ec74-107">SAS tokens can either be generated by a Service Bus client directly, or they can be generated by some intermediate token issuing endpoint with which the client interacts.</span></span> <span data-ttu-id="7ec74-108">For example, a system may require the client to call an Active Directory authorization protected web service endpoint to prove its identity and system access rights, and the web service then returns the appropriate Service Bus token.</span><span class="sxs-lookup"><span data-stu-id="7ec74-108">For example, a system may require the client to call an Active Directory authorization protected web service endpoint to prove its identity and system access rights, and the web service then returns the appropriate Service Bus token.</span></span> <span data-ttu-id="7ec74-109">This SAS token can be easily generated using the Service Bus token provider included in the Azure SDK.</span><span class="sxs-lookup"><span data-stu-id="7ec74-109">This SAS token can be easily generated using the Service Bus token provider included in the Azure SDK.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="7ec74-110">If you are using Azure Active Directory Access Control (also known as Access Control Service or ACS) with Service Bus, note that the support for this method is now limited and you should migrate your application to use SAS.</span><span class="sxs-lookup"><span data-stu-id="7ec74-110">If you are using Azure Active Directory Access Control (also known as Access Control Service or ACS) with Service Bus, note that the support for this method is now limited and you should migrate your application to use SAS.</span></span> <span data-ttu-id="7ec74-111">For more information, see [this blog post](https://blogs.msdn.microsoft.com/servicebus/2017/06/01/upcoming-changes-to-acs-enabled-namespaces/) and [this article](service-bus-migrate-acs-sas.md).</span><span class="sxs-lookup"><span data-stu-id="7ec74-111">For more information, see [this blog post](https://blogs.msdn.microsoft.com/servicebus/2017/06/01/upcoming-changes-to-acs-enabled-namespaces/) and [this article](service-bus-migrate-acs-sas.md).</span></span>

## <a name="shared-access-signature-authentication"></a><span data-ttu-id="7ec74-112">Shared Access Signature authentication</span><span class="sxs-lookup"><span data-stu-id="7ec74-112">Shared Access Signature authentication</span></span>

<span data-ttu-id="7ec74-113">[SAS authentication](service-bus-sas.md) enables you to grant a user access to Service Bus resources, with specific rights.</span><span class="sxs-lookup"><span data-stu-id="7ec74-113">[SAS authentication](service-bus-sas.md) enables you to grant a user access to Service Bus resources, with specific rights.</span></span> <span data-ttu-id="7ec74-114">SAS authentication in Service Bus involves the configuration of a cryptographic key with associated rights on a Service Bus resource.</span><span class="sxs-lookup"><span data-stu-id="7ec74-114">SAS authentication in Service Bus involves the configuration of a cryptographic key with associated rights on a Service Bus resource.</span></span> <span data-ttu-id="7ec74-115">Clients can then gain access to that resource by presenting a SAS token, which consists of the resource URI being accessed and an expiry signed with the configured key.</span><span class="sxs-lookup"><span data-stu-id="7ec74-115">Clients can then gain access to that resource by presenting a SAS token, which consists of the resource URI being accessed and an expiry signed with the configured key.</span></span>

<span data-ttu-id="7ec74-116">You can configure keys for SAS on a Service Bus namespace.</span><span class="sxs-lookup"><span data-stu-id="7ec74-116">You can configure keys for SAS on a Service Bus namespace.</span></span> <span data-ttu-id="7ec74-117">The key applies to all messaging entities within that namespace.</span><span class="sxs-lookup"><span data-stu-id="7ec74-117">The key applies to all messaging entities within that namespace.</span></span> <span data-ttu-id="7ec74-118">You can also configure keys on Service Bus queues and topics.</span><span class="sxs-lookup"><span data-stu-id="7ec74-118">You can also configure keys on Service Bus queues and topics.</span></span> <span data-ttu-id="7ec74-119">SAS is also supported on [Azure Relay](../service-bus-relay/relay-authentication-and-authorization.md).</span><span class="sxs-lookup"><span data-stu-id="7ec74-119">SAS is also supported on [Azure Relay](../service-bus-relay/relay-authentication-and-authorization.md).</span></span>

<span data-ttu-id="7ec74-120">To use SAS, you can configure a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object on a namespace, queue, or topic.</span><span class="sxs-lookup"><span data-stu-id="7ec74-120">To use SAS, you can configure a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object on a namespace, queue, or topic.</span></span> <span data-ttu-id="7ec74-121">This rule consists of the following elements:</span><span class="sxs-lookup"><span data-stu-id="7ec74-121">This rule consists of the following elements:</span></span>

* <span data-ttu-id="7ec74-122">*KeyName*: identifies the rule.</span><span class="sxs-lookup"><span data-stu-id="7ec74-122">*KeyName*: identifies the rule.</span></span>
* <span data-ttu-id="7ec74-123">*PrimaryKey*: a cryptographic key used to sign/validate SAS tokens.</span><span class="sxs-lookup"><span data-stu-id="7ec74-123">*PrimaryKey*: a cryptographic key used to sign/validate SAS tokens.</span></span>
* <span data-ttu-id="7ec74-124">*SecondaryKey*: a cryptographic key used to sign/validate SAS tokens.</span><span class="sxs-lookup"><span data-stu-id="7ec74-124">*SecondaryKey*: a cryptographic key used to sign/validate SAS tokens.</span></span>
* <span data-ttu-id="7ec74-125">*Rights*: represents the collection of **Listen**, **Send**, or **Manage** rights granted.</span><span class="sxs-lookup"><span data-stu-id="7ec74-125">*Rights*: represents the collection of **Listen**, **Send**, or **Manage** rights granted.</span></span>

<span data-ttu-id="7ec74-126">Authorization rules configured at the namespace level can grant access to all entities in a namespace for clients with tokens signed using the corresponding key.</span><span class="sxs-lookup"><span data-stu-id="7ec74-126">Authorization rules configured at the namespace level can grant access to all entities in a namespace for clients with tokens signed using the corresponding key.</span></span> <span data-ttu-id="7ec74-127">You can configure up to 12 such authorization rules on a Service Bus namespace, queue, or topic.</span><span class="sxs-lookup"><span data-stu-id="7ec74-127">You can configure up to 12 such authorization rules on a Service Bus namespace, queue, or topic.</span></span> <span data-ttu-id="7ec74-128">By default, a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) with all rights is configured for every namespace when it is first provisioned.</span><span class="sxs-lookup"><span data-stu-id="7ec74-128">By default, a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) with all rights is configured for every namespace when it is first provisioned.</span></span>

<span data-ttu-id="7ec74-129">To access an entity, the client requires a SAS token generated using a specific [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule).</span><span class="sxs-lookup"><span data-stu-id="7ec74-129">To access an entity, the client requires a SAS token generated using a specific [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule).</span></span> <span data-ttu-id="7ec74-130">The SAS token is generated using the HMAC-SHA256 of a resource string that consists of the resource URI to which access is claimed, and an expiry with a cryptographic key associated with the authorization rule.</span><span class="sxs-lookup"><span data-stu-id="7ec74-130">The SAS token is generated using the HMAC-SHA256 of a resource string that consists of the resource URI to which access is claimed, and an expiry with a cryptographic key associated with the authorization rule.</span></span>

<span data-ttu-id="7ec74-131">SAS authentication support for Service Bus is included in the Azure .NET SDK versions 2.0 and later.</span><span class="sxs-lookup"><span data-stu-id="7ec74-131">SAS authentication support for Service Bus is included in the Azure .NET SDK versions 2.0 and later.</span></span> <span data-ttu-id="7ec74-132">SAS includes support for a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule).</span><span class="sxs-lookup"><span data-stu-id="7ec74-132">SAS includes support for a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule).</span></span> <span data-ttu-id="7ec74-133">All APIs that accept a connection string as a parameter include support for SAS connection strings.</span><span class="sxs-lookup"><span data-stu-id="7ec74-133">All APIs that accept a connection string as a parameter include support for SAS connection strings.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7ec74-134">Next steps</span><span class="sxs-lookup"><span data-stu-id="7ec74-134">Next steps</span></span>

- <span data-ttu-id="7ec74-135">Continue reading [Service Bus authentication with Shared Access Signatures](service-bus-sas.md) for more details about SAS.</span><span class="sxs-lookup"><span data-stu-id="7ec74-135">Continue reading [Service Bus authentication with Shared Access Signatures](service-bus-sas.md) for more details about SAS.</span></span>
- <span data-ttu-id="7ec74-136">How to [migrate from Azure Active Directory Access Control (ACS) to Shared Access Signature authorization](service-bus-migrate-acs-sas.md).</span><span class="sxs-lookup"><span data-stu-id="7ec74-136">How to [migrate from Azure Active Directory Access Control (ACS) to Shared Access Signature authorization](service-bus-migrate-acs-sas.md).</span></span>
- <span data-ttu-id="7ec74-137">[Changes To ACS Enabled namespaces](https://blogs.msdn.microsoft.com/servicebus/2017/06/01/upcoming-changes-to-acs-enabled-namespaces/).</span><span class="sxs-lookup"><span data-stu-id="7ec74-137">[Changes To ACS Enabled namespaces](https://blogs.msdn.microsoft.com/servicebus/2017/06/01/upcoming-changes-to-acs-enabled-namespaces/).</span></span>
- <span data-ttu-id="7ec74-138">For corresponding information about Azure Relay authentication and authorization, see [Azure Relay authentication and authorization](../service-bus-relay/relay-authentication-and-authorization.md).</span><span class="sxs-lookup"><span data-stu-id="7ec74-138">For corresponding information about Azure Relay authentication and authorization, see [Azure Relay authentication and authorization](../service-bus-relay/relay-authentication-and-authorization.md).</span></span> 

