---
title: Azure Container Registry webhook schema reference
description: Webhook request JSON payload reference for Azure Container Registry.
services: container-registry
author: mmacy
manager: jeconnoc
ms.service: container-registry
ms.topic: article
ms.date: 12/02/2017
ms.author: marsma
ms.openlocfilehash: 87fe978416c29b50abeef0e0a6624d7440dd87ef
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44868153"
---
# <a name="azure-container-registry-webhook-reference"></a><span data-ttu-id="fa844-103">Azure Container Registry webhook reference</span><span class="sxs-lookup"><span data-stu-id="fa844-103">Azure Container Registry webhook reference</span></span>

<span data-ttu-id="fa844-104">You can [configure webhooks](container-registry-webhook.md) for your container registry that generate events when certain actions are performed against it.</span><span class="sxs-lookup"><span data-stu-id="fa844-104">You can [configure webhooks](container-registry-webhook.md) for your container registry that generate events when certain actions are performed against it.</span></span> <span data-ttu-id="fa844-105">For example, you can enable webhooks that are triggered on container image `push` and `delete` operations.</span><span class="sxs-lookup"><span data-stu-id="fa844-105">For example, you can enable webhooks that are triggered on container image `push` and `delete` operations.</span></span> <span data-ttu-id="fa844-106">When a webhook is triggered, Azure Container Registry issues an HTTP or HTTPS request containing information about the event to an endpoint you specify.</span><span class="sxs-lookup"><span data-stu-id="fa844-106">When a webhook is triggered, Azure Container Registry issues an HTTP or HTTPS request containing information about the event to an endpoint you specify.</span></span> <span data-ttu-id="fa844-107">Your endpoint can then process the webhook and act accordingly.</span><span class="sxs-lookup"><span data-stu-id="fa844-107">Your endpoint can then process the webhook and act accordingly.</span></span>

<span data-ttu-id="fa844-108">The following sections detail the schema of webhook requests generated by supported events.</span><span class="sxs-lookup"><span data-stu-id="fa844-108">The following sections detail the schema of webhook requests generated by supported events.</span></span> <span data-ttu-id="fa844-109">The event sections contain the payload schema for the event type, an example request payload, and one or more example commands that would trigger the webhook.</span><span class="sxs-lookup"><span data-stu-id="fa844-109">The event sections contain the payload schema for the event type, an example request payload, and one or more example commands that would trigger the webhook.</span></span>

<span data-ttu-id="fa844-110">For information about configuring webhooks for your Azure container registry, see [Using Azure Container Registry webhooks](container-registry-webhook.md).</span><span class="sxs-lookup"><span data-stu-id="fa844-110">For information about configuring webhooks for your Azure container registry, see [Using Azure Container Registry webhooks](container-registry-webhook.md).</span></span>

## <a name="webhook-requests"></a><span data-ttu-id="fa844-111">Webhook requests</span><span class="sxs-lookup"><span data-stu-id="fa844-111">Webhook requests</span></span>

### <a name="http-request"></a><span data-ttu-id="fa844-112">HTTP request</span><span class="sxs-lookup"><span data-stu-id="fa844-112">HTTP request</span></span>

<span data-ttu-id="fa844-113">A triggered webhook makes an HTTP `POST` request to the URL endpoint you specified when you configured the webhook.</span><span class="sxs-lookup"><span data-stu-id="fa844-113">A triggered webhook makes an HTTP `POST` request to the URL endpoint you specified when you configured the webhook.</span></span>

### <a name="http-headers"></a><span data-ttu-id="fa844-114">HTTP headers</span><span class="sxs-lookup"><span data-stu-id="fa844-114">HTTP headers</span></span>

<span data-ttu-id="fa844-115">Webhook requests include a `Content-Type` of `application/json` if you have not specified a `Content-Type` custom header for your webhook.</span><span class="sxs-lookup"><span data-stu-id="fa844-115">Webhook requests include a `Content-Type` of `application/json` if you have not specified a `Content-Type` custom header for your webhook.</span></span>

<span data-ttu-id="fa844-116">No other headers are added to the request beyond those custom headers you might have specified for the webhook.</span><span class="sxs-lookup"><span data-stu-id="fa844-116">No other headers are added to the request beyond those custom headers you might have specified for the webhook.</span></span>

## <a name="push-event"></a><span data-ttu-id="fa844-117">Push event</span><span class="sxs-lookup"><span data-stu-id="fa844-117">Push event</span></span>

<span data-ttu-id="fa844-118">Webhook triggered when a container image is pushed to a repository.</span><span class="sxs-lookup"><span data-stu-id="fa844-118">Webhook triggered when a container image is pushed to a repository.</span></span>

### <a name="push-event-payload"></a><span data-ttu-id="fa844-119">Push event payload</span><span class="sxs-lookup"><span data-stu-id="fa844-119">Push event payload</span></span>

|<span data-ttu-id="fa844-120">Element</span><span class="sxs-lookup"><span data-stu-id="fa844-120">Element</span></span>|<span data-ttu-id="fa844-121">Type</span><span class="sxs-lookup"><span data-stu-id="fa844-121">Type</span></span>|<span data-ttu-id="fa844-122">Description</span><span class="sxs-lookup"><span data-stu-id="fa844-122">Description</span></span>|
|-------------|----------|-----------|
|`id`|<span data-ttu-id="fa844-123">String</span><span class="sxs-lookup"><span data-stu-id="fa844-123">String</span></span>|<span data-ttu-id="fa844-124">The ID of the webhook event.</span><span class="sxs-lookup"><span data-stu-id="fa844-124">The ID of the webhook event.</span></span>|
|`timestamp`|<span data-ttu-id="fa844-125">DateTime</span><span class="sxs-lookup"><span data-stu-id="fa844-125">DateTime</span></span>|<span data-ttu-id="fa844-126">The time at which the webhook event was triggered.</span><span class="sxs-lookup"><span data-stu-id="fa844-126">The time at which the webhook event was triggered.</span></span>|
|`action`|<span data-ttu-id="fa844-127">String</span><span class="sxs-lookup"><span data-stu-id="fa844-127">String</span></span>|<span data-ttu-id="fa844-128">The action that triggered the webhook event.</span><span class="sxs-lookup"><span data-stu-id="fa844-128">The action that triggered the webhook event.</span></span>|
|[<span data-ttu-id="fa844-129">target</span><span class="sxs-lookup"><span data-stu-id="fa844-129">target</span></span>](#target)|<span data-ttu-id="fa844-130">Complex Type</span><span class="sxs-lookup"><span data-stu-id="fa844-130">Complex Type</span></span>|<span data-ttu-id="fa844-131">The target of the event that triggered the webhook event.</span><span class="sxs-lookup"><span data-stu-id="fa844-131">The target of the event that triggered the webhook event.</span></span>|
|[<span data-ttu-id="fa844-132">request</span><span class="sxs-lookup"><span data-stu-id="fa844-132">request</span></span>](#request)|<span data-ttu-id="fa844-133">Complex Type</span><span class="sxs-lookup"><span data-stu-id="fa844-133">Complex Type</span></span>|<span data-ttu-id="fa844-134">The request that generated the webhook event.</span><span class="sxs-lookup"><span data-stu-id="fa844-134">The request that generated the webhook event.</span></span>|

### <a name="target"></a><span data-ttu-id="fa844-135">target</span><span class="sxs-lookup"><span data-stu-id="fa844-135">target</span></span>

|<span data-ttu-id="fa844-136">Element</span><span class="sxs-lookup"><span data-stu-id="fa844-136">Element</span></span>|<span data-ttu-id="fa844-137">Type</span><span class="sxs-lookup"><span data-stu-id="fa844-137">Type</span></span>|<span data-ttu-id="fa844-138">Description</span><span class="sxs-lookup"><span data-stu-id="fa844-138">Description</span></span>|
|------------------|----------|-----------|
|`mediaType`|<span data-ttu-id="fa844-139">String</span><span class="sxs-lookup"><span data-stu-id="fa844-139">String</span></span>|<span data-ttu-id="fa844-140">The MIME type of the referenced object.</span><span class="sxs-lookup"><span data-stu-id="fa844-140">The MIME type of the referenced object.</span></span>|
|`size`|<span data-ttu-id="fa844-141">Int32</span><span class="sxs-lookup"><span data-stu-id="fa844-141">Int32</span></span>|<span data-ttu-id="fa844-142">The number of bytes of the content.</span><span class="sxs-lookup"><span data-stu-id="fa844-142">The number of bytes of the content.</span></span> <span data-ttu-id="fa844-143">Same as Length field.</span><span class="sxs-lookup"><span data-stu-id="fa844-143">Same as Length field.</span></span>|
|`digest`|<span data-ttu-id="fa844-144">String</span><span class="sxs-lookup"><span data-stu-id="fa844-144">String</span></span>|<span data-ttu-id="fa844-145">The digest of the content, as defined by the Registry V2 HTTP API Specification.</span><span class="sxs-lookup"><span data-stu-id="fa844-145">The digest of the content, as defined by the Registry V2 HTTP API Specification.</span></span>|
|`length`|<span data-ttu-id="fa844-146">Int32</span><span class="sxs-lookup"><span data-stu-id="fa844-146">Int32</span></span>|<span data-ttu-id="fa844-147">The number of bytes of the content.</span><span class="sxs-lookup"><span data-stu-id="fa844-147">The number of bytes of the content.</span></span> <span data-ttu-id="fa844-148">Same as Size field.</span><span class="sxs-lookup"><span data-stu-id="fa844-148">Same as Size field.</span></span>|
|`repository`|<span data-ttu-id="fa844-149">String</span><span class="sxs-lookup"><span data-stu-id="fa844-149">String</span></span>|<span data-ttu-id="fa844-150">The repository name.</span><span class="sxs-lookup"><span data-stu-id="fa844-150">The repository name.</span></span>|
|`tag`|<span data-ttu-id="fa844-151">String</span><span class="sxs-lookup"><span data-stu-id="fa844-151">String</span></span>|<span data-ttu-id="fa844-152">The image tag name.</span><span class="sxs-lookup"><span data-stu-id="fa844-152">The image tag name.</span></span>|

### <a name="request"></a><span data-ttu-id="fa844-153">request</span><span class="sxs-lookup"><span data-stu-id="fa844-153">request</span></span>

|<span data-ttu-id="fa844-154">Element</span><span class="sxs-lookup"><span data-stu-id="fa844-154">Element</span></span>|<span data-ttu-id="fa844-155">Type</span><span class="sxs-lookup"><span data-stu-id="fa844-155">Type</span></span>|<span data-ttu-id="fa844-156">Description</span><span class="sxs-lookup"><span data-stu-id="fa844-156">Description</span></span>|
|------------------|----------|-----------|
|`id`|<span data-ttu-id="fa844-157">String</span><span class="sxs-lookup"><span data-stu-id="fa844-157">String</span></span>|<span data-ttu-id="fa844-158">The ID of the request that initiated the event.</span><span class="sxs-lookup"><span data-stu-id="fa844-158">The ID of the request that initiated the event.</span></span>|
|`host`|<span data-ttu-id="fa844-159">String</span><span class="sxs-lookup"><span data-stu-id="fa844-159">String</span></span>|<span data-ttu-id="fa844-160">The externally accessible hostname of the registry instance, as specified by the HTTP host header on incoming requests.</span><span class="sxs-lookup"><span data-stu-id="fa844-160">The externally accessible hostname of the registry instance, as specified by the HTTP host header on incoming requests.</span></span>|
|`method`|<span data-ttu-id="fa844-161">String</span><span class="sxs-lookup"><span data-stu-id="fa844-161">String</span></span>|<span data-ttu-id="fa844-162">The request method that generated the event.</span><span class="sxs-lookup"><span data-stu-id="fa844-162">The request method that generated the event.</span></span>|
|`useragent`|<span data-ttu-id="fa844-163">String</span><span class="sxs-lookup"><span data-stu-id="fa844-163">String</span></span>|<span data-ttu-id="fa844-164">The user agent header of the request.</span><span class="sxs-lookup"><span data-stu-id="fa844-164">The user agent header of the request.</span></span>|

### <a name="payload-example-push-event"></a><span data-ttu-id="fa844-165">Payload example: push event</span><span class="sxs-lookup"><span data-stu-id="fa844-165">Payload example: push event</span></span>

```JSON
{
  "id": "cb8c3971-9adc-488b-bdd8-43cbb4974ff5",
  "timestamp": "2017-11-17T16:52:01.343145347Z",
  "action": "push",
  "target": {
    "mediaType": "application/vnd.docker.distribution.manifest.v2+json",
    "size": 524,
    "digest": "sha256:80f0d5c8786bb9e621a45ece0db56d11cdc624ad20da9fe62e9d25490f331d7d",
    "length": 524,
    "repository": "hello-world",
    "tag": "v1"
  },
  "request": {
    "id": "3cbb6949-7549-4fa1-86cd-a6d5451dffc7",
    "host": "myregistry.azurecr.io",
    "method": "PUT",
    "useragent": "docker/17.09.0-ce go/go1.8.3 git-commit/afdb6d4 kernel/4.10.0-27-generic os/linux arch/amd64 UpstreamClient(Docker-Client/17.09.0-ce \\(linux\\))"
  }
}
```

<span data-ttu-id="fa844-166">Example [Docker CLI](https://docs.docker.com/engine/reference/commandline/cli/) command that triggers the **push** event webhook:</span><span class="sxs-lookup"><span data-stu-id="fa844-166">Example [Docker CLI](https://docs.docker.com/engine/reference/commandline/cli/) command that triggers the **push** event webhook:</span></span>

```bash
docker push myregistry.azurecr.io/hello-world:v1
```

## <a name="delete-event"></a><span data-ttu-id="fa844-167">Delete event</span><span class="sxs-lookup"><span data-stu-id="fa844-167">Delete event</span></span>

<span data-ttu-id="fa844-168">Webhook triggered when a repository or manifest is deleted.</span><span class="sxs-lookup"><span data-stu-id="fa844-168">Webhook triggered when a repository or manifest is deleted.</span></span> <span data-ttu-id="fa844-169">Not triggered when a tag is deleted.</span><span class="sxs-lookup"><span data-stu-id="fa844-169">Not triggered when a tag is deleted.</span></span>

### <a name="delete-event-payload"></a><span data-ttu-id="fa844-170">Delete event payload</span><span class="sxs-lookup"><span data-stu-id="fa844-170">Delete event payload</span></span>

|<span data-ttu-id="fa844-171">Element</span><span class="sxs-lookup"><span data-stu-id="fa844-171">Element</span></span>|<span data-ttu-id="fa844-172">Type</span><span class="sxs-lookup"><span data-stu-id="fa844-172">Type</span></span>|<span data-ttu-id="fa844-173">Description</span><span class="sxs-lookup"><span data-stu-id="fa844-173">Description</span></span>|
|-------------|----------|-----------|
|`id`|<span data-ttu-id="fa844-174">String</span><span class="sxs-lookup"><span data-stu-id="fa844-174">String</span></span>|<span data-ttu-id="fa844-175">The ID of the webhook event.</span><span class="sxs-lookup"><span data-stu-id="fa844-175">The ID of the webhook event.</span></span>|
|`timestamp`|<span data-ttu-id="fa844-176">DateTime</span><span class="sxs-lookup"><span data-stu-id="fa844-176">DateTime</span></span>|<span data-ttu-id="fa844-177">The time at which the webhook event was triggered.</span><span class="sxs-lookup"><span data-stu-id="fa844-177">The time at which the webhook event was triggered.</span></span>|
|`action`|<span data-ttu-id="fa844-178">String</span><span class="sxs-lookup"><span data-stu-id="fa844-178">String</span></span>|<span data-ttu-id="fa844-179">The action that triggered the webhook event.</span><span class="sxs-lookup"><span data-stu-id="fa844-179">The action that triggered the webhook event.</span></span>|
|[<span data-ttu-id="fa844-180">target</span><span class="sxs-lookup"><span data-stu-id="fa844-180">target</span></span>](#delete_target)|<span data-ttu-id="fa844-181">Complex Type</span><span class="sxs-lookup"><span data-stu-id="fa844-181">Complex Type</span></span>|<span data-ttu-id="fa844-182">The target of the event that triggered the webhook event.</span><span class="sxs-lookup"><span data-stu-id="fa844-182">The target of the event that triggered the webhook event.</span></span>|
|[<span data-ttu-id="fa844-183">request</span><span class="sxs-lookup"><span data-stu-id="fa844-183">request</span></span>](#delete_request)|<span data-ttu-id="fa844-184">Complex Type</span><span class="sxs-lookup"><span data-stu-id="fa844-184">Complex Type</span></span>|<span data-ttu-id="fa844-185">The request that generated the webhook event.</span><span class="sxs-lookup"><span data-stu-id="fa844-185">The request that generated the webhook event.</span></span>|

### <a name="delete_target"></a> <span data-ttu-id="fa844-186">target</span><span class="sxs-lookup"><span data-stu-id="fa844-186">target</span></span>

|<span data-ttu-id="fa844-187">Element</span><span class="sxs-lookup"><span data-stu-id="fa844-187">Element</span></span>|<span data-ttu-id="fa844-188">Type</span><span class="sxs-lookup"><span data-stu-id="fa844-188">Type</span></span>|<span data-ttu-id="fa844-189">Description</span><span class="sxs-lookup"><span data-stu-id="fa844-189">Description</span></span>|
|------------------|----------|-----------|
|`mediaType`|<span data-ttu-id="fa844-190">String</span><span class="sxs-lookup"><span data-stu-id="fa844-190">String</span></span>|<span data-ttu-id="fa844-191">The MIME type of the referenced object.</span><span class="sxs-lookup"><span data-stu-id="fa844-191">The MIME type of the referenced object.</span></span>|
|`digest`|<span data-ttu-id="fa844-192">String</span><span class="sxs-lookup"><span data-stu-id="fa844-192">String</span></span>|<span data-ttu-id="fa844-193">The digest of the content, as defined by the Registry V2 HTTP API Specification.</span><span class="sxs-lookup"><span data-stu-id="fa844-193">The digest of the content, as defined by the Registry V2 HTTP API Specification.</span></span>|
|`repository`|<span data-ttu-id="fa844-194">String</span><span class="sxs-lookup"><span data-stu-id="fa844-194">String</span></span>|<span data-ttu-id="fa844-195">The repository name.</span><span class="sxs-lookup"><span data-stu-id="fa844-195">The repository name.</span></span>|

### <a name="delete_request"></a> <span data-ttu-id="fa844-196">request</span><span class="sxs-lookup"><span data-stu-id="fa844-196">request</span></span>

|<span data-ttu-id="fa844-197">Element</span><span class="sxs-lookup"><span data-stu-id="fa844-197">Element</span></span>|<span data-ttu-id="fa844-198">Type</span><span class="sxs-lookup"><span data-stu-id="fa844-198">Type</span></span>|<span data-ttu-id="fa844-199">Description</span><span class="sxs-lookup"><span data-stu-id="fa844-199">Description</span></span>|
|------------------|----------|-----------|
|`id`|<span data-ttu-id="fa844-200">String</span><span class="sxs-lookup"><span data-stu-id="fa844-200">String</span></span>|<span data-ttu-id="fa844-201">The ID of the request that initiated the event.</span><span class="sxs-lookup"><span data-stu-id="fa844-201">The ID of the request that initiated the event.</span></span>|
|`host`|<span data-ttu-id="fa844-202">String</span><span class="sxs-lookup"><span data-stu-id="fa844-202">String</span></span>|<span data-ttu-id="fa844-203">The externally accessible hostname of the registry instance, as specified by the HTTP host header on incoming requests.</span><span class="sxs-lookup"><span data-stu-id="fa844-203">The externally accessible hostname of the registry instance, as specified by the HTTP host header on incoming requests.</span></span>|
|`method`|<span data-ttu-id="fa844-204">String</span><span class="sxs-lookup"><span data-stu-id="fa844-204">String</span></span>|<span data-ttu-id="fa844-205">The request method that generated the event.</span><span class="sxs-lookup"><span data-stu-id="fa844-205">The request method that generated the event.</span></span>|
|`useragent`|<span data-ttu-id="fa844-206">String</span><span class="sxs-lookup"><span data-stu-id="fa844-206">String</span></span>|<span data-ttu-id="fa844-207">The user agent header of the request.</span><span class="sxs-lookup"><span data-stu-id="fa844-207">The user agent header of the request.</span></span>|

### <a name="payload-example-delete-event"></a><span data-ttu-id="fa844-208">Payload example: delete event</span><span class="sxs-lookup"><span data-stu-id="fa844-208">Payload example: delete event</span></span>

```JSON
{
    "id": "afc359ce-df7f-4e32-bdde-1ff8aa80927b",
    "timestamp": "2017-11-17T16:54:53.657764628Z",
    "action": "delete",
    "target": {
      "mediaType": "application/vnd.docker.distribution.manifest.v2+json",
      "digest": "sha256:80f0d5c8786bb9e621a45ece0db56d11cdc624ad20da9fe62e9d25490f331d7d",
      "repository": "hello-world"
    },
    "request": {
      "id": "3d78b540-ab61-4f75-807f-7ca9ecf559b3",
      "host": "myregistry.azurecr.io",
      "method": "DELETE",
      "useragent": "python-requests/2.18.4"
    }
  }
```

<span data-ttu-id="fa844-209">Example [Azure CLI](/cli/azure/acr) commands that trigger a **delete** event webhook:</span><span class="sxs-lookup"><span data-stu-id="fa844-209">Example [Azure CLI](/cli/azure/acr) commands that trigger a **delete** event webhook:</span></span>

```azurecli
# Delete repository
az acr repository delete -n MyRegistry --repository MyRepository

# Delete manifest
az acr repository delete -n MyRegistry --repository MyRepository --tag MyTag --manifest
```

## <a name="next-steps"></a><span data-ttu-id="fa844-210">Next steps</span><span class="sxs-lookup"><span data-stu-id="fa844-210">Next steps</span></span>

[<span data-ttu-id="fa844-211">Using Azure Container Registry webhooks</span><span class="sxs-lookup"><span data-stu-id="fa844-211">Using Azure Container Registry webhooks</span></span>](container-registry-webhook.md)