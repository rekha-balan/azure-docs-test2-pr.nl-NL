---
title: Planning for migration of IaaS resources from classic to Azure Resource Manager | Microsoft Docs
description: Planning for migration of IaaS resources from classic to Azure Resource Manager
services: virtual-machines-windows
documentationcenter: ''
author: singhkays
manager: timlt
editor: ''
tags: azure-resource-manager
ms.assetid: 78492a2c-2694-4023-a7b8-c97d3708dcb7
ms.service: virtual-machines-windows
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-windows
ms.devlang: na
ms.topic: article
ms.date: 04/01/2017
ms.author: kasing
ms.openlocfilehash: 259f7d3256c9ab2c1ed17093d459b1322f04ae82
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44551287"
---
# <a name="planning-for-migration-of-iaas-resources-from-classic-to-azure-resource-manager"></a><span data-ttu-id="60896-103">Planning for migration of IaaS resources from classic to Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="60896-103">Planning for migration of IaaS resources from classic to Azure Resource Manager</span></span>
<span data-ttu-id="60896-104">While Azure Resource Manager offers a lot of amazing features, it is critical to plan out your migration journey to make sure things go smoothly.</span><span class="sxs-lookup"><span data-stu-id="60896-104">While Azure Resource Manager offers a lot of amazing features, it is critical to plan out your migration journey to make sure things go smoothly.</span></span> <span data-ttu-id="60896-105">Spending time on planning will ensure that you do not encounter issues while executing migration activities.</span><span class="sxs-lookup"><span data-stu-id="60896-105">Spending time on planning will ensure that you do not encounter issues while executing migration activities.</span></span> 

> [!NOTE] 
> <span data-ttu-id="60896-106">The following guidance was heavily contributed to by the Azure Customer Advisory team and Cloud Solution architects working with customers on migrating large enviornments.</span><span class="sxs-lookup"><span data-stu-id="60896-106">The following guidance was heavily contributed to by the Azure Customer Advisory team and Cloud Solution architects working with customers on migrating large enviornments.</span></span> <span data-ttu-id="60896-107">As such this document will continue to get updated as new patterns of success emerge, so check back from time to time to see if there are any new recommendations.</span><span class="sxs-lookup"><span data-stu-id="60896-107">As such this document will continue to get updated as new patterns of success emerge, so check back from time to time to see if there are any new recommendations.</span></span>

<span data-ttu-id="60896-108">There are four general phases of the migration journey:</span><span class="sxs-lookup"><span data-stu-id="60896-108">There are four general phases of the migration journey:</span></span><br>

![Migration phases](https://docstestmedia1.blob.core.windows.net/azure-media/articles/virtual-machines/media/virtual-machines-windows-migration-classic-resource-manager/plan-labtest-migrate-beyond.png)

## <a name="plan"></a><span data-ttu-id="60896-110">Plan</span><span class="sxs-lookup"><span data-stu-id="60896-110">Plan</span></span>

### <a name="technical-considerations-and-tradeoffs"></a><span data-ttu-id="60896-111">Technical considerations and tradeoffs</span><span class="sxs-lookup"><span data-stu-id="60896-111">Technical considerations and tradeoffs</span></span>

<span data-ttu-id="60896-112">Depending on your technical requirements size, geographies and operational practices, you might want to consider:</span><span class="sxs-lookup"><span data-stu-id="60896-112">Depending on your technical requirements size, geographies and operational practices, you might want to consider:</span></span>

1. <span data-ttu-id="60896-113">Why is Azure Resource Manager desired for your organization?</span><span class="sxs-lookup"><span data-stu-id="60896-113">Why is Azure Resource Manager desired for your organization?</span></span>  <span data-ttu-id="60896-114">What are the business reasons for a migration?</span><span class="sxs-lookup"><span data-stu-id="60896-114">What are the business reasons for a migration?</span></span>
2. <span data-ttu-id="60896-115">What are the technical reasons for Azure Resource Manager?</span><span class="sxs-lookup"><span data-stu-id="60896-115">What are the technical reasons for Azure Resource Manager?</span></span>  <span data-ttu-id="60896-116">What (if any) additional Azure services would you like to leverage?</span><span class="sxs-lookup"><span data-stu-id="60896-116">What (if any) additional Azure services would you like to leverage?</span></span>
3. <span data-ttu-id="60896-117">Which application (or sets of virtual machines) is included in the migration?</span><span class="sxs-lookup"><span data-stu-id="60896-117">Which application (or sets of virtual machines) is included in the migration?</span></span>
4. <span data-ttu-id="60896-118">Which scenarios are supported with the migration API?</span><span class="sxs-lookup"><span data-stu-id="60896-118">Which scenarios are supported with the migration API?</span></span>  <span data-ttu-id="60896-119">Review the [unsupported features and configurations](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#unsupported-features-and-configurations).</span><span class="sxs-lookup"><span data-stu-id="60896-119">Review the [unsupported features and configurations](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#unsupported-features-and-configurations).</span></span>
5. <span data-ttu-id="60896-120">Will your operational teams now support applications/VMs in both Classic and Azure Resource Manager?</span><span class="sxs-lookup"><span data-stu-id="60896-120">Will your operational teams now support applications/VMs in both Classic and Azure Resource Manager?</span></span>
6. <span data-ttu-id="60896-121">How (if at all) does Azure Resource Manager change your VM deployment, management, monitoring, and reporting processes?</span><span class="sxs-lookup"><span data-stu-id="60896-121">How (if at all) does Azure Resource Manager change your VM deployment, management, monitoring, and reporting processes?</span></span>  <span data-ttu-id="60896-122">Do your deployment scripts need to be updated?</span><span class="sxs-lookup"><span data-stu-id="60896-122">Do your deployment scripts need to be updated?</span></span>
7. <span data-ttu-id="60896-123">What is the communications plan to alert stakeholders (end users, application owners, and infrastructure owners)?</span><span class="sxs-lookup"><span data-stu-id="60896-123">What is the communications plan to alert stakeholders (end users, application owners, and infrastructure owners)?</span></span>
8. <span data-ttu-id="60896-124">Depending on the complexity of the environment, should there be a maintenance period where the application is unavailable to end users and to application owners?</span><span class="sxs-lookup"><span data-stu-id="60896-124">Depending on the complexity of the environment, should there be a maintenance period where the application is unavailable to end users and to application owners?</span></span>  <span data-ttu-id="60896-125">If so, for how long?</span><span class="sxs-lookup"><span data-stu-id="60896-125">If so, for how long?</span></span>
9. <span data-ttu-id="60896-126">What is the training plan to ensure stakeholders are knowledgeable and proficient in Azure Resource Manager?</span><span class="sxs-lookup"><span data-stu-id="60896-126">What is the training plan to ensure stakeholders are knowledgeable and proficient in Azure Resource Manager?</span></span>
10. <span data-ttu-id="60896-127">What is the program management or project management plan for the migration?</span><span class="sxs-lookup"><span data-stu-id="60896-127">What is the program management or project management plan for the migration?</span></span>
11. <span data-ttu-id="60896-128">What are the timelines for the Azure Resource Manager migration and other related technology road maps?</span><span class="sxs-lookup"><span data-stu-id="60896-128">What are the timelines for the Azure Resource Manager migration and other related technology road maps?</span></span>  <span data-ttu-id="60896-129">Are they optimally aligned?</span><span class="sxs-lookup"><span data-stu-id="60896-129">Are they optimally aligned?</span></span>

### <a name="patterns-of-success"></a><span data-ttu-id="60896-130">Patterns of success</span><span class="sxs-lookup"><span data-stu-id="60896-130">Patterns of success</span></span>

<span data-ttu-id="60896-131">Successful customers have detailed plans where the above questions are discussed, documented and governed.</span><span class="sxs-lookup"><span data-stu-id="60896-131">Successful customers have detailed plans where the above questions are discussed, documented and governed.</span></span>  <span data-ttu-id="60896-132">Ensure the migration plans are broadly communicated to sponsors and stakeholders.</span><span class="sxs-lookup"><span data-stu-id="60896-132">Ensure the migration plans are broadly communicated to sponsors and stakeholders.</span></span>  <span data-ttu-id="60896-133">Equip yourself with knowledge about your migration options; reading through this migration document set below is highly recommended.</span><span class="sxs-lookup"><span data-stu-id="60896-133">Equip yourself with knowledge about your migration options; reading through this migration document set below is highly recommended.</span></span>

* [<span data-ttu-id="60896-134">Overview of platform-supported migration of IaaS resources from classic to Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="60896-134">Overview of platform-supported migration of IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="60896-135">Technical deep dive on platform-supported migration from classic to Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="60896-135">Technical deep dive on platform-supported migration from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-deep-dive.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="60896-136">Planning for migration of IaaS resources from classic to Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="60896-136">Planning for migration of IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-plan.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="60896-137">Use PowerShell to migrate IaaS resources from classic to Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="60896-137">Use PowerShell to migrate IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-ps.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="60896-138">Use CLI to migrate IaaS resources from classic to Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="60896-138">Use CLI to migrate IaaS resources from classic to Azure Resource Manager</span></span>](../linux/migration-classic-resource-manager-cli.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="60896-139">Community tools for assisting with migration of IaaS resources from classic to Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="60896-139">Community tools for assisting with migration of IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-community-tools.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="60896-140">Review most common migration errors</span><span class="sxs-lookup"><span data-stu-id="60896-140">Review most common migration errors</span></span>](migration-classic-resource-manager-errors.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="60896-141">Review the most frequently asked questions about migrating IaaS resources from classic to Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="60896-141">Review the most frequently asked questions about migrating IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-faq.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)

### <a name="pitfalls-to-avoid"></a><span data-ttu-id="60896-142">Pitfalls to avoid</span><span class="sxs-lookup"><span data-stu-id="60896-142">Pitfalls to avoid</span></span>

- <span data-ttu-id="60896-143">Failure to plan.</span><span class="sxs-lookup"><span data-stu-id="60896-143">Failure to plan.</span></span>  <span data-ttu-id="60896-144">The technology steps of this migration are proven and the outcome is predictable.</span><span class="sxs-lookup"><span data-stu-id="60896-144">The technology steps of this migration are proven and the outcome is predictable.</span></span>
- <span data-ttu-id="60896-145">Assumption that the platform supported migration API will account for all scenarios.</span><span class="sxs-lookup"><span data-stu-id="60896-145">Assumption that the platform supported migration API will account for all scenarios.</span></span> <span data-ttu-id="60896-146">Read the [unsupported features and configurations](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#unsupported-features-and-configurations) to understand what scenarios are supported.</span><span class="sxs-lookup"><span data-stu-id="60896-146">Read the [unsupported features and configurations](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#unsupported-features-and-configurations) to understand what scenarios are supported.</span></span>
- <span data-ttu-id="60896-147">Not planning potential application outage for end users.</span><span class="sxs-lookup"><span data-stu-id="60896-147">Not planning potential application outage for end users.</span></span>  <span data-ttu-id="60896-148">Plan enough buffer to adequately warn end users of potentially unavailable application time.</span><span class="sxs-lookup"><span data-stu-id="60896-148">Plan enough buffer to adequately warn end users of potentially unavailable application time.</span></span>


## <a name="lab-test"></a><span data-ttu-id="60896-149">Lab Test</span><span class="sxs-lookup"><span data-stu-id="60896-149">Lab Test</span></span> 

<span data-ttu-id="60896-150">**Replicate your enviornment and do a test migration**</span><span class="sxs-lookup"><span data-stu-id="60896-150">**Replicate your enviornment and do a test migration**</span></span>
  > [!NOTE]
  > <span data-ttu-id="60896-151">Exact replication of your existing environment is executed by using a community-contributed tool which is not officially supported by Microsoft Support.</span><span class="sxs-lookup"><span data-stu-id="60896-151">Exact replication of your existing environment is executed by using a community-contributed tool which is not officially supported by Microsoft Support.</span></span> <span data-ttu-id="60896-152">Therefore, it is an **optional** step but it is the best way to find out issues without touching your production environments.</span><span class="sxs-lookup"><span data-stu-id="60896-152">Therefore, it is an **optional** step but it is the best way to find out issues without touching your production environments.</span></span> <span data-ttu-id="60896-153">If using a community-contributed tool is not an option, then read about the Validate/Prepare/Abort Dry Run recommendation below.</span><span class="sxs-lookup"><span data-stu-id="60896-153">If using a community-contributed tool is not an option, then read about the Validate/Prepare/Abort Dry Run recommendation below.</span></span>
  >
  
  <span data-ttu-id="60896-154">Conducting a lab test of your exact scenario (compute, networking, and storage) is the best way to ensure a smooth migration.</span><span class="sxs-lookup"><span data-stu-id="60896-154">Conducting a lab test of your exact scenario (compute, networking, and storage) is the best way to ensure a smooth migration.</span></span> <span data-ttu-id="60896-155">This will help ensure:</span><span class="sxs-lookup"><span data-stu-id="60896-155">This will help ensure:</span></span>

  - <span data-ttu-id="60896-156">A wholly separate lab or an existing non-production environment to test.</span><span class="sxs-lookup"><span data-stu-id="60896-156">A wholly separate lab or an existing non-production environment to test.</span></span> <span data-ttu-id="60896-157">We recommend a wholly separate lab that can be migrated repeatedly and can be destructively modified.</span><span class="sxs-lookup"><span data-stu-id="60896-157">We recommend a wholly separate lab that can be migrated repeatedly and can be destructively modified.</span></span>  <span data-ttu-id="60896-158">Scripts to collect/hydrate metadata from the real subscriptions are listed below.</span><span class="sxs-lookup"><span data-stu-id="60896-158">Scripts to collect/hydrate metadata from the real subscriptions are listed below.</span></span>
  - <span data-ttu-id="60896-159">It's a good idea to create the lab in a separate subscription.</span><span class="sxs-lookup"><span data-stu-id="60896-159">It's a good idea to create the lab in a separate subscription.</span></span> <span data-ttu-id="60896-160">The reason is that the lab will be torn down repeatedly, and having a separate, isolated subscription will reduce the chance that something real will get accidently deleted.</span><span class="sxs-lookup"><span data-stu-id="60896-160">The reason is that the lab will be torn down repeatedly, and having a separate, isolated subscription will reduce the chance that something real will get accidently deleted.</span></span>

  <span data-ttu-id="60896-161">This can be accomplished by using the AsmMetadataParser tool.</span><span class="sxs-lookup"><span data-stu-id="60896-161">This can be accomplished by using the AsmMetadataParser tool.</span></span> [<span data-ttu-id="60896-162">Read more about this tool here</span><span class="sxs-lookup"><span data-stu-id="60896-162">Read more about this tool here</span></span>](https://github.com/Azure/classic-iaas-resourcemanager-migration/tree/master/AsmToArmMigrationApiToolset)

### <a name="patterns-of-success"></a><span data-ttu-id="60896-163">Patterns of success</span><span class="sxs-lookup"><span data-stu-id="60896-163">Patterns of success</span></span>

<span data-ttu-id="60896-164">The following were issues discovered in many of the larger migrations.</span><span class="sxs-lookup"><span data-stu-id="60896-164">The following were issues discovered in many of the larger migrations.</span></span> <span data-ttu-id="60896-165">This is not an exhaustive list and you should refer to the [unsupported features and configurations](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#unsupported-features-and-configurations) for more detail.</span><span class="sxs-lookup"><span data-stu-id="60896-165">This is not an exhaustive list and you should refer to the [unsupported features and configurations](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#unsupported-features-and-configurations) for more detail.</span></span>  <span data-ttu-id="60896-166">You may or may not encounter these technical issues but if you do solving these before attempting migration will ensure a smoother experience.</span><span class="sxs-lookup"><span data-stu-id="60896-166">You may or may not encounter these technical issues but if you do solving these before attempting migration will ensure a smoother experience.</span></span>

- <span data-ttu-id="60896-167">**Do a Validate/Prepare/Abort Dry Run** -  This is perhaps the most important step to ensure Classic to Azure Resource Manager migration success.</span><span class="sxs-lookup"><span data-stu-id="60896-167">**Do a Validate/Prepare/Abort Dry Run** -  This is perhaps the most important step to ensure Classic to Azure Resource Manager migration success.</span></span> <span data-ttu-id="60896-168">The migration API has three main steps: Validate, Prepare and Commit.</span><span class="sxs-lookup"><span data-stu-id="60896-168">The migration API has three main steps: Validate, Prepare and Commit.</span></span> <span data-ttu-id="60896-169">Validate will read the state of your classic environment and return a result of all issues.</span><span class="sxs-lookup"><span data-stu-id="60896-169">Validate will read the state of your classic environment and return a result of all issues.</span></span> <span data-ttu-id="60896-170">However, because some issues might exist in the Azure Resource Manager stack, Validate will not catch everything.</span><span class="sxs-lookup"><span data-stu-id="60896-170">However, because some issues might exist in the Azure Resource Manager stack, Validate will not catch everything.</span></span> <span data-ttu-id="60896-171">The next step in migration process, Prepare will help expose those issues.</span><span class="sxs-lookup"><span data-stu-id="60896-171">The next step in migration process, Prepare will help expose those issues.</span></span> <span data-ttu-id="60896-172">Prepare will move the metadata from Classic to Azure Resource Manager, but will not commit the move, and will not remove or change anything on the Classic side.</span><span class="sxs-lookup"><span data-stu-id="60896-172">Prepare will move the metadata from Classic to Azure Resource Manager, but will not commit the move, and will not remove or change anything on the Classic side.</span></span> <span data-ttu-id="60896-173">The dry run involves preparing the migration, then aborting (**not committing**) the migration prepare.</span><span class="sxs-lookup"><span data-stu-id="60896-173">The dry run involves preparing the migration, then aborting (**not committing**) the migration prepare.</span></span> <span data-ttu-id="60896-174">The goal of validate/prepare/abort dry run is to see all of the metadata in the Azure Resource Manager stack, examine it (*programmatically or in Portal*), and verify that everything migrates correctly, and work through technical issues.</span><span class="sxs-lookup"><span data-stu-id="60896-174">The goal of validate/prepare/abort dry run is to see all of the metadata in the Azure Resource Manager stack, examine it (*programmatically or in Portal*), and verify that everything migrates correctly, and work through technical issues.</span></span>  <span data-ttu-id="60896-175">It will also give you a sense of migration duration so you can plan for downtime accordingly.</span><span class="sxs-lookup"><span data-stu-id="60896-175">It will also give you a sense of migration duration so you can plan for downtime accordingly.</span></span>  <span data-ttu-id="60896-176">A validate/prepare/abort does not cause any user downtime; therefore, it is non-disruptive to application usage.</span><span class="sxs-lookup"><span data-stu-id="60896-176">A validate/prepare/abort does not cause any user downtime; therefore, it is non-disruptive to application usage.</span></span>
  - <span data-ttu-id="60896-177">The items below will need to be solved before the dry run, but a dry run test will also safely flush out these preparation steps if they are missed.</span><span class="sxs-lookup"><span data-stu-id="60896-177">The items below will need to be solved before the dry run, but a dry run test will also safely flush out these preparation steps if they are missed.</span></span> <span data-ttu-id="60896-178">During enterprise migration, we've found the dry run to be a safe and invaluable way to ensure migration readiness.</span><span class="sxs-lookup"><span data-stu-id="60896-178">During enterprise migration, we've found the dry run to be a safe and invaluable way to ensure migration readiness.</span></span>
  - <span data-ttu-id="60896-179">When prepare is running, the control plane (Azure management operations) will be locked for the whole virtual network, so no changes can be made to VM metadata during validate/prepare/abort.</span><span class="sxs-lookup"><span data-stu-id="60896-179">When prepare is running, the control plane (Azure management operations) will be locked for the whole virtual network, so no changes can be made to VM metadata during validate/prepare/abort.</span></span>  <span data-ttu-id="60896-180">But otherwise any application function (RD, VM usage, etc.) will be unaffected.</span><span class="sxs-lookup"><span data-stu-id="60896-180">But otherwise any application function (RD, VM usage, etc.) will be unaffected.</span></span>  <span data-ttu-id="60896-181">Users of the VMs will not know that the dry run is being executed.</span><span class="sxs-lookup"><span data-stu-id="60896-181">Users of the VMs will not know that the dry run is being executed.</span></span>

- <span data-ttu-id="60896-182">**Express Route Circuits and VPN**.</span><span class="sxs-lookup"><span data-stu-id="60896-182">**Express Route Circuits and VPN**.</span></span> <span data-ttu-id="60896-183">Currently Express Route Gateways with authorization links cannot be migrated without downtime.</span><span class="sxs-lookup"><span data-stu-id="60896-183">Currently Express Route Gateways with authorization links cannot be migrated without downtime.</span></span> <span data-ttu-id="60896-184">For the workaround, see [Migrate ExpressRoute circuits and associated virtual networks from the classic to the Resource Manager deployment model](../../expressroute/expressroute-migration-classic-resource-manager.md).</span><span class="sxs-lookup"><span data-stu-id="60896-184">For the workaround, see [Migrate ExpressRoute circuits and associated virtual networks from the classic to the Resource Manager deployment model](../../expressroute/expressroute-migration-classic-resource-manager.md).</span></span>

- <span data-ttu-id="60896-185">**VM Extensions** - Virtual Machine extensions are potentially one of the biggest roadblocks to migrating running VMs.</span><span class="sxs-lookup"><span data-stu-id="60896-185">**VM Extensions** - Virtual Machine extensions are potentially one of the biggest roadblocks to migrating running VMs.</span></span> <span data-ttu-id="60896-186">Remediation of VM Extensions could take upwards of 1-2 days, so plan accordingly.</span><span class="sxs-lookup"><span data-stu-id="60896-186">Remediation of VM Extensions could take upwards of 1-2 days, so plan accordingly.</span></span>  <span data-ttu-id="60896-187">A working Azure agent is needed to report back VM Extension status of running VMs.</span><span class="sxs-lookup"><span data-stu-id="60896-187">A working Azure agent is needed to report back VM Extension status of running VMs.</span></span> <span data-ttu-id="60896-188">If the status comes back as bad for a running VM, this will halt migration.</span><span class="sxs-lookup"><span data-stu-id="60896-188">If the status comes back as bad for a running VM, this will halt migration.</span></span> <span data-ttu-id="60896-189">The agent itself does not need to be in working order to enable migration, but if extensions exist on the VM, then both a working agent AND outbound internet connectivity (with DNS) will be needed for migration to move forward.</span><span class="sxs-lookup"><span data-stu-id="60896-189">The agent itself does not need to be in working order to enable migration, but if extensions exist on the VM, then both a working agent AND outbound internet connectivity (with DNS) will be needed for migration to move forward.</span></span>
  - <span data-ttu-id="60896-190">If connectivity to a DNS server is lost during migration, all VM Extensions except BGInfo v1.\* need to first be removed from every VM before migration prepare, and subsequently re-added back to the VM after Azure Resource Manager migration.</span><span class="sxs-lookup"><span data-stu-id="60896-190">If connectivity to a DNS server is lost during migration, all VM Extensions except BGInfo v1.\* need to first be removed from every VM before migration prepare, and subsequently re-added back to the VM after Azure Resource Manager migration.</span></span>  <span data-ttu-id="60896-191">**This is only for VMs that are running.**</span><span class="sxs-lookup"><span data-stu-id="60896-191">**This is only for VMs that are running.**</span></span>  <span data-ttu-id="60896-192">If the VMs are stopped deallocated, VM Extensions do not need to be removed.</span><span class="sxs-lookup"><span data-stu-id="60896-192">If the VMs are stopped deallocated, VM Extensions do not need to be removed.</span></span> <span data-ttu-id="60896-193">**Note:** Many extensions like Azure diagnostics and security center monitoring will reinstall themselves after migration, so removing them is not a problem.</span><span class="sxs-lookup"><span data-stu-id="60896-193">**Note:** Many extensions like Azure diagnostics and security center monitoring will reinstall themselves after migration, so removing them is not a problem.</span></span>
  - <span data-ttu-id="60896-194">In addition, make sure Network Security Groups are not restricting outbound internet access.</span><span class="sxs-lookup"><span data-stu-id="60896-194">In addition, make sure Network Security Groups are not restricting outbound internet access.</span></span> <span data-ttu-id="60896-195">This can happen with some Network Security Groups configurations.</span><span class="sxs-lookup"><span data-stu-id="60896-195">This can happen with some Network Security Groups configurations.</span></span> <span data-ttu-id="60896-196">Outbound internet access (and DNS) is needed for VM Extensions to be migrated to Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="60896-196">Outbound internet access (and DNS) is needed for VM Extensions to be migrated to Azure Resource Manager.</span></span> 
  - <span data-ttu-id="60896-197">There are two versions of the BGInfo extension: v1 and v2.</span><span class="sxs-lookup"><span data-stu-id="60896-197">There are two versions of the BGInfo extension: v1 and v2.</span></span>  <span data-ttu-id="60896-198">If the VM was created using the classic portal or PowerShell, the VM will likely have the v1 extension on it.</span><span class="sxs-lookup"><span data-stu-id="60896-198">If the VM was created using the classic portal or PowerShell, the VM will likely have the v1 extension on it.</span></span> <span data-ttu-id="60896-199">This extension does not need to be removed and will be skipped (not migrated) by the migration API.</span><span class="sxs-lookup"><span data-stu-id="60896-199">This extension does not need to be removed and will be skipped (not migrated) by the migration API.</span></span> <span data-ttu-id="60896-200">However, if the Classic VM was created with the new Azure portal, it will likely have the JSON-based v2 version of BGInfo, which can be migrated to Azure Resource Manager provided the agent is working and has outbound internet access (and DNS).</span><span class="sxs-lookup"><span data-stu-id="60896-200">However, if the Classic VM was created with the new Azure portal, it will likely have the JSON-based v2 version of BGInfo, which can be migrated to Azure Resource Manager provided the agent is working and has outbound internet access (and DNS).</span></span> 
  - <span data-ttu-id="60896-201">**Remediation Option 1**.</span><span class="sxs-lookup"><span data-stu-id="60896-201">**Remediation Option 1**.</span></span> <span data-ttu-id="60896-202">If you know your VMs will not have outbound internet access, a working DNS service, and working Azure agents on the VMs, then uninstall all VM extensions as part of the migration before Prepare, then reinstall the VM Extensions after migration.</span><span class="sxs-lookup"><span data-stu-id="60896-202">If you know your VMs will not have outbound internet access, a working DNS service, and working Azure agents on the VMs, then uninstall all VM extensions as part of the migration before Prepare, then reinstall the VM Extensions after migration.</span></span> 
  - <span data-ttu-id="60896-203">**Remediation Option 2**.</span><span class="sxs-lookup"><span data-stu-id="60896-203">**Remediation Option 2**.</span></span> <span data-ttu-id="60896-204">If VM extensions are too big of a hurdle, another option is to shutdown/deallocate all VMs before migration.</span><span class="sxs-lookup"><span data-stu-id="60896-204">If VM extensions are too big of a hurdle, another option is to shutdown/deallocate all VMs before migration.</span></span> <span data-ttu-id="60896-205">Migrate the deallocated VMs, then restart them on the Azure Resource Manager side.</span><span class="sxs-lookup"><span data-stu-id="60896-205">Migrate the deallocated VMs, then restart them on the Azure Resource Manager side.</span></span> <span data-ttu-id="60896-206">The benefit here is that VM extensions will migrate.</span><span class="sxs-lookup"><span data-stu-id="60896-206">The benefit here is that VM extensions will migrate.</span></span> <span data-ttu-id="60896-207">The downside is that all public facing Virtual IPs will be lost (this may be a non-starter), and obviously the VMs will shut down causing a much greater impact on working applications.</span><span class="sxs-lookup"><span data-stu-id="60896-207">The downside is that all public facing Virtual IPs will be lost (this may be a non-starter), and obviously the VMs will shut down causing a much greater impact on working applications.</span></span>

    > [!NOTE] 
    > <span data-ttu-id="60896-208">If an Azure Security Center policy is configured against the running VMs being migrated, the security policy needs to be stopped before removing extensions, otherwise the security monitoring extension will be reinstalled automatically on the VM after removing it.</span><span class="sxs-lookup"><span data-stu-id="60896-208">If an Azure Security Center policy is configured against the running VMs being migrated, the security policy needs to be stopped before removing extensions, otherwise the security monitoring extension will be reinstalled automatically on the VM after removing it.</span></span>
  
- <span data-ttu-id="60896-209">**Availability Sets** - For a virtual network (vNet) to be migrated to Azure Resource Manager, the Classic deployment (i.e. cloud service) contained VMs must all be in one availability set, or the VMs must all not be in any availability set.</span><span class="sxs-lookup"><span data-stu-id="60896-209">**Availability Sets** - For a virtual network (vNet) to be migrated to Azure Resource Manager, the Classic deployment (i.e. cloud service) contained VMs must all be in one availability set, or the VMs must all not be in any availability set.</span></span> <span data-ttu-id="60896-210">Having more than one availability set in the cloud service is not compatible with Azure Resource Manager and will halt migration.</span><span class="sxs-lookup"><span data-stu-id="60896-210">Having more than one availability set in the cloud service is not compatible with Azure Resource Manager and will halt migration.</span></span>  <span data-ttu-id="60896-211">Additionally, there cannot be some VMs in an availability set, and some VMs not in an availability set.</span><span class="sxs-lookup"><span data-stu-id="60896-211">Additionally, there cannot be some VMs in an availability set, and some VMs not in an availability set.</span></span> <span data-ttu-id="60896-212">To resolve this, you will need to remediate or reshuffle your cloud service.</span><span class="sxs-lookup"><span data-stu-id="60896-212">To resolve this, you will need to remediate or reshuffle your cloud service.</span></span>  <span data-ttu-id="60896-213">Plan accordingly as this might be time consuming.</span><span class="sxs-lookup"><span data-stu-id="60896-213">Plan accordingly as this might be time consuming.</span></span> 

- <span data-ttu-id="60896-214">**Web/Worker Role Deployments** -  Cloud Services containing web and worker roles cannot migrate to Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="60896-214">**Web/Worker Role Deployments** -  Cloud Services containing web and worker roles cannot migrate to Azure Resource Manager.</span></span> <span data-ttu-id="60896-215">The web/worker roles must first be removed from the virtual network before migration can start.</span><span class="sxs-lookup"><span data-stu-id="60896-215">The web/worker roles must first be removed from the virtual network before migration can start.</span></span>  <span data-ttu-id="60896-216">A typical solution is to just move web/worker role instances to a separate Classic virtual network that is also linked to an ExpressRoute circuit, or to migrate the code to newer PaaS App Services (this discussion is beyond the scope of this document).</span><span class="sxs-lookup"><span data-stu-id="60896-216">A typical solution is to just move web/worker role instances to a separate Classic virtual network that is also linked to an ExpressRoute circuit, or to migrate the code to newer PaaS App Services (this discussion is beyond the scope of this document).</span></span> <span data-ttu-id="60896-217">In the former redeploy case, create a new Classic virtual network, move/redeploy the web/worker roles to that new virtual network, then delete the deployments from the virtual network being moved.</span><span class="sxs-lookup"><span data-stu-id="60896-217">In the former redeploy case, create a new Classic virtual network, move/redeploy the web/worker roles to that new virtual network, then delete the deployments from the virtual network being moved.</span></span> <span data-ttu-id="60896-218">No code changes required.</span><span class="sxs-lookup"><span data-stu-id="60896-218">No code changes required.</span></span> <span data-ttu-id="60896-219">The new [Virtual Network Peering](../../virtual-network/virtual-network-peering-overview.md) capability can be used to peer together the classic virtual network containing the web/worker roles and other virtual networks in the same Azure region such as the virtual network being migrated (**after virtual network migration is completed as peered virtual networks cannot be migrated**), hence providing the same capabilities with no performance loss and no latency/bandwidth penalties.</span><span class="sxs-lookup"><span data-stu-id="60896-219">The new [Virtual Network Peering](../../virtual-network/virtual-network-peering-overview.md) capability can be used to peer together the classic virtual network containing the web/worker roles and other virtual networks in the same Azure region such as the virtual network being migrated (**after virtual network migration is completed as peered virtual networks cannot be migrated**), hence providing the same capabilities with no performance loss and no latency/bandwidth penalties.</span></span> <span data-ttu-id="60896-220">Given the addition of [Virtual Network Peering](../../virtual-network/virtual-network-peering-overview.md), web/worker role deployments can now easily be mitigated and not block the migration to Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="60896-220">Given the addition of [Virtual Network Peering](../../virtual-network/virtual-network-peering-overview.md), web/worker role deployments can now easily be mitigated and not block the migration to Azure Resource Manager.</span></span>

- <span data-ttu-id="60896-221">**Azure Resource Manager Quotas** - Azure regions have separate quotas/limits for both Classic and Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="60896-221">**Azure Resource Manager Quotas** - Azure regions have separate quotas/limits for both Classic and Azure Resource Manager.</span></span> <span data-ttu-id="60896-222">Even though in a migration scenario new hardware isn't being consumed *(we're swapping existing VMs from Classic to Azure Resource Manager)*, Azure Resource Manager quotas still need to be in place with enough capacity before migration can start.</span><span class="sxs-lookup"><span data-stu-id="60896-222">Even though in a migration scenario new hardware isn't being consumed *(we're swapping existing VMs from Classic to Azure Resource Manager)*, Azure Resource Manager quotas still need to be in place with enough capacity before migration can start.</span></span> <span data-ttu-id="60896-223">Listed below are the major limits we've seen cause problems.</span><span class="sxs-lookup"><span data-stu-id="60896-223">Listed below are the major limits we've seen cause problems.</span></span>  <span data-ttu-id="60896-224">Open a quota support ticket to raise the limits.</span><span class="sxs-lookup"><span data-stu-id="60896-224">Open a quota support ticket to raise the limits.</span></span> 

    > [!NOTE]
    > <span data-ttu-id="60896-225">These limits need to be raised in the same region as your current enviornment to be migrated.</span><span class="sxs-lookup"><span data-stu-id="60896-225">These limits need to be raised in the same region as your current enviornment to be migrated.</span></span>
    >

    - <span data-ttu-id="60896-226">Network Interfaces</span><span class="sxs-lookup"><span data-stu-id="60896-226">Network Interfaces</span></span>
    - <span data-ttu-id="60896-227">Load Balancers</span><span class="sxs-lookup"><span data-stu-id="60896-227">Load Balancers</span></span>
    - <span data-ttu-id="60896-228">Public IPs</span><span class="sxs-lookup"><span data-stu-id="60896-228">Public IPs</span></span>
    - <span data-ttu-id="60896-229">Static Public IPs</span><span class="sxs-lookup"><span data-stu-id="60896-229">Static Public IPs</span></span>
    - <span data-ttu-id="60896-230">Cores</span><span class="sxs-lookup"><span data-stu-id="60896-230">Cores</span></span>
    - <span data-ttu-id="60896-231">Network Security Groups</span><span class="sxs-lookup"><span data-stu-id="60896-231">Network Security Groups</span></span>
    - <span data-ttu-id="60896-232">Route Tables</span><span class="sxs-lookup"><span data-stu-id="60896-232">Route Tables</span></span>

    <span data-ttu-id="60896-233">You can check your current Azure Resource Manager quotas using the following commands with the latest version of Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="60896-233">You can check your current Azure Resource Manager quotas using the following commands with the latest version of Azure PowerShell.</span></span>

    <span data-ttu-id="60896-234">**Compute** *(Cores, Avaiability Sets)*</span><span class="sxs-lookup"><span data-stu-id="60896-234">**Compute** *(Cores, Avaiability Sets)*</span></span>

    ```powershell
    Get-AzureRmVMUsage -Location <azure-region>
    ```

    <span data-ttu-id="60896-235">**Network** *(Virtual Networks, Static Public IPs, Public IPs, Network Security Groups, Network Interfaces, Load Balancers, Route Tables)*</span><span class="sxs-lookup"><span data-stu-id="60896-235">**Network** *(Virtual Networks, Static Public IPs, Public IPs, Network Security Groups, Network Interfaces, Load Balancers, Route Tables)*</span></span>
    
    ```powershell
    Get-AzureRmUsage /subscriptions/<subscription-id>/providers/Microsoft.Network/locations/<azure-region> -ApiVersion 2016-03-30 | Format-Table
    ```

    <span data-ttu-id="60896-236">**Storage** *(Storage Account)*</span><span class="sxs-lookup"><span data-stu-id="60896-236">**Storage** *(Storage Account)*</span></span>
    
    ```powershell
    Get-AzureRmStorageUsage
    ```

- <span data-ttu-id="60896-237">**Azure Resource Manager API throttling limits** - If you have a large enough environment (eg.</span><span class="sxs-lookup"><span data-stu-id="60896-237">**Azure Resource Manager API throttling limits** - If you have a large enough environment (eg.</span></span> <span data-ttu-id="60896-238">> 400 VMs in a VNET), you might hit the default API throttling limits for writes (currently `1200 writes/hour`) in Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="60896-238">> 400 VMs in a VNET), you might hit the default API throttling limits for writes (currently `1200 writes/hour`) in Azure Resource Manager.</span></span> <span data-ttu-id="60896-239">Before starting migration, you should raise a support ticket to increase this limit for your subscription.</span><span class="sxs-lookup"><span data-stu-id="60896-239">Before starting migration, you should raise a support ticket to increase this limit for your subscription.</span></span>


- <span data-ttu-id="60896-240">**Provisioning Timed Out VM Status** - If any VM has the status of `provisioning timed out`, this needs to be resolved pre-migration.</span><span class="sxs-lookup"><span data-stu-id="60896-240">**Provisioning Timed Out VM Status** - If any VM has the status of `provisioning timed out`, this needs to be resolved pre-migration.</span></span> <span data-ttu-id="60896-241">The only way to do this is with downtime by deprovisioning/reprovisioning the VM (delete it, keep the disk, and recreate the VM).</span><span class="sxs-lookup"><span data-stu-id="60896-241">The only way to do this is with downtime by deprovisioning/reprovisioning the VM (delete it, keep the disk, and recreate the VM).</span></span> 

- <span data-ttu-id="60896-242">**RoleStateUnknown VM Status** - If migration halts due to a `role state unknown` error message, inspect the VM using the portal and ensure it is running.</span><span class="sxs-lookup"><span data-stu-id="60896-242">**RoleStateUnknown VM Status** - If migration halts due to a `role state unknown` error message, inspect the VM using the portal and ensure it is running.</span></span> <span data-ttu-id="60896-243">This error will typically go away on its own (no remediation required) after a few minutes and is often a transient type often seen during a Virtual Machine `start`, `stop`, `restart` operations.</span><span class="sxs-lookup"><span data-stu-id="60896-243">This error will typically go away on its own (no remediation required) after a few minutes and is often a transient type often seen during a Virtual Machine `start`, `stop`, `restart` operations.</span></span> <span data-ttu-id="60896-244">**Recommended practice:** re-try migration again after a few minutes.</span><span class="sxs-lookup"><span data-stu-id="60896-244">**Recommended practice:** re-try migration again after a few minutes.</span></span> 

- <span data-ttu-id="60896-245">**Fabric Cluster does not exist** -  In some cases, certain VMs cannot be migrated for various odd reasons.</span><span class="sxs-lookup"><span data-stu-id="60896-245">**Fabric Cluster does not exist** -  In some cases, certain VMs cannot be migrated for various odd reasons.</span></span> <span data-ttu-id="60896-246">One of these known cases is if the VM was recently created (within the last week or so) and happened to land an Azure cluster that is not yet equipped for Azure Resource Manager workloads.</span><span class="sxs-lookup"><span data-stu-id="60896-246">One of these known cases is if the VM was recently created (within the last week or so) and happened to land an Azure cluster that is not yet equipped for Azure Resource Manager workloads.</span></span>  <span data-ttu-id="60896-247">You will get an error that says `fabric cluster does not exist` and the VM cannot be migrated.</span><span class="sxs-lookup"><span data-stu-id="60896-247">You will get an error that says `fabric cluster does not exist` and the VM cannot be migrated.</span></span> <span data-ttu-id="60896-248">Waiting a couple of days will usually resolve this particular problem as the cluster will soon get Azure Resource Manager enabled.</span><span class="sxs-lookup"><span data-stu-id="60896-248">Waiting a couple of days will usually resolve this particular problem as the cluster will soon get Azure Resource Manager enabled.</span></span> <span data-ttu-id="60896-249">However, one immediate workaround is to `stop-deallocate` the VM, then continue forward with migration, and start the VM back up in Azure Resource Manager after migrating.</span><span class="sxs-lookup"><span data-stu-id="60896-249">However, one immediate workaround is to `stop-deallocate` the VM, then continue forward with migration, and start the VM back up in Azure Resource Manager after migrating.</span></span>

### <a name="pitfalls-to-avoid"></a><span data-ttu-id="60896-250">Pitfalls to avoid</span><span class="sxs-lookup"><span data-stu-id="60896-250">Pitfalls to avoid</span></span>

- <span data-ttu-id="60896-251">Do not take shortcuts and omit the validate/prepare/abort dry run migrations.</span><span class="sxs-lookup"><span data-stu-id="60896-251">Do not take shortcuts and omit the validate/prepare/abort dry run migrations.</span></span>
- <span data-ttu-id="60896-252">Most, if not all, of your potential issues will surface during the validate/prepare/abort steps.</span><span class="sxs-lookup"><span data-stu-id="60896-252">Most, if not all, of your potential issues will surface during the validate/prepare/abort steps.</span></span>

## <a name="migration"></a><span data-ttu-id="60896-253">Migration</span><span class="sxs-lookup"><span data-stu-id="60896-253">Migration</span></span>

### <a name="technical-considerations-and-tradeoffs"></a><span data-ttu-id="60896-254">Technical considerations and tradeoffs</span><span class="sxs-lookup"><span data-stu-id="60896-254">Technical considerations and tradeoffs</span></span>

<span data-ttu-id="60896-255">Now you are ready because you have worked through the known issues with your environment.</span><span class="sxs-lookup"><span data-stu-id="60896-255">Now you are ready because you have worked through the known issues with your environment.</span></span>

<span data-ttu-id="60896-256">For the real migrations, you might want to consider:</span><span class="sxs-lookup"><span data-stu-id="60896-256">For the real migrations, you might want to consider:</span></span>

1. <span data-ttu-id="60896-257">Plan and schedule the virtual network (smallest unit of migration) with increasing priority.</span><span class="sxs-lookup"><span data-stu-id="60896-257">Plan and schedule the virtual network (smallest unit of migration) with increasing priority.</span></span>  <span data-ttu-id="60896-258">Do the simple virtual networks first, and progress with the more complicated virtual networks.</span><span class="sxs-lookup"><span data-stu-id="60896-258">Do the simple virtual networks first, and progress with the more complicated virtual networks.</span></span>
2. <span data-ttu-id="60896-259">Most customers will have non-production and production environments.</span><span class="sxs-lookup"><span data-stu-id="60896-259">Most customers will have non-production and production environments.</span></span>  <span data-ttu-id="60896-260">Schedule production last.</span><span class="sxs-lookup"><span data-stu-id="60896-260">Schedule production last.</span></span>
3. <span data-ttu-id="60896-261">**(OPTIONAL)** Schedule a maintenance downtime with plenty of buffer in case unexpected issues arise.</span><span class="sxs-lookup"><span data-stu-id="60896-261">**(OPTIONAL)** Schedule a maintenance downtime with plenty of buffer in case unexpected issues arise.</span></span>
4. <span data-ttu-id="60896-262">Communicate with and align with your support teams in case issues arise.</span><span class="sxs-lookup"><span data-stu-id="60896-262">Communicate with and align with your support teams in case issues arise.</span></span>

### <a name="patterns-of-success"></a><span data-ttu-id="60896-263">Patterns of success</span><span class="sxs-lookup"><span data-stu-id="60896-263">Patterns of success</span></span>

<span data-ttu-id="60896-264">The technical guidance from the Lab Test section above should be considered and mitigated prior to a real migration.</span><span class="sxs-lookup"><span data-stu-id="60896-264">The technical guidance from the Lab Test section above should be considered and mitigated prior to a real migration.</span></span>  <span data-ttu-id="60896-265">With adequate testing, the migration is actually a non-event.</span><span class="sxs-lookup"><span data-stu-id="60896-265">With adequate testing, the migration is actually a non-event.</span></span>  <span data-ttu-id="60896-266">For production environments, it might be helpful to have additional support, such as a trusted Microsoft partner or Microsoft Premier services.</span><span class="sxs-lookup"><span data-stu-id="60896-266">For production environments, it might be helpful to have additional support, such as a trusted Microsoft partner or Microsoft Premier services.</span></span>

### <a name="pitfalls-to-avoid"></a><span data-ttu-id="60896-267">Pitfalls to avoid</span><span class="sxs-lookup"><span data-stu-id="60896-267">Pitfalls to avoid</span></span>

<span data-ttu-id="60896-268">Not fully testing may cause issues and delay in the migration.</span><span class="sxs-lookup"><span data-stu-id="60896-268">Not fully testing may cause issues and delay in the migration.</span></span>  

## <a name="beyond-migration"></a><span data-ttu-id="60896-269">Beyond Migration</span><span class="sxs-lookup"><span data-stu-id="60896-269">Beyond Migration</span></span>

### <a name="technical-considerations-and-tradeoffs"></a><span data-ttu-id="60896-270">Technical considerations and tradeoffs</span><span class="sxs-lookup"><span data-stu-id="60896-270">Technical considerations and tradeoffs</span></span>

<span data-ttu-id="60896-271">Now that you are in Azure Resource Manager, maximize the platform.</span><span class="sxs-lookup"><span data-stu-id="60896-271">Now that you are in Azure Resource Manager, maximize the platform.</span></span>  <span data-ttu-id="60896-272">Read the [overview of Azure Resource Manager](../../azure-resource-manager/resource-group-overview.md) to find out about additional benefits.</span><span class="sxs-lookup"><span data-stu-id="60896-272">Read the [overview of Azure Resource Manager](../../azure-resource-manager/resource-group-overview.md) to find out about additional benefits.</span></span>

<span data-ttu-id="60896-273">Things to consider:</span><span class="sxs-lookup"><span data-stu-id="60896-273">Things to consider:</span></span>

- <span data-ttu-id="60896-274">Bundling the migration with other activities.</span><span class="sxs-lookup"><span data-stu-id="60896-274">Bundling the migration with other activities.</span></span>  <span data-ttu-id="60896-275">Most customers opt for an application maintenance window.</span><span class="sxs-lookup"><span data-stu-id="60896-275">Most customers opt for an application maintenance window.</span></span>  <span data-ttu-id="60896-276">If so, you might want to use this downtime to enable other Azure Resource Manager capabilities like encryption and migration to Managed Disks.</span><span class="sxs-lookup"><span data-stu-id="60896-276">If so, you might want to use this downtime to enable other Azure Resource Manager capabilities like encryption and migration to Managed Disks.</span></span>
- <span data-ttu-id="60896-277">Revisit the technical and business reasons for Azure Resource Manager; enable the additional services available only on Azure Resource Manager that apply to your environment.</span><span class="sxs-lookup"><span data-stu-id="60896-277">Revisit the technical and business reasons for Azure Resource Manager; enable the additional services available only on Azure Resource Manager that apply to your environment.</span></span>
- <span data-ttu-id="60896-278">Modernize your environment with PaaS services.</span><span class="sxs-lookup"><span data-stu-id="60896-278">Modernize your environment with PaaS services.</span></span>

### <a name="patterns-of-success"></a><span data-ttu-id="60896-279">Patterns of success</span><span class="sxs-lookup"><span data-stu-id="60896-279">Patterns of success</span></span>

<span data-ttu-id="60896-280">Be purposeful on what services you now want to enable in Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="60896-280">Be purposeful on what services you now want to enable in Azure Resource Manager.</span></span>  <span data-ttu-id="60896-281">Many customers find the below compelling for their Azure environments:</span><span class="sxs-lookup"><span data-stu-id="60896-281">Many customers find the below compelling for their Azure environments:</span></span>

- <span data-ttu-id="60896-282">[Role Based Access Control](../../azure-resource-manager/resource-group-overview.md#access-control).</span><span class="sxs-lookup"><span data-stu-id="60896-282">[Role Based Access Control](../../azure-resource-manager/resource-group-overview.md#access-control).</span></span>
- <span data-ttu-id="60896-283">[Azure Resource Manager templates for easier and more controlled deployment](../../azure-resource-manager/resource-group-overview.md#template-deployment).</span><span class="sxs-lookup"><span data-stu-id="60896-283">[Azure Resource Manager templates for easier and more controlled deployment](../../azure-resource-manager/resource-group-overview.md#template-deployment).</span></span>
- <span data-ttu-id="60896-284">[Tags](../../azure-resource-manager/resource-group-using-tags.md).</span><span class="sxs-lookup"><span data-stu-id="60896-284">[Tags](../../azure-resource-manager/resource-group-using-tags.md).</span></span>
- [<span data-ttu-id="60896-285">Activity Control</span><span class="sxs-lookup"><span data-stu-id="60896-285">Activity Control</span></span>](../../azure-resource-manager/resource-group-audit.md)
- [<span data-ttu-id="60896-286">Resource Policies</span><span class="sxs-lookup"><span data-stu-id="60896-286">Resource Policies</span></span>](../../azure-resource-manager/resource-manager-policy.md)

### <a name="pitfalls-to-avoid"></a><span data-ttu-id="60896-287">Pitfalls to avoid</span><span class="sxs-lookup"><span data-stu-id="60896-287">Pitfalls to avoid</span></span>

<span data-ttu-id="60896-288">Remember why you started this Classic to Azure Resource Manager migration journey.</span><span class="sxs-lookup"><span data-stu-id="60896-288">Remember why you started this Classic to Azure Resource Manager migration journey.</span></span>  <span data-ttu-id="60896-289">What were the original business reasons?</span><span class="sxs-lookup"><span data-stu-id="60896-289">What were the original business reasons?</span></span> <span data-ttu-id="60896-290">Did you achieve the business reason?</span><span class="sxs-lookup"><span data-stu-id="60896-290">Did you achieve the business reason?</span></span>


## <a name="next-steps"></a><span data-ttu-id="60896-291">Next steps</span><span class="sxs-lookup"><span data-stu-id="60896-291">Next steps</span></span>

* [<span data-ttu-id="60896-292">Overview of platform-supported migration of IaaS resources from classic to Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="60896-292">Overview of platform-supported migration of IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="60896-293">Technical deep dive on platform-supported migration from classic to Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="60896-293">Technical deep dive on platform-supported migration from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-deep-dive.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="60896-294">Use PowerShell to migrate IaaS resources from classic to Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="60896-294">Use PowerShell to migrate IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-ps.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="60896-295">Use CLI to migrate IaaS resources from classic to Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="60896-295">Use CLI to migrate IaaS resources from classic to Azure Resource Manager</span></span>](../linux/migration-classic-resource-manager-cli.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="60896-296">Community tools for assisting with migration of IaaS resources from classic to Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="60896-296">Community tools for assisting with migration of IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-community-tools.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="60896-297">Review most common migration errors</span><span class="sxs-lookup"><span data-stu-id="60896-297">Review most common migration errors</span></span>](migration-classic-resource-manager-errors.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="60896-298">Review the most frequently asked questions about migrating IaaS resources from classic to Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="60896-298">Review the most frequently asked questions about migrating IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-faq.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)

