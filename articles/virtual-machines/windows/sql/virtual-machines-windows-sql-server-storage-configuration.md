---
title: Storage configuration for SQL Server VMs | Microsoft Docs
description: This topic describes how Azure configures storage for SQL Server VMs during provisioning (Resource Manager deployment model). It also explains how you can configure storage for your existing SQL Server VMs.
services: virtual-machines-windows
documentationcenter: na
author: ninarn
manager: jhubbard
tags: azure-resource-manager
ms.assetid: 169fc765-3269-48fa-83f1-9fe3e4e40947
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 01/31/2017
ms.author: ninarn
ms.openlocfilehash: 955c5851b869aad1b7a0ab0b96ab0823f268d126
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44670785"
---
# <a name="storage-configuration-for-sql-server-vms"></a><span data-ttu-id="95d63-104">Storage configuration for SQL Server VMs</span><span class="sxs-lookup"><span data-stu-id="95d63-104">Storage configuration for SQL Server VMs</span></span>
<span data-ttu-id="95d63-105">When you configure a SQL Server virtual machine image in Azure, the Portal helps to automate your storage configuration.</span><span class="sxs-lookup"><span data-stu-id="95d63-105">When you configure a SQL Server virtual machine image in Azure, the Portal helps to automate your storage configuration.</span></span> <span data-ttu-id="95d63-106">This includes attaching storage to the VM, making that storage accessible to SQL Server, and configuring it to optimize for your specific performance requirements.</span><span class="sxs-lookup"><span data-stu-id="95d63-106">This includes attaching storage to the VM, making that storage accessible to SQL Server, and configuring it to optimize for your specific performance requirements.</span></span>

<span data-ttu-id="95d63-107">This topic explains how Azure configures storage for your SQL Server VMs both during provisioning and for existing VMs.</span><span class="sxs-lookup"><span data-stu-id="95d63-107">This topic explains how Azure configures storage for your SQL Server VMs both during provisioning and for existing VMs.</span></span> <span data-ttu-id="95d63-108">This configuration is based on the [performance best practices](virtual-machines-windows-sql-performance.md) for Azure VMs running SQL Server.</span><span class="sxs-lookup"><span data-stu-id="95d63-108">This configuration is based on the [performance best practices](virtual-machines-windows-sql-performance.md) for Azure VMs running SQL Server.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-rm-include.md)]

## <a name="prerequisites"></a><span data-ttu-id="95d63-109">Prerequisites</span><span class="sxs-lookup"><span data-stu-id="95d63-109">Prerequisites</span></span>
<span data-ttu-id="95d63-110">To use the automated storage configuration settings, your virtual machine requires the following characteristics:</span><span class="sxs-lookup"><span data-stu-id="95d63-110">To use the automated storage configuration settings, your virtual machine requires the following characteristics:</span></span>

* <span data-ttu-id="95d63-111">Provisioned with a [SQL Server gallery image](virtual-machines-windows-sql-server-iaas-overview.md#option-1-create-a-sql-vm-with-per-minute-licensing).</span><span class="sxs-lookup"><span data-stu-id="95d63-111">Provisioned with a [SQL Server gallery image](virtual-machines-windows-sql-server-iaas-overview.md#option-1-create-a-sql-vm-with-per-minute-licensing).</span></span>
* <span data-ttu-id="95d63-112">Uses the [Resource Manager deployment model](../../../azure-resource-manager/resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="95d63-112">Uses the [Resource Manager deployment model](../../../azure-resource-manager/resource-manager-deployment-model.md).</span></span>
* <span data-ttu-id="95d63-113">Uses [Premium Storage](../../../storage/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="95d63-113">Uses [Premium Storage](../../../storage/storage-premium-storage.md).</span></span>

## <a name="new-vms"></a><span data-ttu-id="95d63-114">New VMs</span><span class="sxs-lookup"><span data-stu-id="95d63-114">New VMs</span></span>
<span data-ttu-id="95d63-115">The following sections describe how to configure storage for new SQL Server virtual machines.</span><span class="sxs-lookup"><span data-stu-id="95d63-115">The following sections describe how to configure storage for new SQL Server virtual machines.</span></span>

### <a name="azure-portal"></a><span data-ttu-id="95d63-116">Azure Portal</span><span class="sxs-lookup"><span data-stu-id="95d63-116">Azure Portal</span></span>
<span data-ttu-id="95d63-117">When provisioning an Azure VM using a SQL Server gallery image, you can choose to automatically configure the storage for your new VM.</span><span class="sxs-lookup"><span data-stu-id="95d63-117">When provisioning an Azure VM using a SQL Server gallery image, you can choose to automatically configure the storage for your new VM.</span></span> <span data-ttu-id="95d63-118">You specify the storage size, performance limits, and workload type.</span><span class="sxs-lookup"><span data-stu-id="95d63-118">You specify the storage size, performance limits, and workload type.</span></span> <span data-ttu-id="95d63-119">The following screenshot shows the Storage configuration blade used during SQL VM provisioning.</span><span class="sxs-lookup"><span data-stu-id="95d63-119">The following screenshot shows the Storage configuration blade used during SQL VM provisioning.</span></span>

![SQL Server VM Storage Configuration During Provisioning](https://docstestmedia1.blob.core.windows.net/azure-media/articles/virtual-machines/windows/sql/media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-provisioning.png)

<span data-ttu-id="95d63-121">Based on your choices, Azure performs the following storage configuration tasks after creating the VM:</span><span class="sxs-lookup"><span data-stu-id="95d63-121">Based on your choices, Azure performs the following storage configuration tasks after creating the VM:</span></span>

* <span data-ttu-id="95d63-122">Creates and attaches premium storage data disks to the virtual machine.</span><span class="sxs-lookup"><span data-stu-id="95d63-122">Creates and attaches premium storage data disks to the virtual machine.</span></span>
* <span data-ttu-id="95d63-123">Configures the data disks to be accessible to SQL Server.</span><span class="sxs-lookup"><span data-stu-id="95d63-123">Configures the data disks to be accessible to SQL Server.</span></span>
* <span data-ttu-id="95d63-124">Configures the data disks into a storage pool based on the specified size and performance (IOPS and throughput) requirements.</span><span class="sxs-lookup"><span data-stu-id="95d63-124">Configures the data disks into a storage pool based on the specified size and performance (IOPS and throughput) requirements.</span></span>
* <span data-ttu-id="95d63-125">Associates the storage pool with a new drive on the virtual machine.</span><span class="sxs-lookup"><span data-stu-id="95d63-125">Associates the storage pool with a new drive on the virtual machine.</span></span>
* <span data-ttu-id="95d63-126">Optimizes this new drive based on your specified workload type (Data warehousing, Transactional processing, or General).</span><span class="sxs-lookup"><span data-stu-id="95d63-126">Optimizes this new drive based on your specified workload type (Data warehousing, Transactional processing, or General).</span></span>

<span data-ttu-id="95d63-127">For further details on how Azure configures storage settings, see the [Storage configuration section](#storage-configuration).</span><span class="sxs-lookup"><span data-stu-id="95d63-127">For further details on how Azure configures storage settings, see the [Storage configuration section](#storage-configuration).</span></span> <span data-ttu-id="95d63-128">For a full walkthrough of how to create a SQL Server VM in the Azure Portal, see [the provisioning tutorial](virtual-machines-windows-portal-sql-server-provision.md).</span><span class="sxs-lookup"><span data-stu-id="95d63-128">For a full walkthrough of how to create a SQL Server VM in the Azure Portal, see [the provisioning tutorial](virtual-machines-windows-portal-sql-server-provision.md).</span></span>

### <a name="resource-manage-templates"></a><span data-ttu-id="95d63-129">Resource Manage templates</span><span class="sxs-lookup"><span data-stu-id="95d63-129">Resource Manage templates</span></span>
<span data-ttu-id="95d63-130">If you use the following Resource Manager templates, two premium data disks are attached by default, with no storage pool configuration.</span><span class="sxs-lookup"><span data-stu-id="95d63-130">If you use the following Resource Manager templates, two premium data disks are attached by default, with no storage pool configuration.</span></span> <span data-ttu-id="95d63-131">However, you can customize these templates to change the number of premium data disks that are attached to the virtual machine.</span><span class="sxs-lookup"><span data-stu-id="95d63-131">However, you can customize these templates to change the number of premium data disks that are attached to the virtual machine.</span></span>

* [<span data-ttu-id="95d63-132">Create VM with Automated Backup</span><span class="sxs-lookup"><span data-stu-id="95d63-132">Create VM with Automated Backup</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-autobackup)
* [<span data-ttu-id="95d63-133">Create VM with Automated Patching</span><span class="sxs-lookup"><span data-stu-id="95d63-133">Create VM with Automated Patching</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-autopatching)
* [<span data-ttu-id="95d63-134">Create VM with AKV Integration</span><span class="sxs-lookup"><span data-stu-id="95d63-134">Create VM with AKV Integration</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-keyvault)

## <a name="existing-vms"></a><span data-ttu-id="95d63-135">Existing VMs</span><span class="sxs-lookup"><span data-stu-id="95d63-135">Existing VMs</span></span>
<span data-ttu-id="95d63-136">For existing SQL Server VMs, you can modify some storage settings in the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="95d63-136">For existing SQL Server VMs, you can modify some storage settings in the Azure portal.</span></span> <span data-ttu-id="95d63-137">Select your VM, go to the Settings area, and then select SQL Server Configuration.</span><span class="sxs-lookup"><span data-stu-id="95d63-137">Select your VM, go to the Settings area, and then select SQL Server Configuration.</span></span> <span data-ttu-id="95d63-138">The SQL Server Configuration blade shows the current storage usage of your VM.</span><span class="sxs-lookup"><span data-stu-id="95d63-138">The SQL Server Configuration blade shows the current storage usage of your VM.</span></span> <span data-ttu-id="95d63-139">All drives that exist on your VM are displayed in this chart.</span><span class="sxs-lookup"><span data-stu-id="95d63-139">All drives that exist on your VM are displayed in this chart.</span></span> <span data-ttu-id="95d63-140">For each drive, the storage space displays in four sections:</span><span class="sxs-lookup"><span data-stu-id="95d63-140">For each drive, the storage space displays in four sections:</span></span>

* <span data-ttu-id="95d63-141">SQL data</span><span class="sxs-lookup"><span data-stu-id="95d63-141">SQL data</span></span>
* <span data-ttu-id="95d63-142">SQL log</span><span class="sxs-lookup"><span data-stu-id="95d63-142">SQL log</span></span>
* <span data-ttu-id="95d63-143">Other (non-SQL storage)</span><span class="sxs-lookup"><span data-stu-id="95d63-143">Other (non-SQL storage)</span></span>
* <span data-ttu-id="95d63-144">Available</span><span class="sxs-lookup"><span data-stu-id="95d63-144">Available</span></span>

![Configure Storage for Existing SQL Server VM](https://docstestmedia1.blob.core.windows.net/azure-media/articles/virtual-machines/windows/sql/media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-existing.png)

<span data-ttu-id="95d63-146">To configure the storage to add a new drive or extend an existing drive, click the Edit link above the chart.</span><span class="sxs-lookup"><span data-stu-id="95d63-146">To configure the storage to add a new drive or extend an existing drive, click the Edit link above the chart.</span></span>

<span data-ttu-id="95d63-147">The configuration options that you see varies depending on whether you have used this feature before.</span><span class="sxs-lookup"><span data-stu-id="95d63-147">The configuration options that you see varies depending on whether you have used this feature before.</span></span> <span data-ttu-id="95d63-148">When using for the first time, you can specify your storage requirements for a new drive.</span><span class="sxs-lookup"><span data-stu-id="95d63-148">When using for the first time, you can specify your storage requirements for a new drive.</span></span> <span data-ttu-id="95d63-149">If you previously used this feature to create a drive, you can choose to extend that drive’s storage.</span><span class="sxs-lookup"><span data-stu-id="95d63-149">If you previously used this feature to create a drive, you can choose to extend that drive’s storage.</span></span>

### <a name="use-for-the-first-time"></a><span data-ttu-id="95d63-150">Use for the first time</span><span class="sxs-lookup"><span data-stu-id="95d63-150">Use for the first time</span></span>
<span data-ttu-id="95d63-151">If it is your first time using this feature, you can specify the storage size and performance limits for a new drive.</span><span class="sxs-lookup"><span data-stu-id="95d63-151">If it is your first time using this feature, you can specify the storage size and performance limits for a new drive.</span></span> <span data-ttu-id="95d63-152">This experience is similar to what you would see at provisioning time.</span><span class="sxs-lookup"><span data-stu-id="95d63-152">This experience is similar to what you would see at provisioning time.</span></span> <span data-ttu-id="95d63-153">The main difference is that you are not permitted to specify the workload type.</span><span class="sxs-lookup"><span data-stu-id="95d63-153">The main difference is that you are not permitted to specify the workload type.</span></span> <span data-ttu-id="95d63-154">This restriction prevents disrupting any existing SQL Server configurations on the virtual machine.</span><span class="sxs-lookup"><span data-stu-id="95d63-154">This restriction prevents disrupting any existing SQL Server configurations on the virtual machine.</span></span>

![Configure SQL Server Storage Sliders](https://docstestmedia1.blob.core.windows.net/azure-media/articles/virtual-machines/windows/sql/media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-usage-sliders.png)

<span data-ttu-id="95d63-156">Azure creates a new drive based on your specifications.</span><span class="sxs-lookup"><span data-stu-id="95d63-156">Azure creates a new drive based on your specifications.</span></span> <span data-ttu-id="95d63-157">In this scenario, Azure performs the following storage configuration tasks:</span><span class="sxs-lookup"><span data-stu-id="95d63-157">In this scenario, Azure performs the following storage configuration tasks:</span></span>

* <span data-ttu-id="95d63-158">Creates and attaches premium storage data disks to the virtual machine.</span><span class="sxs-lookup"><span data-stu-id="95d63-158">Creates and attaches premium storage data disks to the virtual machine.</span></span>
* <span data-ttu-id="95d63-159">Configures the data disks to be accessible to SQL Server.</span><span class="sxs-lookup"><span data-stu-id="95d63-159">Configures the data disks to be accessible to SQL Server.</span></span>
* <span data-ttu-id="95d63-160">Configures the data disks into a storage pool based on the specified size and performance (IOPS and throughput) requirements.</span><span class="sxs-lookup"><span data-stu-id="95d63-160">Configures the data disks into a storage pool based on the specified size and performance (IOPS and throughput) requirements.</span></span>
* <span data-ttu-id="95d63-161">Associates the storage pool with a new drive on the virtual machine.</span><span class="sxs-lookup"><span data-stu-id="95d63-161">Associates the storage pool with a new drive on the virtual machine.</span></span>

<span data-ttu-id="95d63-162">For further details on how Azure configures storage settings, see the [Storage configuration section](#storage-configuration).</span><span class="sxs-lookup"><span data-stu-id="95d63-162">For further details on how Azure configures storage settings, see the [Storage configuration section](#storage-configuration).</span></span>

### <a name="add-a-new-drive"></a><span data-ttu-id="95d63-163">Add a new drive</span><span class="sxs-lookup"><span data-stu-id="95d63-163">Add a new drive</span></span>
<span data-ttu-id="95d63-164">If you have already configured storage on your SQL Server VM, expanding storage brings up two new options.</span><span class="sxs-lookup"><span data-stu-id="95d63-164">If you have already configured storage on your SQL Server VM, expanding storage brings up two new options.</span></span> <span data-ttu-id="95d63-165">The first option is to add a new drive, which can increase the performance level of your VM.</span><span class="sxs-lookup"><span data-stu-id="95d63-165">The first option is to add a new drive, which can increase the performance level of your VM.</span></span>

![Add a new drive to a SQL VM](https://docstestmedia1.blob.core.windows.net/azure-media/articles/virtual-machines/windows/sql/media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-add-new-drive.png)

<span data-ttu-id="95d63-167">However, after adding the drive, you must perform some extra manual configuration to achieve the performance increase.</span><span class="sxs-lookup"><span data-stu-id="95d63-167">However, after adding the drive, you must perform some extra manual configuration to achieve the performance increase.</span></span>

### <a name="extend-the-drive"></a><span data-ttu-id="95d63-168">Extend the drive</span><span class="sxs-lookup"><span data-stu-id="95d63-168">Extend the drive</span></span>
<span data-ttu-id="95d63-169">The other option for expanding storage is to extend the existing drive.</span><span class="sxs-lookup"><span data-stu-id="95d63-169">The other option for expanding storage is to extend the existing drive.</span></span> <span data-ttu-id="95d63-170">This option increases the available storage for your drive, but it does not increase performance.</span><span class="sxs-lookup"><span data-stu-id="95d63-170">This option increases the available storage for your drive, but it does not increase performance.</span></span> <span data-ttu-id="95d63-171">With storage pools, you cannot alter the number of columns after the storage pool is created.</span><span class="sxs-lookup"><span data-stu-id="95d63-171">With storage pools, you cannot alter the number of columns after the storage pool is created.</span></span> <span data-ttu-id="95d63-172">The number of columns determines the number of parallel writes, which can be striped across the data disks.</span><span class="sxs-lookup"><span data-stu-id="95d63-172">The number of columns determines the number of parallel writes, which can be striped across the data disks.</span></span> <span data-ttu-id="95d63-173">Therefore, any added data disks cannot increase performance.</span><span class="sxs-lookup"><span data-stu-id="95d63-173">Therefore, any added data disks cannot increase performance.</span></span> <span data-ttu-id="95d63-174">They can only provide more storage for the data being written.</span><span class="sxs-lookup"><span data-stu-id="95d63-174">They can only provide more storage for the data being written.</span></span> <span data-ttu-id="95d63-175">This limitation also means that, when extending the drive, the number of columns determines the minimum number of data disks that you can add.</span><span class="sxs-lookup"><span data-stu-id="95d63-175">This limitation also means that, when extending the drive, the number of columns determines the minimum number of data disks that you can add.</span></span> <span data-ttu-id="95d63-176">So if you create a storage pool with four data disks, the number of columns is also four.</span><span class="sxs-lookup"><span data-stu-id="95d63-176">So if you create a storage pool with four data disks, the number of columns is also four.</span></span> <span data-ttu-id="95d63-177">Any time you extend the storage, you must add at least four data disks.</span><span class="sxs-lookup"><span data-stu-id="95d63-177">Any time you extend the storage, you must add at least four data disks.</span></span>

![Extend a drive for a SQL VM](https://docstestmedia1.blob.core.windows.net/azure-media/articles/virtual-machines/windows/sql/media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-extend-a-drive.png)

## <a name="storage-configuration"></a><span data-ttu-id="95d63-179">Storage configuration</span><span class="sxs-lookup"><span data-stu-id="95d63-179">Storage configuration</span></span>
<span data-ttu-id="95d63-180">This section provides a reference for the storage configuration changes that Azure automatically performs during SQL VM provisioning or configuration in the Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="95d63-180">This section provides a reference for the storage configuration changes that Azure automatically performs during SQL VM provisioning or configuration in the Azure Portal.</span></span>

* <span data-ttu-id="95d63-181">If you have selected fewer than two TBs of storage for your VM, Azure does not create a storage pool.</span><span class="sxs-lookup"><span data-stu-id="95d63-181">If you have selected fewer than two TBs of storage for your VM, Azure does not create a storage pool.</span></span>
* <span data-ttu-id="95d63-182">If you have selected at least two TBs of storage for your VM, Azure configures a storage pool.</span><span class="sxs-lookup"><span data-stu-id="95d63-182">If you have selected at least two TBs of storage for your VM, Azure configures a storage pool.</span></span> <span data-ttu-id="95d63-183">The next section of this topic provides the details of the storage pool configuration.</span><span class="sxs-lookup"><span data-stu-id="95d63-183">The next section of this topic provides the details of the storage pool configuration.</span></span>
* <span data-ttu-id="95d63-184">Automatic storage configuration always uses [premium storage](../../../storage/storage-premium-storage.md) P30 data disks.</span><span class="sxs-lookup"><span data-stu-id="95d63-184">Automatic storage configuration always uses [premium storage](../../../storage/storage-premium-storage.md) P30 data disks.</span></span> <span data-ttu-id="95d63-185">Consequently, there is a 1:1 mapping between your selected number of Terabytes and the number of data disks attached to your VM.</span><span class="sxs-lookup"><span data-stu-id="95d63-185">Consequently, there is a 1:1 mapping between your selected number of Terabytes and the number of data disks attached to your VM.</span></span>

<span data-ttu-id="95d63-186">For pricing information, see the [Storage pricing](https://azure.microsoft.com/pricing/details/storage) page on the **Disk Storage** tab.</span><span class="sxs-lookup"><span data-stu-id="95d63-186">For pricing information, see the [Storage pricing](https://azure.microsoft.com/pricing/details/storage) page on the **Disk Storage** tab.</span></span>

### <a name="creation-of-the-storage-pool"></a><span data-ttu-id="95d63-187">Creation of the storage pool</span><span class="sxs-lookup"><span data-stu-id="95d63-187">Creation of the storage pool</span></span>
<span data-ttu-id="95d63-188">Azure uses the following settings to create the storage pool on SQL Server VMs.</span><span class="sxs-lookup"><span data-stu-id="95d63-188">Azure uses the following settings to create the storage pool on SQL Server VMs.</span></span>

| <span data-ttu-id="95d63-189">Setting</span><span class="sxs-lookup"><span data-stu-id="95d63-189">Setting</span></span> | <span data-ttu-id="95d63-190">Value</span><span class="sxs-lookup"><span data-stu-id="95d63-190">Value</span></span> |
| --- | --- |
| <span data-ttu-id="95d63-191">Stripe size</span><span class="sxs-lookup"><span data-stu-id="95d63-191">Stripe size</span></span> |<span data-ttu-id="95d63-192">256 KB (Data warehousing); 64 KB (Transactional)</span><span class="sxs-lookup"><span data-stu-id="95d63-192">256 KB (Data warehousing); 64 KB (Transactional)</span></span> |
| <span data-ttu-id="95d63-193">Disk sizes</span><span class="sxs-lookup"><span data-stu-id="95d63-193">Disk sizes</span></span> |<span data-ttu-id="95d63-194">1 TB each</span><span class="sxs-lookup"><span data-stu-id="95d63-194">1 TB each</span></span> |
| <span data-ttu-id="95d63-195">Cache</span><span class="sxs-lookup"><span data-stu-id="95d63-195">Cache</span></span> |<span data-ttu-id="95d63-196">Read</span><span class="sxs-lookup"><span data-stu-id="95d63-196">Read</span></span> |
| <span data-ttu-id="95d63-197">Allocation size</span><span class="sxs-lookup"><span data-stu-id="95d63-197">Allocation size</span></span> |<span data-ttu-id="95d63-198">64 KB NTFS allocation unit size</span><span class="sxs-lookup"><span data-stu-id="95d63-198">64 KB NTFS allocation unit size</span></span> |
| <span data-ttu-id="95d63-199">Instant file initialization</span><span class="sxs-lookup"><span data-stu-id="95d63-199">Instant file initialization</span></span> |<span data-ttu-id="95d63-200">Enabled</span><span class="sxs-lookup"><span data-stu-id="95d63-200">Enabled</span></span> |
| <span data-ttu-id="95d63-201">Lock pages in memory</span><span class="sxs-lookup"><span data-stu-id="95d63-201">Lock pages in memory</span></span> |<span data-ttu-id="95d63-202">Enabled</span><span class="sxs-lookup"><span data-stu-id="95d63-202">Enabled</span></span> |
| <span data-ttu-id="95d63-203">Recovery</span><span class="sxs-lookup"><span data-stu-id="95d63-203">Recovery</span></span> |<span data-ttu-id="95d63-204">Simple recovery (no resiliency)</span><span class="sxs-lookup"><span data-stu-id="95d63-204">Simple recovery (no resiliency)</span></span> |
| <span data-ttu-id="95d63-205">Number of columns</span><span class="sxs-lookup"><span data-stu-id="95d63-205">Number of columns</span></span> |<span data-ttu-id="95d63-206">Number of data disks<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="95d63-206">Number of data disks<sup>1</sup></span></span> |
| <span data-ttu-id="95d63-207">TempDB location</span><span class="sxs-lookup"><span data-stu-id="95d63-207">TempDB location</span></span> |<span data-ttu-id="95d63-208">Stored on data disks<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="95d63-208">Stored on data disks<sup>2</sup></span></span> |

<span data-ttu-id="95d63-209"><sup>1</sup> After the storage pool is created, you cannot alter the number of columns in the storage pool.</span><span class="sxs-lookup"><span data-stu-id="95d63-209"><sup>1</sup> After the storage pool is created, you cannot alter the number of columns in the storage pool.</span></span>

<span data-ttu-id="95d63-210"><sup>2</sup> This setting only applies to the first drive you create using the storage configuration feature.</span><span class="sxs-lookup"><span data-stu-id="95d63-210"><sup>2</sup> This setting only applies to the first drive you create using the storage configuration feature.</span></span>

## <a name="workload-optimization-settings"></a><span data-ttu-id="95d63-211">Workload optimization settings</span><span class="sxs-lookup"><span data-stu-id="95d63-211">Workload optimization settings</span></span>
<span data-ttu-id="95d63-212">The following table describes the three workload type options available and their corresponding optimizations:</span><span class="sxs-lookup"><span data-stu-id="95d63-212">The following table describes the three workload type options available and their corresponding optimizations:</span></span>

| <span data-ttu-id="95d63-213">Workload type</span><span class="sxs-lookup"><span data-stu-id="95d63-213">Workload type</span></span> | <span data-ttu-id="95d63-214">Description</span><span class="sxs-lookup"><span data-stu-id="95d63-214">Description</span></span> | <span data-ttu-id="95d63-215">Optimizations</span><span class="sxs-lookup"><span data-stu-id="95d63-215">Optimizations</span></span> |
| --- | --- | --- |
| <span data-ttu-id="95d63-216">**General**</span><span class="sxs-lookup"><span data-stu-id="95d63-216">**General**</span></span> |<span data-ttu-id="95d63-217">Default setting that supports most workloads</span><span class="sxs-lookup"><span data-stu-id="95d63-217">Default setting that supports most workloads</span></span> |<span data-ttu-id="95d63-218">None</span><span class="sxs-lookup"><span data-stu-id="95d63-218">None</span></span> |
| <span data-ttu-id="95d63-219">**Transactional processing**</span><span class="sxs-lookup"><span data-stu-id="95d63-219">**Transactional processing**</span></span> |<span data-ttu-id="95d63-220">Optimizes the storage for traditional database OLTP workloads</span><span class="sxs-lookup"><span data-stu-id="95d63-220">Optimizes the storage for traditional database OLTP workloads</span></span> |<span data-ttu-id="95d63-221">Trace Flag 1117</span><span class="sxs-lookup"><span data-stu-id="95d63-221">Trace Flag 1117</span></span><br/><span data-ttu-id="95d63-222">Trace Flag 1118</span><span class="sxs-lookup"><span data-stu-id="95d63-222">Trace Flag 1118</span></span> |
| <span data-ttu-id="95d63-223">**Data warehousing**</span><span class="sxs-lookup"><span data-stu-id="95d63-223">**Data warehousing**</span></span> |<span data-ttu-id="95d63-224">Optimizes the storage for analytic and reporting workloads</span><span class="sxs-lookup"><span data-stu-id="95d63-224">Optimizes the storage for analytic and reporting workloads</span></span> |<span data-ttu-id="95d63-225">Trace Flag 610</span><span class="sxs-lookup"><span data-stu-id="95d63-225">Trace Flag 610</span></span><br/><span data-ttu-id="95d63-226">Trace Flag 1117</span><span class="sxs-lookup"><span data-stu-id="95d63-226">Trace Flag 1117</span></span> |

> [!NOTE]
> <span data-ttu-id="95d63-227">You can only specify the workload type when you provision a SQL virtual machine by selecting it in the storage configuration step.</span><span class="sxs-lookup"><span data-stu-id="95d63-227">You can only specify the workload type when you provision a SQL virtual machine by selecting it in the storage configuration step.</span></span>
>
>

## <a name="next-steps"></a><span data-ttu-id="95d63-228">Next steps</span><span class="sxs-lookup"><span data-stu-id="95d63-228">Next steps</span></span>
<span data-ttu-id="95d63-229">For other topics related to running SQL Server in Azure VMs, see [SQL Server on Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="95d63-229">For other topics related to running SQL Server in Azure VMs, see [SQL Server on Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>





