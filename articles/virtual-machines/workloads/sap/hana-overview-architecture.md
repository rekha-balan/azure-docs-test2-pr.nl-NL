---
title: Overview and Architecture of SAP HANA on Azure (Large Instances) | Microsoft Docs
description: Architectural Overview of how to Deploy SAP HANA on Azure (Large Instances).
services: virtual-machines-linux
documentationcenter: ''
author: RicksterCDN
manager: timlt
editor: ''
ms.service: virtual-machines-linux
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure
ms.date: 12/01/2016
ms.author: rclaus
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: abdaeb3f569a9415e607e23e073f206138368c89
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44540684"
---
# <a name="sap-hana-large-instances-overview-and-architecture-on-azure"></a><span data-ttu-id="035f4-103">SAP HANA (large instances) overview and architecture on Azure</span><span class="sxs-lookup"><span data-stu-id="035f4-103">SAP HANA (large instances) overview and architecture on Azure</span></span> 
<span data-ttu-id="035f4-104">This is a five-part architecture and technical deployment guide that provides information to help you deploy SAP on the new SAP HANA on Azure (Large Instances) in Azure.</span><span class="sxs-lookup"><span data-stu-id="035f4-104">This is a five-part architecture and technical deployment guide that provides information to help you deploy SAP on the new SAP HANA on Azure (Large Instances) in Azure.</span></span> <span data-ttu-id="035f4-105">It is not comprehensive, and does not cover specific details involving setup of SAP solutions.</span><span class="sxs-lookup"><span data-stu-id="035f4-105">It is not comprehensive, and does not cover specific details involving setup of SAP solutions.</span></span> <span data-ttu-id="035f4-106">Instead, gives valuable information to help with your initial deployment and ongoing operations.</span><span class="sxs-lookup"><span data-stu-id="035f4-106">Instead, gives valuable information to help with your initial deployment and ongoing operations.</span></span> <span data-ttu-id="035f4-107">Do not use it to replace SAP documentation related to the installation of SAP HANA (or the many SAP Support Notes that cover the topic).</span><span class="sxs-lookup"><span data-stu-id="035f4-107">Do not use it to replace SAP documentation related to the installation of SAP HANA (or the many SAP Support Notes that cover the topic).</span></span> <span data-ttu-id="035f4-108">It also provides detail on installing SAP HANA on Azure (Large Instances).</span><span class="sxs-lookup"><span data-stu-id="035f4-108">It also provides detail on installing SAP HANA on Azure (Large Instances).</span></span>


<span data-ttu-id="035f4-109">The five parts of this guide cover the following topics:</span><span class="sxs-lookup"><span data-stu-id="035f4-109">The five parts of this guide cover the following topics:</span></span>

- [<span data-ttu-id="035f4-110">Overview and architecture</span><span class="sxs-lookup"><span data-stu-id="035f4-110">Overview and architecture</span></span>](hana-overview-architecture.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
- [<span data-ttu-id="035f4-111">Infrastructure and connectivity</span><span class="sxs-lookup"><span data-stu-id="035f4-111">Infrastructure and connectivity</span></span>](hana-overview-infrastructure-connectivity.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
- [<span data-ttu-id="035f4-112">SAP HANA installation</span><span class="sxs-lookup"><span data-stu-id="035f4-112">SAP HANA installation</span></span>](hana-installation.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
- [<span data-ttu-id="035f4-113">High Availability and Disaster Recovery</span><span class="sxs-lookup"><span data-stu-id="035f4-113">High Availability and Disaster Recovery</span></span>](hana-overview-high-availability-disaster-recovery.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
- [<span data-ttu-id="035f4-114">Troubleshooting and monitoring</span><span class="sxs-lookup"><span data-stu-id="035f4-114">Troubleshooting and monitoring</span></span>](troubleshooting-monitoring.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)

## <a name="definitions"></a><span data-ttu-id="035f4-115">Definitions</span><span class="sxs-lookup"><span data-stu-id="035f4-115">Definitions</span></span>

<span data-ttu-id="035f4-116">Several common definitions are widely used in the Architecture and Technical Deployment Guide.</span><span class="sxs-lookup"><span data-stu-id="035f4-116">Several common definitions are widely used in the Architecture and Technical Deployment Guide.</span></span> <span data-ttu-id="035f4-117">Please note the following terms and their meanings:</span><span class="sxs-lookup"><span data-stu-id="035f4-117">Please note the following terms and their meanings:</span></span>

- <span data-ttu-id="035f4-118">**IaaS:** Infrastructure as a Service</span><span class="sxs-lookup"><span data-stu-id="035f4-118">**IaaS:** Infrastructure as a Service</span></span>
- <span data-ttu-id="035f4-119">**PaaS:** Platform as a Service</span><span class="sxs-lookup"><span data-stu-id="035f4-119">**PaaS:** Platform as a Service</span></span>
- <span data-ttu-id="035f4-120">**SaaS:** Software as a Service</span><span class="sxs-lookup"><span data-stu-id="035f4-120">**SaaS:** Software as a Service</span></span>
- <span data-ttu-id="035f4-121">**SAP Component:** An individual SAP application, such as ECC, BW, Solution Manager or EP.</span><span class="sxs-lookup"><span data-stu-id="035f4-121">**SAP Component:** An individual SAP application, such as ECC, BW, Solution Manager or EP.</span></span> <span data-ttu-id="035f4-122">SAP components can be based on traditional ABAP or Java technologies or a non-NetWeaver based application such as Business Objects.</span><span class="sxs-lookup"><span data-stu-id="035f4-122">SAP components can be based on traditional ABAP or Java technologies or a non-NetWeaver based application such as Business Objects.</span></span>
- <span data-ttu-id="035f4-123">**SAP Environment:** One or more SAP components logically grouped to perform a business function, such as Development, QAS, Training, DR or Production.</span><span class="sxs-lookup"><span data-stu-id="035f4-123">**SAP Environment:** One or more SAP components logically grouped to perform a business function, such as Development, QAS, Training, DR or Production.</span></span>
- <span data-ttu-id="035f4-124">**SAP Landscape:** This refers to the entire SAP assets in your IT landscape.</span><span class="sxs-lookup"><span data-stu-id="035f4-124">**SAP Landscape:** This refers to the entire SAP assets in your IT landscape.</span></span> <span data-ttu-id="035f4-125">The SAP landscape includes all production and non-production environments.</span><span class="sxs-lookup"><span data-stu-id="035f4-125">The SAP landscape includes all production and non-production environments.</span></span>
- <span data-ttu-id="035f4-126">**SAP System:** The combination of DBMS layer and application layer of an SAP ERP development system, SAP BW test system, SAP CRM production system, etc. Azure deployments do not support dividing these two layers between on-premises and Azure.</span><span class="sxs-lookup"><span data-stu-id="035f4-126">**SAP System:** The combination of DBMS layer and application layer of an SAP ERP development system, SAP BW test system, SAP CRM production system, etc. Azure deployments do not support dividing these two layers between on-premises and Azure.</span></span> <span data-ttu-id="035f4-127">This means an SAP system is either deployed on-premises, or it is deployed in Azure.</span><span class="sxs-lookup"><span data-stu-id="035f4-127">This means an SAP system is either deployed on-premises, or it is deployed in Azure.</span></span> <span data-ttu-id="035f4-128">However, you can deploy the different systems of an SAP landscape into either Azure or on-premises.</span><span class="sxs-lookup"><span data-stu-id="035f4-128">However, you can deploy the different systems of an SAP landscape into either Azure or on-premises.</span></span> <span data-ttu-id="035f4-129">For example, you could deploy the SAP CRM development and test systems in Azure, while deploying the SAP CRM production system on-premises.</span><span class="sxs-lookup"><span data-stu-id="035f4-129">For example, you could deploy the SAP CRM development and test systems in Azure, while deploying the SAP CRM production system on-premises.</span></span> <span data-ttu-id="035f4-130">In the case of SAP HANA on Azure (Large Instances), it is supported to run the SAP application layer of SAP systems in Azure VMs and the HANA instance on a unit in the Large Instance stamp.</span><span class="sxs-lookup"><span data-stu-id="035f4-130">In the case of SAP HANA on Azure (Large Instances), it is supported to run the SAP application layer of SAP systems in Azure VMs and the HANA instance on a unit in the Large Instance stamp.</span></span>
- <span data-ttu-id="035f4-131">**Large Instance stamp:** A hardware infrastructure stack that is SAP HANA TDI certified and dedicated to run SAP HANA instances within Azure.</span><span class="sxs-lookup"><span data-stu-id="035f4-131">**Large Instance stamp:** A hardware infrastructure stack that is SAP HANA TDI certified and dedicated to run SAP HANA instances within Azure.</span></span>
- <span data-ttu-id="035f4-132">**SAP HANA on Azure (Large Instances):** Official name for the offer in Azure to run HANA instances in on SAP HANA TDI certified hardware that is deployed in Large Instance stamps in different Azure regions.</span><span class="sxs-lookup"><span data-stu-id="035f4-132">**SAP HANA on Azure (Large Instances):** Official name for the offer in Azure to run HANA instances in on SAP HANA TDI certified hardware that is deployed in Large Instance stamps in different Azure regions.</span></span> <span data-ttu-id="035f4-133">The related term **HANA Large Instances** is short for SAP HANA on Azure (Large Instances) and is widely used this technical deployment guide.</span><span class="sxs-lookup"><span data-stu-id="035f4-133">The related term **HANA Large Instances** is short for SAP HANA on Azure (Large Instances) and is widely used this technical deployment guide.</span></span>
- <span data-ttu-id="035f4-134">**Cross-Premises:** Describes a scenario where VMs are deployed to an Azure subscription that has site-to-site, multi-site or ExpressRoute connectivity between the on-premises datacenter(s) and Azure.</span><span class="sxs-lookup"><span data-stu-id="035f4-134">**Cross-Premises:** Describes a scenario where VMs are deployed to an Azure subscription that has site-to-site, multi-site or ExpressRoute connectivity between the on-premises datacenter(s) and Azure.</span></span> <span data-ttu-id="035f4-135">In common Azure documentation, these kinds of deployments are also described as Cross-Premises scenarios.</span><span class="sxs-lookup"><span data-stu-id="035f4-135">In common Azure documentation, these kinds of deployments are also described as Cross-Premises scenarios.</span></span> <span data-ttu-id="035f4-136">The reason for the connection is to extend on-premises domains, on-premises Active Directory/OpenLDAP, and on-premises DNS into Azure.</span><span class="sxs-lookup"><span data-stu-id="035f4-136">The reason for the connection is to extend on-premises domains, on-premises Active Directory/OpenLDAP, and on-premises DNS into Azure.</span></span> <span data-ttu-id="035f4-137">The on-premises landscape is extended to the Azure assets of the subscription.</span><span class="sxs-lookup"><span data-stu-id="035f4-137">The on-premises landscape is extended to the Azure assets of the subscription.</span></span> <span data-ttu-id="035f4-138">Having this extension, the VMs can be part of the on-premises domain.</span><span class="sxs-lookup"><span data-stu-id="035f4-138">Having this extension, the VMs can be part of the on-premises domain.</span></span> <span data-ttu-id="035f4-139">Domain users of the on-premises domain can access the servers and can run services on those VMs (like DBMS services).</span><span class="sxs-lookup"><span data-stu-id="035f4-139">Domain users of the on-premises domain can access the servers and can run services on those VMs (like DBMS services).</span></span> <span data-ttu-id="035f4-140">Communication and name resolution between VMs deployed on-premises and Azure deployed VMs is possible.</span><span class="sxs-lookup"><span data-stu-id="035f4-140">Communication and name resolution between VMs deployed on-premises and Azure deployed VMs is possible.</span></span> <span data-ttu-id="035f4-141">This is the typical scenario in which most SAP assets will be deployed.</span><span class="sxs-lookup"><span data-stu-id="035f4-141">This is the typical scenario in which most SAP assets will be deployed.</span></span> <span data-ttu-id="035f4-142">See [Planning and design for VPN Gateway](../../../vpn-gateway/vpn-gateway-plan-design.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) and [Create a VNet with a Site-to-Site connection using the Azure portal](../../../vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) for more information.</span><span class="sxs-lookup"><span data-stu-id="035f4-142">See [Planning and design for VPN Gateway](../../../vpn-gateway/vpn-gateway-plan-design.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) and [Create a VNet with a Site-to-Site connection using the Azure portal](../../../vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) for more information.</span></span>

<span data-ttu-id="035f4-143">There are a variety of additional resources that have been published on the topic of deploying SAP workload on Microsoft Azure public cloud.</span><span class="sxs-lookup"><span data-stu-id="035f4-143">There are a variety of additional resources that have been published on the topic of deploying SAP workload on Microsoft Azure public cloud.</span></span> <span data-ttu-id="035f4-144">It is highly recommended that anyone planning a deployment of SAP HANA in Azure be experienced and aware of the principals of Azure IaaS, and the deployment of SAP workloads on Azure IaaS.</span><span class="sxs-lookup"><span data-stu-id="035f4-144">It is highly recommended that anyone planning a deployment of SAP HANA in Azure be experienced and aware of the principals of Azure IaaS, and the deployment of SAP workloads on Azure IaaS.</span></span> <span data-ttu-id="035f4-145">The following resources provide more information and should be referenced before continuing:</span><span class="sxs-lookup"><span data-stu-id="035f4-145">The following resources provide more information and should be referenced before continuing:</span></span>


- [<span data-ttu-id="035f4-146">Using SAP solutions on Microsoft Azure virtual machines</span><span class="sxs-lookup"><span data-stu-id="035f4-146">Using SAP solutions on Microsoft Azure virtual machines</span></span>](get-started.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)

## <a name="certification"></a><span data-ttu-id="035f4-147">Certification</span><span class="sxs-lookup"><span data-stu-id="035f4-147">Certification</span></span>

<span data-ttu-id="035f4-148">Besides the NetWeaver certification, SAP requires a special certification for SAP HANA to support SAP HANA on certain infrastructures, such as Azure IaaS.</span><span class="sxs-lookup"><span data-stu-id="035f4-148">Besides the NetWeaver certification, SAP requires a special certification for SAP HANA to support SAP HANA on certain infrastructures, such as Azure IaaS.</span></span>

<span data-ttu-id="035f4-149">The core SAP Note on NetWeaver, and to a degree SAP HANA certification, is [SAP Note #1928533 – SAP Applications on Azure: Supported Products and Azure VM types](https://launchpad.support.sap.com/#/notes/1928533).</span><span class="sxs-lookup"><span data-stu-id="035f4-149">The core SAP Note on NetWeaver, and to a degree SAP HANA certification, is [SAP Note #1928533 – SAP Applications on Azure: Supported Products and Azure VM types](https://launchpad.support.sap.com/#/notes/1928533).</span></span>

<span data-ttu-id="035f4-150">This [SAP Note #2316233 - SAP HANA on Microsoft Azure (Large Instances)](https://launchpad.support.sap.com/#/notes/2316233/E) is also significant.</span><span class="sxs-lookup"><span data-stu-id="035f4-150">This [SAP Note #2316233 - SAP HANA on Microsoft Azure (Large Instances)](https://launchpad.support.sap.com/#/notes/2316233/E) is also significant.</span></span> <span data-ttu-id="035f4-151">It covers the solution described in this guide.</span><span class="sxs-lookup"><span data-stu-id="035f4-151">It covers the solution described in this guide.</span></span> <span data-ttu-id="035f4-152">Additionally, you are supported to run SAP HANA in the GS5 VM type of Azure.</span><span class="sxs-lookup"><span data-stu-id="035f4-152">Additionally, you are supported to run SAP HANA in the GS5 VM type of Azure.</span></span> <span data-ttu-id="035f4-153">[Information for this case is published on the SAP website](http://global.sap.com/community/ebook/2014-09-02-hana-hardware/enEN/iaas.html).</span><span class="sxs-lookup"><span data-stu-id="035f4-153">[Information for this case is published on the SAP website](http://global.sap.com/community/ebook/2014-09-02-hana-hardware/enEN/iaas.html).</span></span>

<span data-ttu-id="035f4-154">The SAP HANA on Azure (Large Instances) solution referred to in SAP Note #2316233 provides Microsoft and SAP customers the ability to deploy large SAP Business Suite, SAP Business Warehouse (BW), S/4 HANA, BW/4HANA, or other SAP HANA workloads in Azure.</span><span class="sxs-lookup"><span data-stu-id="035f4-154">The SAP HANA on Azure (Large Instances) solution referred to in SAP Note #2316233 provides Microsoft and SAP customers the ability to deploy large SAP Business Suite, SAP Business Warehouse (BW), S/4 HANA, BW/4HANA, or other SAP HANA workloads in Azure.</span></span> <span data-ttu-id="035f4-155">This is based on the SAP-HANA certified dedicated hardware stamp ([SAP HANA Tailored Datacenter Integration – TDI](https://scn.sap.com/docs/DOC-63140)).</span><span class="sxs-lookup"><span data-stu-id="035f4-155">This is based on the SAP-HANA certified dedicated hardware stamp ([SAP HANA Tailored Datacenter Integration – TDI](https://scn.sap.com/docs/DOC-63140)).</span></span> <span data-ttu-id="035f4-156">Running as an SAP TDI configured solution provides you with the confidence of knowing that all SAP HANA-based applications (including SAP Business Suite on SAP HANA, SAP Business Warehouse (BW) on SAP HANA, S4/HANA and BW4/HANA) will work.</span><span class="sxs-lookup"><span data-stu-id="035f4-156">Running as an SAP TDI configured solution provides you with the confidence of knowing that all SAP HANA-based applications (including SAP Business Suite on SAP HANA, SAP Business Warehouse (BW) on SAP HANA, S4/HANA and BW4/HANA) will work.</span></span>

<span data-ttu-id="035f4-157">Compared to running SAP HANA in Azure Virtual Machines this solution has a benefit—it provides for much larger memory volumes.</span><span class="sxs-lookup"><span data-stu-id="035f4-157">Compared to running SAP HANA in Azure Virtual Machines this solution has a benefit—it provides for much larger memory volumes.</span></span> <span data-ttu-id="035f4-158">If you want to enable this solution, there are some key aspects to understand:</span><span class="sxs-lookup"><span data-stu-id="035f4-158">If you want to enable this solution, there are some key aspects to understand:</span></span>

- <span data-ttu-id="035f4-159">The SAP application layer and non-SAP applications run in Azure Virtual Machines (VMs) that are hosted in the usual Azure hardware stamps.</span><span class="sxs-lookup"><span data-stu-id="035f4-159">The SAP application layer and non-SAP applications run in Azure Virtual Machines (VMs) that are hosted in the usual Azure hardware stamps.</span></span>
- <span data-ttu-id="035f4-160">Customer on-premises infrastructure, datacenters and application deployments are connected to the Microsoft Azure cloud platform through Azure ExpressRoute (recommended) or Virtual Private Network (VPN).</span><span class="sxs-lookup"><span data-stu-id="035f4-160">Customer on-premises infrastructure, datacenters and application deployments are connected to the Microsoft Azure cloud platform through Azure ExpressRoute (recommended) or Virtual Private Network (VPN).</span></span> <span data-ttu-id="035f4-161">Active Directory (AD) and DNS are also extended into Azure.</span><span class="sxs-lookup"><span data-stu-id="035f4-161">Active Directory (AD) and DNS are also extended into Azure.</span></span>
- <span data-ttu-id="035f4-162">The SAP HANA database instance for HANA workload runs on SAP HANA on Azure (Large Instances).</span><span class="sxs-lookup"><span data-stu-id="035f4-162">The SAP HANA database instance for HANA workload runs on SAP HANA on Azure (Large Instances).</span></span> <span data-ttu-id="035f4-163">The Large Instance stamp is connected into Azure networking, so software running in Azure VMs can interact with the HANA instance running in HANA Large Instances.</span><span class="sxs-lookup"><span data-stu-id="035f4-163">The Large Instance stamp is connected into Azure networking, so software running in Azure VMs can interact with the HANA instance running in HANA Large Instances.</span></span>
- <span data-ttu-id="035f4-164">Hardware of SAP HANA on Azure (Large Instances) is dedicated hardware provided in an Infrastructure as a Service (IaaS) with SUSE Linux Enterprise Server, or Red Hat Enterprise Linux, pre-installed.</span><span class="sxs-lookup"><span data-stu-id="035f4-164">Hardware of SAP HANA on Azure (Large Instances) is dedicated hardware provided in an Infrastructure as a Service (IaaS) with SUSE Linux Enterprise Server, or Red Hat Enterprise Linux, pre-installed.</span></span> <span data-ttu-id="035f4-165">As with Azure Virtual Machines, further updates and maintenance to the operating system is your responsibility.</span><span class="sxs-lookup"><span data-stu-id="035f4-165">As with Azure Virtual Machines, further updates and maintenance to the operating system is your responsibility.</span></span>
- <span data-ttu-id="035f4-166">Installation of HANA or any additional components necessary to run SAP HANA on units of HANA Large instances is your responsibility, as is all respective ongoing operations and administrations of SAP HANA on Azure.</span><span class="sxs-lookup"><span data-stu-id="035f4-166">Installation of HANA or any additional components necessary to run SAP HANA on units of HANA Large instances is your responsibility, as is all respective ongoing operations and administrations of SAP HANA on Azure.</span></span>
- <span data-ttu-id="035f4-167">In addition to the solutions described here, you can install other components in your Azure subscription that connects to SAP HANA on Azure (Large Instances).</span><span class="sxs-lookup"><span data-stu-id="035f4-167">In addition to the solutions described here, you can install other components in your Azure subscription that connects to SAP HANA on Azure (Large Instances).</span></span>  <span data-ttu-id="035f4-168">For example, components that enable communication with and/or directly to the SAP HANA database (jump servers, RDP servers, SAP HANA Studio, SAP Data Services for SAP BI scenarios, or network monitoring solutions).</span><span class="sxs-lookup"><span data-stu-id="035f4-168">For example, components that enable communication with and/or directly to the SAP HANA database (jump servers, RDP servers, SAP HANA Studio, SAP Data Services for SAP BI scenarios, or network monitoring solutions).</span></span>
- <span data-ttu-id="035f4-169">As in Azure, HANA Large Instances offer supporting High Availability and Disaster Recovery enabling functionalities.</span><span class="sxs-lookup"><span data-stu-id="035f4-169">As in Azure, HANA Large Instances offer supporting High Availability and Disaster Recovery enabling functionalities.</span></span>

## <a name="architecture"></a><span data-ttu-id="035f4-170">Architecture</span><span class="sxs-lookup"><span data-stu-id="035f4-170">Architecture</span></span>

<span data-ttu-id="035f4-171">At a high-level, the SAP HANA on Azure (Large Instances) solution has the SAP application layer residing in Azure VMs and the database layer residing on SAP TDI configured hardware located in a Large Instance stamp in the same Azure Region that is connected to Azure IaaS.</span><span class="sxs-lookup"><span data-stu-id="035f4-171">At a high-level, the SAP HANA on Azure (Large Instances) solution has the SAP application layer residing in Azure VMs and the database layer residing on SAP TDI configured hardware located in a Large Instance stamp in the same Azure Region that is connected to Azure IaaS.</span></span>

> [!NOTE]
> <span data-ttu-id="035f4-172">The SAP application layer needs to be deployed in the same Azure Region with the SAP DBMS layer.</span><span class="sxs-lookup"><span data-stu-id="035f4-172">The SAP application layer needs to be deployed in the same Azure Region with the SAP DBMS layer.</span></span> <span data-ttu-id="035f4-173">This is well-documented in published information about SAP workload on Azure.</span><span class="sxs-lookup"><span data-stu-id="035f4-173">This is well-documented in published information about SAP workload on Azure.</span></span>

<span data-ttu-id="035f4-174">The overall architecture of SAP HANA on Azure (Large Instances) provides an SAP TDI certified hardware configuration (non-virtualized, bare metal, high-performance server for the SAP HANA database), and the ability and flexibility of Azure to scale resources for the SAP application layer to meet your needs.</span><span class="sxs-lookup"><span data-stu-id="035f4-174">The overall architecture of SAP HANA on Azure (Large Instances) provides an SAP TDI certified hardware configuration (non-virtualized, bare metal, high-performance server for the SAP HANA database), and the ability and flexibility of Azure to scale resources for the SAP application layer to meet your needs.</span></span>

![Architectural overview of SAP HANA on Azure (Large Instances)](https://docstestmedia1.blob.core.windows.net/azure-media/articles/virtual-machines/workloads/sap/media/hana-overview-architecture/image1-architecture.png)

<span data-ttu-id="035f4-176">The above architecture is divided into three sections:</span><span class="sxs-lookup"><span data-stu-id="035f4-176">The above architecture is divided into three sections:</span></span>

- <span data-ttu-id="035f4-177">**Right:** An on-premises infrastructure running different applications in datacenters with end users accessing LOB applications (like SAP).</span><span class="sxs-lookup"><span data-stu-id="035f4-177">**Right:** An on-premises infrastructure running different applications in datacenters with end users accessing LOB applications (like SAP).</span></span> <span data-ttu-id="035f4-178">Ideally, this on-premises infrastructure is then connected to Azure with Azure [ExpressRoute](https://azure.microsoft.com/services/expressroute/).</span><span class="sxs-lookup"><span data-stu-id="035f4-178">Ideally, this on-premises infrastructure is then connected to Azure with Azure [ExpressRoute](https://azure.microsoft.com/services/expressroute/).</span></span>

- <span data-ttu-id="035f4-179">**Center:** Shows Azure IaaS and, in this case, use of Azure VMs to host SAP or other applications that leverage SAP HANA as a DBMS system.</span><span class="sxs-lookup"><span data-stu-id="035f4-179">**Center:** Shows Azure IaaS and, in this case, use of Azure VMs to host SAP or other applications that leverage SAP HANA as a DBMS system.</span></span> <span data-ttu-id="035f4-180">Smaller HANA instances that function with the memory Azure VMs provide are deployed in Azure VMs together with their application layer.</span><span class="sxs-lookup"><span data-stu-id="035f4-180">Smaller HANA instances that function with the memory Azure VMs provide are deployed in Azure VMs together with their application layer.</span></span> <span data-ttu-id="035f4-181">Find out more about [Virtual Machines](https://azure.microsoft.com/services/virtual-machines/).</span><span class="sxs-lookup"><span data-stu-id="035f4-181">Find out more about [Virtual Machines](https://azure.microsoft.com/services/virtual-machines/).</span></span>
<br /><span data-ttu-id="035f4-182">Azure Networking is used to group SAP systems together with other applications into Azure Virtual Networks (VNets).</span><span class="sxs-lookup"><span data-stu-id="035f4-182">Azure Networking is used to group SAP systems together with other applications into Azure Virtual Networks (VNets).</span></span> <span data-ttu-id="035f4-183">These VNets connect to on-premises systems as well as to SAP HANA on Azure (Large Instances).</span><span class="sxs-lookup"><span data-stu-id="035f4-183">These VNets connect to on-premises systems as well as to SAP HANA on Azure (Large Instances).</span></span>
<br /><span data-ttu-id="035f4-184">For SAP NetWeaver applications and databases that are supported to run in Microsoft Azure, see [SAP Support Note #1928533 – SAP Applications on Azure: Supported Products and Azure VM types](https://launchpad.support.sap.com/#/notes/1928533).</span><span class="sxs-lookup"><span data-stu-id="035f4-184">For SAP NetWeaver applications and databases that are supported to run in Microsoft Azure, see [SAP Support Note #1928533 – SAP Applications on Azure: Supported Products and Azure VM types](https://launchpad.support.sap.com/#/notes/1928533).</span></span> <span data-ttu-id="035f4-185">For documentation on deploying SAP solutions on Azure please review:</span><span class="sxs-lookup"><span data-stu-id="035f4-185">For documentation on deploying SAP solutions on Azure please review:</span></span>

  -  [<span data-ttu-id="035f4-186">Using SAP on Windows virtual machines (VMs)</span><span class="sxs-lookup"><span data-stu-id="035f4-186">Using SAP on Windows virtual machines (VMs)</span></span>](../../virtual-machines-windows-sap-get-started.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
  -  [<span data-ttu-id="035f4-187">Using SAP solutions on Microsoft Azure virtual machines</span><span class="sxs-lookup"><span data-stu-id="035f4-187">Using SAP solutions on Microsoft Azure virtual machines</span></span>](get-started.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)

- <span data-ttu-id="035f4-188">**Left:** Shows the SAP HANA TDI certified hardware in the Azure Large Instance stamp.</span><span class="sxs-lookup"><span data-stu-id="035f4-188">**Left:** Shows the SAP HANA TDI certified hardware in the Azure Large Instance stamp.</span></span> <span data-ttu-id="035f4-189">The HANA Large Instance units are connected to the Azure VNets of your subscription using the same technology as the connectivity from on-premises into Azure.</span><span class="sxs-lookup"><span data-stu-id="035f4-189">The HANA Large Instance units are connected to the Azure VNets of your subscription using the same technology as the connectivity from on-premises into Azure.</span></span>

<span data-ttu-id="035f4-190">The Azure Large Instance stamp itself combines the following components:</span><span class="sxs-lookup"><span data-stu-id="035f4-190">The Azure Large Instance stamp itself combines the following components:</span></span>

- <span data-ttu-id="035f4-191">**Computing:**  Servers that are based on Intel Xeon E7-8890v3 processors that provide the necessary computing capability and are SAP HANA certified.</span><span class="sxs-lookup"><span data-stu-id="035f4-191">**Computing:**  Servers that are based on Intel Xeon E7-8890v3 processors that provide the necessary computing capability and are SAP HANA certified.</span></span>
- <span data-ttu-id="035f4-192">**Network:**  A unified high-speed network fabric that interconnects the computing, storage, and LAN components.</span><span class="sxs-lookup"><span data-stu-id="035f4-192">**Network:**  A unified high-speed network fabric that interconnects the computing, storage, and LAN components.</span></span>
- <span data-ttu-id="035f4-193">**Storage:**  A storage infrastructure that is accessed through a unified network fabric.</span><span class="sxs-lookup"><span data-stu-id="035f4-193">**Storage:**  A storage infrastructure that is accessed through a unified network fabric.</span></span> <span data-ttu-id="035f4-194">Specific storage capacity is provided depending on the specific SAP HANA on Azure (Large Instances) configuration being deployed (more storage capacity is available at an additional monthly cost).</span><span class="sxs-lookup"><span data-stu-id="035f4-194">Specific storage capacity is provided depending on the specific SAP HANA on Azure (Large Instances) configuration being deployed (more storage capacity is available at an additional monthly cost).</span></span>

<span data-ttu-id="035f4-195">Within the multi-tenant infrastructure of the Large Instance stamp, customers are deployed as isolated tenants.</span><span class="sxs-lookup"><span data-stu-id="035f4-195">Within the multi-tenant infrastructure of the Large Instance stamp, customers are deployed as isolated tenants.</span></span> <span data-ttu-id="035f4-196">These tenants have a 1:1 relationship to the Azure subscription.</span><span class="sxs-lookup"><span data-stu-id="035f4-196">These tenants have a 1:1 relationship to the Azure subscription.</span></span> <span data-ttu-id="035f4-197">This means you can&#39;t access the same instance of SAP HANA on Azure (Large Instances) that runs in an Azure Large Instance stamp out of two different Azure subscriptions.</span><span class="sxs-lookup"><span data-stu-id="035f4-197">This means you can&#39;t access the same instance of SAP HANA on Azure (Large Instances) that runs in an Azure Large Instance stamp out of two different Azure subscriptions.</span></span>

<span data-ttu-id="035f4-198">As with Azure VMs, SAP HANA on Azure (Large Instances) is offered in multiple Azure regions.</span><span class="sxs-lookup"><span data-stu-id="035f4-198">As with Azure VMs, SAP HANA on Azure (Large Instances) is offered in multiple Azure regions.</span></span> <span data-ttu-id="035f4-199">In order to offer Disaster Recovery capabilities, you can choose to opt in.</span><span class="sxs-lookup"><span data-stu-id="035f4-199">In order to offer Disaster Recovery capabilities, you can choose to opt in.</span></span> <span data-ttu-id="035f4-200">Different Large Instance stamps in the various Azure regions are connected to each other.</span><span class="sxs-lookup"><span data-stu-id="035f4-200">Different Large Instance stamps in the various Azure regions are connected to each other.</span></span>

<span data-ttu-id="035f4-201">Just as you can choose between different VM types with Azure Virtual Machines, you can choose from different SKUs of HANA Large Instances that are tailored for different workload types of SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="035f4-201">Just as you can choose between different VM types with Azure Virtual Machines, you can choose from different SKUs of HANA Large Instances that are tailored for different workload types of SAP HANA.</span></span> <span data-ttu-id="035f4-202">SAP applies memory to processor socket ratios for varying workloads based on the Intel processor generations—there are four different SKU types offered:</span><span class="sxs-lookup"><span data-stu-id="035f4-202">SAP applies memory to processor socket ratios for varying workloads based on the Intel processor generations—there are four different SKU types offered:</span></span>

<span data-ttu-id="035f4-203">As of December 2016, SAP HANA on Azure (Large Instances) is available in six configurations in the Azure Regions of US West and US East:</span><span class="sxs-lookup"><span data-stu-id="035f4-203">As of December 2016, SAP HANA on Azure (Large Instances) is available in six configurations in the Azure Regions of US West and US East:</span></span>

| <span data-ttu-id="035f4-204">SAP Solution</span><span class="sxs-lookup"><span data-stu-id="035f4-204">SAP Solution</span></span> | <span data-ttu-id="035f4-205">CPU</span><span class="sxs-lookup"><span data-stu-id="035f4-205">CPU</span></span> | <span data-ttu-id="035f4-206">RAM</span><span class="sxs-lookup"><span data-stu-id="035f4-206">RAM</span></span> | <span data-ttu-id="035f4-207">Storage</span><span class="sxs-lookup"><span data-stu-id="035f4-207">Storage</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="035f4-208">Optimized for OLAP: SAP BW, BW/4HANA</span><span class="sxs-lookup"><span data-stu-id="035f4-208">Optimized for OLAP: SAP BW, BW/4HANA</span></span><br /> <span data-ttu-id="035f4-209">or SAP HANA for generic OLAP workload</span><span class="sxs-lookup"><span data-stu-id="035f4-209">or SAP HANA for generic OLAP workload</span></span> | <span data-ttu-id="035f4-210">SAP HANA on Azure S72</span><span class="sxs-lookup"><span data-stu-id="035f4-210">SAP HANA on Azure S72</span></span><br /> <span data-ttu-id="035f4-211">– 2 x Intel® Xeon® Processor E7-8890 v3</span><span class="sxs-lookup"><span data-stu-id="035f4-211">– 2 x Intel® Xeon® Processor E7-8890 v3</span></span> |  <span data-ttu-id="035f4-212">768 GB</span><span class="sxs-lookup"><span data-stu-id="035f4-212">768 GB</span></span> |  <span data-ttu-id="035f4-213">3 TB</span><span class="sxs-lookup"><span data-stu-id="035f4-213">3 TB</span></span> |
| --- | <span data-ttu-id="035f4-214">SAP HANA on Azure S144</span><span class="sxs-lookup"><span data-stu-id="035f4-214">SAP HANA on Azure S144</span></span><br /> <span data-ttu-id="035f4-215">– 4 x Intel® Xeon® Processor E7-8890 v3</span><span class="sxs-lookup"><span data-stu-id="035f4-215">– 4 x Intel® Xeon® Processor E7-8890 v3</span></span> |  <span data-ttu-id="035f4-216">1.5 TB</span><span class="sxs-lookup"><span data-stu-id="035f4-216">1.5 TB</span></span> |  <span data-ttu-id="035f4-217">6 TB</span><span class="sxs-lookup"><span data-stu-id="035f4-217">6 TB</span></span> |
| --- | <span data-ttu-id="035f4-218">SAP HANA on Azure S192</span><span class="sxs-lookup"><span data-stu-id="035f4-218">SAP HANA on Azure S192</span></span><br /> <span data-ttu-id="035f4-219">– 4 x Intel® Xeon® Processor E7-8890 v4</span><span class="sxs-lookup"><span data-stu-id="035f4-219">– 4 x Intel® Xeon® Processor E7-8890 v4</span></span> |  <span data-ttu-id="035f4-220">2.0 TB</span><span class="sxs-lookup"><span data-stu-id="035f4-220">2.0 TB</span></span> |  <span data-ttu-id="035f4-221">8 TB</span><span class="sxs-lookup"><span data-stu-id="035f4-221">8 TB</span></span> |
| <span data-ttu-id="035f4-222">Optimized for OLTP: SAP Business Suite</span><span class="sxs-lookup"><span data-stu-id="035f4-222">Optimized for OLTP: SAP Business Suite</span></span><br /> <span data-ttu-id="035f4-223">on SAP HANA or S/4HANA (OLTP),</span><span class="sxs-lookup"><span data-stu-id="035f4-223">on SAP HANA or S/4HANA (OLTP),</span></span><br /> <span data-ttu-id="035f4-224">generic OLTP</span><span class="sxs-lookup"><span data-stu-id="035f4-224">generic OLTP</span></span> | <span data-ttu-id="035f4-225">SAP HANA on Azure S72m</span><span class="sxs-lookup"><span data-stu-id="035f4-225">SAP HANA on Azure S72m</span></span><br /> <span data-ttu-id="035f4-226">– 2 x Intel® Xeon® Processor E7-8890 v3</span><span class="sxs-lookup"><span data-stu-id="035f4-226">– 2 x Intel® Xeon® Processor E7-8890 v3</span></span> |  <span data-ttu-id="035f4-227">1.5 TB</span><span class="sxs-lookup"><span data-stu-id="035f4-227">1.5 TB</span></span> |  <span data-ttu-id="035f4-228">6 TB</span><span class="sxs-lookup"><span data-stu-id="035f4-228">6 TB</span></span> |
|---| <span data-ttu-id="035f4-229">SAP HANA on Azure S144m</span><span class="sxs-lookup"><span data-stu-id="035f4-229">SAP HANA on Azure S144m</span></span><br /> <span data-ttu-id="035f4-230">– 4 x Intel® Xeon® Processor E7-8890 v3</span><span class="sxs-lookup"><span data-stu-id="035f4-230">– 4 x Intel® Xeon® Processor E7-8890 v3</span></span> |  <span data-ttu-id="035f4-231">3.0 TB</span><span class="sxs-lookup"><span data-stu-id="035f4-231">3.0 TB</span></span> |  <span data-ttu-id="035f4-232">12 TB</span><span class="sxs-lookup"><span data-stu-id="035f4-232">12 TB</span></span> |
|---| <span data-ttu-id="035f4-233">SAP HANA on Azure S192m</span><span class="sxs-lookup"><span data-stu-id="035f4-233">SAP HANA on Azure S192m</span></span><br /> <span data-ttu-id="035f4-234">– 4 x Intel® Xeon® Processor E7-8890 v4</span><span class="sxs-lookup"><span data-stu-id="035f4-234">– 4 x Intel® Xeon® Processor E7-8890 v4</span></span> |  <span data-ttu-id="035f4-235">4.0 TB</span><span class="sxs-lookup"><span data-stu-id="035f4-235">4.0 TB</span></span> |  <span data-ttu-id="035f4-236">16 TB</span><span class="sxs-lookup"><span data-stu-id="035f4-236">16 TB</span></span> |

<span data-ttu-id="035f4-237">The different configurations above are referenced in [SAP Support Note #2316233 – SAP HANA on Microsoft Azure (Large Instances)](https://launchpad.support.sap.com/#/notes/2316233/E).</span><span class="sxs-lookup"><span data-stu-id="035f4-237">The different configurations above are referenced in [SAP Support Note #2316233 – SAP HANA on Microsoft Azure (Large Instances)](https://launchpad.support.sap.com/#/notes/2316233/E).</span></span>

<span data-ttu-id="035f4-238">The specific configurations chosen are dependent on workload, CPU resources, and desired memory.</span><span class="sxs-lookup"><span data-stu-id="035f4-238">The specific configurations chosen are dependent on workload, CPU resources, and desired memory.</span></span> <span data-ttu-id="035f4-239">It is possible for OLTP workload to leverage the SKUs that are optimized for OLAP workload.</span><span class="sxs-lookup"><span data-stu-id="035f4-239">It is possible for OLTP workload to leverage the SKUs that are optimized for OLAP workload.</span></span> <span data-ttu-id="035f4-240">Likewise, you can leverage OLTP SKUs for OLAP HANA workload.</span><span class="sxs-lookup"><span data-stu-id="035f4-240">Likewise, you can leverage OLTP SKUs for OLAP HANA workload.</span></span> <span data-ttu-id="035f4-241">Though you may need to restrict the memory leveraged by HANA to the memory certified with the Intel E7 processor generation as [listed on the SAP website](http://global12.sap.com/community/ebook/2014-09-02-hana-hardware/enEN/appliances.html) for the _Scale up BW on HANA_ appliance type</span><span class="sxs-lookup"><span data-stu-id="035f4-241">Though you may need to restrict the memory leveraged by HANA to the memory certified with the Intel E7 processor generation as [listed on the SAP website](http://global12.sap.com/community/ebook/2014-09-02-hana-hardware/enEN/appliances.html) for the _Scale up BW on HANA_ appliance type</span></span>

<span data-ttu-id="035f4-242">It is important to note that the complete infrastructure of the Large Instance stamp is not exclusively allocated for a single customer&#39;s use.</span><span class="sxs-lookup"><span data-stu-id="035f4-242">It is important to note that the complete infrastructure of the Large Instance stamp is not exclusively allocated for a single customer&#39;s use.</span></span> <span data-ttu-id="035f4-243">This applies to SAP HANA on Azure (Large Instances), just as it does with racks of compute and storage resources connected through a network fabric deployed in Azure.</span><span class="sxs-lookup"><span data-stu-id="035f4-243">This applies to SAP HANA on Azure (Large Instances), just as it does with racks of compute and storage resources connected through a network fabric deployed in Azure.</span></span> <span data-ttu-id="035f4-244">HANA Large Instances infrastructure, like Azure, deploys different customer &quot;tenants&quot; that are isolated from one another through network isolation.</span><span class="sxs-lookup"><span data-stu-id="035f4-244">HANA Large Instances infrastructure, like Azure, deploys different customer &quot;tenants&quot; that are isolated from one another through network isolation.</span></span> <span data-ttu-id="035f4-245">As such, these deployments of HANA Large Instances do not interfere with, nor are visible to, each other.</span><span class="sxs-lookup"><span data-stu-id="035f4-245">As such, these deployments of HANA Large Instances do not interfere with, nor are visible to, each other.</span></span> <span data-ttu-id="035f4-246">A deployed tenant in the Large Instance stamp is assigned to one Azure subscription.</span><span class="sxs-lookup"><span data-stu-id="035f4-246">A deployed tenant in the Large Instance stamp is assigned to one Azure subscription.</span></span> <span data-ttu-id="035f4-247">If you have a second Azure subscription that also requires HANA Large Instances, it would be deployed in a separate tenant in a Large Instance stamp with all of the isolation in the networking that prevents direct communication between these instances.</span><span class="sxs-lookup"><span data-stu-id="035f4-247">If you have a second Azure subscription that also requires HANA Large Instances, it would be deployed in a separate tenant in a Large Instance stamp with all of the isolation in the networking that prevents direct communication between these instances.</span></span>

<span data-ttu-id="035f4-248">However, there are significant differences between running SAP HANA on HANA Large Instances and SAP HANA running on Azure VMs deployed in Azure:</span><span class="sxs-lookup"><span data-stu-id="035f4-248">However, there are significant differences between running SAP HANA on HANA Large Instances and SAP HANA running on Azure VMs deployed in Azure:</span></span>

- <span data-ttu-id="035f4-249">There is no virtualization layer for SAP HANA on Azure (Large Instances).</span><span class="sxs-lookup"><span data-stu-id="035f4-249">There is no virtualization layer for SAP HANA on Azure (Large Instances).</span></span> <span data-ttu-id="035f4-250">You get the performance of the underlying bare metal hardware.</span><span class="sxs-lookup"><span data-stu-id="035f4-250">You get the performance of the underlying bare metal hardware.</span></span>
- <span data-ttu-id="035f4-251">Unlike Azure, the SAP HANA on Azure (Large Instances) server is dedicated to a specific customer.</span><span class="sxs-lookup"><span data-stu-id="035f4-251">Unlike Azure, the SAP HANA on Azure (Large Instances) server is dedicated to a specific customer.</span></span> <span data-ttu-id="035f4-252">A reboot or shutdown of the server does not lead to the operating system and SAP HANA being deployed on another server.</span><span class="sxs-lookup"><span data-stu-id="035f4-252">A reboot or shutdown of the server does not lead to the operating system and SAP HANA being deployed on another server.</span></span> <span data-ttu-id="035f4-253">(The only exception to this is when a server might encounter issues and redeployment needs to be performed on another blade.)</span><span class="sxs-lookup"><span data-stu-id="035f4-253">(The only exception to this is when a server might encounter issues and redeployment needs to be performed on another blade.)</span></span>
- <span data-ttu-id="035f4-254">Unlike Azure, where host processor types are selected for the best price/performance ratio, the processor types chosen for SAP HANA on Azure (Large Instances) are the highest performing of the Intel E7v3 processor line.</span><span class="sxs-lookup"><span data-stu-id="035f4-254">Unlike Azure, where host processor types are selected for the best price/performance ratio, the processor types chosen for SAP HANA on Azure (Large Instances) are the highest performing of the Intel E7v3 processor line.</span></span>

<span data-ttu-id="035f4-255">There will be multiple customers deploying on SAP HANA on Azure (Large Instances) hardware, and each is shielded from one another by deploying in their own VLANs.</span><span class="sxs-lookup"><span data-stu-id="035f4-255">There will be multiple customers deploying on SAP HANA on Azure (Large Instances) hardware, and each is shielded from one another by deploying in their own VLANs.</span></span> <span data-ttu-id="035f4-256">In order to connect HANA Large Instances into an Azure Virtual Network (VNet), the networking components in place perform network address translation (NAT) between the Azure VNet IP address range and the VLAN IP address space within the hardware infrastructure.</span><span class="sxs-lookup"><span data-stu-id="035f4-256">In order to connect HANA Large Instances into an Azure Virtual Network (VNet), the networking components in place perform network address translation (NAT) between the Azure VNet IP address range and the VLAN IP address space within the hardware infrastructure.</span></span>

## <a name="operations-model-and-responsibilities"></a><span data-ttu-id="035f4-257">Operations model and responsibilities</span><span class="sxs-lookup"><span data-stu-id="035f4-257">Operations model and responsibilities</span></span>

<span data-ttu-id="035f4-258">The service provided with SAP HANA on Azure (Large Instances) is aligned with Azure IaaS services.</span><span class="sxs-lookup"><span data-stu-id="035f4-258">The service provided with SAP HANA on Azure (Large Instances) is aligned with Azure IaaS services.</span></span> <span data-ttu-id="035f4-259">You get an HANA Large Instances instance with an installed operating system that is optimized for SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="035f4-259">You get an HANA Large Instances instance with an installed operating system that is optimized for SAP HANA.</span></span> <span data-ttu-id="035f4-260">As with Azure IaaS VMs, most of the tasks of hardening the OS, installing additional software you need, installing HANA, operating the OS and HANA, and updating the OS and HANA is your responsibility.</span><span class="sxs-lookup"><span data-stu-id="035f4-260">As with Azure IaaS VMs, most of the tasks of hardening the OS, installing additional software you need, installing HANA, operating the OS and HANA, and updating the OS and HANA is your responsibility.</span></span> <span data-ttu-id="035f4-261">Microsoft will not force OS updates or HANA updates on you.</span><span class="sxs-lookup"><span data-stu-id="035f4-261">Microsoft will not force OS updates or HANA updates on you.</span></span>

![Responsibilities of SAP HANA on Azure (Large Instances)](https://docstestmedia1.blob.core.windows.net/azure-media/articles/virtual-machines/workloads/sap/media/hana-overview-architecture/image2-responsibilities.png)

<span data-ttu-id="035f4-263">As you can see in the diagram above, SAP HANA on Azure (Large Instances) is a multi-tenant Infrastructure as a Service offer.</span><span class="sxs-lookup"><span data-stu-id="035f4-263">As you can see in the diagram above, SAP HANA on Azure (Large Instances) is a multi-tenant Infrastructure as a Service offer.</span></span> <span data-ttu-id="035f4-264">And as a result, the division of responsibility is at the OS-Infrastructure boundary, for the most part.</span><span class="sxs-lookup"><span data-stu-id="035f4-264">And as a result, the division of responsibility is at the OS-Infrastructure boundary, for the most part.</span></span> <span data-ttu-id="035f4-265">Microsoft is responsible for all aspects of the service below the line of the operating system and you are responsible above the line, including the operating system.</span><span class="sxs-lookup"><span data-stu-id="035f4-265">Microsoft is responsible for all aspects of the service below the line of the operating system and you are responsible above the line, including the operating system.</span></span> <span data-ttu-id="035f4-266">So most current on-premises methods you may be employing for compliance, security, application management, basis and OS management can continue to be used.</span><span class="sxs-lookup"><span data-stu-id="035f4-266">So most current on-premises methods you may be employing for compliance, security, application management, basis and OS management can continue to be used.</span></span> <span data-ttu-id="035f4-267">The systems appear as if they are in your network in all regards.</span><span class="sxs-lookup"><span data-stu-id="035f4-267">The systems appear as if they are in your network in all regards.</span></span>

<span data-ttu-id="035f4-268">However, this service is optimized for SAP HANA, so there are areas where you and Microsoft need to work together to use the underlying infrastructure capabilities for best results.</span><span class="sxs-lookup"><span data-stu-id="035f4-268">However, this service is optimized for SAP HANA, so there are areas where you and Microsoft need to work together to use the underlying infrastructure capabilities for best results.</span></span>

<span data-ttu-id="035f4-269">The following list provides more detail on each of the layers and your responsibilities:</span><span class="sxs-lookup"><span data-stu-id="035f4-269">The following list provides more detail on each of the layers and your responsibilities:</span></span>

<span data-ttu-id="035f4-270">**Networking:** All the internal networks for in the Large Instance stamp running SAP HANA, its access to the storage, connectivity between the instances (for scale-out and other functions), connectivity to the landscape, and connectivity to Azure where the SAP application layer is hosted in Azure Virtual Machines.</span><span class="sxs-lookup"><span data-stu-id="035f4-270">**Networking:** All the internal networks for in the Large Instance stamp running SAP HANA, its access to the storage, connectivity between the instances (for scale-out and other functions), connectivity to the landscape, and connectivity to Azure where the SAP application layer is hosted in Azure Virtual Machines.</span></span> <span data-ttu-id="035f4-271">It also includes WAN connectivity between Azure Data Centers for Disaster Recovery purposes replication.</span><span class="sxs-lookup"><span data-stu-id="035f4-271">It also includes WAN connectivity between Azure Data Centers for Disaster Recovery purposes replication.</span></span> <span data-ttu-id="035f4-272">All networks are partitioned by the tenant and have QOS applied.</span><span class="sxs-lookup"><span data-stu-id="035f4-272">All networks are partitioned by the tenant and have QOS applied.</span></span>

<span data-ttu-id="035f4-273">**Storage:** The virtualized partitioned storage for all volumes needed by the SAP HANA servers, as well as for snapshots.</span><span class="sxs-lookup"><span data-stu-id="035f4-273">**Storage:** The virtualized partitioned storage for all volumes needed by the SAP HANA servers, as well as for snapshots.</span></span>

<span data-ttu-id="035f4-274">**Servers:** The dedicated physical servers to run the SAP HANA DBs assigned to tenants.</span><span class="sxs-lookup"><span data-stu-id="035f4-274">**Servers:** The dedicated physical servers to run the SAP HANA DBs assigned to tenants.</span></span> <span data-ttu-id="035f4-275">They are hardware virtualized.</span><span class="sxs-lookup"><span data-stu-id="035f4-275">They are hardware virtualized.</span></span>

<span data-ttu-id="035f4-276">**SDDC:** The management software that is used to manage the data centers as a software defined entity.</span><span class="sxs-lookup"><span data-stu-id="035f4-276">**SDDC:** The management software that is used to manage the data centers as a software defined entity.</span></span> <span data-ttu-id="035f4-277">It allows Microsoft to pool resources for scale, availability and performance reasons.</span><span class="sxs-lookup"><span data-stu-id="035f4-277">It allows Microsoft to pool resources for scale, availability and performance reasons.</span></span>

<span data-ttu-id="035f4-278">**O/S:** The OS you choose (SUSE Linux or Red Hat Linux) that is running on the servers.</span><span class="sxs-lookup"><span data-stu-id="035f4-278">**O/S:** The OS you choose (SUSE Linux or Red Hat Linux) that is running on the servers.</span></span> <span data-ttu-id="035f4-279">The OS images you are provided will be the images provided by the individual Linux vendor to Microsoft for the purpose of running SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="035f4-279">The OS images you are provided will be the images provided by the individual Linux vendor to Microsoft for the purpose of running SAP HANA.</span></span> <span data-ttu-id="035f4-280">You are required to have a subscription with the Linux vendor for the specific SAP HANA-optimized image.</span><span class="sxs-lookup"><span data-stu-id="035f4-280">You are required to have a subscription with the Linux vendor for the specific SAP HANA-optimized image.</span></span> <span data-ttu-id="035f4-281">Your responsibilities include registering the images with the OS vendor.</span><span class="sxs-lookup"><span data-stu-id="035f4-281">Your responsibilities include registering the images with the OS vendor.</span></span> <span data-ttu-id="035f4-282">From the point of handover by Microsoft, you are also responsible for any further patching of the Linux operating system.</span><span class="sxs-lookup"><span data-stu-id="035f4-282">From the point of handover by Microsoft, you are also responsible for any further patching of the Linux operating system.</span></span> <span data-ttu-id="035f4-283">This relates to additional packages that might be necessary for a successful SAP HANA installation (please refer to SAP's HANA installation documentation and SAP Notes) and which have not been included by the specific Linux vendor in their SAP HANA optimized OS images.</span><span class="sxs-lookup"><span data-stu-id="035f4-283">This relates to additional packages that might be necessary for a successful SAP HANA installation (please refer to SAP's HANA installation documentation and SAP Notes) and which have not been included by the specific Linux vendor in their SAP HANA optimized OS images.</span></span> <span data-ttu-id="035f4-284">The responsibility of the customer also includes patching of the OS that is related to malfunction/optimization of the OS and its drivers related to the specific server hardware.</span><span class="sxs-lookup"><span data-stu-id="035f4-284">The responsibility of the customer also includes patching of the OS that is related to malfunction/optimization of the OS and its drivers related to the specific server hardware.</span></span> <span data-ttu-id="035f4-285">Or any security or functional patching of the OS.</span><span class="sxs-lookup"><span data-stu-id="035f4-285">Or any security or functional patching of the OS.</span></span> <span data-ttu-id="035f4-286">Customer's responsibility is as well monitoring and capacity-planning of:</span><span class="sxs-lookup"><span data-stu-id="035f4-286">Customer's responsibility is as well monitoring and capacity-planning of:</span></span>

- <span data-ttu-id="035f4-287">CPU resource consumption</span><span class="sxs-lookup"><span data-stu-id="035f4-287">CPU resource consumption</span></span>
- <span data-ttu-id="035f4-288">Memory consumption</span><span class="sxs-lookup"><span data-stu-id="035f4-288">Memory consumption</span></span>
- <span data-ttu-id="035f4-289">Disk volumes related to free space, IOPS and latency</span><span class="sxs-lookup"><span data-stu-id="035f4-289">Disk volumes related to free space, IOPS and latency</span></span>
- <span data-ttu-id="035f4-290">Network volume traffic between HANA Large Instance and SAP application layer</span><span class="sxs-lookup"><span data-stu-id="035f4-290">Network volume traffic between HANA Large Instance and SAP application layer</span></span>

<span data-ttu-id="035f4-291">The underlying infrastructure of HANA Large Instances provides functionality for backup and restore of the OS volume.</span><span class="sxs-lookup"><span data-stu-id="035f4-291">The underlying infrastructure of HANA Large Instances provides functionality for backup and restore of the OS volume.</span></span> <span data-ttu-id="035f4-292">Leveraging this functionality is also your responsibility.</span><span class="sxs-lookup"><span data-stu-id="035f4-292">Leveraging this functionality is also your responsibility.</span></span>

<span data-ttu-id="035f4-293">**Middleware:** The SAP HANA Instance, primarily.</span><span class="sxs-lookup"><span data-stu-id="035f4-293">**Middleware:** The SAP HANA Instance, primarily.</span></span> <span data-ttu-id="035f4-294">Administration, operations and monitoring are your responsibility.</span><span class="sxs-lookup"><span data-stu-id="035f4-294">Administration, operations and monitoring are your responsibility.</span></span> <span data-ttu-id="035f4-295">There is functionality provided that enables you to use storage snapshots for backup/restore and Disaster Recovery purposes.</span><span class="sxs-lookup"><span data-stu-id="035f4-295">There is functionality provided that enables you to use storage snapshots for backup/restore and Disaster Recovery purposes.</span></span> <span data-ttu-id="035f4-296">These functionalities are provided by the infrastructure.</span><span class="sxs-lookup"><span data-stu-id="035f4-296">These functionalities are provided by the infrastructure.</span></span> <span data-ttu-id="035f4-297">However, your responsibilities also include architecting High Availability or Disaster Recovery with these functionalities, leveraging them, and monitoring that storage snapshots have been executed successfully.</span><span class="sxs-lookup"><span data-stu-id="035f4-297">However, your responsibilities also include architecting High Availability or Disaster Recovery with these functionalities, leveraging them, and monitoring that storage snapshots have been executed successfully.</span></span>

<span data-ttu-id="035f4-298">**Data:** Your data managed by SAP HANA, and other data such as backups files located on volumes or file shares.</span><span class="sxs-lookup"><span data-stu-id="035f4-298">**Data:** Your data managed by SAP HANA, and other data such as backups files located on volumes or file shares.</span></span> <span data-ttu-id="035f4-299">Your responsibilities include monitoring disk free space and managing the content on the volumes, and monitoring the successful execution of backups of disk volumes and storage snapshots.</span><span class="sxs-lookup"><span data-stu-id="035f4-299">Your responsibilities include monitoring disk free space and managing the content on the volumes, and monitoring the successful execution of backups of disk volumes and storage snapshots.</span></span> <span data-ttu-id="035f4-300">However, successful execution of data replication to DR sites is the responsibility of Microsoft.</span><span class="sxs-lookup"><span data-stu-id="035f4-300">However, successful execution of data replication to DR sites is the responsibility of Microsoft.</span></span>

<span data-ttu-id="035f4-301">**Applications:** The SAP application instances or, in case of non-SAP applications, the application layer of those applications.</span><span class="sxs-lookup"><span data-stu-id="035f4-301">**Applications:** The SAP application instances or, in case of non-SAP applications, the application layer of those applications.</span></span> <span data-ttu-id="035f4-302">Your responsibilities include deployment, administration, operations and monitoring of those applications related to capacity planning of CPU resource consumption, memory consumption, Azure Storage consumption and network bandwidth consumption within Azure VNets, and from Azure VNets to SAP HANA on Azure (Large Instances).</span><span class="sxs-lookup"><span data-stu-id="035f4-302">Your responsibilities include deployment, administration, operations and monitoring of those applications related to capacity planning of CPU resource consumption, memory consumption, Azure Storage consumption and network bandwidth consumption within Azure VNets, and from Azure VNets to SAP HANA on Azure (Large Instances).</span></span>

<span data-ttu-id="035f4-303">**WANs:** The connections you establish from premises to Azure deployments for workloads.</span><span class="sxs-lookup"><span data-stu-id="035f4-303">**WANs:** The connections you establish from premises to Azure deployments for workloads.</span></span> <span data-ttu-id="035f4-304">If the workloads are mission critical, use the Azure ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="035f4-304">If the workloads are mission critical, use the Azure ExpressRoute.</span></span> <span data-ttu-id="035f4-305">This connection is not part of the SAP HANA on Azure (Large Instances) solution, so you are responsible for the setup of this connection.</span><span class="sxs-lookup"><span data-stu-id="035f4-305">This connection is not part of the SAP HANA on Azure (Large Instances) solution, so you are responsible for the setup of this connection.</span></span>

<span data-ttu-id="035f4-306">**Archive:** You might prefer to archive copies of data using your own methods in storage accounts.</span><span class="sxs-lookup"><span data-stu-id="035f4-306">**Archive:** You might prefer to archive copies of data using your own methods in storage accounts.</span></span> <span data-ttu-id="035f4-307">This requires management, compliance, costs and operations.</span><span class="sxs-lookup"><span data-stu-id="035f4-307">This requires management, compliance, costs and operations.</span></span> <span data-ttu-id="035f4-308">You are responsible for generating archive copies and backups on Azure, and storing them in a compliant way.</span><span class="sxs-lookup"><span data-stu-id="035f4-308">You are responsible for generating archive copies and backups on Azure, and storing them in a compliant way.</span></span>

<span data-ttu-id="035f4-309">See the [SLA for SAP HANA on Azure (Large Instances)](https://azure.microsoft.com/support/legal/sla/sap-hana-large/v1_0/).</span><span class="sxs-lookup"><span data-stu-id="035f4-309">See the [SLA for SAP HANA on Azure (Large Instances)](https://azure.microsoft.com/support/legal/sla/sap-hana-large/v1_0/).</span></span>

## <a name="sizing"></a><span data-ttu-id="035f4-310">Sizing</span><span class="sxs-lookup"><span data-stu-id="035f4-310">Sizing</span></span>

<span data-ttu-id="035f4-311">Sizing for HANA Large Instances is no different than sizing for HANA in general.</span><span class="sxs-lookup"><span data-stu-id="035f4-311">Sizing for HANA Large Instances is no different than sizing for HANA in general.</span></span> <span data-ttu-id="035f4-312">For existing and deployed systems, you want to move from other RDBMS to HANA, SAP provides a number of reports that run on your existing SAP systems.</span><span class="sxs-lookup"><span data-stu-id="035f4-312">For existing and deployed systems, you want to move from other RDBMS to HANA, SAP provides a number of reports that run on your existing SAP systems.</span></span> <span data-ttu-id="035f4-313">They check the data and calculate table memory requirements if the database is moved to HANA.</span><span class="sxs-lookup"><span data-stu-id="035f4-313">They check the data and calculate table memory requirements if the database is moved to HANA.</span></span> <span data-ttu-id="035f4-314">Read the following SAP Notes to get more information on how to run these reports, and how to obtain their most recent patches/versions:</span><span class="sxs-lookup"><span data-stu-id="035f4-314">Read the following SAP Notes to get more information on how to run these reports, and how to obtain their most recent patches/versions:</span></span>

- <span data-ttu-id="035f4-315">SAP Note #1793345 - Sizing for SAP Suite on HANA</span><span class="sxs-lookup"><span data-stu-id="035f4-315">SAP Note #1793345 - Sizing for SAP Suite on HANA</span></span>
- <span data-ttu-id="035f4-316">SAP Note #1872170 - Suite on HANA and S/4 HANA sizing report</span><span class="sxs-lookup"><span data-stu-id="035f4-316">SAP Note #1872170 - Suite on HANA and S/4 HANA sizing report</span></span>
- <span data-ttu-id="035f4-317">SAP Note #2121330 - FAQ: SAP BW on HANA Sizing Report</span><span class="sxs-lookup"><span data-stu-id="035f4-317">SAP Note #2121330 - FAQ: SAP BW on HANA Sizing Report</span></span>
- <span data-ttu-id="035f4-318">SAP Note #1736976 - Sizing Report for BW on HANA</span><span class="sxs-lookup"><span data-stu-id="035f4-318">SAP Note #1736976 - Sizing Report for BW on HANA</span></span>
- <span data-ttu-id="035f4-319">SAP Note #2296290 - New Sizing Report for BW on HANA</span><span class="sxs-lookup"><span data-stu-id="035f4-319">SAP Note #2296290 - New Sizing Report for BW on HANA</span></span>

<span data-ttu-id="035f4-320">For green field implementations, SAP Quick Sizer is available to calculate memory requirements of the implementation of SAP software on top of HANA.</span><span class="sxs-lookup"><span data-stu-id="035f4-320">For green field implementations, SAP Quick Sizer is available to calculate memory requirements of the implementation of SAP software on top of HANA.</span></span>

<span data-ttu-id="035f4-321">Memory requirements for HANA will increase as data volume grows, so you will want to be aware of the memory consumption now and be able to predict what it will be in the future.</span><span class="sxs-lookup"><span data-stu-id="035f4-321">Memory requirements for HANA will increase as data volume grows, so you will want to be aware of the memory consumption now and be able to predict what it will be in the future.</span></span> <span data-ttu-id="035f4-322">Based on the memory requirements, you can then map your demand into one of the HANA Large Instance SKUs.</span><span class="sxs-lookup"><span data-stu-id="035f4-322">Based on the memory requirements, you can then map your demand into one of the HANA Large Instance SKUs.</span></span>

## <a name="requirements"></a><span data-ttu-id="035f4-323">Requirements</span><span class="sxs-lookup"><span data-stu-id="035f4-323">Requirements</span></span>

<span data-ttu-id="035f4-324">These are the requirements for running SAP HANA on Azure (Larger Instances).</span><span class="sxs-lookup"><span data-stu-id="035f4-324">These are the requirements for running SAP HANA on Azure (Larger Instances).</span></span>

<span data-ttu-id="035f4-325">**Microsoft Azure:**</span><span class="sxs-lookup"><span data-stu-id="035f4-325">**Microsoft Azure:**</span></span>

- <span data-ttu-id="035f4-326">An Azure subscription that can be linked to SAP HANA on Azure (Large Instances).</span><span class="sxs-lookup"><span data-stu-id="035f4-326">An Azure subscription that can be linked to SAP HANA on Azure (Large Instances).</span></span>
- <span data-ttu-id="035f4-327">Microsoft Premier Support Contract.</span><span class="sxs-lookup"><span data-stu-id="035f4-327">Microsoft Premier Support Contract.</span></span> <span data-ttu-id="035f4-328">See [SAP Support Note #2015553 – SAP on Microsoft Azure: Support Prerequisites](https://launchpad.support.sap.com/#/notes/2015553) for specific information related to running SAP in Azure.</span><span class="sxs-lookup"><span data-stu-id="035f4-328">See [SAP Support Note #2015553 – SAP on Microsoft Azure: Support Prerequisites](https://launchpad.support.sap.com/#/notes/2015553) for specific information related to running SAP in Azure.</span></span>
- <span data-ttu-id="035f4-329">Awareness of the HANA large instances SKUs you need after performing a sizing exercise with SAP.</span><span class="sxs-lookup"><span data-stu-id="035f4-329">Awareness of the HANA large instances SKUs you need after performing a sizing exercise with SAP.</span></span>

<span data-ttu-id="035f4-330">**Network Connectivity:**</span><span class="sxs-lookup"><span data-stu-id="035f4-330">**Network Connectivity:**</span></span>

- <span data-ttu-id="035f4-331">Azure ExpressRoute between on-premises to Azure: Make sure to order at leat a 1 Gbps connection from your ISP to connect your on-premises datacenter to Azure</span><span class="sxs-lookup"><span data-stu-id="035f4-331">Azure ExpressRoute between on-premises to Azure: Make sure to order at leat a 1 Gbps connection from your ISP to connect your on-premises datacenter to Azure</span></span>

<span data-ttu-id="035f4-332">**Operating System:**</span><span class="sxs-lookup"><span data-stu-id="035f4-332">**Operating System:**</span></span>

- <span data-ttu-id="035f4-333">Licenses for SUSE Linux Enterprise Server 12 for SAP Applications.</span><span class="sxs-lookup"><span data-stu-id="035f4-333">Licenses for SUSE Linux Enterprise Server 12 for SAP Applications.</span></span>

> [!NOTE] 
> <span data-ttu-id="035f4-334">The Operating System delivered by Microsoft is not registered with SUSE, nor is it connected with an SMT instance.</span><span class="sxs-lookup"><span data-stu-id="035f4-334">The Operating System delivered by Microsoft is not registered with SUSE, nor is it connected with an SMT instance.</span></span>

- <span data-ttu-id="035f4-335">SUSE Linux Subscription Management Tool (SMT) deployed in Azure on an Azure VM.</span><span class="sxs-lookup"><span data-stu-id="035f4-335">SUSE Linux Subscription Management Tool (SMT) deployed in Azure on an Azure VM.</span></span> <span data-ttu-id="035f4-336">This provides the ability for SAP HANA on Azure (Large Instances) to be registered and respectively updated by SUSE (as there is no internet access within HANA Large Instances data center).</span><span class="sxs-lookup"><span data-stu-id="035f4-336">This provides the ability for SAP HANA on Azure (Large Instances) to be registered and respectively updated by SUSE (as there is no internet access within HANA Large Instances data center).</span></span> 
- <span data-ttu-id="035f4-337">Licenses for Red Hat Enterprise Linux 6.7 or 7.2 for SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="035f4-337">Licenses for Red Hat Enterprise Linux 6.7 or 7.2 for SAP HANA.</span></span>

> [!NOTE]
> <span data-ttu-id="035f4-338">The Operating System delivered by Microsoft is not registered with Red Hat, nor is it connected to a Red Hat Subscription Manager Instance.</span><span class="sxs-lookup"><span data-stu-id="035f4-338">The Operating System delivered by Microsoft is not registered with Red Hat, nor is it connected to a Red Hat Subscription Manager Instance.</span></span>

- <span data-ttu-id="035f4-339">Red Hat Subscription Manager deployed in Azure on an Azure VM.</span><span class="sxs-lookup"><span data-stu-id="035f4-339">Red Hat Subscription Manager deployed in Azure on an Azure VM.</span></span> <span data-ttu-id="035f4-340">This provides the ability for SAP HANA on Azure (Large Instances) to be registered and respectively updated by Red Hat (as there is no direct internet access from within the tenant deployed on the Azure Large Instance stamp).</span><span class="sxs-lookup"><span data-stu-id="035f4-340">This provides the ability for SAP HANA on Azure (Large Instances) to be registered and respectively updated by Red Hat (as there is no direct internet access from within the tenant deployed on the Azure Large Instance stamp).</span></span>
- <span data-ttu-id="035f4-341">Servie and support contract with the Linux provider that is either implicitely included in the specific Linux version subscription or other service and support contract that is covering the specific Linux version used and that fulfills the criteria of SAP.</span><span class="sxs-lookup"><span data-stu-id="035f4-341">Servie and support contract with the Linux provider that is either implicitely included in the specific Linux version subscription or other service and support contract that is covering the specific Linux version used and that fulfills the criteria of SAP.</span></span>

<span data-ttu-id="035f4-342">**Database:**</span><span class="sxs-lookup"><span data-stu-id="035f4-342">**Database:**</span></span>

- <span data-ttu-id="035f4-343">Licenses and software installation components for SAP HANA (platform or enterprise edition).</span><span class="sxs-lookup"><span data-stu-id="035f4-343">Licenses and software installation components for SAP HANA (platform or enterprise edition).</span></span>

<span data-ttu-id="035f4-344">**Applications:**</span><span class="sxs-lookup"><span data-stu-id="035f4-344">**Applications:**</span></span>

- <span data-ttu-id="035f4-345">Licenses and software installation components for any SAP applications connecting to SAP HANA and related SAP support contracts.</span><span class="sxs-lookup"><span data-stu-id="035f4-345">Licenses and software installation components for any SAP applications connecting to SAP HANA and related SAP support contracts.</span></span>
- <span data-ttu-id="035f4-346">Licenses and software installation components for any non-SAP applications used in relation to SAP HANA on Azure (Large Instances) environment and related support contracts.</span><span class="sxs-lookup"><span data-stu-id="035f4-346">Licenses and software installation components for any non-SAP applications used in relation to SAP HANA on Azure (Large Instances) environment and related support contracts.</span></span>

<span data-ttu-id="035f4-347">**Skills:**</span><span class="sxs-lookup"><span data-stu-id="035f4-347">**Skills:**</span></span>

- <span data-ttu-id="035f4-348">Experience and knowledge on Azure IaaS and its components.</span><span class="sxs-lookup"><span data-stu-id="035f4-348">Experience and knowledge on Azure IaaS and its components.</span></span>
- <span data-ttu-id="035f4-349">Experience and knowledge on deploying SAP workload in Azure.</span><span class="sxs-lookup"><span data-stu-id="035f4-349">Experience and knowledge on deploying SAP workload in Azure.</span></span>
- <span data-ttu-id="035f4-350">SAP HANA Installation certified personal.</span><span class="sxs-lookup"><span data-stu-id="035f4-350">SAP HANA Installation certified personal.</span></span>
- <span data-ttu-id="035f4-351">SAP architect skills to design High Availability and Disaster Recovery around SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="035f4-351">SAP architect skills to design High Availability and Disaster Recovery around SAP HANA.</span></span>

## <a name="networking"></a><span data-ttu-id="035f4-352">Networking</span><span class="sxs-lookup"><span data-stu-id="035f4-352">Networking</span></span>

<span data-ttu-id="035f4-353">The architecture of Azure Networking is a key component to successful deployment of SAP applications.</span><span class="sxs-lookup"><span data-stu-id="035f4-353">The architecture of Azure Networking is a key component to successful deployment of SAP applications.</span></span> <span data-ttu-id="035f4-354">Typically, SAP HANA on Azure (Large Instances) deployments have a larger SAP landscape with several different SAP solutions with varying sizes of databases, CPU resource consumption, and memory utilization.</span><span class="sxs-lookup"><span data-stu-id="035f4-354">Typically, SAP HANA on Azure (Large Instances) deployments have a larger SAP landscape with several different SAP solutions with varying sizes of databases, CPU resource consumption, and memory utilization.</span></span> <span data-ttu-id="035f4-355">Very likely only one or two of those SAP systems are based on SAP HANA, so your SAP landscape would probably be a hybrid that leverages:</span><span class="sxs-lookup"><span data-stu-id="035f4-355">Very likely only one or two of those SAP systems are based on SAP HANA, so your SAP landscape would probably be a hybrid that leverages:</span></span>

- <span data-ttu-id="035f4-356">Deployed SAP systems on-premises.</span><span class="sxs-lookup"><span data-stu-id="035f4-356">Deployed SAP systems on-premises.</span></span> <span data-ttu-id="035f4-357">Due to their sizes these cannot currently be hosted in Azure; a classic example would be a production SAP ERP system running on Microsoft SQL Server (as the database) with &gt;100 CPUs and 1 TB of memory.</span><span class="sxs-lookup"><span data-stu-id="035f4-357">Due to their sizes these cannot currently be hosted in Azure; a classic example would be a production SAP ERP system running on Microsoft SQL Server (as the database) with &gt;100 CPUs and 1 TB of memory.</span></span>
- <span data-ttu-id="035f4-358">Deployed SAP HANA-based SAP systems on-premises (for instance, an SAP ERP system that requires 6 TB or more of memory for its SAP HANA database).</span><span class="sxs-lookup"><span data-stu-id="035f4-358">Deployed SAP HANA-based SAP systems on-premises (for instance, an SAP ERP system that requires 6 TB or more of memory for its SAP HANA database).</span></span>
- <span data-ttu-id="035f4-359">Deployed SAP systems in Azure VMs.</span><span class="sxs-lookup"><span data-stu-id="035f4-359">Deployed SAP systems in Azure VMs.</span></span> <span data-ttu-id="035f4-360">These systems could be development, testing, sandbox or production instances for any of the SAP NetWeaver-based applications that can successfully deploy in Azure (on VMs), based on resource consumption and memory demand.</span><span class="sxs-lookup"><span data-stu-id="035f4-360">These systems could be development, testing, sandbox or production instances for any of the SAP NetWeaver-based applications that can successfully deploy in Azure (on VMs), based on resource consumption and memory demand.</span></span> <span data-ttu-id="035f4-361">These also could be based on databases like SQL Server (see [SAP Support Note #1928533 – SAP Applications on Azure: Supported Products and Azure VM types](https://launchpad.support.sap.com/#/notes/1928533/E)) or SAP HANA (see [SAP HANA Certified IaaS Platforms](http://global.sap.com/community/ebook/2014-09-02-hana-hardware/enEN/iaas.html)).</span><span class="sxs-lookup"><span data-stu-id="035f4-361">These also could be based on databases like SQL Server (see [SAP Support Note #1928533 – SAP Applications on Azure: Supported Products and Azure VM types](https://launchpad.support.sap.com/#/notes/1928533/E)) or SAP HANA (see [SAP HANA Certified IaaS Platforms](http://global.sap.com/community/ebook/2014-09-02-hana-hardware/enEN/iaas.html)).</span></span>
- <span data-ttu-id="035f4-362">Deployed SAP application servers in Azure (on VMs) that leverage SAP HANA on Azure (Large Instance) in Azure Large Instance stamps.</span><span class="sxs-lookup"><span data-stu-id="035f4-362">Deployed SAP application servers in Azure (on VMs) that leverage SAP HANA on Azure (Large Instance) in Azure Large Instance stamps.</span></span>

<span data-ttu-id="035f4-363">While a hybrid SAP landscape (with four or more different deployment scenarios) is typical, there are instances of a complete SAP landscape in Azure, and as Microsoft Azure VMs become ever more powerful, the number of SAP solutions deploying on Azure VMs will grow.</span><span class="sxs-lookup"><span data-stu-id="035f4-363">While a hybrid SAP landscape (with four or more different deployment scenarios) is typical, there are instances of a complete SAP landscape in Azure, and as Microsoft Azure VMs become ever more powerful, the number of SAP solutions deploying on Azure VMs will grow.</span></span>

<span data-ttu-id="035f4-364">Azure networking in the context of SAP systems deployed in Azure is not complicated.</span><span class="sxs-lookup"><span data-stu-id="035f4-364">Azure networking in the context of SAP systems deployed in Azure is not complicated.</span></span> <span data-ttu-id="035f4-365">It is based on the following principles:</span><span class="sxs-lookup"><span data-stu-id="035f4-365">It is based on the following principles:</span></span>

- <span data-ttu-id="035f4-366">Azure Virtual Networks (VNets) need to be connected to the Azure ExpressRoute circuit that connects to on-premises network.</span><span class="sxs-lookup"><span data-stu-id="035f4-366">Azure Virtual Networks (VNets) need to be connected to the Azure ExpressRoute circuit that connects to on-premises network.</span></span>
- <span data-ttu-id="035f4-367">An ExpressRoute circuit usually should have a bandwidth of 1 Gbps or higher.</span><span class="sxs-lookup"><span data-stu-id="035f4-367">An ExpressRoute circuit usually should have a bandwidth of 1 Gbps or higher.</span></span> <span data-ttu-id="035f4-368">This allows adequate bandwidth for transferring data between on-premises systems and systems running on Azure VMs (as well as connection to Azure systems from end users on-premises).</span><span class="sxs-lookup"><span data-stu-id="035f4-368">This allows adequate bandwidth for transferring data between on-premises systems and systems running on Azure VMs (as well as connection to Azure systems from end users on-premises).</span></span>
- <span data-ttu-id="035f4-369">All SAP systems in Azure need to be set up in Azure VNets to communicate with each other.</span><span class="sxs-lookup"><span data-stu-id="035f4-369">All SAP systems in Azure need to be set up in Azure VNets to communicate with each other.</span></span>
- <span data-ttu-id="035f4-370">Active Directory and DNS hosted on-premises are extended into Azure through ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="035f4-370">Active Directory and DNS hosted on-premises are extended into Azure through ExpressRoute.</span></span>

<span data-ttu-id="035f4-371">**Recommendation:** Deploy the complete SAP landscape on Azure within a single Azure subscription.</span><span class="sxs-lookup"><span data-stu-id="035f4-371">**Recommendation:** Deploy the complete SAP landscape on Azure within a single Azure subscription.</span></span> <span data-ttu-id="035f4-372">Many procedures within an SAP landscape require transparent, and possibly less, network connectivity between SAP development, test and production instances, and the SAP NetWeaver architecture has many automatisms that rely on this transparent networking between these different instances.</span><span class="sxs-lookup"><span data-stu-id="035f4-372">Many procedures within an SAP landscape require transparent, and possibly less, network connectivity between SAP development, test and production instances, and the SAP NetWeaver architecture has many automatisms that rely on this transparent networking between these different instances.</span></span> <span data-ttu-id="035f4-373">Therefore, keeping the complete SAP landscape in one Azure subscription, even when the landscape is deployed over multiple Azure regions, is highly advisable.</span><span class="sxs-lookup"><span data-stu-id="035f4-373">Therefore, keeping the complete SAP landscape in one Azure subscription, even when the landscape is deployed over multiple Azure regions, is highly advisable.</span></span>

<span data-ttu-id="035f4-374">The architecture and processes around SAP HANA on Azure (Large Instances) is built on the above recommendation.</span><span class="sxs-lookup"><span data-stu-id="035f4-374">The architecture and processes around SAP HANA on Azure (Large Instances) is built on the above recommendation.</span></span>

> [!NOTE] 
> <span data-ttu-id="035f4-375">A single Azure subscription can be linked only to one single tenant in a Large Instance stamp in a specific Azure region, and conversely a single Large Instance stamp tenant can be linked only to one Azure subscription.</span><span class="sxs-lookup"><span data-stu-id="035f4-375">A single Azure subscription can be linked only to one single tenant in a Large Instance stamp in a specific Azure region, and conversely a single Large Instance stamp tenant can be linked only to one Azure subscription.</span></span>

<span data-ttu-id="035f4-376">Deploying SAP HANA on Azure (Large Instances) in two different Azure regions, will cause a separate tenant to be deployed in the Large Instance stamp.</span><span class="sxs-lookup"><span data-stu-id="035f4-376">Deploying SAP HANA on Azure (Large Instances) in two different Azure regions, will cause a separate tenant to be deployed in the Large Instance stamp.</span></span> <span data-ttu-id="035f4-377">However, you can expect both will end up under the same Azure subscription as long as these instances are part of the same SAP landscape.</span><span class="sxs-lookup"><span data-stu-id="035f4-377">However, you can expect both will end up under the same Azure subscription as long as these instances are part of the same SAP landscape.</span></span>

> [!IMPORTANT] 
> <span data-ttu-id="035f4-378">Only Azure Resource Management deployment is supported with SAP HANA on Azure (Large Instances).</span><span class="sxs-lookup"><span data-stu-id="035f4-378">Only Azure Resource Management deployment is supported with SAP HANA on Azure (Large Instances).</span></span>

### <a name="additional-azure-vnet-information"></a><span data-ttu-id="035f4-379">Additional Azure VNet information</span><span class="sxs-lookup"><span data-stu-id="035f4-379">Additional Azure VNet information</span></span>

<span data-ttu-id="035f4-380">In order to connect an Azure VNet to ExpressRoute, an Azure gateway must be created (see [About virtual network gateways for ExpressRoute](../../../expressroute/expressroute-about-virtual-network-gateways.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)).</span><span class="sxs-lookup"><span data-stu-id="035f4-380">In order to connect an Azure VNet to ExpressRoute, an Azure gateway must be created (see [About virtual network gateways for ExpressRoute](../../../expressroute/expressroute-about-virtual-network-gateways.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)).</span></span> <span data-ttu-id="035f4-381">An Azure gateway can be used either with ExpressRoute to an infrastructure outside of Azure (or to an Azure Large instance stamp), or to connect between Azure VNets (see [Configure a VNet-to-VNet connection for Resource Manager using PowerShell](../../../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)).</span><span class="sxs-lookup"><span data-stu-id="035f4-381">An Azure gateway can be used either with ExpressRoute to an infrastructure outside of Azure (or to an Azure Large instance stamp), or to connect between Azure VNets (see [Configure a VNet-to-VNet connection for Resource Manager using PowerShell](../../../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)).</span></span> <span data-ttu-id="035f4-382">You can connect the Azure gateway to a maximum of four different ExpressRoute connections as long as those are coming from different MS Enterprise Exchanges (MSEE).</span><span class="sxs-lookup"><span data-stu-id="035f4-382">You can connect the Azure gateway to a maximum of four different ExpressRoute connections as long as those are coming from different MS Enterprise Exchanges (MSEE).</span></span>

> [!NOTE] 
> <span data-ttu-id="035f4-383">The throughput an Azure gateway provides is different for both use cases (see [About VPN Gateway](../../../vpn-gateway/vpn-gateway-about-vpngateways.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)).</span><span class="sxs-lookup"><span data-stu-id="035f4-383">The throughput an Azure gateway provides is different for both use cases (see [About VPN Gateway](../../../vpn-gateway/vpn-gateway-about-vpngateways.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)).</span></span> <span data-ttu-id="035f4-384">The maximum throughput we can achieve with a VNet gateway is 10 Gbps, using an ExpressRoute connection.</span><span class="sxs-lookup"><span data-stu-id="035f4-384">The maximum throughput we can achieve with a VNet gateway is 10 Gbps, using an ExpressRoute connection.</span></span> <span data-ttu-id="035f4-385">Keep in mind that copying files between an Azure VM residing in an Azure VNet and a system on-premises (as a single copy stream) will not achieve the full throughput of the different gateway SKUs.</span><span class="sxs-lookup"><span data-stu-id="035f4-385">Keep in mind that copying files between an Azure VM residing in an Azure VNet and a system on-premises (as a single copy stream) will not achieve the full throughput of the different gateway SKUs.</span></span> <span data-ttu-id="035f4-386">To leverage the complete bandwidth of the VNet gateway, you must use multiple streams, or copy different files in parallel streams of a single file.</span><span class="sxs-lookup"><span data-stu-id="035f4-386">To leverage the complete bandwidth of the VNet gateway, you must use multiple streams, or copy different files in parallel streams of a single file.</span></span>

<span data-ttu-id="035f4-387">As you read the above articles, please carefully note the information on UltraPerformance gateway SKU availability in different Azure regions.</span><span class="sxs-lookup"><span data-stu-id="035f4-387">As you read the above articles, please carefully note the information on UltraPerformance gateway SKU availability in different Azure regions.</span></span>

### <a name="networking-for-sap-hana-on-azure"></a><span data-ttu-id="035f4-388">Networking for SAP HANA on Azure</span><span class="sxs-lookup"><span data-stu-id="035f4-388">Networking for SAP HANA on Azure</span></span>

<span data-ttu-id="035f4-389">For connection to SAP HANA on Azure (Large Instances), an Azure VNet must be connected through its VNet gateway using ExpressRoute to a customer&#39;s on-premises network.</span><span class="sxs-lookup"><span data-stu-id="035f4-389">For connection to SAP HANA on Azure (Large Instances), an Azure VNet must be connected through its VNet gateway using ExpressRoute to a customer&#39;s on-premises network.</span></span> <span data-ttu-id="035f4-390">Also, it needs to be connected through a second ExpressRoute circuit to the HANA Large Instances located in an Azure Large Instance stamp.</span><span class="sxs-lookup"><span data-stu-id="035f4-390">Also, it needs to be connected through a second ExpressRoute circuit to the HANA Large Instances located in an Azure Large Instance stamp.</span></span> <span data-ttu-id="035f4-391">The VNet gateway will have at least two ExpressRoute connections, and both connections will share the maximum bandwidth of the VNet gateway.</span><span class="sxs-lookup"><span data-stu-id="035f4-391">The VNet gateway will have at least two ExpressRoute connections, and both connections will share the maximum bandwidth of the VNet gateway.</span></span>

> [!IMPORTANT] 
> <span data-ttu-id="035f4-392">Given the overall network traffic between the SAP application and database layers, only the HighPerformance or UltraPerformance gateway SKUs for VNets is supported for connecting to SAP HANA on Azure (Large Instances).</span><span class="sxs-lookup"><span data-stu-id="035f4-392">Given the overall network traffic between the SAP application and database layers, only the HighPerformance or UltraPerformance gateway SKUs for VNets is supported for connecting to SAP HANA on Azure (Large Instances).</span></span>

![Azure VNet connected to SAP HANA on Azure (Large Instances) and on-premises](https://docstestmedia1.blob.core.windows.net/azure-media/articles/virtual-machines/workloads/sap/media/hana-overview-architecture/image3-on-premises-infrastructure.png)

### <a name="single-sap-system"></a><span data-ttu-id="035f4-394">Single SAP system</span><span class="sxs-lookup"><span data-stu-id="035f4-394">Single SAP system</span></span>

<span data-ttu-id="035f4-395">The on-premises infrastructure shown above is connected through ExpressRoute into Azure, and the ExpressRoute circuit connects into a Microsoft Enterprise Edge Router (MSEE) (see [ExpressRoute technical overview](../../../expressroute/expressroute-introduction.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)).</span><span class="sxs-lookup"><span data-stu-id="035f4-395">The on-premises infrastructure shown above is connected through ExpressRoute into Azure, and the ExpressRoute circuit connects into a Microsoft Enterprise Edge Router (MSEE) (see [ExpressRoute technical overview](../../../expressroute/expressroute-introduction.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)).</span></span> <span data-ttu-id="035f4-396">Once established, that route connects into the Microsoft Azure backbone, and all Azure regions are accessible.</span><span class="sxs-lookup"><span data-stu-id="035f4-396">Once established, that route connects into the Microsoft Azure backbone, and all Azure regions are accessible.</span></span>

> [!NOTE] 
> <span data-ttu-id="035f4-397">For running SAP landscapes in Azure, connect to the MSEE closest to the Azure region in the SAP landscape.</span><span class="sxs-lookup"><span data-stu-id="035f4-397">For running SAP landscapes in Azure, connect to the MSEE closest to the Azure region in the SAP landscape.</span></span> <span data-ttu-id="035f4-398">Azure Large Instance stamps are connected through dedicated MSEE devices to minimize network latency between Azure VMs in Azure IaaS and Large Instance stamps.</span><span class="sxs-lookup"><span data-stu-id="035f4-398">Azure Large Instance stamps are connected through dedicated MSEE devices to minimize network latency between Azure VMs in Azure IaaS and Large Instance stamps.</span></span>

<span data-ttu-id="035f4-399">The VNet gateway for the Azure VMs, hosting SAP application instances, is connected to that ExpressRoute circuit, and the same VNet is connected to a separate MSEE Router dedicated to connecting to Large Instance stamps.</span><span class="sxs-lookup"><span data-stu-id="035f4-399">The VNet gateway for the Azure VMs, hosting SAP application instances, is connected to that ExpressRoute circuit, and the same VNet is connected to a separate MSEE Router dedicated to connecting to Large Instance stamps.</span></span>

<span data-ttu-id="035f4-400">This is a straightforward example of a single SAP system, where the SAP application layer is hosted in Azure and the SAP HANA database runs on SAP HANA on Azure (Large Instances).</span><span class="sxs-lookup"><span data-stu-id="035f4-400">This is a straightforward example of a single SAP system, where the SAP application layer is hosted in Azure and the SAP HANA database runs on SAP HANA on Azure (Large Instances).</span></span> <span data-ttu-id="035f4-401">The assumption is that the VNet gateway bandwidth of 2 Gbps or 10 Gbps does not represent a bottleneck.</span><span class="sxs-lookup"><span data-stu-id="035f4-401">The assumption is that the VNet gateway bandwidth of 2 Gbps or 10 Gbps does not represent a bottleneck.</span></span>

### <a name="multiple-sap-systems-or-large-sap-systems"></a><span data-ttu-id="035f4-402">Multiple SAP systems or large SAP systems</span><span class="sxs-lookup"><span data-stu-id="035f4-402">Multiple SAP systems or large SAP systems</span></span>

<span data-ttu-id="035f4-403">If multiple SAP systems or large SAP systems are deployed connecting to SAP HANA on Azure (Large Instances), it&#39;s reasonable to assume the throughput of the HighPerformance VNet gateway SKU may become a bottleneck.</span><span class="sxs-lookup"><span data-stu-id="035f4-403">If multiple SAP systems or large SAP systems are deployed connecting to SAP HANA on Azure (Large Instances), it&#39;s reasonable to assume the throughput of the HighPerformance VNet gateway SKU may become a bottleneck.</span></span> <span data-ttu-id="035f4-404">In which case chose the UltraPerformance SKU, if it is available.</span><span class="sxs-lookup"><span data-stu-id="035f4-404">In which case chose the UltraPerformance SKU, if it is available.</span></span> <span data-ttu-id="035f4-405">However, if there is only the HighPerformance SKU (up to 2 Gbps) available, or there is a potential that the UltraPerformance SKU (up to 10 Gbps) will not be enough, you will need to split the application layers into multiple Azure VNets.</span><span class="sxs-lookup"><span data-stu-id="035f4-405">However, if there is only the HighPerformance SKU (up to 2 Gbps) available, or there is a potential that the UltraPerformance SKU (up to 10 Gbps) will not be enough, you will need to split the application layers into multiple Azure VNets.</span></span>

<span data-ttu-id="035f4-406">For a more scalable network architecture:</span><span class="sxs-lookup"><span data-stu-id="035f4-406">For a more scalable network architecture:</span></span>

- <span data-ttu-id="035f4-407">Leverage multiple Azure VNets for a single, larger SAP application layer.</span><span class="sxs-lookup"><span data-stu-id="035f4-407">Leverage multiple Azure VNets for a single, larger SAP application layer.</span></span>
- <span data-ttu-id="035f4-408">Deploy one separate Azure VNet for each SAP system deployed, compared to combining these SAP systems in separate subnets under the same VNet.</span><span class="sxs-lookup"><span data-stu-id="035f4-408">Deploy one separate Azure VNet for each SAP system deployed, compared to combining these SAP systems in separate subnets under the same VNet.</span></span>

 <span data-ttu-id="035f4-409">A more scalable networking architecture for SAP HANA on Azure (Large Instances):</span><span class="sxs-lookup"><span data-stu-id="035f4-409">A more scalable networking architecture for SAP HANA on Azure (Large Instances):</span></span>

![Deploying SAP application layer over multiple Azure VNets](https://docstestmedia1.blob.core.windows.net/azure-media/articles/virtual-machines/workloads/sap/media/hana-overview-architecture/image4-networking-architecture.png)

<span data-ttu-id="035f4-411">Deploying the SAP application layer, or components, over multiple Azure VNets as shown above, introduced unavoidable latency overhead that occured during communication between the applications hosted in those Azure VNets.</span><span class="sxs-lookup"><span data-stu-id="035f4-411">Deploying the SAP application layer, or components, over multiple Azure VNets as shown above, introduced unavoidable latency overhead that occured during communication between the applications hosted in those Azure VNets.</span></span> <span data-ttu-id="035f4-412">By default, the network traffic between Azure VMs located in different VNets will occur through the MSEE Routers in this configuration.</span><span class="sxs-lookup"><span data-stu-id="035f4-412">By default, the network traffic between Azure VMs located in different VNets will occur through the MSEE Routers in this configuration.</span></span> <span data-ttu-id="035f4-413">However since September 2016 this can be avoided and optimized.</span><span class="sxs-lookup"><span data-stu-id="035f4-413">However since September 2016 this can be avoided and optimized.</span></span> <span data-ttu-id="035f4-414">The way to optimize and cut down the latency in communication between two VNets is by peering Azure VNets within the same region.</span><span class="sxs-lookup"><span data-stu-id="035f4-414">The way to optimize and cut down the latency in communication between two VNets is by peering Azure VNets within the same region.</span></span> <span data-ttu-id="035f4-415">Even if those are in different subscriptions.</span><span class="sxs-lookup"><span data-stu-id="035f4-415">Even if those are in different subscriptions.</span></span> <span data-ttu-id="035f4-416">Using Azure VNet peering, the communication between VMs in two different Azure Vnets can use the Azure network backbone to directly communicate with each other.</span><span class="sxs-lookup"><span data-stu-id="035f4-416">Using Azure VNet peering, the communication between VMs in two different Azure Vnets can use the Azure network backbone to directly communicate with each other.</span></span> <span data-ttu-id="035f4-417">Thereby showing similiar latency as if the VMs would be in the same VNet.</span><span class="sxs-lookup"><span data-stu-id="035f4-417">Thereby showing similiar latency as if the VMs would be in the same VNet.</span></span> <span data-ttu-id="035f4-418">Whereas traffic addressing IP address ranges that are connected through the Azure VNet gateway is routed through the individual VNet gateway of the VNet.</span><span class="sxs-lookup"><span data-stu-id="035f4-418">Whereas traffic addressing IP address ranges that are connected through the Azure VNet gateway is routed through the individual VNet gateway of the VNet.</span></span> <span data-ttu-id="035f4-419">You can get details about Azure VNet peering in the article [VNet peering](https://docs.microsoft.com/en-us/azure/virtual-network/virtual-network-peering-overview).</span><span class="sxs-lookup"><span data-stu-id="035f4-419">You can get details about Azure VNet peering in the article [VNet peering](https://docs.microsoft.com/en-us/azure/virtual-network/virtual-network-peering-overview).</span></span>
### <a name="minimal-deployment"></a><span data-ttu-id="035f4-420">Minimal deployment</span><span class="sxs-lookup"><span data-stu-id="035f4-420">Minimal deployment</span></span>

<span data-ttu-id="035f4-421">For a small SAP system (minimal deployment), Azure VMs host the SAP application layer in native Azure (within a single VNet) and connect to Large Instance stamp through ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="035f4-421">For a small SAP system (minimal deployment), Azure VMs host the SAP application layer in native Azure (within a single VNet) and connect to Large Instance stamp through ExpressRoute.</span></span> <span data-ttu-id="035f4-422">Follow these steps to get SAP HANA on Azure (Large Instances) ready for use:</span><span class="sxs-lookup"><span data-stu-id="035f4-422">Follow these steps to get SAP HANA on Azure (Large Instances) ready for use:</span></span>

- <span data-ttu-id="035f4-423">Gather specific information related to four different IP address ranges:</span><span class="sxs-lookup"><span data-stu-id="035f4-423">Gather specific information related to four different IP address ranges:</span></span>

  1. <span data-ttu-id="035f4-424">A /29 address range for P2P connections to be used for the ExpressRoute circuits.</span><span class="sxs-lookup"><span data-stu-id="035f4-424">A /29 address range for P2P connections to be used for the ExpressRoute circuits.</span></span>
  
  2. <span data-ttu-id="035f4-425">A /24 (recommended) unique CIDR block to be used for assigning the specific IP addresses needed for SAP HANA on Azure (Large Instances).</span><span class="sxs-lookup"><span data-stu-id="035f4-425">A /24 (recommended) unique CIDR block to be used for assigning the specific IP addresses needed for SAP HANA on Azure (Large Instances).</span></span>
  3. <span data-ttu-id="035f4-426">One or more /24 (recommended) CIDR blocks for your Azure VNet tenant subnets.</span><span class="sxs-lookup"><span data-stu-id="035f4-426">One or more /24 (recommended) CIDR blocks for your Azure VNet tenant subnets.</span></span> <span data-ttu-id="035f4-427">These are subnets in the customer&#39;s Azure subscription where the SAP-related Azure VMs will reside; the addresses will be allowed to access SAP HANA on Azure (Large Instances).</span><span class="sxs-lookup"><span data-stu-id="035f4-427">These are subnets in the customer&#39;s Azure subscription where the SAP-related Azure VMs will reside; the addresses will be allowed to access SAP HANA on Azure (Large Instances).</span></span> <span data-ttu-id="035f4-428">There should be one tenant address block per subnet, and the blocks may be aggregated if they are contiguous and in the same VNet.</span><span class="sxs-lookup"><span data-stu-id="035f4-428">There should be one tenant address block per subnet, and the blocks may be aggregated if they are contiguous and in the same VNet.</span></span>
  4. <span data-ttu-id="035f4-429">One /28 of your VNet gateway subnets (a /27 must be used if wanting P2S networking).</span><span class="sxs-lookup"><span data-stu-id="035f4-429">One /28 of your VNet gateway subnets (a /27 must be used if wanting P2S networking).</span></span>

  - <span data-ttu-id="035f4-430">The first two ranges are needed (one per Azure subscription and region).</span><span class="sxs-lookup"><span data-stu-id="035f4-430">The first two ranges are needed (one per Azure subscription and region).</span></span> <span data-ttu-id="035f4-431">IP address ranges stated in items 3 and 4 are required as a minimum per Azure VNet, and if multiple subnets/tenants in a VNet are desired, multiple ranges should be specified for item 3.</span><span class="sxs-lookup"><span data-stu-id="035f4-431">IP address ranges stated in items 3 and 4 are required as a minimum per Azure VNet, and if multiple subnets/tenants in a VNet are desired, multiple ranges should be specified for item 3.</span></span>
<span data-ttu-id="035f4-432">![IP address ranges required in SAP HANA on Azure (Large Instances) minimal deployment](https://docstestmedia1.blob.core.windows.net/azure-media/articles/virtual-machines/workloads/sap/media/hana-overview-architecture/image5-ip-address-range-a.png)</span><span class="sxs-lookup"><span data-stu-id="035f4-432">![IP address ranges required in SAP HANA on Azure (Large Instances) minimal deployment](https://docstestmedia1.blob.core.windows.net/azure-media/articles/virtual-machines/workloads/sap/media/hana-overview-architecture/image5-ip-address-range-a.png)</span></span>

  -  <span data-ttu-id="035f4-433">If configuring multiple tenant subnets in an Azure VNet: ![IP address ranges with contiguous address space for Azure VNet](https://docstestmedia1.blob.core.windows.net/azure-media/articles/virtual-machines/workloads/sap/media/hana-overview-architecture/image6-ip-address-range-b.png)</span><span class="sxs-lookup"><span data-stu-id="035f4-433">If configuring multiple tenant subnets in an Azure VNet: ![IP address ranges with contiguous address space for Azure VNet](https://docstestmedia1.blob.core.windows.net/azure-media/articles/virtual-machines/workloads/sap/media/hana-overview-architecture/image6-ip-address-range-b.png)</span></span>

> [!IMPORTANT] 
> <span data-ttu-id="035f4-434">Each IP address range specified above must not overlap with any other range; each must be discrete and not a subnet of any other range.</span><span class="sxs-lookup"><span data-stu-id="035f4-434">Each IP address range specified above must not overlap with any other range; each must be discrete and not a subnet of any other range.</span></span> <span data-ttu-id="035f4-435">Only the address defined in items 3 and 4 should be applied to Azure VNets, all others are used for Large Instance connectivity and routing.</span><span class="sxs-lookup"><span data-stu-id="035f4-435">Only the address defined in items 3 and 4 should be applied to Azure VNets, all others are used for Large Instance connectivity and routing.</span></span> <span data-ttu-id="035f4-436">Also, as a best practice, the Address Space address ranges should match the subnet ranges and not have empty or unassigned space.</span><span class="sxs-lookup"><span data-stu-id="035f4-436">Also, as a best practice, the Address Space address ranges should match the subnet ranges and not have empty or unassigned space.</span></span> <span data-ttu-id="035f4-437">If overlaps occur between ranges defined in items 1 and 2 with ranges defined for 3 and 4, the Azure VNet will not connect to the ExpressRoute circuit.</span><span class="sxs-lookup"><span data-stu-id="035f4-437">If overlaps occur between ranges defined in items 1 and 2 with ranges defined for 3 and 4, the Azure VNet will not connect to the ExpressRoute circuit.</span></span>

- <span data-ttu-id="035f4-438">An Express Route circuit is created by Microsoft between your Azure subscription and the Large Instance stamp.</span><span class="sxs-lookup"><span data-stu-id="035f4-438">An Express Route circuit is created by Microsoft between your Azure subscription and the Large Instance stamp.</span></span>
- <span data-ttu-id="035f4-439">Create a network tenant on the Large Instance stamp.</span><span class="sxs-lookup"><span data-stu-id="035f4-439">Create a network tenant on the Large Instance stamp.</span></span>
- <span data-ttu-id="035f4-440">Configure networking in the SAP HANA on Azure (Large Instances) infrastructure to accept IP addresses from the range specified within your Azure VNet, that will communicate with HANA Large Instances.</span><span class="sxs-lookup"><span data-stu-id="035f4-440">Configure networking in the SAP HANA on Azure (Large Instances) infrastructure to accept IP addresses from the range specified within your Azure VNet, that will communicate with HANA Large Instances.</span></span>
- <span data-ttu-id="035f4-441">Set up network Address Translation (NAT) in the customer tenant of the Large Instance stamp (in order that the tenant internal IP address is mapped into an IP address defined by the tenant for Azure).</span><span class="sxs-lookup"><span data-stu-id="035f4-441">Set up network Address Translation (NAT) in the customer tenant of the Large Instance stamp (in order that the tenant internal IP address is mapped into an IP address defined by the tenant for Azure).</span></span>
- <span data-ttu-id="035f4-442">Depending on the specific SAP HANA on Azure (Large Instances) SKU purchased, assign a compute unit in a tenant network, allocate and mount storage, and install the operating system (SUSE or RedHat Linux).</span><span class="sxs-lookup"><span data-stu-id="035f4-442">Depending on the specific SAP HANA on Azure (Large Instances) SKU purchased, assign a compute unit in a tenant network, allocate and mount storage, and install the operating system (SUSE or RedHat Linux).</span></span>

<span data-ttu-id="035f4-443">Minimal Deployment of SAP HANA on Azure (Large Instances) Network Architecture:</span><span class="sxs-lookup"><span data-stu-id="035f4-443">Minimal Deployment of SAP HANA on Azure (Large Instances) Network Architecture:</span></span>

![Minimal deployment with IP address ranges](https://docstestmedia1.blob.core.windows.net/azure-media/articles/virtual-machines/workloads/sap/media/hana-overview-architecture/image7-minimal-deployment.png)

### <a name="routing-in-azure"></a><span data-ttu-id="035f4-445">Routing in Azure</span><span class="sxs-lookup"><span data-stu-id="035f4-445">Routing in Azure</span></span>

<span data-ttu-id="035f4-446">There are two important network routing considerations for SAP HANA on Azure (Large Instances):</span><span class="sxs-lookup"><span data-stu-id="035f4-446">There are two important network routing considerations for SAP HANA on Azure (Large Instances):</span></span>

1. <span data-ttu-id="035f4-447">SAP HANA on Azure (Large Instances) can only be accessed by Azure VMs in the dedicated ExpressRoute connection; not directly from on-premises.</span><span class="sxs-lookup"><span data-stu-id="035f4-447">SAP HANA on Azure (Large Instances) can only be accessed by Azure VMs in the dedicated ExpressRoute connection; not directly from on-premises.</span></span> <span data-ttu-id="035f4-448">So administration clients and any applications needing direct access, such as SAP Solution Manager running on-premises, cannot connect to the SAP HANA database.</span><span class="sxs-lookup"><span data-stu-id="035f4-448">So administration clients and any applications needing direct access, such as SAP Solution Manager running on-premises, cannot connect to the SAP HANA database.</span></span>

2. <span data-ttu-id="035f4-449">SAP HANA on Azure (Large Instances) has an assigned IP address from a defined NAT pool.</span><span class="sxs-lookup"><span data-stu-id="035f4-449">SAP HANA on Azure (Large Instances) has an assigned IP address from a defined NAT pool.</span></span> <span data-ttu-id="035f4-450">This IP address is accessible through the Azure subscription and ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="035f4-450">This IP address is accessible through the Azure subscription and ExpressRoute.</span></span> <span data-ttu-id="035f4-451">Because the IP address is part of a NAT pool, you will need to perform additional networking configuration within the environment.</span><span class="sxs-lookup"><span data-stu-id="035f4-451">Because the IP address is part of a NAT pool, you will need to perform additional networking configuration within the environment.</span></span> <span data-ttu-id="035f4-452">See the related article on SAP HANA Installation for details.</span><span class="sxs-lookup"><span data-stu-id="035f4-452">See the related article on SAP HANA Installation for details.</span></span>

> [!NOTE] 
> <span data-ttu-id="035f4-453">If you need to connect to SAP HANA on Azure (Large Instances) in a _data warehouse_ scenario, where applications and/or end users need to connect to the SAP HANA database (running directly), another networking component must be used: a reverse-proxy to route data, to and from.</span><span class="sxs-lookup"><span data-stu-id="035f4-453">If you need to connect to SAP HANA on Azure (Large Instances) in a _data warehouse_ scenario, where applications and/or end users need to connect to the SAP HANA database (running directly), another networking component must be used: a reverse-proxy to route data, to and from.</span></span> <span data-ttu-id="035f4-454">For example, F5 BIG-IP with Traffic Manager deployed in Azure as a virtual firewall/traffic routing solution.</span><span class="sxs-lookup"><span data-stu-id="035f4-454">For example, F5 BIG-IP with Traffic Manager deployed in Azure as a virtual firewall/traffic routing solution.</span></span>

### <a name="leveraging-in-multiple-regions"></a><span data-ttu-id="035f4-455">Leveraging in multiple regions</span><span class="sxs-lookup"><span data-stu-id="035f4-455">Leveraging in multiple regions</span></span>

<span data-ttu-id="035f4-456">You might have other reasons to deploy SAP HANA on Azure (Large Instances) in multiple Azure regions, besides disaster recovery.</span><span class="sxs-lookup"><span data-stu-id="035f4-456">You might have other reasons to deploy SAP HANA on Azure (Large Instances) in multiple Azure regions, besides disaster recovery.</span></span> <span data-ttu-id="035f4-457">Perhaps you want to access HANA Large Instances from each of the VMs deployed in the different VNets in the regions.</span><span class="sxs-lookup"><span data-stu-id="035f4-457">Perhaps you want to access HANA Large Instances from each of the VMs deployed in the different VNets in the regions.</span></span> <span data-ttu-id="035f4-458">Since the NATed IP addresses of the different HANA Large Instances servers are not propagated beyond the Azure VNets (that are directly connected through their gateway to the instances), there is a slight change to the VNet design introduced above: an Azure VNet gateway can handle four different ExpressRoute circuits out of different MSEEs, and each VNet that is connected to one of the Large Instance stamps can be connected to the Large Instance stamp in another Azure region.</span><span class="sxs-lookup"><span data-stu-id="035f4-458">Since the NATed IP addresses of the different HANA Large Instances servers are not propagated beyond the Azure VNets (that are directly connected through their gateway to the instances), there is a slight change to the VNet design introduced above: an Azure VNet gateway can handle four different ExpressRoute circuits out of different MSEEs, and each VNet that is connected to one of the Large Instance stamps can be connected to the Large Instance stamp in another Azure region.</span></span>

![Azure VNets connected to Azure Large Instance stamps in different Azure regions](https://docstestmedia1.blob.core.windows.net/azure-media/articles/virtual-machines/workloads/sap/media/hana-overview-architecture/image8-multiple-regions.png)

<span data-ttu-id="035f4-460">The above figure shows how the different Azure VNets in both regions are connected to two different ExpressRoute circuits that are used to connect to SAP HANA on Azure (Large Instances) in both Azure regions.</span><span class="sxs-lookup"><span data-stu-id="035f4-460">The above figure shows how the different Azure VNets in both regions are connected to two different ExpressRoute circuits that are used to connect to SAP HANA on Azure (Large Instances) in both Azure regions.</span></span> <span data-ttu-id="035f4-461">The newly introduced connections are the rectangular red lines.</span><span class="sxs-lookup"><span data-stu-id="035f4-461">The newly introduced connections are the rectangular red lines.</span></span> <span data-ttu-id="035f4-462">With these connections out of the Azure VNets, the VMs running in one of those VNets can access each of the different HANA Large Instances units deployed in the two regions (assuming you use the same subscription).</span><span class="sxs-lookup"><span data-stu-id="035f4-462">With these connections out of the Azure VNets, the VMs running in one of those VNets can access each of the different HANA Large Instances units deployed in the two regions (assuming you use the same subscription).</span></span> <span data-ttu-id="035f4-463">As you see in the graphics above, it is assumed that you have two ExpressRoute connections from on-premises to the two Azure regions; recommended for Disaster Recovery reasons.</span><span class="sxs-lookup"><span data-stu-id="035f4-463">As you see in the graphics above, it is assumed that you have two ExpressRoute connections from on-premises to the two Azure regions; recommended for Disaster Recovery reasons.</span></span>

> [!IMPORTANT] 
> <span data-ttu-id="035f4-464">If multiple ExpressRoute circuits are used, AS Path prepending and Local Preference BGP settings should be used to ensure proper routing of traffic.</span><span class="sxs-lookup"><span data-stu-id="035f4-464">If multiple ExpressRoute circuits are used, AS Path prepending and Local Preference BGP settings should be used to ensure proper routing of traffic.</span></span>










