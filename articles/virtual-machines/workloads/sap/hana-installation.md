---
title: Install SAP HANA on SAP HANA on Azure (Large Instances) | Microsoft Docs
description: How to install SAP HANA on a SAP HANA on Azure (Large Instance).
services: virtual-machines-linux
documentationcenter: ''
author: hermanndms
manager: timlt
editor: ''
ms.service: virtual-machines-linux
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure
ms.date: 12/01/2016
ms.author: rclaus
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 61d191b5b2cc18731caacb6d192b851b6b49b22c
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44540752"
---
# <a name="how-to-install-and-configure-sap-hana-large-instances-on-azure"></a><span data-ttu-id="c8897-103">How to install and configure SAP HANA (large instances) on Azure</span><span class="sxs-lookup"><span data-stu-id="c8897-103">How to install and configure SAP HANA (large instances) on Azure</span></span>

<span data-ttu-id="c8897-104">Installation of SAP HANA is your responsibility and you can do this immediately after handoff of a new SAP HANA on Azure (Large Instances) server.</span><span class="sxs-lookup"><span data-stu-id="c8897-104">Installation of SAP HANA is your responsibility and you can do this immediately after handoff of a new SAP HANA on Azure (Large Instances) server.</span></span> <span data-ttu-id="c8897-105">Please note, per SAP policy, installation of SAP HANA must be performed by certified SAP HANA installer — someone who has passed the Certified SAP Technology Associate – SAP HANA Installation certification exam, or by a SAP-certified system integrator (SI).</span><span class="sxs-lookup"><span data-stu-id="c8897-105">Please note, per SAP policy, installation of SAP HANA must be performed by certified SAP HANA installer — someone who has passed the Certified SAP Technology Associate – SAP HANA Installation certification exam, or by a SAP-certified system integrator (SI).</span></span>

<span data-ttu-id="c8897-106">There are specific connectivity considerations related to SAP HANA (server side) and SAP HANA (client side) that need to be considered.</span><span class="sxs-lookup"><span data-stu-id="c8897-106">There are specific connectivity considerations related to SAP HANA (server side) and SAP HANA (client side) that need to be considered.</span></span> <span data-ttu-id="c8897-107">In many cases, the SAP HANA server sends its IP address to the client where it gets cached and used for subsequent connection attempts.</span><span class="sxs-lookup"><span data-stu-id="c8897-107">In many cases, the SAP HANA server sends its IP address to the client where it gets cached and used for subsequent connection attempts.</span></span> <span data-ttu-id="c8897-108">Since SAP HANA on Azure (Large Instances) does NAT the internal server IP address used in the tenant network to an IP address range provided for specified Azure VNets, the SAP HANA database server, by design, would send the &quot;internal&quot; IP address range.</span><span class="sxs-lookup"><span data-stu-id="c8897-108">Since SAP HANA on Azure (Large Instances) does NAT the internal server IP address used in the tenant network to an IP address range provided for specified Azure VNets, the SAP HANA database server, by design, would send the &quot;internal&quot; IP address range.</span></span> <span data-ttu-id="c8897-109">For example, for hostname resolution, instead of SAP HANA providing the NATed IP address, the cached internal IP address is used.</span><span class="sxs-lookup"><span data-stu-id="c8897-109">For example, for hostname resolution, instead of SAP HANA providing the NATed IP address, the cached internal IP address is used.</span></span> <span data-ttu-id="c8897-110">So an application using an SAP HANA client (ODBC, JDBC, etc.) would not be able to connect with this IP address.</span><span class="sxs-lookup"><span data-stu-id="c8897-110">So an application using an SAP HANA client (ODBC, JDBC, etc.) would not be able to connect with this IP address.</span></span> <span data-ttu-id="c8897-111">To instruct the SAP HANA server that it should propagate the NATed IP address to the client, the SAP HANA global system configuration file (global.ini) must be edited.</span><span class="sxs-lookup"><span data-stu-id="c8897-111">To instruct the SAP HANA server that it should propagate the NATed IP address to the client, the SAP HANA global system configuration file (global.ini) must be edited.</span></span>

<span data-ttu-id="c8897-112">Add the following to the global.ini (either directly or through SAP HANA Studio):</span><span class="sxs-lookup"><span data-stu-id="c8897-112">Add the following to the global.ini (either directly or through SAP HANA Studio):</span></span>
```
[public\_hostname\_resolution]
use\_default\_route = no
map\_<hostname of SAP HANA on Azure (Large Instances) tenant> = <NAT IP Address (IP address that can be accessed in Azure)>
```
<span data-ttu-id="c8897-113">See the section _Mapping Host Names for Database Client Access_ in the [SAP HANA Administration Guide](http://help.sap.com/hana/sap_hana_administration_guide_en.pdf) for more details and examples.</span><span class="sxs-lookup"><span data-stu-id="c8897-113">See the section _Mapping Host Names for Database Client Access_ in the [SAP HANA Administration Guide](http://help.sap.com/hana/sap_hana_administration_guide_en.pdf) for more details and examples.</span></span>

<span data-ttu-id="c8897-114">On the client side (for SAP application servers in Azure), edit the /etc/hosts file (in Linux) or /system32/drivers/etc/hosts (in Windows Server) and include an entry for the hostname of the SAP HANA on Azure (Large Instances) tenant and its respective NATed IP address.</span><span class="sxs-lookup"><span data-stu-id="c8897-114">On the client side (for SAP application servers in Azure), edit the /etc/hosts file (in Linux) or /system32/drivers/etc/hosts (in Windows Server) and include an entry for the hostname of the SAP HANA on Azure (Large Instances) tenant and its respective NATed IP address.</span></span>

>[!NOTE] 
><span data-ttu-id="c8897-115">When installing the SAP HANA Database Client, if there are errors when connecting to SAP HANA on Azure (Large Instances) during the installation of the SAP HANA Database Client, use the NAT IP address of the HANA Large Instances tenant implicitly instead of the hostname.</span><span class="sxs-lookup"><span data-stu-id="c8897-115">When installing the SAP HANA Database Client, if there are errors when connecting to SAP HANA on Azure (Large Instances) during the installation of the SAP HANA Database Client, use the NAT IP address of the HANA Large Instances tenant implicitly instead of the hostname.</span></span>

## <a name="storage"></a><span data-ttu-id="c8897-116">Storage</span><span class="sxs-lookup"><span data-stu-id="c8897-116">Storage</span></span>

<span data-ttu-id="c8897-117">The storage layout for SAP HANA on Azure (Large Instances) is configured by SAP HANA on Azure Service Management through SAP recommended best practices, see the [SAP HANA Storage Requirements](http://go.sap.com/documents/2015/03/74cdb554-5a7c-0010-82c7-eda71af511fa.html) white paper.</span><span class="sxs-lookup"><span data-stu-id="c8897-117">The storage layout for SAP HANA on Azure (Large Instances) is configured by SAP HANA on Azure Service Management through SAP recommended best practices, see the [SAP HANA Storage Requirements](http://go.sap.com/documents/2015/03/74cdb554-5a7c-0010-82c7-eda71af511fa.html) white paper.</span></span>

<span data-ttu-id="c8897-118">The exact configurations of the storage for the different HANA Large Instances looks like:</span><span class="sxs-lookup"><span data-stu-id="c8897-118">The exact configurations of the storage for the different HANA Large Instances looks like:</span></span>

| <span data-ttu-id="c8897-119">Memory Size</span><span class="sxs-lookup"><span data-stu-id="c8897-119">Memory Size</span></span> | <span data-ttu-id="c8897-120">HANA/data</span><span class="sxs-lookup"><span data-stu-id="c8897-120">HANA/data</span></span> | <span data-ttu-id="c8897-121">HANA/log</span><span class="sxs-lookup"><span data-stu-id="c8897-121">HANA/log</span></span> | <span data-ttu-id="c8897-122">HANA/shared</span><span class="sxs-lookup"><span data-stu-id="c8897-122">HANA/shared</span></span> | <span data-ttu-id="c8897-123">HANA/log/backups</span><span class="sxs-lookup"><span data-stu-id="c8897-123">HANA/log/backups</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="c8897-124">768 GB</span><span class="sxs-lookup"><span data-stu-id="c8897-124">768 GB</span></span> | <span data-ttu-id="c8897-125">1280 GB</span><span class="sxs-lookup"><span data-stu-id="c8897-125">1280 GB</span></span> | <span data-ttu-id="c8897-126">512 GB</span><span class="sxs-lookup"><span data-stu-id="c8897-126">512 GB</span></span> | <span data-ttu-id="c8897-127">768 GB</span><span class="sxs-lookup"><span data-stu-id="c8897-127">768 GB</span></span> | <span data-ttu-id="c8897-128">512 GB</span><span class="sxs-lookup"><span data-stu-id="c8897-128">512 GB</span></span> |
| <span data-ttu-id="c8897-129">1536 GB</span><span class="sxs-lookup"><span data-stu-id="c8897-129">1536 GB</span></span> | <span data-ttu-id="c8897-130">3456 GB</span><span class="sxs-lookup"><span data-stu-id="c8897-130">3456 GB</span></span> | <span data-ttu-id="c8897-131">768 GB</span><span class="sxs-lookup"><span data-stu-id="c8897-131">768 GB</span></span> | <span data-ttu-id="c8897-132">1024 GB</span><span class="sxs-lookup"><span data-stu-id="c8897-132">1024 GB</span></span> | <span data-ttu-id="c8897-133">768 GB</span><span class="sxs-lookup"><span data-stu-id="c8897-133">768 GB</span></span> |
| <span data-ttu-id="c8897-134">3072 GB</span><span class="sxs-lookup"><span data-stu-id="c8897-134">3072 GB</span></span> | <span data-ttu-id="c8897-135">7680 GB</span><span class="sxs-lookup"><span data-stu-id="c8897-135">7680 GB</span></span> | <span data-ttu-id="c8897-136">1536 GB</span><span class="sxs-lookup"><span data-stu-id="c8897-136">1536 GB</span></span> | <span data-ttu-id="c8897-137">1024 GB</span><span class="sxs-lookup"><span data-stu-id="c8897-137">1024 GB</span></span> | <span data-ttu-id="c8897-138">1536 GB</span><span class="sxs-lookup"><span data-stu-id="c8897-138">1536 GB</span></span> |

<span data-ttu-id="c8897-139">In addition, customers can purchase additional storage capacity in 1 TB increments.</span><span class="sxs-lookup"><span data-stu-id="c8897-139">In addition, customers can purchase additional storage capacity in 1 TB increments.</span></span> <span data-ttu-id="c8897-140">This additional storage can be added as new volumes to a HANA Large Instances.</span><span class="sxs-lookup"><span data-stu-id="c8897-140">This additional storage can be added as new volumes to a HANA Large Instances.</span></span>

<span data-ttu-id="c8897-141">The storage controller and nodes in the Large Instance stamps are synchronized to NTP servers.</span><span class="sxs-lookup"><span data-stu-id="c8897-141">The storage controller and nodes in the Large Instance stamps are synchronized to NTP servers.</span></span> <span data-ttu-id="c8897-142">With you synchronizing the SAP HANA on Azure (Large Instances) units and Azure VMs against an NTP server, there should be no significant time drift happening between the infrastructure and the compute units in Azure or Large Instance stamps.</span><span class="sxs-lookup"><span data-stu-id="c8897-142">With you synchronizing the SAP HANA on Azure (Large Instances) units and Azure VMs against an NTP server, there should be no significant time drift happening between the infrastructure and the compute units in Azure or Large Instance stamps.</span></span>

## <a name="operating-system"></a><span data-ttu-id="c8897-143">Operating system</span><span class="sxs-lookup"><span data-stu-id="c8897-143">Operating system</span></span>

<span data-ttu-id="c8897-144">[SUSE Linux Enterprise Server 12 SP1 for SAP Applications](https://www.suse.com/products/sles-for-sap/hana) is the distribution of Linux installed for SAP HANA on Azure (Large Instances).</span><span class="sxs-lookup"><span data-stu-id="c8897-144">[SUSE Linux Enterprise Server 12 SP1 for SAP Applications](https://www.suse.com/products/sles-for-sap/hana) is the distribution of Linux installed for SAP HANA on Azure (Large Instances).</span></span> <span data-ttu-id="c8897-145">This particular distribution provides SAP-specific capabilities &quot;out of the box&quot; (including pre-set parameters for running SAP on SLES effectively).</span><span class="sxs-lookup"><span data-stu-id="c8897-145">This particular distribution provides SAP-specific capabilities &quot;out of the box&quot; (including pre-set parameters for running SAP on SLES effectively).</span></span>

<span data-ttu-id="c8897-146">See [Resource Library/White Papers](https://www.suse.com/products/sles-for-sap/resource-library#white-papers) on the SUSE website and [SAP on SUSE](https://wiki.scn.sap.com/wiki/display/ATopics/SAP+on+SUSE) on the SAP Community Network (SCN) for several useful resources related to deploying SAP HANA on SLES (including the set-up of High Availability, security hardening specific to SAP operations, and more).</span><span class="sxs-lookup"><span data-stu-id="c8897-146">See [Resource Library/White Papers](https://www.suse.com/products/sles-for-sap/resource-library#white-papers) on the SUSE website and [SAP on SUSE](https://wiki.scn.sap.com/wiki/display/ATopics/SAP+on+SUSE) on the SAP Community Network (SCN) for several useful resources related to deploying SAP HANA on SLES (including the set-up of High Availability, security hardening specific to SAP operations, and more).</span></span>

<span data-ttu-id="c8897-147">Additional and useful SLES-related links:</span><span class="sxs-lookup"><span data-stu-id="c8897-147">Additional and useful SLES-related links:</span></span>

- [<span data-ttu-id="c8897-148">SAP HANA on SUSE Linux Site</span><span class="sxs-lookup"><span data-stu-id="c8897-148">SAP HANA on SUSE Linux Site</span></span>](https://wiki.scn.sap.com/wiki/display/ATopics/SAP+on+SUSE)
- [<span data-ttu-id="c8897-149">Best Practice for SAP: Enqueue Replication – SAP NetWeaver on SUSE Linux Enterprise 12</span><span class="sxs-lookup"><span data-stu-id="c8897-149">Best Practice for SAP: Enqueue Replication – SAP NetWeaver on SUSE Linux Enterprise 12</span></span>](https://www.suse.com/docrepcontent/container.jsp?containerId=9113)
- <span data-ttu-id="c8897-150">[ClamSAP – SLES Virus Protection for SAP](http://scn.sap.com/community/linux/blog/2014/04/14/clamsap--suse-linux-enterprise-server-integrates-virus-protection-for-sap) (including SLES 12 for SAP Applications)</span><span class="sxs-lookup"><span data-stu-id="c8897-150">[ClamSAP – SLES Virus Protection for SAP](http://scn.sap.com/community/linux/blog/2014/04/14/clamsap--suse-linux-enterprise-server-integrates-virus-protection-for-sap) (including SLES 12 for SAP Applications)</span></span>

<span data-ttu-id="c8897-151">SAP Support Notes applicable to implementing SAP HANA on SLES 12 SP1:</span><span class="sxs-lookup"><span data-stu-id="c8897-151">SAP Support Notes applicable to implementing SAP HANA on SLES 12 SP1:</span></span>

- [<span data-ttu-id="c8897-152">SAP Support Note #1944799 – SAP HANA Guidelines for SLES Operating System Installation</span><span class="sxs-lookup"><span data-stu-id="c8897-152">SAP Support Note #1944799 – SAP HANA Guidelines for SLES Operating System Installation</span></span>](http://go.sap.com/documents/2016/05/e8705aae-717c-0010-82c7-eda71af511fa.html)
- [<span data-ttu-id="c8897-153">SAP Support Note #2205917 – SAP HANA DB Recommended OS Settings for SLES 12 for SAP Applications</span><span class="sxs-lookup"><span data-stu-id="c8897-153">SAP Support Note #2205917 – SAP HANA DB Recommended OS Settings for SLES 12 for SAP Applications</span></span>](https://launchpad.support.sap.com/#/notes/2205917/E)
- [<span data-ttu-id="c8897-154">SAP Support Note #1984787 – SUSE Linux Enterprise Server 12:  Installation Notes</span><span class="sxs-lookup"><span data-stu-id="c8897-154">SAP Support Note #1984787 – SUSE Linux Enterprise Server 12:  Installation Notes</span></span>](https://launchpad.support.sap.com/#/notes/1984787)
- [<span data-ttu-id="c8897-155">SAP Support Note #171356 – SAP Software on Linux:  General Information</span><span class="sxs-lookup"><span data-stu-id="c8897-155">SAP Support Note #171356 – SAP Software on Linux:  General Information</span></span>](https://launchpad.support.sap.com/#/notes/1984787)
- [<span data-ttu-id="c8897-156">SAP Support Note #1391070 – Linux UUID Solutions</span><span class="sxs-lookup"><span data-stu-id="c8897-156">SAP Support Note #1391070 – Linux UUID Solutions</span></span>](https://launchpad.support.sap.com/#/notes/1391070)

## <a name="time-synchronization"></a><span data-ttu-id="c8897-157">Time synchronization</span><span class="sxs-lookup"><span data-stu-id="c8897-157">Time synchronization</span></span>

<span data-ttu-id="c8897-158">SAP is very sensitive on time differences for the various components that comprise the SAP system.</span><span class="sxs-lookup"><span data-stu-id="c8897-158">SAP is very sensitive on time differences for the various components that comprise the SAP system.</span></span> <span data-ttu-id="c8897-159">SAP ABAP short dumps with the error title of ZDATE\_LARGE\_TIME\_DIFF are likely familiar if you have been working with SAP (Basis) for a long time, as these short dumps appear when the system time of different servers or VMs is drifting too far apart.</span><span class="sxs-lookup"><span data-stu-id="c8897-159">SAP ABAP short dumps with the error title of ZDATE\_LARGE\_TIME\_DIFF are likely familiar if you have been working with SAP (Basis) for a long time, as these short dumps appear when the system time of different servers or VMs is drifting too far apart.</span></span>

<span data-ttu-id="c8897-160">For SAP HANA on Azure (Large Instances), time synchronization done in Azure doesn&#39;t apply to the compute units in the Large Instance stamps.</span><span class="sxs-lookup"><span data-stu-id="c8897-160">For SAP HANA on Azure (Large Instances), time synchronization done in Azure doesn&#39;t apply to the compute units in the Large Instance stamps.</span></span> <span data-ttu-id="c8897-161">This is not applicable for running SAP applications natively in Azure (on VMs), as Azure ensures a system&#39;s time is properly synchronized.</span><span class="sxs-lookup"><span data-stu-id="c8897-161">This is not applicable for running SAP applications natively in Azure (on VMs), as Azure ensures a system&#39;s time is properly synchronized.</span></span> <span data-ttu-id="c8897-162">As a result, a separate time server must be set up that can be used by SAP application servers running on Azure VMs and the SAP HANA database instances running on HANA Large Instances.</span><span class="sxs-lookup"><span data-stu-id="c8897-162">As a result, a separate time server must be set up that can be used by SAP application servers running on Azure VMs and the SAP HANA database instances running on HANA Large Instances.</span></span> <span data-ttu-id="c8897-163">The storage infrastructure in Large Instance stamps is time synchronized with NTP servers.</span><span class="sxs-lookup"><span data-stu-id="c8897-163">The storage infrastructure in Large Instance stamps is time synchronized with NTP servers.</span></span>


