---
title: Map Azure CDN content to a custom domain | Microsoft Docs
description: Learn how to map Azure CDN content to a custom domain.
services: cdn
documentationcenter: ''
author: zhangmanling
manager: erikre
editor: ''
ms.assetid: 289f8d9e-8839-4e21-b248-bef320f9dbfc
ms.service: cdn
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/23/2017
ms.author: mazha
ms.openlocfilehash: 079986e9457a4185bae273818fbc852307974638
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44556634"
---
# <a name="map-azure-cdn-content-to-a-custom-domain"></a><span data-ttu-id="c9c3b-103">Map Azure CDN content to a custom domain</span><span class="sxs-lookup"><span data-stu-id="c9c3b-103">Map Azure CDN content to a custom domain</span></span>
<span data-ttu-id="c9c3b-104">You can map a custom domain to a CDN endpoint in order to use your own domain name in URLs to cached content rather than using a subdomain of azureedge.net.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-104">You can map a custom domain to a CDN endpoint in order to use your own domain name in URLs to cached content rather than using a subdomain of azureedge.net.</span></span>

<span data-ttu-id="c9c3b-105">There are two ways to map your custom domain to a CDN endpoint:</span><span class="sxs-lookup"><span data-stu-id="c9c3b-105">There are two ways to map your custom domain to a CDN endpoint:</span></span>

1. <span data-ttu-id="c9c3b-106">[Create a CNAME record with your domain registrar and map your custom domain and subdomain to the CDN endpoint](#register-a-custom-domain-for-an-azure-cdn-endpoint).</span><span class="sxs-lookup"><span data-stu-id="c9c3b-106">[Create a CNAME record with your domain registrar and map your custom domain and subdomain to the CDN endpoint](#register-a-custom-domain-for-an-azure-cdn-endpoint).</span></span>
   
    <span data-ttu-id="c9c3b-107">A CNAME record is a DNS feature that maps a source domain, like `www.contosocdn.com` or `cdn.contoso.com`, to a destination domain.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-107">A CNAME record is a DNS feature that maps a source domain, like `www.contosocdn.com` or `cdn.contoso.com`, to a destination domain.</span></span> <span data-ttu-id="c9c3b-108">In this case, the source domain is your custom domain and subdomain (a subdomain, like **www** or **cdn** is always required).</span><span class="sxs-lookup"><span data-stu-id="c9c3b-108">In this case, the source domain is your custom domain and subdomain (a subdomain, like **www** or **cdn** is always required).</span></span> <span data-ttu-id="c9c3b-109">The destination domain is your CDN endpoint.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-109">The destination domain is your CDN endpoint.</span></span>  
   
    <span data-ttu-id="c9c3b-110">The process of mapping your custom domain to your CDN endpoint can, however, result in a brief period of downtime for the domain while you are registering the domain in the Azure  Portal.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-110">The process of mapping your custom domain to your CDN endpoint can, however, result in a brief period of downtime for the domain while you are registering the domain in the Azure  Portal.</span></span>
2. [<span data-ttu-id="c9c3b-111">Add an intermediate registration step with **cdnverify**</span><span class="sxs-lookup"><span data-stu-id="c9c3b-111">Add an intermediate registration step with **cdnverify**</span></span>](#register-a-custom-domain-for-an-azure-cdn-endpoint-using-the-intermediary-cdnverify-subdomain)
   
    <span data-ttu-id="c9c3b-112">If your custom domain is currently supporting an application with a service-level agreement (SLA) that requires that there be no downtime, then you can use the Azure **cdnverify** subdomain to provide an intermediate registration step so that users will be able to access your domain while the DNS mapping takes place.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-112">If your custom domain is currently supporting an application with a service-level agreement (SLA) that requires that there be no downtime, then you can use the Azure **cdnverify** subdomain to provide an intermediate registration step so that users will be able to access your domain while the DNS mapping takes place.</span></span>  

<span data-ttu-id="c9c3b-113">After you register your custom domain using one of the above procedures, you will want to [verify that the custom subdomain references your CDN endpoint](#verify-that-the-custom-subdomain-references-your-cdn-endpoint).</span><span class="sxs-lookup"><span data-stu-id="c9c3b-113">After you register your custom domain using one of the above procedures, you will want to [verify that the custom subdomain references your CDN endpoint](#verify-that-the-custom-subdomain-references-your-cdn-endpoint).</span></span>

> [!NOTE]
> <span data-ttu-id="c9c3b-114">You must create a CNAME record with your domain registrar to map your domain to the CDN endpoint.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-114">You must create a CNAME record with your domain registrar to map your domain to the CDN endpoint.</span></span> <span data-ttu-id="c9c3b-115">CNAME records map specific subdomains such as `www.contoso.com` or `cdn.contoso.com`.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-115">CNAME records map specific subdomains such as `www.contoso.com` or `cdn.contoso.com`.</span></span> <span data-ttu-id="c9c3b-116">It is not possible to map a CNAME record to a root domain, such as `contoso.com`.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-116">It is not possible to map a CNAME record to a root domain, such as `contoso.com`.</span></span>
> 
> <span data-ttu-id="c9c3b-117">A subdomain can only be associated with one CDN endpoint.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-117">A subdomain can only be associated with one CDN endpoint.</span></span> <span data-ttu-id="c9c3b-118">The CNAME record that you create will route all traffic addressed to the subdomain to the specified endpoint.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-118">The CNAME record that you create will route all traffic addressed to the subdomain to the specified endpoint.</span></span>  <span data-ttu-id="c9c3b-119">For example, if you associate `www.contoso.com` with your CDN endpoint, then you cannot associate it with other Azure endpoints, such as a storage account endpoint or a cloud service endpoint.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-119">For example, if you associate `www.contoso.com` with your CDN endpoint, then you cannot associate it with other Azure endpoints, such as a storage account endpoint or a cloud service endpoint.</span></span> <span data-ttu-id="c9c3b-120">However, you can use different subdomains from the same domain for different service endpoints.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-120">However, you can use different subdomains from the same domain for different service endpoints.</span></span> <span data-ttu-id="c9c3b-121">You can also map different subdomains to the same CDN endpoint.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-121">You can also map different subdomains to the same CDN endpoint.</span></span>
> 
> <span data-ttu-id="c9c3b-122">For **Azure CDN from Verizon** (Standard and Premium) endpoints, note that it takes up to **90 minutes** for custom domain changes to propagate to CDN edge nodes.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-122">For **Azure CDN from Verizon** (Standard and Premium) endpoints, note that it takes up to **90 minutes** for custom domain changes to propagate to CDN edge nodes.</span></span>
> 
> 

## <a name="register-a-custom-domain-for-an-azure-cdn-endpoint"></a><span data-ttu-id="c9c3b-123">Register a custom domain for an Azure CDN endpoint</span><span class="sxs-lookup"><span data-stu-id="c9c3b-123">Register a custom domain for an Azure CDN endpoint</span></span>
1. <span data-ttu-id="c9c3b-124">Log into the [Azure Portal](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="c9c3b-124">Log into the [Azure Portal](https://portal.azure.com/).</span></span>
2. <span data-ttu-id="c9c3b-125">Click **Browse**, then **CDN Profiles**, then the CDN profile with the endpoint you want to map to a custom domain.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-125">Click **Browse**, then **CDN Profiles**, then the CDN profile with the endpoint you want to map to a custom domain.</span></span>  
3. <span data-ttu-id="c9c3b-126">In the **CDN Profile** blade, click the CDN endpoint with which you want to associate the subdomain.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-126">In the **CDN Profile** blade, click the CDN endpoint with which you want to associate the subdomain.</span></span>
4. <span data-ttu-id="c9c3b-127">At the top of the endpoint blade, click the **Add Custom Domain** button.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-127">At the top of the endpoint blade, click the **Add Custom Domain** button.</span></span>  <span data-ttu-id="c9c3b-128">In the **Add a custom domain** blade, you'll see the endpoint host name, derived from your CDN endpoint, to use in creating a new CNAME record.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-128">In the **Add a custom domain** blade, you'll see the endpoint host name, derived from your CDN endpoint, to use in creating a new CNAME record.</span></span> <span data-ttu-id="c9c3b-129">The format of the host name address will appear as **&lt;EndpointName>.azureedge.net**.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-129">The format of the host name address will appear as **&lt;EndpointName>.azureedge.net**.</span></span>  <span data-ttu-id="c9c3b-130">You can copy this host name to use in creating the CNAME record.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-130">You can copy this host name to use in creating the CNAME record.</span></span>  
5. <span data-ttu-id="c9c3b-131">Navigate to your domain registrar's web site, and locate the section for creating DNS records.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-131">Navigate to your domain registrar's web site, and locate the section for creating DNS records.</span></span> <span data-ttu-id="c9c3b-132">You might find this in a section such as **Domain Name**, **DNS**, or **Name Server Management**.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-132">You might find this in a section such as **Domain Name**, **DNS**, or **Name Server Management**.</span></span>
6. <span data-ttu-id="c9c3b-133">Find the section for managing CNAMEs.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-133">Find the section for managing CNAMEs.</span></span> <span data-ttu-id="c9c3b-134">You may have to go to an advanced settings page and look for the words CNAME, Alias, or Subdomains.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-134">You may have to go to an advanced settings page and look for the words CNAME, Alias, or Subdomains.</span></span>
7. <span data-ttu-id="c9c3b-135">Create a new CNAME record that maps your chosen subdomain (for example, **www** or **cdn**) to the host name provided in the **Add a custom domain** blade.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-135">Create a new CNAME record that maps your chosen subdomain (for example, **www** or **cdn**) to the host name provided in the **Add a custom domain** blade.</span></span> 
8. <span data-ttu-id="c9c3b-136">Return to the **Add a custom domain** blade, and enter your custom domain, including the subdomain, in the dialog box.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-136">Return to the **Add a custom domain** blade, and enter your custom domain, including the subdomain, in the dialog box.</span></span> <span data-ttu-id="c9c3b-137">For example, enter the domain name in the format `www.contoso.com` or `cdn.contoso.com`.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-137">For example, enter the domain name in the format `www.contoso.com` or `cdn.contoso.com`.</span></span>   
   
   <span data-ttu-id="c9c3b-138">Azure will verify that the CNAME record exists for the domain name you have entered.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-138">Azure will verify that the CNAME record exists for the domain name you have entered.</span></span> <span data-ttu-id="c9c3b-139">If the CNAME is correct, your custom domain is validated.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-139">If the CNAME is correct, your custom domain is validated.</span></span>  <span data-ttu-id="c9c3b-140">For **Azure CDN from Verizon** (Standard and Premium) endpoints, it may take up to 90 minutes for custom domain settings to propagate to all CDN edge nodes, however.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-140">For **Azure CDN from Verizon** (Standard and Premium) endpoints, it may take up to 90 minutes for custom domain settings to propagate to all CDN edge nodes, however.</span></span>  
   
   <span data-ttu-id="c9c3b-141">Note that in some cases it can take time for the CNAME record to propagate to name servers on the Internet.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-141">Note that in some cases it can take time for the CNAME record to propagate to name servers on the Internet.</span></span> <span data-ttu-id="c9c3b-142">If your domain is not validated immediately, and you believe the CNAME record is correct, then wait a few minutes and try again.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-142">If your domain is not validated immediately, and you believe the CNAME record is correct, then wait a few minutes and try again.</span></span>

## <a name="register-a-custom-domain-for-an-azure-cdn-endpoint-using-the-intermediary-cdnverify-subdomain"></a><span data-ttu-id="c9c3b-143">Register a custom domain for an Azure CDN endpoint using the intermediary cdnverify subdomain</span><span class="sxs-lookup"><span data-stu-id="c9c3b-143">Register a custom domain for an Azure CDN endpoint using the intermediary cdnverify subdomain</span></span>
1. <span data-ttu-id="c9c3b-144">Log into the [Azure Portal](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="c9c3b-144">Log into the [Azure Portal](https://portal.azure.com/).</span></span>
2. <span data-ttu-id="c9c3b-145">Click **Browse**, then **CDN Profiles**, then the CDN profile with the endpoint you want to map to a custom domain.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-145">Click **Browse**, then **CDN Profiles**, then the CDN profile with the endpoint you want to map to a custom domain.</span></span>  
3. <span data-ttu-id="c9c3b-146">In the **CDN Profile** blade, click the CDN endpoint with which you want to associate the subdomain.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-146">In the **CDN Profile** blade, click the CDN endpoint with which you want to associate the subdomain.</span></span>
4. <span data-ttu-id="c9c3b-147">At the top of the endpoint blade, click the **Add Custom Domain** button.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-147">At the top of the endpoint blade, click the **Add Custom Domain** button.</span></span>  <span data-ttu-id="c9c3b-148">In the **Add a custom domain** blade, you'll see the endpoint host name, derived from your CDN endpoint, to use in creating a new CNAME record.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-148">In the **Add a custom domain** blade, you'll see the endpoint host name, derived from your CDN endpoint, to use in creating a new CNAME record.</span></span> <span data-ttu-id="c9c3b-149">The format of the host name address will appear as **&lt;EndpointName>.azureedge.net**.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-149">The format of the host name address will appear as **&lt;EndpointName>.azureedge.net**.</span></span>  <span data-ttu-id="c9c3b-150">You can copy this host name to use in creating the CNAME record.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-150">You can copy this host name to use in creating the CNAME record.</span></span>
5. <span data-ttu-id="c9c3b-151">Navigate to your domain registrar's web site, and locate the section for creating DNS records.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-151">Navigate to your domain registrar's web site, and locate the section for creating DNS records.</span></span> <span data-ttu-id="c9c3b-152">You might find this in a section such as **Domain Name**, **DNS**, or **Name Server Management**.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-152">You might find this in a section such as **Domain Name**, **DNS**, or **Name Server Management**.</span></span>
6. <span data-ttu-id="c9c3b-153">Find the section for managing CNAMEs.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-153">Find the section for managing CNAMEs.</span></span> <span data-ttu-id="c9c3b-154">You may have to go to an advanced settings page and look for the words **CNAME**, **Alias**, or **Subdomains**.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-154">You may have to go to an advanced settings page and look for the words **CNAME**, **Alias**, or **Subdomains**.</span></span>
7. <span data-ttu-id="c9c3b-155">Create a new CNAME record, and provide a subdomain alias that includes the **cdnverify** subdomain.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-155">Create a new CNAME record, and provide a subdomain alias that includes the **cdnverify** subdomain.</span></span> <span data-ttu-id="c9c3b-156">For example, the subdomain that you specify will be in the format **cdnverify.www** or **cdnverify.cdn**.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-156">For example, the subdomain that you specify will be in the format **cdnverify.www** or **cdnverify.cdn**.</span></span> <span data-ttu-id="c9c3b-157">Then provide the host name, which is your CDN endpoint, in the format **cdnverify.&lt;EndpointName>.azureedge.net**.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-157">Then provide the host name, which is your CDN endpoint, in the format **cdnverify.&lt;EndpointName>.azureedge.net**.</span></span> <span data-ttu-id="c9c3b-158">Your DNS mapping should look like: `cdnverify.www.consoto.com   CNAME   cdnverify.consoto.azureedge.net`</span><span class="sxs-lookup"><span data-stu-id="c9c3b-158">Your DNS mapping should look like: `cdnverify.www.consoto.com   CNAME   cdnverify.consoto.azureedge.net`</span></span>  
8. <span data-ttu-id="c9c3b-159">Return to the **Add a custom domain** blade, and enter your custom domain, including the subdomain, in the dialog box.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-159">Return to the **Add a custom domain** blade, and enter your custom domain, including the subdomain, in the dialog box.</span></span> <span data-ttu-id="c9c3b-160">For example, enter the domain name in the format `www.contoso.com` or `cdn.contoso.com`.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-160">For example, enter the domain name in the format `www.contoso.com` or `cdn.contoso.com`.</span></span> <span data-ttu-id="c9c3b-161">Note that in this step, you do not need to preface the subdomain with **cdncverify**.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-161">Note that in this step, you do not need to preface the subdomain with **cdncverify**.</span></span>  
   
    <span data-ttu-id="c9c3b-162">Azure will verify that the CNAME record exists for the cdnverify domain name you have entered.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-162">Azure will verify that the CNAME record exists for the cdnverify domain name you have entered.</span></span>
9. <span data-ttu-id="c9c3b-163">At this point, your custom domain has been verified by Azure, but traffic to your domain is not yet being routed to your CDN endpoint.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-163">At this point, your custom domain has been verified by Azure, but traffic to your domain is not yet being routed to your CDN endpoint.</span></span> <span data-ttu-id="c9c3b-164">After waiting long enough to allow the custom domain settings to propagate to the CDN edge nodes (90 minutes for **Azure CDN from Verizon**, 1-2 minutes for **Azure CDN from Akamai**), return to your DNS registrar's web site and create another CNAME record that maps your subdomain to your CDN endpoint.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-164">After waiting long enough to allow the custom domain settings to propagate to the CDN edge nodes (90 minutes for **Azure CDN from Verizon**, 1-2 minutes for **Azure CDN from Akamai**), return to your DNS registrar's web site and create another CNAME record that maps your subdomain to your CDN endpoint.</span></span> <span data-ttu-id="c9c3b-165">For example, specify the subdomain as **www** or **cdn**, and the hostname as **&lt;EndpointName>.azureedge.net**.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-165">For example, specify the subdomain as **www** or **cdn**, and the hostname as **&lt;EndpointName>.azureedge.net**.</span></span> <span data-ttu-id="c9c3b-166">With this step, the registration of your custom domain is complete.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-166">With this step, the registration of your custom domain is complete.</span></span>
10. <span data-ttu-id="c9c3b-167">Finally, you can delete the CNAME record you created using **cdnverify**, as it was necessary only as an intermediary step.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-167">Finally, you can delete the CNAME record you created using **cdnverify**, as it was necessary only as an intermediary step.</span></span>  

## <a name="verify-that-the-custom-subdomain-references-your-cdn-endpoint"></a><span data-ttu-id="c9c3b-168">Verify that the custom subdomain references your CDN endpoint</span><span class="sxs-lookup"><span data-stu-id="c9c3b-168">Verify that the custom subdomain references your CDN endpoint</span></span>
* <span data-ttu-id="c9c3b-169">After you have completed the registration of your custom domain, you can access content that is cached at your CDN endpoint using the custom domain.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-169">After you have completed the registration of your custom domain, you can access content that is cached at your CDN endpoint using the custom domain.</span></span>
  <span data-ttu-id="c9c3b-170">First, ensure that you have public content that is cached at the endpoint.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-170">First, ensure that you have public content that is cached at the endpoint.</span></span> <span data-ttu-id="c9c3b-171">For example, if your CDN endpoint is associated with a storage account, the CDN caches content in public blob containers.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-171">For example, if your CDN endpoint is associated with a storage account, the CDN caches content in public blob containers.</span></span> <span data-ttu-id="c9c3b-172">To test the custom domain, ensure that your container is set to allow public access and that it contains at least one blob.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-172">To test the custom domain, ensure that your container is set to allow public access and that it contains at least one blob.</span></span>
* <span data-ttu-id="c9c3b-173">In your browser, navigate to the address of the blob using the custom domain.</span><span class="sxs-lookup"><span data-stu-id="c9c3b-173">In your browser, navigate to the address of the blob using the custom domain.</span></span> <span data-ttu-id="c9c3b-174">For example, if your custom domain is `cdn.contoso.com`, the URL to a cached blob will be similar to the following URL: http://cdn.contoso.com/mypubliccontainer/acachedblob.jpg</span><span class="sxs-lookup"><span data-stu-id="c9c3b-174">For example, if your custom domain is `cdn.contoso.com`, the URL to a cached blob will be similar to the following URL: http://cdn.contoso.com/mypubliccontainer/acachedblob.jpg</span></span>

## <a name="see-also"></a><span data-ttu-id="c9c3b-175">See Also</span><span class="sxs-lookup"><span data-stu-id="c9c3b-175">See Also</span></span>
[<span data-ttu-id="c9c3b-176">How to Enable the Content Delivery Network (CDN)  for Azure</span><span class="sxs-lookup"><span data-stu-id="c9c3b-176">How to Enable the Content Delivery Network (CDN)  for Azure</span></span>](cdn-create-new-endpoint.md)  

