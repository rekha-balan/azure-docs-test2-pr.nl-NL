---
title: HTTP variables for Azure CDN rules engine | Microsoft Docs
description: HTTP variables allow you to retrieve HTTP request and response metadata.
services: cdn
documentationcenter: ''
author: dksimpson
manager: cfowler
editor: ''
ms.assetid: ''
ms.service: cdn
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/09/2018
ms.author: v-deasim
ms.openlocfilehash: 36c1b20219fabd1b7c02247d9a93bb7b7cfc898d
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44866313"
---
# <a name="http-variables-for-azure-cdn-rules-engine"></a><span data-ttu-id="4a972-103">HTTP variables for Azure CDN rules engine</span><span class="sxs-lookup"><span data-stu-id="4a972-103">HTTP variables for Azure CDN rules engine</span></span>
<span data-ttu-id="4a972-104">HTTP variables provide the means through which you can retrieve HTTP request and response metadata.</span><span class="sxs-lookup"><span data-stu-id="4a972-104">HTTP variables provide the means through which you can retrieve HTTP request and response metadata.</span></span> <span data-ttu-id="4a972-105">This metadata can then be used to dynamically alter a request or a response.</span><span class="sxs-lookup"><span data-stu-id="4a972-105">This metadata can then be used to dynamically alter a request or a response.</span></span> <span data-ttu-id="4a972-106">The use of HTTP variables is restricted to the following rules engine features:</span><span class="sxs-lookup"><span data-stu-id="4a972-106">The use of HTTP variables is restricted to the following rules engine features:</span></span>

- [<span data-ttu-id="4a972-107">Cache-Key Rewrite</span><span class="sxs-lookup"><span data-stu-id="4a972-107">Cache-Key Rewrite</span></span>](cdn-rules-engine-reference-features.md#cache-key-rewrite)
- [<span data-ttu-id="4a972-108">Modify Client Request Header</span><span class="sxs-lookup"><span data-stu-id="4a972-108">Modify Client Request Header</span></span>](cdn-rules-engine-reference-features.md#modify-client-request-header)
- [<span data-ttu-id="4a972-109">Modify Client Response Header</span><span class="sxs-lookup"><span data-stu-id="4a972-109">Modify Client Response Header</span></span>](cdn-rules-engine-reference-features.md#modify-client-response-header)
- [<span data-ttu-id="4a972-110">URL Redirect</span><span class="sxs-lookup"><span data-stu-id="4a972-110">URL Redirect</span></span>](cdn-rules-engine-reference-features.md#url-redirect)
- [<span data-ttu-id="4a972-111">URL Rewrite</span><span class="sxs-lookup"><span data-stu-id="4a972-111">URL Rewrite</span></span>](cdn-rules-engine-reference-features.md#url-rewrite)

## <a name="definitions"></a><span data-ttu-id="4a972-112">Definitions</span><span class="sxs-lookup"><span data-stu-id="4a972-112">Definitions</span></span>
<span data-ttu-id="4a972-113">The following table describes the supported HTTP variables.</span><span class="sxs-lookup"><span data-stu-id="4a972-113">The following table describes the supported HTTP variables.</span></span> <span data-ttu-id="4a972-114">A blank value is returned when GEO metadata (for example, postal code) is unavailable for a particular request.</span><span class="sxs-lookup"><span data-stu-id="4a972-114">A blank value is returned when GEO metadata (for example, postal code) is unavailable for a particular request.</span></span>


| <span data-ttu-id="4a972-115">Name</span><span class="sxs-lookup"><span data-stu-id="4a972-115">Name</span></span> | <span data-ttu-id="4a972-116">Variable</span><span class="sxs-lookup"><span data-stu-id="4a972-116">Variable</span></span> | <span data-ttu-id="4a972-117">Description</span><span class="sxs-lookup"><span data-stu-id="4a972-117">Description</span></span> | <span data-ttu-id="4a972-118">Sample value</span><span class="sxs-lookup"><span data-stu-id="4a972-118">Sample value</span></span> |
| ---- | -------- | ----------- | ------------ |
| <span data-ttu-id="4a972-119">ASN (Requester)</span><span class="sxs-lookup"><span data-stu-id="4a972-119">ASN (Requester)</span></span> | <span data-ttu-id="4a972-120">%{geo_asnum}</span><span class="sxs-lookup"><span data-stu-id="4a972-120">%{geo_asnum}</span></span> | <span data-ttu-id="4a972-121">Indicates the requester's AS number.</span><span class="sxs-lookup"><span data-stu-id="4a972-121">Indicates the requester's AS number.</span></span> <br /><br /><span data-ttu-id="4a972-122">**Deprecated:** %{virt_dst_asnum}.</span><span class="sxs-lookup"><span data-stu-id="4a972-122">**Deprecated:** %{virt_dst_asnum}.</span></span> <br /><span data-ttu-id="4a972-123">This variable has been deprecated in favor of %{geo_asnum}.</span><span class="sxs-lookup"><span data-stu-id="4a972-123">This variable has been deprecated in favor of %{geo_asnum}.</span></span> <span data-ttu-id="4a972-124">Although a rule that uses this deprecated variable will continue to work, you should update it to use the new variable.</span><span class="sxs-lookup"><span data-stu-id="4a972-124">Although a rule that uses this deprecated variable will continue to work, you should update it to use the new variable.</span></span> | <span data-ttu-id="4a972-125">AS15133</span><span class="sxs-lookup"><span data-stu-id="4a972-125">AS15133</span></span> |
| <span data-ttu-id="4a972-126">City (Requester)</span><span class="sxs-lookup"><span data-stu-id="4a972-126">City (Requester)</span></span> | <span data-ttu-id="4a972-127">%{geo_city}</span><span class="sxs-lookup"><span data-stu-id="4a972-127">%{geo_city}</span></span> | <span data-ttu-id="4a972-128">Indicates the requester's city.</span><span class="sxs-lookup"><span data-stu-id="4a972-128">Indicates the requester's city.</span></span> | <span data-ttu-id="4a972-129">Los Angeles</span><span class="sxs-lookup"><span data-stu-id="4a972-129">Los Angeles</span></span> |
| <span data-ttu-id="4a972-130">Continent (Requester)</span><span class="sxs-lookup"><span data-stu-id="4a972-130">Continent (Requester)</span></span> | <span data-ttu-id="4a972-131">%{geo_continent}</span><span class="sxs-lookup"><span data-stu-id="4a972-131">%{geo_continent}</span></span> | <span data-ttu-id="4a972-132">Indicates the requester's continent through its abbreviation.</span><span class="sxs-lookup"><span data-stu-id="4a972-132">Indicates the requester's continent through its abbreviation.</span></span> <br /><span data-ttu-id="4a972-133">Valid values are:</span><span class="sxs-lookup"><span data-stu-id="4a972-133">Valid values are:</span></span> <br /><span data-ttu-id="4a972-134">AF: Africa</span><span class="sxs-lookup"><span data-stu-id="4a972-134">AF: Africa</span></span><br /><span data-ttu-id="4a972-135">AS: Asia</span><span class="sxs-lookup"><span data-stu-id="4a972-135">AS: Asia</span></span><br /><span data-ttu-id="4a972-136">EU: Europe</span><span class="sxs-lookup"><span data-stu-id="4a972-136">EU: Europe</span></span><br /><span data-ttu-id="4a972-137">NA: North America</span><span class="sxs-lookup"><span data-stu-id="4a972-137">NA: North America</span></span><br /><span data-ttu-id="4a972-138">OC: Oceania</span><span class="sxs-lookup"><span data-stu-id="4a972-138">OC: Oceania</span></span><br /><span data-ttu-id="4a972-139">SA: South America</span><span class="sxs-lookup"><span data-stu-id="4a972-139">SA: South America</span></span><br /><br /><span data-ttu-id="4a972-140">**Deprecated:** %{virt_dst_continent}.</span><span class="sxs-lookup"><span data-stu-id="4a972-140">**Deprecated:** %{virt_dst_continent}.</span></span> <span data-ttu-id="4a972-141"><ber />This variable has been deprecated in favor of %{geo_continent}.</span><span class="sxs-lookup"><span data-stu-id="4a972-141"><ber />This variable has been deprecated in favor of %{geo_continent}.</span></span> <br /><span data-ttu-id="4a972-142">Although a rule that uses this deprecated variable will continue to work, you should update it to use the new variable.</span><span class="sxs-lookup"><span data-stu-id="4a972-142">Although a rule that uses this deprecated variable will continue to work, you should update it to use the new variable.</span></span>| <span data-ttu-id="4a972-143">N/A</span><span class="sxs-lookup"><span data-stu-id="4a972-143">N/A</span></span> |
| <span data-ttu-id="4a972-144">Cookie Value</span><span class="sxs-lookup"><span data-stu-id="4a972-144">Cookie Value</span></span> | <span data-ttu-id="4a972-145">%{cookie_Cookie}</span><span class="sxs-lookup"><span data-stu-id="4a972-145">%{cookie_Cookie}</span></span> | <span data-ttu-id="4a972-146">Returns the value corresponding to the cookie key identified by the Cookie term.</span><span class="sxs-lookup"><span data-stu-id="4a972-146">Returns the value corresponding to the cookie key identified by the Cookie term.</span></span> | <span data-ttu-id="4a972-147">Sample Usage:</span><span class="sxs-lookup"><span data-stu-id="4a972-147">Sample Usage:</span></span> <br /><span data-ttu-id="4a972-148">%{cookie__utma}</span><span class="sxs-lookup"><span data-stu-id="4a972-148">%{cookie__utma}</span></span><br /><br /><span data-ttu-id="4a972-149">Sample Value:</span><span class="sxs-lookup"><span data-stu-id="4a972-149">Sample Value:</span></span><br /><span data-ttu-id="4a972-150">111662281.2.10.1222100123</span><span class="sxs-lookup"><span data-stu-id="4a972-150">111662281.2.10.1222100123</span></span> |
| <span data-ttu-id="4a972-151">Country (Requester)</span><span class="sxs-lookup"><span data-stu-id="4a972-151">Country (Requester)</span></span> | <span data-ttu-id="4a972-152">%{geo_country}</span><span class="sxs-lookup"><span data-stu-id="4a972-152">%{geo_country}</span></span> | <span data-ttu-id="4a972-153">Indicates the requester's country of origin through its country code.</span><span class="sxs-lookup"><span data-stu-id="4a972-153">Indicates the requester's country of origin through its country code.</span></span> <br /><span data-ttu-id="4a972-154">**Deprecated:** %{virt_dst_country}.</span><span class="sxs-lookup"><span data-stu-id="4a972-154">**Deprecated:** %{virt_dst_country}.</span></span> <br /><br /><span data-ttu-id="4a972-155">This variable has been deprecated in favor of %{geo_country}.</span><span class="sxs-lookup"><span data-stu-id="4a972-155">This variable has been deprecated in favor of %{geo_country}.</span></span> <span data-ttu-id="4a972-156">Although a rule that uses this deprecated variable will continue to work, you should update it to use the new variable.</span><span class="sxs-lookup"><span data-stu-id="4a972-156">Although a rule that uses this deprecated variable will continue to work, you should update it to use the new variable.</span></span> | <span data-ttu-id="4a972-157">US</span><span class="sxs-lookup"><span data-stu-id="4a972-157">US</span></span> |
| <span data-ttu-id="4a972-158">Designated Market Area (Requester)</span><span class="sxs-lookup"><span data-stu-id="4a972-158">Designated Market Area (Requester)</span></span> | <span data-ttu-id="4a972-159">%{geo_dma_code}</span><span class="sxs-lookup"><span data-stu-id="4a972-159">%{geo_dma_code}</span></span> |<span data-ttu-id="4a972-160">Indicates the requester's media market by its region code.</span><span class="sxs-lookup"><span data-stu-id="4a972-160">Indicates the requester's media market by its region code.</span></span> <br /><br /><span data-ttu-id="4a972-161">This field is only applicable to requests that originate from the United States.</span><span class="sxs-lookup"><span data-stu-id="4a972-161">This field is only applicable to requests that originate from the United States.</span></span>| <span data-ttu-id="4a972-162">745</span><span class="sxs-lookup"><span data-stu-id="4a972-162">745</span></span> |
| <span data-ttu-id="4a972-163">HTTP Request Method</span><span class="sxs-lookup"><span data-stu-id="4a972-163">HTTP Request Method</span></span> | <span data-ttu-id="4a972-164">%{request_method}</span><span class="sxs-lookup"><span data-stu-id="4a972-164">%{request_method}</span></span> | <span data-ttu-id="4a972-165">Indicates the HTTP request method.</span><span class="sxs-lookup"><span data-stu-id="4a972-165">Indicates the HTTP request method.</span></span> | <span data-ttu-id="4a972-166">GET</span><span class="sxs-lookup"><span data-stu-id="4a972-166">GET</span></span> |
| <span data-ttu-id="4a972-167">HTTP Status Code</span><span class="sxs-lookup"><span data-stu-id="4a972-167">HTTP Status Code</span></span> | <span data-ttu-id="4a972-168">%{status}</span><span class="sxs-lookup"><span data-stu-id="4a972-168">%{status}</span></span> | <span data-ttu-id="4a972-169">Indicates the HTTP status code for the response.</span><span class="sxs-lookup"><span data-stu-id="4a972-169">Indicates the HTTP status code for the response.</span></span> | <span data-ttu-id="4a972-170">200</span><span class="sxs-lookup"><span data-stu-id="4a972-170">200</span></span> |
| <span data-ttu-id="4a972-171">IP Address (Requester)</span><span class="sxs-lookup"><span data-stu-id="4a972-171">IP Address (Requester)</span></span> | <span data-ttu-id="4a972-172">%{virt_dst_addr}</span><span class="sxs-lookup"><span data-stu-id="4a972-172">%{virt_dst_addr}</span></span> | <span data-ttu-id="4a972-173">Indicates the requester's IP address.</span><span class="sxs-lookup"><span data-stu-id="4a972-173">Indicates the requester's IP address.</span></span> | <span data-ttu-id="4a972-174">192.168.1.1</span><span class="sxs-lookup"><span data-stu-id="4a972-174">192.168.1.1</span></span> |
| <span data-ttu-id="4a972-175">Latitude (Requester)</span><span class="sxs-lookup"><span data-stu-id="4a972-175">Latitude (Requester)</span></span> | <span data-ttu-id="4a972-176">%{geo_latitude}</span><span class="sxs-lookup"><span data-stu-id="4a972-176">%{geo_latitude}</span></span> | <span data-ttu-id="4a972-177">Indicates the requester's latitude.</span><span class="sxs-lookup"><span data-stu-id="4a972-177">Indicates the requester's latitude.</span></span> | <span data-ttu-id="4a972-178">34.0995</span><span class="sxs-lookup"><span data-stu-id="4a972-178">34.0995</span></span> |
| <span data-ttu-id="4a972-179">Longitude (Requester)</span><span class="sxs-lookup"><span data-stu-id="4a972-179">Longitude (Requester)</span></span> | <span data-ttu-id="4a972-180">%{geo_longitude}</span><span class="sxs-lookup"><span data-stu-id="4a972-180">%{geo_longitude}</span></span> | <span data-ttu-id="4a972-181">Indicates the requester's longitude.</span><span class="sxs-lookup"><span data-stu-id="4a972-181">Indicates the requester's longitude.</span></span> | <span data-ttu-id="4a972-182">-118.4143</span><span class="sxs-lookup"><span data-stu-id="4a972-182">-118.4143</span></span> |
| <span data-ttu-id="4a972-183">Metropolitan Statistical Area (Requester)</span><span class="sxs-lookup"><span data-stu-id="4a972-183">Metropolitan Statistical Area (Requester)</span></span> | <span data-ttu-id="4a972-184">%{geo_metro_code}</span><span class="sxs-lookup"><span data-stu-id="4a972-184">%{geo_metro_code}</span></span> | <span data-ttu-id="4a972-185">Indicates the requester's metropolitan area.</span><span class="sxs-lookup"><span data-stu-id="4a972-185">Indicates the requester's metropolitan area.</span></span> <br /><br /><span data-ttu-id="4a972-186">This field is only applicable to requests that originate from the United States.</span><span class="sxs-lookup"><span data-stu-id="4a972-186">This field is only applicable to requests that originate from the United States.</span></span><br />| <span data-ttu-id="4a972-187">745</span><span class="sxs-lookup"><span data-stu-id="4a972-187">745</span></span> |
| <span data-ttu-id="4a972-188">Port (Requester)</span><span class="sxs-lookup"><span data-stu-id="4a972-188">Port (Requester)</span></span> | <span data-ttu-id="4a972-189">%{virt_dst_port}</span><span class="sxs-lookup"><span data-stu-id="4a972-189">%{virt_dst_port}</span></span> | <span data-ttu-id="4a972-190">Indicates the requester's ephemeral port.</span><span class="sxs-lookup"><span data-stu-id="4a972-190">Indicates the requester's ephemeral port.</span></span> | <span data-ttu-id="4a972-191">55885</span><span class="sxs-lookup"><span data-stu-id="4a972-191">55885</span></span> |
| <span data-ttu-id="4a972-192">Postal Code (Requester)</span><span class="sxs-lookup"><span data-stu-id="4a972-192">Postal Code (Requester)</span></span> | <span data-ttu-id="4a972-193">%{geo_postal_code}</span><span class="sxs-lookup"><span data-stu-id="4a972-193">%{geo_postal_code}</span></span> | <span data-ttu-id="4a972-194">Indicates the requester's postal code.</span><span class="sxs-lookup"><span data-stu-id="4a972-194">Indicates the requester's postal code.</span></span> | <span data-ttu-id="4a972-195">90210</span><span class="sxs-lookup"><span data-stu-id="4a972-195">90210</span></span> |
| <span data-ttu-id="4a972-196">Query String Found</span><span class="sxs-lookup"><span data-stu-id="4a972-196">Query String Found</span></span> | <span data-ttu-id="4a972-197">%{is_args}</span><span class="sxs-lookup"><span data-stu-id="4a972-197">%{is_args}</span></span> | <span data-ttu-id="4a972-198">The value for this variable varies according to whether the request contains a query string.</span><span class="sxs-lookup"><span data-stu-id="4a972-198">The value for this variable varies according to whether the request contains a query string.</span></span><br /><br /><span data-ttu-id="4a972-199">- Query String Found: ?</span><span class="sxs-lookup"><span data-stu-id="4a972-199">- Query String Found: ?</span></span><br /><span data-ttu-id="4a972-200">- No Query String: NULL</span><span class="sxs-lookup"><span data-stu-id="4a972-200">- No Query String: NULL</span></span> | <span data-ttu-id="4a972-201">?</span><span class="sxs-lookup"><span data-stu-id="4a972-201">?</span></span> |
| <span data-ttu-id="4a972-202">Query String Parameter Found</span><span class="sxs-lookup"><span data-stu-id="4a972-202">Query String Parameter Found</span></span> | <span data-ttu-id="4a972-203">%{is_amp}</span><span class="sxs-lookup"><span data-stu-id="4a972-203">%{is_amp}</span></span> | <span data-ttu-id="4a972-204">The value for this variable varies according to whether the request contains at least one query string parameter.</span><span class="sxs-lookup"><span data-stu-id="4a972-204">The value for this variable varies according to whether the request contains at least one query string parameter.</span></span><br /><br /><span data-ttu-id="4a972-205">- Parameter Found: &</span><span class="sxs-lookup"><span data-stu-id="4a972-205">- Parameter Found: &</span></span><br /><span data-ttu-id="4a972-206">- No Parameters: NULL</span><span class="sxs-lookup"><span data-stu-id="4a972-206">- No Parameters: NULL</span></span> | & |
| <span data-ttu-id="4a972-207">Query String Parameter Value</span><span class="sxs-lookup"><span data-stu-id="4a972-207">Query String Parameter Value</span></span> | <span data-ttu-id="4a972-208">%{arg_&lt;parameter&gt;}</span><span class="sxs-lookup"><span data-stu-id="4a972-208">%{arg_&lt;parameter&gt;}</span></span> | <span data-ttu-id="4a972-209">Returns the value corresponding to the query string parameter identified by the &lt;parameter&gt; term.</span><span class="sxs-lookup"><span data-stu-id="4a972-209">Returns the value corresponding to the query string parameter identified by the &lt;parameter&gt; term.</span></span> | <span data-ttu-id="4a972-210">Sample Usage:</span><span class="sxs-lookup"><span data-stu-id="4a972-210">Sample Usage:</span></span> <br /><span data-ttu-id="4a972-211">%{arg_language}</span><span class="sxs-lookup"><span data-stu-id="4a972-211">%{arg_language}</span></span><br /><br /><span data-ttu-id="4a972-212">Sample Query String Parameter:</span><span class="sxs-lookup"><span data-stu-id="4a972-212">Sample Query String Parameter:</span></span> <br /><span data-ttu-id="4a972-213">?language=en</span><span class="sxs-lookup"><span data-stu-id="4a972-213">?language=en</span></span><br /><br /><span data-ttu-id="4a972-214">Sample Value: en</span><span class="sxs-lookup"><span data-stu-id="4a972-214">Sample Value: en</span></span> |
| <span data-ttu-id="4a972-215">Query String Value</span><span class="sxs-lookup"><span data-stu-id="4a972-215">Query String Value</span></span> | <span data-ttu-id="4a972-216">%{query_string}</span><span class="sxs-lookup"><span data-stu-id="4a972-216">%{query_string}</span></span> | <span data-ttu-id="4a972-217">Indicates the entire query string value defined in the request URL.</span><span class="sxs-lookup"><span data-stu-id="4a972-217">Indicates the entire query string value defined in the request URL.</span></span> |<span data-ttu-id="4a972-218">key1=val1&key2=val2&key3=val3</span><span class="sxs-lookup"><span data-stu-id="4a972-218">key1=val1&key2=val2&key3=val3</span></span> |
| <span data-ttu-id="4a972-219">Referrer Domain</span><span class="sxs-lookup"><span data-stu-id="4a972-219">Referrer Domain</span></span> | <span data-ttu-id="4a972-220">%{referring_domain}</span><span class="sxs-lookup"><span data-stu-id="4a972-220">%{referring_domain}</span></span> | <span data-ttu-id="4a972-221">Indicates the domain defined in the Referer request header.</span><span class="sxs-lookup"><span data-stu-id="4a972-221">Indicates the domain defined in the Referer request header.</span></span> | <span data-ttu-id="4a972-222">www.google.com</span><span class="sxs-lookup"><span data-stu-id="4a972-222">www.google.com</span></span> |
| <span data-ttu-id="4a972-223">Region (Requester)</span><span class="sxs-lookup"><span data-stu-id="4a972-223">Region (Requester)</span></span> | <span data-ttu-id="4a972-224">%{geo_region}</span><span class="sxs-lookup"><span data-stu-id="4a972-224">%{geo_region}</span></span> | <span data-ttu-id="4a972-225">Indicates the requester's region (for example, state or province) through its alphanumeric abbreviation.</span><span class="sxs-lookup"><span data-stu-id="4a972-225">Indicates the requester's region (for example, state or province) through its alphanumeric abbreviation.</span></span> | <span data-ttu-id="4a972-226">CA</span><span class="sxs-lookup"><span data-stu-id="4a972-226">CA</span></span> |
| <span data-ttu-id="4a972-227">Request Header Value</span><span class="sxs-lookup"><span data-stu-id="4a972-227">Request Header Value</span></span> | <span data-ttu-id="4a972-228">%{http_RequestHeader}</span><span class="sxs-lookup"><span data-stu-id="4a972-228">%{http_RequestHeader}</span></span> | <span data-ttu-id="4a972-229">Returns the value corresponding to the request header identified by the RequestHeader term.</span><span class="sxs-lookup"><span data-stu-id="4a972-229">Returns the value corresponding to the request header identified by the RequestHeader term.</span></span> <br /><br /><span data-ttu-id="4a972-230">If the name of the request header contains a dash (for example, User-Agent), replace it with an underscore (for example, User_Agent).</span><span class="sxs-lookup"><span data-stu-id="4a972-230">If the name of the request header contains a dash (for example, User-Agent), replace it with an underscore (for example, User_Agent).</span></span>| <span data-ttu-id="4a972-231">Sample Usage: %{http_Connection}</span><span class="sxs-lookup"><span data-stu-id="4a972-231">Sample Usage: %{http_Connection}</span></span><br /><br /><span data-ttu-id="4a972-232">Sample Value: Keep-Alive</span><span class="sxs-lookup"><span data-stu-id="4a972-232">Sample Value: Keep-Alive</span></span> | 
| <span data-ttu-id="4a972-233">Request Host</span><span class="sxs-lookup"><span data-stu-id="4a972-233">Request Host</span></span> | <span data-ttu-id="4a972-234">%{host}</span><span class="sxs-lookup"><span data-stu-id="4a972-234">%{host}</span></span> | <span data-ttu-id="4a972-235">Indicates the host defined in the request URL.</span><span class="sxs-lookup"><span data-stu-id="4a972-235">Indicates the host defined in the request URL.</span></span> | <span data-ttu-id="4a972-236">www.mydomain.com</span><span class="sxs-lookup"><span data-stu-id="4a972-236">www.mydomain.com</span></span> |
| <span data-ttu-id="4a972-237">Request Protocol</span><span class="sxs-lookup"><span data-stu-id="4a972-237">Request Protocol</span></span> | <span data-ttu-id="4a972-238">%{request_protocol}</span><span class="sxs-lookup"><span data-stu-id="4a972-238">%{request_protocol}</span></span> | <span data-ttu-id="4a972-239">Indicates the request protocol.</span><span class="sxs-lookup"><span data-stu-id="4a972-239">Indicates the request protocol.</span></span> | <span data-ttu-id="4a972-240">HTTP/1.1</span><span class="sxs-lookup"><span data-stu-id="4a972-240">HTTP/1.1</span></span> |
| <span data-ttu-id="4a972-241">Request Scheme</span><span class="sxs-lookup"><span data-stu-id="4a972-241">Request Scheme</span></span> | <span data-ttu-id="4a972-242">%{scheme}</span><span class="sxs-lookup"><span data-stu-id="4a972-242">%{scheme}</span></span> | <span data-ttu-id="4a972-243">Indicates the request scheme.</span><span class="sxs-lookup"><span data-stu-id="4a972-243">Indicates the request scheme.</span></span> |<span data-ttu-id="4a972-244">http</span><span class="sxs-lookup"><span data-stu-id="4a972-244">http</span></span> |
| <span data-ttu-id="4a972-245">Request URI (Relative)</span><span class="sxs-lookup"><span data-stu-id="4a972-245">Request URI (Relative)</span></span> | <span data-ttu-id="4a972-246">%{request_uri}</span><span class="sxs-lookup"><span data-stu-id="4a972-246">%{request_uri}</span></span> | <span data-ttu-id="4a972-247">Indicates the relative path, including the query string, defined in the request URI.</span><span class="sxs-lookup"><span data-stu-id="4a972-247">Indicates the relative path, including the query string, defined in the request URI.</span></span> | <span data-ttu-id="4a972-248">/marketing/foo.js?loggedin=true</span><span class="sxs-lookup"><span data-stu-id="4a972-248">/marketing/foo.js?loggedin=true</span></span> |
| <span data-ttu-id="4a972-249">Request URI (Relative without query string)</span><span class="sxs-lookup"><span data-stu-id="4a972-249">Request URI (Relative without query string)</span></span> | <span data-ttu-id="4a972-250">%{uri}</span><span class="sxs-lookup"><span data-stu-id="4a972-250">%{uri}</span></span> | <span data-ttu-id="4a972-251">Indicates the relative path to the requested content.</span><span class="sxs-lookup"><span data-stu-id="4a972-251">Indicates the relative path to the requested content.</span></span> <br /><br/><span data-ttu-id="4a972-252">Key information:</span><span class="sxs-lookup"><span data-stu-id="4a972-252">Key information:</span></span><br /><span data-ttu-id="4a972-253">- This relative path excludes the query string.</span><span class="sxs-lookup"><span data-stu-id="4a972-253">- This relative path excludes the query string.</span></span><br /><span data-ttu-id="4a972-254">- This relative path reflects URL rewrites.</span><span class="sxs-lookup"><span data-stu-id="4a972-254">- This relative path reflects URL rewrites.</span></span> <span data-ttu-id="4a972-255">A URL will be rewritten under the following conditions:</span><span class="sxs-lookup"><span data-stu-id="4a972-255">A URL will be rewritten under the following conditions:</span></span><br />  <span data-ttu-id="4a972-256">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- URL Rewrite Feature: This feature rewrites the relative path defined in the request URI.</span><span class="sxs-lookup"><span data-stu-id="4a972-256">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- URL Rewrite Feature: This feature rewrites the relative path defined in the request URI.</span></span><br />    <span data-ttu-id="4a972-257">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- Edge CNAME URL: This type of request is rewritten to the corresponding CDN URL.</span><span class="sxs-lookup"><span data-stu-id="4a972-257">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- Edge CNAME URL: This type of request is rewritten to the corresponding CDN URL.</span></span> |<span data-ttu-id="4a972-258">/800001/corigin/rewrittendir/foo.js</span><span class="sxs-lookup"><span data-stu-id="4a972-258">/800001/corigin/rewrittendir/foo.js</span></span> |
| <span data-ttu-id="4a972-259">Request URI</span><span class="sxs-lookup"><span data-stu-id="4a972-259">Request URI</span></span> | <span data-ttu-id="4a972-260">%{request}</span><span class="sxs-lookup"><span data-stu-id="4a972-260">%{request}</span></span> | <span data-ttu-id="4a972-261">Describes the request.</span><span class="sxs-lookup"><span data-stu-id="4a972-261">Describes the request.</span></span> <br /><span data-ttu-id="4a972-262">Syntax: &lt;HTTP method&gt; &lt;relative path&gt; &lt;HTTP protocol&gt;</span><span class="sxs-lookup"><span data-stu-id="4a972-262">Syntax: &lt;HTTP method&gt; &lt;relative path&gt; &lt;HTTP protocol&gt;</span></span> | <span data-ttu-id="4a972-263">GET /marketing/foo.js?loggedin=true HTTP/1.1</span><span class="sxs-lookup"><span data-stu-id="4a972-263">GET /marketing/foo.js?loggedin=true HTTP/1.1</span></span> |
| <span data-ttu-id="4a972-264">Response Header Value</span><span class="sxs-lookup"><span data-stu-id="4a972-264">Response Header Value</span></span> | <span data-ttu-id="4a972-265">%{resp_&lt;ResponseHeader&gt;}</span><span class="sxs-lookup"><span data-stu-id="4a972-265">%{resp_&lt;ResponseHeader&gt;}</span></span> | <span data-ttu-id="4a972-266">Returns the value corresponding to the response header identified by the &lt;ResponseHeader&gt; term.</span><span class="sxs-lookup"><span data-stu-id="4a972-266">Returns the value corresponding to the response header identified by the &lt;ResponseHeader&gt; term.</span></span> <br /><br /><span data-ttu-id="4a972-267">If the name of the response header contains a dash (for example, User-Agent), replace it with an underscore (for example, User_Agent).</span><span class="sxs-lookup"><span data-stu-id="4a972-267">If the name of the response header contains a dash (for example, User-Agent), replace it with an underscore (for example, User_Agent).</span></span> | <span data-ttu-id="4a972-268">Sample Usage: %{resp_Content_Length}</span><span class="sxs-lookup"><span data-stu-id="4a972-268">Sample Usage: %{resp_Content_Length}</span></span><br /><br /><span data-ttu-id="4a972-269">Sample Value: 100</span><span class="sxs-lookup"><span data-stu-id="4a972-269">Sample Value: 100</span></span> |

## <a name="usage"></a><span data-ttu-id="4a972-270">Usage</span><span class="sxs-lookup"><span data-stu-id="4a972-270">Usage</span></span>
<span data-ttu-id="4a972-271">The following table describes the proper syntax for specifying an HTTP variable.</span><span class="sxs-lookup"><span data-stu-id="4a972-271">The following table describes the proper syntax for specifying an HTTP variable.</span></span>


| <span data-ttu-id="4a972-272">Syntax</span><span class="sxs-lookup"><span data-stu-id="4a972-272">Syntax</span></span> | <span data-ttu-id="4a972-273">Example</span><span class="sxs-lookup"><span data-stu-id="4a972-273">Example</span></span> | <span data-ttu-id="4a972-274">Description</span><span class="sxs-lookup"><span data-stu-id="4a972-274">Description</span></span> |
| ------ | -------- | ---------- |
| <span data-ttu-id="4a972-275">%{&lt;HTTPVariable&gt;}</span><span class="sxs-lookup"><span data-stu-id="4a972-275">%{&lt;HTTPVariable&gt;}</span></span> | <span data-ttu-id="4a972-276">%{host}</span><span class="sxs-lookup"><span data-stu-id="4a972-276">%{host}</span></span> | <span data-ttu-id="4a972-277">Use this syntax to get the entire value corresponding to the specified &lt;HTTPVariable&gt;.</span><span class="sxs-lookup"><span data-stu-id="4a972-277">Use this syntax to get the entire value corresponding to the specified &lt;HTTPVariable&gt;.</span></span> |
| <span data-ttu-id="4a972-278">%{&lt;HTTPVariableDelimiter&gt;}</span><span class="sxs-lookup"><span data-stu-id="4a972-278">%{&lt;HTTPVariableDelimiter&gt;}</span></span> | <span data-ttu-id="4a972-279">%{host,}</span><span class="sxs-lookup"><span data-stu-id="4a972-279">%{host,}</span></span> | <span data-ttu-id="4a972-280">Use this syntax to set the case for the entire value corresponding to the specified  &lt;HTTPVariableDelimiter&gt;.</span><span class="sxs-lookup"><span data-stu-id="4a972-280">Use this syntax to set the case for the entire value corresponding to the specified  &lt;HTTPVariableDelimiter&gt;.</span></span> |
| <span data-ttu-id="4a972-281">%{&lt;HTTPVariableDelimiterExpression&gt;}</span><span class="sxs-lookup"><span data-stu-id="4a972-281">%{&lt;HTTPVariableDelimiterExpression&gt;}</span></span> | <span data-ttu-id="4a972-282">%{host/=^www\.([^\.]+)\.([^\.:]+)/cdn.$2.$3:80}</span><span class="sxs-lookup"><span data-stu-id="4a972-282">%{host/=^www\.([^\.]+)\.([^\.:]+)/cdn.$2.$3:80}</span></span> | <span data-ttu-id="4a972-283">Use a regular expression for &lt;HTTPVariableDelimiterExpression&gt; to replace, delete, or manipulate an HTTP variable's value.</span><span class="sxs-lookup"><span data-stu-id="4a972-283">Use a regular expression for &lt;HTTPVariableDelimiterExpression&gt; to replace, delete, or manipulate an HTTP variable's value.</span></span> |

<span data-ttu-id="4a972-284">HTTP variable names only support alphabetic characters and underscores.</span><span class="sxs-lookup"><span data-stu-id="4a972-284">HTTP variable names only support alphabetic characters and underscores.</span></span> <span data-ttu-id="4a972-285">Convert unsupported characters to underscores.</span><span class="sxs-lookup"><span data-stu-id="4a972-285">Convert unsupported characters to underscores.</span></span>

## <a name="delimiter-reference"></a><span data-ttu-id="4a972-286">Delimiter reference</span><span class="sxs-lookup"><span data-stu-id="4a972-286">Delimiter reference</span></span>
<span data-ttu-id="4a972-287">A delimiter can be specified after an HTTP variable to achieve any of the following effects:</span><span class="sxs-lookup"><span data-stu-id="4a972-287">A delimiter can be specified after an HTTP variable to achieve any of the following effects:</span></span>

- <span data-ttu-id="4a972-288">Transform the value associated with the variable.</span><span class="sxs-lookup"><span data-stu-id="4a972-288">Transform the value associated with the variable.</span></span>

     <span data-ttu-id="4a972-289">Example: Convert the entire value to lowercase.</span><span class="sxs-lookup"><span data-stu-id="4a972-289">Example: Convert the entire value to lowercase.</span></span>

- <span data-ttu-id="4a972-290">Delete the value associated with the variable.</span><span class="sxs-lookup"><span data-stu-id="4a972-290">Delete the value associated with the variable.</span></span>

- <span data-ttu-id="4a972-291">Manipulate the value associated with the variable.</span><span class="sxs-lookup"><span data-stu-id="4a972-291">Manipulate the value associated with the variable.</span></span>

     <span data-ttu-id="4a972-292">Example: Use regular expressions to change the value associated with the HTTP variable.</span><span class="sxs-lookup"><span data-stu-id="4a972-292">Example: Use regular expressions to change the value associated with the HTTP variable.</span></span>

<span data-ttu-id="4a972-293">The delimiters are described in the following table.</span><span class="sxs-lookup"><span data-stu-id="4a972-293">The delimiters are described in the following table.</span></span>

| <span data-ttu-id="4a972-294">Delimiter</span><span class="sxs-lookup"><span data-stu-id="4a972-294">Delimiter</span></span> | <span data-ttu-id="4a972-295">Description</span><span class="sxs-lookup"><span data-stu-id="4a972-295">Description</span></span> |
| --------- | ----------- |
| <span data-ttu-id="4a972-296">:=</span><span class="sxs-lookup"><span data-stu-id="4a972-296">:=</span></span> | <span data-ttu-id="4a972-297">Indicates that a default value will be assigned to the variable when it is either:</span><span class="sxs-lookup"><span data-stu-id="4a972-297">Indicates that a default value will be assigned to the variable when it is either:</span></span> <br /><span data-ttu-id="4a972-298">- Missing</span><span class="sxs-lookup"><span data-stu-id="4a972-298">- Missing</span></span> <br /><span data-ttu-id="4a972-299">- Set to NULL.</span><span class="sxs-lookup"><span data-stu-id="4a972-299">- Set to NULL.</span></span> |
| <span data-ttu-id="4a972-300">:+</span><span class="sxs-lookup"><span data-stu-id="4a972-300">:+</span></span> | <span data-ttu-id="4a972-301">Indicates that a default value will be assigned to the variable when a value has been assigned to it.</span><span class="sxs-lookup"><span data-stu-id="4a972-301">Indicates that a default value will be assigned to the variable when a value has been assigned to it.</span></span> |
| <span data-ttu-id="4a972-302">:</span><span class="sxs-lookup"><span data-stu-id="4a972-302">:</span></span> | <span data-ttu-id="4a972-303">Indicates that a substring of the value assigned to the variable will be expanded.</span><span class="sxs-lookup"><span data-stu-id="4a972-303">Indicates that a substring of the value assigned to the variable will be expanded.</span></span> |
| # | <span data-ttu-id="4a972-304">Indicates that the pattern specified after this delimiter should be deleted when it is found at the beginning of the value associated with the variable.</span><span class="sxs-lookup"><span data-stu-id="4a972-304">Indicates that the pattern specified after this delimiter should be deleted when it is found at the beginning of the value associated with the variable.</span></span> |
| % | <span data-ttu-id="4a972-305">Indicates that the pattern specified after this delimiter should be deleted when it is found at the end of the value associated with the variable.</span><span class="sxs-lookup"><span data-stu-id="4a972-305">Indicates that the pattern specified after this delimiter should be deleted when it is found at the end of the value associated with the variable.</span></span> <br /><span data-ttu-id="4a972-306">This definition is only applicable when the % symbol is used as a delimiter.</span><span class="sxs-lookup"><span data-stu-id="4a972-306">This definition is only applicable when the % symbol is used as a delimiter.</span></span> |
| / | <span data-ttu-id="4a972-307">Delimits an HTTP variable or a pattern.</span><span class="sxs-lookup"><span data-stu-id="4a972-307">Delimits an HTTP variable or a pattern.</span></span> |
| // | <span data-ttu-id="4a972-308">Find and replace all instances of the specified pattern.</span><span class="sxs-lookup"><span data-stu-id="4a972-308">Find and replace all instances of the specified pattern.</span></span> |
| /= | <span data-ttu-id="4a972-309">Find, copy, and rewrite all occurrences of the specified pattern.</span><span class="sxs-lookup"><span data-stu-id="4a972-309">Find, copy, and rewrite all occurrences of the specified pattern.</span></span> |
| <span data-ttu-id="4a972-310">,</span><span class="sxs-lookup"><span data-stu-id="4a972-310">,</span></span> | <span data-ttu-id="4a972-311">Convert the value associated with the HTTP variable to lowercase.</span><span class="sxs-lookup"><span data-stu-id="4a972-311">Convert the value associated with the HTTP variable to lowercase.</span></span> |
| ^ | <span data-ttu-id="4a972-312">Convert the value associated with the HTTP variable to uppercase.</span><span class="sxs-lookup"><span data-stu-id="4a972-312">Convert the value associated with the HTTP variable to uppercase.</span></span> |
| <span data-ttu-id="4a972-313">,,</span><span class="sxs-lookup"><span data-stu-id="4a972-313">,,</span></span> | <span data-ttu-id="4a972-314">Convert all instances of the specified character in the value associated with the HTTP variable to lowercase.</span><span class="sxs-lookup"><span data-stu-id="4a972-314">Convert all instances of the specified character in the value associated with the HTTP variable to lowercase.</span></span> |
| ^^ | <span data-ttu-id="4a972-315">Convert all instances of the specified character in the value associated with the HTTP variable to uppercase.</span><span class="sxs-lookup"><span data-stu-id="4a972-315">Convert all instances of the specified character in the value associated with the HTTP variable to uppercase.</span></span> |

## <a name="exceptions"></a><span data-ttu-id="4a972-316">Exceptions</span><span class="sxs-lookup"><span data-stu-id="4a972-316">Exceptions</span></span>
<span data-ttu-id="4a972-317">The following table describes circumstances under which the specified text isn't treated as an HTTP variable.</span><span class="sxs-lookup"><span data-stu-id="4a972-317">The following table describes circumstances under which the specified text isn't treated as an HTTP variable.</span></span>

| <span data-ttu-id="4a972-318">Condition</span><span class="sxs-lookup"><span data-stu-id="4a972-318">Condition</span></span> | <span data-ttu-id="4a972-319">Description</span><span class="sxs-lookup"><span data-stu-id="4a972-319">Description</span></span> | <span data-ttu-id="4a972-320">Example</span><span class="sxs-lookup"><span data-stu-id="4a972-320">Example</span></span> |
| --------- | ----------- | --------|
| <span data-ttu-id="4a972-321">Escaping % symbol</span><span class="sxs-lookup"><span data-stu-id="4a972-321">Escaping % symbol</span></span> | <span data-ttu-id="4a972-322">The percentage symbol can be escaped through the use of a backslash.</span><span class="sxs-lookup"><span data-stu-id="4a972-322">The percentage symbol can be escaped through the use of a backslash.</span></span> <br /><span data-ttu-id="4a972-323">The sample value to the right will be treated as a literal value and not as an HTTP variable.</span><span class="sxs-lookup"><span data-stu-id="4a972-323">The sample value to the right will be treated as a literal value and not as an HTTP variable.</span></span>| <span data-ttu-id="4a972-324">\%{host}</span><span class="sxs-lookup"><span data-stu-id="4a972-324">\%{host}</span></span> |
| <span data-ttu-id="4a972-325">Unknown variables</span><span class="sxs-lookup"><span data-stu-id="4a972-325">Unknown variables</span></span> | <span data-ttu-id="4a972-326">An empty string is always returned for unknown variables.</span><span class="sxs-lookup"><span data-stu-id="4a972-326">An empty string is always returned for unknown variables.</span></span> | <span data-ttu-id="4a972-327">%{unknownvariable}</span><span class="sxs-lookup"><span data-stu-id="4a972-327">%{unknownvariable}</span></span> |
| <span data-ttu-id="4a972-328">Invalid characters or syntax</span><span class="sxs-lookup"><span data-stu-id="4a972-328">Invalid characters or syntax</span></span> | <span data-ttu-id="4a972-329">Variables that contain invalid characters or syntax are treated as literal values.</span><span class="sxs-lookup"><span data-stu-id="4a972-329">Variables that contain invalid characters or syntax are treated as literal values.</span></span> <br /><br /><span data-ttu-id="4a972-330">Example #1: The specified value contains an invalid character (for example, -).</span><span class="sxs-lookup"><span data-stu-id="4a972-330">Example #1: The specified value contains an invalid character (for example, -).</span></span> <br /><br /><span data-ttu-id="4a972-331">Example #2: The specified value contains a double set of curly braces.</span><span class="sxs-lookup"><span data-stu-id="4a972-331">Example #2: The specified value contains a double set of curly braces.</span></span> <br /><br /><span data-ttu-id="4a972-332">Example #3: The specified value is missing a closing curly brace.</span><span class="sxs-lookup"><span data-stu-id="4a972-332">Example #3: The specified value is missing a closing curly brace.</span></span><br /> | <span data-ttu-id="4a972-333">Example #1: %{resp_user-agent}</span><span class="sxs-lookup"><span data-stu-id="4a972-333">Example #1: %{resp_user-agent}</span></span> <br /><br /><span data-ttu-id="4a972-334">Example #2: %{{host}}</span><span class="sxs-lookup"><span data-stu-id="4a972-334">Example #2: %{{host}}</span></span> <br /><br /><span data-ttu-id="4a972-335">Example #3: %{host</span><span class="sxs-lookup"><span data-stu-id="4a972-335">Example #3: %{host</span></span> |
| <span data-ttu-id="4a972-336">Missing variable name</span><span class="sxs-lookup"><span data-stu-id="4a972-336">Missing variable name</span></span> | <span data-ttu-id="4a972-337">A NULL value is always returned when a variable is not specified.</span><span class="sxs-lookup"><span data-stu-id="4a972-337">A NULL value is always returned when a variable is not specified.</span></span> | <span data-ttu-id="4a972-338">%{}</span><span class="sxs-lookup"><span data-stu-id="4a972-338">%{}</span></span> |
| <span data-ttu-id="4a972-339">Trailing characters</span><span class="sxs-lookup"><span data-stu-id="4a972-339">Trailing characters</span></span> | <span data-ttu-id="4a972-340">Characters that trail a variable are treated as literal values.</span><span class="sxs-lookup"><span data-stu-id="4a972-340">Characters that trail a variable are treated as literal values.</span></span> <br /><span data-ttu-id="4a972-341">The sample value to the right contains a trailing curly brace that will be treated as a literal value.</span><span class="sxs-lookup"><span data-stu-id="4a972-341">The sample value to the right contains a trailing curly brace that will be treated as a literal value.</span></span> | <span data-ttu-id="4a972-342">%{host}}</span><span class="sxs-lookup"><span data-stu-id="4a972-342">%{host}}</span></span> |

## <a name="setting-default-header-values"></a><span data-ttu-id="4a972-343">Setting default header values</span><span class="sxs-lookup"><span data-stu-id="4a972-343">Setting default header values</span></span>
<span data-ttu-id="4a972-344">A default value can be assigned to a header when it meets any of the following conditions:</span><span class="sxs-lookup"><span data-stu-id="4a972-344">A default value can be assigned to a header when it meets any of the following conditions:</span></span>
- <span data-ttu-id="4a972-345">Missing/unset</span><span class="sxs-lookup"><span data-stu-id="4a972-345">Missing/unset</span></span>
- <span data-ttu-id="4a972-346">Set to NULL.</span><span class="sxs-lookup"><span data-stu-id="4a972-346">Set to NULL.</span></span>

<span data-ttu-id="4a972-347">The following table describes how to define a default value.</span><span class="sxs-lookup"><span data-stu-id="4a972-347">The following table describes how to define a default value.</span></span>

| <span data-ttu-id="4a972-348">Condition</span><span class="sxs-lookup"><span data-stu-id="4a972-348">Condition</span></span> | <span data-ttu-id="4a972-349">Syntax</span><span class="sxs-lookup"><span data-stu-id="4a972-349">Syntax</span></span> | <span data-ttu-id="4a972-350">Example</span><span class="sxs-lookup"><span data-stu-id="4a972-350">Example</span></span> | <span data-ttu-id="4a972-351">Description</span><span class="sxs-lookup"><span data-stu-id="4a972-351">Description</span></span> |
| --------- | ------ | --------| ----------- |
| <span data-ttu-id="4a972-352">Set a header to a default value when it meets any of the following conditions:</span><span class="sxs-lookup"><span data-stu-id="4a972-352">Set a header to a default value when it meets any of the following conditions:</span></span> <br /><br /><span data-ttu-id="4a972-353">- Missing Header</span><span class="sxs-lookup"><span data-stu-id="4a972-353">- Missing Header</span></span> <br /><br /><span data-ttu-id="4a972-354">- Header value is set to NULL.</span><span class="sxs-lookup"><span data-stu-id="4a972-354">- Header value is set to NULL.</span></span>| <span data-ttu-id="4a972-355">%{Variable:=Value}</span><span class="sxs-lookup"><span data-stu-id="4a972-355">%{Variable:=Value}</span></span> | <span data-ttu-id="4a972-356">%{http_referer:=unspecified}</span><span class="sxs-lookup"><span data-stu-id="4a972-356">%{http_referer:=unspecified}</span></span> | <span data-ttu-id="4a972-357">The Referer header will only be set to *unspecified* when it is either missing or set to NULL.</span><span class="sxs-lookup"><span data-stu-id="4a972-357">The Referer header will only be set to *unspecified* when it is either missing or set to NULL.</span></span> <span data-ttu-id="4a972-358">No action will take place if it has been set.</span><span class="sxs-lookup"><span data-stu-id="4a972-358">No action will take place if it has been set.</span></span> |
| <span data-ttu-id="4a972-359">Set a header to a default value when it is missing.</span><span class="sxs-lookup"><span data-stu-id="4a972-359">Set a header to a default value when it is missing.</span></span> | <span data-ttu-id="4a972-360">%{Variable=Value}</span><span class="sxs-lookup"><span data-stu-id="4a972-360">%{Variable=Value}</span></span> | <span data-ttu-id="4a972-361">%{http_referer=unspecified}</span><span class="sxs-lookup"><span data-stu-id="4a972-361">%{http_referer=unspecified}</span></span> | <span data-ttu-id="4a972-362">The Referer header will only be set to *unspecified* when it is missing.</span><span class="sxs-lookup"><span data-stu-id="4a972-362">The Referer header will only be set to *unspecified* when it is missing.</span></span> <span data-ttu-id="4a972-363">No action will take place if it has been set.</span><span class="sxs-lookup"><span data-stu-id="4a972-363">No action will take place if it has been set.</span></span> |
| <span data-ttu-id="4a972-364">Set the header to a default value when it does not meet any of the following conditions:</span><span class="sxs-lookup"><span data-stu-id="4a972-364">Set the header to a default value when it does not meet any of the following conditions:</span></span> <br /><br /><span data-ttu-id="4a972-365">- Missing</span><span class="sxs-lookup"><span data-stu-id="4a972-365">- Missing</span></span><br /><br /> <span data-ttu-id="4a972-366">- Set to NULL.</span><span class="sxs-lookup"><span data-stu-id="4a972-366">- Set to NULL.</span></span> | <span data-ttu-id="4a972-367">%{Variable:+Value}</span><span class="sxs-lookup"><span data-stu-id="4a972-367">%{Variable:+Value}</span></span> | <span data-ttu-id="4a972-368">%{http_referer:+unspecified}</span><span class="sxs-lookup"><span data-stu-id="4a972-368">%{http_referer:+unspecified}</span></span> | <span data-ttu-id="4a972-369">The Referer header will only be set to *unspecified* when a value has been assigned to it.</span><span class="sxs-lookup"><span data-stu-id="4a972-369">The Referer header will only be set to *unspecified* when a value has been assigned to it.</span></span> <span data-ttu-id="4a972-370">No action will take place if it is either missing or set to NULL.</span><span class="sxs-lookup"><span data-stu-id="4a972-370">No action will take place if it is either missing or set to NULL.</span></span> |

## <a name="manipulating-variables"></a><span data-ttu-id="4a972-371">Manipulating variables</span><span class="sxs-lookup"><span data-stu-id="4a972-371">Manipulating variables</span></span>
<span data-ttu-id="4a972-372">Variables can be manipulated in the following ways:</span><span class="sxs-lookup"><span data-stu-id="4a972-372">Variables can be manipulated in the following ways:</span></span>

- <span data-ttu-id="4a972-373">Expanding substrings</span><span class="sxs-lookup"><span data-stu-id="4a972-373">Expanding substrings</span></span>
- <span data-ttu-id="4a972-374">Removing patterns</span><span class="sxs-lookup"><span data-stu-id="4a972-374">Removing patterns</span></span>

### <a name="substring-expansion"></a><span data-ttu-id="4a972-375">Substring expansion</span><span class="sxs-lookup"><span data-stu-id="4a972-375">Substring expansion</span></span>
<span data-ttu-id="4a972-376">By default, a variable will expand to its full value.</span><span class="sxs-lookup"><span data-stu-id="4a972-376">By default, a variable will expand to its full value.</span></span> <span data-ttu-id="4a972-377">Use the following syntax to only expand a substring of the variable's value.</span><span class="sxs-lookup"><span data-stu-id="4a972-377">Use the following syntax to only expand a substring of the variable's value.</span></span>

`%<Variable>:<Offset>:<Length>}`

<span data-ttu-id="4a972-378">Key information:</span><span class="sxs-lookup"><span data-stu-id="4a972-378">Key information:</span></span>

- <span data-ttu-id="4a972-379">The value assigned to the Offset term determines the starting character of the substring:</span><span class="sxs-lookup"><span data-stu-id="4a972-379">The value assigned to the Offset term determines the starting character of the substring:</span></span>

     - <span data-ttu-id="4a972-380">Positive: The starting character of the substring is calculated from the first character in the string.</span><span class="sxs-lookup"><span data-stu-id="4a972-380">Positive: The starting character of the substring is calculated from the first character in the string.</span></span>
     - <span data-ttu-id="4a972-381">Zero: The starting character of the substring is the first character in the string.</span><span class="sxs-lookup"><span data-stu-id="4a972-381">Zero: The starting character of the substring is the first character in the string.</span></span>
     - <span data-ttu-id="4a972-382">Negative: The starting character of the substring is calculated from the last character in the string.</span><span class="sxs-lookup"><span data-stu-id="4a972-382">Negative: The starting character of the substring is calculated from the last character in the string.</span></span>

- <span data-ttu-id="4a972-383">The length of the substring is determined by the *Length* term:</span><span class="sxs-lookup"><span data-stu-id="4a972-383">The length of the substring is determined by the *Length* term:</span></span>

     - <span data-ttu-id="4a972-384">Omitted: Omitting the Length term allows the substring to include all characters between the starting character and the end of the string.</span><span class="sxs-lookup"><span data-stu-id="4a972-384">Omitted: Omitting the Length term allows the substring to include all characters between the starting character and the end of the string.</span></span>
     - <span data-ttu-id="4a972-385">Positive: Determines the length of the substring from the starting character to the right.</span><span class="sxs-lookup"><span data-stu-id="4a972-385">Positive: Determines the length of the substring from the starting character to the right.</span></span>
     - <span data-ttu-id="4a972-386">Negative: Determines the length of the substring from the starting character to the left.</span><span class="sxs-lookup"><span data-stu-id="4a972-386">Negative: Determines the length of the substring from the starting character to the left.</span></span>

#### <a name="example"></a><span data-ttu-id="4a972-387">Example:</span><span class="sxs-lookup"><span data-stu-id="4a972-387">Example:</span></span>

<span data-ttu-id="4a972-388">The following example relies on the following sample request URL:</span><span class="sxs-lookup"><span data-stu-id="4a972-388">The following example relies on the following sample request URL:</span></span>

<span data-ttu-id="4a972-389">https:\//cdn.mydomain.com/folder/marketing/myconsultant/proposal.html</span><span class="sxs-lookup"><span data-stu-id="4a972-389">https:\//cdn.mydomain.com/folder/marketing/myconsultant/proposal.html</span></span>

<span data-ttu-id="4a972-390">The following string demonstrates various methods for manipulating variables:</span><span class="sxs-lookup"><span data-stu-id="4a972-390">The following string demonstrates various methods for manipulating variables:</span></span>

<span data-ttu-id="4a972-391">https:\//www%{http_host:3}/mobile/%{request_uri:7:10}/%{request_uri:-5:-8}.htm</span><span class="sxs-lookup"><span data-stu-id="4a972-391">https:\//www%{http_host:3}/mobile/%{request_uri:7:10}/%{request_uri:-5:-8}.htm</span></span>

<span data-ttu-id="4a972-392">Based on the sample request URL, the above variable manipulation will produce the following value:</span><span class="sxs-lookup"><span data-stu-id="4a972-392">Based on the sample request URL, the above variable manipulation will produce the following value:</span></span>

<span data-ttu-id="4a972-393">https:\//www.mydomain.com/mobile/marketing/proposal.htm</span><span class="sxs-lookup"><span data-stu-id="4a972-393">https:\//www.mydomain.com/mobile/marketing/proposal.htm</span></span>


### <a name="pattern-removal"></a><span data-ttu-id="4a972-394">Pattern removal</span><span class="sxs-lookup"><span data-stu-id="4a972-394">Pattern removal</span></span>
<span data-ttu-id="4a972-395">Text that matches a specific pattern can be removed from either the beginning or the end of a variable's value.</span><span class="sxs-lookup"><span data-stu-id="4a972-395">Text that matches a specific pattern can be removed from either the beginning or the end of a variable's value.</span></span>

| <span data-ttu-id="4a972-396">Syntax</span><span class="sxs-lookup"><span data-stu-id="4a972-396">Syntax</span></span> | <span data-ttu-id="4a972-397">Action</span><span class="sxs-lookup"><span data-stu-id="4a972-397">Action</span></span> |
| ------ | ------ |
| <span data-ttu-id="4a972-398">%{Variable#Pattern}</span><span class="sxs-lookup"><span data-stu-id="4a972-398">%{Variable#Pattern}</span></span> | <span data-ttu-id="4a972-399">Remove text when the specified pattern is found at the beginning of a variable's value.</span><span class="sxs-lookup"><span data-stu-id="4a972-399">Remove text when the specified pattern is found at the beginning of a variable's value.</span></span> |
| <span data-ttu-id="4a972-400">%{Variable%Pattern}</span><span class="sxs-lookup"><span data-stu-id="4a972-400">%{Variable%Pattern}</span></span> | <span data-ttu-id="4a972-401">Remove text when the specified pattern is found at the end of a variable's value.</span><span class="sxs-lookup"><span data-stu-id="4a972-401">Remove text when the specified pattern is found at the end of a variable's value.</span></span> |

#### <a name="example"></a><span data-ttu-id="4a972-402">Example:</span><span class="sxs-lookup"><span data-stu-id="4a972-402">Example:</span></span>

<span data-ttu-id="4a972-403">In this sample scenario, the *request_uri* variable is set to:</span><span class="sxs-lookup"><span data-stu-id="4a972-403">In this sample scenario, the *request_uri* variable is set to:</span></span>

`/800001/myorigin/marketing/product.html?language=en-US`

<span data-ttu-id="4a972-404">The following table demonstrates how this syntax works.</span><span class="sxs-lookup"><span data-stu-id="4a972-404">The following table demonstrates how this syntax works.</span></span>

| <span data-ttu-id="4a972-405">Sample syntax</span><span class="sxs-lookup"><span data-stu-id="4a972-405">Sample syntax</span></span> | <span data-ttu-id="4a972-406">Results</span><span class="sxs-lookup"><span data-stu-id="4a972-406">Results</span></span> |
| ------------- | ------- |
| <span data-ttu-id="4a972-407">%{request_uri#/800001}/customerorigin</span><span class="sxs-lookup"><span data-stu-id="4a972-407">%{request_uri#/800001}/customerorigin</span></span> | <span data-ttu-id="4a972-408">/customerorigin/myorigin/marketing/product.html?language=en-US</span><span class="sxs-lookup"><span data-stu-id="4a972-408">/customerorigin/myorigin/marketing/product.html?language=en-US</span></span> | <span data-ttu-id="4a972-409">Because the variable starts with the pattern, it was replaced.</span><span class="sxs-lookup"><span data-stu-id="4a972-409">Because the variable starts with the pattern, it was replaced.</span></span> |
| <span data-ttu-id="4a972-410">%{request_uri%html}htm</span><span class="sxs-lookup"><span data-stu-id="4a972-410">%{request_uri%html}htm</span></span> | <span data-ttu-id="4a972-411">/800001/myorigin/marketing/product.html?language=en-US</span><span class="sxs-lookup"><span data-stu-id="4a972-411">/800001/myorigin/marketing/product.html?language=en-US</span></span> | <span data-ttu-id="4a972-412">Because the variable doesn't end with the pattern, there was no change.</span><span class="sxs-lookup"><span data-stu-id="4a972-412">Because the variable doesn't end with the pattern, there was no change.</span></span>|

### <a name="find-and-replace"></a><span data-ttu-id="4a972-413">Find and replace</span><span class="sxs-lookup"><span data-stu-id="4a972-413">Find and replace</span></span>
<span data-ttu-id="4a972-414">The find and replace syntax is described in the following table.</span><span class="sxs-lookup"><span data-stu-id="4a972-414">The find and replace syntax is described in the following table.</span></span>

| <span data-ttu-id="4a972-415">Syntax</span><span class="sxs-lookup"><span data-stu-id="4a972-415">Syntax</span></span> | <span data-ttu-id="4a972-416">Action</span><span class="sxs-lookup"><span data-stu-id="4a972-416">Action</span></span> |
| ------ | ------ |
| <span data-ttu-id="4a972-417">%{Variable/Find/Replace}</span><span class="sxs-lookup"><span data-stu-id="4a972-417">%{Variable/Find/Replace}</span></span> | <span data-ttu-id="4a972-418">Find and replace first occurrence of the specified pattern.</span><span class="sxs-lookup"><span data-stu-id="4a972-418">Find and replace first occurrence of the specified pattern.</span></span> |
| <span data-ttu-id="4a972-419">%{Variable//Find/Replace}</span><span class="sxs-lookup"><span data-stu-id="4a972-419">%{Variable//Find/Replace}</span></span> | <span data-ttu-id="4a972-420">Find and replace all occurrences of the specified pattern.</span><span class="sxs-lookup"><span data-stu-id="4a972-420">Find and replace all occurrences of the specified pattern.</span></span> |
| <span data-ttu-id="4a972-421">%{Variable^}</span><span class="sxs-lookup"><span data-stu-id="4a972-421">%{Variable^}</span></span> |<span data-ttu-id="4a972-422">Convert the entire value to uppercase.</span><span class="sxs-lookup"><span data-stu-id="4a972-422">Convert the entire value to uppercase.</span></span> |
| <span data-ttu-id="4a972-423">%{Variable^Find}</span><span class="sxs-lookup"><span data-stu-id="4a972-423">%{Variable^Find}</span></span> | <span data-ttu-id="4a972-424">Convert the first occurrence of the specified pattern to uppercase.</span><span class="sxs-lookup"><span data-stu-id="4a972-424">Convert the first occurrence of the specified pattern to uppercase.</span></span> |
| <span data-ttu-id="4a972-425">%{Variable,}</span><span class="sxs-lookup"><span data-stu-id="4a972-425">%{Variable,}</span></span> | <span data-ttu-id="4a972-426">Convert the entire value to lowercase.</span><span class="sxs-lookup"><span data-stu-id="4a972-426">Convert the entire value to lowercase.</span></span> |
| <span data-ttu-id="4a972-427">%{Variable,Find}</span><span class="sxs-lookup"><span data-stu-id="4a972-427">%{Variable,Find}</span></span> | <span data-ttu-id="4a972-428">Convert the first occurrence of the specified pattern to lowercase.</span><span class="sxs-lookup"><span data-stu-id="4a972-428">Convert the first occurrence of the specified pattern to lowercase.</span></span> |

### <a name="find-and-rewrite"></a><span data-ttu-id="4a972-429">Find and rewrite</span><span class="sxs-lookup"><span data-stu-id="4a972-429">Find and rewrite</span></span>
<span data-ttu-id="4a972-430">For a variation on find and replace, use the text that matches the specified pattern when rewriting it.</span><span class="sxs-lookup"><span data-stu-id="4a972-430">For a variation on find and replace, use the text that matches the specified pattern when rewriting it.</span></span> <span data-ttu-id="4a972-431">The find and rewrite syntax is described in the following table.</span><span class="sxs-lookup"><span data-stu-id="4a972-431">The find and rewrite syntax is described in the following table.</span></span>

| <span data-ttu-id="4a972-432">Syntax</span><span class="sxs-lookup"><span data-stu-id="4a972-432">Syntax</span></span> | <span data-ttu-id="4a972-433">Action</span><span class="sxs-lookup"><span data-stu-id="4a972-433">Action</span></span> |
| ------ | ------ |
| <span data-ttu-id="4a972-434">%{Variable/=Find/Rewrite}</span><span class="sxs-lookup"><span data-stu-id="4a972-434">%{Variable/=Find/Rewrite}</span></span> | <span data-ttu-id="4a972-435">Find, copy, and rewrite all occurrences of the specified pattern.</span><span class="sxs-lookup"><span data-stu-id="4a972-435">Find, copy, and rewrite all occurrences of the specified pattern.</span></span> |
| <span data-ttu-id="4a972-436">%{Variable/^Find/Rewrite}</span><span class="sxs-lookup"><span data-stu-id="4a972-436">%{Variable/^Find/Rewrite}</span></span> | <span data-ttu-id="4a972-437">Find, copy, and rewrite the specified pattern when it occurs at the start of the variable.</span><span class="sxs-lookup"><span data-stu-id="4a972-437">Find, copy, and rewrite the specified pattern when it occurs at the start of the variable.</span></span> |
| <span data-ttu-id="4a972-438">%{Variable/$Find/Rewrite}</span><span class="sxs-lookup"><span data-stu-id="4a972-438">%{Variable/$Find/Rewrite}</span></span> | <span data-ttu-id="4a972-439">Find, copy, and rewrite the specified pattern when it occurs at the end of the variable.</span><span class="sxs-lookup"><span data-stu-id="4a972-439">Find, copy, and rewrite the specified pattern when it occurs at the end of the variable.</span></span> |
| <span data-ttu-id="4a972-440">%{Variable/Find}</span><span class="sxs-lookup"><span data-stu-id="4a972-440">%{Variable/Find}</span></span> | <span data-ttu-id="4a972-441">Find and delete all occurrences of the specified pattern.</span><span class="sxs-lookup"><span data-stu-id="4a972-441">Find and delete all occurrences of the specified pattern.</span></span> |

<span data-ttu-id="4a972-442">Key information:</span><span class="sxs-lookup"><span data-stu-id="4a972-442">Key information:</span></span>

- <span data-ttu-id="4a972-443">Expand text that matches the specified pattern by specifying a dollar sign followed by a whole integer (for example, $1).</span><span class="sxs-lookup"><span data-stu-id="4a972-443">Expand text that matches the specified pattern by specifying a dollar sign followed by a whole integer (for example, $1).</span></span>

- <span data-ttu-id="4a972-444">Multiple patterns can be specified.</span><span class="sxs-lookup"><span data-stu-id="4a972-444">Multiple patterns can be specified.</span></span> <span data-ttu-id="4a972-445">The order in which the pattern is specified determines the integer that will be assigned to it.</span><span class="sxs-lookup"><span data-stu-id="4a972-445">The order in which the pattern is specified determines the integer that will be assigned to it.</span></span> <span data-ttu-id="4a972-446">In the following example, the first pattern matches "www.," the second pattern matches the second-level domain, and the third pattern matches the top-level domain:</span><span class="sxs-lookup"><span data-stu-id="4a972-446">In the following example, the first pattern matches "www.," the second pattern matches the second-level domain, and the third pattern matches the top-level domain:</span></span>

    `%{host/=^www\.([^\.]+)\.([^\.:]+)/cdn.$2.$3:80}`

- <span data-ttu-id="4a972-447">The rewritten value can consist of any combination of text and these placeholders.</span><span class="sxs-lookup"><span data-stu-id="4a972-447">The rewritten value can consist of any combination of text and these placeholders.</span></span>

    <span data-ttu-id="4a972-448">In the previous example, the hostname is rewritten to `cdn.$2.$3:80` (for example, cdn.mydomain.com:80).</span><span class="sxs-lookup"><span data-stu-id="4a972-448">In the previous example, the hostname is rewritten to `cdn.$2.$3:80` (for example, cdn.mydomain.com:80).</span></span>

- <span data-ttu-id="4a972-449">The case of a pattern placeholder (for example, $1) can be modified through the following flags:</span><span class="sxs-lookup"><span data-stu-id="4a972-449">The case of a pattern placeholder (for example, $1) can be modified through the following flags:</span></span>
     - <span data-ttu-id="4a972-450">U: Uppercase the expanded value.</span><span class="sxs-lookup"><span data-stu-id="4a972-450">U: Uppercase the expanded value.</span></span>

         <span data-ttu-id="4a972-451">Sample syntax:</span><span class="sxs-lookup"><span data-stu-id="4a972-451">Sample syntax:</span></span>

         `%{host/=^www\.([^\.]+)\.([^\.:]+)/cdn.$U2.$3:80}`

     - <span data-ttu-id="4a972-452">L: Lowercase the expanded value.</span><span class="sxs-lookup"><span data-stu-id="4a972-452">L: Lowercase the expanded value.</span></span>

         <span data-ttu-id="4a972-453">Sample syntax:</span><span class="sxs-lookup"><span data-stu-id="4a972-453">Sample syntax:</span></span>

         `%{host/=^www\.([^\.]+)\.([^\.:]+)/cdn.$L2.$3:80}`

- <span data-ttu-id="4a972-454">An operator must be specified before the pattern.</span><span class="sxs-lookup"><span data-stu-id="4a972-454">An operator must be specified before the pattern.</span></span> <span data-ttu-id="4a972-455">The specified operator determines the pattern-capturing behavior:</span><span class="sxs-lookup"><span data-stu-id="4a972-455">The specified operator determines the pattern-capturing behavior:</span></span>

     - <span data-ttu-id="4a972-456">`=`: Indicates that all occurrences of the specified pattern must be captured and rewritten.</span><span class="sxs-lookup"><span data-stu-id="4a972-456">`=`: Indicates that all occurrences of the specified pattern must be captured and rewritten.</span></span>
     - <span data-ttu-id="4a972-457">`^`: Indicates that only text that starts with the specified pattern will be captured.</span><span class="sxs-lookup"><span data-stu-id="4a972-457">`^`: Indicates that only text that starts with the specified pattern will be captured.</span></span>
     - <span data-ttu-id="4a972-458">`$`: Indicates that only text that ends with the specified pattern will be capture.</span><span class="sxs-lookup"><span data-stu-id="4a972-458">`$`: Indicates that only text that ends with the specified pattern will be capture.</span></span>
 
- <span data-ttu-id="4a972-459">If you omit the */Rewrite* value, the text that matches the pattern is deleted.</span><span class="sxs-lookup"><span data-stu-id="4a972-459">If you omit the */Rewrite* value, the text that matches the pattern is deleted.</span></span>


