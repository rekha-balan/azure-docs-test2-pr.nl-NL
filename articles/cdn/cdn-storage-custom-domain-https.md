---
title: Tutorial - Access storage blobs using an Azure CDN custom domain over HTTPS | Microsoft Docs
description: ''
services: cdn
documentationcenter: ''
author: dksimpson
manager: cfowler
editor: ''
ms.assetid: ''
ms.service: cdn
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: tutorial
ms.date: 06/15/2018
ms.author: v-deasim
ms.custom: mvc
ms.openlocfilehash: a1a86f28c9650c86df7c333ca52d772a09597efd
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44966180"
---
# <a name="tutorial-access-storage-blobs-using-an-azure-cdn-custom-domain-over-https"></a><span data-ttu-id="5de6f-102">Tutorial: Access storage blobs using an Azure CDN custom domain over HTTPS</span><span class="sxs-lookup"><span data-stu-id="5de6f-102">Tutorial: Access storage blobs using an Azure CDN custom domain over HTTPS</span></span>

<span data-ttu-id="5de6f-103">After you've integrated your Azure storage account with Azure Content Delivery Network (CDN), you can add a custom domain and enable HTTPS on that domain for your custom blob storage endpoint.</span><span class="sxs-lookup"><span data-stu-id="5de6f-103">After you've integrated your Azure storage account with Azure Content Delivery Network (CDN), you can add a custom domain and enable HTTPS on that domain for your custom blob storage endpoint.</span></span> 

## <a name="prerequisites"></a><span data-ttu-id="5de6f-104">Prerequisites</span><span class="sxs-lookup"><span data-stu-id="5de6f-104">Prerequisites</span></span>

<span data-ttu-id="5de6f-105">Before you can complete the steps in this tutorial, you must first integrate your Azure storage account with Azure CDN.</span><span class="sxs-lookup"><span data-stu-id="5de6f-105">Before you can complete the steps in this tutorial, you must first integrate your Azure storage account with Azure CDN.</span></span> <span data-ttu-id="5de6f-106">For more information, see [Quickstart: Integrate an Azure storage account with Azure CDN](cdn-create-a-storage-account-with-cdn.md).</span><span class="sxs-lookup"><span data-stu-id="5de6f-106">For more information, see [Quickstart: Integrate an Azure storage account with Azure CDN](cdn-create-a-storage-account-with-cdn.md).</span></span>

## <a name="add-a-custom-domain"></a><span data-ttu-id="5de6f-107">Add a custom domain</span><span class="sxs-lookup"><span data-stu-id="5de6f-107">Add a custom domain</span></span>
<span data-ttu-id="5de6f-108">When you create a CDN endpoint in your profile, the endpoint name, which is a subdomain of azureedge.net, is included in the URL for delivering CDN content by default.</span><span class="sxs-lookup"><span data-stu-id="5de6f-108">When you create a CDN endpoint in your profile, the endpoint name, which is a subdomain of azureedge.net, is included in the URL for delivering CDN content by default.</span></span> <span data-ttu-id="5de6f-109">You also have the option of associating a custom domain with a CDN endpoint.</span><span class="sxs-lookup"><span data-stu-id="5de6f-109">You also have the option of associating a custom domain with a CDN endpoint.</span></span> <span data-ttu-id="5de6f-110">With this option, you deliver your content with a custom domain in your URL instead of an endpoint name.</span><span class="sxs-lookup"><span data-stu-id="5de6f-110">With this option, you deliver your content with a custom domain in your URL instead of an endpoint name.</span></span> <span data-ttu-id="5de6f-111">To add a custom domain to your endpoint, follow the instructions in this tutorial: [Add a custom domain to your Azure CDN endpoint](cdn-map-content-to-custom-domain.md).</span><span class="sxs-lookup"><span data-stu-id="5de6f-111">To add a custom domain to your endpoint, follow the instructions in this tutorial: [Add a custom domain to your Azure CDN endpoint](cdn-map-content-to-custom-domain.md).</span></span>

## <a name="configure-https"></a><span data-ttu-id="5de6f-112">Configure HTTPS</span><span class="sxs-lookup"><span data-stu-id="5de6f-112">Configure HTTPS</span></span>
<span data-ttu-id="5de6f-113">By using the HTTPS protocol on your custom domain, you ensure that your data is delivered securely on the internet via TLS/SSL encryption.</span><span class="sxs-lookup"><span data-stu-id="5de6f-113">By using the HTTPS protocol on your custom domain, you ensure that your data is delivered securely on the internet via TLS/SSL encryption.</span></span> <span data-ttu-id="5de6f-114">When your web browser is connected to a web site via HTTPS, it validates the web site’s security certificate and verifies it’s issued by a legitimate certificate authority.</span><span class="sxs-lookup"><span data-stu-id="5de6f-114">When your web browser is connected to a web site via HTTPS, it validates the web site’s security certificate and verifies it’s issued by a legitimate certificate authority.</span></span> <span data-ttu-id="5de6f-115">To configure HTTPS on your custom domain, follow the instructions in this tutorial: [Configure HTTPS on an Azure CDN custom domain](cdn-custom-ssl.md).</span><span class="sxs-lookup"><span data-stu-id="5de6f-115">To configure HTTPS on your custom domain, follow the instructions in this tutorial: [Configure HTTPS on an Azure CDN custom domain](cdn-custom-ssl.md).</span></span>

## <a name="shared-access-signatures"></a><span data-ttu-id="5de6f-116">Shared Access Signatures</span><span class="sxs-lookup"><span data-stu-id="5de6f-116">Shared Access Signatures</span></span>
<span data-ttu-id="5de6f-117">If your blob storage endpoint is configured to disallow anonymous read access, you should provide a [Shared Access Signature (SAS)](cdn-sas-storage-support.md) token in each request you make to your custom domain.</span><span class="sxs-lookup"><span data-stu-id="5de6f-117">If your blob storage endpoint is configured to disallow anonymous read access, you should provide a [Shared Access Signature (SAS)](cdn-sas-storage-support.md) token in each request you make to your custom domain.</span></span> <span data-ttu-id="5de6f-118">By default, blob storage endpoints disallow anonymous read access.</span><span class="sxs-lookup"><span data-stu-id="5de6f-118">By default, blob storage endpoints disallow anonymous read access.</span></span> <span data-ttu-id="5de6f-119">For more information about SAS, see [Managing anonymous read access to containers and blobs](../storage/blobs/storage-manage-access-to-resources.md).</span><span class="sxs-lookup"><span data-stu-id="5de6f-119">For more information about SAS, see [Managing anonymous read access to containers and blobs](../storage/blobs/storage-manage-access-to-resources.md).</span></span>

<span data-ttu-id="5de6f-120">Azure CDN ignores any restrictions added to the SAS token.</span><span class="sxs-lookup"><span data-stu-id="5de6f-120">Azure CDN ignores any restrictions added to the SAS token.</span></span> <span data-ttu-id="5de6f-121">For example, all SAS tokens have an expiration time, which means that content can still be accessed with an expired SAS until that content is purged from the CDN point-of-presence (POP) servers.</span><span class="sxs-lookup"><span data-stu-id="5de6f-121">For example, all SAS tokens have an expiration time, which means that content can still be accessed with an expired SAS until that content is purged from the CDN point-of-presence (POP) servers.</span></span> <span data-ttu-id="5de6f-122">You can control how long data is cached on Azure CDN by setting the cache response header.</span><span class="sxs-lookup"><span data-stu-id="5de6f-122">You can control how long data is cached on Azure CDN by setting the cache response header.</span></span> <span data-ttu-id="5de6f-123">For more information, see [Managing expiration of Azure Storage blobs in Azure CDN](cdn-manage-expiration-of-blob-content.md).</span><span class="sxs-lookup"><span data-stu-id="5de6f-123">For more information, see [Managing expiration of Azure Storage blobs in Azure CDN](cdn-manage-expiration-of-blob-content.md).</span></span>

<span data-ttu-id="5de6f-124">If you create multiple SAS URLs for the same blob endpoint, consider enabling query string caching.</span><span class="sxs-lookup"><span data-stu-id="5de6f-124">If you create multiple SAS URLs for the same blob endpoint, consider enabling query string caching.</span></span> <span data-ttu-id="5de6f-125">Doing so ensures that each URL is treated as a unique entity.</span><span class="sxs-lookup"><span data-stu-id="5de6f-125">Doing so ensures that each URL is treated as a unique entity.</span></span> <span data-ttu-id="5de6f-126">For more information, see [Controlling Azure CDN caching behavior with query strings](cdn-query-string.md).</span><span class="sxs-lookup"><span data-stu-id="5de6f-126">For more information, see [Controlling Azure CDN caching behavior with query strings](cdn-query-string.md).</span></span>

## <a name="http-to-https-redirection"></a><span data-ttu-id="5de6f-127">HTTP-to-HTTPS redirection</span><span class="sxs-lookup"><span data-stu-id="5de6f-127">HTTP-to-HTTPS redirection</span></span>
<span data-ttu-id="5de6f-128">You can elect to redirect HTTP traffic to HTTPS by creating a [URL Redirect rule](cdn-rules-engine-reference-features.md#url-redirect) with the [Azure CDN rules engine](cdn-rules-engine.md).</span><span class="sxs-lookup"><span data-stu-id="5de6f-128">You can elect to redirect HTTP traffic to HTTPS by creating a [URL Redirect rule](cdn-rules-engine-reference-features.md#url-redirect) with the [Azure CDN rules engine](cdn-rules-engine.md).</span></span> <span data-ttu-id="5de6f-129">This option requires an **Azure CDN Premium from Verizon** profile.</span><span class="sxs-lookup"><span data-stu-id="5de6f-129">This option requires an **Azure CDN Premium from Verizon** profile.</span></span> 

![URL redirect rule](./media/cdn-storage-custom-domain-https/cdn-url-redirect-rule.png)

<span data-ttu-id="5de6f-131">In this rule, *Cdn-endpoint-name* refers to the name that you configured for your CDN endpoint, which you can select from the drop-down list.</span><span class="sxs-lookup"><span data-stu-id="5de6f-131">In this rule, *Cdn-endpoint-name* refers to the name that you configured for your CDN endpoint, which you can select from the drop-down list.</span></span> <span data-ttu-id="5de6f-132">The value for *origin-path* refers to the path within your origin storage account where your static content resides.</span><span class="sxs-lookup"><span data-stu-id="5de6f-132">The value for *origin-path* refers to the path within your origin storage account where your static content resides.</span></span> <span data-ttu-id="5de6f-133">If you're  hosting all static content in a single container, replace *origin-path* with the name of that container.</span><span class="sxs-lookup"><span data-stu-id="5de6f-133">If you're  hosting all static content in a single container, replace *origin-path* with the name of that container.</span></span>

## <a name="pricing-and-billing"></a><span data-ttu-id="5de6f-134">Pricing and billing</span><span class="sxs-lookup"><span data-stu-id="5de6f-134">Pricing and billing</span></span>
<span data-ttu-id="5de6f-135">When you access blobs through Azure CDN, you pay [Blob storage prices](https://azure.microsoft.com/pricing/details/storage/blobs/) for traffic between the POP servers and the origin (Blob storage), and [Azure CDN pricing](https://azure.microsoft.com/pricing/details/cdn/) for data accessed from the POP servers.</span><span class="sxs-lookup"><span data-stu-id="5de6f-135">When you access blobs through Azure CDN, you pay [Blob storage prices](https://azure.microsoft.com/pricing/details/storage/blobs/) for traffic between the POP servers and the origin (Blob storage), and [Azure CDN pricing](https://azure.microsoft.com/pricing/details/cdn/) for data accessed from the POP servers.</span></span>

<span data-ttu-id="5de6f-136">If, for example, you have a storage account in the United States that's being accessed using Azure CDN and someone in Europe attempts to access one of the blobs in that storage account via Azure CDN, Azure CDN first checks the POP closest to Europe for that blob.</span><span class="sxs-lookup"><span data-stu-id="5de6f-136">If, for example, you have a storage account in the United States that's being accessed using Azure CDN and someone in Europe attempts to access one of the blobs in that storage account via Azure CDN, Azure CDN first checks the POP closest to Europe for that blob.</span></span> <span data-ttu-id="5de6f-137">If found, Azure CDN accesses that copy of the blob and uses CDN pricing, because it's being accessed on Azure CDN.</span><span class="sxs-lookup"><span data-stu-id="5de6f-137">If found, Azure CDN accesses that copy of the blob and uses CDN pricing, because it's being accessed on Azure CDN.</span></span> <span data-ttu-id="5de6f-138">If it's not found, Azure CDN copies the blob to the POP server, which results in egress and transaction charges as specified in the Blob storage pricing, and then accesses the file on the POP server, which results in Azure CDN billing.</span><span class="sxs-lookup"><span data-stu-id="5de6f-138">If it's not found, Azure CDN copies the blob to the POP server, which results in egress and transaction charges as specified in the Blob storage pricing, and then accesses the file on the POP server, which results in Azure CDN billing.</span></span>

## <a name="next-steps"></a><span data-ttu-id="5de6f-139">Next steps</span><span class="sxs-lookup"><span data-stu-id="5de6f-139">Next steps</span></span>
[<span data-ttu-id="5de6f-140">Tutorial: Set Azure CDN caching rules</span><span class="sxs-lookup"><span data-stu-id="5de6f-140">Tutorial: Set Azure CDN caching rules</span></span>](cdn-caching-rules-tutorial.md)




