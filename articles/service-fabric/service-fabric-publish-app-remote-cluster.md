---
title: Publish an app to a remote cluster with Visual Studio | Microsoft Docs
description: Learn how to publish an application to a remote service fabric cluster by using Visual Studio.
services: service-fabric
documentationcenter: na
author: cawams
manager: timlt
editor: ''
ms.assetid: faecd892-eb54-4d9c-8023-c67442afb8e8
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 07/29/2016
ms.author: cawa
ms.openlocfilehash: 58647f51187bcde72715f5ddf2ae2674b6c86516
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44662631"
---
# <a name="publish-an-application-to-a-remote-cluster-by-using-visual-studio"></a><span data-ttu-id="6ce98-103">Publish an application to a remote cluster by using Visual Studio</span><span class="sxs-lookup"><span data-stu-id="6ce98-103">Publish an application to a remote cluster by using Visual Studio</span></span>
> [!div class="op_single_selector"]
> * [PowerShell](service-fabric-deploy-remove-applications.md)
> * [Visual Studio](service-fabric-publish-app-remote-cluster.md)
> * [FabricClient APIs](service-fabric-deploy-remove-applications-fabricclient.md)
> 
> 

<br/>

<span data-ttu-id="6ce98-107">The Azure Service Fabric extension for Visual Studio provides an easy, repeatable, and scriptable way to publish an application to a Service Fabric cluster.</span><span class="sxs-lookup"><span data-stu-id="6ce98-107">The Azure Service Fabric extension for Visual Studio provides an easy, repeatable, and scriptable way to publish an application to a Service Fabric cluster.</span></span>

## <a name="the-artifacts-required-for-publishing"></a><span data-ttu-id="6ce98-108">The artifacts required for publishing</span><span class="sxs-lookup"><span data-stu-id="6ce98-108">The artifacts required for publishing</span></span>
### <a name="deploy-fabricapplicationps1"></a><span data-ttu-id="6ce98-109">Deploy-FabricApplication.ps1</span><span class="sxs-lookup"><span data-stu-id="6ce98-109">Deploy-FabricApplication.ps1</span></span>
<span data-ttu-id="6ce98-110">This is a PowerShell script that uses a publish profile path as a parameter for publishing Service Fabric applications.</span><span class="sxs-lookup"><span data-stu-id="6ce98-110">This is a PowerShell script that uses a publish profile path as a parameter for publishing Service Fabric applications.</span></span> <span data-ttu-id="6ce98-111">Since this script is part of your application, you are welcome to modify it as necessary for your application.</span><span class="sxs-lookup"><span data-stu-id="6ce98-111">Since this script is part of your application, you are welcome to modify it as necessary for your application.</span></span>

### <a name="publish-profiles"></a><span data-ttu-id="6ce98-112">Publish profiles</span><span class="sxs-lookup"><span data-stu-id="6ce98-112">Publish profiles</span></span>
<span data-ttu-id="6ce98-113">A folder in the Service Fabric application project called **PublishProfiles** contains XML files that store essential information for publishing an application, such as:</span><span class="sxs-lookup"><span data-stu-id="6ce98-113">A folder in the Service Fabric application project called **PublishProfiles** contains XML files that store essential information for publishing an application, such as:</span></span>

* <span data-ttu-id="6ce98-114">Service Fabric cluster connection parameters</span><span class="sxs-lookup"><span data-stu-id="6ce98-114">Service Fabric cluster connection parameters</span></span>
* <span data-ttu-id="6ce98-115">Path to an application parameter file</span><span class="sxs-lookup"><span data-stu-id="6ce98-115">Path to an application parameter file</span></span>
* <span data-ttu-id="6ce98-116">Upgrade settings</span><span class="sxs-lookup"><span data-stu-id="6ce98-116">Upgrade settings</span></span>

<span data-ttu-id="6ce98-117">By default, your application will include two publish profiles: Local.xml and Cloud.xml.</span><span class="sxs-lookup"><span data-stu-id="6ce98-117">By default, your application will include two publish profiles: Local.xml and Cloud.xml.</span></span> <span data-ttu-id="6ce98-118">You can add more profiles by copying and pasting one of the default files.</span><span class="sxs-lookup"><span data-stu-id="6ce98-118">You can add more profiles by copying and pasting one of the default files.</span></span>

### <a name="application-parameter-files"></a><span data-ttu-id="6ce98-119">Application parameter files</span><span class="sxs-lookup"><span data-stu-id="6ce98-119">Application parameter files</span></span>
<span data-ttu-id="6ce98-120">A folder in the Service Fabric application project called **ApplicationParameters** contains XML files for user-specified application manifest parameter values.</span><span class="sxs-lookup"><span data-stu-id="6ce98-120">A folder in the Service Fabric application project called **ApplicationParameters** contains XML files for user-specified application manifest parameter values.</span></span> <span data-ttu-id="6ce98-121">Application manifest files can be parameterized so that you can use different values for deployment settings.</span><span class="sxs-lookup"><span data-stu-id="6ce98-121">Application manifest files can be parameterized so that you can use different values for deployment settings.</span></span> <span data-ttu-id="6ce98-122">To learn more about parameterizing your application, see [Manage multiple environments in Service Fabric](service-fabric-manage-multiple-environment-app-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="6ce98-122">To learn more about parameterizing your application, see [Manage multiple environments in Service Fabric](service-fabric-manage-multiple-environment-app-configuration.md).</span></span>

> [!NOTE]
> For actor services, you should build the project first before attempting to edit the file in an editor or through the publish dialog box. This is because part of the manifest files will be generated during the build.
> 
> 

## <a name="to-publish-an-application-by-using-the-publish-service-fabric-application-dialog-box"></a><span data-ttu-id="6ce98-125">To publish an application by using the Publish Service Fabric Application dialog box</span><span class="sxs-lookup"><span data-stu-id="6ce98-125">To publish an application by using the Publish Service Fabric Application dialog box</span></span>
<span data-ttu-id="6ce98-126">The following steps demonstrate how to publish an application by using the **Publish Service Fabric Application** dialog box provided by the Visual Studio Service Fabric Tools.</span><span class="sxs-lookup"><span data-stu-id="6ce98-126">The following steps demonstrate how to publish an application by using the **Publish Service Fabric Application** dialog box provided by the Visual Studio Service Fabric Tools.</span></span>

1. <span data-ttu-id="6ce98-127">On the shortcut menu of the Service Fabric Application project, choose **Publish…**</span><span class="sxs-lookup"><span data-stu-id="6ce98-127">On the shortcut menu of the Service Fabric Application project, choose **Publish…**</span></span> <span data-ttu-id="6ce98-128">to view the **Publish Service Fabric Application** dialog box.</span><span class="sxs-lookup"><span data-stu-id="6ce98-128">to view the **Publish Service Fabric Application** dialog box.</span></span>
   
    ![The **Publish Service Fabric Application** dialog box][0]
   
    <span data-ttu-id="6ce98-130">The file selected in the **Target profile** dropdown list box is where all of the settings, except **Manifest versions**, are saved.</span><span class="sxs-lookup"><span data-stu-id="6ce98-130">The file selected in the **Target profile** dropdown list box is where all of the settings, except **Manifest versions**, are saved.</span></span> <span data-ttu-id="6ce98-131">You can either reuse an existing profile or create a new one by choosing **<Manage Profiles…>** in the **Target profile** dropdown list box.</span><span class="sxs-lookup"><span data-stu-id="6ce98-131">You can either reuse an existing profile or create a new one by choosing **<Manage Profiles…>** in the **Target profile** dropdown list box.</span></span> <span data-ttu-id="6ce98-132">When you choose a publish profile, its contents appear in the corresponding fields of the dialog box.</span><span class="sxs-lookup"><span data-stu-id="6ce98-132">When you choose a publish profile, its contents appear in the corresponding fields of the dialog box.</span></span> <span data-ttu-id="6ce98-133">To save your changes at any time, choose the **Save Profile** link.</span><span class="sxs-lookup"><span data-stu-id="6ce98-133">To save your changes at any time, choose the **Save Profile** link.</span></span>    
2. <span data-ttu-id="6ce98-134">In the **Connection endpoint** section, specify a local or remote Service Fabric cluster’s publishing endpoint.</span><span class="sxs-lookup"><span data-stu-id="6ce98-134">In the **Connection endpoint** section, specify a local or remote Service Fabric cluster’s publishing endpoint.</span></span> <span data-ttu-id="6ce98-135">To add or change the connection endpoint, click on the **Connection Endpoint** dropdown list.</span><span class="sxs-lookup"><span data-stu-id="6ce98-135">To add or change the connection endpoint, click on the **Connection Endpoint** dropdown list.</span></span> <span data-ttu-id="6ce98-136">The list shows the available Service Fabric cluster connection endpoints to which you can publish based on your Azure subscription(s).</span><span class="sxs-lookup"><span data-stu-id="6ce98-136">The list shows the available Service Fabric cluster connection endpoints to which you can publish based on your Azure subscription(s).</span></span> <span data-ttu-id="6ce98-137">Note that if you are not already logged in to Visual Studio, you will be prompted to do so.</span><span class="sxs-lookup"><span data-stu-id="6ce98-137">Note that if you are not already logged in to Visual Studio, you will be prompted to do so.</span></span>
   
    <span data-ttu-id="6ce98-138">Use the cluster selection dialog box to choose from the set of available subscriptions and clusters.</span><span class="sxs-lookup"><span data-stu-id="6ce98-138">Use the cluster selection dialog box to choose from the set of available subscriptions and clusters.</span></span>
   
    ![The **Select Service Fabric Cluster** dialog box][1]
   
   > [!NOTE]
   > If you would like to publish to an arbitrary endpoint (such as a party cluster), see the **Publishing to an arbitrary cluster endpoint** section below.
   > 
   > 
   
    <span data-ttu-id="6ce98-141">Once you choose an endpoint, Visual Studio validates the connection to the selected Service Fabric cluster.</span><span class="sxs-lookup"><span data-stu-id="6ce98-141">Once you choose an endpoint, Visual Studio validates the connection to the selected Service Fabric cluster.</span></span> <span data-ttu-id="6ce98-142">If the cluster isn't secure, Visual Studio can connect to it immediately.</span><span class="sxs-lookup"><span data-stu-id="6ce98-142">If the cluster isn't secure, Visual Studio can connect to it immediately.</span></span> <span data-ttu-id="6ce98-143">However, if the cluster is secure, you'll need to install a certificate on your local computer before proceeding.</span><span class="sxs-lookup"><span data-stu-id="6ce98-143">However, if the cluster is secure, you'll need to install a certificate on your local computer before proceeding.</span></span> <span data-ttu-id="6ce98-144">See [How to configure secure connections](service-fabric-visualstudio-configure-secure-connections.md) for more information.</span><span class="sxs-lookup"><span data-stu-id="6ce98-144">See [How to configure secure connections](service-fabric-visualstudio-configure-secure-connections.md) for more information.</span></span> <span data-ttu-id="6ce98-145">When you're done, choose the **OK** button.</span><span class="sxs-lookup"><span data-stu-id="6ce98-145">When you're done, choose the **OK** button.</span></span> <span data-ttu-id="6ce98-146">The selected cluster appears in the **Publish Service Fabric Application** dialog box.</span><span class="sxs-lookup"><span data-stu-id="6ce98-146">The selected cluster appears in the **Publish Service Fabric Application** dialog box.</span></span>
3. <span data-ttu-id="6ce98-147">In the **Application Parameter File** dropdown list box, navigate to an application parameter file.</span><span class="sxs-lookup"><span data-stu-id="6ce98-147">In the **Application Parameter File** dropdown list box, navigate to an application parameter file.</span></span> <span data-ttu-id="6ce98-148">An application parameter file holds user-specified values for parameters in the application manifest file.</span><span class="sxs-lookup"><span data-stu-id="6ce98-148">An application parameter file holds user-specified values for parameters in the application manifest file.</span></span> <span data-ttu-id="6ce98-149">To add or change a parameter, choose the **Edit** button.</span><span class="sxs-lookup"><span data-stu-id="6ce98-149">To add or change a parameter, choose the **Edit** button.</span></span> <span data-ttu-id="6ce98-150">Enter or change the parameter's value in the **Parameters** grid.</span><span class="sxs-lookup"><span data-stu-id="6ce98-150">Enter or change the parameter's value in the **Parameters** grid.</span></span> <span data-ttu-id="6ce98-151">When you're done, choose the **Save** button.</span><span class="sxs-lookup"><span data-stu-id="6ce98-151">When you're done, choose the **Save** button.</span></span>
   
    ![The **Edit Parameters** dialog box][2]
4. <span data-ttu-id="6ce98-153">Use the **Upgrade the Application** checkbox to specify whether this publish action is an upgrade.</span><span class="sxs-lookup"><span data-stu-id="6ce98-153">Use the **Upgrade the Application** checkbox to specify whether this publish action is an upgrade.</span></span> <span data-ttu-id="6ce98-154">Upgrade publish actions differ from normal publish actions.</span><span class="sxs-lookup"><span data-stu-id="6ce98-154">Upgrade publish actions differ from normal publish actions.</span></span> <span data-ttu-id="6ce98-155">See [Service Fabric Application Upgrade](service-fabric-application-upgrade.md) for a list of differences.</span><span class="sxs-lookup"><span data-stu-id="6ce98-155">See [Service Fabric Application Upgrade](service-fabric-application-upgrade.md) for a list of differences.</span></span> <span data-ttu-id="6ce98-156">To configure upgrade settings, choose the **Configure Upgrade Settings** link.</span><span class="sxs-lookup"><span data-stu-id="6ce98-156">To configure upgrade settings, choose the **Configure Upgrade Settings** link.</span></span> <span data-ttu-id="6ce98-157">The upgrade parameter editor appears.</span><span class="sxs-lookup"><span data-stu-id="6ce98-157">The upgrade parameter editor appears.</span></span> <span data-ttu-id="6ce98-158">See [Configure the upgrade of a Service Fabric application](service-fabric-visualstudio-configure-upgrade.md) to learn more about upgrade parameters.</span><span class="sxs-lookup"><span data-stu-id="6ce98-158">See [Configure the upgrade of a Service Fabric application](service-fabric-visualstudio-configure-upgrade.md) to learn more about upgrade parameters.</span></span>
5. <span data-ttu-id="6ce98-159">Choose the **Manifest Versions…**</span><span class="sxs-lookup"><span data-stu-id="6ce98-159">Choose the **Manifest Versions…**</span></span> <span data-ttu-id="6ce98-160">button to view the **Edit Versions** dialog box.</span><span class="sxs-lookup"><span data-stu-id="6ce98-160">button to view the **Edit Versions** dialog box.</span></span> <span data-ttu-id="6ce98-161">You need to update application and service versions for an upgrade to take place.</span><span class="sxs-lookup"><span data-stu-id="6ce98-161">You need to update application and service versions for an upgrade to take place.</span></span> <span data-ttu-id="6ce98-162">See [Service Fabric application upgrade tutorial](service-fabric-application-upgrade-tutorial.md) to learn how application and service manifest versions impact an upgrade process.</span><span class="sxs-lookup"><span data-stu-id="6ce98-162">See [Service Fabric application upgrade tutorial](service-fabric-application-upgrade-tutorial.md) to learn how application and service manifest versions impact an upgrade process.</span></span>
   
    ![The **Edit Versions** dialog box][3]
   
    <span data-ttu-id="6ce98-164">If the application and service versions use semantic versioning such as 1.0.0 or numerical values in the format of 1.0.0.0, select the **Automatically update application and service versions** option.</span><span class="sxs-lookup"><span data-stu-id="6ce98-164">If the application and service versions use semantic versioning such as 1.0.0 or numerical values in the format of 1.0.0.0, select the **Automatically update application and service versions** option.</span></span> <span data-ttu-id="6ce98-165">When you choose this option, the service and application version numbers are automatically updated whenever a code, config, or data package version is updated.</span><span class="sxs-lookup"><span data-stu-id="6ce98-165">When you choose this option, the service and application version numbers are automatically updated whenever a code, config, or data package version is updated.</span></span> <span data-ttu-id="6ce98-166">If you prefer to edit the versions manually, clear the checkbox to disable this feature.</span><span class="sxs-lookup"><span data-stu-id="6ce98-166">If you prefer to edit the versions manually, clear the checkbox to disable this feature.</span></span>
   
   > [!NOTE]
   > For all package entries to appear for an actor project, first build the project to generate the entries in the Service Manifest files.
   > 
   > 
6. <span data-ttu-id="6ce98-168">When you're done specifying all of the necessary settings, choose the **Publish** button to publish your application to the selected Service Fabric cluster.</span><span class="sxs-lookup"><span data-stu-id="6ce98-168">When you're done specifying all of the necessary settings, choose the **Publish** button to publish your application to the selected Service Fabric cluster.</span></span> <span data-ttu-id="6ce98-169">The settings that you specified are applied to the publish process.</span><span class="sxs-lookup"><span data-stu-id="6ce98-169">The settings that you specified are applied to the publish process.</span></span>

## <a name="publish-to-an-arbitrary-cluster-endpoint-including-party-clusters"></a><span data-ttu-id="6ce98-170">Publish to an arbitrary cluster endpoint (including party clusters)</span><span class="sxs-lookup"><span data-stu-id="6ce98-170">Publish to an arbitrary cluster endpoint (including party clusters)</span></span>
<span data-ttu-id="6ce98-171">The Visual Studio publishing experience is optimized for publishing to remote clusters associated with one of your Azure subscriptions.</span><span class="sxs-lookup"><span data-stu-id="6ce98-171">The Visual Studio publishing experience is optimized for publishing to remote clusters associated with one of your Azure subscriptions.</span></span> <span data-ttu-id="6ce98-172">However, it is possible to publish to arbitrary endpoints (such as Service Fabric party clusters) by directly editing the publish profile XML.</span><span class="sxs-lookup"><span data-stu-id="6ce98-172">However, it is possible to publish to arbitrary endpoints (such as Service Fabric party clusters) by directly editing the publish profile XML.</span></span> <span data-ttu-id="6ce98-173">As described above, two publish profiles are provided by default--**Local.xml** and **Cloud.xml**--but you are welcome to create additional profiles for different environments.</span><span class="sxs-lookup"><span data-stu-id="6ce98-173">As described above, two publish profiles are provided by default--**Local.xml** and **Cloud.xml**--but you are welcome to create additional profiles for different environments.</span></span> <span data-ttu-id="6ce98-174">For instance, you might want to create a profile for publishing to party clusters, perhaps named **Party.xml**.</span><span class="sxs-lookup"><span data-stu-id="6ce98-174">For instance, you might want to create a profile for publishing to party clusters, perhaps named **Party.xml**.</span></span>

<span data-ttu-id="6ce98-175">If you are connecting to a unsecured cluster, all that's required is the cluster connection endpoint, such as `partycluster1.eastus.cloudapp.azure.com:19000`.</span><span class="sxs-lookup"><span data-stu-id="6ce98-175">If you are connecting to a unsecured cluster, all that's required is the cluster connection endpoint, such as `partycluster1.eastus.cloudapp.azure.com:19000`.</span></span> <span data-ttu-id="6ce98-176">In that case, the connection endpoint in the publish profile would look something like this:</span><span class="sxs-lookup"><span data-stu-id="6ce98-176">In that case, the connection endpoint in the publish profile would look something like this:</span></span>

```XML
<ClusterConnectionParameters ConnectionEndpoint="partycluster1.eastus.cloudapp.azure.com:19000" />
```

  <span data-ttu-id="6ce98-177">If you are connecting to a secured cluster, you will also need to provide the details of the client certificate from the local store to be used for authentication.</span><span class="sxs-lookup"><span data-stu-id="6ce98-177">If you are connecting to a secured cluster, you will also need to provide the details of the client certificate from the local store to be used for authentication.</span></span> <span data-ttu-id="6ce98-178">For more details, see [Configuring secure connections to a Service Fabric cluster](service-fabric-visualstudio-configure-secure-connections.md).</span><span class="sxs-lookup"><span data-stu-id="6ce98-178">For more details, see [Configuring secure connections to a Service Fabric cluster](service-fabric-visualstudio-configure-secure-connections.md).</span></span>

  <span data-ttu-id="6ce98-179">Once your publish profile is set up, you can reference it in the publish dialog box as shown below.</span><span class="sxs-lookup"><span data-stu-id="6ce98-179">Once your publish profile is set up, you can reference it in the publish dialog box as shown below.</span></span>

  ![New publish profile in publish dialog box][4]

  <span data-ttu-id="6ce98-181">Note that in this case, the new publish profile points to one of the default application parameter files.</span><span class="sxs-lookup"><span data-stu-id="6ce98-181">Note that in this case, the new publish profile points to one of the default application parameter files.</span></span> <span data-ttu-id="6ce98-182">This is appropriate if you want to publish the same application configuration to a number of environments.</span><span class="sxs-lookup"><span data-stu-id="6ce98-182">This is appropriate if you want to publish the same application configuration to a number of environments.</span></span> <span data-ttu-id="6ce98-183">By contrast, in cases where you want to have different configurations for each environment that you want to publish to, it would make sense to create a corresponding application parameter file.</span><span class="sxs-lookup"><span data-stu-id="6ce98-183">By contrast, in cases where you want to have different configurations for each environment that you want to publish to, it would make sense to create a corresponding application parameter file.</span></span>

## <a name="next-steps"></a><span data-ttu-id="6ce98-184">Next steps</span><span class="sxs-lookup"><span data-stu-id="6ce98-184">Next steps</span></span>
<span data-ttu-id="6ce98-185">To learn how to automate the publishing process in a continuous integration environment, see [Set up Service Fabric continuous integration](service-fabric-set-up-continuous-integration.md).</span><span class="sxs-lookup"><span data-stu-id="6ce98-185">To learn how to automate the publishing process in a continuous integration environment, see [Set up Service Fabric continuous integration](service-fabric-set-up-continuous-integration.md).</span></span>

[0]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/service-fabric/media/service-fabric-publish-app-remote-cluster/PublishDialog.png
[1]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/service-fabric/media/service-fabric-publish-app-remote-cluster/SelectCluster.png
[2]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/service-fabric/media/service-fabric-publish-app-remote-cluster/EditParams.png
[3]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/service-fabric/media/service-fabric-publish-app-remote-cluster/EditVersions.png
[4]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/service-fabric/media/service-fabric-publish-app-remote-cluster/publish-to-party-cluster.png





