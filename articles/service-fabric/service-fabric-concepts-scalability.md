---
title: Scalability of Service Fabric services | Microsoft Docs
description: Describes how to scale Service Fabric services
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: ''
ms.assetid: ed324f23-242f-47b7-af1a-e55c839e7d5d
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 12/30/2016
ms.author: masnider
ms.openlocfilehash: eb19fcef05e06ca64da33434ee9a3fd5547ea69d
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44553279"
---
# <a name="scaling-service-fabric-applications"></a><span data-ttu-id="c92f7-103">Scaling Service Fabric applications</span><span class="sxs-lookup"><span data-stu-id="c92f7-103">Scaling Service Fabric applications</span></span>
<span data-ttu-id="c92f7-104">Azure Service Fabric makes it easy to build scalable applications by managing the services, partitions, and replicas on all the nodes in a cluster.</span><span class="sxs-lookup"><span data-stu-id="c92f7-104">Azure Service Fabric makes it easy to build scalable applications by managing the services, partitions, and replicas on all the nodes in a cluster.</span></span> <span data-ttu-id="c92f7-105">This enables maximum resource utilization.</span><span class="sxs-lookup"><span data-stu-id="c92f7-105">This enables maximum resource utilization.</span></span>

<span data-ttu-id="c92f7-106">High scale for Service Fabric applications can be achieved in two ways:</span><span class="sxs-lookup"><span data-stu-id="c92f7-106">High scale for Service Fabric applications can be achieved in two ways:</span></span>

1. <span data-ttu-id="c92f7-107">Scaling at the service partition level</span><span class="sxs-lookup"><span data-stu-id="c92f7-107">Scaling at the service partition level</span></span>
2. <span data-ttu-id="c92f7-108">Scaling at the named service instance level</span><span class="sxs-lookup"><span data-stu-id="c92f7-108">Scaling at the named service instance level</span></span>

## <a name="scaling-at-the-partition-level"></a><span data-ttu-id="c92f7-109">Scaling at the partition level</span><span class="sxs-lookup"><span data-stu-id="c92f7-109">Scaling at the partition level</span></span>
<span data-ttu-id="c92f7-110">Service Fabric supports partitioning.</span><span class="sxs-lookup"><span data-stu-id="c92f7-110">Service Fabric supports partitioning.</span></span> <span data-ttu-id="c92f7-111">Partitioning allows an individual service to be split into multiple independent partitions, each with some portion of the service's overall state.</span><span class="sxs-lookup"><span data-stu-id="c92f7-111">Partitioning allows an individual service to be split into multiple independent partitions, each with some portion of the service's overall state.</span></span> <span data-ttu-id="c92f7-112">The [partitioning overview](service-fabric-concepts-partitioning.md) provides information on the types of partitioning schemes that are supported.</span><span class="sxs-lookup"><span data-stu-id="c92f7-112">The [partitioning overview](service-fabric-concepts-partitioning.md) provides information on the types of partitioning schemes that are supported.</span></span> <span data-ttu-id="c92f7-113">The replicas of each partition are spread across the nodes in a cluster.</span><span class="sxs-lookup"><span data-stu-id="c92f7-113">The replicas of each partition are spread across the nodes in a cluster.</span></span> <span data-ttu-id="c92f7-114">Consider a service that uses a ranged partitioning scheme with a low key of 0, a high key of 99, and a partition count of 4.</span><span class="sxs-lookup"><span data-stu-id="c92f7-114">Consider a service that uses a ranged partitioning scheme with a low key of 0, a high key of 99, and a partition count of 4.</span></span> <span data-ttu-id="c92f7-115">In a three-node cluster, the service might be laid out with four replicas that share the resources on each node as shown here:</span><span class="sxs-lookup"><span data-stu-id="c92f7-115">In a three-node cluster, the service might be laid out with four replicas that share the resources on each node as shown here:</span></span>

<span data-ttu-id="c92f7-116"><center>
![Partition layout with three nodes](https://docstestmedia1.blob.core.windows.net/azure-media/articles/service-fabric/media/service-fabric-concepts-scalability/layout-three-nodes.png)
</center></span><span class="sxs-lookup"><span data-stu-id="c92f7-116"><center>
![Partition layout with three nodes](https://docstestmedia1.blob.core.windows.net/azure-media/articles/service-fabric/media/service-fabric-concepts-scalability/layout-three-nodes.png)
</center></span></span>

<span data-ttu-id="c92f7-117">If you increase the number of nodes, Service Fabric will utilize the resources on the new nodes by moving some of the existing replicas there.</span><span class="sxs-lookup"><span data-stu-id="c92f7-117">If you increase the number of nodes, Service Fabric will utilize the resources on the new nodes by moving some of the existing replicas there.</span></span> <span data-ttu-id="c92f7-118">By increasing the number of nodes to four, the service now has three replicas running on each node (each belonging to different partitions), allowing for better resource utilization and performance.</span><span class="sxs-lookup"><span data-stu-id="c92f7-118">By increasing the number of nodes to four, the service now has three replicas running on each node (each belonging to different partitions), allowing for better resource utilization and performance.</span></span>

<span data-ttu-id="c92f7-119"><center>
![Partition layout with four nodes](https://docstestmedia1.blob.core.windows.net/azure-media/articles/service-fabric/media/service-fabric-concepts-scalability/layout-four-nodes.png)
</center></span><span class="sxs-lookup"><span data-stu-id="c92f7-119"><center>
![Partition layout with four nodes](https://docstestmedia1.blob.core.windows.net/azure-media/articles/service-fabric/media/service-fabric-concepts-scalability/layout-four-nodes.png)
</center></span></span>

## <a name="scaling-at-the-service-name-level"></a><span data-ttu-id="c92f7-120">Scaling at the service name level</span><span class="sxs-lookup"><span data-stu-id="c92f7-120">Scaling at the service name level</span></span>
<span data-ttu-id="c92f7-121">A service instance is a specific instance of an application name and a service type name (see [Service Fabric application life cycle](service-fabric-application-lifecycle.md)).</span><span class="sxs-lookup"><span data-stu-id="c92f7-121">A service instance is a specific instance of an application name and a service type name (see [Service Fabric application life cycle](service-fabric-application-lifecycle.md)).</span></span> <span data-ttu-id="c92f7-122">During the creation of a service, you specify the partition scheme (see [Partitioning Service Fabric services](service-fabric-concepts-partitioning.md)) to be used.</span><span class="sxs-lookup"><span data-stu-id="c92f7-122">During the creation of a service, you specify the partition scheme (see [Partitioning Service Fabric services](service-fabric-concepts-partitioning.md)) to be used.</span></span>

<span data-ttu-id="c92f7-123">The first level of scaling is by service name.</span><span class="sxs-lookup"><span data-stu-id="c92f7-123">The first level of scaling is by service name.</span></span> <span data-ttu-id="c92f7-124">You can create instances of a service, optionally with different levels of partitioning, as your older service instances become busy.</span><span class="sxs-lookup"><span data-stu-id="c92f7-124">You can create instances of a service, optionally with different levels of partitioning, as your older service instances become busy.</span></span> <span data-ttu-id="c92f7-125">This allows new service consumers to use less-busy service instances, rather than busier ones.</span><span class="sxs-lookup"><span data-stu-id="c92f7-125">This allows new service consumers to use less-busy service instances, rather than busier ones.</span></span>

<span data-ttu-id="c92f7-126">One option for increasing capacity is to create a new service instance with a new partition scheme.</span><span class="sxs-lookup"><span data-stu-id="c92f7-126">One option for increasing capacity is to create a new service instance with a new partition scheme.</span></span> <span data-ttu-id="c92f7-127">This adds complexity, though.</span><span class="sxs-lookup"><span data-stu-id="c92f7-127">This adds complexity, though.</span></span> <span data-ttu-id="c92f7-128">Any consuming clients need to know when and how to use the differently named service.</span><span class="sxs-lookup"><span data-stu-id="c92f7-128">Any consuming clients need to know when and how to use the differently named service.</span></span> <span data-ttu-id="c92f7-129">As another alternative a management or intermediary service would need to make a determination about which service and partition should handle each request.</span><span class="sxs-lookup"><span data-stu-id="c92f7-129">As another alternative a management or intermediary service would need to make a determination about which service and partition should handle each request.</span></span>

### <a name="example-scenario-embedded-dates"></a><span data-ttu-id="c92f7-130">Example scenario: Embedded dates</span><span class="sxs-lookup"><span data-stu-id="c92f7-130">Example scenario: Embedded dates</span></span>
<span data-ttu-id="c92f7-131">One possible scenario would be to use date information as part of the service name.</span><span class="sxs-lookup"><span data-stu-id="c92f7-131">One possible scenario would be to use date information as part of the service name.</span></span> <span data-ttu-id="c92f7-132">For example, you could use a service instance with a specific name for all customers who joined in 2013 and another name for customers who joined in 2014.</span><span class="sxs-lookup"><span data-stu-id="c92f7-132">For example, you could use a service instance with a specific name for all customers who joined in 2013 and another name for customers who joined in 2014.</span></span> <span data-ttu-id="c92f7-133">This naming scheme allows for programmatically increasing the names depending on the date (as 2014 approaches, the service instance for 2014 can be created on demand).</span><span class="sxs-lookup"><span data-stu-id="c92f7-133">This naming scheme allows for programmatically increasing the names depending on the date (as 2014 approaches, the service instance for 2014 can be created on demand).</span></span>

<span data-ttu-id="c92f7-134">However, this approach is based on the clients using application-specific naming information that is outside the scope of Service Fabric knowledge.</span><span class="sxs-lookup"><span data-stu-id="c92f7-134">However, this approach is based on the clients using application-specific naming information that is outside the scope of Service Fabric knowledge.</span></span>

* <span data-ttu-id="c92f7-135">*Using a naming convention*: In 2013, when your application goes live, you create a service called fabric:/app/service2013.</span><span class="sxs-lookup"><span data-stu-id="c92f7-135">*Using a naming convention*: In 2013, when your application goes live, you create a service called fabric:/app/service2013.</span></span> <span data-ttu-id="c92f7-136">Near the second quarter of 2013, you create another service, called fabric:/app/service2014.</span><span class="sxs-lookup"><span data-stu-id="c92f7-136">Near the second quarter of 2013, you create another service, called fabric:/app/service2014.</span></span> <span data-ttu-id="c92f7-137">Both of these services are of the same service type.</span><span class="sxs-lookup"><span data-stu-id="c92f7-137">Both of these services are of the same service type.</span></span> <span data-ttu-id="c92f7-138">In this approach, your client will need to employ logic to construct the appropriate service name based on the year.</span><span class="sxs-lookup"><span data-stu-id="c92f7-138">In this approach, your client will need to employ logic to construct the appropriate service name based on the year.</span></span>
* <span data-ttu-id="c92f7-139">*Using a lookup service*: Another pattern is to provide a secondary lookup service, which can provide the name of the service for a desired key.</span><span class="sxs-lookup"><span data-stu-id="c92f7-139">*Using a lookup service*: Another pattern is to provide a secondary lookup service, which can provide the name of the service for a desired key.</span></span> <span data-ttu-id="c92f7-140">New service instances can then be created by the lookup service.</span><span class="sxs-lookup"><span data-stu-id="c92f7-140">New service instances can then be created by the lookup service.</span></span> <span data-ttu-id="c92f7-141">The lookup service itself doesn't retain any application data, only data about the service names that it creates.</span><span class="sxs-lookup"><span data-stu-id="c92f7-141">The lookup service itself doesn't retain any application data, only data about the service names that it creates.</span></span> <span data-ttu-id="c92f7-142">Thus, for the year-based example above, the client would first contact the lookup service to find out the name of the service handling data for a given year.</span><span class="sxs-lookup"><span data-stu-id="c92f7-142">Thus, for the year-based example above, the client would first contact the lookup service to find out the name of the service handling data for a given year.</span></span> <span data-ttu-id="c92f7-143">Then, the client would use that service name for performing the actual operation.</span><span class="sxs-lookup"><span data-stu-id="c92f7-143">Then, the client would use that service name for performing the actual operation.</span></span> <span data-ttu-id="c92f7-144">The result of the first lookup can be cached.</span><span class="sxs-lookup"><span data-stu-id="c92f7-144">The result of the first lookup can be cached.</span></span>

## <a name="putting-it-all-together"></a><span data-ttu-id="c92f7-145">Putting it all together</span><span class="sxs-lookup"><span data-stu-id="c92f7-145">Putting it all together</span></span>
<span data-ttu-id="c92f7-146">Let's take all the ideas that we've discussed here and talk through another scenario.</span><span class="sxs-lookup"><span data-stu-id="c92f7-146">Let's take all the ideas that we've discussed here and talk through another scenario.</span></span>

<span data-ttu-id="c92f7-147">Consider the following example: you are trying to build a service that acts as an address book, holding on to names and contact information.</span><span class="sxs-lookup"><span data-stu-id="c92f7-147">Consider the following example: you are trying to build a service that acts as an address book, holding on to names and contact information.</span></span> <span data-ttu-id="c92f7-148">How many users are you going to have?</span><span class="sxs-lookup"><span data-stu-id="c92f7-148">How many users are you going to have?</span></span> <span data-ttu-id="c92f7-149">How many contacts will each user store?</span><span class="sxs-lookup"><span data-stu-id="c92f7-149">How many contacts will each user store?</span></span> <span data-ttu-id="c92f7-150">Trying to figure this all out when you are standing up your service for the first time is really hard.</span><span class="sxs-lookup"><span data-stu-id="c92f7-150">Trying to figure this all out when you are standing up your service for the first time is really hard.</span></span> <span data-ttu-id="c92f7-151">The consequences of picking the wrong partition count could cause you to have scale issues later.</span><span class="sxs-lookup"><span data-stu-id="c92f7-151">The consequences of picking the wrong partition count could cause you to have scale issues later.</span></span> <span data-ttu-id="c92f7-152">But why try to pick single partition scheme out for all users at all?</span><span class="sxs-lookup"><span data-stu-id="c92f7-152">But why try to pick single partition scheme out for all users at all?</span></span>

<span data-ttu-id="c92f7-153">In these types of situations, consider the following pattern instead:</span><span class="sxs-lookup"><span data-stu-id="c92f7-153">In these types of situations, consider the following pattern instead:</span></span>
1. <span data-ttu-id="c92f7-154">Instead of trying to pick a partitioning scheme for everyone up front, build a "manager service".</span><span class="sxs-lookup"><span data-stu-id="c92f7-154">Instead of trying to pick a partitioning scheme for everyone up front, build a "manager service".</span></span>
2. <span data-ttu-id="c92f7-155">The job of the manager service is to look at customer information when they sign up for your service.</span><span class="sxs-lookup"><span data-stu-id="c92f7-155">The job of the manager service is to look at customer information when they sign up for your service.</span></span> <span data-ttu-id="c92f7-156">Then depending on that information to create an instance of your _actual_ contact-storage service _just for that customer_.</span><span class="sxs-lookup"><span data-stu-id="c92f7-156">Then depending on that information to create an instance of your _actual_ contact-storage service _just for that customer_.</span></span> <span data-ttu-id="c92f7-157">This type of dynamic service creation pattern many benefits:</span><span class="sxs-lookup"><span data-stu-id="c92f7-157">This type of dynamic service creation pattern many benefits:</span></span>

    * <span data-ttu-id="c92f7-158">You're not trying to guess the correct partition count for all users up front</span><span class="sxs-lookup"><span data-stu-id="c92f7-158">You're not trying to guess the correct partition count for all users up front</span></span>
    * <span data-ttu-id="c92f7-159">Data segmentation, since each customer has their own copy of the service</span><span class="sxs-lookup"><span data-stu-id="c92f7-159">Data segmentation, since each customer has their own copy of the service</span></span>
    * <span data-ttu-id="c92f7-160">Each customer service can be configured differently, with more or fewer partitions or replicas as necessary based on their expected scale.</span><span class="sxs-lookup"><span data-stu-id="c92f7-160">Each customer service can be configured differently, with more or fewer partitions or replicas as necessary based on their expected scale.</span></span>
      * <span data-ttu-id="c92f7-161">For example, say the customer paid for the "Gold" tier - they could get more replicas or greater partition count</span><span class="sxs-lookup"><span data-stu-id="c92f7-161">For example, say the customer paid for the "Gold" tier - they could get more replicas or greater partition count</span></span>
      * <span data-ttu-id="c92f7-162">Or say they provided information indicating the number of contacts they needed was "Small" - they would get only a few partitions.</span><span class="sxs-lookup"><span data-stu-id="c92f7-162">Or say they provided information indicating the number of contacts they needed was "Small" - they would get only a few partitions.</span></span>
    * <span data-ttu-id="c92f7-163">You're not running a bunch of service instances or replicas while you're waiting for customers to show up</span><span class="sxs-lookup"><span data-stu-id="c92f7-163">You're not running a bunch of service instances or replicas while you're waiting for customers to show up</span></span>
    * <span data-ttu-id="c92f7-164">If a customer ever leaves, then removing their information from your service is as simple as having the manager delete that service that it created</span><span class="sxs-lookup"><span data-stu-id="c92f7-164">If a customer ever leaves, then removing their information from your service is as simple as having the manager delete that service that it created</span></span>

## <a name="next-steps"></a><span data-ttu-id="c92f7-165">Next steps</span><span class="sxs-lookup"><span data-stu-id="c92f7-165">Next steps</span></span>
<span data-ttu-id="c92f7-166">For more information on Service Fabric concepts, see the following articles:</span><span class="sxs-lookup"><span data-stu-id="c92f7-166">For more information on Service Fabric concepts, see the following articles:</span></span>

* [<span data-ttu-id="c92f7-167">Availability of Service Fabric services</span><span class="sxs-lookup"><span data-stu-id="c92f7-167">Availability of Service Fabric services</span></span>](service-fabric-availability-services.md)
* [<span data-ttu-id="c92f7-168">Partitioning Service Fabric services</span><span class="sxs-lookup"><span data-stu-id="c92f7-168">Partitioning Service Fabric services</span></span>](service-fabric-concepts-partitioning.md)
* [<span data-ttu-id="c92f7-169">Defining and managing state</span><span class="sxs-lookup"><span data-stu-id="c92f7-169">Defining and managing state</span></span>](service-fabric-concepts-state.md)


