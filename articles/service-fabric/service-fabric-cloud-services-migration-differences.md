---
title: Differences between Cloud Services and Service Fabric | Microsoft Docs
description: A conceptual overview for migrating applications from Cloud Services to Service Fabric.
services: service-fabric
documentationcenter: .net
author: vturecek
manager: timlt
editor: ''
ms.assetid: 0b87b1d3-88ad-4658-a465-9f05a3376dee
ms.service: service-fabric
ms.devlang: dotNet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 02/10/2017
ms.author: vturecek
ms.openlocfilehash: 3d70af6b5d8013d1e054b53649ef68810ad08811
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44555355"
---
# <a name="learn-about-the-differences-between-cloud-services-and-service-fabric-before-migrating-applications"></a><span data-ttu-id="ab5f5-103">Learn about the differences between Cloud Services and Service Fabric before migrating applications.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-103">Learn about the differences between Cloud Services and Service Fabric before migrating applications.</span></span>
<span data-ttu-id="ab5f5-104">Microsoft Azure Service Fabric is the next-generation cloud application platform for highly scalable, highly reliable distributed applications.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-104">Microsoft Azure Service Fabric is the next-generation cloud application platform for highly scalable, highly reliable distributed applications.</span></span> <span data-ttu-id="ab5f5-105">It introduces many new features for packaging, deploying, upgrading, and managing distributed cloud applications.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-105">It introduces many new features for packaging, deploying, upgrading, and managing distributed cloud applications.</span></span> 

<span data-ttu-id="ab5f5-106">This is an introductory guide to migrating applications from Cloud Services to Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-106">This is an introductory guide to migrating applications from Cloud Services to Service Fabric.</span></span> <span data-ttu-id="ab5f5-107">It focuses primarily on architectural and design differences between Cloud Services and Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-107">It focuses primarily on architectural and design differences between Cloud Services and Service Fabric.</span></span>

## <a name="applications-and-infrastructure"></a><span data-ttu-id="ab5f5-108">Applications and infrastructure</span><span class="sxs-lookup"><span data-stu-id="ab5f5-108">Applications and infrastructure</span></span>
<span data-ttu-id="ab5f5-109">A fundamental difference between Cloud Services and Service Fabric is the relationship between VMs, workloads, and applications.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-109">A fundamental difference between Cloud Services and Service Fabric is the relationship between VMs, workloads, and applications.</span></span> <span data-ttu-id="ab5f5-110">A workload here is defined as the code you write to perform a specific task or provide a service.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-110">A workload here is defined as the code you write to perform a specific task or provide a service.</span></span>

* <span data-ttu-id="ab5f5-111">**Cloud Services is about deploying applications as VMs.**</span><span class="sxs-lookup"><span data-stu-id="ab5f5-111">**Cloud Services is about deploying applications as VMs.**</span></span> <span data-ttu-id="ab5f5-112">The code you write is tightly coupled to a VM instance, such as a Web or Worker Role.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-112">The code you write is tightly coupled to a VM instance, such as a Web or Worker Role.</span></span> <span data-ttu-id="ab5f5-113">To deploy a workload in Cloud Services is to deploy one or more VM instances that run the workload.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-113">To deploy a workload in Cloud Services is to deploy one or more VM instances that run the workload.</span></span> <span data-ttu-id="ab5f5-114">There is no separation of applications and VMs, and so there is no formal definition of an application.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-114">There is no separation of applications and VMs, and so there is no formal definition of an application.</span></span> <span data-ttu-id="ab5f5-115">An application can be thought of as a set of Web or Worker Role instances within a Cloud Services deployment or as an entire Cloud Services deployment.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-115">An application can be thought of as a set of Web or Worker Role instances within a Cloud Services deployment or as an entire Cloud Services deployment.</span></span> <span data-ttu-id="ab5f5-116">In this example, an application is shown as a set of role instances.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-116">In this example, an application is shown as a set of role instances.</span></span>

![Cloud Services applications and topology][1]

* <span data-ttu-id="ab5f5-118">**Service Fabric is about deploying applications to existing VMs or machines running Service Fabric on Windows or Linux.**</span><span class="sxs-lookup"><span data-stu-id="ab5f5-118">**Service Fabric is about deploying applications to existing VMs or machines running Service Fabric on Windows or Linux.**</span></span> <span data-ttu-id="ab5f5-119">The services you write are completely decoupled from the underlying infrastructure, which is abstracted away by the Service Fabric application platform, so an application can be deployed to multiple environments.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-119">The services you write are completely decoupled from the underlying infrastructure, which is abstracted away by the Service Fabric application platform, so an application can be deployed to multiple environments.</span></span> <span data-ttu-id="ab5f5-120">A workload in Service Fabric is called a "service," and one or more services are grouped in a formally-defined application that runs on the Service Fabric application platform.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-120">A workload in Service Fabric is called a "service," and one or more services are grouped in a formally-defined application that runs on the Service Fabric application platform.</span></span> <span data-ttu-id="ab5f5-121">Multiple applications can be deployed to a single Service Fabric cluster.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-121">Multiple applications can be deployed to a single Service Fabric cluster.</span></span>

![Service Fabric applications and topology][2]

<span data-ttu-id="ab5f5-123">Service Fabric itself is an application platform layer that runs on Windows or Linux, whereas Cloud Services is a system for deploying Azure-managed VMs with workloads attached.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-123">Service Fabric itself is an application platform layer that runs on Windows or Linux, whereas Cloud Services is a system for deploying Azure-managed VMs with workloads attached.</span></span>
<span data-ttu-id="ab5f5-124">The Service Fabric application model has a number of advantages:</span><span class="sxs-lookup"><span data-stu-id="ab5f5-124">The Service Fabric application model has a number of advantages:</span></span>

* <span data-ttu-id="ab5f5-125">Fast deployment times.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-125">Fast deployment times.</span></span> <span data-ttu-id="ab5f5-126">Creating VM instances can be time consuming.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-126">Creating VM instances can be time consuming.</span></span> <span data-ttu-id="ab5f5-127">In Service Fabric, VMs are only deployed once to form a cluster that hosts the Service Fabric application platform.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-127">In Service Fabric, VMs are only deployed once to form a cluster that hosts the Service Fabric application platform.</span></span> <span data-ttu-id="ab5f5-128">From that point on, application packages can be deployed to the cluster very quickly.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-128">From that point on, application packages can be deployed to the cluster very quickly.</span></span>
* <span data-ttu-id="ab5f5-129">High-density hosting.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-129">High-density hosting.</span></span> <span data-ttu-id="ab5f5-130">In Cloud Services, a Worker Role VM hosts one workload.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-130">In Cloud Services, a Worker Role VM hosts one workload.</span></span> <span data-ttu-id="ab5f5-131">In Service Fabric, applications are separate from the VMs that run them, meaning you can deploy a large number of applications to a small number of VMs, which can lower overall cost for larger deployments.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-131">In Service Fabric, applications are separate from the VMs that run them, meaning you can deploy a large number of applications to a small number of VMs, which can lower overall cost for larger deployments.</span></span>
* <span data-ttu-id="ab5f5-132">The Service Fabric platform can run anywhere that has Windows Server or Linux machines, whether it's Azure or on-premises.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-132">The Service Fabric platform can run anywhere that has Windows Server or Linux machines, whether it's Azure or on-premises.</span></span> <span data-ttu-id="ab5f5-133">The platform provides an abstraction layer over the underlying infrastructure so your application can run on different environments.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-133">The platform provides an abstraction layer over the underlying infrastructure so your application can run on different environments.</span></span> 
* <span data-ttu-id="ab5f5-134">Distributed application management.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-134">Distributed application management.</span></span> <span data-ttu-id="ab5f5-135">Service Fabric is a platform that not only hosts distributed applications, but also helps manage their lifecycle independently of the hosting VM or machine lifecycle.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-135">Service Fabric is a platform that not only hosts distributed applications, but also helps manage their lifecycle independently of the hosting VM or machine lifecycle.</span></span>

## <a name="application-architecture"></a><span data-ttu-id="ab5f5-136">Application architecture</span><span class="sxs-lookup"><span data-stu-id="ab5f5-136">Application architecture</span></span>
<span data-ttu-id="ab5f5-137">The architecture of a Cloud Services application usually includes numerous external service dependencies, such as Service Bus, Azure Table and Blob Storage, SQL, Redis, and others to manage the state and data of an application and communication between Web and Worker Roles in a Cloud Services deployment.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-137">The architecture of a Cloud Services application usually includes numerous external service dependencies, such as Service Bus, Azure Table and Blob Storage, SQL, Redis, and others to manage the state and data of an application and communication between Web and Worker Roles in a Cloud Services deployment.</span></span> <span data-ttu-id="ab5f5-138">An example of a complete Cloud Services application might look like this:</span><span class="sxs-lookup"><span data-stu-id="ab5f5-138">An example of a complete Cloud Services application might look like this:</span></span>  

![Cloud Services architecture][9]

<span data-ttu-id="ab5f5-140">Service Fabric applications can also choose to use the same external services in a complete application.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-140">Service Fabric applications can also choose to use the same external services in a complete application.</span></span> <span data-ttu-id="ab5f5-141">Using this example Cloud Services architecture, the simplest migration path from Cloud Services to Service Fabric is to replace only the Cloud Services deployment with a Service Fabric application, keeping the overall architecture the same.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-141">Using this example Cloud Services architecture, the simplest migration path from Cloud Services to Service Fabric is to replace only the Cloud Services deployment with a Service Fabric application, keeping the overall architecture the same.</span></span> <span data-ttu-id="ab5f5-142">The Web and Worker Roles can be ported to Service Fabric stateless services with minimal code changes.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-142">The Web and Worker Roles can be ported to Service Fabric stateless services with minimal code changes.</span></span>

![Service Fabric architecture after simple migration][10]

<span data-ttu-id="ab5f5-144">At this stage, the system should continue to work the same as before.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-144">At this stage, the system should continue to work the same as before.</span></span> <span data-ttu-id="ab5f5-145">Taking advantage of Service Fabric's stateful features, external state stores can be internalized as stateful services where applicable.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-145">Taking advantage of Service Fabric's stateful features, external state stores can be internalized as stateful services where applicable.</span></span> <span data-ttu-id="ab5f5-146">This is more involved than a simple migration of Web and Worker Roles to Service Fabric stateless services, as it requires writing custom services that provide equivalent functionality to your application as the external services did before.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-146">This is more involved than a simple migration of Web and Worker Roles to Service Fabric stateless services, as it requires writing custom services that provide equivalent functionality to your application as the external services did before.</span></span> <span data-ttu-id="ab5f5-147">The benefits of doing so include:</span><span class="sxs-lookup"><span data-stu-id="ab5f5-147">The benefits of doing so include:</span></span> 

* <span data-ttu-id="ab5f5-148">Removing external dependencies</span><span class="sxs-lookup"><span data-stu-id="ab5f5-148">Removing external dependencies</span></span> 
* <span data-ttu-id="ab5f5-149">Unifying the deployment, management, and upgrade models.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-149">Unifying the deployment, management, and upgrade models.</span></span> 

<span data-ttu-id="ab5f5-150">An example resulting architecture of internalizing these services could look like this:</span><span class="sxs-lookup"><span data-stu-id="ab5f5-150">An example resulting architecture of internalizing these services could look like this:</span></span>

![Service Fabric architecture after full migration][11]

## <a name="communication-and-workflow"></a><span data-ttu-id="ab5f5-152">Communication and workflow</span><span class="sxs-lookup"><span data-stu-id="ab5f5-152">Communication and workflow</span></span>
<span data-ttu-id="ab5f5-153">Most Cloud Service applications consist of more than one tier.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-153">Most Cloud Service applications consist of more than one tier.</span></span> <span data-ttu-id="ab5f5-154">Similarly, a Service Fabric application consists of more than one service (typically many services).</span><span class="sxs-lookup"><span data-stu-id="ab5f5-154">Similarly, a Service Fabric application consists of more than one service (typically many services).</span></span> <span data-ttu-id="ab5f5-155">Two common communication models are direct communication and via an external durable storage.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-155">Two common communication models are direct communication and via an external durable storage.</span></span>

### <a name="direct-communication"></a><span data-ttu-id="ab5f5-156">Direct communication</span><span class="sxs-lookup"><span data-stu-id="ab5f5-156">Direct communication</span></span>
<span data-ttu-id="ab5f5-157">With direct communication, tiers can communicate directly through endpoint exposed by each tier.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-157">With direct communication, tiers can communicate directly through endpoint exposed by each tier.</span></span> <span data-ttu-id="ab5f5-158">In stateless environments such as Cloud Services, this means selecting an instance of a VM role, either randomly or round-robin to balance load, and connecting to its endpoint directly.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-158">In stateless environments such as Cloud Services, this means selecting an instance of a VM role, either randomly or round-robin to balance load, and connecting to its endpoint directly.</span></span>

![Cloud Services direct communication][5]

 <span data-ttu-id="ab5f5-160">Direct communication is a common communication model in Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-160">Direct communication is a common communication model in Service Fabric.</span></span> <span data-ttu-id="ab5f5-161">The key difference between Service Fabric and Cloud Services is that in Cloud Services you connect to a VM, whereas in Service Fabric you connect to a service.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-161">The key difference between Service Fabric and Cloud Services is that in Cloud Services you connect to a VM, whereas in Service Fabric you connect to a service.</span></span> <span data-ttu-id="ab5f5-162">This is an important distinction for a couple reasons:</span><span class="sxs-lookup"><span data-stu-id="ab5f5-162">This is an important distinction for a couple reasons:</span></span>

* <span data-ttu-id="ab5f5-163">Services in Service Fabric are not bound to the VMs that host them; services may move around in the cluster, and in fact, are expected to move around for various reasons: Resource balancing, failover, application and infrastructure upgrades, and placement or load constraints.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-163">Services in Service Fabric are not bound to the VMs that host them; services may move around in the cluster, and in fact, are expected to move around for various reasons: Resource balancing, failover, application and infrastructure upgrades, and placement or load constraints.</span></span> <span data-ttu-id="ab5f5-164">This means a service instance's address can change at any time.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-164">This means a service instance's address can change at any time.</span></span> 
* <span data-ttu-id="ab5f5-165">A VM in Service Fabric can host multiple services, each with unique endpoints.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-165">A VM in Service Fabric can host multiple services, each with unique endpoints.</span></span>

<span data-ttu-id="ab5f5-166">Service Fabric provides a service discovery mechanism, called the Naming Service, which can be used to resolve endpoint addresses of services.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-166">Service Fabric provides a service discovery mechanism, called the Naming Service, which can be used to resolve endpoint addresses of services.</span></span> 

![Service Fabric direct communication][6]

### <a name="queues"></a><span data-ttu-id="ab5f5-168">Queues</span><span class="sxs-lookup"><span data-stu-id="ab5f5-168">Queues</span></span>
<span data-ttu-id="ab5f5-169">A common communication mechanism between tiers in stateless environments such as Cloud Services is to use an external storage queue to durably store work tasks from one tier to another.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-169">A common communication mechanism between tiers in stateless environments such as Cloud Services is to use an external storage queue to durably store work tasks from one tier to another.</span></span> <span data-ttu-id="ab5f5-170">A common scenario is a web tier that sends jobs to an Azure Queue or Service Bus where Worker Role instances can dequeue and process the jobs.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-170">A common scenario is a web tier that sends jobs to an Azure Queue or Service Bus where Worker Role instances can dequeue and process the jobs.</span></span>

![Cloud Services queue communication][7]

<span data-ttu-id="ab5f5-172">The same communication model can be used in Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-172">The same communication model can be used in Service Fabric.</span></span> <span data-ttu-id="ab5f5-173">This can be useful when migrating an existing Cloud Services application to Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-173">This can be useful when migrating an existing Cloud Services application to Service Fabric.</span></span> 

![Service Fabric direct communication][8]

## <a name="next-steps"></a><span data-ttu-id="ab5f5-175">Next Steps</span><span class="sxs-lookup"><span data-stu-id="ab5f5-175">Next Steps</span></span>
<span data-ttu-id="ab5f5-176">The simplest migration path from Cloud Services to Service Fabric is to replace only the Cloud Services deployment with a Service Fabric application, keeping the overall architecture of your application roughly the same.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-176">The simplest migration path from Cloud Services to Service Fabric is to replace only the Cloud Services deployment with a Service Fabric application, keeping the overall architecture of your application roughly the same.</span></span> <span data-ttu-id="ab5f5-177">The following article provides a guide to help convert a Web or Worker Role to a Service Fabric stateless service.</span><span class="sxs-lookup"><span data-stu-id="ab5f5-177">The following article provides a guide to help convert a Web or Worker Role to a Service Fabric stateless service.</span></span>

* [<span data-ttu-id="ab5f5-178">Simple migration: convert a Web or Worker Role to a Service Fabric stateless service</span><span class="sxs-lookup"><span data-stu-id="ab5f5-178">Simple migration: convert a Web or Worker Role to a Service Fabric stateless service</span></span>](service-fabric-cloud-services-migration-worker-role-stateless-service.md)

<!--Image references-->
[1]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/service-fabric/media/service-fabric-cloud-services-migration-differences/topology-cloud-services.png
[2]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/service-fabric/media/service-fabric-cloud-services-migration-differences/topology-service-fabric.png
[5]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/service-fabric/media/service-fabric-cloud-services-migration-differences/cloud-service-communication-direct.png
[6]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/service-fabric/media/service-fabric-cloud-services-migration-differences/service-fabric-communication-direct.png
[7]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/service-fabric/media/service-fabric-cloud-services-migration-differences/cloud-service-communication-queues.png
[8]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/service-fabric/media/service-fabric-cloud-services-migration-differences/service-fabric-communication-queues.png
[9]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/service-fabric/media/service-fabric-cloud-services-migration-differences/cloud-services-architecture.png
[10]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/service-fabric/media/service-fabric-cloud-services-migration-differences/service-fabric-architecture-simple.png
[11]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/service-fabric/media/service-fabric-cloud-services-migration-differences/service-fabric-architecture-full.png









