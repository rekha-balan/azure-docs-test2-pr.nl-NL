---
title: Add a Git repository to a lab in Azure DevTest Labs | Microsoft Docs
description: Learn how to add a GitHub or Azure DevOps Services Git repository for your custom artifacts source in Azure DevTest Labs.
services: devtest-lab,virtual-machines,visual-studio-online
documentationcenter: na
author: spelluru
manager: ''
editor: ''
ms.assetid: 01b459f7-eaf2-45a8-b4b5-2c0a821b33c8
ms.service: devtest-lab
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/17/2018
ms.author: spelluru
ms.openlocfilehash: e6c6f36d877f220bcc8d83b75750f54f85dcc198
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44856476"
---
# <a name="add-a-git-repository-to-store-custom-artifacts-and-resource-manager-templates"></a><span data-ttu-id="9ae70-103">Add a Git repository to store custom artifacts and Resource Manager templates</span><span class="sxs-lookup"><span data-stu-id="9ae70-103">Add a Git repository to store custom artifacts and Resource Manager templates</span></span>

<span data-ttu-id="9ae70-104">You can [create custom artifacts](devtest-lab-artifact-author.md) for the VMs in your lab, or [use Azure Resource Manager templates to create a custom test environment](devtest-lab-create-environment-from-arm.md).</span><span class="sxs-lookup"><span data-stu-id="9ae70-104">You can [create custom artifacts](devtest-lab-artifact-author.md) for the VMs in your lab, or [use Azure Resource Manager templates to create a custom test environment](devtest-lab-create-environment-from-arm.md).</span></span> <span data-ttu-id="9ae70-105">You must add a private Git repository for the artifacts or Resource Manager templates that your team creates.</span><span class="sxs-lookup"><span data-stu-id="9ae70-105">You must add a private Git repository for the artifacts or Resource Manager templates that your team creates.</span></span> <span data-ttu-id="9ae70-106">The repository can be hosted on [GitHub](https://github.com) or on [Azure DevOps Services](https://visualstudio.com).</span><span class="sxs-lookup"><span data-stu-id="9ae70-106">The repository can be hosted on [GitHub](https://github.com) or on [Azure DevOps Services](https://visualstudio.com).</span></span>

<span data-ttu-id="9ae70-107">We offer a [GitHub repository of artifacts](https://github.com/Azure/azure-devtestlab/tree/master/Artifacts) that you can deploy as-is, or you can customize them for your labs.</span><span class="sxs-lookup"><span data-stu-id="9ae70-107">We offer a [GitHub repository of artifacts](https://github.com/Azure/azure-devtestlab/tree/master/Artifacts) that you can deploy as-is, or you can customize them for your labs.</span></span> <span data-ttu-id="9ae70-108">When you customize or create an artifact, you can't store the artifact in the public repository.</span><span class="sxs-lookup"><span data-stu-id="9ae70-108">When you customize or create an artifact, you can't store the artifact in the public repository.</span></span> <span data-ttu-id="9ae70-109">You must create your own private repo for custom artifacts and for artifacts that you create.</span><span class="sxs-lookup"><span data-stu-id="9ae70-109">You must create your own private repo for custom artifacts and for artifacts that you create.</span></span> 

<span data-ttu-id="9ae70-110">When you create a VM, you can save the Resource Manager template, customize it if you want, and then use it later to create more VMs.</span><span class="sxs-lookup"><span data-stu-id="9ae70-110">When you create a VM, you can save the Resource Manager template, customize it if you want, and then use it later to create more VMs.</span></span> <span data-ttu-id="9ae70-111">You must create your own private repository to store your custom Resource Manager templates.</span><span class="sxs-lookup"><span data-stu-id="9ae70-111">You must create your own private repository to store your custom Resource Manager templates.</span></span>  

* <span data-ttu-id="9ae70-112">To learn how to create a GitHub repository, see [GitHub Bootcamp](https://help.github.com/categories/bootcamp/).</span><span class="sxs-lookup"><span data-stu-id="9ae70-112">To learn how to create a GitHub repository, see [GitHub Bootcamp](https://help.github.com/categories/bootcamp/).</span></span>
* <span data-ttu-id="9ae70-113">To learn how to create a Azure DevOps Services project that has a Git repository, see [Connect to Azure DevOps Services](https://www.visualstudio.com/get-started/setup/connect-to-visual-studio-online).</span><span class="sxs-lookup"><span data-stu-id="9ae70-113">To learn how to create a Azure DevOps Services project that has a Git repository, see [Connect to Azure DevOps Services](https://www.visualstudio.com/get-started/setup/connect-to-visual-studio-online).</span></span>

<span data-ttu-id="9ae70-114">The following figure is an example of how a repository that has artifacts might look in GitHub:</span><span class="sxs-lookup"><span data-stu-id="9ae70-114">The following figure is an example of how a repository that has artifacts might look in GitHub:</span></span>  

![Sample GitHub artifacts repo](./media/devtest-lab-add-repo/devtestlab-github-artifact-repo-home.png)

## <a name="get-the-repository-information-and-credentials"></a><span data-ttu-id="9ae70-116">Get the repository information and credentials</span><span class="sxs-lookup"><span data-stu-id="9ae70-116">Get the repository information and credentials</span></span>
<span data-ttu-id="9ae70-117">To add a repository to your lab, first, get key information from your repository.</span><span class="sxs-lookup"><span data-stu-id="9ae70-117">To add a repository to your lab, first, get key information from your repository.</span></span> <span data-ttu-id="9ae70-118">The following sections describe how to get required information for repositories that are hosted on GitHub or Azure DevOps Services.</span><span class="sxs-lookup"><span data-stu-id="9ae70-118">The following sections describe how to get required information for repositories that are hosted on GitHub or Azure DevOps Services.</span></span>

### <a name="get-the-github-repository-clone-url-and-personal-access-token"></a><span data-ttu-id="9ae70-119">Get the GitHub repository clone URL and personal access token</span><span class="sxs-lookup"><span data-stu-id="9ae70-119">Get the GitHub repository clone URL and personal access token</span></span>

1. <span data-ttu-id="9ae70-120">Go to the home page of the GitHub repository that contains the artifact or Resource Manager template definitions.</span><span class="sxs-lookup"><span data-stu-id="9ae70-120">Go to the home page of the GitHub repository that contains the artifact or Resource Manager template definitions.</span></span>
2. <span data-ttu-id="9ae70-121">Select **Clone or download**.</span><span class="sxs-lookup"><span data-stu-id="9ae70-121">Select **Clone or download**.</span></span>
3. <span data-ttu-id="9ae70-122">To copy the URL to the clipboard, select the **HTTPS clone url** button.</span><span class="sxs-lookup"><span data-stu-id="9ae70-122">To copy the URL to the clipboard, select the **HTTPS clone url** button.</span></span> <span data-ttu-id="9ae70-123">Save the URL for later use.</span><span class="sxs-lookup"><span data-stu-id="9ae70-123">Save the URL for later use.</span></span>
4. <span data-ttu-id="9ae70-124">In the upper-right corner of GitHub, select the profile image, and then select **Settings**.</span><span class="sxs-lookup"><span data-stu-id="9ae70-124">In the upper-right corner of GitHub, select the profile image, and then select **Settings**.</span></span>
5. <span data-ttu-id="9ae70-125">In the **Personal settings** menu on the left, select **Personal access tokens**.</span><span class="sxs-lookup"><span data-stu-id="9ae70-125">In the **Personal settings** menu on the left, select **Personal access tokens**.</span></span>
6. <span data-ttu-id="9ae70-126">Select **Generate new token**.</span><span class="sxs-lookup"><span data-stu-id="9ae70-126">Select **Generate new token**.</span></span>
7. <span data-ttu-id="9ae70-127">On the **New personal access token** page, under **Token description**, enter a description.</span><span class="sxs-lookup"><span data-stu-id="9ae70-127">On the **New personal access token** page, under **Token description**, enter a description.</span></span> <span data-ttu-id="9ae70-128">Accept the default items under **Select scopes**, and then select **Generate Token**.</span><span class="sxs-lookup"><span data-stu-id="9ae70-128">Accept the default items under **Select scopes**, and then select **Generate Token**.</span></span>
8. <span data-ttu-id="9ae70-129">Save the generated token.</span><span class="sxs-lookup"><span data-stu-id="9ae70-129">Save the generated token.</span></span> <span data-ttu-id="9ae70-130">You use the token later.</span><span class="sxs-lookup"><span data-stu-id="9ae70-130">You use the token later.</span></span>
9. <span data-ttu-id="9ae70-131">Close GitHub.</span><span class="sxs-lookup"><span data-stu-id="9ae70-131">Close GitHub.</span></span>   
10. <span data-ttu-id="9ae70-132">Continue to the [Connect your lab to the repository](#connect-your-lab-to-the-repository) section.</span><span class="sxs-lookup"><span data-stu-id="9ae70-132">Continue to the [Connect your lab to the repository](#connect-your-lab-to-the-repository) section.</span></span>

### <a name="get-the-azure-repos-clone-url-and-personal-access-token"></a><span data-ttu-id="9ae70-133">Get the Azure Repos clone URL and personal access token</span><span class="sxs-lookup"><span data-stu-id="9ae70-133">Get the Azure Repos clone URL and personal access token</span></span>

1. <span data-ttu-id="9ae70-134">Go to the home page of your team collection (for example, https://contoso-web-team.visualstudio.com), and then select your project.</span><span class="sxs-lookup"><span data-stu-id="9ae70-134">Go to the home page of your team collection (for example, https://contoso-web-team.visualstudio.com), and then select your project.</span></span>
2. <span data-ttu-id="9ae70-135">On the project home page, select **Code**.</span><span class="sxs-lookup"><span data-stu-id="9ae70-135">On the project home page, select **Code**.</span></span>
3. <span data-ttu-id="9ae70-136">To view the clone URL, on the project **Code** page, select **Clone**.</span><span class="sxs-lookup"><span data-stu-id="9ae70-136">To view the clone URL, on the project **Code** page, select **Clone**.</span></span>
4. <span data-ttu-id="9ae70-137">Save the URL.</span><span class="sxs-lookup"><span data-stu-id="9ae70-137">Save the URL.</span></span> <span data-ttu-id="9ae70-138">You use the URL later.</span><span class="sxs-lookup"><span data-stu-id="9ae70-138">You use the URL later.</span></span>
5. <span data-ttu-id="9ae70-139">To create a personal access token, in the user account drop-down menu, select **My profile**.</span><span class="sxs-lookup"><span data-stu-id="9ae70-139">To create a personal access token, in the user account drop-down menu, select **My profile**.</span></span>
6. <span data-ttu-id="9ae70-140">On the profile information page, select **Security**.</span><span class="sxs-lookup"><span data-stu-id="9ae70-140">On the profile information page, select **Security**.</span></span>
7. <span data-ttu-id="9ae70-141">On the **Security** tab, select **Add**.</span><span class="sxs-lookup"><span data-stu-id="9ae70-141">On the **Security** tab, select **Add**.</span></span>
8. <span data-ttu-id="9ae70-142">On the **Create a personal access token** page:</span><span class="sxs-lookup"><span data-stu-id="9ae70-142">On the **Create a personal access token** page:</span></span>
   1. <span data-ttu-id="9ae70-143">Enter a **Description** for the token.</span><span class="sxs-lookup"><span data-stu-id="9ae70-143">Enter a **Description** for the token.</span></span>
   2. <span data-ttu-id="9ae70-144">In the **Expires In** list, select **180 days**.</span><span class="sxs-lookup"><span data-stu-id="9ae70-144">In the **Expires In** list, select **180 days**.</span></span>
   3. <span data-ttu-id="9ae70-145">In the **Accounts** list, select **All accessible accounts**.</span><span class="sxs-lookup"><span data-stu-id="9ae70-145">In the **Accounts** list, select **All accessible accounts**.</span></span>
   4. <span data-ttu-id="9ae70-146">Select the **All scopes** option.</span><span class="sxs-lookup"><span data-stu-id="9ae70-146">Select the **All scopes** option.</span></span>
   5. <span data-ttu-id="9ae70-147">Select **Create Token**.</span><span class="sxs-lookup"><span data-stu-id="9ae70-147">Select **Create Token**.</span></span>
9. <span data-ttu-id="9ae70-148">The new token appears in the **Personal Access Tokens** list.</span><span class="sxs-lookup"><span data-stu-id="9ae70-148">The new token appears in the **Personal Access Tokens** list.</span></span> <span data-ttu-id="9ae70-149">Select **Copy Token**, and then save the token value for later use.</span><span class="sxs-lookup"><span data-stu-id="9ae70-149">Select **Copy Token**, and then save the token value for later use.</span></span>
10. <span data-ttu-id="9ae70-150">Continue to the [Connect your lab to the repository](#connect-your-lab-to-the-repository) section.</span><span class="sxs-lookup"><span data-stu-id="9ae70-150">Continue to the [Connect your lab to the repository](#connect-your-lab-to-the-repository) section.</span></span>

## <a name="connect-your-lab-to-the-repository"></a><span data-ttu-id="9ae70-151">Connect your lab to the repository</span><span class="sxs-lookup"><span data-stu-id="9ae70-151">Connect your lab to the repository</span></span>
1. <span data-ttu-id="9ae70-152">Sign in to the [Azure portal](http://go.microsoft.com/fwlink/p/?LinkID=525040).</span><span class="sxs-lookup"><span data-stu-id="9ae70-152">Sign in to the [Azure portal](http://go.microsoft.com/fwlink/p/?LinkID=525040).</span></span>
2. <span data-ttu-id="9ae70-153">Select **More Services**, and then select **DevTest Labs** from the list of services.</span><span class="sxs-lookup"><span data-stu-id="9ae70-153">Select **More Services**, and then select **DevTest Labs** from the list of services.</span></span>
3. <span data-ttu-id="9ae70-154">From the list of labs, select your lab.</span><span class="sxs-lookup"><span data-stu-id="9ae70-154">From the list of labs, select your lab.</span></span> 
4. <span data-ttu-id="9ae70-155">Select **Configuration and policies** > **Repositories** > **+ Add**.</span><span class="sxs-lookup"><span data-stu-id="9ae70-155">Select **Configuration and policies** > **Repositories** > **+ Add**.</span></span>

    ![The Add repository button](./media/devtest-lab-add-repo/devtestlab-add-repo.png)
5. <span data-ttu-id="9ae70-157">On the second **Repositories** page, specify the following information:</span><span class="sxs-lookup"><span data-stu-id="9ae70-157">On the second **Repositories** page, specify the following information:</span></span>
  1. <span data-ttu-id="9ae70-158">**Name**.</span><span class="sxs-lookup"><span data-stu-id="9ae70-158">**Name**.</span></span> <span data-ttu-id="9ae70-159">Enter a name for the repository.</span><span class="sxs-lookup"><span data-stu-id="9ae70-159">Enter a name for the repository.</span></span>
  2. <span data-ttu-id="9ae70-160">**Git Clone Url**.</span><span class="sxs-lookup"><span data-stu-id="9ae70-160">**Git Clone Url**.</span></span> <span data-ttu-id="9ae70-161">Enter the Git HTTPS clone URL that you copied earlier from either GitHub or Azure DevOps Services.</span><span class="sxs-lookup"><span data-stu-id="9ae70-161">Enter the Git HTTPS clone URL that you copied earlier from either GitHub or Azure DevOps Services.</span></span>
  3. <span data-ttu-id="9ae70-162">**Branch**.</span><span class="sxs-lookup"><span data-stu-id="9ae70-162">**Branch**.</span></span> <span data-ttu-id="9ae70-163">To get your definitions, enter the branch.</span><span class="sxs-lookup"><span data-stu-id="9ae70-163">To get your definitions, enter the branch.</span></span>
  4. <span data-ttu-id="9ae70-164">**Personal Access Token**.</span><span class="sxs-lookup"><span data-stu-id="9ae70-164">**Personal Access Token**.</span></span> <span data-ttu-id="9ae70-165">Enter the personal access token that you got earlier from either GitHub or Azure DevOps Services.</span><span class="sxs-lookup"><span data-stu-id="9ae70-165">Enter the personal access token that you got earlier from either GitHub or Azure DevOps Services.</span></span>
  5. <span data-ttu-id="9ae70-166">**Folder Paths**.</span><span class="sxs-lookup"><span data-stu-id="9ae70-166">**Folder Paths**.</span></span> <span data-ttu-id="9ae70-167">Enter at least one folder path relative to the clone URL that contains your artifact or Resource Manager template definitions.</span><span class="sxs-lookup"><span data-stu-id="9ae70-167">Enter at least one folder path relative to the clone URL that contains your artifact or Resource Manager template definitions.</span></span> <span data-ttu-id="9ae70-168">When you specify a subdirectory, make sure you include the forward slash in the folder path.</span><span class="sxs-lookup"><span data-stu-id="9ae70-168">When you specify a subdirectory, make sure you include the forward slash in the folder path.</span></span>

     ![Repositories area](./media/devtest-lab-add-repo/devtestlab-repo-blade.png)
6. <span data-ttu-id="9ae70-170">Select **Save**.</span><span class="sxs-lookup"><span data-stu-id="9ae70-170">Select **Save**.</span></span>

### <a name="related-blog-posts"></a><span data-ttu-id="9ae70-171">Related blog posts</span><span class="sxs-lookup"><span data-stu-id="9ae70-171">Related blog posts</span></span>
* [<span data-ttu-id="9ae70-172">Troubleshoot failing artifacts in DevTest Labs</span><span class="sxs-lookup"><span data-stu-id="9ae70-172">Troubleshoot failing artifacts in DevTest Labs</span></span>](devtest-lab-troubleshoot-artifact-failure.md)
* [<span data-ttu-id="9ae70-173">Join a VM to an existing Active Directory domain by using a Resource Manager template in DevTest Labs</span><span class="sxs-lookup"><span data-stu-id="9ae70-173">Join a VM to an existing Active Directory domain by using a Resource Manager template in DevTest Labs</span></span>](http://www.visualstudiogeeks.com/blog/DevOps/Join-a-VM-to-existing-AD-domain-using-ARM-template-AzureDevTestLabs)

[!INCLUDE [devtest-lab-try-it-out](../../includes/devtest-lab-try-it-out.md)]

## <a name="next-steps"></a><span data-ttu-id="9ae70-174">Next steps</span><span class="sxs-lookup"><span data-stu-id="9ae70-174">Next steps</span></span>
<span data-ttu-id="9ae70-175">After you have created your private Git repository, you can do one or both of the following, depending on your needs:</span><span class="sxs-lookup"><span data-stu-id="9ae70-175">After you have created your private Git repository, you can do one or both of the following, depending on your needs:</span></span>
* <span data-ttu-id="9ae70-176">Store your [custom artifacts](devtest-lab-artifact-author.md).</span><span class="sxs-lookup"><span data-stu-id="9ae70-176">Store your [custom artifacts](devtest-lab-artifact-author.md).</span></span> <span data-ttu-id="9ae70-177">You can use them later to create new VMs.</span><span class="sxs-lookup"><span data-stu-id="9ae70-177">You can use them later to create new VMs.</span></span>
* <span data-ttu-id="9ae70-178">[Create multi-VM environments and PaaS resources by using Resource Manager templates](devtest-lab-create-environment-from-arm.md).</span><span class="sxs-lookup"><span data-stu-id="9ae70-178">[Create multi-VM environments and PaaS resources by using Resource Manager templates](devtest-lab-create-environment-from-arm.md).</span></span> <span data-ttu-id="9ae70-179">Then, you can store the templates in your private repo.</span><span class="sxs-lookup"><span data-stu-id="9ae70-179">Then, you can store the templates in your private repo.</span></span>

<span data-ttu-id="9ae70-180">When you create a VM, you can verify that the artifacts or templates are added to your Git repository.</span><span class="sxs-lookup"><span data-stu-id="9ae70-180">When you create a VM, you can verify that the artifacts or templates are added to your Git repository.</span></span> <span data-ttu-id="9ae70-181">They are immediately available in the list of artifacts or templates.</span><span class="sxs-lookup"><span data-stu-id="9ae70-181">They are immediately available in the list of artifacts or templates.</span></span> <span data-ttu-id="9ae70-182">The name of your private repo is shown in the column that specifies the source.</span><span class="sxs-lookup"><span data-stu-id="9ae70-182">The name of your private repo is shown in the column that specifies the source.</span></span> 
