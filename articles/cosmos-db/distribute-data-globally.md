---
title: Distribute data globally with Azure Cosmos DB | Microsoft Docs
description: Learn about planet-scale geo-replication, failover, and data recovery using global databases from Azure Cosmos DB, a globally distributed, mutli-model database service.
services: cosmos-db
author: SnehaGunda
manager: kfile
ms.service: cosmos-db
ms.devlang: na
ms.topic: conceptual
ms.date: 03/26/2018
ms.author: sngun
ms.openlocfilehash: 19e47e0dba1a89ea32f42ef0bafc26f8c59b4ad7
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44865874"
---
# <a name="how-to-distribute-data-globally-with-azure-cosmos-db"></a><span data-ttu-id="de85e-103">How to distribute data globally with Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="de85e-103">How to distribute data globally with Azure Cosmos DB</span></span>
<span data-ttu-id="de85e-104">Azure is ubiquitous - it has a global footprint across 50+ geographical regions and is continuously expanding.</span><span class="sxs-lookup"><span data-stu-id="de85e-104">Azure is ubiquitous - it has a global footprint across 50+ geographical regions and is continuously expanding.</span></span> <span data-ttu-id="de85e-105">With its global presence, one of the differentiated capabilities Azure offers to its developers is the ability to build, deploy, and manage globally distributed applications easily.</span><span class="sxs-lookup"><span data-stu-id="de85e-105">With its global presence, one of the differentiated capabilities Azure offers to its developers is the ability to build, deploy, and manage globally distributed applications easily.</span></span> 

<span data-ttu-id="de85e-106">[Azure Cosmos DB](../cosmos-db/introduction.md) is Microsoft's globally distributed, multi-model database service for mission-critical applications.</span><span class="sxs-lookup"><span data-stu-id="de85e-106">[Azure Cosmos DB](../cosmos-db/introduction.md) is Microsoft's globally distributed, multi-model database service for mission-critical applications.</span></span> <span data-ttu-id="de85e-107">Azure Cosmos DB provides turnkey global distribution, [elastic scaling of throughput and storage](../cosmos-db/partition-data.md) worldwide, single-digit millisecond latencies at the 99th percentile, [five well-defined consistency models](consistency-levels.md), and guaranteed high availability, all backed by [industry-leading comprehensive SLAs](https://azure.microsoft.com/support/legal/sla/cosmos-db/).</span><span class="sxs-lookup"><span data-stu-id="de85e-107">Azure Cosmos DB provides turnkey global distribution, [elastic scaling of throughput and storage](../cosmos-db/partition-data.md) worldwide, single-digit millisecond latencies at the 99th percentile, [five well-defined consistency models](consistency-levels.md), and guaranteed high availability, all backed by [industry-leading comprehensive SLAs](https://azure.microsoft.com/support/legal/sla/cosmos-db/).</span></span> <span data-ttu-id="de85e-108">Azure Cosmos DB [automatically indexes all your data](http://www.vldb.org/pvldb/vol8/p1668-shukla.pdf) without requiring you to deal with schema or index management.</span><span class="sxs-lookup"><span data-stu-id="de85e-108">Azure Cosmos DB [automatically indexes all your data](http://www.vldb.org/pvldb/vol8/p1668-shukla.pdf) without requiring you to deal with schema or index management.</span></span> <span data-ttu-id="de85e-109">It is a multi-model service and supports document, key-value, graph, and column-family data models.</span><span class="sxs-lookup"><span data-stu-id="de85e-109">It is a multi-model service and supports document, key-value, graph, and column-family data models.</span></span> <span data-ttu-id="de85e-110">As a natively born in the cloud service, Azure Cosmos DB is carefully engineered with multi-tenancy and global distribution from the ground up.</span><span class="sxs-lookup"><span data-stu-id="de85e-110">As a natively born in the cloud service, Azure Cosmos DB is carefully engineered with multi-tenancy and global distribution from the ground up.</span></span>


![Azure Cosmos DB container partitioned and distributed across three regions](./media/distribute-data-globally/global-apps.png)

<span data-ttu-id="de85e-112">**A single Azure Cosmos DB container partitioned and distributed across multiple Azure regions**</span><span class="sxs-lookup"><span data-stu-id="de85e-112">**A single Azure Cosmos DB container partitioned and distributed across multiple Azure regions**</span></span>

<span data-ttu-id="de85e-113">As we have learned while building Azure Cosmos DB, adding global distribution cannot be an afterthought.</span><span class="sxs-lookup"><span data-stu-id="de85e-113">As we have learned while building Azure Cosmos DB, adding global distribution cannot be an afterthought.</span></span> <span data-ttu-id="de85e-114">It cannot be "bolted-on" atop a "single site" database system.</span><span class="sxs-lookup"><span data-stu-id="de85e-114">It cannot be "bolted-on" atop a "single site" database system.</span></span> <span data-ttu-id="de85e-115">The capabilities offered by a globally distributed database span beyond that of traditional geographical disaster recovery (Geo-DR) offered by "single-site" databases.</span><span class="sxs-lookup"><span data-stu-id="de85e-115">The capabilities offered by a globally distributed database span beyond that of traditional geographical disaster recovery (Geo-DR) offered by "single-site" databases.</span></span> <span data-ttu-id="de85e-116">Single site databases offering Geo-DR capability are a strict subset of globally distributed databases.</span><span class="sxs-lookup"><span data-stu-id="de85e-116">Single site databases offering Geo-DR capability are a strict subset of globally distributed databases.</span></span> 

<span data-ttu-id="de85e-117">With Azure Cosmos DB's turnkey global distribution, developers do not have to build their own replication scaffolding by employing either the Lambda pattern (for example, [AWS DynamoDB replication](https://github.com/awslabs/dynamodb-cross-region-library/blob/master/README.md)) over the database log or by performing "double writes" across multiple regions.</span><span class="sxs-lookup"><span data-stu-id="de85e-117">With Azure Cosmos DB's turnkey global distribution, developers do not have to build their own replication scaffolding by employing either the Lambda pattern (for example, [AWS DynamoDB replication](https://github.com/awslabs/dynamodb-cross-region-library/blob/master/README.md)) over the database log or by performing "double writes" across multiple regions.</span></span> <span data-ttu-id="de85e-118">We do *not* recommend these approaches, since it is impossible to ensure correctness of such approaches and provide sound SLAs.</span><span class="sxs-lookup"><span data-stu-id="de85e-118">We do *not* recommend these approaches, since it is impossible to ensure correctness of such approaches and provide sound SLAs.</span></span> 

<span data-ttu-id="de85e-119">In this article, we provide an overview of Azure Cosmos DB's global distribution capabilities.</span><span class="sxs-lookup"><span data-stu-id="de85e-119">In this article, we provide an overview of Azure Cosmos DB's global distribution capabilities.</span></span> <span data-ttu-id="de85e-120">We also describe Azure Cosmos DB's unique approach to providing comprehensive SLAs.</span><span class="sxs-lookup"><span data-stu-id="de85e-120">We also describe Azure Cosmos DB's unique approach to providing comprehensive SLAs.</span></span> 

## <a id="EnableGlobalDistribution"></a><span data-ttu-id="de85e-121">Enabling turnkey global distribution</span><span class="sxs-lookup"><span data-stu-id="de85e-121">Enabling turnkey global distribution</span></span>
<span data-ttu-id="de85e-122">Azure Cosmos DB provides the following capabilities to enable you to easily write globally distributed applications.</span><span class="sxs-lookup"><span data-stu-id="de85e-122">Azure Cosmos DB provides the following capabilities to enable you to easily write globally distributed applications.</span></span> <span data-ttu-id="de85e-123">These capabilities are available via the Azure Cosmos DB's resource provider-based [REST APIs](https://docs.microsoft.com/rest/api/cosmos-db-resource-provider/) as well as the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="de85e-123">These capabilities are available via the Azure Cosmos DB's resource provider-based [REST APIs](https://docs.microsoft.com/rest/api/cosmos-db-resource-provider/) as well as the Azure portal.</span></span>

### <a id="RegionalPresence"></a><span data-ttu-id="de85e-124">Ubiquitous regional presence</span><span class="sxs-lookup"><span data-stu-id="de85e-124">Ubiquitous regional presence</span></span> 
<span data-ttu-id="de85e-125">Azure is constantly growing its geographical presence by bringing [new regions](https://azure.microsoft.com/regions/) online.</span><span class="sxs-lookup"><span data-stu-id="de85e-125">Azure is constantly growing its geographical presence by bringing [new regions](https://azure.microsoft.com/regions/) online.</span></span> <span data-ttu-id="de85e-126">Azure Cosmos DB is classified as a *foundational service* in Azure and is available in all new Azure regions by default.</span><span class="sxs-lookup"><span data-stu-id="de85e-126">Azure Cosmos DB is classified as a *foundational service* in Azure and is available in all new Azure regions by default.</span></span> <span data-ttu-id="de85e-127">This allows you to associate a geographical region with your Azure Cosmos DB database account as soon as Azure opens the new region for business.</span><span class="sxs-lookup"><span data-stu-id="de85e-127">This allows you to associate a geographical region with your Azure Cosmos DB database account as soon as Azure opens the new region for business.</span></span>

### <a id="UnlimitedRegionsPerAccount"></a><span data-ttu-id="de85e-128">Associating an unlimited number of regions with your Azure Cosmos DB database account</span><span class="sxs-lookup"><span data-stu-id="de85e-128">Associating an unlimited number of regions with your Azure Cosmos DB database account</span></span>
<span data-ttu-id="de85e-129">Azure Cosmos DB allows you to associate any number of Azure regions with your Azure Cosmos DB database account.</span><span class="sxs-lookup"><span data-stu-id="de85e-129">Azure Cosmos DB allows you to associate any number of Azure regions with your Azure Cosmos DB database account.</span></span> <span data-ttu-id="de85e-130">Outside of geo-fencing restrictions (for example, China, Germany), there are no limitations on the number of regions that can be associated with your Azure Cosmos DB database account.</span><span class="sxs-lookup"><span data-stu-id="de85e-130">Outside of geo-fencing restrictions (for example, China, Germany), there are no limitations on the number of regions that can be associated with your Azure Cosmos DB database account.</span></span> <span data-ttu-id="de85e-131">The following figure shows a database account configured to span across 25 Azure regions.</span><span class="sxs-lookup"><span data-stu-id="de85e-131">The following figure shows a database account configured to span across 25 Azure regions.</span></span>  

![Azure Cosmos DB database account spanning 25 Azure regions](./media/distribute-data-globally/spanning-regions.png)

<span data-ttu-id="de85e-133">**A tenant's Azure Cosmos DB database account spanning 25 Azure regions**</span><span class="sxs-lookup"><span data-stu-id="de85e-133">**A tenant's Azure Cosmos DB database account spanning 25 Azure regions**</span></span>


### <a id="PolicyBasedGeoFencing"></a><span data-ttu-id="de85e-134">Policy-based geo-fencing</span><span class="sxs-lookup"><span data-stu-id="de85e-134">Policy-based geo-fencing</span></span>
<span data-ttu-id="de85e-135">Azure Cosmos DB is designed to support policy-based geo-fencing.</span><span class="sxs-lookup"><span data-stu-id="de85e-135">Azure Cosmos DB is designed to support policy-based geo-fencing.</span></span> <span data-ttu-id="de85e-136">Geo-fencing is an important component to ensure data governance and compliance restrictions and may prevent associating a specific region with your account.</span><span class="sxs-lookup"><span data-stu-id="de85e-136">Geo-fencing is an important component to ensure data governance and compliance restrictions and may prevent associating a specific region with your account.</span></span> <span data-ttu-id="de85e-137">Examples of geo-fencing include (but are not limited to) scoping global distribution to the regions within a sovereign cloud (for example, China and Germany) or within a government taxation boundary (for example, Australia).</span><span class="sxs-lookup"><span data-stu-id="de85e-137">Examples of geo-fencing include (but are not limited to) scoping global distribution to the regions within a sovereign cloud (for example, China and Germany) or within a government taxation boundary (for example, Australia).</span></span> <span data-ttu-id="de85e-138">The policies are controlled using the metadata of your Azure subscription.</span><span class="sxs-lookup"><span data-stu-id="de85e-138">The policies are controlled using the metadata of your Azure subscription.</span></span>

### <a id="DynamicallyAddRegions"></a><span data-ttu-id="de85e-139">Dynamically add and remove regions</span><span class="sxs-lookup"><span data-stu-id="de85e-139">Dynamically add and remove regions</span></span>
<span data-ttu-id="de85e-140">Azure Cosmos DB allows you to add (associate) or remove (dissociate) regions from your database account at any point in time (see [preceding figure](#UnlimitedRegionsPerAccount)).</span><span class="sxs-lookup"><span data-stu-id="de85e-140">Azure Cosmos DB allows you to add (associate) or remove (dissociate) regions from your database account at any point in time (see [preceding figure](#UnlimitedRegionsPerAccount)).</span></span> <span data-ttu-id="de85e-141">By virtue of parallel replication of data across partitions, Azure Cosmos DB ensures that when a new region gets added, it is available for operations within 30 minutes anywhere in the world (assuming your data is 100 TBs or less).</span><span class="sxs-lookup"><span data-stu-id="de85e-141">By virtue of parallel replication of data across partitions, Azure Cosmos DB ensures that when a new region gets added, it is available for operations within 30 minutes anywhere in the world (assuming your data is 100 TBs or less).</span></span> 

### <a id="FailoverPriorities"></a><span data-ttu-id="de85e-142">Failover priorities</span><span class="sxs-lookup"><span data-stu-id="de85e-142">Failover priorities</span></span>
<span data-ttu-id="de85e-143">To control exact sequence of regional failovers in cases of an outage, Azure Cosmos DB enables you to associate a *priority* with various regions associated with the database account (see the figure below).</span><span class="sxs-lookup"><span data-stu-id="de85e-143">To control exact sequence of regional failovers in cases of an outage, Azure Cosmos DB enables you to associate a *priority* with various regions associated with the database account (see the figure below).</span></span> <span data-ttu-id="de85e-144">Azure Cosmos DB ensures that the automatic failover sequence occurs in the priority order you specified.</span><span class="sxs-lookup"><span data-stu-id="de85e-144">Azure Cosmos DB ensures that the automatic failover sequence occurs in the priority order you specified.</span></span> <span data-ttu-id="de85e-145">For more information about regional failovers, see [Automatic regional failovers for business continuity in Azure Cosmos DB](regional-failover.md).</span><span class="sxs-lookup"><span data-stu-id="de85e-145">For more information about regional failovers, see [Automatic regional failovers for business continuity in Azure Cosmos DB](regional-failover.md).</span></span>


![Configuring failover priorities with Azure Cosmos DB](./media/distribute-data-globally/failover-priorities.png)

<span data-ttu-id="de85e-147">**A tenant of Azure Cosmos DB can configure the failover priority order (right pane) for regions associated with a database account**</span><span class="sxs-lookup"><span data-stu-id="de85e-147">**A tenant of Azure Cosmos DB can configure the failover priority order (right pane) for regions associated with a database account**</span></span>

### <a id="ConsistencyLevels"></a><span data-ttu-id="de85e-148">Multiple, well-defined consistency models for globally distributed databases</span><span class="sxs-lookup"><span data-stu-id="de85e-148">Multiple, well-defined consistency models for globally distributed databases</span></span>
<span data-ttu-id="de85e-149">Azure Cosmos DB supports [multiple well-defined, intuitive, and practical consistency models](consistency-levels.md) backed by SLAs.</span><span class="sxs-lookup"><span data-stu-id="de85e-149">Azure Cosmos DB supports [multiple well-defined, intuitive, and practical consistency models](consistency-levels.md) backed by SLAs.</span></span> <span data-ttu-id="de85e-150">You can choose a specific consistency model (from the available list of options) depending on the workload/scenarios.</span><span class="sxs-lookup"><span data-stu-id="de85e-150">You can choose a specific consistency model (from the available list of options) depending on the workload/scenarios.</span></span> 

### <a id="TunableConsistency"></a><span data-ttu-id="de85e-151">Tunable consistency for globally replicated databases</span><span class="sxs-lookup"><span data-stu-id="de85e-151">Tunable consistency for globally replicated databases</span></span>
<span data-ttu-id="de85e-152">Azure Cosmos DB allows you to programmatically override and relax the default consistency choice on a per request basis at runtime.</span><span class="sxs-lookup"><span data-stu-id="de85e-152">Azure Cosmos DB allows you to programmatically override and relax the default consistency choice on a per request basis at runtime.</span></span> 

### <a id="DynamicallyConfigurableReadWriteRegions"></a><span data-ttu-id="de85e-153">Dynamically configurable read and write regions</span><span class="sxs-lookup"><span data-stu-id="de85e-153">Dynamically configurable read and write regions</span></span>
<span data-ttu-id="de85e-154">Azure Cosmos DB enables you to configure the regions (associated with the database) for "read", "write" or "read/write" regions.</span><span class="sxs-lookup"><span data-stu-id="de85e-154">Azure Cosmos DB enables you to configure the regions (associated with the database) for "read", "write" or "read/write" regions.</span></span> 

### <a id="ElasticallyScaleThroughput"></a><span data-ttu-id="de85e-155">Elastically scaling throughput across Azure regions</span><span class="sxs-lookup"><span data-stu-id="de85e-155">Elastically scaling throughput across Azure regions</span></span>
<span data-ttu-id="de85e-156">You can elastically scale an Azure Cosmos DB container by provisioning throughput programmatically.</span><span class="sxs-lookup"><span data-stu-id="de85e-156">You can elastically scale an Azure Cosmos DB container by provisioning throughput programmatically.</span></span> <span data-ttu-id="de85e-157">The throughput is applied to all the regions the Azure Cosmos DB container is distributed in.</span><span class="sxs-lookup"><span data-stu-id="de85e-157">The throughput is applied to all the regions the Azure Cosmos DB container is distributed in.</span></span>

### <a id="GeoLocalReadsAndWrites"></a><span data-ttu-id="de85e-158">Geo-local reads and writes</span><span class="sxs-lookup"><span data-stu-id="de85e-158">Geo-local reads and writes</span></span>
<span data-ttu-id="de85e-159">The key benefit of a globally distributed database is that it offers low latency access to data anywhere in the world.</span><span class="sxs-lookup"><span data-stu-id="de85e-159">The key benefit of a globally distributed database is that it offers low latency access to data anywhere in the world.</span></span> <span data-ttu-id="de85e-160">Azure Cosmos DB offers low latency reads and writes at the 99th percentile worldwide.</span><span class="sxs-lookup"><span data-stu-id="de85e-160">Azure Cosmos DB offers low latency reads and writes at the 99th percentile worldwide.</span></span> <span data-ttu-id="de85e-161">It ensures that all reads are served from the closest (local) region.</span><span class="sxs-lookup"><span data-stu-id="de85e-161">It ensures that all reads are served from the closest (local) region.</span></span> <span data-ttu-id="de85e-162">To serve a read request, the quorum local to the region in which the read is issued is used.</span><span class="sxs-lookup"><span data-stu-id="de85e-162">To serve a read request, the quorum local to the region in which the read is issued is used.</span></span> <span data-ttu-id="de85e-163">The same applies to writes.</span><span class="sxs-lookup"><span data-stu-id="de85e-163">The same applies to writes.</span></span> <span data-ttu-id="de85e-164">A write is acknowledged only after a majority of replicas have durably committed the write locally but without being gated on remote replicas to acknowledge the writes.</span><span class="sxs-lookup"><span data-stu-id="de85e-164">A write is acknowledged only after a majority of replicas have durably committed the write locally but without being gated on remote replicas to acknowledge the writes.</span></span> <span data-ttu-id="de85e-165">To put it differently, the replication protocol of Azure Cosmos DB operates under the assumption that the read and write quorums are always local to the region where the request has been issued.</span><span class="sxs-lookup"><span data-stu-id="de85e-165">To put it differently, the replication protocol of Azure Cosmos DB operates under the assumption that the read and write quorums are always local to the region where the request has been issued.</span></span>

### <a id="ManualFailover"></a><span data-ttu-id="de85e-166">Manual failover</span><span class="sxs-lookup"><span data-stu-id="de85e-166">Manual failover</span></span>
<span data-ttu-id="de85e-167">Azure Cosmos DB allows you to trigger the failover of a database account to validate the *end to end* availability properties of the entire application (beyond the database).</span><span class="sxs-lookup"><span data-stu-id="de85e-167">Azure Cosmos DB allows you to trigger the failover of a database account to validate the *end to end* availability properties of the entire application (beyond the database).</span></span> <span data-ttu-id="de85e-168">Since both the safety and the liveness properties of the failure detection and leader election are guaranteed, Azure Cosmos DB guarantees *zero-data-loss* for a tenant-initiated manual failover operation.</span><span class="sxs-lookup"><span data-stu-id="de85e-168">Since both the safety and the liveness properties of the failure detection and leader election are guaranteed, Azure Cosmos DB guarantees *zero-data-loss* for a tenant-initiated manual failover operation.</span></span>

### <a id="AutomaticFailover"></a><span data-ttu-id="de85e-169">Automatic failover</span><span class="sxs-lookup"><span data-stu-id="de85e-169">Automatic failover</span></span>
<span data-ttu-id="de85e-170">Azure Cosmos DB supports automatic failover during one or more regional outages.</span><span class="sxs-lookup"><span data-stu-id="de85e-170">Azure Cosmos DB supports automatic failover during one or more regional outages.</span></span> <span data-ttu-id="de85e-171">During a regional failover, Azure Cosmos DB maintains its read latency, uptime availability, consistency, and throughput SLAs.</span><span class="sxs-lookup"><span data-stu-id="de85e-171">During a regional failover, Azure Cosmos DB maintains its read latency, uptime availability, consistency, and throughput SLAs.</span></span> <span data-ttu-id="de85e-172">Azure Cosmos DB provides an upper bound for the duration of an automatic failover operation to complete.</span><span class="sxs-lookup"><span data-stu-id="de85e-172">Azure Cosmos DB provides an upper bound for the duration of an automatic failover operation to complete.</span></span> <span data-ttu-id="de85e-173">This is the window of potential data loss during a regional outage.</span><span class="sxs-lookup"><span data-stu-id="de85e-173">This is the window of potential data loss during a regional outage.</span></span>

### <a id="GranularFailover"></a><span data-ttu-id="de85e-174">Designed for different failover granularities</span><span class="sxs-lookup"><span data-stu-id="de85e-174">Designed for different failover granularities</span></span>
<span data-ttu-id="de85e-175">Currently the automatic and manual failover capabilities are exposed at the granularity of the database account.</span><span class="sxs-lookup"><span data-stu-id="de85e-175">Currently the automatic and manual failover capabilities are exposed at the granularity of the database account.</span></span> <span data-ttu-id="de85e-176">Note, internally Azure Cosmos DB is designed to offer *automatic* failover at finer granularity of a database, a container, or even a partition (of a container owning a range of keys).</span><span class="sxs-lookup"><span data-stu-id="de85e-176">Note, internally Azure Cosmos DB is designed to offer *automatic* failover at finer granularity of a database, a container, or even a partition (of a container owning a range of keys).</span></span> 

### <a id="MultiHomingAPIs"></a><span data-ttu-id="de85e-177">Multi-homing in Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="de85e-177">Multi-homing in Azure Cosmos DB</span></span>
<span data-ttu-id="de85e-178">Azure Cosmos DB allows you to interact with a database using either *logical* (region-agnostic) or *physical* (region-specific) endpoints.</span><span class="sxs-lookup"><span data-stu-id="de85e-178">Azure Cosmos DB allows you to interact with a database using either *logical* (region-agnostic) or *physical* (region-specific) endpoints.</span></span> <span data-ttu-id="de85e-179">Using logical endpoints ensures that the application can transparently be multi-homed in case of a failover.</span><span class="sxs-lookup"><span data-stu-id="de85e-179">Using logical endpoints ensures that the application can transparently be multi-homed in case of a failover.</span></span> <span data-ttu-id="de85e-180">The latter, a physical endpoint, provides fine-grained control to the application to redirect reads and writes to specific regions.</span><span class="sxs-lookup"><span data-stu-id="de85e-180">The latter, a physical endpoint, provides fine-grained control to the application to redirect reads and writes to specific regions.</span></span>

<span data-ttu-id="de85e-181">You can find information on how to configure read preferences for the [SQL API](../cosmos-db/tutorial-global-distribution-sql-api.md),  [Table API](../cosmos-db/tutorial-global-distribution-table.md), and [MongoDB API](../cosmos-db/tutorial-global-distribution-mongodb.md) in these articles.</span><span class="sxs-lookup"><span data-stu-id="de85e-181">You can find information on how to configure read preferences for the [SQL API](../cosmos-db/tutorial-global-distribution-sql-api.md),  [Table API](../cosmos-db/tutorial-global-distribution-table.md), and [MongoDB API](../cosmos-db/tutorial-global-distribution-mongodb.md) in these articles.</span></span>

### <a id="TransparentSchemaMigration"></a><span data-ttu-id="de85e-182">Transparent and consistent database schema and index migration</span><span class="sxs-lookup"><span data-stu-id="de85e-182">Transparent and consistent database schema and index migration</span></span> 
<span data-ttu-id="de85e-183">Azure Cosmos DB is fully [schema-agnostic](http://www.vldb.org/pvldb/vol8/p1668-shukla.pdf).</span><span class="sxs-lookup"><span data-stu-id="de85e-183">Azure Cosmos DB is fully [schema-agnostic](http://www.vldb.org/pvldb/vol8/p1668-shukla.pdf).</span></span> <span data-ttu-id="de85e-184">The unique design of the database engine allows Azure Cosmos DB to automatically and synchronously index all of the data upon ingestion, without requiring any schema or secondary indices from the user.</span><span class="sxs-lookup"><span data-stu-id="de85e-184">The unique design of the database engine allows Azure Cosmos DB to automatically and synchronously index all of the data upon ingestion, without requiring any schema or secondary indices from the user.</span></span> <span data-ttu-id="de85e-185">This enables you to iterate your globally distributed application rapidly without worrying about database schema and index migration or coordinating multi-phase application rollouts of schema changes.</span><span class="sxs-lookup"><span data-stu-id="de85e-185">This enables you to iterate your globally distributed application rapidly without worrying about database schema and index migration or coordinating multi-phase application rollouts of schema changes.</span></span> <span data-ttu-id="de85e-186">Azure Cosmos DB guarantees that any changes to indexing policies explicitly made by you do not result in either performance or availability degradation.</span><span class="sxs-lookup"><span data-stu-id="de85e-186">Azure Cosmos DB guarantees that any changes to indexing policies explicitly made by you do not result in either performance or availability degradation.</span></span>  

### <a id="ComprehensiveSLAs"></a><span data-ttu-id="de85e-187">Comprehensive SLAs (beyond high availability)</span><span class="sxs-lookup"><span data-stu-id="de85e-187">Comprehensive SLAs (beyond high availability)</span></span>
<span data-ttu-id="de85e-188">As a globally distributed database service, Azure Cosmos DB offers well-defined and comprehensive SLAs for **availability**, **latency**, **throughput**, and **consistency** for the database running at global scale, regardless of the number of regions associated with the database.</span><span class="sxs-lookup"><span data-stu-id="de85e-188">As a globally distributed database service, Azure Cosmos DB offers well-defined and comprehensive SLAs for **availability**, **latency**, **throughput**, and **consistency** for the database running at global scale, regardless of the number of regions associated with the database.</span></span>  

## <a id="LatencyGuarantees"></a><span data-ttu-id="de85e-189">Latency guarantees</span><span class="sxs-lookup"><span data-stu-id="de85e-189">Latency guarantees</span></span>
<span data-ttu-id="de85e-190">The key benefit of a globally distributed database service like Azure Cosmos DB is to offer low latency access to your data anywhere in the world.</span><span class="sxs-lookup"><span data-stu-id="de85e-190">The key benefit of a globally distributed database service like Azure Cosmos DB is to offer low latency access to your data anywhere in the world.</span></span> <span data-ttu-id="de85e-191">Azure Cosmos DB offers guaranteed low latency at the 99th percentile for various database operations.</span><span class="sxs-lookup"><span data-stu-id="de85e-191">Azure Cosmos DB offers guaranteed low latency at the 99th percentile for various database operations.</span></span> <span data-ttu-id="de85e-192">The replication protocol that Azure Cosmos DB employs ensures that the database operations (both reads and writes) are always performed in the region local to that of the client.</span><span class="sxs-lookup"><span data-stu-id="de85e-192">The replication protocol that Azure Cosmos DB employs ensures that the database operations (both reads and writes) are always performed in the region local to that of the client.</span></span> <span data-ttu-id="de85e-193">The latency SLA of Azure Cosmos DB provides guarantees at the 99th percentile for both reads, (synchronously) indexed writes and queries for various request and response sizes.</span><span class="sxs-lookup"><span data-stu-id="de85e-193">The latency SLA of Azure Cosmos DB provides guarantees at the 99th percentile for both reads, (synchronously) indexed writes and queries for various request and response sizes.</span></span> <span data-ttu-id="de85e-194">The latency guarantees for writes include durable majority quorum commits within the local region.</span><span class="sxs-lookup"><span data-stu-id="de85e-194">The latency guarantees for writes include durable majority quorum commits within the local region.</span></span>

### <a id="LatencyAndConsistency"></a><span data-ttu-id="de85e-195">Latency's relationship with consistency</span><span class="sxs-lookup"><span data-stu-id="de85e-195">Latency's relationship with consistency</span></span> 
<span data-ttu-id="de85e-196">For a globally distributed service to offer strong consistency in a globally distributed setup, it needs to synchronously replicate the writes or to synchronously perform cross-region reads.</span><span class="sxs-lookup"><span data-stu-id="de85e-196">For a globally distributed service to offer strong consistency in a globally distributed setup, it needs to synchronously replicate the writes or to synchronously perform cross-region reads.</span></span> <span data-ttu-id="de85e-197">The speed of light and the wide area network reliability dictates that strong consistency will result in higher latencies and reduced availability of database operations.</span><span class="sxs-lookup"><span data-stu-id="de85e-197">The speed of light and the wide area network reliability dictates that strong consistency will result in higher latencies and reduced availability of database operations.</span></span> <span data-ttu-id="de85e-198">Hence, in order to offer guaranteed low latencies at the 99th percentile and 99.99% availability for all single region accounts and all multi-region accounts with relaxed consistency, and 99.999% availability on all multi-region database accounts, the service must employ asynchronous replication.</span><span class="sxs-lookup"><span data-stu-id="de85e-198">Hence, in order to offer guaranteed low latencies at the 99th percentile and 99.99% availability for all single region accounts and all multi-region accounts with relaxed consistency, and 99.999% availability on all multi-region database accounts, the service must employ asynchronous replication.</span></span> <span data-ttu-id="de85e-199">This in-turn requires that the service must also offer [well-defined, relaxed consistency model(s)](consistency-levels.md) – weaker than strong (to offer low latency and availability guarantees) and ideally stronger than "eventual" consistency (with an intuitive programming model).</span><span class="sxs-lookup"><span data-stu-id="de85e-199">This in-turn requires that the service must also offer [well-defined, relaxed consistency model(s)](consistency-levels.md) – weaker than strong (to offer low latency and availability guarantees) and ideally stronger than "eventual" consistency (with an intuitive programming model).</span></span>

<span data-ttu-id="de85e-200">Azure Cosmos DB ensures that a read operation is not required to contact replicas across multiple regions to deliver a specific consistency level guarantee.</span><span class="sxs-lookup"><span data-stu-id="de85e-200">Azure Cosmos DB ensures that a read operation is not required to contact replicas across multiple regions to deliver a specific consistency level guarantee.</span></span> <span data-ttu-id="de85e-201">Likewise, it ensures that a write operation does not get blocked while the data is being replicated across all regions that is, writes are asynchronously replicated across regions).</span><span class="sxs-lookup"><span data-stu-id="de85e-201">Likewise, it ensures that a write operation does not get blocked while the data is being replicated across all regions that is, writes are asynchronously replicated across regions).</span></span> <span data-ttu-id="de85e-202">For multi-region database accounts both strong as well as multiple relaxed consistency levels are available.</span><span class="sxs-lookup"><span data-stu-id="de85e-202">For multi-region database accounts both strong as well as multiple relaxed consistency levels are available.</span></span> 

### <a id="LatencyAndAvailability"></a><span data-ttu-id="de85e-203">Latency's relationship with availability</span><span class="sxs-lookup"><span data-stu-id="de85e-203">Latency's relationship with availability</span></span> 
<span data-ttu-id="de85e-204">Latency and availability are the two sides of the same coin.</span><span class="sxs-lookup"><span data-stu-id="de85e-204">Latency and availability are the two sides of the same coin.</span></span> <span data-ttu-id="de85e-205">Talking about latency of an operation in steady state and availability in the presence of failures and network partitions.</span><span class="sxs-lookup"><span data-stu-id="de85e-205">Talking about latency of an operation in steady state and availability in the presence of failures and network partitions.</span></span> <span data-ttu-id="de85e-206">From the application standpoint, a slow running database operation is indistinguishable from a database that is unavailable.</span><span class="sxs-lookup"><span data-stu-id="de85e-206">From the application standpoint, a slow running database operation is indistinguishable from a database that is unavailable.</span></span> 

<span data-ttu-id="de85e-207">To distinguish high latency from unavailability, Azure Cosmos DB provides an absolute upper bound for latency of various database operations.</span><span class="sxs-lookup"><span data-stu-id="de85e-207">To distinguish high latency from unavailability, Azure Cosmos DB provides an absolute upper bound for latency of various database operations.</span></span> <span data-ttu-id="de85e-208">If the database operation takes longer than the upper bound to complete, Azure Cosmos DB returns a timeout error.</span><span class="sxs-lookup"><span data-stu-id="de85e-208">If the database operation takes longer than the upper bound to complete, Azure Cosmos DB returns a timeout error.</span></span> <span data-ttu-id="de85e-209">The Azure Cosmos DB availability SLA ensures that the timeouts are counted against the availability SLA.</span><span class="sxs-lookup"><span data-stu-id="de85e-209">The Azure Cosmos DB availability SLA ensures that the timeouts are counted against the availability SLA.</span></span> 

### <a id="LatencyAndThroughput"></a><span data-ttu-id="de85e-210">Latency's relationship with throughput</span><span class="sxs-lookup"><span data-stu-id="de85e-210">Latency's relationship with throughput</span></span>
<span data-ttu-id="de85e-211">Azure Cosmos DB does not make you choose between latency and throughput.</span><span class="sxs-lookup"><span data-stu-id="de85e-211">Azure Cosmos DB does not make you choose between latency and throughput.</span></span> <span data-ttu-id="de85e-212">It honors the SLA for both latency at the 99th percentile and delivers the throughput that you have provisioned.</span><span class="sxs-lookup"><span data-stu-id="de85e-212">It honors the SLA for both latency at the 99th percentile and delivers the throughput that you have provisioned.</span></span> 

## <a id="ConsistencyGuarantees"></a><span data-ttu-id="de85e-213">Consistency guarantees</span><span class="sxs-lookup"><span data-stu-id="de85e-213">Consistency guarantees</span></span>
<span data-ttu-id="de85e-214">While the [strong consistency model](http://cs.brown.edu/~mph/HerlihyW90/p463-herlihy.pdf) is the gold standard of data programmability, it comes at a steep price of higher latency (in steady state) and reduced availability (in the face of failures).</span><span class="sxs-lookup"><span data-stu-id="de85e-214">While the [strong consistency model](http://cs.brown.edu/~mph/HerlihyW90/p463-herlihy.pdf) is the gold standard of data programmability, it comes at a steep price of higher latency (in steady state) and reduced availability (in the face of failures).</span></span> 

<span data-ttu-id="de85e-215">Azure Cosmos DB offers a well-defined programming model for you to reason about replicated data's consistency.</span><span class="sxs-lookup"><span data-stu-id="de85e-215">Azure Cosmos DB offers a well-defined programming model for you to reason about replicated data's consistency.</span></span> <span data-ttu-id="de85e-216">In order to enable you to easily build globally distributed applications with multi-homing capability, the consistency models exposed by Azure Cosmos DB are designed to be region-agnostic and independent from the region from where the reads and writes are being served.</span><span class="sxs-lookup"><span data-stu-id="de85e-216">In order to enable you to easily build globally distributed applications with multi-homing capability, the consistency models exposed by Azure Cosmos DB are designed to be region-agnostic and independent from the region from where the reads and writes are being served.</span></span> 

<span data-ttu-id="de85e-217">Azure Cosmos DB's consistency SLA guarantees that 100% of read requests will meet the consistency guarantee for the consistency model specified by you (either at the database account or the request level).</span><span class="sxs-lookup"><span data-stu-id="de85e-217">Azure Cosmos DB's consistency SLA guarantees that 100% of read requests will meet the consistency guarantee for the consistency model specified by you (either at the database account or the request level).</span></span> <span data-ttu-id="de85e-218">A read request is considered to have met the consistency SLA, if all the consistency guarantees associated with the consistency level are satisfied.</span><span class="sxs-lookup"><span data-stu-id="de85e-218">A read request is considered to have met the consistency SLA, if all the consistency guarantees associated with the consistency level are satisfied.</span></span> <span data-ttu-id="de85e-219">The following table captures the consistency guarantees that correspond to specific consistency models offered by Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="de85e-219">The following table captures the consistency guarantees that correspond to specific consistency models offered by Azure Cosmos DB.</span></span>

<table>
    <tr>
        <td><span data-ttu-id="de85e-220"><strong>Consistency Model</strong></span><span class="sxs-lookup"><span data-stu-id="de85e-220"><strong>Consistency Model</strong></span></span></td>
        <td><span data-ttu-id="de85e-221"><strong>Consistency Characteristics</strong></span><span class="sxs-lookup"><span data-stu-id="de85e-221"><strong>Consistency Characteristics</strong></span></span></td>
        <td><span data-ttu-id="de85e-222"><strong>SLA</strong></span><span class="sxs-lookup"><span data-stu-id="de85e-222"><strong>SLA</strong></span></span></td>
    </tr>
        <tr>
        <td><span data-ttu-id="de85e-223">Strong</span><span class="sxs-lookup"><span data-stu-id="de85e-223">Strong</span></span></td>
        <td><span data-ttu-id="de85e-224">Linearizable</span><span class="sxs-lookup"><span data-stu-id="de85e-224">Linearizable</span></span></td>
        <td><span data-ttu-id="de85e-225">100%</span><span class="sxs-lookup"><span data-stu-id="de85e-225">100%</span></span></td>
    </tr>
    <tr>
        <td rowspan="3"><span data-ttu-id="de85e-226">Bounded staleness</span><span class="sxs-lookup"><span data-stu-id="de85e-226">Bounded staleness</span></span></td>
        <td><span data-ttu-id="de85e-227">Monotonic read (within a region)</span><span class="sxs-lookup"><span data-stu-id="de85e-227">Monotonic read (within a region)</span></span></td>
        <td><span data-ttu-id="de85e-228">100%</span><span class="sxs-lookup"><span data-stu-id="de85e-228">100%</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="de85e-229">Consistent prefix</span><span class="sxs-lookup"><span data-stu-id="de85e-229">Consistent prefix</span></span></td>
        <td><span data-ttu-id="de85e-230">100%</span><span class="sxs-lookup"><span data-stu-id="de85e-230">100%</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="de85e-231">Staleness bound &lt; K,T</span><span class="sxs-lookup"><span data-stu-id="de85e-231">Staleness bound &lt; K,T</span></span></td>
        <td><span data-ttu-id="de85e-232">100%</span><span class="sxs-lookup"><span data-stu-id="de85e-232">100%</span></span></td>
    </tr>
<tr>
        <td rowspan="3"><span data-ttu-id="de85e-233">Session</span><span class="sxs-lookup"><span data-stu-id="de85e-233">Session</span></span></td>
        <td><span data-ttu-id="de85e-234">Read your own write</span><span class="sxs-lookup"><span data-stu-id="de85e-234">Read your own write</span></span></td>
        <td><span data-ttu-id="de85e-235">100%</span><span class="sxs-lookup"><span data-stu-id="de85e-235">100%</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="de85e-236">Monotonic read</span><span class="sxs-lookup"><span data-stu-id="de85e-236">Monotonic read</span></span></td>
        <td><span data-ttu-id="de85e-237">100%</span><span class="sxs-lookup"><span data-stu-id="de85e-237">100%</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="de85e-238">Consistent prefix</span><span class="sxs-lookup"><span data-stu-id="de85e-238">Consistent prefix</span></span></td>
        <td><span data-ttu-id="de85e-239">100%</span><span class="sxs-lookup"><span data-stu-id="de85e-239">100%</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="de85e-240">Consistent prefix</span><span class="sxs-lookup"><span data-stu-id="de85e-240">Consistent prefix</span></span></td>
        <td><span data-ttu-id="de85e-241">Consistent prefix</span><span class="sxs-lookup"><span data-stu-id="de85e-241">Consistent prefix</span></span></td>
        <td><span data-ttu-id="de85e-242">100%</span><span class="sxs-lookup"><span data-stu-id="de85e-242">100%</span></span></td>
    </tr>
</table>

<span data-ttu-id="de85e-243">**Consistency guarantees associated with a given consistency model in Azure Cosmos DB**</span><span class="sxs-lookup"><span data-stu-id="de85e-243">**Consistency guarantees associated with a given consistency model in Azure Cosmos DB**</span></span>


### <a id="ConsistencyAndAvailability"></a><span data-ttu-id="de85e-244">Consistency's relationship with availability</span><span class="sxs-lookup"><span data-stu-id="de85e-244">Consistency's relationship with availability</span></span>
<span data-ttu-id="de85e-245">The [impossibility result](http://www.glassbeam.com/sites/all/themes/glassbeam/images/blog/10.1.1.67.6951.pdf) of the [CAP theorem](https://people.eecs.berkeley.edu/~brewer/cs262b-2004/PODC-keynote.pdf) proves that it is indeed impossible for a system to remain available and offer linearizable consistency in the face of failures.</span><span class="sxs-lookup"><span data-stu-id="de85e-245">The [impossibility result](http://www.glassbeam.com/sites/all/themes/glassbeam/images/blog/10.1.1.67.6951.pdf) of the [CAP theorem](https://people.eecs.berkeley.edu/~brewer/cs262b-2004/PODC-keynote.pdf) proves that it is indeed impossible for a system to remain available and offer linearizable consistency in the face of failures.</span></span> <span data-ttu-id="de85e-246">The database service must choose to be either CP or AP, where CP systems forgo availability in favor of linearizable consistency while the AP systems forgo [linearizable consistency](http://cs.brown.edu/~mph/HerlihyW90/p463-herlihy.pdf) in favor of availability.</span><span class="sxs-lookup"><span data-stu-id="de85e-246">The database service must choose to be either CP or AP, where CP systems forgo availability in favor of linearizable consistency while the AP systems forgo [linearizable consistency](http://cs.brown.edu/~mph/HerlihyW90/p463-herlihy.pdf) in favor of availability.</span></span> <span data-ttu-id="de85e-247">Azure Cosmos DB never violates the requested consistency model, which formally makes it a CP system.</span><span class="sxs-lookup"><span data-stu-id="de85e-247">Azure Cosmos DB never violates the requested consistency model, which formally makes it a CP system.</span></span> <span data-ttu-id="de85e-248">However, in practice consistency is not an all or nothing proposition; there are multiple well-defined consistency models along the consistency spectrum between linearizable and eventual consistency.</span><span class="sxs-lookup"><span data-stu-id="de85e-248">However, in practice consistency is not an all or nothing proposition; there are multiple well-defined consistency models along the consistency spectrum between linearizable and eventual consistency.</span></span> <span data-ttu-id="de85e-249">In Azure Cosmos DB identifies several relaxed consistency models that are applicable to real world scenarios and are intuitive to use.</span><span class="sxs-lookup"><span data-stu-id="de85e-249">In Azure Cosmos DB identifies several relaxed consistency models that are applicable to real world scenarios and are intuitive to use.</span></span> <span data-ttu-id="de85e-250">Azure Cosmos DB navigates the consistency-availability tradeoffs by offering a [multiple relaxed yet well-defined consistency models](consistency-levels.md) and a 99.99% availability for all single region database accounts and 99.999% read and write availability for all multi-region database accounts.</span><span class="sxs-lookup"><span data-stu-id="de85e-250">Azure Cosmos DB navigates the consistency-availability tradeoffs by offering a [multiple relaxed yet well-defined consistency models](consistency-levels.md) and a 99.99% availability for all single region database accounts and 99.999% read and write availability for all multi-region database accounts.</span></span> 

### <a id="ConsistencyAndAvailability"></a><span data-ttu-id="de85e-251">Consistency's relationship with latency</span><span class="sxs-lookup"><span data-stu-id="de85e-251">Consistency's relationship with latency</span></span>
<span data-ttu-id="de85e-252">A more comprehensive variation of CAP theorem is called [PACELC](http://cs-www.cs.yale.edu/homes/dna/papers/abadi-pacelc.pdf), which also accounts for latency and consistency tradeoffs in a steady state.</span><span class="sxs-lookup"><span data-stu-id="de85e-252">A more comprehensive variation of CAP theorem is called [PACELC](http://cs-www.cs.yale.edu/homes/dna/papers/abadi-pacelc.pdf), which also accounts for latency and consistency tradeoffs in a steady state.</span></span> <span data-ttu-id="de85e-253">It states that in a steady state, a database system must choose between consistency, and latency.</span><span class="sxs-lookup"><span data-stu-id="de85e-253">It states that in a steady state, a database system must choose between consistency, and latency.</span></span> <span data-ttu-id="de85e-254">With multiple relaxed consistency models (backed by asynchronous replication and local read and write quorums), Azure Cosmos DB ensures that all reads and writes are local to the read and write regions respectively.</span><span class="sxs-lookup"><span data-stu-id="de85e-254">With multiple relaxed consistency models (backed by asynchronous replication and local read and write quorums), Azure Cosmos DB ensures that all reads and writes are local to the read and write regions respectively.</span></span> <span data-ttu-id="de85e-255">This allows Azure Cosmos DB to offer low latency guarantees within the region for the given consistency models.</span><span class="sxs-lookup"><span data-stu-id="de85e-255">This allows Azure Cosmos DB to offer low latency guarantees within the region for the given consistency models.</span></span>  

### <a id="ConsistencyAndThroughput"></a><span data-ttu-id="de85e-256">Consistency's relationship with throughput</span><span class="sxs-lookup"><span data-stu-id="de85e-256">Consistency's relationship with throughput</span></span>
<span data-ttu-id="de85e-257">Since the implementation of a specific consistency model depends on the choice of a [quorum type](http://cs.brown.edu/~mph/HerlihyW90/p463-herlihy.pdf), throughput also varies based on the choice of a consistency model.</span><span class="sxs-lookup"><span data-stu-id="de85e-257">Since the implementation of a specific consistency model depends on the choice of a [quorum type](http://cs.brown.edu/~mph/HerlihyW90/p463-herlihy.pdf), throughput also varies based on the choice of a consistency model.</span></span> <span data-ttu-id="de85e-258">For instance, in Azure Cosmos DB, the RU charge for strongly consistent reads is roughly *double* that of eventually consistent reads.</span><span class="sxs-lookup"><span data-stu-id="de85e-258">For instance, in Azure Cosmos DB, the RU charge for strongly consistent reads is roughly *double* that of eventually consistent reads.</span></span> <span data-ttu-id="de85e-259">In this case, you will need to provision double the RUs to achieve the same throughput.</span><span class="sxs-lookup"><span data-stu-id="de85e-259">In this case, you will need to provision double the RUs to achieve the same throughput.</span></span>


![Relationship between consistency, and throughput](./media/distribute-data-globally/consistency-and-throughput.png)

<span data-ttu-id="de85e-261">**Relationship of read capacity for a specific consistency model in Azure Cosmos DB**</span><span class="sxs-lookup"><span data-stu-id="de85e-261">**Relationship of read capacity for a specific consistency model in Azure Cosmos DB**</span></span>

## <a id="ThroughputGuarantees"></a><span data-ttu-id="de85e-262">Throughput guarantees</span><span class="sxs-lookup"><span data-stu-id="de85e-262">Throughput guarantees</span></span> 
<span data-ttu-id="de85e-263">Azure Cosmos DB allows you to scale throughput (as well as, storage), elastically across any number of regions depending on your needs or demand.</span><span class="sxs-lookup"><span data-stu-id="de85e-263">Azure Cosmos DB allows you to scale throughput (as well as, storage), elastically across any number of regions depending on your needs or demand.</span></span> 

![Azure Cosmos DB distributed and partitioned containers](../cosmos-db/media/introduction/azure-cosmos-db-global-distribution.png)

<span data-ttu-id="de85e-265">**A single Azure Cosmos DB container horizontally partitioned (across three resource partitions within a region) and then globally distributed across three Azure regions**</span><span class="sxs-lookup"><span data-stu-id="de85e-265">**A single Azure Cosmos DB container horizontally partitioned (across three resource partitions within a region) and then globally distributed across three Azure regions**</span></span>

<span data-ttu-id="de85e-266">An Azure Cosmos DB container gets distributed in two dimensions (i) within a region and (ii) across regions.</span><span class="sxs-lookup"><span data-stu-id="de85e-266">An Azure Cosmos DB container gets distributed in two dimensions (i) within a region and (ii) across regions.</span></span> <span data-ttu-id="de85e-267">Here's how:</span><span class="sxs-lookup"><span data-stu-id="de85e-267">Here's how:</span></span> 

* <span data-ttu-id="de85e-268">**Local distribution**: Within a single region, an Azure Cosmos DB container is horizontally scaled out in terms of *resource partitions*.</span><span class="sxs-lookup"><span data-stu-id="de85e-268">**Local distribution**: Within a single region, an Azure Cosmos DB container is horizontally scaled out in terms of *resource partitions*.</span></span> <span data-ttu-id="de85e-269">Each resource partition manages a set of keys and is strongly consistent and highly available being physically represented by four replicas also called a *replica-set* and state machine replication among those replicas.</span><span class="sxs-lookup"><span data-stu-id="de85e-269">Each resource partition manages a set of keys and is strongly consistent and highly available being physically represented by four replicas also called a *replica-set* and state machine replication among those replicas.</span></span> <span data-ttu-id="de85e-270">Azure Cosmos DB is a fully resource-governed system, where a resource partition is responsible to deliver its share of throughput for the budget of system resources allocated to it.</span><span class="sxs-lookup"><span data-stu-id="de85e-270">Azure Cosmos DB is a fully resource-governed system, where a resource partition is responsible to deliver its share of throughput for the budget of system resources allocated to it.</span></span> <span data-ttu-id="de85e-271">The scaling of an Azure Cosmos DB container is transparent to the users.</span><span class="sxs-lookup"><span data-stu-id="de85e-271">The scaling of an Azure Cosmos DB container is transparent to the users.</span></span> <span data-ttu-id="de85e-272">Azure Cosmos DB manages the resource partitions and splits and merges them as needed as storage and throughput requirements change.</span><span class="sxs-lookup"><span data-stu-id="de85e-272">Azure Cosmos DB manages the resource partitions and splits and merges them as needed as storage and throughput requirements change.</span></span> 
* <span data-ttu-id="de85e-273">**Global distribution**: If it is a multi-region database, each of the resource partitions is then distributed across those regions.</span><span class="sxs-lookup"><span data-stu-id="de85e-273">**Global distribution**: If it is a multi-region database, each of the resource partitions is then distributed across those regions.</span></span> <span data-ttu-id="de85e-274">Resource partitions owning the same set of keys across various regions form *partition set* (see [preceding figure](#ThroughputGuarantees)).</span><span class="sxs-lookup"><span data-stu-id="de85e-274">Resource partitions owning the same set of keys across various regions form *partition set* (see [preceding figure](#ThroughputGuarantees)).</span></span>  <span data-ttu-id="de85e-275">Resource partitions within a partition set are coordinated using state machine replication across multiple regions associated with the database.</span><span class="sxs-lookup"><span data-stu-id="de85e-275">Resource partitions within a partition set are coordinated using state machine replication across multiple regions associated with the database.</span></span> <span data-ttu-id="de85e-276">Depending on the consistency level configured, the resource partitions within a partition set are configured dynamically using different topologies (for example, star, daisy-chain, tree etc.).</span><span class="sxs-lookup"><span data-stu-id="de85e-276">Depending on the consistency level configured, the resource partitions within a partition set are configured dynamically using different topologies (for example, star, daisy-chain, tree etc.).</span></span> 

<span data-ttu-id="de85e-277">By virtue of a highly responsive partition management, load balancing and strict resource governance, Azure Cosmos DB allows you to elastically scale throughput across multiple Azure regions associated with an Azure Cosmos DB container or database.</span><span class="sxs-lookup"><span data-stu-id="de85e-277">By virtue of a highly responsive partition management, load balancing and strict resource governance, Azure Cosmos DB allows you to elastically scale throughput across multiple Azure regions associated with an Azure Cosmos DB container or database.</span></span> <span data-ttu-id="de85e-278">Changing provisioned throughput is a runtime operation in Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="de85e-278">Changing provisioned throughput is a runtime operation in Azure Cosmos DB.</span></span> <span data-ttu-id="de85e-279">Similar to other database operations, Azure Cosmos DB guarantees the absolute upper bound on latency for your request to change provisioned throughput.</span><span class="sxs-lookup"><span data-stu-id="de85e-279">Similar to other database operations, Azure Cosmos DB guarantees the absolute upper bound on latency for your request to change provisioned throughput.</span></span> <span data-ttu-id="de85e-280">For example, the following figure shows a customer's container with elastically provisioned throughput (ranging from 1M-10M requests/sec across two regions) based on the demand.</span><span class="sxs-lookup"><span data-stu-id="de85e-280">For example, the following figure shows a customer's container with elastically provisioned throughput (ranging from 1M-10M requests/sec across two regions) based on the demand.</span></span>

![Azure Cosmos DB elastically provisioned throughput](./media/distribute-data-globally/elastic-throughput.png)

<span data-ttu-id="de85e-282">**A customer's container with elastically provisioned throughput (varying from 1M-10M requests/sec)**</span><span class="sxs-lookup"><span data-stu-id="de85e-282">**A customer's container with elastically provisioned throughput (varying from 1M-10M requests/sec)**</span></span>

### <a id="ThroughputAndConsistency"></a><span data-ttu-id="de85e-283">Throughput's relationship with consistency</span><span class="sxs-lookup"><span data-stu-id="de85e-283">Throughput's relationship with consistency</span></span> 
<span data-ttu-id="de85e-284">It is the same as described in [Consistency's relationship with throughput](#ConsistencyAndThroughput).</span><span class="sxs-lookup"><span data-stu-id="de85e-284">It is the same as described in [Consistency's relationship with throughput](#ConsistencyAndThroughput).</span></span>

### <a id="ThroughputAndAvailability"></a><span data-ttu-id="de85e-285">Throughput's relationship with availability</span><span class="sxs-lookup"><span data-stu-id="de85e-285">Throughput's relationship with availability</span></span>
<span data-ttu-id="de85e-286">Azure Cosmos DB continues to maintain its high availability when changes are made to provisioned throughput.</span><span class="sxs-lookup"><span data-stu-id="de85e-286">Azure Cosmos DB continues to maintain its high availability when changes are made to provisioned throughput.</span></span> <span data-ttu-id="de85e-287">Azure Cosmos DB transparently manages resource partitions (and performs split, merge, and clone operations) and ensures that the operations do not degrade performance or availability, while the application elastically increases or decreases throughput.</span><span class="sxs-lookup"><span data-stu-id="de85e-287">Azure Cosmos DB transparently manages resource partitions (and performs split, merge, and clone operations) and ensures that the operations do not degrade performance or availability, while the application elastically increases or decreases throughput.</span></span> 

## <a id="AvailabilityGuarantees"></a><span data-ttu-id="de85e-288">Availability guarantees</span><span class="sxs-lookup"><span data-stu-id="de85e-288">Availability guarantees</span></span>
<span data-ttu-id="de85e-289">Azure Cosmos DB offers a 99.99% availability SLA for all single region database accounts and all multi-region accounts with relaxed consistency, and 99.999% availability on all multi-region database accounts.</span><span class="sxs-lookup"><span data-stu-id="de85e-289">Azure Cosmos DB offers a 99.99% availability SLA for all single region database accounts and all multi-region accounts with relaxed consistency, and 99.999% availability on all multi-region database accounts.</span></span> <span data-ttu-id="de85e-290">As described earlier, Azure Cosmos DB's availability guarantees include an absolute upper bound for latency for every data and control plane operations.</span><span class="sxs-lookup"><span data-stu-id="de85e-290">As described earlier, Azure Cosmos DB's availability guarantees include an absolute upper bound for latency for every data and control plane operations.</span></span> <span data-ttu-id="de85e-291">The availability guarantees do not change with the number of regions or the geographical distance between regions.</span><span class="sxs-lookup"><span data-stu-id="de85e-291">The availability guarantees do not change with the number of regions or the geographical distance between regions.</span></span> <span data-ttu-id="de85e-292">Availability guarantees are applicable with respect to both manual as well as automatic failovers.</span><span class="sxs-lookup"><span data-stu-id="de85e-292">Availability guarantees are applicable with respect to both manual as well as automatic failovers.</span></span> <span data-ttu-id="de85e-293">Azure Cosmos DB offers transparent multi-homing APIs that ensure that your application can operate against logical endpoints and can transparently route the requests to a new region in case of a failover.</span><span class="sxs-lookup"><span data-stu-id="de85e-293">Azure Cosmos DB offers transparent multi-homing APIs that ensure that your application can operate against logical endpoints and can transparently route the requests to a new region in case of a failover.</span></span> <span data-ttu-id="de85e-294">Your application does not need to be redeployed in case of a regional failover and the availability SLAs are preserved at all times.</span><span class="sxs-lookup"><span data-stu-id="de85e-294">Your application does not need to be redeployed in case of a regional failover and the availability SLAs are preserved at all times.</span></span>

### <a id="AvailabilityAndConsistency"></a><span data-ttu-id="de85e-295">Availability's relationship with consistency, latency, and throughput</span><span class="sxs-lookup"><span data-stu-id="de85e-295">Availability's relationship with consistency, latency, and throughput</span></span>
<span data-ttu-id="de85e-296">Availability’s relationship with consistency, latency, and throughput is described in the sections [Consistency's relationship with availability](#ConsistencyAndAvailability), [Latency's relationship with availability](#LatencyAndAvailability) and [Throughput's relationship with availability](#ThroughputAndAvailability).</span><span class="sxs-lookup"><span data-stu-id="de85e-296">Availability’s relationship with consistency, latency, and throughput is described in the sections [Consistency's relationship with availability](#ConsistencyAndAvailability), [Latency's relationship with availability](#LatencyAndAvailability) and [Throughput's relationship with availability](#ThroughputAndAvailability).</span></span> 

## <a id="CustomerFacingSLAMetrics"></a><span data-ttu-id="de85e-297">Customer-facing SLA metrics</span><span class="sxs-lookup"><span data-stu-id="de85e-297">Customer-facing SLA metrics</span></span>
<span data-ttu-id="de85e-298">Azure Cosmos DB transparently exposes the throughput, latency, consistency, and availability metrics.</span><span class="sxs-lookup"><span data-stu-id="de85e-298">Azure Cosmos DB transparently exposes the throughput, latency, consistency, and availability metrics.</span></span> <span data-ttu-id="de85e-299">These metrics are accessible programmatically and via the Azure portal (see the figure below).</span><span class="sxs-lookup"><span data-stu-id="de85e-299">These metrics are accessible programmatically and via the Azure portal (see the figure below).</span></span> <span data-ttu-id="de85e-300">You can also set up alerts on various thresholds using Azure Application Insights.</span><span class="sxs-lookup"><span data-stu-id="de85e-300">You can also set up alerts on various thresholds using Azure Application Insights.</span></span>
 

![Azure Cosmos DB customer-visible SLA metrics](./media/distribute-data-globally/customer-slas.png)

<span data-ttu-id="de85e-302">**Consistency, Latency, Throughput, and Availability metrics are transparently available to each tenant**</span><span class="sxs-lookup"><span data-stu-id="de85e-302">**Consistency, Latency, Throughput, and Availability metrics are transparently available to each tenant**</span></span>

## <a id="Next Steps"></a><span data-ttu-id="de85e-303">Next steps</span><span class="sxs-lookup"><span data-stu-id="de85e-303">Next steps</span></span>
* <span data-ttu-id="de85e-304">To implement global replication on your Azure Cosmos DB account using the Azure portal, see [How to perform Azure Cosmos DB global database replication using the Azure portal](tutorial-global-distribution-sql-api.md).</span><span class="sxs-lookup"><span data-stu-id="de85e-304">To implement global replication on your Azure Cosmos DB account using the Azure portal, see [How to perform Azure Cosmos DB global database replication using the Azure portal](tutorial-global-distribution-sql-api.md).</span></span>
* <span data-ttu-id="de85e-305">To learn about how to implement multi-master architectures with Azure Cosmos DB, see [Multi-master database architectures with Azure Cosmos DB](multi-region-writers.md).</span><span class="sxs-lookup"><span data-stu-id="de85e-305">To learn about how to implement multi-master architectures with Azure Cosmos DB, see [Multi-master database architectures with Azure Cosmos DB](multi-region-writers.md).</span></span>
* <span data-ttu-id="de85e-306">To learn more about how automatic and manual failovers work in Azure Cosmos DB, see [Regional Failovers in Azure Cosmos DB](regional-failover.md).</span><span class="sxs-lookup"><span data-stu-id="de85e-306">To learn more about how automatic and manual failovers work in Azure Cosmos DB, see [Regional Failovers in Azure Cosmos DB](regional-failover.md).</span></span>

## <a id="References"></a><span data-ttu-id="de85e-307">References</span><span class="sxs-lookup"><span data-stu-id="de85e-307">References</span></span>
1. <span data-ttu-id="de85e-308">Eric Brewer.</span><span class="sxs-lookup"><span data-stu-id="de85e-308">Eric Brewer.</span></span> [<span data-ttu-id="de85e-309">Towards Robust Distributed Systems</span><span class="sxs-lookup"><span data-stu-id="de85e-309">Towards Robust Distributed Systems</span></span>](https://people.eecs.berkeley.edu/~brewer/cs262b-2004/PODC-keynote.pdf)
2. <span data-ttu-id="de85e-310">Eric Brewer.</span><span class="sxs-lookup"><span data-stu-id="de85e-310">Eric Brewer.</span></span> [<span data-ttu-id="de85e-311">CAP Twelve Years Later – How the rules have changed</span><span class="sxs-lookup"><span data-stu-id="de85e-311">CAP Twelve Years Later – How the rules have changed</span></span>](http://informatik.unibas.ch/fileadmin/Lectures/HS2012/CS341/workshops/reportsAndSlides/PresentationKevinUrban.pdf)
3. <span data-ttu-id="de85e-312">Gilbert, Lynch.</span><span class="sxs-lookup"><span data-stu-id="de85e-312">Gilbert, Lynch.</span></span><span data-ttu-id="de85e-313"> - [Brewer&#39;s Conjecture and Feasibility of Consistent, Available, Partition Tolerant Web Services](http://www.glassbeam.com/sites/all/themes/glassbeam/images/blog/10.1.1.67.6951.pdf)</span><span class="sxs-lookup"><span data-stu-id="de85e-313"> - [Brewer&#39;s Conjecture and Feasibility of Consistent, Available, Partition Tolerant Web Services](http://www.glassbeam.com/sites/all/themes/glassbeam/images/blog/10.1.1.67.6951.pdf)</span></span>
4. <span data-ttu-id="de85e-314">Daniel Abadi.</span><span class="sxs-lookup"><span data-stu-id="de85e-314">Daniel Abadi.</span></span> [<span data-ttu-id="de85e-315">Consistency Tradeoffs in Modern Distributed Database Systems Design</span><span class="sxs-lookup"><span data-stu-id="de85e-315">Consistency Tradeoffs in Modern Distributed Database Systems Design</span></span>](http://cs-www.cs.yale.edu/homes/dna/papers/abadi-pacelc.pdf)
5. <span data-ttu-id="de85e-316">Martin Kleppmann.</span><span class="sxs-lookup"><span data-stu-id="de85e-316">Martin Kleppmann.</span></span> [<span data-ttu-id="de85e-317">Please stop calling databases CP or AP</span><span class="sxs-lookup"><span data-stu-id="de85e-317">Please stop calling databases CP or AP</span></span>](https://martin.kleppmann.com/2015/05/11/please-stop-calling-databases-cp-or-ap.html)
6. <span data-ttu-id="de85e-318">Peter Bailis et al. [Probabilistic Bounded Staleness (PBS) for Practical Partial Quorums](http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.pdf)</span><span class="sxs-lookup"><span data-stu-id="de85e-318">Peter Bailis et al. [Probabilistic Bounded Staleness (PBS) for Practical Partial Quorums](http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.pdf)</span></span>
7. <span data-ttu-id="de85e-319">Naor and Wool.</span><span class="sxs-lookup"><span data-stu-id="de85e-319">Naor and Wool.</span></span> [<span data-ttu-id="de85e-320">Load, Capacity and Availability in Quorum Systems</span><span class="sxs-lookup"><span data-stu-id="de85e-320">Load, Capacity and Availability in Quorum Systems</span></span>](http://www.cs.utexas.edu/~lorenzo/corsi/cs395t/04S/notes/naor98load.pdf)
8. <span data-ttu-id="de85e-321">Herlihy and Wing.</span><span class="sxs-lookup"><span data-stu-id="de85e-321">Herlihy and Wing.</span></span> [<span data-ttu-id="de85e-322">Lineralizability: A correctness condition for concurrent objects</span><span class="sxs-lookup"><span data-stu-id="de85e-322">Lineralizability: A correctness condition for concurrent objects</span></span>](http://cs.brown.edu/~mph/HerlihyW90/p463-herlihy.pdf)
9. [<span data-ttu-id="de85e-323">Azure Cosmos DB SLA</span><span class="sxs-lookup"><span data-stu-id="de85e-323">Azure Cosmos DB SLA</span></span>](https://azure.microsoft.com/support/legal/sla/cosmos-db/)
