---
title: Collector appliance in Azure Migrate | Microsoft Docs
description: Provides an overview of the Collector appliance and how to configure it.
author: ruturaj
ms.service: azure-migrate
ms.topic: conceptual
ms.date: 09/10/2018
ms.author: ruturajd
services: azure-migrate
ms.openlocfilehash: dae6cc9a55049e2b44291eb105288b33a1db9e7b
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44869764"
---
# <a name="collector-appliance"></a><span data-ttu-id="d6b11-103">Collector appliance</span><span class="sxs-lookup"><span data-stu-id="d6b11-103">Collector appliance</span></span>

<span data-ttu-id="d6b11-104">[Azure Migrate](migrate-overview.md) assesses on-premises workloads for migration to Azure.</span><span class="sxs-lookup"><span data-stu-id="d6b11-104">[Azure Migrate](migrate-overview.md) assesses on-premises workloads for migration to Azure.</span></span> <span data-ttu-id="d6b11-105">This article provides information about how to use the Collector appliance.</span><span class="sxs-lookup"><span data-stu-id="d6b11-105">This article provides information about how to use the Collector appliance.</span></span>

## <a name="overview"></a><span data-ttu-id="d6b11-106">Overview</span><span class="sxs-lookup"><span data-stu-id="d6b11-106">Overview</span></span>

<span data-ttu-id="d6b11-107">An Azure Migrate Collector is a lightweight appliance that can be used to discover your on-premises vCenter environment.</span><span class="sxs-lookup"><span data-stu-id="d6b11-107">An Azure Migrate Collector is a lightweight appliance that can be used to discover your on-premises vCenter environment.</span></span> <span data-ttu-id="d6b11-108">This appliance discovers on-premises VMware machines, and sends metadata about them to the Azure Migrate service.</span><span class="sxs-lookup"><span data-stu-id="d6b11-108">This appliance discovers on-premises VMware machines, and sends metadata about them to the Azure Migrate service.</span></span>

<span data-ttu-id="d6b11-109">The Collector appliance is an OVF that you can download from the Azure Migrate project.</span><span class="sxs-lookup"><span data-stu-id="d6b11-109">The Collector appliance is an OVF that you can download from the Azure Migrate project.</span></span> <span data-ttu-id="d6b11-110">It instantiates a VMware virtual machine with 4 cores, 8 GB RAM, and one disk of 80 GB.</span><span class="sxs-lookup"><span data-stu-id="d6b11-110">It instantiates a VMware virtual machine with 4 cores, 8 GB RAM, and one disk of 80 GB.</span></span> <span data-ttu-id="d6b11-111">The Operating system of the appliance is Windows Server 2012 R2 (64 bit).</span><span class="sxs-lookup"><span data-stu-id="d6b11-111">The Operating system of the appliance is Windows Server 2012 R2 (64 bit).</span></span>

<span data-ttu-id="d6b11-112">You can create the Collector by following the steps here - [How to create the Collector VM](tutorial-assessment-vmware.md#create-the-collector-vm).</span><span class="sxs-lookup"><span data-stu-id="d6b11-112">You can create the Collector by following the steps here - [How to create the Collector VM](tutorial-assessment-vmware.md#create-the-collector-vm).</span></span>

## <a name="discovery-methods"></a><span data-ttu-id="d6b11-113">Discovery methods</span><span class="sxs-lookup"><span data-stu-id="d6b11-113">Discovery methods</span></span>

<span data-ttu-id="d6b11-114">There are two methods in which you discover your on-premises environment:</span><span class="sxs-lookup"><span data-stu-id="d6b11-114">There are two methods in which you discover your on-premises environment:</span></span>

<span data-ttu-id="d6b11-115">a.</span><span class="sxs-lookup"><span data-stu-id="d6b11-115">a.</span></span> <span data-ttu-id="d6b11-116">**One-time discovery:** The collector for this model, communicates with vCenter Server to gather metadata about the VMs.</span><span class="sxs-lookup"><span data-stu-id="d6b11-116">**One-time discovery:** The collector for this model, communicates with vCenter Server to gather metadata about the VMs.</span></span> <span data-ttu-id="d6b11-117">For performance data collection of the VMs, it relies on the historical performance data stored in vCenter Server and collects the performance history of last one month.</span><span class="sxs-lookup"><span data-stu-id="d6b11-117">For performance data collection of the VMs, it relies on the historical performance data stored in vCenter Server and collects the performance history of last one month.</span></span> <span data-ttu-id="d6b11-118">In this model, Azure Migrate collects average counter (vs. peak counter) for each metric, [learn more] (https://docs.microsoft.com/azure/migrate/concepts-collector#what-data-is-collected) about the performance counters collected by Azure Migrate.</span><span class="sxs-lookup"><span data-stu-id="d6b11-118">In this model, Azure Migrate collects average counter (vs. peak counter) for each metric, [learn more] (https://docs.microsoft.com/azure/migrate/concepts-collector#what-data-is-collected) about the performance counters collected by Azure Migrate.</span></span> <span data-ttu-id="d6b11-119">Since it is a one-time discovery, the appliance in this case is not continuously connected to the project.</span><span class="sxs-lookup"><span data-stu-id="d6b11-119">Since it is a one-time discovery, the appliance in this case is not continuously connected to the project.</span></span> <span data-ttu-id="d6b11-120">Hence, changes in the on-premises environment are not reflected in Azure Migrate once the discovery is complete.</span><span class="sxs-lookup"><span data-stu-id="d6b11-120">Hence, changes in the on-premises environment are not reflected in Azure Migrate once the discovery is complete.</span></span> <span data-ttu-id="d6b11-121">If you want the changes to reflect, you have to do a rediscovery of the same environment to the same project.</span><span class="sxs-lookup"><span data-stu-id="d6b11-121">If you want the changes to reflect, you have to do a rediscovery of the same environment to the same project.</span></span>

<span data-ttu-id="d6b11-122">b.</span><span class="sxs-lookup"><span data-stu-id="d6b11-122">b.</span></span> <span data-ttu-id="d6b11-123">**Continuous discovery:** The collector appliance for this model is continuously connected to the Azure Migrate project.</span><span class="sxs-lookup"><span data-stu-id="d6b11-123">**Continuous discovery:** The collector appliance for this model is continuously connected to the Azure Migrate project.</span></span> <span data-ttu-id="d6b11-124">It continuously profiles the on-premises environment to gather real-time utilization data at every 20 seconds.</span><span class="sxs-lookup"><span data-stu-id="d6b11-124">It continuously profiles the on-premises environment to gather real-time utilization data at every 20 seconds.</span></span> <span data-ttu-id="d6b11-125">The appliance then rolls-up the 20-second samples and creates a single data point for every 15 minutes by picking the maximum value, which is sent to Azure.</span><span class="sxs-lookup"><span data-stu-id="d6b11-125">The appliance then rolls-up the 20-second samples and creates a single data point for every 15 minutes by picking the maximum value, which is sent to Azure.</span></span> <span data-ttu-id="d6b11-126">This model does not depend on the statistics settings of vCenter Server for performance data collection.</span><span class="sxs-lookup"><span data-stu-id="d6b11-126">This model does not depend on the statistics settings of vCenter Server for performance data collection.</span></span> <span data-ttu-id="d6b11-127">You can stop the continuous profiling anytime from the appliance.</span><span class="sxs-lookup"><span data-stu-id="d6b11-127">You can stop the continuous profiling anytime from the appliance.</span></span>

> [!NOTE]
> <span data-ttu-id="d6b11-128">The continuous discovery functionality is in preview.</span><span class="sxs-lookup"><span data-stu-id="d6b11-128">The continuous discovery functionality is in preview.</span></span>

## <a name="collector-communication-diagram"></a><span data-ttu-id="d6b11-129">Collector communication diagram</span><span class="sxs-lookup"><span data-stu-id="d6b11-129">Collector communication diagram</span></span>

![Collector communication diagram](./media/tutorial-assessment-vmware/portdiagram.PNG)


| <span data-ttu-id="d6b11-131">Component</span><span class="sxs-lookup"><span data-stu-id="d6b11-131">Component</span></span>      | <span data-ttu-id="d6b11-132">To communicate with</span><span class="sxs-lookup"><span data-stu-id="d6b11-132">To communicate with</span></span>   | <span data-ttu-id="d6b11-133">Port required</span><span class="sxs-lookup"><span data-stu-id="d6b11-133">Port required</span></span>                            | <span data-ttu-id="d6b11-134">Reason</span><span class="sxs-lookup"><span data-stu-id="d6b11-134">Reason</span></span>                                   |
| -------------- | --------------------- | ---------------------------------------- | ---------------------------------------- |
| <span data-ttu-id="d6b11-135">Collector</span><span class="sxs-lookup"><span data-stu-id="d6b11-135">Collector</span></span>      | <span data-ttu-id="d6b11-136">Azure Migrate service</span><span class="sxs-lookup"><span data-stu-id="d6b11-136">Azure Migrate service</span></span> | <span data-ttu-id="d6b11-137">TCP 443</span><span class="sxs-lookup"><span data-stu-id="d6b11-137">TCP 443</span></span>                                  | <span data-ttu-id="d6b11-138">Collector should be able to communicate with the service over the SSL port 443</span><span class="sxs-lookup"><span data-stu-id="d6b11-138">Collector should be able to communicate with the service over the SSL port 443</span></span> |
| <span data-ttu-id="d6b11-139">Collector</span><span class="sxs-lookup"><span data-stu-id="d6b11-139">Collector</span></span>      | <span data-ttu-id="d6b11-140">vCenter Server</span><span class="sxs-lookup"><span data-stu-id="d6b11-140">vCenter Server</span></span>        | <span data-ttu-id="d6b11-141">Default 443</span><span class="sxs-lookup"><span data-stu-id="d6b11-141">Default 443</span></span>                             | <span data-ttu-id="d6b11-142">Collector should be able to communicate with the vCenter server.</span><span class="sxs-lookup"><span data-stu-id="d6b11-142">Collector should be able to communicate with the vCenter server.</span></span> <span data-ttu-id="d6b11-143">It connects to vCenter on 443 by default.</span><span class="sxs-lookup"><span data-stu-id="d6b11-143">It connects to vCenter on 443 by default.</span></span> <span data-ttu-id="d6b11-144">If the vCenter listens on a different port, that port should be available as outgoing port on the collector</span><span class="sxs-lookup"><span data-stu-id="d6b11-144">If the vCenter listens on a different port, that port should be available as outgoing port on the collector</span></span> |
| <span data-ttu-id="d6b11-145">Collector</span><span class="sxs-lookup"><span data-stu-id="d6b11-145">Collector</span></span>      | <span data-ttu-id="d6b11-146">RDP</span><span class="sxs-lookup"><span data-stu-id="d6b11-146">RDP</span></span>|   | <span data-ttu-id="d6b11-147">TCP 3389</span><span class="sxs-lookup"><span data-stu-id="d6b11-147">TCP 3389</span></span> | <span data-ttu-id="d6b11-148">For you to be able to RDP into the Collector machine</span><span class="sxs-lookup"><span data-stu-id="d6b11-148">For you to be able to RDP into the Collector machine</span></span> |

## <a name="collector-pre-requisites"></a><span data-ttu-id="d6b11-149">Collector pre-requisites</span><span class="sxs-lookup"><span data-stu-id="d6b11-149">Collector pre-requisites</span></span>

<span data-ttu-id="d6b11-150">The Collector needs to pass a few pre-requisite checks to ensure it can connect to the Azure Migrate service and upload the discovered data.</span><span class="sxs-lookup"><span data-stu-id="d6b11-150">The Collector needs to pass a few pre-requisite checks to ensure it can connect to the Azure Migrate service and upload the discovered data.</span></span> <span data-ttu-id="d6b11-151">This article looks at each of the prerequisites and understands why it is required.</span><span class="sxs-lookup"><span data-stu-id="d6b11-151">This article looks at each of the prerequisites and understands why it is required.</span></span>

### <a name="internet-connectivity"></a><span data-ttu-id="d6b11-152">Internet connectivity</span><span class="sxs-lookup"><span data-stu-id="d6b11-152">Internet connectivity</span></span>

<span data-ttu-id="d6b11-153">The collector appliance needs to be connected to the internet to send the discovered machines information.</span><span class="sxs-lookup"><span data-stu-id="d6b11-153">The collector appliance needs to be connected to the internet to send the discovered machines information.</span></span> <span data-ttu-id="d6b11-154">You can connect the machine to the internet in one of the two following ways.</span><span class="sxs-lookup"><span data-stu-id="d6b11-154">You can connect the machine to the internet in one of the two following ways.</span></span>

1. <span data-ttu-id="d6b11-155">You can configure the Collector to have direct internet connectivity.</span><span class="sxs-lookup"><span data-stu-id="d6b11-155">You can configure the Collector to have direct internet connectivity.</span></span>
2. <span data-ttu-id="d6b11-156">You can configure the Collector to connect via a proxy server.</span><span class="sxs-lookup"><span data-stu-id="d6b11-156">You can configure the Collector to connect via a proxy server.</span></span>
    * <span data-ttu-id="d6b11-157">If the proxy server requires authentication, you can specify the username and password in the connection settings.</span><span class="sxs-lookup"><span data-stu-id="d6b11-157">If the proxy server requires authentication, you can specify the username and password in the connection settings.</span></span>
    * <span data-ttu-id="d6b11-158">The IP address/FQDN of the Proxy server should be of the form http://IPaddress or http://FQDN.</span><span class="sxs-lookup"><span data-stu-id="d6b11-158">The IP address/FQDN of the Proxy server should be of the form http://IPaddress or http://FQDN.</span></span> <span data-ttu-id="d6b11-159">Only http proxy is supported.</span><span class="sxs-lookup"><span data-stu-id="d6b11-159">Only http proxy is supported.</span></span>

> [!NOTE]
> <span data-ttu-id="d6b11-160">HTTPS-based proxy servers are not supported by the collector.</span><span class="sxs-lookup"><span data-stu-id="d6b11-160">HTTPS-based proxy servers are not supported by the collector.</span></span>

#### <a name="internet-connectivity-with-intercepting-proxy"></a><span data-ttu-id="d6b11-161">Internet connectivity with intercepting proxy</span><span class="sxs-lookup"><span data-stu-id="d6b11-161">Internet connectivity with intercepting proxy</span></span>

<span data-ttu-id="d6b11-162">If the proxy server you use to connect to the internet is an intercepting proxy, you are required to import the proxy certificate into your collector VM.</span><span class="sxs-lookup"><span data-stu-id="d6b11-162">If the proxy server you use to connect to the internet is an intercepting proxy, you are required to import the proxy certificate into your collector VM.</span></span> <span data-ttu-id="d6b11-163">Following are steps on how you can import the certificate into the collector VM.</span><span class="sxs-lookup"><span data-stu-id="d6b11-163">Following are steps on how you can import the certificate into the collector VM.</span></span>

1. <span data-ttu-id="d6b11-164">In the collector VM, go to **Start Menu** and find and open **Manage computer certificates**.</span><span class="sxs-lookup"><span data-stu-id="d6b11-164">In the collector VM, go to **Start Menu** and find and open **Manage computer certificates**.</span></span>
2. <span data-ttu-id="d6b11-165">In the Certificates tool, on the left pane, under **Certificates - Local Computer**, find **Trusted Publishers**.</span><span class="sxs-lookup"><span data-stu-id="d6b11-165">In the Certificates tool, on the left pane, under **Certificates - Local Computer**, find **Trusted Publishers**.</span></span> <span data-ttu-id="d6b11-166">Under **Trusted Publishers**, click **Certificates** to see the list of certificates in the pane on the right.</span><span class="sxs-lookup"><span data-stu-id="d6b11-166">Under **Trusted Publishers**, click **Certificates** to see the list of certificates in the pane on the right.</span></span>

    ![Certificates tool](./media/concepts-intercepting-proxy/certificates-tool.png)

3. <span data-ttu-id="d6b11-168">Copy your proxy certificate on to the collector VM.</span><span class="sxs-lookup"><span data-stu-id="d6b11-168">Copy your proxy certificate on to the collector VM.</span></span> <span data-ttu-id="d6b11-169">You may have to reach out to the network administrator team in your organization to obtain this certificate.</span><span class="sxs-lookup"><span data-stu-id="d6b11-169">You may have to reach out to the network administrator team in your organization to obtain this certificate.</span></span>
4. <span data-ttu-id="d6b11-170">Double-click on the certificate to open it.</span><span class="sxs-lookup"><span data-stu-id="d6b11-170">Double-click on the certificate to open it.</span></span> <span data-ttu-id="d6b11-171">Click **Install Certificate**.</span><span class="sxs-lookup"><span data-stu-id="d6b11-171">Click **Install Certificate**.</span></span> <span data-ttu-id="d6b11-172">This will take you to the Certificate Import wizard.</span><span class="sxs-lookup"><span data-stu-id="d6b11-172">This will take you to the Certificate Import wizard.</span></span>
5. <span data-ttu-id="d6b11-173">On the Certificate Import Wizard, for Store Location, choose **Local Machine**.</span><span class="sxs-lookup"><span data-stu-id="d6b11-173">On the Certificate Import Wizard, for Store Location, choose **Local Machine**.</span></span> <span data-ttu-id="d6b11-174">**Click Next**.</span><span class="sxs-lookup"><span data-stu-id="d6b11-174">**Click Next**.</span></span>

    ![Certificate store location](./media/concepts-intercepting-proxy/certificate-store-location.png)

6. <span data-ttu-id="d6b11-176">Choose the option to **Place all certificates in the following store**.</span><span class="sxs-lookup"><span data-stu-id="d6b11-176">Choose the option to **Place all certificates in the following store**.</span></span> <span data-ttu-id="d6b11-177">Click **Browse** and select **Trusted Publishers** from the list of certificates that come up.</span><span class="sxs-lookup"><span data-stu-id="d6b11-177">Click **Browse** and select **Trusted Publishers** from the list of certificates that come up.</span></span> <span data-ttu-id="d6b11-178">Click **Next**.</span><span class="sxs-lookup"><span data-stu-id="d6b11-178">Click **Next**.</span></span>

    ![Certificates store](./media/concepts-intercepting-proxy/certificate-store.png)

7. <span data-ttu-id="d6b11-180">Click **Finish**.</span><span class="sxs-lookup"><span data-stu-id="d6b11-180">Click **Finish**.</span></span> <span data-ttu-id="d6b11-181">This will import the certificate.</span><span class="sxs-lookup"><span data-stu-id="d6b11-181">This will import the certificate.</span></span>
8. <span data-ttu-id="d6b11-182">Optionally, you can verify the certificate is imported by opening the Certificates tool as in step 1 and 2 above.</span><span class="sxs-lookup"><span data-stu-id="d6b11-182">Optionally, you can verify the certificate is imported by opening the Certificates tool as in step 1 and 2 above.</span></span>
9. <span data-ttu-id="d6b11-183">On the Azure Migrate collector app, verify the internet connectivity prerequisite check is successful.</span><span class="sxs-lookup"><span data-stu-id="d6b11-183">On the Azure Migrate collector app, verify the internet connectivity prerequisite check is successful.</span></span>


#### <a name="whitelisting-urls-for-internet-connection"></a><span data-ttu-id="d6b11-184">Whitelisting URLs for internet connection</span><span class="sxs-lookup"><span data-stu-id="d6b11-184">Whitelisting URLs for internet connection</span></span>

<span data-ttu-id="d6b11-185">The pre-requisite check is successful if the Collector can connect to the internet via the provided settings.</span><span class="sxs-lookup"><span data-stu-id="d6b11-185">The pre-requisite check is successful if the Collector can connect to the internet via the provided settings.</span></span> <span data-ttu-id="d6b11-186">The connectivity check is validated by connecting to a list of URLs as given in the following table.</span><span class="sxs-lookup"><span data-stu-id="d6b11-186">The connectivity check is validated by connecting to a list of URLs as given in the following table.</span></span> <span data-ttu-id="d6b11-187">If you are using any URL-based firewall proxy to control outbound connectivity, be sure to whitelist these required URLs:</span><span class="sxs-lookup"><span data-stu-id="d6b11-187">If you are using any URL-based firewall proxy to control outbound connectivity, be sure to whitelist these required URLs:</span></span>

<span data-ttu-id="d6b11-188">**URL**</span><span class="sxs-lookup"><span data-stu-id="d6b11-188">**URL**</span></span> | <span data-ttu-id="d6b11-189">**Purpose**</span><span class="sxs-lookup"><span data-stu-id="d6b11-189">**Purpose**</span></span>  
--- | ---
<span data-ttu-id="d6b11-190">\*.portal.azure.com</span><span class="sxs-lookup"><span data-stu-id="d6b11-190">\*.portal.azure.com</span></span> | <span data-ttu-id="d6b11-191">Required to check connectivity with the Azure service and validate time synchronization issues.</span><span class="sxs-lookup"><span data-stu-id="d6b11-191">Required to check connectivity with the Azure service and validate time synchronization issues.</span></span>

<span data-ttu-id="d6b11-192">Additionally, the check also tries to validate connectivity to the following URLs but does not fail the check if not accessible.</span><span class="sxs-lookup"><span data-stu-id="d6b11-192">Additionally, the check also tries to validate connectivity to the following URLs but does not fail the check if not accessible.</span></span> <span data-ttu-id="d6b11-193">Configuring whitelist for the following URLs is optional, but you need to take manual steps to mitigate the pre-requisite check.</span><span class="sxs-lookup"><span data-stu-id="d6b11-193">Configuring whitelist for the following URLs is optional, but you need to take manual steps to mitigate the pre-requisite check.</span></span>

<span data-ttu-id="d6b11-194">**URL**</span><span class="sxs-lookup"><span data-stu-id="d6b11-194">**URL**</span></span> | <span data-ttu-id="d6b11-195">**Purpose**</span><span class="sxs-lookup"><span data-stu-id="d6b11-195">**Purpose**</span></span>  | <span data-ttu-id="d6b11-196">**What if you don't whitelist**</span><span class="sxs-lookup"><span data-stu-id="d6b11-196">**What if you don't whitelist**</span></span>
--- | --- | ---
<span data-ttu-id="d6b11-197">\*.oneget.org:443</span><span class="sxs-lookup"><span data-stu-id="d6b11-197">\*.oneget.org:443</span></span> | <span data-ttu-id="d6b11-198">Required to download the powershell based vCenter PowerCLI module.</span><span class="sxs-lookup"><span data-stu-id="d6b11-198">Required to download the powershell based vCenter PowerCLI module.</span></span> | <span data-ttu-id="d6b11-199">PowerCLI installation fails.</span><span class="sxs-lookup"><span data-stu-id="d6b11-199">PowerCLI installation fails.</span></span> <span data-ttu-id="d6b11-200">Install the module manually.</span><span class="sxs-lookup"><span data-stu-id="d6b11-200">Install the module manually.</span></span>
<span data-ttu-id="d6b11-201">\*.windows.net:443</span><span class="sxs-lookup"><span data-stu-id="d6b11-201">\*.windows.net:443</span></span> | <span data-ttu-id="d6b11-202">Required to download the powershell based vCenter PowerCLI module.</span><span class="sxs-lookup"><span data-stu-id="d6b11-202">Required to download the powershell based vCenter PowerCLI module.</span></span> | <span data-ttu-id="d6b11-203">PowerCLI installation fails.</span><span class="sxs-lookup"><span data-stu-id="d6b11-203">PowerCLI installation fails.</span></span> <span data-ttu-id="d6b11-204">Install the module manually.</span><span class="sxs-lookup"><span data-stu-id="d6b11-204">Install the module manually.</span></span>
<span data-ttu-id="d6b11-205">\*.windowsazure.com:443</span><span class="sxs-lookup"><span data-stu-id="d6b11-205">\*.windowsazure.com:443</span></span> | <span data-ttu-id="d6b11-206">Required to download the powershell based vCenter PowerCLI module.</span><span class="sxs-lookup"><span data-stu-id="d6b11-206">Required to download the powershell based vCenter PowerCLI module.</span></span> | <span data-ttu-id="d6b11-207">PowerCLI installation fails.</span><span class="sxs-lookup"><span data-stu-id="d6b11-207">PowerCLI installation fails.</span></span> <span data-ttu-id="d6b11-208">Install the module manually.</span><span class="sxs-lookup"><span data-stu-id="d6b11-208">Install the module manually.</span></span>
<span data-ttu-id="d6b11-209">\*.powershellgallery.com:443</span><span class="sxs-lookup"><span data-stu-id="d6b11-209">\*.powershellgallery.com:443</span></span> | <span data-ttu-id="d6b11-210">Required to download the powershell based vCenter PowerCLI module.</span><span class="sxs-lookup"><span data-stu-id="d6b11-210">Required to download the powershell based vCenter PowerCLI module.</span></span> | <span data-ttu-id="d6b11-211">PowerCLI installation fails.</span><span class="sxs-lookup"><span data-stu-id="d6b11-211">PowerCLI installation fails.</span></span> <span data-ttu-id="d6b11-212">Install the module manually.</span><span class="sxs-lookup"><span data-stu-id="d6b11-212">Install the module manually.</span></span>
<span data-ttu-id="d6b11-213">\*.msecnd.net:443</span><span class="sxs-lookup"><span data-stu-id="d6b11-213">\*.msecnd.net:443</span></span> | <span data-ttu-id="d6b11-214">Required to download the powershell based vCenter PowerCLI module.</span><span class="sxs-lookup"><span data-stu-id="d6b11-214">Required to download the powershell based vCenter PowerCLI module.</span></span> | <span data-ttu-id="d6b11-215">PowerCLI installation fails.</span><span class="sxs-lookup"><span data-stu-id="d6b11-215">PowerCLI installation fails.</span></span> <span data-ttu-id="d6b11-216">Install the module manually.</span><span class="sxs-lookup"><span data-stu-id="d6b11-216">Install the module manually.</span></span>
<span data-ttu-id="d6b11-217">\*.visualstudio.com:443</span><span class="sxs-lookup"><span data-stu-id="d6b11-217">\*.visualstudio.com:443</span></span> | <span data-ttu-id="d6b11-218">Required to download the powershell based vCenter PowerCLI module.</span><span class="sxs-lookup"><span data-stu-id="d6b11-218">Required to download the powershell based vCenter PowerCLI module.</span></span> | <span data-ttu-id="d6b11-219">PowerCLI installation fails.</span><span class="sxs-lookup"><span data-stu-id="d6b11-219">PowerCLI installation fails.</span></span> <span data-ttu-id="d6b11-220">Install the module manually.</span><span class="sxs-lookup"><span data-stu-id="d6b11-220">Install the module manually.</span></span>

### <a name="time-is-in-sync-with-the-internet-server"></a><span data-ttu-id="d6b11-221">Time is in sync with the internet server</span><span class="sxs-lookup"><span data-stu-id="d6b11-221">Time is in sync with the internet server</span></span>

<span data-ttu-id="d6b11-222">The Collector should be in sync with the internet time server to ensure the requests to the service are authenticated.</span><span class="sxs-lookup"><span data-stu-id="d6b11-222">The Collector should be in sync with the internet time server to ensure the requests to the service are authenticated.</span></span> <span data-ttu-id="d6b11-223">The portal.azure.com url should be reachable from the Collector so that the time can be validated.</span><span class="sxs-lookup"><span data-stu-id="d6b11-223">The portal.azure.com url should be reachable from the Collector so that the time can be validated.</span></span> <span data-ttu-id="d6b11-224">If the machine is out of sync, you need to change the clock time on the Collector VM to match the current time, as follows:</span><span class="sxs-lookup"><span data-stu-id="d6b11-224">If the machine is out of sync, you need to change the clock time on the Collector VM to match the current time, as follows:</span></span>

1. <span data-ttu-id="d6b11-225">Open an admin command prompt on the VM.</span><span class="sxs-lookup"><span data-stu-id="d6b11-225">Open an admin command prompt on the VM.</span></span>
1. <span data-ttu-id="d6b11-226">To check the time zone, run w32tm /tz.</span><span class="sxs-lookup"><span data-stu-id="d6b11-226">To check the time zone, run w32tm /tz.</span></span>
1. <span data-ttu-id="d6b11-227">To synchronize the time, run w32tm /resync.</span><span class="sxs-lookup"><span data-stu-id="d6b11-227">To synchronize the time, run w32tm /resync.</span></span>

### <a name="collector-service-should-be-running"></a><span data-ttu-id="d6b11-228">Collector service should be running</span><span class="sxs-lookup"><span data-stu-id="d6b11-228">Collector service should be running</span></span>

<span data-ttu-id="d6b11-229">The Azure Migrate Collector service should be running on the machine.</span><span class="sxs-lookup"><span data-stu-id="d6b11-229">The Azure Migrate Collector service should be running on the machine.</span></span> <span data-ttu-id="d6b11-230">This service is started automatically when the machine boots.</span><span class="sxs-lookup"><span data-stu-id="d6b11-230">This service is started automatically when the machine boots.</span></span> <span data-ttu-id="d6b11-231">If the service is not running, you can start the *Azure Migrate Collector* service via control panel.</span><span class="sxs-lookup"><span data-stu-id="d6b11-231">If the service is not running, you can start the *Azure Migrate Collector* service via control panel.</span></span> <span data-ttu-id="d6b11-232">The Collector service is responsible to connect to the vCenter server, collect the machine metadata and performance data, and send it to the service.</span><span class="sxs-lookup"><span data-stu-id="d6b11-232">The Collector service is responsible to connect to the vCenter server, collect the machine metadata and performance data, and send it to the service.</span></span>

### <a name="vmware-powercli-65"></a><span data-ttu-id="d6b11-233">VMware PowerCLI 6.5</span><span class="sxs-lookup"><span data-stu-id="d6b11-233">VMware PowerCLI 6.5</span></span>

<span data-ttu-id="d6b11-234">The VMware PowerCLI powershell module needs to be installed so that the Collector can communicate with the vCenter server and query for the machine details and their performance data.</span><span class="sxs-lookup"><span data-stu-id="d6b11-234">The VMware PowerCLI powershell module needs to be installed so that the Collector can communicate with the vCenter server and query for the machine details and their performance data.</span></span> <span data-ttu-id="d6b11-235">The powershell module is automatically downloaded and installed as part of the pre-requisite check.</span><span class="sxs-lookup"><span data-stu-id="d6b11-235">The powershell module is automatically downloaded and installed as part of the pre-requisite check.</span></span> <span data-ttu-id="d6b11-236">Automatic download requires a few URLs whitelisted, failing which you need either provide access by whitelisting them, or installing the module manually.</span><span class="sxs-lookup"><span data-stu-id="d6b11-236">Automatic download requires a few URLs whitelisted, failing which you need either provide access by whitelisting them, or installing the module manually.</span></span>

<span data-ttu-id="d6b11-237">Install the module manually using the following steps:</span><span class="sxs-lookup"><span data-stu-id="d6b11-237">Install the module manually using the following steps:</span></span>

1. <span data-ttu-id="d6b11-238">To install the PowerCli on Collector without internet connection, follow the steps given in [this link](https://blogs.vmware.com/PowerCLI/2017/04/powercli-install-process-powershell-gallery.html) .</span><span class="sxs-lookup"><span data-stu-id="d6b11-238">To install the PowerCli on Collector without internet connection, follow the steps given in [this link](https://blogs.vmware.com/PowerCLI/2017/04/powercli-install-process-powershell-gallery.html) .</span></span>
2. <span data-ttu-id="d6b11-239">Once you have installed the PowerShell module on a different computer, which has internet access, copy the files VMware.\* from that machine to the Collector machine.</span><span class="sxs-lookup"><span data-stu-id="d6b11-239">Once you have installed the PowerShell module on a different computer, which has internet access, copy the files VMware.\* from that machine to the Collector machine.</span></span>
3. <span data-ttu-id="d6b11-240">Restart the prerequisite checks and confirm that PowerCLI is installed.</span><span class="sxs-lookup"><span data-stu-id="d6b11-240">Restart the prerequisite checks and confirm that PowerCLI is installed.</span></span>

## <a name="connecting-to-vcenter-server"></a><span data-ttu-id="d6b11-241">Connecting to vCenter Server</span><span class="sxs-lookup"><span data-stu-id="d6b11-241">Connecting to vCenter Server</span></span>

<span data-ttu-id="d6b11-242">The Collector should connect to the vCenter Server and be able to query for the virtual machines, their metadata, and their performance counters.</span><span class="sxs-lookup"><span data-stu-id="d6b11-242">The Collector should connect to the vCenter Server and be able to query for the virtual machines, their metadata, and their performance counters.</span></span> <span data-ttu-id="d6b11-243">This data is used by the project to calculate an assessment.</span><span class="sxs-lookup"><span data-stu-id="d6b11-243">This data is used by the project to calculate an assessment.</span></span>

1. <span data-ttu-id="d6b11-244">To connect to the vCenter Server, a read-only account with permissions as given in the following table can be used to run the discovery.</span><span class="sxs-lookup"><span data-stu-id="d6b11-244">To connect to the vCenter Server, a read-only account with permissions as given in the following table can be used to run the discovery.</span></span>

    |<span data-ttu-id="d6b11-245">Task</span><span class="sxs-lookup"><span data-stu-id="d6b11-245">Task</span></span>  |<span data-ttu-id="d6b11-246">Required role/account</span><span class="sxs-lookup"><span data-stu-id="d6b11-246">Required role/account</span></span>  |<span data-ttu-id="d6b11-247">Permissions</span><span class="sxs-lookup"><span data-stu-id="d6b11-247">Permissions</span></span>  |
    |---------|---------|---------|
    |<span data-ttu-id="d6b11-248">Collector appliance-based discovery</span><span class="sxs-lookup"><span data-stu-id="d6b11-248">Collector appliance-based discovery</span></span>    | <span data-ttu-id="d6b11-249">You need at least a read-only user</span><span class="sxs-lookup"><span data-stu-id="d6b11-249">You need at least a read-only user</span></span>        |<span data-ttu-id="d6b11-250">Data Center object –> Propagate to Child Object, role=Read-only</span><span class="sxs-lookup"><span data-stu-id="d6b11-250">Data Center object –> Propagate to Child Object, role=Read-only</span></span>         |

2. <span data-ttu-id="d6b11-251">Only those datacenters that are accessible to the vCenter account specified can be accessed for discovery.</span><span class="sxs-lookup"><span data-stu-id="d6b11-251">Only those datacenters that are accessible to the vCenter account specified can be accessed for discovery.</span></span>
3. <span data-ttu-id="d6b11-252">You need to specify the vCenter FQDN/IP address to connect to the vCenter server.</span><span class="sxs-lookup"><span data-stu-id="d6b11-252">You need to specify the vCenter FQDN/IP address to connect to the vCenter server.</span></span> <span data-ttu-id="d6b11-253">By default, it will connect over the port 443.</span><span class="sxs-lookup"><span data-stu-id="d6b11-253">By default, it will connect over the port 443.</span></span> <span data-ttu-id="d6b11-254">If you have configured the vCenter to listen on a different port number, you can specify it as part of the server address in the form  IPAddress:Port_Number or FQDN:Port_Number.</span><span class="sxs-lookup"><span data-stu-id="d6b11-254">If you have configured the vCenter to listen on a different port number, you can specify it as part of the server address in the form  IPAddress:Port_Number or FQDN:Port_Number.</span></span>
4. <span data-ttu-id="d6b11-255">The statistics settings for vCenter Server should be set to level 3 before you start deployment.</span><span class="sxs-lookup"><span data-stu-id="d6b11-255">The statistics settings for vCenter Server should be set to level 3 before you start deployment.</span></span> <span data-ttu-id="d6b11-256">If the level is lower than 3, the discovery will complete, but performance data for storage and network won't be collected.</span><span class="sxs-lookup"><span data-stu-id="d6b11-256">If the level is lower than 3, the discovery will complete, but performance data for storage and network won't be collected.</span></span> <span data-ttu-id="d6b11-257">The assessment size recommendations in this case will be based on performance data for CPU and memory, and only configuration data for disk and network adapters.</span><span class="sxs-lookup"><span data-stu-id="d6b11-257">The assessment size recommendations in this case will be based on performance data for CPU and memory, and only configuration data for disk and network adapters.</span></span> <span data-ttu-id="d6b11-258">[Read more](./concepts-collector.md) on what data is collected and how it impacts the assessment.</span><span class="sxs-lookup"><span data-stu-id="d6b11-258">[Read more](./concepts-collector.md) on what data is collected and how it impacts the assessment.</span></span>
5. <span data-ttu-id="d6b11-259">The Collector should have a network line of sight to the vCenter server.</span><span class="sxs-lookup"><span data-stu-id="d6b11-259">The Collector should have a network line of sight to the vCenter server.</span></span>

> [!NOTE]
> <span data-ttu-id="d6b11-260">Only vCenter Server versions 5.5, 6.0 and 6.5 are officially supported.</span><span class="sxs-lookup"><span data-stu-id="d6b11-260">Only vCenter Server versions 5.5, 6.0 and 6.5 are officially supported.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d6b11-261">We recommend that you set the highest common level (3) for the statistics level so that all the counters are collected correctly.</span><span class="sxs-lookup"><span data-stu-id="d6b11-261">We recommend that you set the highest common level (3) for the statistics level so that all the counters are collected correctly.</span></span> <span data-ttu-id="d6b11-262">If you have vCenter set at a lower level, only a few counters might be collected completely, with the rest set to 0.</span><span class="sxs-lookup"><span data-stu-id="d6b11-262">If you have vCenter set at a lower level, only a few counters might be collected completely, with the rest set to 0.</span></span> <span data-ttu-id="d6b11-263">The assessment might then show incomplete data.</span><span class="sxs-lookup"><span data-stu-id="d6b11-263">The assessment might then show incomplete data.</span></span>

### <a name="selecting-the-scope-for-discovery"></a><span data-ttu-id="d6b11-264">Selecting the scope for discovery</span><span class="sxs-lookup"><span data-stu-id="d6b11-264">Selecting the scope for discovery</span></span>

<span data-ttu-id="d6b11-265">Once connected to the vCenter, you can select a scope to discover.</span><span class="sxs-lookup"><span data-stu-id="d6b11-265">Once connected to the vCenter, you can select a scope to discover.</span></span> <span data-ttu-id="d6b11-266">Selecting a scope discovers all the virtual machines from the specified vCenter inventory path.</span><span class="sxs-lookup"><span data-stu-id="d6b11-266">Selecting a scope discovers all the virtual machines from the specified vCenter inventory path.</span></span>

1. <span data-ttu-id="d6b11-267">The scope can be either a datacenter, a folder, or a ESXi host.</span><span class="sxs-lookup"><span data-stu-id="d6b11-267">The scope can be either a datacenter, a folder, or a ESXi host.</span></span>
2. <span data-ttu-id="d6b11-268">You can only select one scope at a time.</span><span class="sxs-lookup"><span data-stu-id="d6b11-268">You can only select one scope at a time.</span></span> <span data-ttu-id="d6b11-269">To select more virtual machines, you can complete one discovery, and restart the discovery process with a new scope.</span><span class="sxs-lookup"><span data-stu-id="d6b11-269">To select more virtual machines, you can complete one discovery, and restart the discovery process with a new scope.</span></span>
3. <span data-ttu-id="d6b11-270">You can only select a scope that has *less than 1500 virtual machines*.</span><span class="sxs-lookup"><span data-stu-id="d6b11-270">You can only select a scope that has *less than 1500 virtual machines*.</span></span>

## <a name="specify-migration-project"></a><span data-ttu-id="d6b11-271">Specify migration project</span><span class="sxs-lookup"><span data-stu-id="d6b11-271">Specify migration project</span></span>

<span data-ttu-id="d6b11-272">Once the on-premises vCenter is connected, and a scope is specified, you can now specify the migration project details that need to be used for discovery and assessment.</span><span class="sxs-lookup"><span data-stu-id="d6b11-272">Once the on-premises vCenter is connected, and a scope is specified, you can now specify the migration project details that need to be used for discovery and assessment.</span></span> <span data-ttu-id="d6b11-273">Specify the project ID and Key and connect.</span><span class="sxs-lookup"><span data-stu-id="d6b11-273">Specify the project ID and Key and connect.</span></span>

## <a name="start-discovery-and-view-collection-progress"></a><span data-ttu-id="d6b11-274">Start discovery and view collection progress</span><span class="sxs-lookup"><span data-stu-id="d6b11-274">Start discovery and view collection progress</span></span>

<span data-ttu-id="d6b11-275">Once the discovery starts, the vCenter virtual machines are discovered, and their metadata and performance data is sent to the server.</span><span class="sxs-lookup"><span data-stu-id="d6b11-275">Once the discovery starts, the vCenter virtual machines are discovered, and their metadata and performance data is sent to the server.</span></span> <span data-ttu-id="d6b11-276">The progress status also informs you of the following IDs:</span><span class="sxs-lookup"><span data-stu-id="d6b11-276">The progress status also informs you of the following IDs:</span></span>

1. <span data-ttu-id="d6b11-277">Collector ID: A unique ID that is given to your Collector machine.</span><span class="sxs-lookup"><span data-stu-id="d6b11-277">Collector ID: A unique ID that is given to your Collector machine.</span></span> <span data-ttu-id="d6b11-278">This ID does not change for a given machine across different discoveries.</span><span class="sxs-lookup"><span data-stu-id="d6b11-278">This ID does not change for a given machine across different discoveries.</span></span> <span data-ttu-id="d6b11-279">You can use this ID in case of failures when reporting the issue to Microsoft Support.</span><span class="sxs-lookup"><span data-stu-id="d6b11-279">You can use this ID in case of failures when reporting the issue to Microsoft Support.</span></span>
2. <span data-ttu-id="d6b11-280">Session ID: A unique ID for the running collection job.</span><span class="sxs-lookup"><span data-stu-id="d6b11-280">Session ID: A unique ID for the running collection job.</span></span> <span data-ttu-id="d6b11-281">You can refer to the same session ID in the portal when the discovery job completes.</span><span class="sxs-lookup"><span data-stu-id="d6b11-281">You can refer to the same session ID in the portal when the discovery job completes.</span></span> <span data-ttu-id="d6b11-282">This ID changes for every collection job.</span><span class="sxs-lookup"><span data-stu-id="d6b11-282">This ID changes for every collection job.</span></span> <span data-ttu-id="d6b11-283">In case of failures, you can report this ID to Microsoft Support.</span><span class="sxs-lookup"><span data-stu-id="d6b11-283">In case of failures, you can report this ID to Microsoft Support.</span></span>

### <a name="what-data-is-collected"></a><span data-ttu-id="d6b11-284">What data is collected?</span><span class="sxs-lookup"><span data-stu-id="d6b11-284">What data is collected?</span></span>

<span data-ttu-id="d6b11-285">The collector appliance discovers the following static metadata about the selected virtual machines.</span><span class="sxs-lookup"><span data-stu-id="d6b11-285">The collector appliance discovers the following static metadata about the selected virtual machines.</span></span>

1. <span data-ttu-id="d6b11-286">VM Display name (on vCenter)</span><span class="sxs-lookup"><span data-stu-id="d6b11-286">VM Display name (on vCenter)</span></span>
2. <span data-ttu-id="d6b11-287">VM’s inventory path (host/folder in vCenter)</span><span class="sxs-lookup"><span data-stu-id="d6b11-287">VM’s inventory path (host/folder in vCenter)</span></span>
3. <span data-ttu-id="d6b11-288">IP address</span><span class="sxs-lookup"><span data-stu-id="d6b11-288">IP address</span></span>
4. <span data-ttu-id="d6b11-289">MAC address</span><span class="sxs-lookup"><span data-stu-id="d6b11-289">MAC address</span></span>
5. <span data-ttu-id="d6b11-290">Operating system</span><span class="sxs-lookup"><span data-stu-id="d6b11-290">Operating system</span></span>
5. <span data-ttu-id="d6b11-291">Number of cores, disks, NICs</span><span class="sxs-lookup"><span data-stu-id="d6b11-291">Number of cores, disks, NICs</span></span>
6. <span data-ttu-id="d6b11-292">Memory size, Disk sizes</span><span class="sxs-lookup"><span data-stu-id="d6b11-292">Memory size, Disk sizes</span></span>
7. <span data-ttu-id="d6b11-293">And performance counters of the VM, disk and network as listed in the table below.</span><span class="sxs-lookup"><span data-stu-id="d6b11-293">And performance counters of the VM, disk and network as listed in the table below.</span></span>

<span data-ttu-id="d6b11-294">For on-time discovery model, the following table lists the exact performance counters that are collected, and also lists the assessment results that are impacted if a particular counter is not collected.</span><span class="sxs-lookup"><span data-stu-id="d6b11-294">For on-time discovery model, the following table lists the exact performance counters that are collected, and also lists the assessment results that are impacted if a particular counter is not collected.</span></span>

<span data-ttu-id="d6b11-295">For continuous discovery, the same counters are collected at real time (20 seconds interval), so there is no dependency on vCenter statistics level.</span><span class="sxs-lookup"><span data-stu-id="d6b11-295">For continuous discovery, the same counters are collected at real time (20 seconds interval), so there is no dependency on vCenter statistics level.</span></span> <span data-ttu-id="d6b11-296">The appliance then rolls-up the 20-second samples to create a single data point for every 15 minutes by selecting the peak value from the 20-second samples and sends it to Azure.</span><span class="sxs-lookup"><span data-stu-id="d6b11-296">The appliance then rolls-up the 20-second samples to create a single data point for every 15 minutes by selecting the peak value from the 20-second samples and sends it to Azure.</span></span>

|<span data-ttu-id="d6b11-297">Counter</span><span class="sxs-lookup"><span data-stu-id="d6b11-297">Counter</span></span>                                  |<span data-ttu-id="d6b11-298">Level</span><span class="sxs-lookup"><span data-stu-id="d6b11-298">Level</span></span>    |<span data-ttu-id="d6b11-299">Per-device level</span><span class="sxs-lookup"><span data-stu-id="d6b11-299">Per-device level</span></span>  |<span data-ttu-id="d6b11-300">Assessment impact</span><span class="sxs-lookup"><span data-stu-id="d6b11-300">Assessment impact</span></span>                               |
|-----------------------------------------|---------|------------------|------------------------------------------------|
|<span data-ttu-id="d6b11-301">cpu.usage.average</span><span class="sxs-lookup"><span data-stu-id="d6b11-301">cpu.usage.average</span></span>                        | <span data-ttu-id="d6b11-302">1</span><span class="sxs-lookup"><span data-stu-id="d6b11-302">1</span></span>       |<span data-ttu-id="d6b11-303">NA</span><span class="sxs-lookup"><span data-stu-id="d6b11-303">NA</span></span>                |<span data-ttu-id="d6b11-304">Recommended VM size and cost</span><span class="sxs-lookup"><span data-stu-id="d6b11-304">Recommended VM size and cost</span></span>                    |
|<span data-ttu-id="d6b11-305">mem.usage.average</span><span class="sxs-lookup"><span data-stu-id="d6b11-305">mem.usage.average</span></span>                        | <span data-ttu-id="d6b11-306">1</span><span class="sxs-lookup"><span data-stu-id="d6b11-306">1</span></span>       |<span data-ttu-id="d6b11-307">NA</span><span class="sxs-lookup"><span data-stu-id="d6b11-307">NA</span></span>                |<span data-ttu-id="d6b11-308">Recommended VM size and cost</span><span class="sxs-lookup"><span data-stu-id="d6b11-308">Recommended VM size and cost</span></span>                    |
|<span data-ttu-id="d6b11-309">virtualDisk.read.average</span><span class="sxs-lookup"><span data-stu-id="d6b11-309">virtualDisk.read.average</span></span>                 | <span data-ttu-id="d6b11-310">2</span><span class="sxs-lookup"><span data-stu-id="d6b11-310">2</span></span>       |<span data-ttu-id="d6b11-311">2</span><span class="sxs-lookup"><span data-stu-id="d6b11-311">2</span></span>                 |<span data-ttu-id="d6b11-312">Disk size, storage cost, and VM size</span><span class="sxs-lookup"><span data-stu-id="d6b11-312">Disk size, storage cost, and VM size</span></span>         |
|<span data-ttu-id="d6b11-313">virtualDisk.write.average</span><span class="sxs-lookup"><span data-stu-id="d6b11-313">virtualDisk.write.average</span></span>                | <span data-ttu-id="d6b11-314">2</span><span class="sxs-lookup"><span data-stu-id="d6b11-314">2</span></span>       |<span data-ttu-id="d6b11-315">2</span><span class="sxs-lookup"><span data-stu-id="d6b11-315">2</span></span>                 |<span data-ttu-id="d6b11-316">Disk size, storage cost, and VM size</span><span class="sxs-lookup"><span data-stu-id="d6b11-316">Disk size, storage cost, and VM size</span></span>         |
|<span data-ttu-id="d6b11-317">virtualDisk.numberReadAveraged.average</span><span class="sxs-lookup"><span data-stu-id="d6b11-317">virtualDisk.numberReadAveraged.average</span></span>   | <span data-ttu-id="d6b11-318">1</span><span class="sxs-lookup"><span data-stu-id="d6b11-318">1</span></span>       |<span data-ttu-id="d6b11-319">3</span><span class="sxs-lookup"><span data-stu-id="d6b11-319">3</span></span>                 |<span data-ttu-id="d6b11-320">Disk size, storage cost, and VM size</span><span class="sxs-lookup"><span data-stu-id="d6b11-320">Disk size, storage cost, and VM size</span></span>         |
|<span data-ttu-id="d6b11-321">virtualDisk.numberWriteAveraged.average</span><span class="sxs-lookup"><span data-stu-id="d6b11-321">virtualDisk.numberWriteAveraged.average</span></span>  | <span data-ttu-id="d6b11-322">1</span><span class="sxs-lookup"><span data-stu-id="d6b11-322">1</span></span>       |<span data-ttu-id="d6b11-323">3</span><span class="sxs-lookup"><span data-stu-id="d6b11-323">3</span></span>                 |<span data-ttu-id="d6b11-324">Disk size, storage cost, and VM size</span><span class="sxs-lookup"><span data-stu-id="d6b11-324">Disk size, storage cost, and VM size</span></span>         |
|<span data-ttu-id="d6b11-325">net.received.average</span><span class="sxs-lookup"><span data-stu-id="d6b11-325">net.received.average</span></span>                     | <span data-ttu-id="d6b11-326">2</span><span class="sxs-lookup"><span data-stu-id="d6b11-326">2</span></span>       |<span data-ttu-id="d6b11-327">3</span><span class="sxs-lookup"><span data-stu-id="d6b11-327">3</span></span>                 |<span data-ttu-id="d6b11-328">VM size and network cost</span><span class="sxs-lookup"><span data-stu-id="d6b11-328">VM size and network cost</span></span>                        |
|<span data-ttu-id="d6b11-329">net.transmitted.average</span><span class="sxs-lookup"><span data-stu-id="d6b11-329">net.transmitted.average</span></span>                  | <span data-ttu-id="d6b11-330">2</span><span class="sxs-lookup"><span data-stu-id="d6b11-330">2</span></span>       |<span data-ttu-id="d6b11-331">3</span><span class="sxs-lookup"><span data-stu-id="d6b11-331">3</span></span>                 |<span data-ttu-id="d6b11-332">VM size and network cost</span><span class="sxs-lookup"><span data-stu-id="d6b11-332">VM size and network cost</span></span>                        |

> [!WARNING]
> <span data-ttu-id="d6b11-333">For one-time discovery, if you have just set a higher statistics level, it will take up to a day to generate the performance counters.</span><span class="sxs-lookup"><span data-stu-id="d6b11-333">For one-time discovery, if you have just set a higher statistics level, it will take up to a day to generate the performance counters.</span></span> <span data-ttu-id="d6b11-334">So, we recommend that you run the discovery after one day.</span><span class="sxs-lookup"><span data-stu-id="d6b11-334">So, we recommend that you run the discovery after one day.</span></span> <span data-ttu-id="d6b11-335">For the continuous discovery model, wait for at least a day after starting discovery for the appliance to profile the environment and then create assessments.</span><span class="sxs-lookup"><span data-stu-id="d6b11-335">For the continuous discovery model, wait for at least a day after starting discovery for the appliance to profile the environment and then create assessments.</span></span>

### <a name="time-required-to-complete-the-collection"></a><span data-ttu-id="d6b11-336">Time required to complete the collection</span><span class="sxs-lookup"><span data-stu-id="d6b11-336">Time required to complete the collection</span></span>

<span data-ttu-id="d6b11-337">**One-time discovery**</span><span class="sxs-lookup"><span data-stu-id="d6b11-337">**One-time discovery**</span></span>

<span data-ttu-id="d6b11-338">In this model, the collector collects configuration and performance history of VMs from vCenter Server and sends it to the project.</span><span class="sxs-lookup"><span data-stu-id="d6b11-338">In this model, the collector collects configuration and performance history of VMs from vCenter Server and sends it to the project.</span></span> <span data-ttu-id="d6b11-339">The appliance in this case is not continuously connected to the project.</span><span class="sxs-lookup"><span data-stu-id="d6b11-339">The appliance in this case is not continuously connected to the project.</span></span> <span data-ttu-id="d6b11-340">Based on the number of virtual machines in the selected scope, it takes up to 15 minutes to send the configuration metadata to the project.</span><span class="sxs-lookup"><span data-stu-id="d6b11-340">Based on the number of virtual machines in the selected scope, it takes up to 15 minutes to send the configuration metadata to the project.</span></span> <span data-ttu-id="d6b11-341">Once the configuration metadata is available on the portal, you can see the list of machines in the portal and start creating groups.</span><span class="sxs-lookup"><span data-stu-id="d6b11-341">Once the configuration metadata is available on the portal, you can see the list of machines in the portal and start creating groups.</span></span> <span data-ttu-id="d6b11-342">Once the configuration data is collected, it can take up to one hour for the performance data to be available on the portal, based on the number of virtual machines in the selected scope.</span><span class="sxs-lookup"><span data-stu-id="d6b11-342">Once the configuration data is collected, it can take up to one hour for the performance data to be available on the portal, based on the number of virtual machines in the selected scope.</span></span>

<span data-ttu-id="d6b11-343">**Continuous discovery**</span><span class="sxs-lookup"><span data-stu-id="d6b11-343">**Continuous discovery**</span></span>

<span data-ttu-id="d6b11-344">In this model, the configuration data of the on-premises VMs is available after 1 hour of triggering discovery and performance data starts becoming available after 2 hours.</span><span class="sxs-lookup"><span data-stu-id="d6b11-344">In this model, the configuration data of the on-premises VMs is available after 1 hour of triggering discovery and performance data starts becoming available after 2 hours.</span></span> <span data-ttu-id="d6b11-345">Since this is a continuous model, the collector continuously keeps sending performance data to the Azure Migrate project.</span><span class="sxs-lookup"><span data-stu-id="d6b11-345">Since this is a continuous model, the collector continuously keeps sending performance data to the Azure Migrate project.</span></span>

## <a name="locking-down-the-collector-appliance"></a><span data-ttu-id="d6b11-346">Locking down the collector appliance</span><span class="sxs-lookup"><span data-stu-id="d6b11-346">Locking down the collector appliance</span></span>
<span data-ttu-id="d6b11-347">We recommend running continuous Windows updates on the collector appliance.</span><span class="sxs-lookup"><span data-stu-id="d6b11-347">We recommend running continuous Windows updates on the collector appliance.</span></span> <span data-ttu-id="d6b11-348">If a collector is not updated for 60 days, the collector will start auto-shutting down the machine.</span><span class="sxs-lookup"><span data-stu-id="d6b11-348">If a collector is not updated for 60 days, the collector will start auto-shutting down the machine.</span></span> <span data-ttu-id="d6b11-349">If a discovery is running, the machine will not be turned off, even if it is past its 60-day period.</span><span class="sxs-lookup"><span data-stu-id="d6b11-349">If a discovery is running, the machine will not be turned off, even if it is past its 60-day period.</span></span> <span data-ttu-id="d6b11-350">Post the discovery job completes, the machine will be turned off.</span><span class="sxs-lookup"><span data-stu-id="d6b11-350">Post the discovery job completes, the machine will be turned off.</span></span> <span data-ttu-id="d6b11-351">If you are using the collector for more than 45 days, we recommend keeping the machine updated at all times by running Windows update.</span><span class="sxs-lookup"><span data-stu-id="d6b11-351">If you are using the collector for more than 45 days, we recommend keeping the machine updated at all times by running Windows update.</span></span>

<span data-ttu-id="d6b11-352">We also recommend the following steps to secure your appliance</span><span class="sxs-lookup"><span data-stu-id="d6b11-352">We also recommend the following steps to secure your appliance</span></span>
1. <span data-ttu-id="d6b11-353">Do not share or misplace administrator passwords with unauthorized parties.</span><span class="sxs-lookup"><span data-stu-id="d6b11-353">Do not share or misplace administrator passwords with unauthorized parties.</span></span>
2. <span data-ttu-id="d6b11-354">Shut down the appliance when not in use.</span><span class="sxs-lookup"><span data-stu-id="d6b11-354">Shut down the appliance when not in use.</span></span>
3. <span data-ttu-id="d6b11-355">Place the appliance in a secured network.</span><span class="sxs-lookup"><span data-stu-id="d6b11-355">Place the appliance in a secured network.</span></span>
4. <span data-ttu-id="d6b11-356">Once the migration work is complete, delete the appliance instance.</span><span class="sxs-lookup"><span data-stu-id="d6b11-356">Once the migration work is complete, delete the appliance instance.</span></span> <span data-ttu-id="d6b11-357">Be sure to also delete the disk backing files (VMDKs), as the disks may have vCenter credentials cached on them.</span><span class="sxs-lookup"><span data-stu-id="d6b11-357">Be sure to also delete the disk backing files (VMDKs), as the disks may have vCenter credentials cached on them.</span></span>

## <a name="how-to-upgrade-collector"></a><span data-ttu-id="d6b11-358">How to upgrade Collector</span><span class="sxs-lookup"><span data-stu-id="d6b11-358">How to upgrade Collector</span></span>

<span data-ttu-id="d6b11-359">You can upgrade the Collector to the latest version without downloading the OVA once again.</span><span class="sxs-lookup"><span data-stu-id="d6b11-359">You can upgrade the Collector to the latest version without downloading the OVA once again.</span></span>

1. <span data-ttu-id="d6b11-360">Download the latest [upgrade package](https://aka.ms/migrate/col/upgrade_9_14) (version 1.0.9.14).</span><span class="sxs-lookup"><span data-stu-id="d6b11-360">Download the latest [upgrade package](https://aka.ms/migrate/col/upgrade_9_14) (version 1.0.9.14).</span></span>
2. <span data-ttu-id="d6b11-361">To ensure that the downloaded hotfix is secure, open Administrator command window and run the following command to generate the hash for the ZIP file.</span><span class="sxs-lookup"><span data-stu-id="d6b11-361">To ensure that the downloaded hotfix is secure, open Administrator command window and run the following command to generate the hash for the ZIP file.</span></span> <span data-ttu-id="d6b11-362">The generated hash should match with the hash mentioned against the specific version:</span><span class="sxs-lookup"><span data-stu-id="d6b11-362">The generated hash should match with the hash mentioned against the specific version:</span></span>

    ```C:\>CertUtil -HashFile <file_location> [Hashing Algorithm]```

    <span data-ttu-id="d6b11-363">(example usage C:\>CertUtil -HashFile C:\AzureMigrate\CollectorUpdate_release_1.0.9.14.zip SHA256)</span><span class="sxs-lookup"><span data-stu-id="d6b11-363">(example usage C:\>CertUtil -HashFile C:\AzureMigrate\CollectorUpdate_release_1.0.9.14.zip SHA256)</span></span>
3. <span data-ttu-id="d6b11-364">Copy the zip file to the Azure Migrate collector virtual machine (collector appliance).</span><span class="sxs-lookup"><span data-stu-id="d6b11-364">Copy the zip file to the Azure Migrate collector virtual machine (collector appliance).</span></span>
4. <span data-ttu-id="d6b11-365">Right-click on the zip file and select Extract All.</span><span class="sxs-lookup"><span data-stu-id="d6b11-365">Right-click on the zip file and select Extract All.</span></span>
5. <span data-ttu-id="d6b11-366">Right-click on Setup.ps1 and select Run with PowerShell and follow the instructions on screen to install the update.</span><span class="sxs-lookup"><span data-stu-id="d6b11-366">Right-click on Setup.ps1 and select Run with PowerShell and follow the instructions on screen to install the update.</span></span>

### <a name="list-of-updates"></a><span data-ttu-id="d6b11-367">List of updates</span><span class="sxs-lookup"><span data-stu-id="d6b11-367">List of updates</span></span>

#### <a name="upgrade-to-version-10914"></a><span data-ttu-id="d6b11-368">Upgrade to version 1.0.9.14</span><span class="sxs-lookup"><span data-stu-id="d6b11-368">Upgrade to version 1.0.9.14</span></span>

<span data-ttu-id="d6b11-369">Hash values for upgrade [package 1.0.9.14](https://aka.ms/migrate/col/upgrade_9_14)</span><span class="sxs-lookup"><span data-stu-id="d6b11-369">Hash values for upgrade [package 1.0.9.14](https://aka.ms/migrate/col/upgrade_9_14)</span></span>

<span data-ttu-id="d6b11-370">**Algorithm**</span><span class="sxs-lookup"><span data-stu-id="d6b11-370">**Algorithm**</span></span> | <span data-ttu-id="d6b11-371">**Hash value**</span><span class="sxs-lookup"><span data-stu-id="d6b11-371">**Hash value**</span></span>
--- | ---
<span data-ttu-id="d6b11-372">MD5</span><span class="sxs-lookup"><span data-stu-id="d6b11-372">MD5</span></span> | <span data-ttu-id="d6b11-373">c5bf029e9fac682c6b85078a61c5c79c</span><span class="sxs-lookup"><span data-stu-id="d6b11-373">c5bf029e9fac682c6b85078a61c5c79c</span></span>
<span data-ttu-id="d6b11-374">SHA1</span><span class="sxs-lookup"><span data-stu-id="d6b11-374">SHA1</span></span> | <span data-ttu-id="d6b11-375">af66656951105e42680dfcc3ec3abd3f4da8fdec</span><span class="sxs-lookup"><span data-stu-id="d6b11-375">af66656951105e42680dfcc3ec3abd3f4da8fdec</span></span>
<span data-ttu-id="d6b11-376">SHA256</span><span class="sxs-lookup"><span data-stu-id="d6b11-376">SHA256</span></span> | <span data-ttu-id="d6b11-377">58b685b2707f273aa76f2e1d45f97b0543a8c4d017cd27f0bdb220e6984cc90e</span><span class="sxs-lookup"><span data-stu-id="d6b11-377">58b685b2707f273aa76f2e1d45f97b0543a8c4d017cd27f0bdb220e6984cc90e</span></span>

#### <a name="upgrade-to-version-10913"></a><span data-ttu-id="d6b11-378">Upgrade to version 1.0.9.13</span><span class="sxs-lookup"><span data-stu-id="d6b11-378">Upgrade to version 1.0.9.13</span></span>

<span data-ttu-id="d6b11-379">Hash values for upgrade [package 1.0.9.13](https://aka.ms/migrate/col/upgrade_9_13)</span><span class="sxs-lookup"><span data-stu-id="d6b11-379">Hash values for upgrade [package 1.0.9.13](https://aka.ms/migrate/col/upgrade_9_13)</span></span>

<span data-ttu-id="d6b11-380">**Algorithm**</span><span class="sxs-lookup"><span data-stu-id="d6b11-380">**Algorithm**</span></span> | <span data-ttu-id="d6b11-381">**Hash value**</span><span class="sxs-lookup"><span data-stu-id="d6b11-381">**Hash value**</span></span>
--- | ---
<span data-ttu-id="d6b11-382">MD5</span><span class="sxs-lookup"><span data-stu-id="d6b11-382">MD5</span></span> | <span data-ttu-id="d6b11-383">739f588fe7fb95ce2a9b6b4d0bf9917e</span><span class="sxs-lookup"><span data-stu-id="d6b11-383">739f588fe7fb95ce2a9b6b4d0bf9917e</span></span>
<span data-ttu-id="d6b11-384">SHA1</span><span class="sxs-lookup"><span data-stu-id="d6b11-384">SHA1</span></span> | <span data-ttu-id="d6b11-385">9b3365acad038eb1c62ca2b2de1467cb8eed37f6</span><span class="sxs-lookup"><span data-stu-id="d6b11-385">9b3365acad038eb1c62ca2b2de1467cb8eed37f6</span></span>
<span data-ttu-id="d6b11-386">SHA256</span><span class="sxs-lookup"><span data-stu-id="d6b11-386">SHA256</span></span> | <span data-ttu-id="d6b11-387">7a49fb8286595f39a29085534f29a623ec2edb12a3d76f90c9654b2f69eef87e</span><span class="sxs-lookup"><span data-stu-id="d6b11-387">7a49fb8286595f39a29085534f29a623ec2edb12a3d76f90c9654b2f69eef87e</span></span>

#### <a name="upgrade-to-version-10911"></a><span data-ttu-id="d6b11-388">Upgrade to version 1.0.9.11</span><span class="sxs-lookup"><span data-stu-id="d6b11-388">Upgrade to version 1.0.9.11</span></span>

<span data-ttu-id="d6b11-389">Hash values for upgrade [package 1.0.9.11](https://aka.ms/migrate/col/upgrade_9_11)</span><span class="sxs-lookup"><span data-stu-id="d6b11-389">Hash values for upgrade [package 1.0.9.11](https://aka.ms/migrate/col/upgrade_9_11)</span></span>

<span data-ttu-id="d6b11-390">**Algorithm**</span><span class="sxs-lookup"><span data-stu-id="d6b11-390">**Algorithm**</span></span> | <span data-ttu-id="d6b11-391">**Hash value**</span><span class="sxs-lookup"><span data-stu-id="d6b11-391">**Hash value**</span></span>
--- | ---
<span data-ttu-id="d6b11-392">MD5</span><span class="sxs-lookup"><span data-stu-id="d6b11-392">MD5</span></span> | <span data-ttu-id="d6b11-393">0e36129ac5383b204720df7a56b95a60</span><span class="sxs-lookup"><span data-stu-id="d6b11-393">0e36129ac5383b204720df7a56b95a60</span></span>
<span data-ttu-id="d6b11-394">SHA1</span><span class="sxs-lookup"><span data-stu-id="d6b11-394">SHA1</span></span> | <span data-ttu-id="d6b11-395">aa422ef6aa6b6f8bc88f27727e80272241de1bdf</span><span class="sxs-lookup"><span data-stu-id="d6b11-395">aa422ef6aa6b6f8bc88f27727e80272241de1bdf</span></span>
<span data-ttu-id="d6b11-396">SHA256</span><span class="sxs-lookup"><span data-stu-id="d6b11-396">SHA256</span></span> | <span data-ttu-id="d6b11-397">5f76dbbe40c5ccab3502cc1c5f074e4b4bcbf356d3721fd52fb7ff583ff2b68f</span><span class="sxs-lookup"><span data-stu-id="d6b11-397">5f76dbbe40c5ccab3502cc1c5f074e4b4bcbf356d3721fd52fb7ff583ff2b68f</span></span>

#### <a name="upgrade-to-version-1097"></a><span data-ttu-id="d6b11-398">Upgrade to version 1.0.9.7</span><span class="sxs-lookup"><span data-stu-id="d6b11-398">Upgrade to version 1.0.9.7</span></span>

<span data-ttu-id="d6b11-399">Hash values for upgrade [package 1.0.9.7](https://aka.ms/migrate/col/upgrade_9_7)</span><span class="sxs-lookup"><span data-stu-id="d6b11-399">Hash values for upgrade [package 1.0.9.7](https://aka.ms/migrate/col/upgrade_9_7)</span></span>

<span data-ttu-id="d6b11-400">**Algorithm**</span><span class="sxs-lookup"><span data-stu-id="d6b11-400">**Algorithm**</span></span> | <span data-ttu-id="d6b11-401">**Hash value**</span><span class="sxs-lookup"><span data-stu-id="d6b11-401">**Hash value**</span></span>
--- | ---
<span data-ttu-id="d6b11-402">MD5</span><span class="sxs-lookup"><span data-stu-id="d6b11-402">MD5</span></span> | <span data-ttu-id="d6b11-403">01ccd6bc0281f63f2a672952a2a25363</span><span class="sxs-lookup"><span data-stu-id="d6b11-403">01ccd6bc0281f63f2a672952a2a25363</span></span>
<span data-ttu-id="d6b11-404">SHA1</span><span class="sxs-lookup"><span data-stu-id="d6b11-404">SHA1</span></span> | <span data-ttu-id="d6b11-405">3e6c57523a30d5610acdaa14b833c070bffddbff</span><span class="sxs-lookup"><span data-stu-id="d6b11-405">3e6c57523a30d5610acdaa14b833c070bffddbff</span></span>
<span data-ttu-id="d6b11-406">SHA256</span><span class="sxs-lookup"><span data-stu-id="d6b11-406">SHA256</span></span> | <span data-ttu-id="d6b11-407">e3ee031fb2d47b7881cc5b13750fc7df541028e0a1cc038c796789139aa8e1e6</span><span class="sxs-lookup"><span data-stu-id="d6b11-407">e3ee031fb2d47b7881cc5b13750fc7df541028e0a1cc038c796789139aa8e1e6</span></span>

## <a name="next-steps"></a><span data-ttu-id="d6b11-408">Next steps</span><span class="sxs-lookup"><span data-stu-id="d6b11-408">Next steps</span></span>

[<span data-ttu-id="d6b11-409">Set up an assessment for on-premises VMware VMs</span><span class="sxs-lookup"><span data-stu-id="d6b11-409">Set up an assessment for on-premises VMware VMs</span></span>](tutorial-assessment-vmware.md)
