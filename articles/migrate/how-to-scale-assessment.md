---
title: Scale discovery and assessment by using Azure Migrate | Microsoft Docs
description: Describes how to assess large numbers of on-premises machines by using the Azure Migrate service.
author: rayne-wiselman
ms.service: azure-migrate
ms.topic: conceptual
ms.date: 09/10/2018
ms.author: raynew
ms.openlocfilehash: 5f02393e6c8d5e094443e418b3fe7439d73ff837
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44871135"
---
# <a name="discover-and-assess-a-large-vmware-environment"></a><span data-ttu-id="b3dd4-103">Discover and assess a large VMware environment</span><span class="sxs-lookup"><span data-stu-id="b3dd4-103">Discover and assess a large VMware environment</span></span>

<span data-ttu-id="b3dd4-104">Azure Migrate has a limit of 1500 machines per project, this article describes how to assess large numbers of on-premises virtual machines (VMs) by using [Azure Migrate](migrate-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b3dd4-104">Azure Migrate has a limit of 1500 machines per project, this article describes how to assess large numbers of on-premises virtual machines (VMs) by using [Azure Migrate](migrate-overview.md).</span></span>   

## <a name="prerequisites"></a><span data-ttu-id="b3dd4-105">Prerequisites</span><span class="sxs-lookup"><span data-stu-id="b3dd4-105">Prerequisites</span></span>

- <span data-ttu-id="b3dd4-106">**VMware**: The VMs that you plan to migrate must be managed by vCenter Server version 5.5, 6.0, or 6.5.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-106">**VMware**: The VMs that you plan to migrate must be managed by vCenter Server version 5.5, 6.0, or 6.5.</span></span> <span data-ttu-id="b3dd4-107">Additionally, you need one ESXi host running version 5.0 or later to deploy the collector VM.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-107">Additionally, you need one ESXi host running version 5.0 or later to deploy the collector VM.</span></span>
- <span data-ttu-id="b3dd4-108">**vCenter account**: You need a read-only account to access vCenter Server.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-108">**vCenter account**: You need a read-only account to access vCenter Server.</span></span> <span data-ttu-id="b3dd4-109">Azure Migrate uses this account to discover the on-premises VMs.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-109">Azure Migrate uses this account to discover the on-premises VMs.</span></span>
- <span data-ttu-id="b3dd4-110">**Permissions**: In vCenter Server, you need permissions to create a VM by importing a file in OVA format.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-110">**Permissions**: In vCenter Server, you need permissions to create a VM by importing a file in OVA format.</span></span>
- <span data-ttu-id="b3dd4-111">**Statistics settings**: This requirement is only applicable to the [one-time discovery model](https://docs.microsoft.com/azure/migrate/concepts-collector#discovery-methods).</span><span class="sxs-lookup"><span data-stu-id="b3dd4-111">**Statistics settings**: This requirement is only applicable to the [one-time discovery model](https://docs.microsoft.com/azure/migrate/concepts-collector#discovery-methods).</span></span> <span data-ttu-id="b3dd4-112">For one-time discovery model, the statistics settings for vCenter Server should be set to level 3 before you start deployment.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-112">For one-time discovery model, the statistics settings for vCenter Server should be set to level 3 before you start deployment.</span></span> <span data-ttu-id="b3dd4-113">The statistics level is to be set to 3 for each of the day, week, and month collection intervals.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-113">The statistics level is to be set to 3 for each of the day, week, and month collection intervals.</span></span> <span data-ttu-id="b3dd4-114">If the level is lower than 3 for any of the three collection intervals, the assessment will work, but the performance data for storage and network won't be collected.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-114">If the level is lower than 3 for any of the three collection intervals, the assessment will work, but the performance data for storage and network won't be collected.</span></span> <span data-ttu-id="b3dd4-115">The size recommendations will then be based on performance data for CPU and memory, and configuration data for disk and network adapters.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-115">The size recommendations will then be based on performance data for CPU and memory, and configuration data for disk and network adapters.</span></span>

### <a name="set-up-permissions"></a><span data-ttu-id="b3dd4-116">Set up permissions</span><span class="sxs-lookup"><span data-stu-id="b3dd4-116">Set up permissions</span></span>

<span data-ttu-id="b3dd4-117">Azure Migrate needs access to VMware servers to automatically discover VMs for assessment.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-117">Azure Migrate needs access to VMware servers to automatically discover VMs for assessment.</span></span> <span data-ttu-id="b3dd4-118">The VMware account needs the following permissions:</span><span class="sxs-lookup"><span data-stu-id="b3dd4-118">The VMware account needs the following permissions:</span></span>

- <span data-ttu-id="b3dd4-119">User type: At least a read-only user</span><span class="sxs-lookup"><span data-stu-id="b3dd4-119">User type: At least a read-only user</span></span>
- <span data-ttu-id="b3dd4-120">Permissions: Data Center object –> Propagate to Child Object, role=Read-only</span><span class="sxs-lookup"><span data-stu-id="b3dd4-120">Permissions: Data Center object –> Propagate to Child Object, role=Read-only</span></span>
- <span data-ttu-id="b3dd4-121">Details: User assigned at datacenter level, and has access to all the objects in the datacenter.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-121">Details: User assigned at datacenter level, and has access to all the objects in the datacenter.</span></span>
- <span data-ttu-id="b3dd4-122">To restrict access, assign the No access role with the Propagate to child object, to the child objects (vSphere hosts, datastores, VMs, and networks).</span><span class="sxs-lookup"><span data-stu-id="b3dd4-122">To restrict access, assign the No access role with the Propagate to child object, to the child objects (vSphere hosts, datastores, VMs, and networks).</span></span>

<span data-ttu-id="b3dd4-123">If you're deploying in a tenant environment, here's one way to set this up:</span><span class="sxs-lookup"><span data-stu-id="b3dd4-123">If you're deploying in a tenant environment, here's one way to set this up:</span></span>

1.  <span data-ttu-id="b3dd4-124">Create a user per tenant and using [RBAC](https://docs.microsoft.com/azure/role-based-access-control/role-assignments-portal), assign read-only permissions to all the VMs belonging to a particular tenant.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-124">Create a user per tenant and using [RBAC](https://docs.microsoft.com/azure/role-based-access-control/role-assignments-portal), assign read-only permissions to all the VMs belonging to a particular tenant.</span></span> <span data-ttu-id="b3dd4-125">Then, use those credentials for discovery.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-125">Then, use those credentials for discovery.</span></span> <span data-ttu-id="b3dd4-126">RBAC ensures that the corresponding vCenter user will have access to only tenant-specific VMs.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-126">RBAC ensures that the corresponding vCenter user will have access to only tenant-specific VMs.</span></span>
2. <span data-ttu-id="b3dd4-127">You set up RBAC for different tenant users as described in the following example for User #1 and User #2:</span><span class="sxs-lookup"><span data-stu-id="b3dd4-127">You set up RBAC for different tenant users as described in the following example for User #1 and User #2:</span></span>

    - <span data-ttu-id="b3dd4-128">In **User name** and **Password**, specify the read-only account credentials that the collector will use to discover VMs in</span><span class="sxs-lookup"><span data-stu-id="b3dd4-128">In **User name** and **Password**, specify the read-only account credentials that the collector will use to discover VMs in</span></span>
    - <span data-ttu-id="b3dd4-129">Datacenter1 - give read-only permissions to User #1 and User #2.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-129">Datacenter1 - give read-only permissions to User #1 and User #2.</span></span> <span data-ttu-id="b3dd4-130">Don't propagate those permissions to all child objects, because you'll set permissions on individual VMs.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-130">Don't propagate those permissions to all child objects, because you'll set permissions on individual VMs.</span></span>

      - <span data-ttu-id="b3dd4-131">VM1 (Tenant #1) (read-only permission to User #1)</span><span class="sxs-lookup"><span data-stu-id="b3dd4-131">VM1 (Tenant #1) (read-only permission to User #1)</span></span>
      - <span data-ttu-id="b3dd4-132">VM2 (Tenant #1) (read-only permission to User #1)</span><span class="sxs-lookup"><span data-stu-id="b3dd4-132">VM2 (Tenant #1) (read-only permission to User #1)</span></span>
      - <span data-ttu-id="b3dd4-133">VM3 (Tenant #2) (read-only permission to User #2)</span><span class="sxs-lookup"><span data-stu-id="b3dd4-133">VM3 (Tenant #2) (read-only permission to User #2)</span></span>
      - <span data-ttu-id="b3dd4-134">VM4 (Tenant #2) (read-only permission to User #2)</span><span class="sxs-lookup"><span data-stu-id="b3dd4-134">VM4 (Tenant #2) (read-only permission to User #2)</span></span>

   - <span data-ttu-id="b3dd4-135">If you perform discovery using User #1 credentials, then only VM1 and VM2 will be discovered.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-135">If you perform discovery using User #1 credentials, then only VM1 and VM2 will be discovered.</span></span>

## <a name="plan-your-migration-projects-and-discoveries"></a><span data-ttu-id="b3dd4-136">Plan your migration projects and discoveries</span><span class="sxs-lookup"><span data-stu-id="b3dd4-136">Plan your migration projects and discoveries</span></span>

<span data-ttu-id="b3dd4-137">A single Azure Migrate collector supports discovery from multiple vCenter Servers (one after another) and also supports discovery to multiple migration projects (one after another).</span><span class="sxs-lookup"><span data-stu-id="b3dd4-137">A single Azure Migrate collector supports discovery from multiple vCenter Servers (one after another) and also supports discovery to multiple migration projects (one after another).</span></span>

<span data-ttu-id="b3dd4-138">The collector, in case of one-time discovery, works in a fire and forget model, once a discovery is done, you can use the same collector to collect data from a different vCenter Server or send it to a different migration project.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-138">The collector, in case of one-time discovery, works in a fire and forget model, once a discovery is done, you can use the same collector to collect data from a different vCenter Server or send it to a different migration project.</span></span> <span data-ttu-id="b3dd4-139">In case of continuous discovery, one appliance is connected to a single project only, so you cannot use the same collector to trigger a second discovery.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-139">In case of continuous discovery, one appliance is connected to a single project only, so you cannot use the same collector to trigger a second discovery.</span></span>

<span data-ttu-id="b3dd4-140">Plan your discoveries and assessments based on the following limits:</span><span class="sxs-lookup"><span data-stu-id="b3dd4-140">Plan your discoveries and assessments based on the following limits:</span></span>

| <span data-ttu-id="b3dd4-141">**Entity**</span><span class="sxs-lookup"><span data-stu-id="b3dd4-141">**Entity**</span></span> | <span data-ttu-id="b3dd4-142">**Machine limit**</span><span class="sxs-lookup"><span data-stu-id="b3dd4-142">**Machine limit**</span></span> |
| ---------- | ----------------- |
| <span data-ttu-id="b3dd4-143">Project</span><span class="sxs-lookup"><span data-stu-id="b3dd4-143">Project</span></span>    | <span data-ttu-id="b3dd4-144">1,500</span><span class="sxs-lookup"><span data-stu-id="b3dd4-144">1,500</span></span>             |
| <span data-ttu-id="b3dd4-145">Discovery</span><span class="sxs-lookup"><span data-stu-id="b3dd4-145">Discovery</span></span>  | <span data-ttu-id="b3dd4-146">1,500</span><span class="sxs-lookup"><span data-stu-id="b3dd4-146">1,500</span></span>             |
| <span data-ttu-id="b3dd4-147">Assessment</span><span class="sxs-lookup"><span data-stu-id="b3dd4-147">Assessment</span></span> | <span data-ttu-id="b3dd4-148">1,500</span><span class="sxs-lookup"><span data-stu-id="b3dd4-148">1,500</span></span>             |

<span data-ttu-id="b3dd4-149">Keep these planning considerations in mind:</span><span class="sxs-lookup"><span data-stu-id="b3dd4-149">Keep these planning considerations in mind:</span></span>

- <span data-ttu-id="b3dd4-150">When you do a discovery by using the Azure Migrate collector, you can set the discovery scope to a vCenter Server folder, datacenter, cluster, or host.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-150">When you do a discovery by using the Azure Migrate collector, you can set the discovery scope to a vCenter Server folder, datacenter, cluster, or host.</span></span>
- <span data-ttu-id="b3dd4-151">To do more than one discovery, verify in vCenter Server that the VMs you want to discover are in folders, datacenters, clusters, or hosts that support the limitation of 1,500 machines.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-151">To do more than one discovery, verify in vCenter Server that the VMs you want to discover are in folders, datacenters, clusters, or hosts that support the limitation of 1,500 machines.</span></span>
- <span data-ttu-id="b3dd4-152">We recommend that for assessment purposes, you keep machines with interdependencies within the same project and assessment.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-152">We recommend that for assessment purposes, you keep machines with interdependencies within the same project and assessment.</span></span> <span data-ttu-id="b3dd4-153">In vCenter Server, make sure that dependent machines are in the same folder, datacenter, or cluster for the assessment.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-153">In vCenter Server, make sure that dependent machines are in the same folder, datacenter, or cluster for the assessment.</span></span>

<span data-ttu-id="b3dd4-154">Depending on your scenario, you can split your discoveries as prescribed below:</span><span class="sxs-lookup"><span data-stu-id="b3dd4-154">Depending on your scenario, you can split your discoveries as prescribed below:</span></span>

### <a name="multiple-vcenter-servers-with-less-than-1500-vms"></a><span data-ttu-id="b3dd4-155">Multiple vCenter Servers with less than 1500 VMs</span><span class="sxs-lookup"><span data-stu-id="b3dd4-155">Multiple vCenter Servers with less than 1500 VMs</span></span>
<span data-ttu-id="b3dd4-156">If you have multiple vCenter Servers in your environment, and the total number of virtual machines is less than 1500, you can use the following approach based on your scenario:</span><span class="sxs-lookup"><span data-stu-id="b3dd4-156">If you have multiple vCenter Servers in your environment, and the total number of virtual machines is less than 1500, you can use the following approach based on your scenario:</span></span>

<span data-ttu-id="b3dd4-157">**One-time discovery:** You can use a single collector and a single migration project to discover all the virtual machines across all vCenter Servers.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-157">**One-time discovery:** You can use a single collector and a single migration project to discover all the virtual machines across all vCenter Servers.</span></span> <span data-ttu-id="b3dd4-158">Since the one-time discovery collector discovers one vCenter Server at a time, you can run the same collector against all the vCenter Servers, one after another, and point the collector to the same migration project.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-158">Since the one-time discovery collector discovers one vCenter Server at a time, you can run the same collector against all the vCenter Servers, one after another, and point the collector to the same migration project.</span></span> <span data-ttu-id="b3dd4-159">Once all the discoveries are complete, you can then create assessments for the machines.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-159">Once all the discoveries are complete, you can then create assessments for the machines.</span></span>

<span data-ttu-id="b3dd4-160">**Continuous discovery:** In case of continuous discovery, one appliance can be connected to only a single project.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-160">**Continuous discovery:** In case of continuous discovery, one appliance can be connected to only a single project.</span></span> <span data-ttu-id="b3dd4-161">So you need to deploy one appliance for each of your vCenter Servers and then create one project for each appliance and trigger discoveries accordingly.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-161">So you need to deploy one appliance for each of your vCenter Servers and then create one project for each appliance and trigger discoveries accordingly.</span></span>

### <a name="multiple-vcenter-servers-with-more-than-1500-vms"></a><span data-ttu-id="b3dd4-162">Multiple vCenter Servers with more than 1500 VMs</span><span class="sxs-lookup"><span data-stu-id="b3dd4-162">Multiple vCenter Servers with more than 1500 VMs</span></span>

<span data-ttu-id="b3dd4-163">If you have multiple vCenter Servers with less than 1500 virtual machines per vCenter Server, but more than 1500 VMs across all vCenter Servers, you need to create multiple migration projects (one migration project can hold only 1500 VMs).</span><span class="sxs-lookup"><span data-stu-id="b3dd4-163">If you have multiple vCenter Servers with less than 1500 virtual machines per vCenter Server, but more than 1500 VMs across all vCenter Servers, you need to create multiple migration projects (one migration project can hold only 1500 VMs).</span></span> <span data-ttu-id="b3dd4-164">You can achieve this by creating a migration project per vCenter Server and splitting the discoveries.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-164">You can achieve this by creating a migration project per vCenter Server and splitting the discoveries.</span></span>

<span data-ttu-id="b3dd4-165">**One-time discovery:** You can use a single collector to discover each vCenter Server (one after another).</span><span class="sxs-lookup"><span data-stu-id="b3dd4-165">**One-time discovery:** You can use a single collector to discover each vCenter Server (one after another).</span></span> <span data-ttu-id="b3dd4-166">If you want the discoveries to start at the same time, you can also deploy multiple appliances and run the discoveries in parallel.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-166">If you want the discoveries to start at the same time, you can also deploy multiple appliances and run the discoveries in parallel.</span></span>

<span data-ttu-id="b3dd4-167">**Continuous discovery:** You need to create multiple collector appliances (one for each vCenter Server) and connect each appliance to a project and trigger discovery accordingly.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-167">**Continuous discovery:** You need to create multiple collector appliances (one for each vCenter Server) and connect each appliance to a project and trigger discovery accordingly.</span></span>

### <a name="more-than-1500-machines-in-a-single-vcenter-server"></a><span data-ttu-id="b3dd4-168">More than 1500 machines in a single vCenter Server</span><span class="sxs-lookup"><span data-stu-id="b3dd4-168">More than 1500 machines in a single vCenter Server</span></span>

<span data-ttu-id="b3dd4-169">If you have more than 1500 virtual machines in a single vCenter Server, you need to split the discovery into multiple migration projects.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-169">If you have more than 1500 virtual machines in a single vCenter Server, you need to split the discovery into multiple migration projects.</span></span> <span data-ttu-id="b3dd4-170">To split discoveries, you can leverage the Scope field in the appliance and specify the host, cluster, folder, or datacenter that you want to discover.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-170">To split discoveries, you can leverage the Scope field in the appliance and specify the host, cluster, folder, or datacenter that you want to discover.</span></span> <span data-ttu-id="b3dd4-171">For example, if you have two folders in vCenter Server, one with 1000 VMs (Folder1) and other with 800 VMs (Folder2), you can use the scope field to split the discoveries between these folders.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-171">For example, if you have two folders in vCenter Server, one with 1000 VMs (Folder1) and other with 800 VMs (Folder2), you can use the scope field to split the discoveries between these folders.</span></span>

<span data-ttu-id="b3dd4-172">**One-time discovery:** You can use the same collector to trigger both the discoveries.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-172">**One-time discovery:** You can use the same collector to trigger both the discoveries.</span></span> <span data-ttu-id="b3dd4-173">In the first discovery, you can specify Folder1 as the scope and point it to the first migration project, once the first discovery is complete, you can use the same collector, change its scope to Folder2 and migration project details to the second migration project and do the second discovery.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-173">In the first discovery, you can specify Folder1 as the scope and point it to the first migration project, once the first discovery is complete, you can use the same collector, change its scope to Folder2 and migration project details to the second migration project and do the second discovery.</span></span>

<span data-ttu-id="b3dd4-174">**Continuous discovery:** In this case, you need to create two collector appliances, for the first collector, specify the scope as Folder1 and connect it to the first migration project.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-174">**Continuous discovery:** In this case, you need to create two collector appliances, for the first collector, specify the scope as Folder1 and connect it to the first migration project.</span></span> <span data-ttu-id="b3dd4-175">You can in parallel start the discovery of Folder2 using the second collector appliance and connect it to the second migration project.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-175">You can in parallel start the discovery of Folder2 using the second collector appliance and connect it to the second migration project.</span></span>

### <a name="multi-tenant-environment"></a><span data-ttu-id="b3dd4-176">Multi-tenant environment</span><span class="sxs-lookup"><span data-stu-id="b3dd4-176">Multi-tenant environment</span></span>

<span data-ttu-id="b3dd4-177">If you have an environment that is shared across tenants and you do not want to discover the VMs of one tenant in another tenant's subscription, you can use the Scope field in the collector appliance to scope the discovery.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-177">If you have an environment that is shared across tenants and you do not want to discover the VMs of one tenant in another tenant's subscription, you can use the Scope field in the collector appliance to scope the discovery.</span></span> <span data-ttu-id="b3dd4-178">If the tenants are sharing hosts, create a credential that has read-only access to only the VMs belonging to the specific tenant and then use this credential in the collector appliance and specify the Scope as the host to do the discovery.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-178">If the tenants are sharing hosts, create a credential that has read-only access to only the VMs belonging to the specific tenant and then use this credential in the collector appliance and specify the Scope as the host to do the discovery.</span></span>

## <a name="discover-on-premises-environment"></a><span data-ttu-id="b3dd4-179">Discover on-premises environment</span><span class="sxs-lookup"><span data-stu-id="b3dd4-179">Discover on-premises environment</span></span>

<span data-ttu-id="b3dd4-180">Once you are ready with your plan, you can then start discovery of the on-premises virtual machines:</span><span class="sxs-lookup"><span data-stu-id="b3dd4-180">Once you are ready with your plan, you can then start discovery of the on-premises virtual machines:</span></span>

### <a name="create-a-project"></a><span data-ttu-id="b3dd4-181">Create a project</span><span class="sxs-lookup"><span data-stu-id="b3dd4-181">Create a project</span></span>

<span data-ttu-id="b3dd4-182">Create an Azure Migrate project in accordance with your requirements:</span><span class="sxs-lookup"><span data-stu-id="b3dd4-182">Create an Azure Migrate project in accordance with your requirements:</span></span>

1. <span data-ttu-id="b3dd4-183">In the Azure portal, select **Create a resource**.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-183">In the Azure portal, select **Create a resource**.</span></span>
2. <span data-ttu-id="b3dd4-184">Search for **Azure Migrate**, and select the service **Azure Migrate** in the search results.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-184">Search for **Azure Migrate**, and select the service **Azure Migrate** in the search results.</span></span> <span data-ttu-id="b3dd4-185">Then select **Create**.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-185">Then select **Create**.</span></span>
3. <span data-ttu-id="b3dd4-186">Specify a project name and the Azure subscription for the project.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-186">Specify a project name and the Azure subscription for the project.</span></span>
4. <span data-ttu-id="b3dd4-187">Create a new resource group.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-187">Create a new resource group.</span></span>
5. <span data-ttu-id="b3dd4-188">Specify the location in which you want to create the project, and then select **Create**.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-188">Specify the location in which you want to create the project, and then select **Create**.</span></span> <span data-ttu-id="b3dd4-189">Note that you can still assess your VMs for a different target location.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-189">Note that you can still assess your VMs for a different target location.</span></span> <span data-ttu-id="b3dd4-190">The location specified for the project is used to store the metadata gathered from on-premises VMs.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-190">The location specified for the project is used to store the metadata gathered from on-premises VMs.</span></span>

### <a name="set-up-the-collector-appliance"></a><span data-ttu-id="b3dd4-191">Set up the collector appliance</span><span class="sxs-lookup"><span data-stu-id="b3dd4-191">Set up the collector appliance</span></span>

<span data-ttu-id="b3dd4-192">Azure Migrate creates an on-premises VM known as the collector appliance.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-192">Azure Migrate creates an on-premises VM known as the collector appliance.</span></span> <span data-ttu-id="b3dd4-193">This VM discovers on-premises VMware VMs, and it sends metadata about them to the Azure Migrate service.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-193">This VM discovers on-premises VMware VMs, and it sends metadata about them to the Azure Migrate service.</span></span> <span data-ttu-id="b3dd4-194">To set up the collector appliance, you download an OVA file and import it to the on-premises vCenter Server instance.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-194">To set up the collector appliance, you download an OVA file and import it to the on-premises vCenter Server instance.</span></span>

#### <a name="download-the-collector-appliance"></a><span data-ttu-id="b3dd4-195">Download the collector appliance</span><span class="sxs-lookup"><span data-stu-id="b3dd4-195">Download the collector appliance</span></span>

<span data-ttu-id="b3dd4-196">If you have multiple projects, you need to download the collector appliance only once to vCenter Server.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-196">If you have multiple projects, you need to download the collector appliance only once to vCenter Server.</span></span> <span data-ttu-id="b3dd4-197">After you download and set up the appliance, you run it for each project, and you specify the unique project ID and key.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-197">After you download and set up the appliance, you run it for each project, and you specify the unique project ID and key.</span></span>

1. <span data-ttu-id="b3dd4-198">In the Azure Migrate project, click **Getting Started** > **Discover & Assess** > **Discover Machines**.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-198">In the Azure Migrate project, click **Getting Started** > **Discover & Assess** > **Discover Machines**.</span></span>
2. <span data-ttu-id="b3dd4-199">In **Discover machines**, there are two options available for the appliance, click **Download** to download the appropriate appliance based on your preference.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-199">In **Discover machines**, there are two options available for the appliance, click **Download** to download the appropriate appliance based on your preference.</span></span>

    <span data-ttu-id="b3dd4-200">a.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-200">a.</span></span> <span data-ttu-id="b3dd4-201">**One-time discovery:** The appliance for this model, communicates with vCenter Server to gather metadata about the VMs.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-201">**One-time discovery:** The appliance for this model, communicates with vCenter Server to gather metadata about the VMs.</span></span> <span data-ttu-id="b3dd4-202">For performance data collection of the VMs, it relies on the historical performance data stored in vCenter Server and collects the performance history of last one month.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-202">For performance data collection of the VMs, it relies on the historical performance data stored in vCenter Server and collects the performance history of last one month.</span></span> <span data-ttu-id="b3dd4-203">In this model, Azure Migrate collects average counter (vs. peak counter) for each metric, [learn more] (https://docs.microsoft.com/azure/migrate/concepts-collector#what-data-is-collected).</span><span class="sxs-lookup"><span data-stu-id="b3dd4-203">In this model, Azure Migrate collects average counter (vs. peak counter) for each metric, [learn more] (https://docs.microsoft.com/azure/migrate/concepts-collector#what-data-is-collected).</span></span> <span data-ttu-id="b3dd4-204">Since its a one-time discovery, changes in the on-premises environment are not reflected once the discovery is complete.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-204">Since its a one-time discovery, changes in the on-premises environment are not reflected once the discovery is complete.</span></span> <span data-ttu-id="b3dd4-205">If you want the changes to reflect, you have to do a rediscovery of the same environment to the same project.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-205">If you want the changes to reflect, you have to do a rediscovery of the same environment to the same project.</span></span>

    <span data-ttu-id="b3dd4-206">b.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-206">b.</span></span> <span data-ttu-id="b3dd4-207">**Continuous discovery:** The appliance for this model, continuously profiles the on-premises environment to gather real-time utilization data for each VM.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-207">**Continuous discovery:** The appliance for this model, continuously profiles the on-premises environment to gather real-time utilization data for each VM.</span></span> <span data-ttu-id="b3dd4-208">In this model, peak counters are collected for each metric (CPU utilization, memory utilization etc.).</span><span class="sxs-lookup"><span data-stu-id="b3dd4-208">In this model, peak counters are collected for each metric (CPU utilization, memory utilization etc.).</span></span> <span data-ttu-id="b3dd4-209">This model does not depend on the statistics settings of vCenter Server for performance data collection.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-209">This model does not depend on the statistics settings of vCenter Server for performance data collection.</span></span> <span data-ttu-id="b3dd4-210">You can stop the continuous profiling anytime from the appliance.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-210">You can stop the continuous profiling anytime from the appliance.</span></span>

    > [!NOTE]
    > <span data-ttu-id="b3dd4-211">The continuous discovery functionality is in preview.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-211">The continuous discovery functionality is in preview.</span></span>

3. <span data-ttu-id="b3dd4-212">In **Copy project credentials**, copy the ID and key for the project.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-212">In **Copy project credentials**, copy the ID and key for the project.</span></span> <span data-ttu-id="b3dd4-213">You need these when you configure the collector.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-213">You need these when you configure the collector.</span></span>


#### <a name="verify-the-collector-appliance"></a><span data-ttu-id="b3dd4-214">Verify the collector appliance</span><span class="sxs-lookup"><span data-stu-id="b3dd4-214">Verify the collector appliance</span></span>

<span data-ttu-id="b3dd4-215">Check that the OVA file is secure before you deploy it:</span><span class="sxs-lookup"><span data-stu-id="b3dd4-215">Check that the OVA file is secure before you deploy it:</span></span>

1. <span data-ttu-id="b3dd4-216">On the machine to which you downloaded the file, open an administrator command window.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-216">On the machine to which you downloaded the file, open an administrator command window.</span></span>

2. <span data-ttu-id="b3dd4-217">Run the following command to generate the hash for the OVA:</span><span class="sxs-lookup"><span data-stu-id="b3dd4-217">Run the following command to generate the hash for the OVA:</span></span>

   ```C:\>CertUtil -HashFile <file_location> [Hashing Algorithm]```

   <span data-ttu-id="b3dd4-218">Example usage: ```C:\>CertUtil -HashFile C:\AzureMigrate\AzureMigrate.ova SHA256```</span><span class="sxs-lookup"><span data-stu-id="b3dd4-218">Example usage: ```C:\>CertUtil -HashFile C:\AzureMigrate\AzureMigrate.ova SHA256```</span></span>

3. <span data-ttu-id="b3dd4-219">Make sure that the generated hash matches the following settings.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-219">Make sure that the generated hash matches the following settings.</span></span>

#### <a name="one-time-discovery"></a><span data-ttu-id="b3dd4-220">One-time discovery</span><span class="sxs-lookup"><span data-stu-id="b3dd4-220">One-time discovery</span></span>

<span data-ttu-id="b3dd4-221">For OVA version 1.0.9.14</span><span class="sxs-lookup"><span data-stu-id="b3dd4-221">For OVA version 1.0.9.14</span></span>

<span data-ttu-id="b3dd4-222">**Algorithm**</span><span class="sxs-lookup"><span data-stu-id="b3dd4-222">**Algorithm**</span></span> | <span data-ttu-id="b3dd4-223">**Hash value**</span><span class="sxs-lookup"><span data-stu-id="b3dd4-223">**Hash value**</span></span>
--- | ---
<span data-ttu-id="b3dd4-224">MD5</span><span class="sxs-lookup"><span data-stu-id="b3dd4-224">MD5</span></span> | <span data-ttu-id="b3dd4-225">6d8446c0eeba3de3ecc9bc3713f9c8bd</span><span class="sxs-lookup"><span data-stu-id="b3dd4-225">6d8446c0eeba3de3ecc9bc3713f9c8bd</span></span>
<span data-ttu-id="b3dd4-226">SHA1</span><span class="sxs-lookup"><span data-stu-id="b3dd4-226">SHA1</span></span> | <span data-ttu-id="b3dd4-227">e9f5bdfdd1a746c11910ed917511b5d91b9f939f</span><span class="sxs-lookup"><span data-stu-id="b3dd4-227">e9f5bdfdd1a746c11910ed917511b5d91b9f939f</span></span>
<span data-ttu-id="b3dd4-228">SHA256</span><span class="sxs-lookup"><span data-stu-id="b3dd4-228">SHA256</span></span> | <span data-ttu-id="b3dd4-229">7f7636d0959379502dfbda19b8e3f47f3a4744ee9453fc9ce548e6682a66f13c</span><span class="sxs-lookup"><span data-stu-id="b3dd4-229">7f7636d0959379502dfbda19b8e3f47f3a4744ee9453fc9ce548e6682a66f13c</span></span>

<span data-ttu-id="b3dd4-230">For OVA version 1.0.9.12</span><span class="sxs-lookup"><span data-stu-id="b3dd4-230">For OVA version 1.0.9.12</span></span>

<span data-ttu-id="b3dd4-231">**Algorithm**</span><span class="sxs-lookup"><span data-stu-id="b3dd4-231">**Algorithm**</span></span> | <span data-ttu-id="b3dd4-232">**Hash value**</span><span class="sxs-lookup"><span data-stu-id="b3dd4-232">**Hash value**</span></span>
--- | ---
<span data-ttu-id="b3dd4-233">MD5</span><span class="sxs-lookup"><span data-stu-id="b3dd4-233">MD5</span></span> | <span data-ttu-id="b3dd4-234">d0363e5d1b377a8eb08843cf034ac28a</span><span class="sxs-lookup"><span data-stu-id="b3dd4-234">d0363e5d1b377a8eb08843cf034ac28a</span></span>
<span data-ttu-id="b3dd4-235">SHA1</span><span class="sxs-lookup"><span data-stu-id="b3dd4-235">SHA1</span></span> | <span data-ttu-id="b3dd4-236">df4a0ada64bfa59c37acf521d15dcabe7f3f716b</span><span class="sxs-lookup"><span data-stu-id="b3dd4-236">df4a0ada64bfa59c37acf521d15dcabe7f3f716b</span></span>
<span data-ttu-id="b3dd4-237">SHA256</span><span class="sxs-lookup"><span data-stu-id="b3dd4-237">SHA256</span></span> | <span data-ttu-id="b3dd4-238">f677b6c255e3d4d529315a31b5947edfe46f45e4eb4dbc8019d68d1d1b337c2e</span><span class="sxs-lookup"><span data-stu-id="b3dd4-238">f677b6c255e3d4d529315a31b5947edfe46f45e4eb4dbc8019d68d1d1b337c2e</span></span>

<span data-ttu-id="b3dd4-239">For OVA version 1.0.9.8</span><span class="sxs-lookup"><span data-stu-id="b3dd4-239">For OVA version 1.0.9.8</span></span>

<span data-ttu-id="b3dd4-240">**Algorithm**</span><span class="sxs-lookup"><span data-stu-id="b3dd4-240">**Algorithm**</span></span> | <span data-ttu-id="b3dd4-241">**Hash value**</span><span class="sxs-lookup"><span data-stu-id="b3dd4-241">**Hash value**</span></span>
--- | ---
<span data-ttu-id="b3dd4-242">MD5</span><span class="sxs-lookup"><span data-stu-id="b3dd4-242">MD5</span></span> | <span data-ttu-id="b3dd4-243">b5d9f0caf15ca357ac0563468c2e6251</span><span class="sxs-lookup"><span data-stu-id="b3dd4-243">b5d9f0caf15ca357ac0563468c2e6251</span></span>
<span data-ttu-id="b3dd4-244">SHA1</span><span class="sxs-lookup"><span data-stu-id="b3dd4-244">SHA1</span></span> | <span data-ttu-id="b3dd4-245">d6179b5bfe84e123fabd37f8a1e4930839eeb0e5</span><span class="sxs-lookup"><span data-stu-id="b3dd4-245">d6179b5bfe84e123fabd37f8a1e4930839eeb0e5</span></span>
<span data-ttu-id="b3dd4-246">SHA256</span><span class="sxs-lookup"><span data-stu-id="b3dd4-246">SHA256</span></span> | <span data-ttu-id="b3dd4-247">09c68b168719cb93bd439ea6a5fe21a3b01beec0e15b84204857061ca5b116ff</span><span class="sxs-lookup"><span data-stu-id="b3dd4-247">09c68b168719cb93bd439ea6a5fe21a3b01beec0e15b84204857061ca5b116ff</span></span>

<span data-ttu-id="b3dd4-248">For OVA version 1.0.9.7</span><span class="sxs-lookup"><span data-stu-id="b3dd4-248">For OVA version 1.0.9.7</span></span>

<span data-ttu-id="b3dd4-249">**Algorithm**</span><span class="sxs-lookup"><span data-stu-id="b3dd4-249">**Algorithm**</span></span> | <span data-ttu-id="b3dd4-250">**Hash value**</span><span class="sxs-lookup"><span data-stu-id="b3dd4-250">**Hash value**</span></span>
--- | ---
<span data-ttu-id="b3dd4-251">MD5</span><span class="sxs-lookup"><span data-stu-id="b3dd4-251">MD5</span></span> | <span data-ttu-id="b3dd4-252">d5b6a03701203ff556fa78694d6d7c35</span><span class="sxs-lookup"><span data-stu-id="b3dd4-252">d5b6a03701203ff556fa78694d6d7c35</span></span>
<span data-ttu-id="b3dd4-253">SHA1</span><span class="sxs-lookup"><span data-stu-id="b3dd4-253">SHA1</span></span> | <span data-ttu-id="b3dd4-254">f039feaa10dccd811c3d22d9a59fb83d0b01151e</span><span class="sxs-lookup"><span data-stu-id="b3dd4-254">f039feaa10dccd811c3d22d9a59fb83d0b01151e</span></span>
<span data-ttu-id="b3dd4-255">SHA256</span><span class="sxs-lookup"><span data-stu-id="b3dd4-255">SHA256</span></span> | <span data-ttu-id="b3dd4-256">e5e997c003e29036f62bf3fdce96acd4a271799211a84b34b35dfd290e9bea9c</span><span class="sxs-lookup"><span data-stu-id="b3dd4-256">e5e997c003e29036f62bf3fdce96acd4a271799211a84b34b35dfd290e9bea9c</span></span>

#### <a name="continuous-discovery"></a><span data-ttu-id="b3dd4-257">Continuous discovery</span><span class="sxs-lookup"><span data-stu-id="b3dd4-257">Continuous discovery</span></span>

<span data-ttu-id="b3dd4-258">For OVA version 1.0.10.4</span><span class="sxs-lookup"><span data-stu-id="b3dd4-258">For OVA version 1.0.10.4</span></span>

<span data-ttu-id="b3dd4-259">**Algorithm**</span><span class="sxs-lookup"><span data-stu-id="b3dd4-259">**Algorithm**</span></span> | <span data-ttu-id="b3dd4-260">**Hash value**</span><span class="sxs-lookup"><span data-stu-id="b3dd4-260">**Hash value**</span></span>
--- | ---
<span data-ttu-id="b3dd4-261">MD5</span><span class="sxs-lookup"><span data-stu-id="b3dd4-261">MD5</span></span> | <span data-ttu-id="b3dd4-262">2ca5b1b93ee0675ca794dd3fd216e13d</span><span class="sxs-lookup"><span data-stu-id="b3dd4-262">2ca5b1b93ee0675ca794dd3fd216e13d</span></span>
<span data-ttu-id="b3dd4-263">SHA1</span><span class="sxs-lookup"><span data-stu-id="b3dd4-263">SHA1</span></span> | <span data-ttu-id="b3dd4-264">8c46a52b18d36e91daeae62f412f5cb2a8198ee5</span><span class="sxs-lookup"><span data-stu-id="b3dd4-264">8c46a52b18d36e91daeae62f412f5cb2a8198ee5</span></span>
<span data-ttu-id="b3dd4-265">SHA256</span><span class="sxs-lookup"><span data-stu-id="b3dd4-265">SHA256</span></span> | <span data-ttu-id="b3dd4-266">3b3dec0f995b3dd3c6ba218d436be003a687710abab9fcd17d4bdc90a11276be</span><span class="sxs-lookup"><span data-stu-id="b3dd4-266">3b3dec0f995b3dd3c6ba218d436be003a687710abab9fcd17d4bdc90a11276be</span></span>

### <a name="create-the-collector-vm"></a><span data-ttu-id="b3dd4-267">Create the collector VM</span><span class="sxs-lookup"><span data-stu-id="b3dd4-267">Create the collector VM</span></span>

<span data-ttu-id="b3dd4-268">Import the downloaded file to vCenter Server:</span><span class="sxs-lookup"><span data-stu-id="b3dd4-268">Import the downloaded file to vCenter Server:</span></span>

1. <span data-ttu-id="b3dd4-269">In the vSphere Client console, select **File** > **Deploy OVF Template**.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-269">In the vSphere Client console, select **File** > **Deploy OVF Template**.</span></span>

    ![Deploy OVF](./media/how-to-scale-assessment/vcenter-wizard.png)

2. <span data-ttu-id="b3dd4-271">In the Deploy OVF Template Wizard > **Source**, specify the location of the OVA file.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-271">In the Deploy OVF Template Wizard > **Source**, specify the location of the OVA file.</span></span>
3. <span data-ttu-id="b3dd4-272">In **Name** and **Location**, specify a friendly name for the collector VM, and the inventory object in which the VM will be hosted.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-272">In **Name** and **Location**, specify a friendly name for the collector VM, and the inventory object in which the VM will be hosted.</span></span>
4. <span data-ttu-id="b3dd4-273">In **Host/Cluster**, specify the host or cluster on which the collector VM will run.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-273">In **Host/Cluster**, specify the host or cluster on which the collector VM will run.</span></span>
5. <span data-ttu-id="b3dd4-274">In storage, specify the storage destination for the collector VM.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-274">In storage, specify the storage destination for the collector VM.</span></span>
6. <span data-ttu-id="b3dd4-275">In **Disk Format**, specify the disk type and size.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-275">In **Disk Format**, specify the disk type and size.</span></span>
7. <span data-ttu-id="b3dd4-276">In **Network Mapping**, specify the network to which the collector VM will connect.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-276">In **Network Mapping**, specify the network to which the collector VM will connect.</span></span> <span data-ttu-id="b3dd4-277">The network needs internet connectivity to send metadata to Azure.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-277">The network needs internet connectivity to send metadata to Azure.</span></span>
8. <span data-ttu-id="b3dd4-278">Review and confirm the settings, and then select **Finish**.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-278">Review and confirm the settings, and then select **Finish**.</span></span>

### <a name="identify-the-id-and-key-for-each-project"></a><span data-ttu-id="b3dd4-279">Identify the ID and key for each project</span><span class="sxs-lookup"><span data-stu-id="b3dd4-279">Identify the ID and key for each project</span></span>

<span data-ttu-id="b3dd4-280">If you have multiple projects, be sure to identify the ID and key for each one.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-280">If you have multiple projects, be sure to identify the ID and key for each one.</span></span> <span data-ttu-id="b3dd4-281">You need the key when you run the collector to discover the VMs.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-281">You need the key when you run the collector to discover the VMs.</span></span>

1. <span data-ttu-id="b3dd4-282">In the project, select **Getting Started** > **Discover & Assess** > **Discover Machines**.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-282">In the project, select **Getting Started** > **Discover & Assess** > **Discover Machines**.</span></span>
2. <span data-ttu-id="b3dd4-283">In **Copy project credentials**, copy the ID and key for the project.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-283">In **Copy project credentials**, copy the ID and key for the project.</span></span>
    <span data-ttu-id="b3dd4-284">![Copy project credentials](./media/how-to-scale-assessment/copy-project-credentials.png)</span><span class="sxs-lookup"><span data-stu-id="b3dd4-284">![Copy project credentials](./media/how-to-scale-assessment/copy-project-credentials.png)</span></span>

### <a name="set-the-vcenter-statistics-level"></a><span data-ttu-id="b3dd4-285">Set the vCenter statistics level</span><span class="sxs-lookup"><span data-stu-id="b3dd4-285">Set the vCenter statistics level</span></span>

<span data-ttu-id="b3dd4-286">The collector appliance discovers the following static metadata about the selected virtual machines.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-286">The collector appliance discovers the following static metadata about the selected virtual machines.</span></span>

1. <span data-ttu-id="b3dd4-287">VM Display name (on vCenter)</span><span class="sxs-lookup"><span data-stu-id="b3dd4-287">VM Display name (on vCenter)</span></span>
2. <span data-ttu-id="b3dd4-288">VM’s inventory path (host/folder in vCenter)</span><span class="sxs-lookup"><span data-stu-id="b3dd4-288">VM’s inventory path (host/folder in vCenter)</span></span>
3. <span data-ttu-id="b3dd4-289">IP address</span><span class="sxs-lookup"><span data-stu-id="b3dd4-289">IP address</span></span>
4. <span data-ttu-id="b3dd4-290">MAC address</span><span class="sxs-lookup"><span data-stu-id="b3dd4-290">MAC address</span></span>
5. <span data-ttu-id="b3dd4-291">Operating system</span><span class="sxs-lookup"><span data-stu-id="b3dd4-291">Operating system</span></span>
5. <span data-ttu-id="b3dd4-292">Number of cores, disks, NICs</span><span class="sxs-lookup"><span data-stu-id="b3dd4-292">Number of cores, disks, NICs</span></span>
6. <span data-ttu-id="b3dd4-293">Memory size, Disk sizes</span><span class="sxs-lookup"><span data-stu-id="b3dd4-293">Memory size, Disk sizes</span></span>
7. <span data-ttu-id="b3dd4-294">And performance counters of the VM, disk and network as listed in the table below.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-294">And performance counters of the VM, disk and network as listed in the table below.</span></span>

<span data-ttu-id="b3dd4-295">For one-time discovery, the following table lists the exact performance counters that are collected, and also lists the assessment results that are impacted if a particular counter is not collected.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-295">For one-time discovery, the following table lists the exact performance counters that are collected, and also lists the assessment results that are impacted if a particular counter is not collected.</span></span>

<span data-ttu-id="b3dd4-296">For continuous discovery, the same counters are collected at real time (20-seconds interval), so there is no dependency on vCenter statistics level.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-296">For continuous discovery, the same counters are collected at real time (20-seconds interval), so there is no dependency on vCenter statistics level.</span></span> <span data-ttu-id="b3dd4-297">The appliance then rolls-up the 20-second samples to create a single data point for every 15 minutes by selecting the peak value from the 20-second samples and sends it to Azure.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-297">The appliance then rolls-up the 20-second samples to create a single data point for every 15 minutes by selecting the peak value from the 20-second samples and sends it to Azure.</span></span>

|<span data-ttu-id="b3dd4-298">Counter</span><span class="sxs-lookup"><span data-stu-id="b3dd4-298">Counter</span></span>                                  |<span data-ttu-id="b3dd4-299">Level</span><span class="sxs-lookup"><span data-stu-id="b3dd4-299">Level</span></span>    |<span data-ttu-id="b3dd4-300">Per-device level</span><span class="sxs-lookup"><span data-stu-id="b3dd4-300">Per-device level</span></span>  |<span data-ttu-id="b3dd4-301">Assessment impact</span><span class="sxs-lookup"><span data-stu-id="b3dd4-301">Assessment impact</span></span>                               |
|-----------------------------------------|---------|------------------|------------------------------------------------|
|<span data-ttu-id="b3dd4-302">cpu.usage.average</span><span class="sxs-lookup"><span data-stu-id="b3dd4-302">cpu.usage.average</span></span>                        | <span data-ttu-id="b3dd4-303">1</span><span class="sxs-lookup"><span data-stu-id="b3dd4-303">1</span></span>       |<span data-ttu-id="b3dd4-304">NA</span><span class="sxs-lookup"><span data-stu-id="b3dd4-304">NA</span></span>                |<span data-ttu-id="b3dd4-305">Recommended VM size and cost</span><span class="sxs-lookup"><span data-stu-id="b3dd4-305">Recommended VM size and cost</span></span>                    |
|<span data-ttu-id="b3dd4-306">mem.usage.average</span><span class="sxs-lookup"><span data-stu-id="b3dd4-306">mem.usage.average</span></span>                        | <span data-ttu-id="b3dd4-307">1</span><span class="sxs-lookup"><span data-stu-id="b3dd4-307">1</span></span>       |<span data-ttu-id="b3dd4-308">NA</span><span class="sxs-lookup"><span data-stu-id="b3dd4-308">NA</span></span>                |<span data-ttu-id="b3dd4-309">Recommended VM size and cost</span><span class="sxs-lookup"><span data-stu-id="b3dd4-309">Recommended VM size and cost</span></span>                    |
|<span data-ttu-id="b3dd4-310">virtualDisk.read.average</span><span class="sxs-lookup"><span data-stu-id="b3dd4-310">virtualDisk.read.average</span></span>                 | <span data-ttu-id="b3dd4-311">2</span><span class="sxs-lookup"><span data-stu-id="b3dd4-311">2</span></span>       |<span data-ttu-id="b3dd4-312">2</span><span class="sxs-lookup"><span data-stu-id="b3dd4-312">2</span></span>                 |<span data-ttu-id="b3dd4-313">Disk size, storage cost, and VM size</span><span class="sxs-lookup"><span data-stu-id="b3dd4-313">Disk size, storage cost, and VM size</span></span>         |
|<span data-ttu-id="b3dd4-314">virtualDisk.write.average</span><span class="sxs-lookup"><span data-stu-id="b3dd4-314">virtualDisk.write.average</span></span>                | <span data-ttu-id="b3dd4-315">2</span><span class="sxs-lookup"><span data-stu-id="b3dd4-315">2</span></span>       |<span data-ttu-id="b3dd4-316">2</span><span class="sxs-lookup"><span data-stu-id="b3dd4-316">2</span></span>                 |<span data-ttu-id="b3dd4-317">Disk size, storage cost, and VM size</span><span class="sxs-lookup"><span data-stu-id="b3dd4-317">Disk size, storage cost, and VM size</span></span>         |
|<span data-ttu-id="b3dd4-318">virtualDisk.numberReadAveraged.average</span><span class="sxs-lookup"><span data-stu-id="b3dd4-318">virtualDisk.numberReadAveraged.average</span></span>   | <span data-ttu-id="b3dd4-319">1</span><span class="sxs-lookup"><span data-stu-id="b3dd4-319">1</span></span>       |<span data-ttu-id="b3dd4-320">3</span><span class="sxs-lookup"><span data-stu-id="b3dd4-320">3</span></span>                 |<span data-ttu-id="b3dd4-321">Disk size, storage cost, and VM size</span><span class="sxs-lookup"><span data-stu-id="b3dd4-321">Disk size, storage cost, and VM size</span></span>         |
|<span data-ttu-id="b3dd4-322">virtualDisk.numberWriteAveraged.average</span><span class="sxs-lookup"><span data-stu-id="b3dd4-322">virtualDisk.numberWriteAveraged.average</span></span>  | <span data-ttu-id="b3dd4-323">1</span><span class="sxs-lookup"><span data-stu-id="b3dd4-323">1</span></span>       |<span data-ttu-id="b3dd4-324">3</span><span class="sxs-lookup"><span data-stu-id="b3dd4-324">3</span></span>                 |<span data-ttu-id="b3dd4-325">Disk size, storage cost, and VM size</span><span class="sxs-lookup"><span data-stu-id="b3dd4-325">Disk size, storage cost, and VM size</span></span>         |
|<span data-ttu-id="b3dd4-326">net.received.average</span><span class="sxs-lookup"><span data-stu-id="b3dd4-326">net.received.average</span></span>                     | <span data-ttu-id="b3dd4-327">2</span><span class="sxs-lookup"><span data-stu-id="b3dd4-327">2</span></span>       |<span data-ttu-id="b3dd4-328">3</span><span class="sxs-lookup"><span data-stu-id="b3dd4-328">3</span></span>                 |<span data-ttu-id="b3dd4-329">VM size and network cost</span><span class="sxs-lookup"><span data-stu-id="b3dd4-329">VM size and network cost</span></span>                        |
|<span data-ttu-id="b3dd4-330">net.transmitted.average</span><span class="sxs-lookup"><span data-stu-id="b3dd4-330">net.transmitted.average</span></span>                  | <span data-ttu-id="b3dd4-331">2</span><span class="sxs-lookup"><span data-stu-id="b3dd4-331">2</span></span>       |<span data-ttu-id="b3dd4-332">3</span><span class="sxs-lookup"><span data-stu-id="b3dd4-332">3</span></span>                 |<span data-ttu-id="b3dd4-333">VM size and network cost</span><span class="sxs-lookup"><span data-stu-id="b3dd4-333">VM size and network cost</span></span>                        |

> [!WARNING]
> <span data-ttu-id="b3dd4-334">For one-time discovery, if you have just set a higher statistics level, it will take up to a day to generate the performance counters.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-334">For one-time discovery, if you have just set a higher statistics level, it will take up to a day to generate the performance counters.</span></span> <span data-ttu-id="b3dd4-335">So, we recommend that you run the discovery after one day.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-335">So, we recommend that you run the discovery after one day.</span></span> <span data-ttu-id="b3dd4-336">For the continuous discovery model, wait for at least a day after starting discovery for the appliance to profile the environment and then create assessments.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-336">For the continuous discovery model, wait for at least a day after starting discovery for the appliance to profile the environment and then create assessments.</span></span>

### <a name="run-the-collector-to-discover-vms"></a><span data-ttu-id="b3dd4-337">Run the collector to discover VMs</span><span class="sxs-lookup"><span data-stu-id="b3dd4-337">Run the collector to discover VMs</span></span>

<span data-ttu-id="b3dd4-338">For each discovery that you need to perform, you run the collector to discover VMs in the required scope.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-338">For each discovery that you need to perform, you run the collector to discover VMs in the required scope.</span></span> <span data-ttu-id="b3dd4-339">Run the discoveries one after the other.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-339">Run the discoveries one after the other.</span></span> <span data-ttu-id="b3dd4-340">Concurrent discoveries aren't supported, and each discovery must have a different scope.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-340">Concurrent discoveries aren't supported, and each discovery must have a different scope.</span></span>

1.  <span data-ttu-id="b3dd4-341">In the vSphere Client console, right-click the VM > **Open Console**.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-341">In the vSphere Client console, right-click the VM > **Open Console**.</span></span>
2.  <span data-ttu-id="b3dd4-342">Provide the language, time zone, and password preferences for the appliance.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-342">Provide the language, time zone, and password preferences for the appliance.</span></span>
3.  <span data-ttu-id="b3dd4-343">On the desktop, select the **Run collector** shortcut.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-343">On the desktop, select the **Run collector** shortcut.</span></span>
4.  <span data-ttu-id="b3dd4-344">In the Azure Migrate collector, open **Set up prerequisites** and then:</span><span class="sxs-lookup"><span data-stu-id="b3dd4-344">In the Azure Migrate collector, open **Set up prerequisites** and then:</span></span>

    <span data-ttu-id="b3dd4-345">a.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-345">a.</span></span> <span data-ttu-id="b3dd4-346">Accept the license terms, and read the third-party information.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-346">Accept the license terms, and read the third-party information.</span></span>

    <span data-ttu-id="b3dd4-347">The collector checks that the VM has internet access.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-347">The collector checks that the VM has internet access.</span></span>

    <span data-ttu-id="b3dd4-348">b.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-348">b.</span></span> <span data-ttu-id="b3dd4-349">If the VM accesses the internet via a proxy, select **Proxy settings**, and specify the proxy address and listening port.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-349">If the VM accesses the internet via a proxy, select **Proxy settings**, and specify the proxy address and listening port.</span></span> <span data-ttu-id="b3dd4-350">Specify credentials if the proxy needs authentication.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-350">Specify credentials if the proxy needs authentication.</span></span>

    <span data-ttu-id="b3dd4-351">The collector checks that the collector service is running.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-351">The collector checks that the collector service is running.</span></span> <span data-ttu-id="b3dd4-352">The service is installed by default on the collector VM.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-352">The service is installed by default on the collector VM.</span></span>

    <span data-ttu-id="b3dd4-353">c.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-353">c.</span></span> <span data-ttu-id="b3dd4-354">Download and install VMware PowerCLI.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-354">Download and install VMware PowerCLI.</span></span>

5.  <span data-ttu-id="b3dd4-355">In **Specify vCenter Server details**, do the following:</span><span class="sxs-lookup"><span data-stu-id="b3dd4-355">In **Specify vCenter Server details**, do the following:</span></span>
    - <span data-ttu-id="b3dd4-356">Specify the name (FQDN) or IP address of vCenter Server.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-356">Specify the name (FQDN) or IP address of vCenter Server.</span></span>
    - <span data-ttu-id="b3dd4-357">In **User name** and **Password**, specify the read-only account credentials that the collector will use to discover VMs in vCenter Server.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-357">In **User name** and **Password**, specify the read-only account credentials that the collector will use to discover VMs in vCenter Server.</span></span>
    - <span data-ttu-id="b3dd4-358">In **Select scope**, select a scope for VM discovery.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-358">In **Select scope**, select a scope for VM discovery.</span></span> <span data-ttu-id="b3dd4-359">The collector can discover only VMs within the specified scope.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-359">The collector can discover only VMs within the specified scope.</span></span> <span data-ttu-id="b3dd4-360">Scope can be set to a specific folder, datacenter, or cluster.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-360">Scope can be set to a specific folder, datacenter, or cluster.</span></span> <span data-ttu-id="b3dd4-361">It shouldn't contain more than 1,000 VMs.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-361">It shouldn't contain more than 1,000 VMs.</span></span>

6.  <span data-ttu-id="b3dd4-362">In **Specify migration project**, specify the ID and key for the project.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-362">In **Specify migration project**, specify the ID and key for the project.</span></span> <span data-ttu-id="b3dd4-363">If you didn't copy them, open the Azure portal from the collector VM.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-363">If you didn't copy them, open the Azure portal from the collector VM.</span></span> <span data-ttu-id="b3dd4-364">On the project's **Overview** page, select **Discover Machines** and copy the values.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-364">On the project's **Overview** page, select **Discover Machines** and copy the values.</span></span>  
7.  <span data-ttu-id="b3dd4-365">In **View collection progress**, monitor the discovery process and check that metadata collected from the VMs is in scope.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-365">In **View collection progress**, monitor the discovery process and check that metadata collected from the VMs is in scope.</span></span> <span data-ttu-id="b3dd4-366">The collector provides an approximate discovery time.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-366">The collector provides an approximate discovery time.</span></span>


#### <a name="verify-vms-in-the-portal"></a><span data-ttu-id="b3dd4-367">Verify VMs in the portal</span><span class="sxs-lookup"><span data-stu-id="b3dd4-367">Verify VMs in the portal</span></span>

<span data-ttu-id="b3dd4-368">For one-time discovery, the discovery time depends on how many VMs you are discovering.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-368">For one-time discovery, the discovery time depends on how many VMs you are discovering.</span></span> <span data-ttu-id="b3dd4-369">Typically, for 100 VMs, after the collector finishes running it takes around an hour for configuration and performance data collection to complete.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-369">Typically, for 100 VMs, after the collector finishes running it takes around an hour for configuration and performance data collection to complete.</span></span> <span data-ttu-id="b3dd4-370">You can create assessments (both performance-based and as on-premises assessments) immediately after the discovery is done.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-370">You can create assessments (both performance-based and as on-premises assessments) immediately after the discovery is done.</span></span>

<span data-ttu-id="b3dd4-371">For continuous discovery (in preview), the collector will continuously profile the on-premises environment and will keep sending the performance data at an hour interval.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-371">For continuous discovery (in preview), the collector will continuously profile the on-premises environment and will keep sending the performance data at an hour interval.</span></span> <span data-ttu-id="b3dd4-372">You can review the machines in the portal after an hour of kicking off the discovery.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-372">You can review the machines in the portal after an hour of kicking off the discovery.</span></span> <span data-ttu-id="b3dd4-373">It is strongly recommended to wait for at least a day before creating any performance-based assessments for the VMs.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-373">It is strongly recommended to wait for at least a day before creating any performance-based assessments for the VMs.</span></span>

1. <span data-ttu-id="b3dd4-374">In the migration project, click **Manage** > **Machines**.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-374">In the migration project, click **Manage** > **Machines**.</span></span>
2. <span data-ttu-id="b3dd4-375">Check that the VMs you want to discover appear in the portal.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-375">Check that the VMs you want to discover appear in the portal.</span></span>


## <a name="next-steps"></a><span data-ttu-id="b3dd4-376">Next steps</span><span class="sxs-lookup"><span data-stu-id="b3dd4-376">Next steps</span></span>

- <span data-ttu-id="b3dd4-377">Learn how to [create a group](how-to-create-a-group.md) for assessment.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-377">Learn how to [create a group](how-to-create-a-group.md) for assessment.</span></span>
- <span data-ttu-id="b3dd4-378">[Learn more](concepts-assessment-calculation.md) about how assessments are calculated.</span><span class="sxs-lookup"><span data-stu-id="b3dd4-378">[Learn more](concepts-assessment-calculation.md) about how assessments are calculated.</span></span>
