---
title: Assess on-premises workloads for Contoso migration to Azure  | Microsoft Docs
description: Learn how Contoso assesses its on-premises machines for migration to Azure by using Azure Migrate and Data Migration Assistant.
services: site-recovery
author: rayne-wiselman
ms.service: site-recovery
ms.topic: conceptual
ms.date: 09/05/2018
ms.author: raynew
ms.openlocfilehash: 3969286b4a748a9dde8c126f91a5b19ee14a7c0d
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44871628"
---
# <a name="contoso-migration-assess-on-premises-workloads-for-migration-to-azure"></a><span data-ttu-id="f8f8d-103">Contoso migration: Assess on-premises workloads for migration to Azure</span><span class="sxs-lookup"><span data-stu-id="f8f8d-103">Contoso migration: Assess on-premises workloads for migration to Azure</span></span>

<span data-ttu-id="f8f8d-104">In this article, Contoso assesses its on-premises SmartHotel360 app for migration to Azure.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-104">In this article, Contoso assesses its on-premises SmartHotel360 app for migration to Azure.</span></span>

<span data-ttu-id="f8f8d-105">This article is part of a series that documents how the fictitious company Contoso migrates its on-premises resources to the Microsoft Azure cloud.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-105">This article is part of a series that documents how the fictitious company Contoso migrates its on-premises resources to the Microsoft Azure cloud.</span></span> <span data-ttu-id="f8f8d-106">The series includes background informatio, and detailed deployment scenarios that illustrate how to set up a migration infrastructure, assess the suitability of on-premises resources for migration, and run different types of migrations.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-106">The series includes background informatio, and detailed deployment scenarios that illustrate how to set up a migration infrastructure, assess the suitability of on-premises resources for migration, and run different types of migrations.</span></span> <span data-ttu-id="f8f8d-107">Scenarios grow in complexity.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-107">Scenarios grow in complexity.</span></span> <span data-ttu-id="f8f8d-108">Articles will be added to the series over time.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-108">Articles will be added to the series over time.</span></span>

<span data-ttu-id="f8f8d-109">Article</span><span class="sxs-lookup"><span data-stu-id="f8f8d-109">Article</span></span> | <span data-ttu-id="f8f8d-110">Details</span><span class="sxs-lookup"><span data-stu-id="f8f8d-110">Details</span></span> | <span data-ttu-id="f8f8d-111">Status</span><span class="sxs-lookup"><span data-stu-id="f8f8d-111">Status</span></span>
--- | --- | ---
[<span data-ttu-id="f8f8d-112">Article 1: Overview</span><span class="sxs-lookup"><span data-stu-id="f8f8d-112">Article 1: Overview</span></span>](contoso-migration-overview.md) | <span data-ttu-id="f8f8d-113">Overview of the article series, Contoso's migration strategy, and the sample apps that are used in the series.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-113">Overview of the article series, Contoso's migration strategy, and the sample apps that are used in the series.</span></span> | <span data-ttu-id="f8f8d-114">Available</span><span class="sxs-lookup"><span data-stu-id="f8f8d-114">Available</span></span>
[<span data-ttu-id="f8f8d-115">Article 2: Deploy an Azure infrastructure</span><span class="sxs-lookup"><span data-stu-id="f8f8d-115">Article 2: Deploy an Azure infrastructure</span></span>](contoso-migration-infrastructure.md) | <span data-ttu-id="f8f8d-116">Contoso prepares its on-premises infrastructure and its Azure infrastructure for migration.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-116">Contoso prepares its on-premises infrastructure and its Azure infrastructure for migration.</span></span> <span data-ttu-id="f8f8d-117">The same infrastructure is used for all articles in the series.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-117">The same infrastructure is used for all articles in the series.</span></span> | <span data-ttu-id="f8f8d-118">Available</span><span class="sxs-lookup"><span data-stu-id="f8f8d-118">Available</span></span>
<span data-ttu-id="f8f8d-119">Article 3: Assess on-premises resources for migration to Azure</span><span class="sxs-lookup"><span data-stu-id="f8f8d-119">Article 3: Assess on-premises resources for migration to Azure</span></span> | <span data-ttu-id="f8f8d-120">Contoso runs an assessment of its on-premises SmartHotel360 app running on VMware.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-120">Contoso runs an assessment of its on-premises SmartHotel360 app running on VMware.</span></span> <span data-ttu-id="f8f8d-121">Contoso assesses app VMs using the Azure Migrate service, and the app SQL Server database using Data Migration Assistant.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-121">Contoso assesses app VMs using the Azure Migrate service, and the app SQL Server database using Data Migration Assistant.</span></span> | <span data-ttu-id="f8f8d-122">This article</span><span class="sxs-lookup"><span data-stu-id="f8f8d-122">This article</span></span>
[<span data-ttu-id="f8f8d-123">Article 4: Rehost an app on an Azure VM and SQL Database Managed Instance</span><span class="sxs-lookup"><span data-stu-id="f8f8d-123">Article 4: Rehost an app on an Azure VM and SQL Database Managed Instance</span></span>](contoso-migration-rehost-vm-sql-managed-instance.md) | <span data-ttu-id="f8f8d-124">Contoso runs a lift-and-shift migration to Azure for its on-premises SmartHotel360 app.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-124">Contoso runs a lift-and-shift migration to Azure for its on-premises SmartHotel360 app.</span></span> <span data-ttu-id="f8f8d-125">It migrates the app front-end using the Azure Site Recovery service.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-125">It migrates the app front-end using the Azure Site Recovery service.</span></span> <span data-ttu-id="f8f8d-126">It migrates the app database to an Azure SQL Database Managed Instance using the Azure Database Migration Service.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-126">It migrates the app database to an Azure SQL Database Managed Instance using the Azure Database Migration Service.</span></span> | <span data-ttu-id="f8f8d-127">Available</span><span class="sxs-lookup"><span data-stu-id="f8f8d-127">Available</span></span>
[<span data-ttu-id="f8f8d-128">Article 5: Rehost an app on Azure VMs</span><span class="sxs-lookup"><span data-stu-id="f8f8d-128">Article 5: Rehost an app on Azure VMs</span></span>](contoso-migration-rehost-vm.md) | <span data-ttu-id="f8f8d-129">Contoso migrates its SmartHotel360 app VMs to Azure VMs using the Site Recovery service.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-129">Contoso migrates its SmartHotel360 app VMs to Azure VMs using the Site Recovery service.</span></span> | <span data-ttu-id="f8f8d-130">Available</span><span class="sxs-lookup"><span data-stu-id="f8f8d-130">Available</span></span>
[<span data-ttu-id="f8f8d-131">Article 6: Rehost an app on Azure VMs and in a  SQL Server AlwaysOn availability group</span><span class="sxs-lookup"><span data-stu-id="f8f8d-131">Article 6: Rehost an app on Azure VMs and in a  SQL Server AlwaysOn availability group</span></span>](contoso-migration-rehost-vm-sql-ag.md) | <span data-ttu-id="f8f8d-132">Contoso migrates the SmartHotel360 app, using Site Recovery to migrate the app VMs, and the Database Migration Service to migrate the app database to a SQL Server cluster that's protected by an AlwaysOn availability group.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-132">Contoso migrates the SmartHotel360 app, using Site Recovery to migrate the app VMs, and the Database Migration Service to migrate the app database to a SQL Server cluster that's protected by an AlwaysOn availability group.</span></span> | <span data-ttu-id="f8f8d-133">Available</span><span class="sxs-lookup"><span data-stu-id="f8f8d-133">Available</span></span>
[<span data-ttu-id="f8f8d-134">Article 7: Rehost a Linux app on Azure VMs</span><span class="sxs-lookup"><span data-stu-id="f8f8d-134">Article 7: Rehost a Linux app on Azure VMs</span></span>](contoso-migration-rehost-linux-vm.md) | <span data-ttu-id="f8f8d-135">Contoso completes a lift-and-shift migration of its Linux osTicket app to Azure VMs, using the Site Recovery service.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-135">Contoso completes a lift-and-shift migration of its Linux osTicket app to Azure VMs, using the Site Recovery service.</span></span> | <span data-ttu-id="f8f8d-136">Available</span><span class="sxs-lookup"><span data-stu-id="f8f8d-136">Available</span></span>
[<span data-ttu-id="f8f8d-137">Article 8: Rehost a Linux app on Azure VMs and Azure Database for MySQL</span><span class="sxs-lookup"><span data-stu-id="f8f8d-137">Article 8: Rehost a Linux app on Azure VMs and Azure Database for MySQL</span></span>](contoso-migration-rehost-linux-vm-mysql.md) | <span data-ttu-id="f8f8d-138">Contoso migrates its Linux osTicket app to Azure VMs using Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-138">Contoso migrates its Linux osTicket app to Azure VMs using Site Recovery.</span></span> <span data-ttu-id="f8f8d-139">It migrates the app database to Azure Database for MySQL using MySQL Workbench.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-139">It migrates the app database to Azure Database for MySQL using MySQL Workbench.</span></span> | <span data-ttu-id="f8f8d-140">Available</span><span class="sxs-lookup"><span data-stu-id="f8f8d-140">Available</span></span>
[<span data-ttu-id="f8f8d-141">Article 9: Refactor an app in an Azure web app and Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="f8f8d-141">Article 9: Refactor an app in an Azure web app and Azure SQL Database</span></span>](contoso-migration-refactor-web-app-sql.md) | <span data-ttu-id="f8f8d-142">Contoso migrates its SmartHotel360 app to an Azure web app, and migrates the app database to an Azure SQL Server instance with the Databse Migration Assistant.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-142">Contoso migrates its SmartHotel360 app to an Azure web app, and migrates the app database to an Azure SQL Server instance with the Databse Migration Assistant.</span></span> | <span data-ttu-id="f8f8d-143">Available</span><span class="sxs-lookup"><span data-stu-id="f8f8d-143">Available</span></span>
[<span data-ttu-id="f8f8d-144">Article 10: Refactor a Linux app in an Azure web app and Azure Database for MySQL</span><span class="sxs-lookup"><span data-stu-id="f8f8d-144">Article 10: Refactor a Linux app in an Azure web app and Azure Database for MySQL</span></span>](contoso-migration-refactor-linux-app-service-mysql.md) | <span data-ttu-id="f8f8d-145">Contoso migrates its Linux osTicket app to an Azure web app on multiple Azure regions using Azure Traffic Manager, integrated with GitHub for continuous delivery.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-145">Contoso migrates its Linux osTicket app to an Azure web app on multiple Azure regions using Azure Traffic Manager, integrated with GitHub for continuous delivery.</span></span> <span data-ttu-id="f8f8d-146">Contoso migrates the app database to an Azure Database for MySQL instance.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-146">Contoso migrates the app database to an Azure Database for MySQL instance.</span></span> | <span data-ttu-id="f8f8d-147">Available</span><span class="sxs-lookup"><span data-stu-id="f8f8d-147">Available</span></span>
[<span data-ttu-id="f8f8d-148">Article 11: Refactor Team Foundation Server on Azure DevOps Services</span><span class="sxs-lookup"><span data-stu-id="f8f8d-148">Article 11: Refactor Team Foundation Server on Azure DevOps Services</span></span>](contoso-migration-tfs-vsts.md) | <span data-ttu-id="f8f8d-149">Contoso migrates its on-premises Team Foundation Server deployment to Azure DevOps Services in Azure.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-149">Contoso migrates its on-premises Team Foundation Server deployment to Azure DevOps Services in Azure.</span></span> | <span data-ttu-id="f8f8d-150">Available</span><span class="sxs-lookup"><span data-stu-id="f8f8d-150">Available</span></span>
[<span data-ttu-id="f8f8d-151">Article 12: Rearchitect an app in Azure containers and Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="f8f8d-151">Article 12: Rearchitect an app in Azure containers and Azure SQL Database</span></span>](contoso-migration-rearchitect-container-sql.md) | <span data-ttu-id="f8f8d-152">Contoso migrates its SmartHotel app to Azure.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-152">Contoso migrates its SmartHotel app to Azure.</span></span> <span data-ttu-id="f8f8d-153">Then, it rearchitects the app web tier as a Windows container running in Azure Service Fabric, and the database with Azure SQL Database.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-153">Then, it rearchitects the app web tier as a Windows container running in Azure Service Fabric, and the database with Azure SQL Database.</span></span> | <span data-ttu-id="f8f8d-154">Available</span><span class="sxs-lookup"><span data-stu-id="f8f8d-154">Available</span></span>
[<span data-ttu-id="f8f8d-155">Article 13: Rebuild an app in Azure</span><span class="sxs-lookup"><span data-stu-id="f8f8d-155">Article 13: Rebuild an app in Azure</span></span>](contoso-migration-rebuild.md) | <span data-ttu-id="f8f8d-156">Contoso rebuilds its SmartHotel app by using a range of Azure capabilities and services, including Azure App Service, Azure Kubernetes Service (AKS), Azure Functions, Azure Cognitive Services, and Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-156">Contoso rebuilds its SmartHotel app by using a range of Azure capabilities and services, including Azure App Service, Azure Kubernetes Service (AKS), Azure Functions, Azure Cognitive Services, and Azure Cosmos DB.</span></span> | <span data-ttu-id="f8f8d-157">Available</span><span class="sxs-lookup"><span data-stu-id="f8f8d-157">Available</span></span>


## <a name="overview"></a><span data-ttu-id="f8f8d-158">Overview</span><span class="sxs-lookup"><span data-stu-id="f8f8d-158">Overview</span></span>

<span data-ttu-id="f8f8d-159">As Contoso considers migrating to Azure, the company wants to run a technical and financial assessment to determine whether its on-premises workloads are suitable for migration to the cloud.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-159">As Contoso considers migrating to Azure, the company wants to run a technical and financial assessment to determine whether its on-premises workloads are suitable for migration to the cloud.</span></span> <span data-ttu-id="f8f8d-160">In particular, the Contoso team wants to assess machine and database compatibility for migration.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-160">In particular, the Contoso team wants to assess machine and database compatibility for migration.</span></span> <span data-ttu-id="f8f8d-161">It wants to estimate capacity and costs for running Contoso's resources in Azure.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-161">It wants to estimate capacity and costs for running Contoso's resources in Azure.</span></span>

<span data-ttu-id="f8f8d-162">To get started and to better understand the technologies involved, Contoso assesses two of its on-premises apps, summarized in the following table.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-162">To get started and to better understand the technologies involved, Contoso assesses two of its on-premises apps, summarized in the following table.</span></span> <span data-ttu-id="f8f8d-163">The company assesses for migration scenarios that rehost and refactor apps for migration.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-163">The company assesses for migration scenarios that rehost and refactor apps for migration.</span></span> <span data-ttu-id="f8f8d-164">Learn more about rehosting and refactoring in the [Contoso migration overview](contoso-migration-overview.md).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-164">Learn more about rehosting and refactoring in the [Contoso migration overview](contoso-migration-overview.md).</span></span>

<span data-ttu-id="f8f8d-165">App name</span><span class="sxs-lookup"><span data-stu-id="f8f8d-165">App name</span></span> | <span data-ttu-id="f8f8d-166">Platform</span><span class="sxs-lookup"><span data-stu-id="f8f8d-166">Platform</span></span> | <span data-ttu-id="f8f8d-167">App tiers</span><span class="sxs-lookup"><span data-stu-id="f8f8d-167">App tiers</span></span> | <span data-ttu-id="f8f8d-168">Details</span><span class="sxs-lookup"><span data-stu-id="f8f8d-168">Details</span></span>
--- | --- | --- | ---
<span data-ttu-id="f8f8d-169">SmartHotel360</span><span class="sxs-lookup"><span data-stu-id="f8f8d-169">SmartHotel360</span></span><br/><br/> <span data-ttu-id="f8f8d-170">(manages Contoso travel requirements)</span><span class="sxs-lookup"><span data-stu-id="f8f8d-170">(manages Contoso travel requirements)</span></span> | <span data-ttu-id="f8f8d-171">Runs on Windows with a SQL Server database</span><span class="sxs-lookup"><span data-stu-id="f8f8d-171">Runs on Windows with a SQL Server database</span></span> | <span data-ttu-id="f8f8d-172">Two-tiered app.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-172">Two-tiered app.</span></span> <span data-ttu-id="f8f8d-173">The front-end ASP.NET website runs on one VM (**WEBVM**) and the SQL Server runs on another VM (**SQLVM**).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-173">The front-end ASP.NET website runs on one VM (**WEBVM**) and the SQL Server runs on another VM (**SQLVM**).</span></span> | <span data-ttu-id="f8f8d-174">VMs are VMware, running on an ESXi host managed by vCenter Server.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-174">VMs are VMware, running on an ESXi host managed by vCenter Server.</span></span><br/><br/> <span data-ttu-id="f8f8d-175">You can download the sample app from [GitHub](https://github.com/Microsoft/SmartHotel360).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-175">You can download the sample app from [GitHub](https://github.com/Microsoft/SmartHotel360).</span></span>
<span data-ttu-id="f8f8d-176">osTicket</span><span class="sxs-lookup"><span data-stu-id="f8f8d-176">osTicket</span></span><br/><br/> <span data-ttu-id="f8f8d-177">(Contoso service desk app)</span><span class="sxs-lookup"><span data-stu-id="f8f8d-177">(Contoso service desk app)</span></span> | <span data-ttu-id="f8f8d-178">Runs on Linux/Apache with MySQL PHP (LAMP)</span><span class="sxs-lookup"><span data-stu-id="f8f8d-178">Runs on Linux/Apache with MySQL PHP (LAMP)</span></span> | <span data-ttu-id="f8f8d-179">Two-tiered app.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-179">Two-tiered app.</span></span> <span data-ttu-id="f8f8d-180">A front-end PHP website runs on one VM (**OSTICKETWEB**) and the MySQL database runs on another VM (**OSTICKETMYSQL**).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-180">A front-end PHP website runs on one VM (**OSTICKETWEB**) and the MySQL database runs on another VM (**OSTICKETMYSQL**).</span></span> | <span data-ttu-id="f8f8d-181">The app is used by customer service apps to track issues for internal employees and external customers.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-181">The app is used by customer service apps to track issues for internal employees and external customers.</span></span><br/><br/> <span data-ttu-id="f8f8d-182">You can download the sample from [GitHub](https://github.com/osTicket/osTicket).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-182">You can download the sample from [GitHub](https://github.com/osTicket/osTicket).</span></span>

## <a name="current-architecture"></a><span data-ttu-id="f8f8d-183">Current architecture</span><span class="sxs-lookup"><span data-stu-id="f8f8d-183">Current architecture</span></span>

<span data-ttu-id="f8f8d-184">This diagram shows the current Contoso on-premises infrastructure:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-184">This diagram shows the current Contoso on-premises infrastructure:</span></span>

![Current Contoso architecture](./media/contoso-migration-assessment/contoso-architecture.png)  

- <span data-ttu-id="f8f8d-186">Contoso has one main datacenter.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-186">Contoso has one main datacenter.</span></span> <span data-ttu-id="f8f8d-187">The datacenter is located in the city of New York in the Eastern United States.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-187">The datacenter is located in the city of New York in the Eastern United States.</span></span>
- <span data-ttu-id="f8f8d-188">Contoso has three additional local branches across the United States.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-188">Contoso has three additional local branches across the United States.</span></span>
- <span data-ttu-id="f8f8d-189">The main datacenter is connected to the internet with a fiber Metro Ethernet connection (500 MBps).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-189">The main datacenter is connected to the internet with a fiber Metro Ethernet connection (500 MBps).</span></span>
- <span data-ttu-id="f8f8d-190">Each branch is connected locally to the internet by using business-class connections with IPsec VPN tunnels back to the main datacenter.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-190">Each branch is connected locally to the internet by using business-class connections with IPsec VPN tunnels back to the main datacenter.</span></span> <span data-ttu-id="f8f8d-191">The setup allows Contoso's entire network to be permanently connected and optimizes internet connectivity.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-191">The setup allows Contoso's entire network to be permanently connected and optimizes internet connectivity.</span></span>
- <span data-ttu-id="f8f8d-192">The main datacenter is fully virtualized with VMware.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-192">The main datacenter is fully virtualized with VMware.</span></span> <span data-ttu-id="f8f8d-193">Contoso has two ESXi 6.5 virtualization hosts that are managed by vCenter Server 6.5.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-193">Contoso has two ESXi 6.5 virtualization hosts that are managed by vCenter Server 6.5.</span></span>
- <span data-ttu-id="f8f8d-194">Contoso uses Active Directory for identity management.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-194">Contoso uses Active Directory for identity management.</span></span> <span data-ttu-id="f8f8d-195">Contoso uses DNS servers on the internal network.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-195">Contoso uses DNS servers on the internal network.</span></span>
- <span data-ttu-id="f8f8d-196">The domain controllers in the datacenter run on VMware VMs.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-196">The domain controllers in the datacenter run on VMware VMs.</span></span> <span data-ttu-id="f8f8d-197">The domain controllers at local branches run on physical servers.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-197">The domain controllers at local branches run on physical servers.</span></span>

## <a name="business-drivers"></a><span data-ttu-id="f8f8d-198">Business drivers</span><span class="sxs-lookup"><span data-stu-id="f8f8d-198">Business drivers</span></span>

<span data-ttu-id="f8f8d-199">Contoso's IT leadership team has worked closely with the company's business partners to understand what the business wants to achieve with this migration:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-199">Contoso's IT leadership team has worked closely with the company's business partners to understand what the business wants to achieve with this migration:</span></span>

- <span data-ttu-id="f8f8d-200">**Address business growth**: Contoso is growing.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-200">**Address business growth**: Contoso is growing.</span></span> <span data-ttu-id="f8f8d-201">As a result, pressure has increased on the company's on-premises systems and infrastructure.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-201">As a result, pressure has increased on the company's on-premises systems and infrastructure.</span></span>
- <span data-ttu-id="f8f8d-202">**Increase efficiency**: Contoso needs to remove unnecessary procedures and streamline processes for its developers and users.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-202">**Increase efficiency**: Contoso needs to remove unnecessary procedures and streamline processes for its developers and users.</span></span> <span data-ttu-id="f8f8d-203">The business needs IT to be fast and to not waste time or money, so the company can deliver faster on customer requirements.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-203">The business needs IT to be fast and to not waste time or money, so the company can deliver faster on customer requirements.</span></span>
- <span data-ttu-id="f8f8d-204">**Increase agility**:  Contoso IT needs to be more responsive to the needs of the business.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-204">**Increase agility**:  Contoso IT needs to be more responsive to the needs of the business.</span></span> <span data-ttu-id="f8f8d-205">It must be able to react faster than the changes that occur in the marketplace for the company to be successful in a global economy.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-205">It must be able to react faster than the changes that occur in the marketplace for the company to be successful in a global economy.</span></span> <span data-ttu-id="f8f8d-206">IT at Contoso must not get in the way or become a business blocker.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-206">IT at Contoso must not get in the way or become a business blocker.</span></span>
- <span data-ttu-id="f8f8d-207">**Scale**: As the company's business grows successfully, Contoso IT must provide systems that can grow at the same pace.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-207">**Scale**: As the company's business grows successfully, Contoso IT must provide systems that can grow at the same pace.</span></span>

## <a name="assessment-goals"></a><span data-ttu-id="f8f8d-208">Assessment goals</span><span class="sxs-lookup"><span data-stu-id="f8f8d-208">Assessment goals</span></span>

<span data-ttu-id="f8f8d-209">The Contoso cloud team has identified goals for its migration assessments:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-209">The Contoso cloud team has identified goals for its migration assessments:</span></span>

- <span data-ttu-id="f8f8d-210">After migration, apps in Azure should have the same performance capabilities that apps have today in Contoso's on-premises VMWare environment.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-210">After migration, apps in Azure should have the same performance capabilities that apps have today in Contoso's on-premises VMWare environment.</span></span> <span data-ttu-id="f8f8d-211">Moving to the cloud doesn't mean that app performance is less critical.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-211">Moving to the cloud doesn't mean that app performance is less critical.</span></span>
- <span data-ttu-id="f8f8d-212">Contoso needs to understand the compatibility of its applications and databases with Azure requirements.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-212">Contoso needs to understand the compatibility of its applications and databases with Azure requirements.</span></span> <span data-ttu-id="f8f8d-213">Contoso also needs to understand its hosting options in Azure.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-213">Contoso also needs to understand its hosting options in Azure.</span></span>
- <span data-ttu-id="f8f8d-214">Contoso's database administration should be minimized after apps move to the cloud.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-214">Contoso's database administration should be minimized after apps move to the cloud.</span></span>  
- <span data-ttu-id="f8f8d-215">Contoso wants to understand not only its migration options, but also the costs associated with the infrastructure after it moves to the cloud.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-215">Contoso wants to understand not only its migration options, but also the costs associated with the infrastructure after it moves to the cloud.</span></span>

## <a name="assessment-tools"></a><span data-ttu-id="f8f8d-216">Assessment tools</span><span class="sxs-lookup"><span data-stu-id="f8f8d-216">Assessment tools</span></span>

<span data-ttu-id="f8f8d-217">Contoso uses Microsoft tools for its migration assessment.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-217">Contoso uses Microsoft tools for its migration assessment.</span></span> <span data-ttu-id="f8f8d-218">The tools align with the company's goals and should provide Contoso with all the information it needs.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-218">The tools align with the company's goals and should provide Contoso with all the information it needs.</span></span>

<span data-ttu-id="f8f8d-219">Technology</span><span class="sxs-lookup"><span data-stu-id="f8f8d-219">Technology</span></span> | <span data-ttu-id="f8f8d-220">Description</span><span class="sxs-lookup"><span data-stu-id="f8f8d-220">Description</span></span> | <span data-ttu-id="f8f8d-221">Cost</span><span class="sxs-lookup"><span data-stu-id="f8f8d-221">Cost</span></span>
--- | --- | ---
[<span data-ttu-id="f8f8d-222">Data Migration Assistant</span><span class="sxs-lookup"><span data-stu-id="f8f8d-222">Data Migration Assistant</span></span>](https://docs.microsoft.com/sql/dma/dma-overview?view=ssdt-18vs2017) | <span data-ttu-id="f8f8d-223">Contoso uses Data Migration Assistant to assess and detect compatibility issues that might affect its database functionality in Azure.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-223">Contoso uses Data Migration Assistant to assess and detect compatibility issues that might affect its database functionality in Azure.</span></span> <span data-ttu-id="f8f8d-224">Data Migration Assistant assesses feature parity between SQL sources and targets.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-224">Data Migration Assistant assesses feature parity between SQL sources and targets.</span></span> <span data-ttu-id="f8f8d-225">It recommends performance and reliability improvements.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-225">It recommends performance and reliability improvements.</span></span> | <span data-ttu-id="f8f8d-226">Data Migration Assistant is a free, downloadable tool.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-226">Data Migration Assistant is a free, downloadable tool.</span></span>
[<span data-ttu-id="f8f8d-227">Azure Migrate</span><span class="sxs-lookup"><span data-stu-id="f8f8d-227">Azure Migrate</span></span>](https://docs.microsoft.com/azure/migrate/migrate-overview) | <span data-ttu-id="f8f8d-228">Contoso uses the Azure Migrate service to assess its VMware VMs.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-228">Contoso uses the Azure Migrate service to assess its VMware VMs.</span></span> <span data-ttu-id="f8f8d-229">Azure Migrate assesses the migration suitability of the machines.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-229">Azure Migrate assesses the migration suitability of the machines.</span></span> <span data-ttu-id="f8f8d-230">It provides sizing and cost estimates for running in Azure.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-230">It provides sizing and cost estimates for running in Azure.</span></span>  | <span data-ttu-id="f8f8d-231">As of May 2018, Azure Migrate is a free service.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-231">As of May 2018, Azure Migrate is a free service.</span></span>
[<span data-ttu-id="f8f8d-232">Service Map</span><span class="sxs-lookup"><span data-stu-id="f8f8d-232">Service Map</span></span>](https://docs.microsoft.com/azure/operations-management-suite/operations-management-suite-service-map) | <span data-ttu-id="f8f8d-233">Azure Migrate uses Service Map to show dependencies between machines that the company wants to migrate.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-233">Azure Migrate uses Service Map to show dependencies between machines that the company wants to migrate.</span></span> | <span data-ttu-id="f8f8d-234">Service Map is part of Azure Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-234">Service Map is part of Azure Log Analytics.</span></span> <span data-ttu-id="f8f8d-235">Currently, Contoso can use Service Map for 180 days without incurring charges.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-235">Currently, Contoso can use Service Map for 180 days without incurring charges.</span></span>

<span data-ttu-id="f8f8d-236">In this scenario, Contoso downloads and runs Data Migration Assistant to assess the on-premises SQL Server database for its travel app.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-236">In this scenario, Contoso downloads and runs Data Migration Assistant to assess the on-premises SQL Server database for its travel app.</span></span> <span data-ttu-id="f8f8d-237">Contoso uses Azure Migrate with dependency mapping to assess the app VMs before migration to Azure.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-237">Contoso uses Azure Migrate with dependency mapping to assess the app VMs before migration to Azure.</span></span>

## <a name="assessment-architecture"></a><span data-ttu-id="f8f8d-238">Assessment architecture</span><span class="sxs-lookup"><span data-stu-id="f8f8d-238">Assessment architecture</span></span>

![Migration assessment architecture](./media/contoso-migration-assessment/migration-assessment-architecture.png)

- <span data-ttu-id="f8f8d-240">Contoso is a fictitious name that represents a typical enterprise organization.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-240">Contoso is a fictitious name that represents a typical enterprise organization.</span></span>
- <span data-ttu-id="f8f8d-241">Contoso has an on-premises datacenter (**contoso-datacenter**) and on-premises domain controllers (**CONTOSODC1**, **CONTOSODC2**).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-241">Contoso has an on-premises datacenter (**contoso-datacenter**) and on-premises domain controllers (**CONTOSODC1**, **CONTOSODC2**).</span></span>
- <span data-ttu-id="f8f8d-242">VMware VMs are located on VMware ESXi hosts running version 6.5 (**contosohost1**, **contosohost2**).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-242">VMware VMs are located on VMware ESXi hosts running version 6.5 (**contosohost1**, **contosohost2**).</span></span>
- <span data-ttu-id="f8f8d-243">The VMware environment is managed by vCenter Server 6.5 (**vcenter.contoso.com**, running on a VM).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-243">The VMware environment is managed by vCenter Server 6.5 (**vcenter.contoso.com**, running on a VM).</span></span>
- <span data-ttu-id="f8f8d-244">The SmartHotel360 travel app has these characteristics:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-244">The SmartHotel360 travel app has these characteristics:</span></span>
    - <span data-ttu-id="f8f8d-245">The app is tiered across two VMware VMs (**WEBVM** and **SQLVM**).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-245">The app is tiered across two VMware VMs (**WEBVM** and **SQLVM**).</span></span>
    - <span data-ttu-id="f8f8d-246">The VMs are located on VMware ESXi host **contosohost1.contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-246">The VMs are located on VMware ESXi host **contosohost1.contoso.com**.</span></span>
    - <span data-ttu-id="f8f8d-247">The VMs are running Windows Server 2008 R2 Datacenter with SP1.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-247">The VMs are running Windows Server 2008 R2 Datacenter with SP1.</span></span>
- <span data-ttu-id="f8f8d-248">The VMware environment is managed by vCenter Server (**vcenter.contoso.com**) running on a VM.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-248">The VMware environment is managed by vCenter Server (**vcenter.contoso.com**) running on a VM.</span></span>
- <span data-ttu-id="f8f8d-249">The osTicket service desk app:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-249">The osTicket service desk app:</span></span>
    - <span data-ttu-id="f8f8d-250">The app is tiered across two VMs (**OSTICKETWEB** and **OSTICKETMYSQL**).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-250">The app is tiered across two VMs (**OSTICKETWEB** and **OSTICKETMYSQL**).</span></span>
    - <span data-ttu-id="f8f8d-251">The VMs are running Ubuntu Linux Server 16.04-LTS.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-251">The VMs are running Ubuntu Linux Server 16.04-LTS.</span></span>
    - <span data-ttu-id="f8f8d-252">**OSTICKETWEB** is running Apache 2 and PHP 7.0.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-252">**OSTICKETWEB** is running Apache 2 and PHP 7.0.</span></span>
    - <span data-ttu-id="f8f8d-253">**OSTICKETMYSQL** is running MySQL 5.7.22.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-253">**OSTICKETMYSQL** is running MySQL 5.7.22.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="f8f8d-254">Prerequisites</span><span class="sxs-lookup"><span data-stu-id="f8f8d-254">Prerequisites</span></span>

<span data-ttu-id="f8f8d-255">Contoso and other users must meet the following prerequisites for the assessment:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-255">Contoso and other users must meet the following prerequisites for the assessment:</span></span>

- <span data-ttu-id="f8f8d-256">Owner or Contributor permissions for the Azure subscription, or for a resource group in the Azure subscription.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-256">Owner or Contributor permissions for the Azure subscription, or for a resource group in the Azure subscription.</span></span>
- <span data-ttu-id="f8f8d-257">An on-premises vCenter Server instance running version 6.5, 6.0, or 5.5.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-257">An on-premises vCenter Server instance running version 6.5, 6.0, or 5.5.</span></span>
- <span data-ttu-id="f8f8d-258">A read-only account in vCenter Server, or permissions to create one.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-258">A read-only account in vCenter Server, or permissions to create one.</span></span>
- <span data-ttu-id="f8f8d-259">Permissions to create a VM on the vCenter Server instance by using an .ova template.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-259">Permissions to create a VM on the vCenter Server instance by using an .ova template.</span></span>
- <span data-ttu-id="f8f8d-260">At least one ESXi host running version 5.0 or later.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-260">At least one ESXi host running version 5.0 or later.</span></span>
- <span data-ttu-id="f8f8d-261">At least two on-premises VMware VMs, one running a SQL Server database.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-261">At least two on-premises VMware VMs, one running a SQL Server database.</span></span>
- <span data-ttu-id="f8f8d-262">Permissions to install Azure Migrate agents on each VM.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-262">Permissions to install Azure Migrate agents on each VM.</span></span>
- <span data-ttu-id="f8f8d-263">The VMs should have direct internet connectivity.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-263">The VMs should have direct internet connectivity.</span></span>  
        <span data-ttu-id="f8f8d-264">- You can restrict internet access to the [required URLs](https://docs.microsoft.com/azure/migrate/concepts-collector#collector-pre-requisites).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-264">- You can restrict internet access to the [required URLs](https://docs.microsoft.com/azure/migrate/concepts-collector#collector-pre-requisites).</span></span>  
        <span data-ttu-id="f8f8d-265">- If your VMs don't have internet connectivity, the Azure [Log Analytics Gateway](../log-analytics/log-analytics-oms-gateway.md) must be installed on them, and agent traffic directed through it.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-265">- If your VMs don't have internet connectivity, the Azure [Log Analytics Gateway](../log-analytics/log-analytics-oms-gateway.md) must be installed on them, and agent traffic directed through it.</span></span>
- <span data-ttu-id="f8f8d-266">The FQDN of the VM running the SQL Server instance, for database assessment.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-266">The FQDN of the VM running the SQL Server instance, for database assessment.</span></span>
- <span data-ttu-id="f8f8d-267">Windows Firewall running on the SQL Server VM should allow external connections on TCP port 1433 (default).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-267">Windows Firewall running on the SQL Server VM should allow external connections on TCP port 1433 (default).</span></span> <span data-ttu-id="f8f8d-268">This setup allows Data Migration Assistant to connect.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-268">This setup allows Data Migration Assistant to connect.</span></span>

## <a name="assessment-overview"></a><span data-ttu-id="f8f8d-269">Assessment overview</span><span class="sxs-lookup"><span data-stu-id="f8f8d-269">Assessment overview</span></span>

<span data-ttu-id="f8f8d-270">Here's how Contoso performs its assessment:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-270">Here's how Contoso performs its assessment:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="f8f8d-271">**Step 1: Download and install Data Migration Assistant**: Contoso prepares Data Migration Assistant for assessment of the on-premises SQL Server database.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-271">**Step 1: Download and install Data Migration Assistant**: Contoso prepares Data Migration Assistant for assessment of the on-premises SQL Server database.</span></span>
> * <span data-ttu-id="f8f8d-272">**Step 2: Assess the database by using Data Migration Assistant**: Contoso runs and analyzes the database assessment.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-272">**Step 2: Assess the database by using Data Migration Assistant**: Contoso runs and analyzes the database assessment.</span></span>
> * <span data-ttu-id="f8f8d-273">**Step 3: Prepare for VM assessment by using Azure Migrate**: Contoso sets up on-premises accounts and adjusts VMware settings.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-273">**Step 3: Prepare for VM assessment by using Azure Migrate**: Contoso sets up on-premises accounts and adjusts VMware settings.</span></span>
> * <span data-ttu-id="f8f8d-274">**Step 4: Discover on-premises VMs by using Azure Migrate**: Contoso creates an Azure Migrate collector VM.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-274">**Step 4: Discover on-premises VMs by using Azure Migrate**: Contoso creates an Azure Migrate collector VM.</span></span> <span data-ttu-id="f8f8d-275">Then, Contoso runs the collector to discover VMs for assessment.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-275">Then, Contoso runs the collector to discover VMs for assessment.</span></span>
> * <span data-ttu-id="f8f8d-276">**Step 5: Prepare for dependency analysis by using Azure Migrate**: Contoso installs Azure Migrate agents on the VMs, so the company can see dependency mapping between VMs.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-276">**Step 5: Prepare for dependency analysis by using Azure Migrate**: Contoso installs Azure Migrate agents on the VMs, so the company can see dependency mapping between VMs.</span></span>
> * <span data-ttu-id="f8f8d-277">**Step 6: Assess the VMs by using Azure Migrate**: Contoso checks dependencies, groups the VMs, and runs the assessment.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-277">**Step 6: Assess the VMs by using Azure Migrate**: Contoso checks dependencies, groups the VMs, and runs the assessment.</span></span> <span data-ttu-id="f8f8d-278">When the assessment is ready, Contoso analyzes the assessment in preparation for migration.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-278">When the assessment is ready, Contoso analyzes the assessment in preparation for migration.</span></span>

## <a name="step-1-download-and-install-data-migration-assistant"></a><span data-ttu-id="f8f8d-279">Step 1: Download and install Data Migration Assistant</span><span class="sxs-lookup"><span data-stu-id="f8f8d-279">Step 1: Download and install Data Migration Assistant</span></span>

1. <span data-ttu-id="f8f8d-280">Contoso downloads Data Migration Assistant from the [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=53595).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-280">Contoso downloads Data Migration Assistant from the [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=53595).</span></span>
    - <span data-ttu-id="f8f8d-281">Data Migration Assistant can be installed on any machine that can connect to the SQL Server instance.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-281">Data Migration Assistant can be installed on any machine that can connect to the SQL Server instance.</span></span> <span data-ttu-id="f8f8d-282">Contoso doesn't need to run it on the SQL Server machine.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-282">Contoso doesn't need to run it on the SQL Server machine.</span></span>
    - <span data-ttu-id="f8f8d-283">Data Migration Assistant shouldn't be run on the SQL Server host machine.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-283">Data Migration Assistant shouldn't be run on the SQL Server host machine.</span></span>
2. <span data-ttu-id="f8f8d-284">Contoso runs the downloaded setup file (DownloadMigrationAssistant.msi) to begin the installation.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-284">Contoso runs the downloaded setup file (DownloadMigrationAssistant.msi) to begin the installation.</span></span>
3. <span data-ttu-id="f8f8d-285">On the **Finish** page, Contoso selects **Launch Microsoft Data Migration Assistant** before finishing the wizard.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-285">On the **Finish** page, Contoso selects **Launch Microsoft Data Migration Assistant** before finishing the wizard.</span></span>

## <a name="step-2-run-and-analyze-the-database-assessment-for-smarthotel360"></a><span data-ttu-id="f8f8d-286">Step 2: Run and analyze the database assessment for SmartHotel360</span><span class="sxs-lookup"><span data-stu-id="f8f8d-286">Step 2: Run and analyze the database assessment for SmartHotel360</span></span>

<span data-ttu-id="f8f8d-287">Now, Contoso can run an assessment to analyze its on-premises SQL Server database for the SmartHotel360 app.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-287">Now, Contoso can run an assessment to analyze its on-premises SQL Server database for the SmartHotel360 app.</span></span>

1. <span data-ttu-id="f8f8d-288">In Data Migration Assistant, Contoso selects **New** > **Assessment**, and then gives the assessment a project name.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-288">In Data Migration Assistant, Contoso selects **New** > **Assessment**, and then gives the assessment a project name.</span></span>
2. <span data-ttu-id="f8f8d-289">For **Source server type**, Contoso selects **SQL Server on Azure Virtual Machines**.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-289">For **Source server type**, Contoso selects **SQL Server on Azure Virtual Machines**.</span></span>

    ![Data Migration Assistant - Select source](./media/contoso-migration-assessment/dma-assessment-1.png)

    > [!NOTE]
      <span data-ttu-id="f8f8d-291">Currently, Data Migration Assistant doesn't support assessment for migrating to an Azure SQL Database Managed Instance.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-291">Currently, Data Migration Assistant doesn't support assessment for migrating to an Azure SQL Database Managed Instance.</span></span> <span data-ttu-id="f8f8d-292">As a workaround, Contoso uses SQL Server on an Azure VM as the supposed target for the assessment.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-292">As a workaround, Contoso uses SQL Server on an Azure VM as the supposed target for the assessment.</span></span>

3. <span data-ttu-id="f8f8d-293">In **Select Target Version**, Contoso selects SQL Server 2017 as the target version.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-293">In **Select Target Version**, Contoso selects SQL Server 2017 as the target version.</span></span> <span data-ttu-id="f8f8d-294">Contoso needs to select this version because it's the version that's used by the SQL Database Managed Instance.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-294">Contoso needs to select this version because it's the version that's used by the SQL Database Managed Instance.</span></span>
4. <span data-ttu-id="f8f8d-295">Contoso selects reports to help it discover information about compatibility and new features:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-295">Contoso selects reports to help it discover information about compatibility and new features:</span></span>
    - <span data-ttu-id="f8f8d-296">**Compatibility Issues** note changes that might break migration or that require a minor adjustment before migration.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-296">**Compatibility Issues** note changes that might break migration or that require a minor adjustment before migration.</span></span> <span data-ttu-id="f8f8d-297">This report keeps Contoso informed about any features currently in use that are deprecated.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-297">This report keeps Contoso informed about any features currently in use that are deprecated.</span></span> <span data-ttu-id="f8f8d-298">Issues are organized by compatibility level.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-298">Issues are organized by compatibility level.</span></span>
    - <span data-ttu-id="f8f8d-299">**New features' recommendation** notes new features in the target SQL Server platform that can be used for the database after migration.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-299">**New features' recommendation** notes new features in the target SQL Server platform that can be used for the database after migration.</span></span> <span data-ttu-id="f8f8d-300">New feature recommendations are organized under the headings **Performance**, **Security**, and **Storage**.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-300">New feature recommendations are organized under the headings **Performance**, **Security**, and **Storage**.</span></span>

    ![Data Migration Assistant - Compatibility issues and new features](./media/contoso-migration-assessment/dma-assessment-2.png)

2. <span data-ttu-id="f8f8d-302">In **Connect to a server**, Contoso enters the name of the VM that's running the database and credentials to access it.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-302">In **Connect to a server**, Contoso enters the name of the VM that's running the database and credentials to access it.</span></span> <span data-ttu-id="f8f8d-303">Contoso selects **Trust server certificate** to make sure the VM can access SQL Server.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-303">Contoso selects **Trust server certificate** to make sure the VM can access SQL Server.</span></span> <span data-ttu-id="f8f8d-304">Then, Contoso selects **Connect**.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-304">Then, Contoso selects **Connect**.</span></span>

    ![Data Migration Assistant - Connect to a server](./media/contoso-migration-assessment/dma-assessment-3.png)

3. <span data-ttu-id="f8f8d-306">In **Add source**, Contoso adds the database it wants to assess, and then selects **Next** to start the assessment.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-306">In **Add source**, Contoso adds the database it wants to assess, and then selects **Next** to start the assessment.</span></span>
4. <span data-ttu-id="f8f8d-307">The assessment is created.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-307">The assessment is created.</span></span>

    ![Data Migration Assistant - Create assessment](./media/contoso-migration-assessment/dma-assessment-4.png)

5. <span data-ttu-id="f8f8d-309">In **Review Results**, Contoso views the assessment results.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-309">In **Review Results**, Contoso views the assessment results.</span></span>

### <a name="analyze-the-database-assessment"></a><span data-ttu-id="f8f8d-310">Analyze the database assessment</span><span class="sxs-lookup"><span data-stu-id="f8f8d-310">Analyze the database assessment</span></span>

<span data-ttu-id="f8f8d-311">Results are displayed as soon as they're available.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-311">Results are displayed as soon as they're available.</span></span> <span data-ttu-id="f8f8d-312">If Contoso fixes issues, it must select **Restart Assessment** to rerun the assessment.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-312">If Contoso fixes issues, it must select **Restart Assessment** to rerun the assessment.</span></span>

1. <span data-ttu-id="f8f8d-313">In the **Compatibility issues** report, Contoso checks for any issues at each compatibility level.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-313">In the **Compatibility issues** report, Contoso checks for any issues at each compatibility level.</span></span> <span data-ttu-id="f8f8d-314">Compatibility levels map to SQL Server versions as follows:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-314">Compatibility levels map to SQL Server versions as follows:</span></span>

    - <span data-ttu-id="f8f8d-315">100: SQL Server 2008/Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="f8f8d-315">100: SQL Server 2008/Azure SQL Database</span></span>
    - <span data-ttu-id="f8f8d-316">110: SQL Server 2012/Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="f8f8d-316">110: SQL Server 2012/Azure SQL Database</span></span>
    - <span data-ttu-id="f8f8d-317">120: SQL Server 2014/Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="f8f8d-317">120: SQL Server 2014/Azure SQL Database</span></span>
    - <span data-ttu-id="f8f8d-318">130: SQL Server 2016/Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="f8f8d-318">130: SQL Server 2016/Azure SQL Database</span></span>
    - <span data-ttu-id="f8f8d-319">140: SQL Server 2017/Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="f8f8d-319">140: SQL Server 2017/Azure SQL Database</span></span>

    ![Data Migration Assistant - Compatibility issues report](./media/contoso-migration-assessment/dma-assessment-5.png)

2. <span data-ttu-id="f8f8d-321">In the **Feature recommendations** report, Contoso views performance, security, and storage features that the assessment recommends after migration.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-321">In the **Feature recommendations** report, Contoso views performance, security, and storage features that the assessment recommends after migration.</span></span> <span data-ttu-id="f8f8d-322">A variety of features are recommended, including In-Memory OLTP, columnstore indexes, Stretch Database, Always Encrypted, dynamic data masking, and transparent data encryption.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-322">A variety of features are recommended, including In-Memory OLTP, columnstore indexes, Stretch Database, Always Encrypted, dynamic data masking, and transparent data encryption.</span></span>

    ![Data Migration Assistant - Feature recommendations report](./media/contoso-migration-assessment/dma-assessment-6.png)

    > [!NOTE]
    > <span data-ttu-id="f8f8d-324">Contoso should [enable transparent data encryption](https://docs.microsoft.com/sql/relational-databases/security/encryption/transparent-data-encryption?view=sql-server-2017) for all SQL Server databases.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-324">Contoso should [enable transparent data encryption](https://docs.microsoft.com/sql/relational-databases/security/encryption/transparent-data-encryption?view=sql-server-2017) for all SQL Server databases.</span></span> <span data-ttu-id="f8f8d-325">This is even more critical when a database is in the cloud than when it's hosted on-premises.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-325">This is even more critical when a database is in the cloud than when it's hosted on-premises.</span></span> <span data-ttu-id="f8f8d-326">Transparent data encryption should be enabled only after migration.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-326">Transparent data encryption should be enabled only after migration.</span></span> <span data-ttu-id="f8f8d-327">If transparent data encryption is already enabled, Contoso must move the certificate or asymmetric key to the master database of the target server.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-327">If transparent data encryption is already enabled, Contoso must move the certificate or asymmetric key to the master database of the target server.</span></span> <span data-ttu-id="f8f8d-328">Learn how to [move a transparent data encryption-protected database to another SQL Server instance](https://docs.microsoft.com/sql/relational-databases/security/encryption/move-a-tde-protected-database-to-another-sql-server?view=sql-server-2017).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-328">Learn how to [move a transparent data encryption-protected database to another SQL Server instance](https://docs.microsoft.com/sql/relational-databases/security/encryption/move-a-tde-protected-database-to-another-sql-server?view=sql-server-2017).</span></span>

2. <span data-ttu-id="f8f8d-329">Contoso can export the assessment in JSON or CSV format.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-329">Contoso can export the assessment in JSON or CSV format.</span></span>

> [!NOTE]
> <span data-ttu-id="f8f8d-330">For large-scale assessments:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-330">For large-scale assessments:</span></span>
> - <span data-ttu-id="f8f8d-331">Run multiple assessments concurrently and view the state of the assessments on the **All Assessments** page.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-331">Run multiple assessments concurrently and view the state of the assessments on the **All Assessments** page.</span></span>
> - <span data-ttu-id="f8f8d-332">Consolidate assessments into a [SQL Server database](https://docs.microsoft.com/sql/dma/dma-consolidatereports?view=ssdt-18vs2017#import-assessment-results-into-a-sql-server-database).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-332">Consolidate assessments into a [SQL Server database](https://docs.microsoft.com/sql/dma/dma-consolidatereports?view=ssdt-18vs2017#import-assessment-results-into-a-sql-server-database).</span></span>
> - <span data-ttu-id="f8f8d-333">Consolidate assessments into a [Power BI report](https://docs.microsoft.com/sql/dma/dma-powerbiassesreport?view=ssdt-18vs2017).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-333">Consolidate assessments into a [Power BI report](https://docs.microsoft.com/sql/dma/dma-powerbiassesreport?view=ssdt-18vs2017).</span></span>

## <a name="step-3-prepare-for-vm-assessment-by-using-azure-migrate"></a><span data-ttu-id="f8f8d-334">Step 3: Prepare for VM assessment by using Azure Migrate</span><span class="sxs-lookup"><span data-stu-id="f8f8d-334">Step 3: Prepare for VM assessment by using Azure Migrate</span></span>

<span data-ttu-id="f8f8d-335">Contoso needs to create a VMware account that Azure Migrate can use to automatically discover VMs for assessment, verify rights to create a VM, note the ports that need to be opened, and set the statistics settings level.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-335">Contoso needs to create a VMware account that Azure Migrate can use to automatically discover VMs for assessment, verify rights to create a VM, note the ports that need to be opened, and set the statistics settings level.</span></span>

### <a name="set-up-a-vmware-account"></a><span data-ttu-id="f8f8d-336">Set up a VMware account</span><span class="sxs-lookup"><span data-stu-id="f8f8d-336">Set up a VMware account</span></span>

<span data-ttu-id="f8f8d-337">VM discovery requires a read-only account in vCenter Server that has the following properties:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-337">VM discovery requires a read-only account in vCenter Server that has the following properties:</span></span>

- <span data-ttu-id="f8f8d-338">**User type**: At least a read-only user.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-338">**User type**: At least a read-only user.</span></span>
- <span data-ttu-id="f8f8d-339">**Permissions**: For the datacenter object, select the **Propagate to Child Objects** checkbox.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-339">**Permissions**: For the datacenter object, select the **Propagate to Child Objects** checkbox.</span></span> <span data-ttu-id="f8f8d-340">For **Role**, select **Read-only**.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-340">For **Role**, select **Read-only**.</span></span>
- <span data-ttu-id="f8f8d-341">**Details**: The user is assigned at the datacenter level, with access to all objects in the datacenter.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-341">**Details**: The user is assigned at the datacenter level, with access to all objects in the datacenter.</span></span>
- <span data-ttu-id="f8f8d-342">To restrict access, assign the **No access** role with the **Propagate to child** object to the child objects (vSphere hosts, datastores, VMs, and networks).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-342">To restrict access, assign the **No access** role with the **Propagate to child** object to the child objects (vSphere hosts, datastores, VMs, and networks).</span></span>

### <a name="verify-permissions-to-create-a-vm"></a><span data-ttu-id="f8f8d-343">Verify permissions to create a VM</span><span class="sxs-lookup"><span data-stu-id="f8f8d-343">Verify permissions to create a VM</span></span>

<span data-ttu-id="f8f8d-344">Contoso verifies that it has permissions to create a VM by importing a file in .ova format.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-344">Contoso verifies that it has permissions to create a VM by importing a file in .ova format.</span></span> <span data-ttu-id="f8f8d-345">Learn how to [create and assign a role with privileges](https://kb.vmware.com/s/article/1023189?other.KM_Utility.getArticleLanguage=1&r=2&other.KM_Utility.getArticleData=1&other.KM_Utility.getArticle=1&ui-comm-runtime-components-aura-components-siteforce-qb.Quarterback.validateRoute=1&other.KM_Utility.getGUser=1).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-345">Learn how to [create and assign a role with privileges](https://kb.vmware.com/s/article/1023189?other.KM_Utility.getArticleLanguage=1&r=2&other.KM_Utility.getArticleData=1&other.KM_Utility.getArticle=1&ui-comm-runtime-components-aura-components-siteforce-qb.Quarterback.validateRoute=1&other.KM_Utility.getGUser=1).</span></span>

### <a name="verify-ports"></a><span data-ttu-id="f8f8d-346">Verify ports</span><span class="sxs-lookup"><span data-stu-id="f8f8d-346">Verify ports</span></span>

<span data-ttu-id="f8f8d-347">The Contoso assessment uses dependency mapping.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-347">The Contoso assessment uses dependency mapping.</span></span> <span data-ttu-id="f8f8d-348">Dependency mapping requires an agent to be installed on VMs that will be assessed.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-348">Dependency mapping requires an agent to be installed on VMs that will be assessed.</span></span> <span data-ttu-id="f8f8d-349">The agent must be able to connect to Azure from TCP port 443 on each VM.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-349">The agent must be able to connect to Azure from TCP port 443 on each VM.</span></span> <span data-ttu-id="f8f8d-350">Learn about [connection requirements](https://docs.microsoft.com/azure/log-analytics/log-analytics-concept-hybrid).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-350">Learn about [connection requirements](https://docs.microsoft.com/azure/log-analytics/log-analytics-concept-hybrid).</span></span>

### <a name="set-statistics-settings"></a><span data-ttu-id="f8f8d-351">Set statistics settings</span><span class="sxs-lookup"><span data-stu-id="f8f8d-351">Set statistics settings</span></span>

<span data-ttu-id="f8f8d-352">Before Contoso begins the deployment, it must set the statistics settings for the vCenter Server to level 3.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-352">Before Contoso begins the deployment, it must set the statistics settings for the vCenter Server to level 3.</span></span> 

> [!NOTE]
> - <span data-ttu-id="f8f8d-353">After setting the level, Contoso must wait at least a day before it runs the assessment.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-353">After setting the level, Contoso must wait at least a day before it runs the assessment.</span></span> <span data-ttu-id="f8f8d-354">Otherwise, the assessment might not work as expected.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-354">Otherwise, the assessment might not work as expected.</span></span>
> - <span data-ttu-id="f8f8d-355">If the level is higher than 3, the assessment works, but:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-355">If the level is higher than 3, the assessment works, but:</span></span>
>    - <span data-ttu-id="f8f8d-356">Performance data for disks and networking isn't collected.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-356">Performance data for disks and networking isn't collected.</span></span>
>    - <span data-ttu-id="f8f8d-357">For storage, Azure Migrate recommends a standard disk in Azure, with the same size as the on-premises disk.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-357">For storage, Azure Migrate recommends a standard disk in Azure, with the same size as the on-premises disk.</span></span>
>    - <span data-ttu-id="f8f8d-358">For networking, for each on-premises network adapter, a network adapter is  recommended in Azure.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-358">For networking, for each on-premises network adapter, a network adapter is  recommended in Azure.</span></span>
>    - <span data-ttu-id="f8f8d-359">For compute, Azure Migrate looks at the VM cores and memory size and recommends an Azure VM with the same configuration.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-359">For compute, Azure Migrate looks at the VM cores and memory size and recommends an Azure VM with the same configuration.</span></span> <span data-ttu-id="f8f8d-360">If there are multiple eligible Azure VM sizes, the one with the lowest cost is recommended.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-360">If there are multiple eligible Azure VM sizes, the one with the lowest cost is recommended.</span></span>
> - <span data-ttu-id="f8f8d-361">For more information about sizing by using level 3, see [Sizing](https://docs.microsoft.com/azure/migrate/concepts-assessment-calculation#sizing).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-361">For more information about sizing by using level 3, see [Sizing](https://docs.microsoft.com/azure/migrate/concepts-assessment-calculation#sizing).</span></span>

<span data-ttu-id="f8f8d-362">To set the level:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-362">To set the level:</span></span>

1. <span data-ttu-id="f8f8d-363">In the vSphere Web Client, Contoso opens the vCenter Server instance.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-363">In the vSphere Web Client, Contoso opens the vCenter Server instance.</span></span>
2. <span data-ttu-id="f8f8d-364">Contoso selects **Manage** > **Settings** > **General** > **Edit**.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-364">Contoso selects **Manage** > **Settings** > **General** > **Edit**.</span></span>
3. <span data-ttu-id="f8f8d-365">In **Statistics**, Contoso sets the statistic level settings to **Level 3**.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-365">In **Statistics**, Contoso sets the statistic level settings to **Level 3**.</span></span>

    ![vCenter Server statistics level](./media/contoso-migration-assessment/vcenter-statistics-level.png)

## <a name="step-4-discover-vms"></a><span data-ttu-id="f8f8d-367">Step 4: Discover VMs</span><span class="sxs-lookup"><span data-stu-id="f8f8d-367">Step 4: Discover VMs</span></span>

<span data-ttu-id="f8f8d-368">To discover VMs, Contoso creates an Azure Migrate project.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-368">To discover VMs, Contoso creates an Azure Migrate project.</span></span> <span data-ttu-id="f8f8d-369">Contoso downloads and sets up the collector VM.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-369">Contoso downloads and sets up the collector VM.</span></span> <span data-ttu-id="f8f8d-370">Then, Contoso runs the collector to discover its on-premises VMs.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-370">Then, Contoso runs the collector to discover its on-premises VMs.</span></span>

### <a name="create-a-project"></a><span data-ttu-id="f8f8d-371">Create a project</span><span class="sxs-lookup"><span data-stu-id="f8f8d-371">Create a project</span></span>

1. <span data-ttu-id="f8f8d-372">In the [Azure portal](https://portal.azure.com), Contoso searches for **Azure Migrate**.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-372">In the [Azure portal](https://portal.azure.com), Contoso searches for **Azure Migrate**.</span></span> <span data-ttu-id="f8f8d-373">Then, Contoso creates a project.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-373">Then, Contoso creates a project.</span></span>
2. <span data-ttu-id="f8f8d-374">Contoso specifies a project name (**ContosoMigration**) and the Azure subscription.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-374">Contoso specifies a project name (**ContosoMigration**) and the Azure subscription.</span></span> <span data-ttu-id="f8f8d-375">It creates a new Azure resource group (**ContosoFailoverRG**).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-375">It creates a new Azure resource group (**ContosoFailoverRG**).</span></span> 
    > [!NOTE]
    > - <span data-ttu-id="f8f8d-376">You can create an Azure Migrate project only in the West Central US or East US region.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-376">You can create an Azure Migrate project only in the West Central US or East US region.</span></span>
    > - <span data-ttu-id="f8f8d-377">You can plan a migration for any target location.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-377">You can plan a migration for any target location.</span></span>
    > - <span data-ttu-id="f8f8d-378">The project location is used only to store the metadata that's gathered from on-premises VMs.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-378">The project location is used only to store the metadata that's gathered from on-premises VMs.</span></span>

    ![Azure Migrate - Create migration project](./media/contoso-migration-assessment/project-1.png)

### <a name="download-the-collector-appliance"></a><span data-ttu-id="f8f8d-380">Download the collector appliance</span><span class="sxs-lookup"><span data-stu-id="f8f8d-380">Download the collector appliance</span></span>

<span data-ttu-id="f8f8d-381">Azure Migrate creates an on-premises VM known as the *collector appliance*.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-381">Azure Migrate creates an on-premises VM known as the *collector appliance*.</span></span> <span data-ttu-id="f8f8d-382">The VM discovers on-premises VMware VMs and sends metadata about the VMs to the Azure Migrate service.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-382">The VM discovers on-premises VMware VMs and sends metadata about the VMs to the Azure Migrate service.</span></span> <span data-ttu-id="f8f8d-383">To set up the collector appliance, Contoso downloads an OVA template, and then imports it to the on-premises vCenter Server instance to create the VM.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-383">To set up the collector appliance, Contoso downloads an OVA template, and then imports it to the on-premises vCenter Server instance to create the VM.</span></span>

1. <span data-ttu-id="f8f8d-384">In the Azure Migrate project, Contoso selects **Getting Started** > **Discover & Assess** > **Discover Machines**.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-384">In the Azure Migrate project, Contoso selects **Getting Started** > **Discover & Assess** > **Discover Machines**.</span></span> <span data-ttu-id="f8f8d-385">Contoso downloads the OVA template file.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-385">Contoso downloads the OVA template file.</span></span>
2. <span data-ttu-id="f8f8d-386">Contoso copies the project ID and key.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-386">Contoso copies the project ID and key.</span></span> <span data-ttu-id="f8f8d-387">The project and ID are required for configuring the collector.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-387">The project and ID are required for configuring the collector.</span></span>

    ![Azure Migrate - Download the OVA file](./media/contoso-migration-assessment/download-ova.png)

### <a name="verify-the-collector-appliance"></a><span data-ttu-id="f8f8d-389">Verify the collector appliance</span><span class="sxs-lookup"><span data-stu-id="f8f8d-389">Verify the collector appliance</span></span>

<span data-ttu-id="f8f8d-390">Before deploying the VM, Contoso checks that the OVA file is secure:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-390">Before deploying the VM, Contoso checks that the OVA file is secure:</span></span>

1. <span data-ttu-id="f8f8d-391">On the machine on which the file was downloaded, Contoso opens an administrator Command Prompt window.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-391">On the machine on which the file was downloaded, Contoso opens an administrator Command Prompt window.</span></span>
2. <span data-ttu-id="f8f8d-392">Contoso runs the following command to generate the hash for the OVA file:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-392">Contoso runs the following command to generate the hash for the OVA file:</span></span>

    ```C:\>CertUtil -HashFile <file_location> [Hashing Algorithm]```
    
    <span data-ttu-id="f8f8d-393">**Example**</span><span class="sxs-lookup"><span data-stu-id="f8f8d-393">**Example**</span></span> 
    
    ```C:\>CertUtil -HashFile C:\AzureMigrate\AzureMigrate.ova SHA256```
3. <span data-ttu-id="f8f8d-394">The generated hash should match these settings (version 1.0.9.14):</span><span class="sxs-lookup"><span data-stu-id="f8f8d-394">The generated hash should match these settings (version 1.0.9.14):</span></span>

    <span data-ttu-id="f8f8d-395">**Algorithm**</span><span class="sxs-lookup"><span data-stu-id="f8f8d-395">**Algorithm**</span></span> | <span data-ttu-id="f8f8d-396">**Hash value**</span><span class="sxs-lookup"><span data-stu-id="f8f8d-396">**Hash value**</span></span>
    --- | ---
    <span data-ttu-id="f8f8d-397">MD5</span><span class="sxs-lookup"><span data-stu-id="f8f8d-397">MD5</span></span> | <span data-ttu-id="f8f8d-398">6d8446c0eeba3de3ecc9bc3713f9c8bd</span><span class="sxs-lookup"><span data-stu-id="f8f8d-398">6d8446c0eeba3de3ecc9bc3713f9c8bd</span></span>
    <span data-ttu-id="f8f8d-399">SHA1</span><span class="sxs-lookup"><span data-stu-id="f8f8d-399">SHA1</span></span> | <span data-ttu-id="f8f8d-400">e9f5bdfdd1a746c11910ed917511b5d91b9f939f</span><span class="sxs-lookup"><span data-stu-id="f8f8d-400">e9f5bdfdd1a746c11910ed917511b5d91b9f939f</span></span>
    <span data-ttu-id="f8f8d-401">SHA256</span><span class="sxs-lookup"><span data-stu-id="f8f8d-401">SHA256</span></span> | <span data-ttu-id="f8f8d-402">7f7636d0959379502dfbda19b8e3f47f3a4744ee9453fc9ce548e6682a66f13c</span><span class="sxs-lookup"><span data-stu-id="f8f8d-402">7f7636d0959379502dfbda19b8e3f47f3a4744ee9453fc9ce548e6682a66f13c</span></span>

### <a name="create-the-collector-appliance"></a><span data-ttu-id="f8f8d-403">Create the collector appliance</span><span class="sxs-lookup"><span data-stu-id="f8f8d-403">Create the collector appliance</span></span>

<span data-ttu-id="f8f8d-404">Now, Contoso can import the downloaded file to the vCenter Server instance and provision the collector appliance VM:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-404">Now, Contoso can import the downloaded file to the vCenter Server instance and provision the collector appliance VM:</span></span>

1. <span data-ttu-id="f8f8d-405">In the vSphere Client console, Contoso selects **File** > **Deploy OVF Template**.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-405">In the vSphere Client console, Contoso selects **File** > **Deploy OVF Template**.</span></span>

    ![vSphere Web Client - Deploy OVF template](./media/contoso-migration-assessment/vcenter-wizard.png)

2. <span data-ttu-id="f8f8d-407">In the Deploy OVF Template Wizard, Contoso selects **Source**, and then specifies the location of the OVA file.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-407">In the Deploy OVF Template Wizard, Contoso selects **Source**, and then specifies the location of the OVA file.</span></span>
3. <span data-ttu-id="f8f8d-408">In **Name and Location**, Contoso specifies a display name for the collector VM.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-408">In **Name and Location**, Contoso specifies a display name for the collector VM.</span></span> <span data-ttu-id="f8f8d-409">Then, it selects the inventory location in which to host the VM.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-409">Then, it selects the inventory location in which to host the VM.</span></span> <span data-ttu-id="f8f8d-410">Contoso also specifies the host or cluster on which to run the collector appliance.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-410">Contoso also specifies the host or cluster on which to run the collector appliance.</span></span>
4. <span data-ttu-id="f8f8d-411">In **Storage**, Contoso specifies the storage location.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-411">In **Storage**, Contoso specifies the storage location.</span></span> <span data-ttu-id="f8f8d-412">In **Disk Format**, Contoso selects how it wants to provision the storage.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-412">In **Disk Format**, Contoso selects how it wants to provision the storage.</span></span>
5. <span data-ttu-id="f8f8d-413">In **Network Mapping**, Contoso specifies the network in which to connect the collector VM.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-413">In **Network Mapping**, Contoso specifies the network in which to connect the collector VM.</span></span> <span data-ttu-id="f8f8d-414">The network needs internet connectivity to send metadata to Azure.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-414">The network needs internet connectivity to send metadata to Azure.</span></span>
6. <span data-ttu-id="f8f8d-415">Contoso reviews the settings, and then selects **Power on after deployment** > **Finish**.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-415">Contoso reviews the settings, and then selects **Power on after deployment** > **Finish**.</span></span> <span data-ttu-id="f8f8d-416">A message that confirms successful completion appears when the appliance is created.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-416">A message that confirms successful completion appears when the appliance is created.</span></span>

### <a name="run-the-collector-to-discover-vms"></a><span data-ttu-id="f8f8d-417">Run the collector to discover VMs</span><span class="sxs-lookup"><span data-stu-id="f8f8d-417">Run the collector to discover VMs</span></span>

<span data-ttu-id="f8f8d-418">Now, Contoso runs the collector to discover VMs.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-418">Now, Contoso runs the collector to discover VMs.</span></span> <span data-ttu-id="f8f8d-419">Currently, the collector currently supports only **English (United States)** as the operating system language and collector interface language.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-419">Currently, the collector currently supports only **English (United States)** as the operating system language and collector interface language.</span></span>

1. <span data-ttu-id="f8f8d-420">In the vSphere Client console, Contoso selects **Open Console**.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-420">In the vSphere Client console, Contoso selects **Open Console**.</span></span> <span data-ttu-id="f8f8d-421">Contoso specifies the language, time zone, and password preferences for the collector VM.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-421">Contoso specifies the language, time zone, and password preferences for the collector VM.</span></span>
2. <span data-ttu-id="f8f8d-422">On the desktop, Contoso selects the **Run collector** shortcut.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-422">On the desktop, Contoso selects the **Run collector** shortcut.</span></span>

    ![vSphere Client console - Collector shortcut](./media/contoso-migration-assessment/collector-shortcut.png)

3. <span data-ttu-id="f8f8d-424">In Azure Migrate Collector, Contoso selects **Set up prerequisites**.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-424">In Azure Migrate Collector, Contoso selects **Set up prerequisites**.</span></span> <span data-ttu-id="f8f8d-425">Contoso accepts the license terms and reads the third-party information.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-425">Contoso accepts the license terms and reads the third-party information.</span></span>
4. <span data-ttu-id="f8f8d-426">The collector checks that the VM has internet access, that the time is synced, and that the collector service is running.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-426">The collector checks that the VM has internet access, that the time is synced, and that the collector service is running.</span></span> <span data-ttu-id="f8f8d-427">(The collector service is installed by default on the VM.) Contoso also installs VMware PowerCLI.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-427">(The collector service is installed by default on the VM.) Contoso also installs VMware PowerCLI.</span></span>

    > [!NOTE]
    > <span data-ttu-id="f8f8d-428">It's assumed that the VM has direct access to the internet without using a proxy.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-428">It's assumed that the VM has direct access to the internet without using a proxy.</span></span>

    ![Azure Migrate Collector - Verify prerequisites](./media/contoso-migration-assessment/collector-verify-prereqs.png)

5. <span data-ttu-id="f8f8d-430">In **Specify vCenter Server details**, Contoso enters the name (FQDN) or IP address of the vCenter Server instance and the read-only credentials used for discovery.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-430">In **Specify vCenter Server details**, Contoso enters the name (FQDN) or IP address of the vCenter Server instance and the read-only credentials used for discovery.</span></span>
6. <span data-ttu-id="f8f8d-431">Contoso selects a scope for VM discovery.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-431">Contoso selects a scope for VM discovery.</span></span> <span data-ttu-id="f8f8d-432">The collector can discover only VMs that are within the specified scope.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-432">The collector can discover only VMs that are within the specified scope.</span></span> <span data-ttu-id="f8f8d-433">The scope can be set to a specific folder, datacenter, or cluster.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-433">The scope can be set to a specific folder, datacenter, or cluster.</span></span> <span data-ttu-id="f8f8d-434">The scope shouldn't contain more than 1,500 VMs.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-434">The scope shouldn't contain more than 1,500 VMs.</span></span>

    ![Specify vCenter Server details](./media/contoso-migration-assessment/collector-connect-vcenter.png)

7. <span data-ttu-id="f8f8d-436">In **Specify migration project**, Contoso enters the Azure Migrate project ID and key that were copied from the portal.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-436">In **Specify migration project**, Contoso enters the Azure Migrate project ID and key that were copied from the portal.</span></span> <span data-ttu-id="f8f8d-437">To get the project ID and key, Contoso can go to the project **Overview** page > **Discover Machines**.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-437">To get the project ID and key, Contoso can go to the project **Overview** page > **Discover Machines**.</span></span>  

    ![Specify migration project](./media/contoso-migration-assessment/collector-connect-azure.png)

8. <span data-ttu-id="f8f8d-439">In **View collection progress**, Contoso can monitor discovery and check that metadata collected from the VMs is in scope.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-439">In **View collection progress**, Contoso can monitor discovery and check that metadata collected from the VMs is in scope.</span></span> <span data-ttu-id="f8f8d-440">The collector provides an approximate discovery time.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-440">The collector provides an approximate discovery time.</span></span>

    ![View collection progress](./media/contoso-migration-assessment/collector-collection-process.png)

### <a name="verify-vms-in-the-portal"></a><span data-ttu-id="f8f8d-442">Verify VMs in the portal</span><span class="sxs-lookup"><span data-stu-id="f8f8d-442">Verify VMs in the portal</span></span>

<span data-ttu-id="f8f8d-443">When collection is finished, Contoso checks that the VMs appear in the portal:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-443">When collection is finished, Contoso checks that the VMs appear in the portal:</span></span>

1. <span data-ttu-id="f8f8d-444">In the Azure Migrate project, Contoso selects **Manage** > **Machines**.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-444">In the Azure Migrate project, Contoso selects **Manage** > **Machines**.</span></span> <span data-ttu-id="f8f8d-445">Contoso checks that the VMs that it wants to discover are shown.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-445">Contoso checks that the VMs that it wants to discover are shown.</span></span>

    ![Azure Migrate - Discovered machines](./media/contoso-migration-assessment/discovery-complete.png)

2. <span data-ttu-id="f8f8d-447">Currently, the machines don't have the Azure Migrate agents installed.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-447">Currently, the machines don't have the Azure Migrate agents installed.</span></span> <span data-ttu-id="f8f8d-448">Contoso must install the agents to view dependencies.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-448">Contoso must install the agents to view dependencies.</span></span>

    ![Azure Migrate - Agent installation is required](./media/contoso-migration-assessment/machines-no-agent.png)

## <a name="step-5-prepare-for-dependency-analysis"></a><span data-ttu-id="f8f8d-450">Step 5: Prepare for dependency analysis</span><span class="sxs-lookup"><span data-stu-id="f8f8d-450">Step 5: Prepare for dependency analysis</span></span>

<span data-ttu-id="f8f8d-451">To view dependencies between VMs that it wants to assess, Contoso downloads and installs agents on the app VMs.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-451">To view dependencies between VMs that it wants to assess, Contoso downloads and installs agents on the app VMs.</span></span> <span data-ttu-id="f8f8d-452">Contoso installs agents on all VMs for its apps, both for Windows and Linux.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-452">Contoso installs agents on all VMs for its apps, both for Windows and Linux.</span></span>

### <a name="take-a-snapshot"></a><span data-ttu-id="f8f8d-453">Take a snapshot</span><span class="sxs-lookup"><span data-stu-id="f8f8d-453">Take a snapshot</span></span>

<span data-ttu-id="f8f8d-454">To keep a copy of the VMs before modifying them, Contoso takes a snapshot before the agents are installed.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-454">To keep a copy of the VMs before modifying them, Contoso takes a snapshot before the agents are installed.</span></span>

![Machine snapshot](./media/contoso-migration-assessment/snapshot-vm.png)

### <a name="download-and-install-the-vm-agents"></a><span data-ttu-id="f8f8d-456">Download and install the VM agents</span><span class="sxs-lookup"><span data-stu-id="f8f8d-456">Download and install the VM agents</span></span>

1. <span data-ttu-id="f8f8d-457">In **Machines**, Contoso selects the machine.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-457">In **Machines**, Contoso selects the machine.</span></span> <span data-ttu-id="f8f8d-458">In the **Dependencies** column, Contoso selects **Requires installation**.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-458">In the **Dependencies** column, Contoso selects **Requires installation**.</span></span>
2. <span data-ttu-id="f8f8d-459">In the **Discover Machines** pane, Contoso:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-459">In the **Discover Machines** pane, Contoso:</span></span>
    - <span data-ttu-id="f8f8d-460">Downloads the Microsoft Monitoring Agent (MMA) and Dependency Agent for each Windows VM.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-460">Downloads the Microsoft Monitoring Agent (MMA) and Dependency Agent for each Windows VM.</span></span>
    - <span data-ttu-id="f8f8d-461">Downloads the MMA and Dependency Agent for each Linux VM.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-461">Downloads the MMA and Dependency Agent for each Linux VM.</span></span>
3. <span data-ttu-id="f8f8d-462">Contoso copies the workspace ID and key.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-462">Contoso copies the workspace ID and key.</span></span> <span data-ttu-id="f8f8d-463">Contoso needs the workspace ID and key when it installs the MMA.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-463">Contoso needs the workspace ID and key when it installs the MMA.</span></span>

    ![Agent download](./media/contoso-migration-assessment/download-agents.png)

### <a name="install-the-agents-on-windows-vms"></a><span data-ttu-id="f8f8d-465">Install the agents on Windows VMs</span><span class="sxs-lookup"><span data-stu-id="f8f8d-465">Install the agents on Windows VMs</span></span>

<span data-ttu-id="f8f8d-466">Contoso runs the installation on each VM.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-466">Contoso runs the installation on each VM.</span></span>

#### <a name="install-the-mma-on-windows-vms"></a><span data-ttu-id="f8f8d-467">Install the MMA on Windows VMs</span><span class="sxs-lookup"><span data-stu-id="f8f8d-467">Install the MMA on Windows VMs</span></span>

1. <span data-ttu-id="f8f8d-468">Contoso double-clicks the downloaded agent.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-468">Contoso double-clicks the downloaded agent.</span></span>
2. <span data-ttu-id="f8f8d-469">In **Destination Folder**, Contoso keeps the default installation folder, and then selects **Next**.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-469">In **Destination Folder**, Contoso keeps the default installation folder, and then selects **Next**.</span></span>
3. <span data-ttu-id="f8f8d-470">In **Agent Setup Options**, Contoso selects **Connect the agent to Azure Log Analytics** > **Next**.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-470">In **Agent Setup Options**, Contoso selects **Connect the agent to Azure Log Analytics** > **Next**.</span></span>

    ![Microsoft Monitoring Agent Setup - Agent Setup Options](./media/contoso-migration-assessment/mma-install.png)

4. <span data-ttu-id="f8f8d-472">In **Azure Log Analytics**, Contoso pastes the workspace ID and key that it copied from the portal.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-472">In **Azure Log Analytics**, Contoso pastes the workspace ID and key that it copied from the portal.</span></span>

    ![Microsoft Monitoring Agent Setup - Azure Log Analytics](./media/contoso-migration-assessment/mma-install2.png)

5. <span data-ttu-id="f8f8d-474">In **Ready to Install**, Contoso installs the MMA.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-474">In **Ready to Install**, Contoso installs the MMA.</span></span>

#### <a name="install-the-dependency-agent-on-windows-vms"></a><span data-ttu-id="f8f8d-475">Install the Dependency agent on Windows VMs</span><span class="sxs-lookup"><span data-stu-id="f8f8d-475">Install the Dependency agent on Windows VMs</span></span>

1. <span data-ttu-id="f8f8d-476">Contoso double-clicks the downloaded Dependency Agent.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-476">Contoso double-clicks the downloaded Dependency Agent.</span></span>
2. <span data-ttu-id="f8f8d-477">Contoso accepts the license terms and waits for the installation to finish.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-477">Contoso accepts the license terms and waits for the installation to finish.</span></span>

    ![Dependency Agent Setup - Installing](./media/contoso-migration-assessment/dependency-agent.png)

### <a name="install-the-agents-on-linux-vms"></a><span data-ttu-id="f8f8d-479">Install the agents on Linux VMs</span><span class="sxs-lookup"><span data-stu-id="f8f8d-479">Install the agents on Linux VMs</span></span>

<span data-ttu-id="f8f8d-480">Contoso runs the installation on each VM.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-480">Contoso runs the installation on each VM.</span></span>

#### <a name="install-the-mma-on-linux-vms"></a><span data-ttu-id="f8f8d-481">Install the MMA on Linux VMs</span><span class="sxs-lookup"><span data-stu-id="f8f8d-481">Install the MMA on Linux VMs</span></span>

1. <span data-ttu-id="f8f8d-482">Contoso installs the Python ctypes library on each VM by using the following command:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-482">Contoso installs the Python ctypes library on each VM by using the following command:</span></span>

    `sudo apt-get install python-ctypeslib`
2. <span data-ttu-id="f8f8d-483">Contoso must run the command to install the MMA agent as root.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-483">Contoso must run the command to install the MMA agent as root.</span></span> <span data-ttu-id="f8f8d-484">To become root, Contoso runs the following command, and then enters the root password:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-484">To become root, Contoso runs the following command, and then enters the root password:</span></span>

    `sudo -i`
3. <span data-ttu-id="f8f8d-485">Contoso installs the MMA:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-485">Contoso installs the MMA:</span></span>
    - <span data-ttu-id="f8f8d-486">Contoso enters the workspace ID and key in the command.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-486">Contoso enters the workspace ID and key in the command.</span></span>
    - <span data-ttu-id="f8f8d-487">Commands are for 64-bit.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-487">Commands are for 64-bit.</span></span>
    - <span data-ttu-id="f8f8d-488">The workspace ID and primary key are located in the Microsoft Operations Management Suite (OMS) portal.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-488">The workspace ID and primary key are located in the Microsoft Operations Management Suite (OMS) portal.</span></span> <span data-ttu-id="f8f8d-489">Select **Settings**, and then select the **Connected Sources** tab.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-489">Select **Settings**, and then select the **Connected Sources** tab.</span></span>
    - <span data-ttu-id="f8f8d-490">Run the following commands to download the OMS agent, validate the checksum, and install and onboard the agent:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-490">Run the following commands to download the OMS agent, validate the checksum, and install and onboard the agent:</span></span>

    ```
    wget https://raw.githubusercontent.com/Microsoft/OMS-Agent-for-Linux/master/installer/scripts/onboard_agent.sh && sh onboard_agent.sh -w 6b7fcaff-7efb-4356-ae06-516cacf5e25d -s k7gAMAw5Bk8pFVUTZKmk2lG4eUciswzWfYLDTxGcD8pcyc4oT8c6ZRgsMy3MmsQSHuSOcmBUsCjoRiG2x9A8Mg==
    ```

#### <a name="install-the-dependency-agent-on-linux-vms"></a><span data-ttu-id="f8f8d-491">Install the Dependency Agent on Linux VMs</span><span class="sxs-lookup"><span data-stu-id="f8f8d-491">Install the Dependency Agent on Linux VMs</span></span>

<span data-ttu-id="f8f8d-492">After the MMA is installed, Contoso installs the Dependency Agent on the Linux VMs:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-492">After the MMA is installed, Contoso installs the Dependency Agent on the Linux VMs:</span></span>

1. <span data-ttu-id="f8f8d-493">The Dependency Agent is installed on Linux computers by using InstallDependencyAgent-Linux64.bin, a shell script that has a self-extracting binary.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-493">The Dependency Agent is installed on Linux computers by using InstallDependencyAgent-Linux64.bin, a shell script that has a self-extracting binary.</span></span> <span data-ttu-id="f8f8d-494">Contoso runs the file by using sh, or it adds execute permissions to the file itself.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-494">Contoso runs the file by using sh, or it adds execute permissions to the file itself.</span></span>

2. <span data-ttu-id="f8f8d-495">Contoso installs the Linux Dependency Agent as root:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-495">Contoso installs the Linux Dependency Agent as root:</span></span>

    ```
    wget --content-disposition https://aka.ms/dependencyagentlinux -O InstallDependencyAgent-Linux64.bin && sudo sh InstallDependencyAgent-Linux64.bin -s
    ```

## <a name="step-6-run-and-analyze-the-vm-assessment"></a><span data-ttu-id="f8f8d-496">Step 6: Run and analyze the VM assessment</span><span class="sxs-lookup"><span data-stu-id="f8f8d-496">Step 6: Run and analyze the VM assessment</span></span>

<span data-ttu-id="f8f8d-497">Contoso can now verify machine dependencies and create a group.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-497">Contoso can now verify machine dependencies and create a group.</span></span> <span data-ttu-id="f8f8d-498">Then, it runs the assessment for the group.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-498">Then, it runs the assessment for the group.</span></span>

### <a name="verify-dependencies-and-create-a-group"></a><span data-ttu-id="f8f8d-499">Verify dependencies and create a group</span><span class="sxs-lookup"><span data-stu-id="f8f8d-499">Verify dependencies and create a group</span></span>

1. <span data-ttu-id="f8f8d-500">To determine which machines to analyze, Contoso selects **View Dependencies**.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-500">To determine which machines to analyze, Contoso selects **View Dependencies**.</span></span>

    ![Azure Migrate - View machine dependencies](./media/contoso-migration-assessment/view-machine-dependencies.png)

2. <span data-ttu-id="f8f8d-502">For SQLVM, the dependency map shows the following details:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-502">For SQLVM, the dependency map shows the following details:</span></span>

    - <span data-ttu-id="f8f8d-503">Process groups or processes that have active network connections running on SQLVM during the specified time period (an hour, by default).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-503">Process groups or processes that have active network connections running on SQLVM during the specified time period (an hour, by default).</span></span>
    - <span data-ttu-id="f8f8d-504">Inbound (client) and outbound (server) TCP connections to and from all dependent machines.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-504">Inbound (client) and outbound (server) TCP connections to and from all dependent machines.</span></span>
    - <span data-ttu-id="f8f8d-505">Dependent machines that have the Azure Migrate agents installed are shown as separate boxes.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-505">Dependent machines that have the Azure Migrate agents installed are shown as separate boxes.</span></span>
    - <span data-ttu-id="f8f8d-506">Machines that don't have the agents installed show port and IP address information.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-506">Machines that don't have the agents installed show port and IP address information.</span></span>

3. <span data-ttu-id="f8f8d-507">For machines that have the agent installed (WEBVM), Contoso selects the machine box to view more information.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-507">For machines that have the agent installed (WEBVM), Contoso selects the machine box to view more information.</span></span> <span data-ttu-id="f8f8d-508">The information includes the FQDN, operating system, and MAC address.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-508">The information includes the FQDN, operating system, and MAC address.</span></span>

    ![Azure Migrate - View group dependencies](./media/contoso-migration-assessment/sqlvm-dependencies.png)

4. <span data-ttu-id="f8f8d-510">Contoso selects the VMs to add to the group (SQLVM and WEBVM).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-510">Contoso selects the VMs to add to the group (SQLVM and WEBVM).</span></span> <span data-ttu-id="f8f8d-511">Contoso uses Ctrl+Click to select multiple VMs.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-511">Contoso uses Ctrl+Click to select multiple VMs.</span></span>
5. <span data-ttu-id="f8f8d-512">Contoso selects **Create Group**, and then enters a name (**smarthotelapp**).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-512">Contoso selects **Create Group**, and then enters a name (**smarthotelapp**).</span></span>

    > [!NOTE]
    > <span data-ttu-id="f8f8d-513">To view more granular dependencies, you can expand the time range.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-513">To view more granular dependencies, you can expand the time range.</span></span> <span data-ttu-id="f8f8d-514">You can select a specific duration or select start and end dates.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-514">You can select a specific duration or select start and end dates.</span></span>

### <a name="run-an-assessment"></a><span data-ttu-id="f8f8d-515">Run an assessment</span><span class="sxs-lookup"><span data-stu-id="f8f8d-515">Run an assessment</span></span>

1. <span data-ttu-id="f8f8d-516">In **Groups**, Contoso opens the group (**smarthotelapp**), and then selects **Create assessment**.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-516">In **Groups**, Contoso opens the group (**smarthotelapp**), and then selects **Create assessment**.</span></span>

    ![Azure Migrate - Create an assessment](./media/contoso-migration-assessment/run-vm-assessment.png)

2. <span data-ttu-id="f8f8d-518">To view the assessment, Contoso selects **Manage** > **Assessments**.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-518">To view the assessment, Contoso selects **Manage** > **Assessments**.</span></span>

<span data-ttu-id="f8f8d-519">Contoso uses the default assessment settings, but you can [customize settings](how-to-modify-assessment.md).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-519">Contoso uses the default assessment settings, but you can [customize settings](how-to-modify-assessment.md).</span></span>

### <a name="analyze-the-vm-assessment"></a><span data-ttu-id="f8f8d-520">Analyze the VM assessment</span><span class="sxs-lookup"><span data-stu-id="f8f8d-520">Analyze the VM assessment</span></span>

<span data-ttu-id="f8f8d-521">An Azure Migrate assessment includes information about the compatibility of on-premises with Azure, suggested right-sizing for Azure VM, and estimated monthly Azure costs.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-521">An Azure Migrate assessment includes information about the compatibility of on-premises with Azure, suggested right-sizing for Azure VM, and estimated monthly Azure costs.</span></span>

![Azure Migrate - Assessment report](./media/contoso-migration-assessment/assessment-overview.png)

#### <a name="review-confidence-rating"></a><span data-ttu-id="f8f8d-523">Review confidence rating</span><span class="sxs-lookup"><span data-stu-id="f8f8d-523">Review confidence rating</span></span>

![Azure Migrate - Assessment display](./media/contoso-migration-assessment/assessment-display.png)

<span data-ttu-id="f8f8d-525">An assessment has a confidence rating of from 1 star to 5 stars (1 star is the lowest and 5 stars is the highest).</span><span class="sxs-lookup"><span data-stu-id="f8f8d-525">An assessment has a confidence rating of from 1 star to 5 stars (1 star is the lowest and 5 stars is the highest).</span></span>
- <span data-ttu-id="f8f8d-526">The confidence rating is assigned to an assessment based on the availability of data points that are needed to compute the assessment.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-526">The confidence rating is assigned to an assessment based on the availability of data points that are needed to compute the assessment.</span></span>
- <span data-ttu-id="f8f8d-527">The rating helps you estimate the reliability of the size recommendations that are provided by Azure Migrate.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-527">The rating helps you estimate the reliability of the size recommendations that are provided by Azure Migrate.</span></span>
- <span data-ttu-id="f8f8d-528">The confidence rating is useful when you are doing *performance-based sizing*.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-528">The confidence rating is useful when you are doing *performance-based sizing*.</span></span> <span data-ttu-id="f8f8d-529">Azure Migrate might not have enough data points for utilization-based sizing.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-529">Azure Migrate might not have enough data points for utilization-based sizing.</span></span> <span data-ttu-id="f8f8d-530">For *as on-premises* sizing, the confidence rating is always 5 stars because Azure Migrate has all the data points it needs to size the VM.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-530">For *as on-premises* sizing, the confidence rating is always 5 stars because Azure Migrate has all the data points it needs to size the VM.</span></span>
- <span data-ttu-id="f8f8d-531">Depending on the percentage of data points available, the confidence rating for the assessment is provided:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-531">Depending on the percentage of data points available, the confidence rating for the assessment is provided:</span></span>

   <span data-ttu-id="f8f8d-532">Availability of data points</span><span class="sxs-lookup"><span data-stu-id="f8f8d-532">Availability of data points</span></span> | <span data-ttu-id="f8f8d-533">Confidence rating</span><span class="sxs-lookup"><span data-stu-id="f8f8d-533">Confidence rating</span></span>
   --- | ---
   <span data-ttu-id="f8f8d-534">0%-20%</span><span class="sxs-lookup"><span data-stu-id="f8f8d-534">0%-20%</span></span> | <span data-ttu-id="f8f8d-535">1 star</span><span class="sxs-lookup"><span data-stu-id="f8f8d-535">1 star</span></span>
   <span data-ttu-id="f8f8d-536">21%-40%</span><span class="sxs-lookup"><span data-stu-id="f8f8d-536">21%-40%</span></span> | <span data-ttu-id="f8f8d-537">2 stars</span><span class="sxs-lookup"><span data-stu-id="f8f8d-537">2 stars</span></span>
   <span data-ttu-id="f8f8d-538">41%-60%</span><span class="sxs-lookup"><span data-stu-id="f8f8d-538">41%-60%</span></span> | <span data-ttu-id="f8f8d-539">3 stars</span><span class="sxs-lookup"><span data-stu-id="f8f8d-539">3 stars</span></span>
   <span data-ttu-id="f8f8d-540">61%-80%</span><span class="sxs-lookup"><span data-stu-id="f8f8d-540">61%-80%</span></span> | <span data-ttu-id="f8f8d-541">4 stars</span><span class="sxs-lookup"><span data-stu-id="f8f8d-541">4 stars</span></span>
   <span data-ttu-id="f8f8d-542">81%-100%</span><span class="sxs-lookup"><span data-stu-id="f8f8d-542">81%-100%</span></span> | <span data-ttu-id="f8f8d-543">5 stars</span><span class="sxs-lookup"><span data-stu-id="f8f8d-543">5 stars</span></span>

#### <a name="verify-azure-readiness"></a><span data-ttu-id="f8f8d-544">Verify Azure readiness</span><span class="sxs-lookup"><span data-stu-id="f8f8d-544">Verify Azure readiness</span></span>

![Azure Migrate - Assessment readiness](./media/contoso-migration-assessment/azure-readiness.png)  

<span data-ttu-id="f8f8d-546">The assessment report shows the information that's summarized in the table.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-546">The assessment report shows the information that's summarized in the table.</span></span> <span data-ttu-id="f8f8d-547">To show performance-based sizing, Azure Migrate needs the following information.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-547">To show performance-based sizing, Azure Migrate needs the following information.</span></span> <span data-ttu-id="f8f8d-548">If the information can't be collected, sizing assessment might not be accurate.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-548">If the information can't be collected, sizing assessment might not be accurate.</span></span>

- <span data-ttu-id="f8f8d-549">Utilization data for CPU and memory.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-549">Utilization data for CPU and memory.</span></span>
- <span data-ttu-id="f8f8d-550">Read/write IOPS and throughput for each disk attached to the VM.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-550">Read/write IOPS and throughput for each disk attached to the VM.</span></span>
- <span data-ttu-id="f8f8d-551">Network in/out information for each network adapter attached to the VM.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-551">Network in/out information for each network adapter attached to the VM.</span></span>

<span data-ttu-id="f8f8d-552">Setting</span><span class="sxs-lookup"><span data-stu-id="f8f8d-552">Setting</span></span> | <span data-ttu-id="f8f8d-553">Indication</span><span class="sxs-lookup"><span data-stu-id="f8f8d-553">Indication</span></span> | <span data-ttu-id="f8f8d-554">Details</span><span class="sxs-lookup"><span data-stu-id="f8f8d-554">Details</span></span>
--- | --- | ---
<span data-ttu-id="f8f8d-555">**Azure VM readiness**</span><span class="sxs-lookup"><span data-stu-id="f8f8d-555">**Azure VM readiness**</span></span> | <span data-ttu-id="f8f8d-556">Indicates whether the VM is ready for migration.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-556">Indicates whether the VM is ready for migration.</span></span> | <span data-ttu-id="f8f8d-557">Possible states:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-557">Possible states:</span></span></br><br/><span data-ttu-id="f8f8d-558">- Ready for Azure</span><span class="sxs-lookup"><span data-stu-id="f8f8d-558">- Ready for Azure</span></span><br/><br/><span data-ttu-id="f8f8d-559">- Ready with conditions</span><span class="sxs-lookup"><span data-stu-id="f8f8d-559">- Ready with conditions</span></span> <br/><br/><span data-ttu-id="f8f8d-560">- Not ready for Azure</span><span class="sxs-lookup"><span data-stu-id="f8f8d-560">- Not ready for Azure</span></span><br/><br/><span data-ttu-id="f8f8d-561">- Readiness unknown</span><span class="sxs-lookup"><span data-stu-id="f8f8d-561">- Readiness unknown</span></span><br/><br/> <span data-ttu-id="f8f8d-562">If a VM isn't ready, Azure Migrate shows some remediation steps.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-562">If a VM isn't ready, Azure Migrate shows some remediation steps.</span></span>
<span data-ttu-id="f8f8d-563">**Azure VM size**</span><span class="sxs-lookup"><span data-stu-id="f8f8d-563">**Azure VM size**</span></span> | <span data-ttu-id="f8f8d-564">For ready VMs, Azure Migrate provides an Azure VM size recommendation.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-564">For ready VMs, Azure Migrate provides an Azure VM size recommendation.</span></span> | <span data-ttu-id="f8f8d-565">Sizing recommendation depends on assessment properties:</span><span class="sxs-lookup"><span data-stu-id="f8f8d-565">Sizing recommendation depends on assessment properties:</span></span><br/><br/><span data-ttu-id="f8f8d-566">- If you used performance-based sizing, sizing considers the performance history of the VMs.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-566">- If you used performance-based sizing, sizing considers the performance history of the VMs.</span></span><br/><br/><span data-ttu-id="f8f8d-567">- If you used *as on-premises*, sizing is based on the on-premises VM size and utilization data isn't used.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-567">- If you used *as on-premises*, sizing is based on the on-premises VM size and utilization data isn't used.</span></span>
<span data-ttu-id="f8f8d-568">**Suggested tool**</span><span class="sxs-lookup"><span data-stu-id="f8f8d-568">**Suggested tool**</span></span> | <span data-ttu-id="f8f8d-569">Because Azure machines are running the agents, Azure Migrate looks at the processes that are running inside the machine.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-569">Because Azure machines are running the agents, Azure Migrate looks at the processes that are running inside the machine.</span></span> <span data-ttu-id="f8f8d-570">It identifies whether the machine is a database machine.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-570">It identifies whether the machine is a database machine.</span></span>
<span data-ttu-id="f8f8d-571">**VM information**</span><span class="sxs-lookup"><span data-stu-id="f8f8d-571">**VM information**</span></span> | <span data-ttu-id="f8f8d-572">The report shows settings for the on-premises VM, including operating system, boot type, and disk and storage information.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-572">The report shows settings for the on-premises VM, including operating system, boot type, and disk and storage information.</span></span>

#### <a name="review-monthly-cost-estimates"></a><span data-ttu-id="f8f8d-573">Review monthly cost estimates</span><span class="sxs-lookup"><span data-stu-id="f8f8d-573">Review monthly cost estimates</span></span>

<span data-ttu-id="f8f8d-574">This view shows the total compute and storage cost of running the VMs in Azure.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-574">This view shows the total compute and storage cost of running the VMs in Azure.</span></span> <span data-ttu-id="f8f8d-575">It also shows details for each machine.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-575">It also shows details for each machine.</span></span>

![Azure Migrate -  Azure costs](./media/contoso-migration-assessment/azure-costs.png)

- <span data-ttu-id="f8f8d-577">Cost estimates are calculated by using the size recommendations for a machine.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-577">Cost estimates are calculated by using the size recommendations for a machine.</span></span>
- <span data-ttu-id="f8f8d-578">Estimated monthly costs for compute and storage are aggregated for all VMs in the group.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-578">Estimated monthly costs for compute and storage are aggregated for all VMs in the group.</span></span>

## <a name="clean-up-after-assessment"></a><span data-ttu-id="f8f8d-579">Clean up after assessment</span><span class="sxs-lookup"><span data-stu-id="f8f8d-579">Clean up after assessment</span></span>

- <span data-ttu-id="f8f8d-580">When the assessment finishes, Contoso retains the Azure Migrate appliance to use in future evaluations.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-580">When the assessment finishes, Contoso retains the Azure Migrate appliance to use in future evaluations.</span></span>
- <span data-ttu-id="f8f8d-581">Contoso turns off the VMware VM.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-581">Contoso turns off the VMware VM.</span></span> <span data-ttu-id="f8f8d-582">Contoso will use it again when it evaluates additional VMs.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-582">Contoso will use it again when it evaluates additional VMs.</span></span>
- <span data-ttu-id="f8f8d-583">Contoso keeps the **Contoso Migration** project in Azure.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-583">Contoso keeps the **Contoso Migration** project in Azure.</span></span> <span data-ttu-id="f8f8d-584">The project currently is deployed in the **ContosoFailoverRG** resource group in the East US Azure region.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-584">The project currently is deployed in the **ContosoFailoverRG** resource group in the East US Azure region.</span></span>
-  <span data-ttu-id="f8f8d-585">The collector VM has a 180-day evaluation license.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-585">The collector VM has a 180-day evaluation license.</span></span> <span data-ttu-id="f8f8d-586">If this limit expires, Contoso will need to download the collector and set it up again.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-586">If this limit expires, Contoso will need to download the collector and set it up again.</span></span>

## <a name="conclusion"></a><span data-ttu-id="f8f8d-587">Conclusion</span><span class="sxs-lookup"><span data-stu-id="f8f8d-587">Conclusion</span></span>

<span data-ttu-id="f8f8d-588">In this scenario, Contoso assesses its SmartHotel360 app database by using the Data Migration Assessment tool.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-588">In this scenario, Contoso assesses its SmartHotel360 app database by using the Data Migration Assessment tool.</span></span> <span data-ttu-id="f8f8d-589">It assesses the on-premises VMs by using the Azure Migrate service.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-589">It assesses the on-premises VMs by using the Azure Migrate service.</span></span> <span data-ttu-id="f8f8d-590">Contoso reviews the assessments to make sure that on-premises resources are ready for migration to Azure.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-590">Contoso reviews the assessments to make sure that on-premises resources are ready for migration to Azure.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f8f8d-591">Next steps</span><span class="sxs-lookup"><span data-stu-id="f8f8d-591">Next steps</span></span>

<span data-ttu-id="f8f8d-592">In the next article in the series, Contoso rehosts its SmartHotel360 app in Azure by using a lift-and-shift migration.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-592">In the next article in the series, Contoso rehosts its SmartHotel360 app in Azure by using a lift-and-shift migration.</span></span> <span data-ttu-id="f8f8d-593">Contoso migrates the front-end WEBVM for the app by using Azure Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-593">Contoso migrates the front-end WEBVM for the app by using Azure Site Recovery.</span></span> <span data-ttu-id="f8f8d-594">It migrates the app database to an Azure SQL Database Managed Instance by using the Database Migration Service.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-594">It migrates the app database to an Azure SQL Database Managed Instance by using the Database Migration Service.</span></span> <span data-ttu-id="f8f8d-595">[Get started](contoso-migration-rehost-vm-sql-managed-instance.md) with this deployment.</span><span class="sxs-lookup"><span data-stu-id="f8f8d-595">[Get started](contoso-migration-rehost-vm-sql-managed-instance.md) with this deployment.</span></span>
