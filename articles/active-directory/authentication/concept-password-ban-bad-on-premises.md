---
title: Azure AD password protection preview
description: Ban weak passwords in on-premises Active Directory using the Azure AD password protection preview
services: active-directory
ms.service: active-directory
ms.component: authentication
ms.topic: conceptual
ms.date: 07/25/2018
ms.author: joflore
author: MicrosoftGuyJFlo
manager: mtillman
ms.reviewer: jsimmons
ms.openlocfilehash: 286f8e560ec653ed4f4f1cad5a2ae27b940f8d15
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44869961"
---
# <a name="preview-enforce-azure-ad-password-protection-for-windows-server-active-directory"></a><span data-ttu-id="5c071-103">Preview: Enforce Azure AD password protection for Windows Server Active Directory</span><span class="sxs-lookup"><span data-stu-id="5c071-103">Preview: Enforce Azure AD password protection for Windows Server Active Directory</span></span>

|     |
| --- |
| <span data-ttu-id="5c071-104">Azure AD password protection and the custom banned password list are public preview features of Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="5c071-104">Azure AD password protection and the custom banned password list are public preview features of Azure Active Directory.</span></span> <span data-ttu-id="5c071-105">For more information about previews, see  [Supplemental Terms of Use for Microsoft Azure Previews](https://azure.microsoft.com/support/legal/preview-supplemental-terms/)</span><span class="sxs-lookup"><span data-stu-id="5c071-105">For more information about previews, see  [Supplemental Terms of Use for Microsoft Azure Previews](https://azure.microsoft.com/support/legal/preview-supplemental-terms/)</span></span>|
|     |

<span data-ttu-id="5c071-106">Azure AD password protection is a new feature in public preview powered by Azure Active Directory (Azure AD) to enhance password policies in an organization.</span><span class="sxs-lookup"><span data-stu-id="5c071-106">Azure AD password protection is a new feature in public preview powered by Azure Active Directory (Azure AD) to enhance password policies in an organization.</span></span> <span data-ttu-id="5c071-107">The on-premises deployment of Azure AD password protection uses both the global and custom banned password lists stored in Azure AD, and performs the same checks on-premises as Azure AD cloud-based changes.</span><span class="sxs-lookup"><span data-stu-id="5c071-107">The on-premises deployment of Azure AD password protection uses both the global and custom banned password lists stored in Azure AD, and performs the same checks on-premises as Azure AD cloud-based changes.</span></span>

<span data-ttu-id="5c071-108">There are three software components that make up Azure AD password protection:</span><span class="sxs-lookup"><span data-stu-id="5c071-108">There are three software components that make up Azure AD password protection:</span></span>

* <span data-ttu-id="5c071-109">The Azure AD password protection proxy service runs on any domain-joined machine in the current Active Directory forest.</span><span class="sxs-lookup"><span data-stu-id="5c071-109">The Azure AD password protection proxy service runs on any domain-joined machine in the current Active Directory forest.</span></span> <span data-ttu-id="5c071-110">It forwards requests from domain controllers to Azure AD and returns the response from Azure AD back to the domain controller.</span><span class="sxs-lookup"><span data-stu-id="5c071-110">It forwards requests from domain controllers to Azure AD and returns the response from Azure AD back to the domain controller.</span></span>
* <span data-ttu-id="5c071-111">The Azure AD password protection DC agent service receives password validation requests from the DC Agent password filter dll, processes them using the current locally available password policy, and returns the result (pass\fail).</span><span class="sxs-lookup"><span data-stu-id="5c071-111">The Azure AD password protection DC agent service receives password validation requests from the DC Agent password filter dll, processes them using the current locally available password policy, and returns the result (pass\fail).</span></span> <span data-ttu-id="5c071-112">This service is responsible for periodically (once per hour) calling the Azure AD password protection proxy service to retrieve new versions of the password policy.</span><span class="sxs-lookup"><span data-stu-id="5c071-112">This service is responsible for periodically (once per hour) calling the Azure AD password protection proxy service to retrieve new versions of the password policy.</span></span> <span data-ttu-id="5c071-113">Communication for calls to and from the Azure AD password protection proxy service is handled over RPC (Remote Procedure Call) over TCP.</span><span class="sxs-lookup"><span data-stu-id="5c071-113">Communication for calls to and from the Azure AD password protection proxy service is handled over RPC (Remote Procedure Call) over TCP.</span></span> <span data-ttu-id="5c071-114">Upon retrieval, new policies are stored in a sysvol folder where they can replicate to other domain controllers.</span><span class="sxs-lookup"><span data-stu-id="5c071-114">Upon retrieval, new policies are stored in a sysvol folder where they can replicate to other domain controllers.</span></span> <span data-ttu-id="5c071-115">The DC agent service also monitors the sysvol folder for changes in case other domain controllers have written new password policies there, if a suitably recent policy already is available the check of the Azure AD password protection proxy service will be skipped.</span><span class="sxs-lookup"><span data-stu-id="5c071-115">The DC agent service also monitors the sysvol folder for changes in case other domain controllers have written new password policies there, if a suitably recent policy already is available the check of the Azure AD password protection proxy service will be skipped.</span></span>
* <span data-ttu-id="5c071-116">The DC Agent password filter dll receives password validation requests from the operating system and forwards them to the Azure AD password protection DC agent service running locally on the domain controller.</span><span class="sxs-lookup"><span data-stu-id="5c071-116">The DC Agent password filter dll receives password validation requests from the operating system and forwards them to the Azure AD password protection DC agent service running locally on the domain controller.</span></span>

![How Azure AD password protection components work together](./media/concept-password-ban-bad-on-premises/azure-ad-password-protection.png)

## <a name="requirements"></a><span data-ttu-id="5c071-118">Requirements</span><span class="sxs-lookup"><span data-stu-id="5c071-118">Requirements</span></span>

* <span data-ttu-id="5c071-119">All machines where Azure AD password protection components are installed including domain controllers must be running Windows Server 2012 or later.</span><span class="sxs-lookup"><span data-stu-id="5c071-119">All machines where Azure AD password protection components are installed including domain controllers must be running Windows Server 2012 or later.</span></span>
* <span data-ttu-id="5c071-120">All machines where Azure AD password protection components are installed including domain controllers must have the Universal C runtime installed.</span><span class="sxs-lookup"><span data-stu-id="5c071-120">All machines where Azure AD password protection components are installed including domain controllers must have the Universal C runtime installed.</span></span> <span data-ttu-id="5c071-121">This is preferably accomplished by fully patching the machine via Windows Update.</span><span class="sxs-lookup"><span data-stu-id="5c071-121">This is preferably accomplished by fully patching the machine via Windows Update.</span></span> <span data-ttu-id="5c071-122">Otherwise an appropriate OS-specific update package may be installed - see [Update for Universal C Runtime in Windows](https://support.microsoft.com/help/2999226/update-for-universal-c-runtime-in-windows)</span><span class="sxs-lookup"><span data-stu-id="5c071-122">Otherwise an appropriate OS-specific update package may be installed - see [Update for Universal C Runtime in Windows](https://support.microsoft.com/help/2999226/update-for-universal-c-runtime-in-windows)</span></span>
* <span data-ttu-id="5c071-123">Network connectivity must exist between at least one domain controller in each domain and at least one server hosting the Azure AD password protection proxy service.</span><span class="sxs-lookup"><span data-stu-id="5c071-123">Network connectivity must exist between at least one domain controller in each domain and at least one server hosting the Azure AD password protection proxy service.</span></span>
* <span data-ttu-id="5c071-124">Any Active Directory domain controller that leverages the password protection functionality must have the DC agent installed.</span><span class="sxs-lookup"><span data-stu-id="5c071-124">Any Active Directory domain controller that leverages the password protection functionality must have the DC agent installed.</span></span>
* <span data-ttu-id="5c071-125">Any Active Directory domain running the DC agent service software must use DFSR for sysvol replication.</span><span class="sxs-lookup"><span data-stu-id="5c071-125">Any Active Directory domain running the DC agent service software must use DFSR for sysvol replication.</span></span>
* <span data-ttu-id="5c071-126">A global administrator account to register the Azure AD password protection proxy service with Azure AD.</span><span class="sxs-lookup"><span data-stu-id="5c071-126">A global administrator account to register the Azure AD password protection proxy service with Azure AD.</span></span>
* <span data-ttu-id="5c071-127">An account with Active Directory domain administrator privileges in the forest root domain.</span><span class="sxs-lookup"><span data-stu-id="5c071-127">An account with Active Directory domain administrator privileges in the forest root domain.</span></span>

### <a name="license-requirements"></a><span data-ttu-id="5c071-128">License requirements</span><span class="sxs-lookup"><span data-stu-id="5c071-128">License requirements</span></span>

<span data-ttu-id="5c071-129">The benefits of the global banned password list apply to all users of Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="5c071-129">The benefits of the global banned password list apply to all users of Azure Active Directory (Azure AD).</span></span>

<span data-ttu-id="5c071-130">The custom banned password list requires Azure AD Basic licenses.</span><span class="sxs-lookup"><span data-stu-id="5c071-130">The custom banned password list requires Azure AD Basic licenses.</span></span>

<span data-ttu-id="5c071-131">Azure AD password protection for Windows Server Active Directory requires Azure AD Premium licenses.</span><span class="sxs-lookup"><span data-stu-id="5c071-131">Azure AD password protection for Windows Server Active Directory requires Azure AD Premium licenses.</span></span>

<span data-ttu-id="5c071-132">Additional licensing information, including costs, can be found on the [Azure Active Directory pricing site](https://azure.microsoft.com/pricing/details/active-directory/).</span><span class="sxs-lookup"><span data-stu-id="5c071-132">Additional licensing information, including costs, can be found on the [Azure Active Directory pricing site](https://azure.microsoft.com/pricing/details/active-directory/).</span></span>

## <a name="download"></a><span data-ttu-id="5c071-133">Download</span><span class="sxs-lookup"><span data-stu-id="5c071-133">Download</span></span>

<span data-ttu-id="5c071-134">There are two required installers for Azure AD password protection that can be downloaded from the [Microsoft download center](https://www.microsoft.com/download/details.aspx?id=57071)</span><span class="sxs-lookup"><span data-stu-id="5c071-134">There are two required installers for Azure AD password protection that can be downloaded from the [Microsoft download center](https://www.microsoft.com/download/details.aspx?id=57071)</span></span>

## <a name="answers-to-common-questions"></a><span data-ttu-id="5c071-135">Answers to common questions</span><span class="sxs-lookup"><span data-stu-id="5c071-135">Answers to common questions</span></span>

* <span data-ttu-id="5c071-136">No internet connectivity required from the domain controllers.</span><span class="sxs-lookup"><span data-stu-id="5c071-136">No internet connectivity required from the domain controllers.</span></span> <span data-ttu-id="5c071-137">The machine(s) running the Azure AD password protection proxy service are the only machines requiring internet connectivity.</span><span class="sxs-lookup"><span data-stu-id="5c071-137">The machine(s) running the Azure AD password protection proxy service are the only machines requiring internet connectivity.</span></span>
* <span data-ttu-id="5c071-138">No network ports are opened on domain controllers.</span><span class="sxs-lookup"><span data-stu-id="5c071-138">No network ports are opened on domain controllers.</span></span>
* <span data-ttu-id="5c071-139">No Active Directory schema changes are required.</span><span class="sxs-lookup"><span data-stu-id="5c071-139">No Active Directory schema changes are required.</span></span>
* <span data-ttu-id="5c071-140">The software uses the existing Active Directory container and serviceConnectionPoint schema objects.</span><span class="sxs-lookup"><span data-stu-id="5c071-140">The software uses the existing Active Directory container and serviceConnectionPoint schema objects.</span></span>
* <span data-ttu-id="5c071-141">There is no minimum Active Directory Domain or Forest Functional level (DFL\FFL) requirement.</span><span class="sxs-lookup"><span data-stu-id="5c071-141">There is no minimum Active Directory Domain or Forest Functional level (DFL\FFL) requirement.</span></span>
* <span data-ttu-id="5c071-142">The software does not create or require any accounts in the Active Directory domains it protects.</span><span class="sxs-lookup"><span data-stu-id="5c071-142">The software does not create or require any accounts in the Active Directory domains it protects.</span></span>
* <span data-ttu-id="5c071-143">Incremental deployment is supported with the tradeoff that password policy is only enforced where the domain controller agent is installed.</span><span class="sxs-lookup"><span data-stu-id="5c071-143">Incremental deployment is supported with the tradeoff that password policy is only enforced where the domain controller agent is installed.</span></span>
* <span data-ttu-id="5c071-144">It is recommended to install the DC agent on all DCs to ensure password protection enforcement.</span><span class="sxs-lookup"><span data-stu-id="5c071-144">It is recommended to install the DC agent on all DCs to ensure password protection enforcement.</span></span> 
* <span data-ttu-id="5c071-145">Azure AD password protection is not a real-time policy application engine.</span><span class="sxs-lookup"><span data-stu-id="5c071-145">Azure AD password protection is not a real-time policy application engine.</span></span> <span data-ttu-id="5c071-146">There may be a delay in the time between a password policy configuration change and the time it reaches and is enforced on all domain controllers.</span><span class="sxs-lookup"><span data-stu-id="5c071-146">There may be a delay in the time between a password policy configuration change and the time it reaches and is enforced on all domain controllers.</span></span>


## <a name="next-steps"></a><span data-ttu-id="5c071-147">Next steps</span><span class="sxs-lookup"><span data-stu-id="5c071-147">Next steps</span></span>

[<span data-ttu-id="5c071-148">Deploy Azure AD password protection</span><span class="sxs-lookup"><span data-stu-id="5c071-148">Deploy Azure AD password protection</span></span>](howto-password-ban-bad-on-premises.md)
