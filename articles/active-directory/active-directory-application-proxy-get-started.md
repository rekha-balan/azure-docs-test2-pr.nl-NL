---
title: How to provide secure remote access to on-premises apps
description: Covers how to use Azure AD Application Proxy to provide secure remote access to your on-premises apps.
services: active-directory
documentationcenter: ''
author: kgremban
manager: femila
editor: ''
ms.assetid: d5450da1-9e06-4d08-8146-011c84922ab5
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/25/2016
ms.author: kgremban
ms.openlocfilehash: 68b9e8611a3e93956c4a61611f7d65ae68dc60ae
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44660519"
---
# <a name="how-to-provide-secure-remote-access-to-on-premises-applications"></a><span data-ttu-id="d0e03-103">How to provide secure remote access to on-premises applications</span><span class="sxs-lookup"><span data-stu-id="d0e03-103">How to provide secure remote access to on-premises applications</span></span>
> [!NOTE]
> <span data-ttu-id="d0e03-104">Application Proxy is a feature that is available only if you upgraded to the Premium or Basic edition of Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="d0e03-104">Application Proxy is a feature that is available only if you upgraded to the Premium or Basic edition of Azure Active Directory.</span></span> <span data-ttu-id="d0e03-105">For more information, see [Azure Active Directory editions](active-directory-editions.md).</span><span class="sxs-lookup"><span data-stu-id="d0e03-105">For more information, see [Azure Active Directory editions](active-directory-editions.md).</span></span>
> 
> 

<span data-ttu-id="d0e03-106">Employees today want to be productive at any place, at any time, and from any device.</span><span class="sxs-lookup"><span data-stu-id="d0e03-106">Employees today want to be productive at any place, at any time, and from any device.</span></span> <span data-ttu-id="d0e03-107">They want to work on their own devices, whether they be tablets, phones, or laptops.</span><span class="sxs-lookup"><span data-stu-id="d0e03-107">They want to work on their own devices, whether they be tablets, phones, or laptops.</span></span> <span data-ttu-id="d0e03-108">And they expect to be able to access all their applications, both SaaS apps in the cloud and corporate apps on-premises.</span><span class="sxs-lookup"><span data-stu-id="d0e03-108">And they expect to be able to access all their applications, both SaaS apps in the cloud and corporate apps on-premises.</span></span> <span data-ttu-id="d0e03-109">Providing access to on-premises applications has traditionally involved virtual private networks (VPNs), demilitarized zones (DMZs), or on-premises reverse proxies.</span><span class="sxs-lookup"><span data-stu-id="d0e03-109">Providing access to on-premises applications has traditionally involved virtual private networks (VPNs), demilitarized zones (DMZs), or on-premises reverse proxies.</span></span> <span data-ttu-id="d0e03-110">Not only are these solutions complex and hard to make secure, but they are costly to set up and manage.</span><span class="sxs-lookup"><span data-stu-id="d0e03-110">Not only are these solutions complex and hard to make secure, but they are costly to set up and manage.</span></span>

<span data-ttu-id="d0e03-111">There is a better way!</span><span class="sxs-lookup"><span data-stu-id="d0e03-111">There is a better way!</span></span>

<span data-ttu-id="d0e03-112">A modern workforce in the mobile-first, cloud-first world needs a modern remote access solution.</span><span class="sxs-lookup"><span data-stu-id="d0e03-112">A modern workforce in the mobile-first, cloud-first world needs a modern remote access solution.</span></span> <span data-ttu-id="d0e03-113">Azure AD Application Proxy is a feature of the Azure Active Directory Premium offering, and offers remote access as a service.</span><span class="sxs-lookup"><span data-stu-id="d0e03-113">Azure AD Application Proxy is a feature of the Azure Active Directory Premium offering, and offers remote access as a service.</span></span> <span data-ttu-id="d0e03-114">That means it's easy to deploy, use, and manage.</span><span class="sxs-lookup"><span data-stu-id="d0e03-114">That means it's easy to deploy, use, and manage.</span></span>

## <a name="what-is-azure-active-directory-application-proxy"></a><span data-ttu-id="d0e03-115">What is Azure Active Directory Application Proxy?</span><span class="sxs-lookup"><span data-stu-id="d0e03-115">What is Azure Active Directory Application Proxy?</span></span>
<span data-ttu-id="d0e03-116">Azure AD Application Proxy provides single sign-on (SSO) and secure remote access for web applications hosted on-premises.</span><span class="sxs-lookup"><span data-stu-id="d0e03-116">Azure AD Application Proxy provides single sign-on (SSO) and secure remote access for web applications hosted on-premises.</span></span> <span data-ttu-id="d0e03-117">This can include SharePoint sites, Outlook Web Access, or any other LOB web applications you have.</span><span class="sxs-lookup"><span data-stu-id="d0e03-117">This can include SharePoint sites, Outlook Web Access, or any other LOB web applications you have.</span></span> <span data-ttu-id="d0e03-118">These on-premises web applications are integrated with Azure AD, the same identity and control platform that is used by O365.</span><span class="sxs-lookup"><span data-stu-id="d0e03-118">These on-premises web applications are integrated with Azure AD, the same identity and control platform that is used by O365.</span></span> <span data-ttu-id="d0e03-119">End users can then access your on-premises applications the same way they access O365 and other SaaS apps integrated with Azure AD.</span><span class="sxs-lookup"><span data-stu-id="d0e03-119">End users can then access your on-premises applications the same way they access O365 and other SaaS apps integrated with Azure AD.</span></span> <span data-ttu-id="d0e03-120">You don't need to change the network infrastructure or require VPN to provide this solution for your users.</span><span class="sxs-lookup"><span data-stu-id="d0e03-120">You don't need to change the network infrastructure or require VPN to provide this solution for your users.</span></span>

## <a name="why-is-this-a-better-solution"></a><span data-ttu-id="d0e03-121">Why is this a better solution?</span><span class="sxs-lookup"><span data-stu-id="d0e03-121">Why is this a better solution?</span></span>
<span data-ttu-id="d0e03-122">Azure AD Application Proxy provides a simple, secure, and cost-effective remote access solution to all your on-premises applications.</span><span class="sxs-lookup"><span data-stu-id="d0e03-122">Azure AD Application Proxy provides a simple, secure, and cost-effective remote access solution to all your on-premises applications.</span></span>

<span data-ttu-id="d0e03-123">Azure AD Application Proxy:</span><span class="sxs-lookup"><span data-stu-id="d0e03-123">Azure AD Application Proxy:</span></span>  

* <span data-ttu-id="d0e03-124">Works in the cloud, so you can save time and money.</span><span class="sxs-lookup"><span data-stu-id="d0e03-124">Works in the cloud, so you can save time and money.</span></span> <span data-ttu-id="d0e03-125">On-premises solutions require you to set up and maintain DMZs, edge servers, or other complex infrastructures.</span><span class="sxs-lookup"><span data-stu-id="d0e03-125">On-premises solutions require you to set up and maintain DMZs, edge servers, or other complex infrastructures.</span></span>  
* <span data-ttu-id="d0e03-126">Is easier to set up and secure than on-premises solutions because you don't have to open any inbound connections through your firewall.</span><span class="sxs-lookup"><span data-stu-id="d0e03-126">Is easier to set up and secure than on-premises solutions because you don't have to open any inbound connections through your firewall.</span></span>  
* <span data-ttu-id="d0e03-127">Offers great security.</span><span class="sxs-lookup"><span data-stu-id="d0e03-127">Offers great security.</span></span> <span data-ttu-id="d0e03-128">When you publish your apps using Azure AD Application Proxy, you can take advantage of the rich authorization controls and security analytics in Azure.</span><span class="sxs-lookup"><span data-stu-id="d0e03-128">When you publish your apps using Azure AD Application Proxy, you can take advantage of the rich authorization controls and security analytics in Azure.</span></span> <span data-ttu-id="d0e03-129">This means that you get advanced security capabilities for all your existing apps without having to change any app.</span><span class="sxs-lookup"><span data-stu-id="d0e03-129">This means that you get advanced security capabilities for all your existing apps without having to change any app.</span></span>  
* <span data-ttu-id="d0e03-130">Gives your users a consistent authentication experience.</span><span class="sxs-lookup"><span data-stu-id="d0e03-130">Gives your users a consistent authentication experience.</span></span> <span data-ttu-id="d0e03-131">Single sign-on gives your end users the ease and simplicity of access to all the apps they need to be productive with one password.</span><span class="sxs-lookup"><span data-stu-id="d0e03-131">Single sign-on gives your end users the ease and simplicity of access to all the apps they need to be productive with one password.</span></span>  

## <a name="what-kind-of-applications-work-with-azure-ad-application-proxy"></a><span data-ttu-id="d0e03-132">What kind of applications work with Azure AD Application Proxy?</span><span class="sxs-lookup"><span data-stu-id="d0e03-132">What kind of applications work with Azure AD Application Proxy?</span></span>
<span data-ttu-id="d0e03-133">With Azure AD Application Proxy you can access different types of internal applications:</span><span class="sxs-lookup"><span data-stu-id="d0e03-133">With Azure AD Application Proxy you can access different types of internal applications:</span></span>

* <span data-ttu-id="d0e03-134">Web applications that use Integrated Windows Authentication for authentication</span><span class="sxs-lookup"><span data-stu-id="d0e03-134">Web applications that use Integrated Windows Authentication for authentication</span></span>  
* <span data-ttu-id="d0e03-135">Web applications that use form-based access</span><span class="sxs-lookup"><span data-stu-id="d0e03-135">Web applications that use form-based access</span></span>  
* <span data-ttu-id="d0e03-136">Web APIs that you want to expose to rich applications on different devices</span><span class="sxs-lookup"><span data-stu-id="d0e03-136">Web APIs that you want to expose to rich applications on different devices</span></span>  
* <span data-ttu-id="d0e03-137">Applications hosted behind a Remote Desktop Gateway</span><span class="sxs-lookup"><span data-stu-id="d0e03-137">Applications hosted behind a Remote Desktop Gateway</span></span>  

## <a name="how-does-the-service-work-with-connectors"></a><span data-ttu-id="d0e03-138">How does the service work with connectors?</span><span class="sxs-lookup"><span data-stu-id="d0e03-138">How does the service work with connectors?</span></span>
<span data-ttu-id="d0e03-139">Application Proxy works by installing a slim Windows Server service called a connector inside your network.</span><span class="sxs-lookup"><span data-stu-id="d0e03-139">Application Proxy works by installing a slim Windows Server service called a connector inside your network.</span></span> <span data-ttu-id="d0e03-140">With the connector, you don't have to open any inbound ports or put anything in the DMZ.</span><span class="sxs-lookup"><span data-stu-id="d0e03-140">With the connector, you don't have to open any inbound ports or put anything in the DMZ.</span></span> <span data-ttu-id="d0e03-141">If you have high traffic in your apps you can add more connectors, and the service takes care of the load balancing.</span><span class="sxs-lookup"><span data-stu-id="d0e03-141">If you have high traffic in your apps you can add more connectors, and the service takes care of the load balancing.</span></span> <span data-ttu-id="d0e03-142">The connectors are stateless and pull everything from the cloud as necessary.</span><span class="sxs-lookup"><span data-stu-id="d0e03-142">The connectors are stateless and pull everything from the cloud as necessary.</span></span>

<span data-ttu-id="d0e03-143">For information about connectors, see [Understand Azure AD Application Proxy connectors](application-proxy-understand-connectors.md).</span><span class="sxs-lookup"><span data-stu-id="d0e03-143">For information about connectors, see [Understand Azure AD Application Proxy connectors](application-proxy-understand-connectors.md).</span></span> 

<span data-ttu-id="d0e03-144">When users access applications remotely, they connect to the published endpoint.</span><span class="sxs-lookup"><span data-stu-id="d0e03-144">When users access applications remotely, they connect to the published endpoint.</span></span> <span data-ttu-id="d0e03-145">Users authenticate in Azure AD and then are routed through the connector to the on-premises application.</span><span class="sxs-lookup"><span data-stu-id="d0e03-145">Users authenticate in Azure AD and then are routed through the connector to the on-premises application.</span></span>

 ![AzureAD Application Proxy diagram](https://docstestmedia1.blob.core.windows.net/azure-media/articles/active-directory/media/active-directory-appssoaccess-whatis/azureappproxxy.png)

1. <span data-ttu-id="d0e03-147">The user accesses the application through the Application Proxy and is directed to the Azure AD sign-in page to authenticate.</span><span class="sxs-lookup"><span data-stu-id="d0e03-147">The user accesses the application through the Application Proxy and is directed to the Azure AD sign-in page to authenticate.</span></span>
2. <span data-ttu-id="d0e03-148">After a successful sign-in, a token is generated and sent to the user.</span><span class="sxs-lookup"><span data-stu-id="d0e03-148">After a successful sign-in, a token is generated and sent to the user.</span></span>
3. <span data-ttu-id="d0e03-149">The user sends the token to Application Proxy, which retrieves the user principal name (UPN) and security principal name (SPN) from the token, then directs the request to the connector.</span><span class="sxs-lookup"><span data-stu-id="d0e03-149">The user sends the token to Application Proxy, which retrieves the user principal name (UPN) and security principal name (SPN) from the token, then directs the request to the connector.</span></span>
4. <span data-ttu-id="d0e03-150">On behalf of the user, the connector requests a Kerberos ticket that can be used for internal (Windows) authentication.</span><span class="sxs-lookup"><span data-stu-id="d0e03-150">On behalf of the user, the connector requests a Kerberos ticket that can be used for internal (Windows) authentication.</span></span> <span data-ttu-id="d0e03-151">This is known as Kerberos Constrained Delegation.</span><span class="sxs-lookup"><span data-stu-id="d0e03-151">This is known as Kerberos Constrained Delegation.</span></span>
5. <span data-ttu-id="d0e03-152">Active Directory retrieves the Kerberos ticket.</span><span class="sxs-lookup"><span data-stu-id="d0e03-152">Active Directory retrieves the Kerberos ticket.</span></span>
6. <span data-ttu-id="d0e03-153">The ticket is sent to the application server and verified.</span><span class="sxs-lookup"><span data-stu-id="d0e03-153">The ticket is sent to the application server and verified.</span></span>
7. <span data-ttu-id="d0e03-154">The response is sent through Application Proxy to the user.</span><span class="sxs-lookup"><span data-stu-id="d0e03-154">The response is sent through Application Proxy to the user.</span></span>

### <a name="single-sign-on"></a><span data-ttu-id="d0e03-155">Single sign-on</span><span class="sxs-lookup"><span data-stu-id="d0e03-155">Single sign-on</span></span>
<span data-ttu-id="d0e03-156">Azure AD Application Proxy provides single sign-on (SSO) to applications that use Integrated Windows Authentication (IWA), or claims-aware applications.</span><span class="sxs-lookup"><span data-stu-id="d0e03-156">Azure AD Application Proxy provides single sign-on (SSO) to applications that use Integrated Windows Authentication (IWA), or claims-aware applications.</span></span> <span data-ttu-id="d0e03-157">If your application uses IWA, Application Proxy impersonates the user using Kerberos Constrained Delegation to provide SSO.</span><span class="sxs-lookup"><span data-stu-id="d0e03-157">If your application uses IWA, Application Proxy impersonates the user using Kerberos Constrained Delegation to provide SSO.</span></span> <span data-ttu-id="d0e03-158">If you have a claims-aware application that trusts Azure Active Directory, SSO is achieved because the user was already authenticated by Azure AD.</span><span class="sxs-lookup"><span data-stu-id="d0e03-158">If you have a claims-aware application that trusts Azure Active Directory, SSO is achieved because the user was already authenticated by Azure AD.</span></span>

<span data-ttu-id="d0e03-159">For more information about Kerberos, see [All you want to know about Kerberos Constrained Delegation (KCD)](https://blogs.technet.microsoft.com/applicationproxyblog/2015/09/21/all-you-want-to-know-about-kerberos-constrained-delegation-kcd).</span><span class="sxs-lookup"><span data-stu-id="d0e03-159">For more information about Kerberos, see [All you want to know about Kerberos Constrained Delegation (KCD)](https://blogs.technet.microsoft.com/applicationproxyblog/2015/09/21/all-you-want-to-know-about-kerberos-constrained-delegation-kcd).</span></span>

## <a name="how-to-get-started"></a><span data-ttu-id="d0e03-160">How to get started</span><span class="sxs-lookup"><span data-stu-id="d0e03-160">How to get started</span></span>
<span data-ttu-id="d0e03-161">Make sure you have an Azure AD basic or premium subscription and an Azure AD directory for which you are a global administrator.</span><span class="sxs-lookup"><span data-stu-id="d0e03-161">Make sure you have an Azure AD basic or premium subscription and an Azure AD directory for which you are a global administrator.</span></span> <span data-ttu-id="d0e03-162">You also need Azure AD basic or premium licenses for the directory administrator and users accessing the apps.</span><span class="sxs-lookup"><span data-stu-id="d0e03-162">You also need Azure AD basic or premium licenses for the directory administrator and users accessing the apps.</span></span> <span data-ttu-id="d0e03-163">See [Azure Active Directory editions](active-directory-editions.md) for more information.</span><span class="sxs-lookup"><span data-stu-id="d0e03-163">See [Azure Active Directory editions](active-directory-editions.md) for more information.</span></span>

<span data-ttu-id="d0e03-164">Setting up Application Proxy is accomplished in two steps:</span><span class="sxs-lookup"><span data-stu-id="d0e03-164">Setting up Application Proxy is accomplished in two steps:</span></span>

1. <span data-ttu-id="d0e03-165">[Enable Application Proxy and configure the connector](active-directory-application-proxy-enable.md).</span><span class="sxs-lookup"><span data-stu-id="d0e03-165">[Enable Application Proxy and configure the connector](active-directory-application-proxy-enable.md).</span></span>    
2. <span data-ttu-id="d0e03-166">[Publish applications](active-directory-application-proxy-publish.md) - use the quick and easy wizard to get your on-premises apps published and accessible remotely.</span><span class="sxs-lookup"><span data-stu-id="d0e03-166">[Publish applications](active-directory-application-proxy-publish.md) - use the quick and easy wizard to get your on-premises apps published and accessible remotely.</span></span>

## <a name="whats-next"></a><span data-ttu-id="d0e03-167">What's next?</span><span class="sxs-lookup"><span data-stu-id="d0e03-167">What's next?</span></span>
<span data-ttu-id="d0e03-168">There's a lot more you can do with Application Proxy:</span><span class="sxs-lookup"><span data-stu-id="d0e03-168">There's a lot more you can do with Application Proxy:</span></span>

* [<span data-ttu-id="d0e03-169">Publish applications using your own domain name</span><span class="sxs-lookup"><span data-stu-id="d0e03-169">Publish applications using your own domain name</span></span>](active-directory-application-proxy-custom-domains.md)
* [<span data-ttu-id="d0e03-170">Working with existing on-premise Proxy servers</span><span class="sxs-lookup"><span data-stu-id="d0e03-170">Working with existing on-premise Proxy servers</span></span>](application-proxy-working-with-proxy-servers.md) 
* [<span data-ttu-id="d0e03-171">Enable single-sign on</span><span class="sxs-lookup"><span data-stu-id="d0e03-171">Enable single-sign on</span></span>](active-directory-application-proxy-sso-using-kcd.md)
* [<span data-ttu-id="d0e03-172">Working with claims aware applications</span><span class="sxs-lookup"><span data-stu-id="d0e03-172">Working with claims aware applications</span></span>](active-directory-application-proxy-claims-aware-apps.md)
* [<span data-ttu-id="d0e03-173">Enable conditional access</span><span class="sxs-lookup"><span data-stu-id="d0e03-173">Enable conditional access</span></span>](active-directory-application-proxy-conditional-access.md)

<span data-ttu-id="d0e03-174">For the latest news and updates, check out the [Application Proxy blog](http://blogs.technet.com/b/applicationproxyblog/)</span><span class="sxs-lookup"><span data-stu-id="d0e03-174">For the latest news and updates, check out the [Application Proxy blog](http://blogs.technet.com/b/applicationproxyblog/)</span></span>


