---
title: Learn about the authorization protocols supported by Azure AD v2.0 | Microsoft Docs
description: A guide to protocols supported by the Azure AD v2.0 endpoint.
services: active-directory
documentationcenter: ''
author: dstrockis
manager: mbaldwin
editor: ''
ms.assetid: 5fb4fa1b-8fc4-438e-b3b0-258d8c145f22
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/07/2017
ms.author: dastrock
ms.openlocfilehash: cf874cf4285f0b2f182329a0ad5a2b85f27aa22f
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44563911"
---
# <a name="v20-protocols---oauth-20--openid-connect"></a><span data-ttu-id="a0917-103">v2.0 Protocols - OAuth 2.0 & OpenID Connect</span><span class="sxs-lookup"><span data-stu-id="a0917-103">v2.0 Protocols - OAuth 2.0 & OpenID Connect</span></span>
<span data-ttu-id="a0917-104">The v2.0 endpoint can use Azure AD for identity-as-a-service with industry standard protocols, OpenID Connect and OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="a0917-104">The v2.0 endpoint can use Azure AD for identity-as-a-service with industry standard protocols, OpenID Connect and OAuth 2.0.</span></span>  <span data-ttu-id="a0917-105">While the service is standards-compliant, there can be subtle differences between any two implementations of these protocols.</span><span class="sxs-lookup"><span data-stu-id="a0917-105">While the service is standards-compliant, there can be subtle differences between any two implementations of these protocols.</span></span>  <span data-ttu-id="a0917-106">The information here will be useful if you choose to write your code by directly sending & handling HTTP requests or use a 3rd party open source library, rather than using one of our open source libraries.</span><span class="sxs-lookup"><span data-stu-id="a0917-106">The information here will be useful if you choose to write your code by directly sending & handling HTTP requests or use a 3rd party open source library, rather than using one of our open source libraries.</span></span>
<!-- TODO: Need link to libraries above -->

> [!NOTE]
> <span data-ttu-id="a0917-107">Not all Azure Active Directory scenarios & features are supported by the v2.0 endpoint.</span><span class="sxs-lookup"><span data-stu-id="a0917-107">Not all Azure Active Directory scenarios & features are supported by the v2.0 endpoint.</span></span>  <span data-ttu-id="a0917-108">To determine if you should use the v2.0 endpoint, read about [v2.0 limitations](active-directory-v2-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="a0917-108">To determine if you should use the v2.0 endpoint, read about [v2.0 limitations](active-directory-v2-limitations.md).</span></span>
> 
> 

## <a name="the-basics"></a><span data-ttu-id="a0917-109">The Basics</span><span class="sxs-lookup"><span data-stu-id="a0917-109">The Basics</span></span>
<span data-ttu-id="a0917-110">In nearly all OAuth & OpenID Connect flows, there are four parties involved in the exchange:</span><span class="sxs-lookup"><span data-stu-id="a0917-110">In nearly all OAuth & OpenID Connect flows, there are four parties involved in the exchange:</span></span>

![OAuth 2.0 Roles](https://docstestmedia1.blob.core.windows.net/azure-media/articles/media/active-directory-v2-flows/protocols_roles.png)

* <span data-ttu-id="a0917-112">The **Authorization Server** is the v2.0 endpoint.</span><span class="sxs-lookup"><span data-stu-id="a0917-112">The **Authorization Server** is the v2.0 endpoint.</span></span>  <span data-ttu-id="a0917-113">It is responsible for ensuring the user's identity, granting and revoking access to resources, and issuing tokens.</span><span class="sxs-lookup"><span data-stu-id="a0917-113">It is responsible for ensuring the user's identity, granting and revoking access to resources, and issuing tokens.</span></span>  <span data-ttu-id="a0917-114">It is also known as the identity provider - it securely handles anything to do with the user's information, their access, and the trust relationships between parties in an flow.</span><span class="sxs-lookup"><span data-stu-id="a0917-114">It is also known as the identity provider - it securely handles anything to do with the user's information, their access, and the trust relationships between parties in an flow.</span></span>
* <span data-ttu-id="a0917-115">The **Resource Owner** is typically the end-user.</span><span class="sxs-lookup"><span data-stu-id="a0917-115">The **Resource Owner** is typically the end-user.</span></span>  <span data-ttu-id="a0917-116">It is the party that owns the data, and has the power to allow third parties to access that data, or resource.</span><span class="sxs-lookup"><span data-stu-id="a0917-116">It is the party that owns the data, and has the power to allow third parties to access that data, or resource.</span></span>
* <span data-ttu-id="a0917-117">The **OAuth Client** is your app, identified by its Application Id.  It is usually the party that the end-user interacts with, and it requests tokens from the authorization server.</span><span class="sxs-lookup"><span data-stu-id="a0917-117">The **OAuth Client** is your app, identified by its Application Id.  It is usually the party that the end-user interacts with, and it requests tokens from the authorization server.</span></span>  <span data-ttu-id="a0917-118">The client must be granted permission to access the resource by the resource owner.</span><span class="sxs-lookup"><span data-stu-id="a0917-118">The client must be granted permission to access the resource by the resource owner.</span></span>
* <span data-ttu-id="a0917-119">The **Resource Server** is where the resource or data resides.</span><span class="sxs-lookup"><span data-stu-id="a0917-119">The **Resource Server** is where the resource or data resides.</span></span>  <span data-ttu-id="a0917-120">It trusts the Authorization Server to securely authenticate and authorize the OAuth Client, and uses Bearer access_tokens to ensure that access to a resource can be granted.</span><span class="sxs-lookup"><span data-stu-id="a0917-120">It trusts the Authorization Server to securely authenticate and authorize the OAuth Client, and uses Bearer access_tokens to ensure that access to a resource can be granted.</span></span>

## <a name="app-registration"></a><span data-ttu-id="a0917-121">App Registration</span><span class="sxs-lookup"><span data-stu-id="a0917-121">App Registration</span></span>
<span data-ttu-id="a0917-122">Every app that uses the v2.0 endpoint will need to be registered at [apps.dev.microsoft.com](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList) before it can interact using OAuth or OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="a0917-122">Every app that uses the v2.0 endpoint will need to be registered at [apps.dev.microsoft.com](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList) before it can interact using OAuth or OpenID Connect.</span></span>  <span data-ttu-id="a0917-123">The app registration process will collect & assign a few values to your app:</span><span class="sxs-lookup"><span data-stu-id="a0917-123">The app registration process will collect & assign a few values to your app:</span></span>

* <span data-ttu-id="a0917-124">An **Application Id** that uniquely identifies your app</span><span class="sxs-lookup"><span data-stu-id="a0917-124">An **Application Id** that uniquely identifies your app</span></span>
* <span data-ttu-id="a0917-125">A **Redirect URI** or **Package Identifier** that can be used to direct responses back to your app</span><span class="sxs-lookup"><span data-stu-id="a0917-125">A **Redirect URI** or **Package Identifier** that can be used to direct responses back to your app</span></span>
* <span data-ttu-id="a0917-126">A few other scenario-specific values.</span><span class="sxs-lookup"><span data-stu-id="a0917-126">A few other scenario-specific values.</span></span>

<span data-ttu-id="a0917-127">For more details, learn how to [register an app](active-directory-v2-app-registration.md).</span><span class="sxs-lookup"><span data-stu-id="a0917-127">For more details, learn how to [register an app](active-directory-v2-app-registration.md).</span></span>

## <a name="endpoints"></a><span data-ttu-id="a0917-128">Endpoints</span><span class="sxs-lookup"><span data-stu-id="a0917-128">Endpoints</span></span>
<span data-ttu-id="a0917-129">Once registered, the app communicates with Azure AD by sending requests to the v2.0 endpoint:</span><span class="sxs-lookup"><span data-stu-id="a0917-129">Once registered, the app communicates with Azure AD by sending requests to the v2.0 endpoint:</span></span>

```
https://login.microsoftonline.com/{tenant}/oauth2/v2.0/authorize
https://login.microsoftonline.com/{tenant}/oauth2/v2.0/token
```

<span data-ttu-id="a0917-130">Where the `{tenant}` can take one of four different values:</span><span class="sxs-lookup"><span data-stu-id="a0917-130">Where the `{tenant}` can take one of four different values:</span></span>

| <span data-ttu-id="a0917-131">Value</span><span class="sxs-lookup"><span data-stu-id="a0917-131">Value</span></span> | <span data-ttu-id="a0917-132">Description</span><span class="sxs-lookup"><span data-stu-id="a0917-132">Description</span></span> |
| --- | --- |
| `common` |<span data-ttu-id="a0917-133">Allows users with both personal Microsoft accounts and work/school accounts from Azure Active Directory to sign into the application.</span><span class="sxs-lookup"><span data-stu-id="a0917-133">Allows users with both personal Microsoft accounts and work/school accounts from Azure Active Directory to sign into the application.</span></span> |
| `organizations` |<span data-ttu-id="a0917-134">Allows only users with work/school accounts from Azure Active Directory to sign into the application.</span><span class="sxs-lookup"><span data-stu-id="a0917-134">Allows only users with work/school accounts from Azure Active Directory to sign into the application.</span></span> |
| `consumers` |<span data-ttu-id="a0917-135">Allows only users with personal Microsoft accounts (MSA) to sign into the application.</span><span class="sxs-lookup"><span data-stu-id="a0917-135">Allows only users with personal Microsoft accounts (MSA) to sign into the application.</span></span> |
| <span data-ttu-id="a0917-136">`8eaef023-2b34-4da1-9baa-8bc8c9d6a490` or `contoso.onmicrosoft.com`</span><span class="sxs-lookup"><span data-stu-id="a0917-136">`8eaef023-2b34-4da1-9baa-8bc8c9d6a490` or `contoso.onmicrosoft.com`</span></span> |<span data-ttu-id="a0917-137">Allows only users with work/school accounts from a particular Azure Active Directory tenant to sign into the application.</span><span class="sxs-lookup"><span data-stu-id="a0917-137">Allows only users with work/school accounts from a particular Azure Active Directory tenant to sign into the application.</span></span>  <span data-ttu-id="a0917-138">Either the friendly domain name of the Azure AD tenant or the tenant's guid identifier can be used.</span><span class="sxs-lookup"><span data-stu-id="a0917-138">Either the friendly domain name of the Azure AD tenant or the tenant's guid identifier can be used.</span></span> |

<span data-ttu-id="a0917-139">For more information on how to interact with these endpoints, choose a particular app type below.</span><span class="sxs-lookup"><span data-stu-id="a0917-139">For more information on how to interact with these endpoints, choose a particular app type below.</span></span>

## <a name="tokens"></a><span data-ttu-id="a0917-140">Tokens</span><span class="sxs-lookup"><span data-stu-id="a0917-140">Tokens</span></span>
<span data-ttu-id="a0917-141">The v2.0 implementation of OAuth 2.0 and OpenID Connect make extensive use of bearer tokens, including bearer tokens represented as JWTs.</span><span class="sxs-lookup"><span data-stu-id="a0917-141">The v2.0 implementation of OAuth 2.0 and OpenID Connect make extensive use of bearer tokens, including bearer tokens represented as JWTs.</span></span> <span data-ttu-id="a0917-142">A bearer token is a lightweight security token that grants the “bearer” access to a protected resource.</span><span class="sxs-lookup"><span data-stu-id="a0917-142">A bearer token is a lightweight security token that grants the “bearer” access to a protected resource.</span></span> <span data-ttu-id="a0917-143">In this sense, the “bearer” is any party that can present the token.</span><span class="sxs-lookup"><span data-stu-id="a0917-143">In this sense, the “bearer” is any party that can present the token.</span></span> <span data-ttu-id="a0917-144">Though a party must first authenticate with Azure AD to receive the bearer token, if the required steps are not taken to secure the token in transmission and storage, it can be intercepted and used by an unintended party.</span><span class="sxs-lookup"><span data-stu-id="a0917-144">Though a party must first authenticate with Azure AD to receive the bearer token, if the required steps are not taken to secure the token in transmission and storage, it can be intercepted and used by an unintended party.</span></span> <span data-ttu-id="a0917-145">While some security tokens have a built-in mechanism for preventing unauthorized parties from using them, bearer tokens do not have this mechanism and must be transported in a secure channel such as transport layer security (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="a0917-145">While some security tokens have a built-in mechanism for preventing unauthorized parties from using them, bearer tokens do not have this mechanism and must be transported in a secure channel such as transport layer security (HTTPS).</span></span> <span data-ttu-id="a0917-146">If a bearer token is transmitted in the clear, a man-in the middle attack can be used by a malicious party to acquire the token and use it for an unauthorized access to a protected resource.</span><span class="sxs-lookup"><span data-stu-id="a0917-146">If a bearer token is transmitted in the clear, a man-in the middle attack can be used by a malicious party to acquire the token and use it for an unauthorized access to a protected resource.</span></span> <span data-ttu-id="a0917-147">The same security principles apply when storing or caching bearer tokens for later use.</span><span class="sxs-lookup"><span data-stu-id="a0917-147">The same security principles apply when storing or caching bearer tokens for later use.</span></span> <span data-ttu-id="a0917-148">Always ensure that your  app transmits and stores bearer tokens in a secure manner.</span><span class="sxs-lookup"><span data-stu-id="a0917-148">Always ensure that your  app transmits and stores bearer tokens in a secure manner.</span></span> <span data-ttu-id="a0917-149">For more security considerations on bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="a0917-149">For more security considerations on bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="a0917-150">Further details of different types of tokens used in the v2.0 endpoint is available in [the v2.0 endpoint token reference](active-directory-v2-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="a0917-150">Further details of different types of tokens used in the v2.0 endpoint is available in [the v2.0 endpoint token reference](active-directory-v2-tokens.md).</span></span>

## <a name="protocols"></a><span data-ttu-id="a0917-151">Protocols</span><span class="sxs-lookup"><span data-stu-id="a0917-151">Protocols</span></span>
<span data-ttu-id="a0917-152">If you're ready to see some example requests, get started with one of the below tutorials.</span><span class="sxs-lookup"><span data-stu-id="a0917-152">If you're ready to see some example requests, get started with one of the below tutorials.</span></span>  <span data-ttu-id="a0917-153">Each one corresponds to a particular authentication scenario.</span><span class="sxs-lookup"><span data-stu-id="a0917-153">Each one corresponds to a particular authentication scenario.</span></span>  <span data-ttu-id="a0917-154">If you need help determining which is the right flow for you, check out [the types of apps you can build with the v2.0](active-directory-v2-flows.md).</span><span class="sxs-lookup"><span data-stu-id="a0917-154">If you need help determining which is the right flow for you, check out [the types of apps you can build with the v2.0](active-directory-v2-flows.md).</span></span>

* [<span data-ttu-id="a0917-155">Build Mobile and Native Application with OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="a0917-155">Build Mobile and Native Application with OAuth 2.0</span></span>](active-directory-v2-protocols-oauth-code.md)
* [<span data-ttu-id="a0917-156">Build Web Apps with Open ID Connect</span><span class="sxs-lookup"><span data-stu-id="a0917-156">Build Web Apps with Open ID Connect</span></span>](active-directory-v2-protocols-oidc.md)
* [<span data-ttu-id="a0917-157">Build Single Page Apps with the OAuth 2.0 Implicit Flow</span><span class="sxs-lookup"><span data-stu-id="a0917-157">Build Single Page Apps with the OAuth 2.0 Implicit Flow</span></span>](active-directory-v2-protocols-implicit.md)
* [<span data-ttu-id="a0917-158">Build Daemons or Server Side Processes with the OAuth 2.0 Client Credentials Flow</span><span class="sxs-lookup"><span data-stu-id="a0917-158">Build Daemons or Server Side Processes with the OAuth 2.0 Client Credentials Flow</span></span>](active-directory-v2-protocols-oauth-client-creds.md)
* <span data-ttu-id="a0917-159">Get tokens in a Web API with the OAuth 2.0 On Behalf Of Flow (coming soon)</span><span class="sxs-lookup"><span data-stu-id="a0917-159">Get tokens in a Web API with the OAuth 2.0 On Behalf Of Flow (coming soon)</span></span>

<!-- - Get tokens using a username & password with the OAuth 2.0 Resource Owner Password Credentials Flow (coming soon) --> 

