---
title: Azure Active Directory Application and Service Principal Objects
description: A discussion of the relationship between application and service principal objects in Azure Active Directory
documentationcenter: dev-center-name
author: CelesteDG
manager: mtillman
services: active-directory
editor: ''
ms.assetid: adfc0569-dc91-48fe-92c3-b5b4833703de
ms.service: active-directory
ms.component: develop
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 10/19/2017
ms.author: celested
ms.custom: aaddev
ms.reviewer: elisol
ms.openlocfilehash: 057465567217cff080b189bcdabee3042f41468d
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44870278"
---
# <a name="application-and-service-principal-objects-in-azure-active-directory-azure-ad"></a><span data-ttu-id="0471f-103">Application and service principal objects in Azure Active Directory (Azure AD)</span><span class="sxs-lookup"><span data-stu-id="0471f-103">Application and service principal objects in Azure Active Directory (Azure AD)</span></span>
<span data-ttu-id="0471f-104">Sometimes the meaning of the term "application" can be misunderstood when used in the context of Azure AD.</span><span class="sxs-lookup"><span data-stu-id="0471f-104">Sometimes the meaning of the term "application" can be misunderstood when used in the context of Azure AD.</span></span> <span data-ttu-id="0471f-105">The goal of this article is to clarify conceptual and concrete aspects of Azure AD application integration, with an illustration of registration and consent for a [multi-tenant application](developer-glossary.md#multi-tenant-application).</span><span class="sxs-lookup"><span data-stu-id="0471f-105">The goal of this article is to clarify conceptual and concrete aspects of Azure AD application integration, with an illustration of registration and consent for a [multi-tenant application](developer-glossary.md#multi-tenant-application).</span></span>

## <a name="overview"></a><span data-ttu-id="0471f-106">Overview</span><span class="sxs-lookup"><span data-stu-id="0471f-106">Overview</span></span>
<span data-ttu-id="0471f-107">An application that has been integrated with Azure AD has implications that go beyond the software aspect.</span><span class="sxs-lookup"><span data-stu-id="0471f-107">An application that has been integrated with Azure AD has implications that go beyond the software aspect.</span></span> <span data-ttu-id="0471f-108">"Application" is frequently used as a conceptual term, referring to not only the application software, but also its Azure AD registration and role in authentication/authorization "conversations" at runtime.</span><span class="sxs-lookup"><span data-stu-id="0471f-108">"Application" is frequently used as a conceptual term, referring to not only the application software, but also its Azure AD registration and role in authentication/authorization "conversations" at runtime.</span></span> <span data-ttu-id="0471f-109">By definition, an application can function in a [client](developer-glossary.md#client-application) role (consuming a resource), a [resource server](developer-glossary.md#resource-server) role (exposing APIs to clients), or even both.</span><span class="sxs-lookup"><span data-stu-id="0471f-109">By definition, an application can function in a [client](developer-glossary.md#client-application) role (consuming a resource), a [resource server](developer-glossary.md#resource-server) role (exposing APIs to clients), or even both.</span></span> <span data-ttu-id="0471f-110">The conversation protocol is defined by an [OAuth 2.0 Authorization Grant flow](developer-glossary.md#authorization-grant), allowing the client/resource to access/protect a resource's data respectively.</span><span class="sxs-lookup"><span data-stu-id="0471f-110">The conversation protocol is defined by an [OAuth 2.0 Authorization Grant flow](developer-glossary.md#authorization-grant), allowing the client/resource to access/protect a resource's data respectively.</span></span> <span data-ttu-id="0471f-111">Now let's go a level deeper, and see how the Azure AD application model represents an application at design-time and run-time.</span><span class="sxs-lookup"><span data-stu-id="0471f-111">Now let's go a level deeper, and see how the Azure AD application model represents an application at design-time and run-time.</span></span> 

## <a name="application-registration"></a><span data-ttu-id="0471f-112">Application registration</span><span class="sxs-lookup"><span data-stu-id="0471f-112">Application registration</span></span>
<span data-ttu-id="0471f-113">When you register an Azure AD application in the [Azure portal][AZURE-Portal], two objects are created in your Azure AD tenant: an application object, and a service principal object.</span><span class="sxs-lookup"><span data-stu-id="0471f-113">When you register an Azure AD application in the [Azure portal][AZURE-Portal], two objects are created in your Azure AD tenant: an application object, and a service principal object.</span></span>

#### <a name="application-object"></a><span data-ttu-id="0471f-114">Application object</span><span class="sxs-lookup"><span data-stu-id="0471f-114">Application object</span></span>
<span data-ttu-id="0471f-115">An Azure AD application is defined by its one and only application object, which resides in the Azure AD tenant where the application was registered, known as the application's "home" tenant.</span><span class="sxs-lookup"><span data-stu-id="0471f-115">An Azure AD application is defined by its one and only application object, which resides in the Azure AD tenant where the application was registered, known as the application's "home" tenant.</span></span> <span data-ttu-id="0471f-116">The Azure AD Graph [Application entity][AAD-Graph-App-Entity] defines the schema for an application object's properties.</span><span class="sxs-lookup"><span data-stu-id="0471f-116">The Azure AD Graph [Application entity][AAD-Graph-App-Entity] defines the schema for an application object's properties.</span></span> 

#### <a name="service-principal-object"></a><span data-ttu-id="0471f-117">Service principal object</span><span class="sxs-lookup"><span data-stu-id="0471f-117">Service principal object</span></span>
<span data-ttu-id="0471f-118">In order to access resources that are secured by an Azure AD tenant, the entity that requires access must be represented by a security principal.</span><span class="sxs-lookup"><span data-stu-id="0471f-118">In order to access resources that are secured by an Azure AD tenant, the entity that requires access must be represented by a security principal.</span></span> <span data-ttu-id="0471f-119">This is true for both users (user principal) and applications (service principal).</span><span class="sxs-lookup"><span data-stu-id="0471f-119">This is true for both users (user principal) and applications (service principal).</span></span> <span data-ttu-id="0471f-120">The security principal defines the access policy and permissions for the user/application in that tenant.</span><span class="sxs-lookup"><span data-stu-id="0471f-120">The security principal defines the access policy and permissions for the user/application in that tenant.</span></span> <span data-ttu-id="0471f-121">This enables core features such as authentication of the user/application during sign-in, and authorization during resource access.</span><span class="sxs-lookup"><span data-stu-id="0471f-121">This enables core features such as authentication of the user/application during sign-in, and authorization during resource access.</span></span>

<span data-ttu-id="0471f-122">When an application is given permission to access resources in a tenant (upon registration or [consent](developer-glossary.md#consent)), a service principal object is created.</span><span class="sxs-lookup"><span data-stu-id="0471f-122">When an application is given permission to access resources in a tenant (upon registration or [consent](developer-glossary.md#consent)), a service principal object is created.</span></span> <span data-ttu-id="0471f-123">The Azure AD Graph  [ServicePrincipal entity][AAD-Graph-Sp-Entity] defines the schema for a service principal object's properties.</span><span class="sxs-lookup"><span data-stu-id="0471f-123">The Azure AD Graph  [ServicePrincipal entity][AAD-Graph-Sp-Entity] defines the schema for a service principal object's properties.</span></span> 

#### <a name="application-and-service-principal-relationship"></a><span data-ttu-id="0471f-124">Application and service principal relationship</span><span class="sxs-lookup"><span data-stu-id="0471f-124">Application and service principal relationship</span></span>
<span data-ttu-id="0471f-125">Consider the application object as the *global* representation of your application for use across all tenants, and the service principal as the *local* representation for use in a specific tenant.</span><span class="sxs-lookup"><span data-stu-id="0471f-125">Consider the application object as the *global* representation of your application for use across all tenants, and the service principal as the *local* representation for use in a specific tenant.</span></span> <span data-ttu-id="0471f-126">The application object serves as the template from which common and default properties are *derived* for use in creating corresponding service principal objects.</span><span class="sxs-lookup"><span data-stu-id="0471f-126">The application object serves as the template from which common and default properties are *derived* for use in creating corresponding service principal objects.</span></span> <span data-ttu-id="0471f-127">An application object therefore has a 1:1 relationship with the software application, and a 1:many relationships with its corresponding service principal object(s).</span><span class="sxs-lookup"><span data-stu-id="0471f-127">An application object therefore has a 1:1 relationship with the software application, and a 1:many relationships with its corresponding service principal object(s).</span></span>

<span data-ttu-id="0471f-128">A service principal must be created in each tenant where the application is used, enabling it to establish an identity for sign-in and/or access to resources being secured by the tenant.</span><span class="sxs-lookup"><span data-stu-id="0471f-128">A service principal must be created in each tenant where the application is used, enabling it to establish an identity for sign-in and/or access to resources being secured by the tenant.</span></span> <span data-ttu-id="0471f-129">A single-tenant application has only one service principal (in its home tenant), created and consented for use during application registration.</span><span class="sxs-lookup"><span data-stu-id="0471f-129">A single-tenant application has only one service principal (in its home tenant), created and consented for use during application registration.</span></span> <span data-ttu-id="0471f-130">A multi-tenant Web application/API also has a service principal created in each tenant where a user from that tenant has consented to its use.</span><span class="sxs-lookup"><span data-stu-id="0471f-130">A multi-tenant Web application/API also has a service principal created in each tenant where a user from that tenant has consented to its use.</span></span> 

> [!NOTE]
> <span data-ttu-id="0471f-131">Any changes you make to your application object, are also reflected in its service principal object in the application's home tenant only (the tenant where it was registered).</span><span class="sxs-lookup"><span data-stu-id="0471f-131">Any changes you make to your application object, are also reflected in its service principal object in the application's home tenant only (the tenant where it was registered).</span></span> <span data-ttu-id="0471f-132">For multi-tenant applications, changes to the application object are not reflected in any consumer tenants' service principal objects, until the access is removed via the [Application Access Panel](https://myapps.microsoft.com) and granted again.</span><span class="sxs-lookup"><span data-stu-id="0471f-132">For multi-tenant applications, changes to the application object are not reflected in any consumer tenants' service principal objects, until the access is removed via the [Application Access Panel](https://myapps.microsoft.com) and granted again.</span></span>
><br>  
> <span data-ttu-id="0471f-133">Also note that native applications are registered as multi-tenant by default.</span><span class="sxs-lookup"><span data-stu-id="0471f-133">Also note that native applications are registered as multi-tenant by default.</span></span>
> 
> 

## <a name="example"></a><span data-ttu-id="0471f-134">Example</span><span class="sxs-lookup"><span data-stu-id="0471f-134">Example</span></span>
<span data-ttu-id="0471f-135">The following diagram illustrates the relationship between an application's application object and corresponding service principal objects, in the context of a sample multi-tenant application called **HR app**.</span><span class="sxs-lookup"><span data-stu-id="0471f-135">The following diagram illustrates the relationship between an application's application object and corresponding service principal objects, in the context of a sample multi-tenant application called **HR app**.</span></span> <span data-ttu-id="0471f-136">There are three Azure AD tenants in this scenario:</span><span class="sxs-lookup"><span data-stu-id="0471f-136">There are three Azure AD tenants in this scenario:</span></span> 

* <span data-ttu-id="0471f-137">**Adatum** - the tenant used by the company that developed the **HR app**</span><span class="sxs-lookup"><span data-stu-id="0471f-137">**Adatum** - the tenant used by the company that developed the **HR app**</span></span>
* <span data-ttu-id="0471f-138">**Contoso** - the tenant used by the Contoso organization, which is a consumer of the **HR app**</span><span class="sxs-lookup"><span data-stu-id="0471f-138">**Contoso** - the tenant used by the Contoso organization, which is a consumer of the **HR app**</span></span>
* <span data-ttu-id="0471f-139">**Fabrikam** - the tenant used by the Fabrikam organization, which also consumes the **HR app**</span><span class="sxs-lookup"><span data-stu-id="0471f-139">**Fabrikam** - the tenant used by the Fabrikam organization, which also consumes the **HR app**</span></span>

![Relationship between an application object and a service principal object](./media/app-objects-and-service-principals/application-objects-relationship.png)

<span data-ttu-id="0471f-141">In the previous diagram, Step 1 is the process of creating the application and service principal objects in the application's home tenant.</span><span class="sxs-lookup"><span data-stu-id="0471f-141">In the previous diagram, Step 1 is the process of creating the application and service principal objects in the application's home tenant.</span></span>

<span data-ttu-id="0471f-142">In Step 2, when Contoso and Fabrikam administrators complete consent, a service principal object is created in their company's Azure AD tenant and assigned the permissions that the administrator granted.</span><span class="sxs-lookup"><span data-stu-id="0471f-142">In Step 2, when Contoso and Fabrikam administrators complete consent, a service principal object is created in their company's Azure AD tenant and assigned the permissions that the administrator granted.</span></span> <span data-ttu-id="0471f-143">Also note that the HR app could be configured/designed to allow consent by users for individual use.</span><span class="sxs-lookup"><span data-stu-id="0471f-143">Also note that the HR app could be configured/designed to allow consent by users for individual use.</span></span>

<span data-ttu-id="0471f-144">In Step 3, the consumer tenants of the HR application (Contoso and Fabrikam) each have their own service principal object.</span><span class="sxs-lookup"><span data-stu-id="0471f-144">In Step 3, the consumer tenants of the HR application (Contoso and Fabrikam) each have their own service principal object.</span></span> <span data-ttu-id="0471f-145">Each represents their use of an instance of the application at runtime, governed by the permissions consented by the respective administrator.</span><span class="sxs-lookup"><span data-stu-id="0471f-145">Each represents their use of an instance of the application at runtime, governed by the permissions consented by the respective administrator.</span></span>

## <a name="next-steps"></a><span data-ttu-id="0471f-146">Next steps</span><span class="sxs-lookup"><span data-stu-id="0471f-146">Next steps</span></span>
<span data-ttu-id="0471f-147">An application's application object can be accessed via the Azure AD Graph API, the [Azure portal's][AZURE-Portal] application manifest editor, or [Azure AD PowerShell cmdlets](https://docs.microsoft.com/powershell/azure/overview?view=azureadps-2.0), as represented by its OData [Application entity][AAD-Graph-App-Entity].</span><span class="sxs-lookup"><span data-stu-id="0471f-147">An application's application object can be accessed via the Azure AD Graph API, the [Azure portal's][AZURE-Portal] application manifest editor, or [Azure AD PowerShell cmdlets](https://docs.microsoft.com/powershell/azure/overview?view=azureadps-2.0), as represented by its OData [Application entity][AAD-Graph-App-Entity].</span></span>

<span data-ttu-id="0471f-148">An application's service principal object can be accessed via the Azure AD Graph API or [Azure AD PowerShell cmdlets](https://docs.microsoft.com/powershell/azure/overview?view=azureadps-2.0), as represented by its OData [ServicePrincipal entity][AAD-Graph-Sp-Entity].</span><span class="sxs-lookup"><span data-stu-id="0471f-148">An application's service principal object can be accessed via the Azure AD Graph API or [Azure AD PowerShell cmdlets](https://docs.microsoft.com/powershell/azure/overview?view=azureadps-2.0), as represented by its OData [ServicePrincipal entity][AAD-Graph-Sp-Entity].</span></span>

<span data-ttu-id="0471f-149">The [Azure AD Graph Explorer](https://graphexplorer.azurewebsites.net/) is useful for querying both the application and service principal objects.</span><span class="sxs-lookup"><span data-stu-id="0471f-149">The [Azure AD Graph Explorer](https://graphexplorer.azurewebsites.net/) is useful for querying both the application and service principal objects.</span></span>

<!--Image references-->

<!--Reference style links -->
[AAD-Graph-App-Entity]: https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/entity-and-complex-type-reference#application-entity
[AAD-Graph-Sp-Entity]: https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/entity-and-complex-type-reference#serviceprincipal-entity
[AZURE-Portal]: https://portal.azure.com
