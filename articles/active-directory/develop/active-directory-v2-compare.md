---
title: What is different in the Azure AD v2.0 endpoint? | Microsoft Docs
description: An comparison between the original Azure AD and the v2.0 endpoints.
services: active-directory
documentationcenter: ''
author: dstrockis
manager: mbaldwin
editor: ''
ms.assetid: 5060da46-b091-4e25-9fa8-af4ae4359b6c
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/07/2017
ms.author: dastrock
ms.openlocfilehash: 37d8c88a65a99d46d82b856eb6e34b9476936067
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44670498"
---
# <a name="whats-different-about-the-v20-endpoint"></a><span data-ttu-id="f1e0c-104">What's different about the v2.0 endpoint?</span><span class="sxs-lookup"><span data-stu-id="f1e0c-104">What's different about the v2.0 endpoint?</span></span>
<span data-ttu-id="f1e0c-105">If you're familiar with Azure Active Directory or have integrated apps with Azure AD in the past, there may be some differences in the v2.0 endpoint that you would not expect.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-105">If you're familiar with Azure Active Directory or have integrated apps with Azure AD in the past, there may be some differences in the v2.0 endpoint that you would not expect.</span></span>  <span data-ttu-id="f1e0c-106">This document calls out those differences for your understanding.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-106">This document calls out those differences for your understanding.</span></span>

> [!NOTE]
> <span data-ttu-id="f1e0c-107">Not all Azure Active Directory scenarios & features are supported by the v2.0 endpoint.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-107">Not all Azure Active Directory scenarios & features are supported by the v2.0 endpoint.</span></span>  <span data-ttu-id="f1e0c-108">To determine if you should use the v2.0 endpoint, read about [v2.0 limitations](active-directory-v2-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="f1e0c-108">To determine if you should use the v2.0 endpoint, read about [v2.0 limitations](active-directory-v2-limitations.md).</span></span>
>
>

## <a name="microsoft-accounts-and-azure-ad-accounts"></a><span data-ttu-id="f1e0c-109">Microsoft accounts and Azure AD accounts</span><span class="sxs-lookup"><span data-stu-id="f1e0c-109">Microsoft accounts and Azure AD accounts</span></span>
<span data-ttu-id="f1e0c-110">The v2.0 endpoint allow developers to write apps that accept sign-in from both Microsoft Accounts and Azure AD accounts, using a single auth endpoint.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-110">The v2.0 endpoint allow developers to write apps that accept sign-in from both Microsoft Accounts and Azure AD accounts, using a single auth endpoint.</span></span>  <span data-ttu-id="f1e0c-111">This gives you the ability to write your app completely account-agnostic; it can be ignorant of the type of account that the user signs in with.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-111">This gives you the ability to write your app completely account-agnostic; it can be ignorant of the type of account that the user signs in with.</span></span>  <span data-ttu-id="f1e0c-112">Of course, you *can* make your app aware of the type of account being used in a particular session, but you don't have to.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-112">Of course, you *can* make your app aware of the type of account being used in a particular session, but you don't have to.</span></span>

<span data-ttu-id="f1e0c-113">For instance, if your app calls the [Microsoft Graph](https://graph.microsoft.io), some additional functionality and data will be available to enterprise users, such as their SharePoint sites or Directory data.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-113">For instance, if your app calls the [Microsoft Graph](https://graph.microsoft.io), some additional functionality and data will be available to enterprise users, such as their SharePoint sites or Directory data.</span></span>  <span data-ttu-id="f1e0c-114">But for many actions, such as [Reading a user's mail](https://graph.microsoft.io/docs/api-reference/v1.0/resources/message), the code can be written exactly the same for both Microsoft Accounts and Azure AD accounts.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-114">But for many actions, such as [Reading a user's mail](https://graph.microsoft.io/docs/api-reference/v1.0/resources/message), the code can be written exactly the same for both Microsoft Accounts and Azure AD accounts.</span></span>  

<span data-ttu-id="f1e0c-115">Integrating your app with Microsoft Accounts and Azure AD accounts is now one simple process.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-115">Integrating your app with Microsoft Accounts and Azure AD accounts is now one simple process.</span></span>  <span data-ttu-id="f1e0c-116">You can use a single set of endpoints, a single library, and a single app registration to gain access to both the consumer and enterprise worlds.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-116">You can use a single set of endpoints, a single library, and a single app registration to gain access to both the consumer and enterprise worlds.</span></span>  <span data-ttu-id="f1e0c-117">To learn more about the v2.0 endpoint, check out [the overview](active-directory-appmodel-v2-overview.md).</span><span class="sxs-lookup"><span data-stu-id="f1e0c-117">To learn more about the v2.0 endpoint, check out [the overview](active-directory-appmodel-v2-overview.md).</span></span>

## <a name="new-app-registration-portal"></a><span data-ttu-id="f1e0c-118">New app registration portal</span><span class="sxs-lookup"><span data-stu-id="f1e0c-118">New app registration portal</span></span>
<span data-ttu-id="f1e0c-119">the v2.0 endpoint can only be registered in a new location: [apps.dev.microsoft.com](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList).</span><span class="sxs-lookup"><span data-stu-id="f1e0c-119">the v2.0 endpoint can only be registered in a new location: [apps.dev.microsoft.com](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList).</span></span>  <span data-ttu-id="f1e0c-120">This is the portal where you can obtain an Application Id, customize the appearance of your app's sign-in page, and more.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-120">This is the portal where you can obtain an Application Id, customize the appearance of your app's sign-in page, and more.</span></span>  <span data-ttu-id="f1e0c-121">All you need to access the portal is a Microsoft powered account - either personal or work/school account.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-121">All you need to access the portal is a Microsoft powered account - either personal or work/school account.</span></span>  

<span data-ttu-id="f1e0c-122">We will continue to add more and more functionality to this App Registration Portal over time.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-122">We will continue to add more and more functionality to this App Registration Portal over time.</span></span>  <span data-ttu-id="f1e0c-123">The intent is that this portal will be the new location where you can go to manage anything and everything having to do with your Microsoft apps.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-123">The intent is that this portal will be the new location where you can go to manage anything and everything having to do with your Microsoft apps.</span></span>

## <a name="one-app-id-for-all-platforms"></a><span data-ttu-id="f1e0c-124">One app Id for all platforms</span><span class="sxs-lookup"><span data-stu-id="f1e0c-124">One app Id for all platforms</span></span>
<span data-ttu-id="f1e0c-125">In the original Azure Active Directory service, you may have registered several different apps for a single project.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-125">In the original Azure Active Directory service, you may have registered several different apps for a single project.</span></span>  <span data-ttu-id="f1e0c-126">You were forced to use separate app registrations for your native clients and web apps:</span><span class="sxs-lookup"><span data-stu-id="f1e0c-126">You were forced to use separate app registrations for your native clients and web apps:</span></span>

![Old Application Registration UI](https://docstestmedia1.blob.core.windows.net/azure-media/articles/media/active-directory-v2-flows/old_app_registration.PNG)

<span data-ttu-id="f1e0c-128">For example, if you built both a website and an iOS app, you had to register them separately, using two different Application Ids.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-128">For example, if you built both a website and an iOS app, you had to register them separately, using two different Application Ids.</span></span>  <span data-ttu-id="f1e0c-129">If you had a website and a backend web api, you might have registered each as a separate app in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-129">If you had a website and a backend web api, you might have registered each as a separate app in Azure AD.</span></span>  <span data-ttu-id="f1e0c-130">If you had an iOS app and an Android app, you also might have registered two different apps.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-130">If you had an iOS app and an Android app, you also might have registered two different apps.</span></span>  

<!-- You may have even registered different apps for each of your build environments - one for dev, one for test, and one for production. -->

<span data-ttu-id="f1e0c-131">Now, all you need is a single app registration and a single Application Id for each of your projects.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-131">Now, all you need is a single app registration and a single Application Id for each of your projects.</span></span>  <span data-ttu-id="f1e0c-132">You can add several "platforms" to a each project, and provide the appropriate data for each platform you add.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-132">You can add several "platforms" to a each project, and provide the appropriate data for each platform you add.</span></span>  <span data-ttu-id="f1e0c-133">Of course, you can create as many apps as you like depending on your requirements, but for the majority of cases only one Application Id should be necessary.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-133">Of course, you can create as many apps as you like depending on your requirements, but for the majority of cases only one Application Id should be necessary.</span></span>

<!-- You can also label a particular platform as "production-ready" when it is ready to be published to the outside world, and use that same Application Id safely in your development environments. -->

<span data-ttu-id="f1e0c-134">Our aim is that this will lead to a more simplified app management and development experience, and create a more consolidated view of a single project that you might be working on.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-134">Our aim is that this will lead to a more simplified app management and development experience, and create a more consolidated view of a single project that you might be working on.</span></span>

## <a name="scopes-not-resources"></a><span data-ttu-id="f1e0c-135">Scopes, not resources</span><span class="sxs-lookup"><span data-stu-id="f1e0c-135">Scopes, not resources</span></span>
<span data-ttu-id="f1e0c-136">In the original Azure AD service, an app can behave as a **resource**, or a recipient of tokens.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-136">In the original Azure AD service, an app can behave as a **resource**, or a recipient of tokens.</span></span>  <span data-ttu-id="f1e0c-137">A resource can define a number of **scopes** or **oAuth2Permissions** that it understands, allowing client apps to request tokens to that resource for a certain set of scopes.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-137">A resource can define a number of **scopes** or **oAuth2Permissions** that it understands, allowing client apps to request tokens to that resource for a certain set of scopes.</span></span>  <span data-ttu-id="f1e0c-138">Consider the Azure AD Graph API as an example of a resource:</span><span class="sxs-lookup"><span data-stu-id="f1e0c-138">Consider the Azure AD Graph API as an example of a resource:</span></span>

* <span data-ttu-id="f1e0c-139">Resource Identifier, or `AppID URI`: `https://graph.windows.net/`</span><span class="sxs-lookup"><span data-stu-id="f1e0c-139">Resource Identifier, or `AppID URI`: `https://graph.windows.net/`</span></span>
* <span data-ttu-id="f1e0c-140">Scopes, or `OAuth2Permissions`: `Directory.Read`, `Directory.Write`, etc.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-140">Scopes, or `OAuth2Permissions`: `Directory.Read`, `Directory.Write`, etc.</span></span>  

<span data-ttu-id="f1e0c-141">All of this holds true for the the v2.0 endpoint.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-141">All of this holds true for the the v2.0 endpoint.</span></span>  <span data-ttu-id="f1e0c-142">An app can still behave as resource, define scopes, and be identified by a URI.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-142">An app can still behave as resource, define scopes, and be identified by a URI.</span></span>  <span data-ttu-id="f1e0c-143">Client apps can still request access to those scopes.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-143">Client apps can still request access to those scopes.</span></span>  <span data-ttu-id="f1e0c-144">However, the way in which a client requests those permissions has changed.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-144">However, the way in which a client requests those permissions has changed.</span></span>  <span data-ttu-id="f1e0c-145">In the past, an OAuth 2.0 authorize request to Azure AD might have looked like:</span><span class="sxs-lookup"><span data-stu-id="f1e0c-145">In the past, an OAuth 2.0 authorize request to Azure AD might have looked like:</span></span>

```
GET https://login.microsoftonline.com/common/oauth2/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e
&resource=https%3A%2F%2Fgraph.windows.net%2F
...
```

<span data-ttu-id="f1e0c-146">where the **resource** parameter indicated which resource the client app is requesting authorization for.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-146">where the **resource** parameter indicated which resource the client app is requesting authorization for.</span></span>  <span data-ttu-id="f1e0c-147">Azure AD computed the permissions required by the app based on static configuration in the Azure Portal, and issued tokens accordingly.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-147">Azure AD computed the permissions required by the app based on static configuration in the Azure Portal, and issued tokens accordingly.</span></span>  <span data-ttu-id="f1e0c-148">Now, the same OAuth 2.0 authorize request looks like:</span><span class="sxs-lookup"><span data-stu-id="f1e0c-148">Now, the same OAuth 2.0 authorize request looks like:</span></span>

```
GET https://login.microsoftonline.com/common/oauth2/v2.0/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e
&scope=https%3A%2F%2Fgraph.windows.net%2Fdirectory.read%20https%3A%2F%2Fgraph.windows.net%2Fdirectory.write
...
```

<span data-ttu-id="f1e0c-149">where the **scope** parameter indicates which resource and permissions the app is requesting authorization for.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-149">where the **scope** parameter indicates which resource and permissions the app is requesting authorization for.</span></span> <span data-ttu-id="f1e0c-150">The desired resource is still very present in the request - it is simply encompassed in each of the values of the scope parameter.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-150">The desired resource is still very present in the request - it is simply encompassed in each of the values of the scope parameter.</span></span>  <span data-ttu-id="f1e0c-151">Using the scope parameter in this manner allows the v2.0 endpoint to be more compliant with the OAuth 2.0 specification, and aligns more closely with common industry practices.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-151">Using the scope parameter in this manner allows the v2.0 endpoint to be more compliant with the OAuth 2.0 specification, and aligns more closely with common industry practices.</span></span>  <span data-ttu-id="f1e0c-152">It also enables apps to perform [incremental consent](#incremental-and-dynamic-consent), which is described in the next section.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-152">It also enables apps to perform [incremental consent](#incremental-and-dynamic-consent), which is described in the next section.</span></span>

## <a name="incremental-and-dynamic-consent"></a><span data-ttu-id="f1e0c-153">Incremental and dynamic consent</span><span class="sxs-lookup"><span data-stu-id="f1e0c-153">Incremental and dynamic consent</span></span>
<span data-ttu-id="f1e0c-154">Apps registered in the generally available Azure AD service needed to specify their required OAuth 2.0 permissions in the Azure Portal, at app creation time:</span><span class="sxs-lookup"><span data-stu-id="f1e0c-154">Apps registered in the generally available Azure AD service needed to specify their required OAuth 2.0 permissions in the Azure Portal, at app creation time:</span></span>

![Permissions Registration UI](https://docstestmedia1.blob.core.windows.net/azure-media/articles/media/active-directory-v2-flows/app_reg_permissions.PNG)

<span data-ttu-id="f1e0c-156">The permissions an app required were configured **statically**.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-156">The permissions an app required were configured **statically**.</span></span>  <span data-ttu-id="f1e0c-157">While this allowed configuration of the app to exist in the Azure Portal and kept the code nice and simple, it presents a few issues for developers:</span><span class="sxs-lookup"><span data-stu-id="f1e0c-157">While this allowed configuration of the app to exist in the Azure Portal and kept the code nice and simple, it presents a few issues for developers:</span></span>

* <span data-ttu-id="f1e0c-158">An app had to know all of the permissions it would ever need at app creation time.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-158">An app had to know all of the permissions it would ever need at app creation time.</span></span>  <span data-ttu-id="f1e0c-159">Adding permissions over time was a difficult process.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-159">Adding permissions over time was a difficult process.</span></span>
* <span data-ttu-id="f1e0c-160">An app had to know all of the resources it would ever access ahead of time.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-160">An app had to know all of the resources it would ever access ahead of time.</span></span>  <span data-ttu-id="f1e0c-161">It was difficult to create apps that could access an arbitrary number of resources.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-161">It was difficult to create apps that could access an arbitrary number of resources.</span></span>
* <span data-ttu-id="f1e0c-162">An app had to request all the permissions it would ever need upon the user's first sign-in.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-162">An app had to request all the permissions it would ever need upon the user's first sign-in.</span></span>  <span data-ttu-id="f1e0c-163">In some cases this led to a very long list of permissions, which discouraged end-users from approving the app's access on initial sign-in.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-163">In some cases this led to a very long list of permissions, which discouraged end-users from approving the app's access on initial sign-in.</span></span>

<span data-ttu-id="f1e0c-164">With the v2.0 endpoint, you can specify the permissions your app needs **dynamically**, at runtime, during regular usage of your app.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-164">With the v2.0 endpoint, you can specify the permissions your app needs **dynamically**, at runtime, during regular usage of your app.</span></span>  <span data-ttu-id="f1e0c-165">To do so, you can specify the scopes your app needs at any given point in time by including them in the `scope` parameter of an authorization request:</span><span class="sxs-lookup"><span data-stu-id="f1e0c-165">To do so, you can specify the scopes your app needs at any given point in time by including them in the `scope` parameter of an authorization request:</span></span>

```
GET https://login.microsoftonline.com/common/oauth2/v2.0/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e
&scope=https%3A%2F%2Fgraph.windows.net%2Fdirectory.read%20https%3A%2F%2Fgraph.windows.net%2Fdirectory.write
...
```

<span data-ttu-id="f1e0c-166">The above requests permission for the app to read an Azure AD user's directory data, as well as write data to their directory.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-166">The above requests permission for the app to read an Azure AD user's directory data, as well as write data to their directory.</span></span>  <span data-ttu-id="f1e0c-167">If the user has consented to those permissions in the past for this particular app, they will simply enter their credentials and be signed into the app.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-167">If the user has consented to those permissions in the past for this particular app, they will simply enter their credentials and be signed into the app.</span></span>  <span data-ttu-id="f1e0c-168">If the user has not consented to any of these permissions, the v2.0 endpoint will ask the user for consent to those permissions.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-168">If the user has not consented to any of these permissions, the v2.0 endpoint will ask the user for consent to those permissions.</span></span>  <span data-ttu-id="f1e0c-169">To learn more, you can read up on [permissions, consent, and scopes](active-directory-v2-scopes.md).</span><span class="sxs-lookup"><span data-stu-id="f1e0c-169">To learn more, you can read up on [permissions, consent, and scopes](active-directory-v2-scopes.md).</span></span>

<span data-ttu-id="f1e0c-170">Allowing an app to request permissions dynamically via the `scope` parameter gives you full control over your user's experience.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-170">Allowing an app to request permissions dynamically via the `scope` parameter gives you full control over your user's experience.</span></span>  <span data-ttu-id="f1e0c-171">If you wish, you can choose to frontload your consent experience and ask for all permissions in one initial authorization request.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-171">If you wish, you can choose to frontload your consent experience and ask for all permissions in one initial authorization request.</span></span>  <span data-ttu-id="f1e0c-172">Or if your app requires a large number of permissions, you can choose to gather those permissions from the user incrementally, as they attempt to use certain features of your app over time.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-172">Or if your app requires a large number of permissions, you can choose to gather those permissions from the user incrementally, as they attempt to use certain features of your app over time.</span></span>

## <a name="well-known-scopes"></a><span data-ttu-id="f1e0c-173">Well-known scopes</span><span class="sxs-lookup"><span data-stu-id="f1e0c-173">Well-known scopes</span></span>
#### <a name="offline-access"></a><span data-ttu-id="f1e0c-174">Offline access</span><span class="sxs-lookup"><span data-stu-id="f1e0c-174">Offline access</span></span>
<span data-ttu-id="f1e0c-175">the v2.0 endpoint may require the use of a new well-known permission for apps - the `offline_access` scope.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-175">the v2.0 endpoint may require the use of a new well-known permission for apps - the `offline_access` scope.</span></span>  <span data-ttu-id="f1e0c-176">All apps will need to request this permission if they need to access resources on the behalf of a user for a prolonged period of time, even when the user may not be actively using the app.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-176">All apps will need to request this permission if they need to access resources on the behalf of a user for a prolonged period of time, even when the user may not be actively using the app.</span></span>  <span data-ttu-id="f1e0c-177">The `offline_access` scope will appear to the user in consent dialogs as "Access your data offline", which the user must agree to.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-177">The `offline_access` scope will appear to the user in consent dialogs as "Access your data offline", which the user must agree to.</span></span>  <span data-ttu-id="f1e0c-178">Requesting the `offline_access` permission will enable your web app to receive OAuth 2.0 refresh_tokens from the v2.0 endpoint.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-178">Requesting the `offline_access` permission will enable your web app to receive OAuth 2.0 refresh_tokens from the v2.0 endpoint.</span></span>  <span data-ttu-id="f1e0c-179">Refresh_tokens are long-lived, and can be exchanged for new OAuth 2.0 access_tokens for extended periods of access.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-179">Refresh_tokens are long-lived, and can be exchanged for new OAuth 2.0 access_tokens for extended periods of access.</span></span>  

<span data-ttu-id="f1e0c-180">If your app does not request the `offline_access` scope, it will not receive refresh_tokens.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-180">If your app does not request the `offline_access` scope, it will not receive refresh_tokens.</span></span>  <span data-ttu-id="f1e0c-181">This means that when you redeem an authorization_code in the OAuth 2.0 authorization code flow, you will only receive back an access_token from the `/token` endpoint.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-181">This means that when you redeem an authorization_code in the OAuth 2.0 authorization code flow, you will only receive back an access_token from the `/token` endpoint.</span></span>  <span data-ttu-id="f1e0c-182">That access_token will remain valid for a short period of time (typically one hour), but will eventually expire.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-182">That access_token will remain valid for a short period of time (typically one hour), but will eventually expire.</span></span>  <span data-ttu-id="f1e0c-183">At that point in time, your app will need to redirect the user back to the `/authorize` endpoint to retrieve a new authorization_code.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-183">At that point in time, your app will need to redirect the user back to the `/authorize` endpoint to retrieve a new authorization_code.</span></span>  <span data-ttu-id="f1e0c-184">During this redirect, the user may or may not need to enter their credentials again or re-consent to permissions, depending on the the type of app.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-184">During this redirect, the user may or may not need to enter their credentials again or re-consent to permissions, depending on the the type of app.</span></span>

<span data-ttu-id="f1e0c-185">To learn more about OAuth 2.0, refresh_tokens, and access_tokens, check out the [v2.0 protocol reference](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="f1e0c-185">To learn more about OAuth 2.0, refresh_tokens, and access_tokens, check out the [v2.0 protocol reference](active-directory-v2-protocols.md).</span></span>

#### <a name="openid-profile-and-email"></a><span data-ttu-id="f1e0c-186">OpenID, profile and email</span><span class="sxs-lookup"><span data-stu-id="f1e0c-186">OpenID, profile and email</span></span>
<span data-ttu-id="f1e0c-187">In the original Azure Active Directory service, the most basic OpenID Connect sign-in flow would provide a wealth of information about the user in the resulting id_token.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-187">In the original Azure Active Directory service, the most basic OpenID Connect sign-in flow would provide a wealth of information about the user in the resulting id_token.</span></span>  <span data-ttu-id="f1e0c-188">The claims in an id_token can include the user's name, preferred username, email address, object ID, and more.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-188">The claims in an id_token can include the user's name, preferred username, email address, object ID, and more.</span></span>

<span data-ttu-id="f1e0c-189">We are now restricting the information that the `openid` scope affords your app access to.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-189">We are now restricting the information that the `openid` scope affords your app access to.</span></span>  <span data-ttu-id="f1e0c-190">The ‘openid’ scope will only allow your app to sign the user in, and receive an app-specific identifier for the user.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-190">The ‘openid’ scope will only allow your app to sign the user in, and receive an app-specific identifier for the user.</span></span>  <span data-ttu-id="f1e0c-191">If you want to obtain personally identifiable information (PII) about the user in your app, your app will need to request additional permissions from the user.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-191">If you want to obtain personally identifiable information (PII) about the user in your app, your app will need to request additional permissions from the user.</span></span>  <span data-ttu-id="f1e0c-192">We are introducing two new scopes – the `email` and `profile` scopes – which allow you to do so.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-192">We are introducing two new scopes – the `email` and `profile` scopes – which allow you to do so.</span></span>

<span data-ttu-id="f1e0c-193">The `email` scope is very straightforward – it allows your app access to the user’s primary email address via the `email` claim in the id_token.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-193">The `email` scope is very straightforward – it allows your app access to the user’s primary email address via the `email` claim in the id_token.</span></span>  <span data-ttu-id="f1e0c-194">The `profile` scope affords your app access to all other basic information about the user – their name, preferred username, object ID, and so on.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-194">The `profile` scope affords your app access to all other basic information about the user – their name, preferred username, object ID, and so on.</span></span>

<span data-ttu-id="f1e0c-195">This allows you to code your app in a minimal-disclosure  fashion – you can only ask the user for the set of information that your app requires to do its job.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-195">This allows you to code your app in a minimal-disclosure  fashion – you can only ask the user for the set of information that your app requires to do its job.</span></span>  <span data-ttu-id="f1e0c-196">For more information on these scopes, refer to [the v2.0 scope reference](active-directory-v2-scopes.md).</span><span class="sxs-lookup"><span data-stu-id="f1e0c-196">For more information on these scopes, refer to [the v2.0 scope reference](active-directory-v2-scopes.md).</span></span>

## <a name="token-claims"></a><span data-ttu-id="f1e0c-197">Token Claims</span><span class="sxs-lookup"><span data-stu-id="f1e0c-197">Token Claims</span></span>
<span data-ttu-id="f1e0c-198">The claims in tokens issued by the v2.0 endpoint will not be identical to tokens issued by the generally available Azure AD endpoints - apps migrating to the new service should not assume a particular claim will exist in id_tokens or access_tokens.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-198">The claims in tokens issued by the v2.0 endpoint will not be identical to tokens issued by the generally available Azure AD endpoints - apps migrating to the new service should not assume a particular claim will exist in id_tokens or access_tokens.</span></span>   <span data-ttu-id="f1e0c-199">Tokens issued by the v2.0 endpoint are compliant with the OAuth 2.0 and OpenID Connect specifications, but may follow different semantics than the generally available Azure AD service.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-199">Tokens issued by the v2.0 endpoint are compliant with the OAuth 2.0 and OpenID Connect specifications, but may follow different semantics than the generally available Azure AD service.</span></span>

<span data-ttu-id="f1e0c-200">To learn about the specific claims emitted in v2.0 tokens, see the [v2.0 token reference](active-directory-v2-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="f1e0c-200">To learn about the specific claims emitted in v2.0 tokens, see the [v2.0 token reference](active-directory-v2-tokens.md).</span></span>

## <a name="limitations"></a><span data-ttu-id="f1e0c-201">Limitations</span><span class="sxs-lookup"><span data-stu-id="f1e0c-201">Limitations</span></span>
<span data-ttu-id="f1e0c-202">There are a few restrictions to be aware of when using the v2.0 point.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-202">There are a few restrictions to be aware of when using the v2.0 point.</span></span>  <span data-ttu-id="f1e0c-203">Please refer to the [v2.0 limitations doc](active-directory-v2-limitations.md) to see if any of these restrictions apply to your particular scenario.</span><span class="sxs-lookup"><span data-stu-id="f1e0c-203">Please refer to the [v2.0 limitations doc](active-directory-v2-limitations.md) to see if any of these restrictions apply to your particular scenario.</span></span>


