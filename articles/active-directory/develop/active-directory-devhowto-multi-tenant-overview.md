---
title: How to build an app that can sign in any Azure AD user| Microsoft Docs
description: Step by step instructions for building an application that can sign in a user from any Azure Active Directory tenant, also known as a multi-tenant application.
services: active-directory
documentationcenter: ''
author: skwan
manager: mbaldwin
editor: ''
ms.assetid: 35af95cb-ced3-46ad-b01d-5d2f6fd064a3
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 01/23/2017
ms.author: skwan;bryanla
ms.openlocfilehash: 80293817bb5046d6a789c18ffcd1530333a1b17f
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44549788"
---
# <a name="how-to-sign-in-any-azure-active-directory-ad-user-using-the-multi-tenant-application-pattern"></a><span data-ttu-id="249e0-103">How to sign in any Azure Active Directory (AD) user using the multi-tenant application pattern</span><span class="sxs-lookup"><span data-stu-id="249e0-103">How to sign in any Azure Active Directory (AD) user using the multi-tenant application pattern</span></span>
<span data-ttu-id="249e0-104">If you offer a Software as a Service application to many organizations, you can configure your application to accept sign-ins from any Azure AD tenant.</span><span class="sxs-lookup"><span data-stu-id="249e0-104">If you offer a Software as a Service application to many organizations, you can configure your application to accept sign-ins from any Azure AD tenant.</span></span>  <span data-ttu-id="249e0-105">In Azure AD this is called making your application multi-tenant.</span><span class="sxs-lookup"><span data-stu-id="249e0-105">In Azure AD this is called making your application multi-tenant.</span></span>  <span data-ttu-id="249e0-106">Users in any Azure AD tenant will be able to sign in to your application after consenting to use their account with your application.</span><span class="sxs-lookup"><span data-stu-id="249e0-106">Users in any Azure AD tenant will be able to sign in to your application after consenting to use their account with your application.</span></span>  

<span data-ttu-id="249e0-107">If you have an existing application that has its own account system, or supports other kinds of sign in from other cloud providers, adding Azure AD sign in from any tenant is as simple as registering your app, adding sign in code via OAuth2, OpenID Connect, or SAML, and putting a Sign In with Microsoft button on your application.</span><span class="sxs-lookup"><span data-stu-id="249e0-107">If you have an existing application that has its own account system, or supports other kinds of sign in from other cloud providers, adding Azure AD sign in from any tenant is as simple as registering your app, adding sign in code via OAuth2, OpenID Connect, or SAML, and putting a Sign In with Microsoft button on your application.</span></span> <span data-ttu-id="249e0-108">Click the button below to learn more about branding your application.</span><span class="sxs-lookup"><span data-stu-id="249e0-108">Click the button below to learn more about branding your application.</span></span>

<span data-ttu-id="249e0-109">[![Sign in button][AAD-Sign-In]][AAD-App-Branding]</span><span class="sxs-lookup"><span data-stu-id="249e0-109">[![Sign in button][AAD-Sign-In]][AAD-App-Branding]</span></span>

<span data-ttu-id="249e0-110">This article assumes you’re already familiar with building a single tenant application for Azure AD.</span><span class="sxs-lookup"><span data-stu-id="249e0-110">This article assumes you’re already familiar with building a single tenant application for Azure AD.</span></span>  <span data-ttu-id="249e0-111">If you’re not, head back up to the [developer guide homepage][AAD-Dev-Guide] and try one of our quick starts!</span><span class="sxs-lookup"><span data-stu-id="249e0-111">If you’re not, head back up to the [developer guide homepage][AAD-Dev-Guide] and try one of our quick starts!</span></span>

<span data-ttu-id="249e0-112">There are four simple steps to convert your application into an Azure AD multi-tenant app:</span><span class="sxs-lookup"><span data-stu-id="249e0-112">There are four simple steps to convert your application into an Azure AD multi-tenant app:</span></span>

1. <span data-ttu-id="249e0-113">Update your application registration to be multi-tenant</span><span class="sxs-lookup"><span data-stu-id="249e0-113">Update your application registration to be multi-tenant</span></span>
2. <span data-ttu-id="249e0-114">Update your code to send requests to the /common endpoint</span><span class="sxs-lookup"><span data-stu-id="249e0-114">Update your code to send requests to the /common endpoint</span></span> 
3. <span data-ttu-id="249e0-115">Update your code to handle multiple issuer values</span><span class="sxs-lookup"><span data-stu-id="249e0-115">Update your code to handle multiple issuer values</span></span>
4. <span data-ttu-id="249e0-116">Understand user and admin consent and make appropriate code changes</span><span class="sxs-lookup"><span data-stu-id="249e0-116">Understand user and admin consent and make appropriate code changes</span></span>

<span data-ttu-id="249e0-117">Let’s look at each step in detail.</span><span class="sxs-lookup"><span data-stu-id="249e0-117">Let’s look at each step in detail.</span></span> <span data-ttu-id="249e0-118">You can also jump straight to [this list of multi-tenant samples][AAD-Samples-MT].</span><span class="sxs-lookup"><span data-stu-id="249e0-118">You can also jump straight to [this list of multi-tenant samples][AAD-Samples-MT].</span></span>

## <a name="update-registration-to-be-multi-tenant"></a><span data-ttu-id="249e0-119">Update registration to be multi-tenant</span><span class="sxs-lookup"><span data-stu-id="249e0-119">Update registration to be multi-tenant</span></span>
<span data-ttu-id="249e0-120">By default, web app/API registrations in Azure AD are single tenant.</span><span class="sxs-lookup"><span data-stu-id="249e0-120">By default, web app/API registrations in Azure AD are single tenant.</span></span>  <span data-ttu-id="249e0-121">You can make your registration multi-tenant by finding the “Multi-Tenanted” switch on the properties page of your application registration in the [Azure portal][AZURE-portal] and setting it to “Yes”.</span><span class="sxs-lookup"><span data-stu-id="249e0-121">You can make your registration multi-tenant by finding the “Multi-Tenanted” switch on the properties page of your application registration in the [Azure portal][AZURE-portal] and setting it to “Yes”.</span></span>

<span data-ttu-id="249e0-122">Also note, before an application can be made multi-tenant, Azure AD requires the App ID URI of the application to be globally unique.</span><span class="sxs-lookup"><span data-stu-id="249e0-122">Also note, before an application can be made multi-tenant, Azure AD requires the App ID URI of the application to be globally unique.</span></span> <span data-ttu-id="249e0-123">The App ID URI is one of the ways an application is identified in protocol messages.</span><span class="sxs-lookup"><span data-stu-id="249e0-123">The App ID URI is one of the ways an application is identified in protocol messages.</span></span>  <span data-ttu-id="249e0-124">For a single tenant app, it is sufficient for the App ID URI to be unique within that tenant.</span><span class="sxs-lookup"><span data-stu-id="249e0-124">For a single tenant app, it is sufficient for the App ID URI to be unique within that tenant.</span></span>  <span data-ttu-id="249e0-125">For a multi-tenant application, it must be globally unique so Azure AD can find the application across all tenants.</span><span class="sxs-lookup"><span data-stu-id="249e0-125">For a multi-tenant application, it must be globally unique so Azure AD can find the application across all tenants.</span></span>  <span data-ttu-id="249e0-126">Global uniqueness is enforced by requiring the App ID URI to have a host name that matches a verified domain of the Azure AD tenant.</span><span class="sxs-lookup"><span data-stu-id="249e0-126">Global uniqueness is enforced by requiring the App ID URI to have a host name that matches a verified domain of the Azure AD tenant.</span></span>  <span data-ttu-id="249e0-127">For example, if the name of your tenant was contoso.onmicrosoft.com then a valid App ID URI would be `https://contoso.onmicrosoft.com/myapp`.</span><span class="sxs-lookup"><span data-stu-id="249e0-127">For example, if the name of your tenant was contoso.onmicrosoft.com then a valid App ID URI would be `https://contoso.onmicrosoft.com/myapp`.</span></span>  <span data-ttu-id="249e0-128">If your tenant had a verified domain of `contoso.com`, then a valid App ID URI would also be `https://contoso.com/myapp`.</span><span class="sxs-lookup"><span data-stu-id="249e0-128">If your tenant had a verified domain of `contoso.com`, then a valid App ID URI would also be `https://contoso.com/myapp`.</span></span>  <span data-ttu-id="249e0-129">Setting an application as multi-tenant will fail if the App ID URI doesn’t follow this pattern.</span><span class="sxs-lookup"><span data-stu-id="249e0-129">Setting an application as multi-tenant will fail if the App ID URI doesn’t follow this pattern.</span></span>

<span data-ttu-id="249e0-130">Native client registrations are multi-tenant by default.</span><span class="sxs-lookup"><span data-stu-id="249e0-130">Native client registrations are multi-tenant by default.</span></span>  <span data-ttu-id="249e0-131">You don’t need to take any action to make a native client application registration multi-tenant.</span><span class="sxs-lookup"><span data-stu-id="249e0-131">You don’t need to take any action to make a native client application registration multi-tenant.</span></span>

## <a name="update-your-code-to-send-requests-to-common"></a><span data-ttu-id="249e0-132">Update your code to send requests to /common</span><span class="sxs-lookup"><span data-stu-id="249e0-132">Update your code to send requests to /common</span></span>
<span data-ttu-id="249e0-133">In a single tenant application, sign in requests are sent to the tenant’s sign in endpoint.</span><span class="sxs-lookup"><span data-stu-id="249e0-133">In a single tenant application, sign in requests are sent to the tenant’s sign in endpoint.</span></span>   <span data-ttu-id="249e0-134">For example, for contoso.onmicrosoft.com the endpoint would be:</span><span class="sxs-lookup"><span data-stu-id="249e0-134">For example, for contoso.onmicrosoft.com the endpoint would be:</span></span>

    https://login.microsoftonline.com/contoso.onmicrosoft.com

<span data-ttu-id="249e0-135">Requests sent to a tenant’s endpoint can sign in users (or guests) in that tenant to applications in that tenant.</span><span class="sxs-lookup"><span data-stu-id="249e0-135">Requests sent to a tenant’s endpoint can sign in users (or guests) in that tenant to applications in that tenant.</span></span>  <span data-ttu-id="249e0-136">With a multi-tenant application, the application doesn’t know up front what tenant the user is from, so you can’t send requests to a tenant’s endpoint.</span><span class="sxs-lookup"><span data-stu-id="249e0-136">With a multi-tenant application, the application doesn’t know up front what tenant the user is from, so you can’t send requests to a tenant’s endpoint.</span></span>  <span data-ttu-id="249e0-137">Instead, requests are sent to an endpoint that multiplexes across all Azure AD tenants:</span><span class="sxs-lookup"><span data-stu-id="249e0-137">Instead, requests are sent to an endpoint that multiplexes across all Azure AD tenants:</span></span>

    https://login.microsoftonline.com/common

<span data-ttu-id="249e0-138">When Azure AD receives a request on the /common endpoint, it signs the user in and as a consequence discovers which tenant the user is from.</span><span class="sxs-lookup"><span data-stu-id="249e0-138">When Azure AD receives a request on the /common endpoint, it signs the user in and as a consequence discovers which tenant the user is from.</span></span>  <span data-ttu-id="249e0-139">The /common endpoint works with all of the authentication protocols supported by Azure AD:  OpenID Connect, OAuth 2.0, SAML 2.0, and WS-Federation.</span><span class="sxs-lookup"><span data-stu-id="249e0-139">The /common endpoint works with all of the authentication protocols supported by Azure AD:  OpenID Connect, OAuth 2.0, SAML 2.0, and WS-Federation.</span></span>

<span data-ttu-id="249e0-140">The sign in response to the application then contains a token representing the user.</span><span class="sxs-lookup"><span data-stu-id="249e0-140">The sign in response to the application then contains a token representing the user.</span></span>  <span data-ttu-id="249e0-141">The issuer value in the token tells an application what tenant the user is from.</span><span class="sxs-lookup"><span data-stu-id="249e0-141">The issuer value in the token tells an application what tenant the user is from.</span></span>  <span data-ttu-id="249e0-142">When a response returns from the /common endpoint, the issuer value in the token will correspond to the user’s tenant.</span><span class="sxs-lookup"><span data-stu-id="249e0-142">When a response returns from the /common endpoint, the issuer value in the token will correspond to the user’s tenant.</span></span>  <span data-ttu-id="249e0-143">It’s important to note the /common endpoint is not a tenant and is not an issuer, it’s just a multiplexer.</span><span class="sxs-lookup"><span data-stu-id="249e0-143">It’s important to note the /common endpoint is not a tenant and is not an issuer, it’s just a multiplexer.</span></span>  <span data-ttu-id="249e0-144">When using /common, the logic in your application to validate tokens needs to be updated to take this into account.</span><span class="sxs-lookup"><span data-stu-id="249e0-144">When using /common, the logic in your application to validate tokens needs to be updated to take this into account.</span></span> 

<span data-ttu-id="249e0-145">As mentioned earlier, multi-tenant applications should also provide a consistent sign-in experience for users, following the Azure AD application branding guidelines.</span><span class="sxs-lookup"><span data-stu-id="249e0-145">As mentioned earlier, multi-tenant applications should also provide a consistent sign-in experience for users, following the Azure AD application branding guidelines.</span></span> <span data-ttu-id="249e0-146">Click the button below to learn more about branding your application.</span><span class="sxs-lookup"><span data-stu-id="249e0-146">Click the button below to learn more about branding your application.</span></span>

<span data-ttu-id="249e0-147">[![Sign in button][AAD-Sign-In]][AAD-App-Branding]</span><span class="sxs-lookup"><span data-stu-id="249e0-147">[![Sign in button][AAD-Sign-In]][AAD-App-Branding]</span></span>

<span data-ttu-id="249e0-148">Let’s take a look at the use of the /common endpoint and your code implementation in more detail.</span><span class="sxs-lookup"><span data-stu-id="249e0-148">Let’s take a look at the use of the /common endpoint and your code implementation in more detail.</span></span>

## <a name="update-your-code-to-handle-multiple-issuer-values"></a><span data-ttu-id="249e0-149">Update your code to handle multiple issuer values</span><span class="sxs-lookup"><span data-stu-id="249e0-149">Update your code to handle multiple issuer values</span></span>
<span data-ttu-id="249e0-150">Web applications and web APIs receive and validate tokens from Azure AD.</span><span class="sxs-lookup"><span data-stu-id="249e0-150">Web applications and web APIs receive and validate tokens from Azure AD.</span></span>  

> [!NOTE]
> <span data-ttu-id="249e0-151">While native client applications request and receive tokens from Azure AD, they do so to send them to APIs, where they are validated.</span><span class="sxs-lookup"><span data-stu-id="249e0-151">While native client applications request and receive tokens from Azure AD, they do so to send them to APIs, where they are validated.</span></span>  <span data-ttu-id="249e0-152">Native applications do not validate tokens and must treat them as opaque.</span><span class="sxs-lookup"><span data-stu-id="249e0-152">Native applications do not validate tokens and must treat them as opaque.</span></span>
> 
> 

<span data-ttu-id="249e0-153">Let’s look at how an application validates tokens it receives from Azure AD.</span><span class="sxs-lookup"><span data-stu-id="249e0-153">Let’s look at how an application validates tokens it receives from Azure AD.</span></span>  <span data-ttu-id="249e0-154">A single tenant application will normally take an endpoint value like:</span><span class="sxs-lookup"><span data-stu-id="249e0-154">A single tenant application will normally take an endpoint value like:</span></span>

    https://login.microsoftonline.com/contoso.onmicrosoft.com

<span data-ttu-id="249e0-155">and use it to construct a metadata URL (in this case, OpenID Connect) like:</span><span class="sxs-lookup"><span data-stu-id="249e0-155">and use it to construct a metadata URL (in this case, OpenID Connect) like:</span></span>

    https://login.microsoftonline.com/contoso.onmicrosoft.com/.well-known/openid-configuration

<span data-ttu-id="249e0-156">to download two critical pieces of information that are used to validate tokens:  the tenant’s signing keys and issuer value.</span><span class="sxs-lookup"><span data-stu-id="249e0-156">to download two critical pieces of information that are used to validate tokens:  the tenant’s signing keys and issuer value.</span></span>  <span data-ttu-id="249e0-157">Each Azure AD tenant has a unique issuer value of the form:</span><span class="sxs-lookup"><span data-stu-id="249e0-157">Each Azure AD tenant has a unique issuer value of the form:</span></span>

    https://sts.windows.net/31537af4-6d77-4bb9-a681-d2394888ea26/

<span data-ttu-id="249e0-158">where the GUID value is the rename-safe version of the tenant ID of the tenant.</span><span class="sxs-lookup"><span data-stu-id="249e0-158">where the GUID value is the rename-safe version of the tenant ID of the tenant.</span></span>  <span data-ttu-id="249e0-159">If you click on the metadata link above for `contoso.onmicrosoft.com`, you can see this issuer value in the document.</span><span class="sxs-lookup"><span data-stu-id="249e0-159">If you click on the metadata link above for `contoso.onmicrosoft.com`, you can see this issuer value in the document.</span></span>

<span data-ttu-id="249e0-160">When a single tenant application validates a token, it checks the signature of the token against the signing keys from the metadata document, and makes sure the issuer value in the token matches the one that was found in the metadata document.</span><span class="sxs-lookup"><span data-stu-id="249e0-160">When a single tenant application validates a token, it checks the signature of the token against the signing keys from the metadata document, and makes sure the issuer value in the token matches the one that was found in the metadata document.</span></span>

<span data-ttu-id="249e0-161">Since the /common endpoint doesn’t correspond to a tenant and isn’t an issuer, when you examine the issuer value in the metadata for /common it has a templated URL instead of an actual value:</span><span class="sxs-lookup"><span data-stu-id="249e0-161">Since the /common endpoint doesn’t correspond to a tenant and isn’t an issuer, when you examine the issuer value in the metadata for /common it has a templated URL instead of an actual value:</span></span>

    https://sts.windows.net/{tenantid}/

<span data-ttu-id="249e0-162">Therefore, a multi-tenant application can’t validate tokens just by matching the issuer value in the metadata with the `issuer` value in the token.</span><span class="sxs-lookup"><span data-stu-id="249e0-162">Therefore, a multi-tenant application can’t validate tokens just by matching the issuer value in the metadata with the `issuer` value in the token.</span></span>  <span data-ttu-id="249e0-163">A multi-tenant application needs logic to decide which issuer values are valid and which are not, based on the tenant ID portion of the issuer value.</span><span class="sxs-lookup"><span data-stu-id="249e0-163">A multi-tenant application needs logic to decide which issuer values are valid and which are not, based on the tenant ID portion of the issuer value.</span></span>  

<span data-ttu-id="249e0-164">For example, if a multi-tenant application only allows sign in from specific tenants who have signed up for their service, then it must check either the issuer value or the `tid` claim value in the token to make sure that tenant is in their list of subscribers.</span><span class="sxs-lookup"><span data-stu-id="249e0-164">For example, if a multi-tenant application only allows sign in from specific tenants who have signed up for their service, then it must check either the issuer value or the `tid` claim value in the token to make sure that tenant is in their list of subscribers.</span></span>  <span data-ttu-id="249e0-165">If a multi-tenant application only deals with individuals and doesn’t make any access decisions based on tenants, then it can ignore the issuer value altogether.</span><span class="sxs-lookup"><span data-stu-id="249e0-165">If a multi-tenant application only deals with individuals and doesn’t make any access decisions based on tenants, then it can ignore the issuer value altogether.</span></span>

<span data-ttu-id="249e0-166">In the multi-tenant samples you’ll find in the [Related Content](#related-content) section at the end of this article, issuer validation is disabled to enable any Azure AD tenant to sign in.</span><span class="sxs-lookup"><span data-stu-id="249e0-166">In the multi-tenant samples you’ll find in the [Related Content](#related-content) section at the end of this article, issuer validation is disabled to enable any Azure AD tenant to sign in.</span></span>

<span data-ttu-id="249e0-167">Now let’s look at the user experience for users that are signing in to multi-tenant applications.</span><span class="sxs-lookup"><span data-stu-id="249e0-167">Now let’s look at the user experience for users that are signing in to multi-tenant applications.</span></span>

## <a name="understanding-user-and-admin-consent"></a><span data-ttu-id="249e0-168">Understanding user and admin consent</span><span class="sxs-lookup"><span data-stu-id="249e0-168">Understanding user and admin consent</span></span>
<span data-ttu-id="249e0-169">For a user to sign in to an application in Azure AD, the application must be represented in the user’s tenant.</span><span class="sxs-lookup"><span data-stu-id="249e0-169">For a user to sign in to an application in Azure AD, the application must be represented in the user’s tenant.</span></span>  <span data-ttu-id="249e0-170">This allows the organization to do things like apply unique policies when users from their tenant sign in to the application.</span><span class="sxs-lookup"><span data-stu-id="249e0-170">This allows the organization to do things like apply unique policies when users from their tenant sign in to the application.</span></span>  <span data-ttu-id="249e0-171">For a single tenant application this registration is simple; it’s the one that happens when you register the application in the [Azure portal][AZURE-portal].</span><span class="sxs-lookup"><span data-stu-id="249e0-171">For a single tenant application this registration is simple; it’s the one that happens when you register the application in the [Azure portal][AZURE-portal].</span></span>

<span data-ttu-id="249e0-172">For a multi-tenant application, the initial registration for the application lives in the Azure AD tenant used by the developer.</span><span class="sxs-lookup"><span data-stu-id="249e0-172">For a multi-tenant application, the initial registration for the application lives in the Azure AD tenant used by the developer.</span></span>  <span data-ttu-id="249e0-173">When a user from a different tenant signs in to the application for the first time, Azure AD asks them to consent to the permissions requested by the application.</span><span class="sxs-lookup"><span data-stu-id="249e0-173">When a user from a different tenant signs in to the application for the first time, Azure AD asks them to consent to the permissions requested by the application.</span></span>  <span data-ttu-id="249e0-174">If they consent, then a representation of the application called a *service principal* is created in the user’s tenant, and sign in can continue.</span><span class="sxs-lookup"><span data-stu-id="249e0-174">If they consent, then a representation of the application called a *service principal* is created in the user’s tenant, and sign in can continue.</span></span> <span data-ttu-id="249e0-175">A delegation is also created in the directory that records the user’s consent to the application.</span><span class="sxs-lookup"><span data-stu-id="249e0-175">A delegation is also created in the directory that records the user’s consent to the application.</span></span> <span data-ttu-id="249e0-176">See [Application Objects and Service Principal Objects][AAD-App-SP-Objects] for details on the application's Application and ServicePrincipal objects, and how they relate to each other.</span><span class="sxs-lookup"><span data-stu-id="249e0-176">See [Application Objects and Service Principal Objects][AAD-App-SP-Objects] for details on the application's Application and ServicePrincipal objects, and how they relate to each other.</span></span>

![Consent to single-tier app][Consent-Single-Tier] 

<span data-ttu-id="249e0-178">This consent experience is affected by the permissions requested by the application.</span><span class="sxs-lookup"><span data-stu-id="249e0-178">This consent experience is affected by the permissions requested by the application.</span></span>  <span data-ttu-id="249e0-179">Azure AD supports two kinds of permissions, app-only and delegated:</span><span class="sxs-lookup"><span data-stu-id="249e0-179">Azure AD supports two kinds of permissions, app-only and delegated:</span></span>

* <span data-ttu-id="249e0-180">A delegated permission grants an application the ability to act as a signed in user for a subset of the things the user can do.</span><span class="sxs-lookup"><span data-stu-id="249e0-180">A delegated permission grants an application the ability to act as a signed in user for a subset of the things the user can do.</span></span>  <span data-ttu-id="249e0-181">For example, you can grant an application the delegated permission to read the signed in user’s calendar.</span><span class="sxs-lookup"><span data-stu-id="249e0-181">For example, you can grant an application the delegated permission to read the signed in user’s calendar.</span></span>
* <span data-ttu-id="249e0-182">An app-only permission is granted directly to the identity of the application.</span><span class="sxs-lookup"><span data-stu-id="249e0-182">An app-only permission is granted directly to the identity of the application.</span></span>  <span data-ttu-id="249e0-183">For example, you can grant an application the app-only permission to read the list of users in a tenant, and it will be able to do this regardless of who is signed in to the application.</span><span class="sxs-lookup"><span data-stu-id="249e0-183">For example, you can grant an application the app-only permission to read the list of users in a tenant, and it will be able to do this regardless of who is signed in to the application.</span></span>

<span data-ttu-id="249e0-184">Some permissions can be consented to by a regular user, while others require a tenant administrator’s consent.</span><span class="sxs-lookup"><span data-stu-id="249e0-184">Some permissions can be consented to by a regular user, while others require a tenant administrator’s consent.</span></span> 

### <a name="admin-consent"></a><span data-ttu-id="249e0-185">Admin consent</span><span class="sxs-lookup"><span data-stu-id="249e0-185">Admin consent</span></span>
<span data-ttu-id="249e0-186">App-only permissions always require a tenant administrator’s consent.</span><span class="sxs-lookup"><span data-stu-id="249e0-186">App-only permissions always require a tenant administrator’s consent.</span></span>  <span data-ttu-id="249e0-187">If your application requests an app-only permission and a normal user tries to sign in to the application, your application will get an error message saying the user isn’t able to consent.</span><span class="sxs-lookup"><span data-stu-id="249e0-187">If your application requests an app-only permission and a normal user tries to sign in to the application, your application will get an error message saying the user isn’t able to consent.</span></span>

<span data-ttu-id="249e0-188">Certain delegated permissions also require a tenant administrator’s consent.</span><span class="sxs-lookup"><span data-stu-id="249e0-188">Certain delegated permissions also require a tenant administrator’s consent.</span></span>  <span data-ttu-id="249e0-189">For example, the ability to write back to Azure AD as the signed in user requires a tenant administrator’s consent.</span><span class="sxs-lookup"><span data-stu-id="249e0-189">For example, the ability to write back to Azure AD as the signed in user requires a tenant administrator’s consent.</span></span>  <span data-ttu-id="249e0-190">Like app-only permissions, if an ordinary user tries to sign in to an application that requests a delegated permission that requires administrator consent, your application will receive an error.</span><span class="sxs-lookup"><span data-stu-id="249e0-190">Like app-only permissions, if an ordinary user tries to sign in to an application that requests a delegated permission that requires administrator consent, your application will receive an error.</span></span>  <span data-ttu-id="249e0-191">Whether or not a permission requires admin consent is determined by the developer that published the resource, and can be found in the documentation for the resource.</span><span class="sxs-lookup"><span data-stu-id="249e0-191">Whether or not a permission requires admin consent is determined by the developer that published the resource, and can be found in the documentation for the resource.</span></span>  <span data-ttu-id="249e0-192">Links to topics describing the available permissions for the Azure AD Graph API and Microsoft Graph API are in the [Related Content](#related-content) section of this article.</span><span class="sxs-lookup"><span data-stu-id="249e0-192">Links to topics describing the available permissions for the Azure AD Graph API and Microsoft Graph API are in the [Related Content](#related-content) section of this article.</span></span>

<span data-ttu-id="249e0-193">If your application uses permissions that require admin consent, you need to have a gesture in your application such as a button or link where the admin can initiate the action.</span><span class="sxs-lookup"><span data-stu-id="249e0-193">If your application uses permissions that require admin consent, you need to have a gesture in your application such as a button or link where the admin can initiate the action.</span></span>  <span data-ttu-id="249e0-194">The request your application sends for this action is a usual OAuth2/OpenID Connect authorization request, but that also includes the `prompt=admin_consent` query string parameter.</span><span class="sxs-lookup"><span data-stu-id="249e0-194">The request your application sends for this action is a usual OAuth2/OpenID Connect authorization request, but that also includes the `prompt=admin_consent` query string parameter.</span></span>  <span data-ttu-id="249e0-195">Once the admin has consented and the service principal is created in the customer’s tenant, subsequent sign in requests do not need the `prompt=admin_consent` parameter.</span><span class="sxs-lookup"><span data-stu-id="249e0-195">Once the admin has consented and the service principal is created in the customer’s tenant, subsequent sign in requests do not need the `prompt=admin_consent` parameter.</span></span>   <span data-ttu-id="249e0-196">Since the administrator has decided the requested permissions are acceptable, no other users in the tenant will be prompted for consent from that point forward.</span><span class="sxs-lookup"><span data-stu-id="249e0-196">Since the administrator has decided the requested permissions are acceptable, no other users in the tenant will be prompted for consent from that point forward.</span></span>

<span data-ttu-id="249e0-197">The `prompt=admin_consent` parameter can also be used by applications that request permissions that do not require admin consent, but want to give an experience where the tenant admin “signs up” for the application one time, and no other users are prompted for consent from that point on.</span><span class="sxs-lookup"><span data-stu-id="249e0-197">The `prompt=admin_consent` parameter can also be used by applications that request permissions that do not require admin consent, but want to give an experience where the tenant admin “signs up” for the application one time, and no other users are prompted for consent from that point on.</span></span>

<span data-ttu-id="249e0-198">If an application requires administrator consent, and the administrator signs in to the application but the `prompt=admin_consent` parameter is not sent, the admin will be able to successfully consent to the application but they will only consent for their user account.</span><span class="sxs-lookup"><span data-stu-id="249e0-198">If an application requires administrator consent, and the administrator signs in to the application but the `prompt=admin_consent` parameter is not sent, the admin will be able to successfully consent to the application but they will only consent for their user account.</span></span>  <span data-ttu-id="249e0-199">Regular users will still not be able to sign in and consent to the application.</span><span class="sxs-lookup"><span data-stu-id="249e0-199">Regular users will still not be able to sign in and consent to the application.</span></span>  <span data-ttu-id="249e0-200">This is useful if you want to give the tenant administrator the ability to explore your application before allowing other users access.</span><span class="sxs-lookup"><span data-stu-id="249e0-200">This is useful if you want to give the tenant administrator the ability to explore your application before allowing other users access.</span></span>

<span data-ttu-id="249e0-201">A tenant administrator can disable the ability for regular users to consent to applications.</span><span class="sxs-lookup"><span data-stu-id="249e0-201">A tenant administrator can disable the ability for regular users to consent to applications.</span></span>  <span data-ttu-id="249e0-202">If this capability is disabled, admin consent is always required for the application to be set up in the tenant.</span><span class="sxs-lookup"><span data-stu-id="249e0-202">If this capability is disabled, admin consent is always required for the application to be set up in the tenant.</span></span>  <span data-ttu-id="249e0-203">If you want to test your application with regular user consent disabled, you can find the configuration switch in the Azure AD tenant configuration section of the [Azure portal][AZURE-portal].</span><span class="sxs-lookup"><span data-stu-id="249e0-203">If you want to test your application with regular user consent disabled, you can find the configuration switch in the Azure AD tenant configuration section of the [Azure portal][AZURE-portal].</span></span>

> [!NOTE]
> <span data-ttu-id="249e0-204">Some applications want an experience where regular users are able to consent initially, and later the application can involve the administrator and request permissions that require admin consent.</span><span class="sxs-lookup"><span data-stu-id="249e0-204">Some applications want an experience where regular users are able to consent initially, and later the application can involve the administrator and request permissions that require admin consent.</span></span>  <span data-ttu-id="249e0-205">There is no way to do this with a single application registration in Azure AD today.</span><span class="sxs-lookup"><span data-stu-id="249e0-205">There is no way to do this with a single application registration in Azure AD today.</span></span>  <span data-ttu-id="249e0-206">The upcoming Azure AD v2 endpoint will allow applications to request permissions at runtime, instead of at registration time, which will enable this scenario.</span><span class="sxs-lookup"><span data-stu-id="249e0-206">The upcoming Azure AD v2 endpoint will allow applications to request permissions at runtime, instead of at registration time, which will enable this scenario.</span></span>  <span data-ttu-id="249e0-207">For more information, see the [Azure AD App Model v2 Developer Guide][AAD-V2-Dev-Guide].</span><span class="sxs-lookup"><span data-stu-id="249e0-207">For more information, see the [Azure AD App Model v2 Developer Guide][AAD-V2-Dev-Guide].</span></span>
> 
> 

### <a name="consent-and-multi-tier-applications"></a><span data-ttu-id="249e0-208">Consent and multi-tier applications</span><span class="sxs-lookup"><span data-stu-id="249e0-208">Consent and multi-tier applications</span></span>
<span data-ttu-id="249e0-209">Your application may have multiple tiers, each represented by its own registration in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="249e0-209">Your application may have multiple tiers, each represented by its own registration in Azure AD.</span></span>  <span data-ttu-id="249e0-210">For example, a native application that calls a web API, or a web application that calls a web API.</span><span class="sxs-lookup"><span data-stu-id="249e0-210">For example, a native application that calls a web API, or a web application that calls a web API.</span></span>  <span data-ttu-id="249e0-211">In both of these cases, the client (native app or web app) requests permissions to call the resource (web API).</span><span class="sxs-lookup"><span data-stu-id="249e0-211">In both of these cases, the client (native app or web app) requests permissions to call the resource (web API).</span></span>  <span data-ttu-id="249e0-212">For the client to be successfully consented into a customer’s tenant, all resources to which it requests permissions must already exist in the customer’s tenant.</span><span class="sxs-lookup"><span data-stu-id="249e0-212">For the client to be successfully consented into a customer’s tenant, all resources to which it requests permissions must already exist in the customer’s tenant.</span></span>  <span data-ttu-id="249e0-213">If this condition isn’t met, Azure AD will return an error that the resource must be added first.</span><span class="sxs-lookup"><span data-stu-id="249e0-213">If this condition isn’t met, Azure AD will return an error that the resource must be added first.</span></span>

<span data-ttu-id="249e0-214">This can be a problem if your logical application consists of two or more application registrations, for example a separate client and resource.</span><span class="sxs-lookup"><span data-stu-id="249e0-214">This can be a problem if your logical application consists of two or more application registrations, for example a separate client and resource.</span></span>  <span data-ttu-id="249e0-215">How do you get the resource into the customer tenant first?</span><span class="sxs-lookup"><span data-stu-id="249e0-215">How do you get the resource into the customer tenant first?</span></span>  <span data-ttu-id="249e0-216">Azure AD covers this case by enabling client and resource to be consented in a single step, where the user sees the sum total of the permissions requested by both the client and resource on the consent page.</span><span class="sxs-lookup"><span data-stu-id="249e0-216">Azure AD covers this case by enabling client and resource to be consented in a single step, where the user sees the sum total of the permissions requested by both the client and resource on the consent page.</span></span>  <span data-ttu-id="249e0-217">To enable this behavior, the resource’s application registration must include the client’s App ID as a `knownClientApplications` in its application manifest.</span><span class="sxs-lookup"><span data-stu-id="249e0-217">To enable this behavior, the resource’s application registration must include the client’s App ID as a `knownClientApplications` in its application manifest.</span></span>  <span data-ttu-id="249e0-218">For example:</span><span class="sxs-lookup"><span data-stu-id="249e0-218">For example:</span></span>

    knownClientApplications": ["94da0930-763f-45c7-8d26-04d5938baab2"]

<span data-ttu-id="249e0-219">This property can be updated via the resource [application’s manifest][AAD-App-Manifest], and is demonstrated in a multi-tier native client calling web API sample in the [Related Content](#related-content) section at the end of this article.</span><span class="sxs-lookup"><span data-stu-id="249e0-219">This property can be updated via the resource [application’s manifest][AAD-App-Manifest], and is demonstrated in a multi-tier native client calling web API sample in the [Related Content](#related-content) section at the end of this article.</span></span> <span data-ttu-id="249e0-220">The diagram below provides an overview of consent for a multi-tier app:</span><span class="sxs-lookup"><span data-stu-id="249e0-220">The diagram below provides an overview of consent for a multi-tier app:</span></span>

![Consent to multi-tier known client app][Consent-Multi-Tier-Known-Client] 

<span data-ttu-id="249e0-222">A similar case happens if the different tiers of an application are registered in different tenants.</span><span class="sxs-lookup"><span data-stu-id="249e0-222">A similar case happens if the different tiers of an application are registered in different tenants.</span></span>  <span data-ttu-id="249e0-223">For example, consider the case of building a native client application that calls the Office 365 Exchange Online API.</span><span class="sxs-lookup"><span data-stu-id="249e0-223">For example, consider the case of building a native client application that calls the Office 365 Exchange Online API.</span></span>  <span data-ttu-id="249e0-224">To develop the native application, and later for the native application to run in a customer’s tenant, the Exchange Online service principal must be present.</span><span class="sxs-lookup"><span data-stu-id="249e0-224">To develop the native application, and later for the native application to run in a customer’s tenant, the Exchange Online service principal must be present.</span></span>  <span data-ttu-id="249e0-225">In this case the customer has to purchase Exchange Online for the service principal to be created in their tenant.</span><span class="sxs-lookup"><span data-stu-id="249e0-225">In this case the customer has to purchase Exchange Online for the service principal to be created in their tenant.</span></span>  <span data-ttu-id="249e0-226">In the case of an API built by an organization other than Microsoft, the developer of the API needs to provide a way for their customers to consent their application into a customer tenant, for example a web page that drives consent using the mechanisms described in this article.</span><span class="sxs-lookup"><span data-stu-id="249e0-226">In the case of an API built by an organization other than Microsoft, the developer of the API needs to provide a way for their customers to consent their application into a customer tenant, for example a web page that drives consent using the mechanisms described in this article.</span></span>  <span data-ttu-id="249e0-227">After the service principal is created in the tenant, the native application can get tokens for the API.</span><span class="sxs-lookup"><span data-stu-id="249e0-227">After the service principal is created in the tenant, the native application can get tokens for the API.</span></span>

<span data-ttu-id="249e0-228">The diagram below provides an overview of consent for a multi-tier app registered in different tenants:</span><span class="sxs-lookup"><span data-stu-id="249e0-228">The diagram below provides an overview of consent for a multi-tier app registered in different tenants:</span></span>

![Consent to multi-tier multi-party app][Consent-Multi-Tier-Multi-Party] 

### <a name="revoking-consent"></a><span data-ttu-id="249e0-230">Revoking Consent</span><span class="sxs-lookup"><span data-stu-id="249e0-230">Revoking Consent</span></span>
<span data-ttu-id="249e0-231">Users and administrators can revoke consent to your application at any time:</span><span class="sxs-lookup"><span data-stu-id="249e0-231">Users and administrators can revoke consent to your application at any time:</span></span>

* <span data-ttu-id="249e0-232">Users revoke access to individual applications by removing them from their [Access Panel Applications][AAD-Access-Panel] list.</span><span class="sxs-lookup"><span data-stu-id="249e0-232">Users revoke access to individual applications by removing them from their [Access Panel Applications][AAD-Access-Panel] list.</span></span>
* <span data-ttu-id="249e0-233">Administrators revoke access to applications by removing them from Azure AD using the Azure AD management section of the [Azure portal][AZURE-portal].</span><span class="sxs-lookup"><span data-stu-id="249e0-233">Administrators revoke access to applications by removing them from Azure AD using the Azure AD management section of the [Azure portal][AZURE-portal].</span></span>

<span data-ttu-id="249e0-234">If an administrator consents to an application for all users in a tenant, users cannot revoke access individually.</span><span class="sxs-lookup"><span data-stu-id="249e0-234">If an administrator consents to an application for all users in a tenant, users cannot revoke access individually.</span></span>  <span data-ttu-id="249e0-235">Only the administrator can revoke access, and only for the whole application.</span><span class="sxs-lookup"><span data-stu-id="249e0-235">Only the administrator can revoke access, and only for the whole application.</span></span>

### <a name="consent-and-protocol-support"></a><span data-ttu-id="249e0-236">Consent and Protocol Support</span><span class="sxs-lookup"><span data-stu-id="249e0-236">Consent and Protocol Support</span></span>
<span data-ttu-id="249e0-237">Consent is supported in Azure AD via the OAuth, OpenID Connect, WS-Federation, and SAML protocols.</span><span class="sxs-lookup"><span data-stu-id="249e0-237">Consent is supported in Azure AD via the OAuth, OpenID Connect, WS-Federation, and SAML protocols.</span></span>  <span data-ttu-id="249e0-238">The SAML and WS-Federation protocols do not support the `prompt=admin_consent` parameter, so admin consent is only possible via OAuth and OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="249e0-238">The SAML and WS-Federation protocols do not support the `prompt=admin_consent` parameter, so admin consent is only possible via OAuth and OpenID Connect.</span></span>

## <a name="multi-tenant-applications-and-caching-access-tokens"></a><span data-ttu-id="249e0-239">Multi-Tenant Applications and Caching Access Tokens</span><span class="sxs-lookup"><span data-stu-id="249e0-239">Multi-Tenant Applications and Caching Access Tokens</span></span>
<span data-ttu-id="249e0-240">Multi-tenant applications can also get access tokens to call APIs that are protected by Azure AD.</span><span class="sxs-lookup"><span data-stu-id="249e0-240">Multi-tenant applications can also get access tokens to call APIs that are protected by Azure AD.</span></span>  <span data-ttu-id="249e0-241">A common error when using the Active Directory Authentication Library (ADAL) with a multi-tenant application is to initially request a token for a user using /common, receive a response, and then request a subsequent token for that same user also using /common.</span><span class="sxs-lookup"><span data-stu-id="249e0-241">A common error when using the Active Directory Authentication Library (ADAL) with a multi-tenant application is to initially request a token for a user using /common, receive a response, and then request a subsequent token for that same user also using /common.</span></span>  <span data-ttu-id="249e0-242">Since the response from Azure AD comes from a tenant, not /common, ADAL caches the token as being from the tenant.</span><span class="sxs-lookup"><span data-stu-id="249e0-242">Since the response from Azure AD comes from a tenant, not /common, ADAL caches the token as being from the tenant.</span></span> <span data-ttu-id="249e0-243">The subsequent call to /common to get an access token for the user misses the cache entry, and the user is prompted to sign in again.</span><span class="sxs-lookup"><span data-stu-id="249e0-243">The subsequent call to /common to get an access token for the user misses the cache entry, and the user is prompted to sign in again.</span></span>  <span data-ttu-id="249e0-244">To avoid missing the cache, make sure subsequent calls for an already signed in user are made to the tenant’s endpoint.</span><span class="sxs-lookup"><span data-stu-id="249e0-244">To avoid missing the cache, make sure subsequent calls for an already signed in user are made to the tenant’s endpoint.</span></span>

## <a name="next-steps"></a><span data-ttu-id="249e0-245">Next steps</span><span class="sxs-lookup"><span data-stu-id="249e0-245">Next steps</span></span>
<span data-ttu-id="249e0-246">In this article you learned how to build an application that can sign in a user from any Azure Active Directory tenant.</span><span class="sxs-lookup"><span data-stu-id="249e0-246">In this article you learned how to build an application that can sign in a user from any Azure Active Directory tenant.</span></span> <span data-ttu-id="249e0-247">After enabling single sign on between you app and Azure Active Directory, you can also update your application to access APIs exposed by Microsoft resources, like Office 365.</span><span class="sxs-lookup"><span data-stu-id="249e0-247">After enabling single sign on between you app and Azure Active Directory, you can also update your application to access APIs exposed by Microsoft resources, like Office 365.</span></span> <span data-ttu-id="249e0-248">So you can offer a personalized experience in your application, for example showing contextual information to the users, like their profile picture or their next calendar appointment.</span><span class="sxs-lookup"><span data-stu-id="249e0-248">So you can offer a personalized experience in your application, for example showing contextual information to the users, like their profile picture or their next calendar appointment.</span></span> <span data-ttu-id="249e0-249">To learn more about making API calls to Azure Active Directory and Office 365 services like Exchange, SharePoint, OneDrive, OneNote, Planner, Excel and more, visit: [Microsoft Graph API][MSFT-Graph-overview].</span><span class="sxs-lookup"><span data-stu-id="249e0-249">To learn more about making API calls to Azure Active Directory and Office 365 services like Exchange, SharePoint, OneDrive, OneNote, Planner, Excel and more, visit: [Microsoft Graph API][MSFT-Graph-overview].</span></span>


## <a name="related-content"></a><span data-ttu-id="249e0-250">Related content</span><span class="sxs-lookup"><span data-stu-id="249e0-250">Related content</span></span>
* <span data-ttu-id="249e0-251">[Multi-tenant application samples][AAD-Samples-MT]</span><span class="sxs-lookup"><span data-stu-id="249e0-251">[Multi-tenant application samples][AAD-Samples-MT]</span></span>
* <span data-ttu-id="249e0-252">[Branding Guidelines for Applications][AAD-App-Branding]</span><span class="sxs-lookup"><span data-stu-id="249e0-252">[Branding Guidelines for Applications][AAD-App-Branding]</span></span>
* <span data-ttu-id="249e0-253">[Azure AD Developer's Guide][AAD-Dev-Guide]</span><span class="sxs-lookup"><span data-stu-id="249e0-253">[Azure AD Developer's Guide][AAD-Dev-Guide]</span></span>
* <span data-ttu-id="249e0-254">[Application Objects and Service Principal Objects][AAD-App-SP-Objects]</span><span class="sxs-lookup"><span data-stu-id="249e0-254">[Application Objects and Service Principal Objects][AAD-App-SP-Objects]</span></span>
* <span data-ttu-id="249e0-255">[Integrating Applications with Azure Active Directory][AAD-Integrating-Apps]</span><span class="sxs-lookup"><span data-stu-id="249e0-255">[Integrating Applications with Azure Active Directory][AAD-Integrating-Apps]</span></span>
* <span data-ttu-id="249e0-256">[Overview of the Consent Framework][AAD-Consent-Overview]</span><span class="sxs-lookup"><span data-stu-id="249e0-256">[Overview of the Consent Framework][AAD-Consent-Overview]</span></span>
* <span data-ttu-id="249e0-257">[Microsoft Graph API Permission Scopes][MSFT-Graph-permision-scopes]</span><span class="sxs-lookup"><span data-stu-id="249e0-257">[Microsoft Graph API Permission Scopes][MSFT-Graph-permision-scopes]</span></span>
* <span data-ttu-id="249e0-258">[Azure AD Graph API Permission Scopes][AAD-Graph-Perm-Scopes]</span><span class="sxs-lookup"><span data-stu-id="249e0-258">[Azure AD Graph API Permission Scopes][AAD-Graph-Perm-Scopes]</span></span>

<span data-ttu-id="249e0-259">Please use the comments section below to provide feedback and help us refine and shape our content.</span><span class="sxs-lookup"><span data-stu-id="249e0-259">Please use the comments section below to provide feedback and help us refine and shape our content.</span></span>

<!--Reference style links IN USE -->
[AAD-Access-Panel]:  https://myapps.microsoft.com
[AAD-App-Branding]: ./active-directory-branding-guidelines.md
[AAD-App-Manifest]: ./active-directory-application-manifest.md
[AAD-App-SP-Objects]: ./active-directory-application-objects.md
[AAD-Auth-Scenarios]: ./active-directory-authentication-scenarios.md
[AAD-Consent-Overview]: ./active-directory-integrating-applications.md#overview-of-the-consent-framework
[AAD-Dev-Guide]: ./active-directory-developers-guide.md
[AAD-Graph-Overview]: https://azure.microsoft.com/en-us/documentation/articles/active-directory-graph-api/
[AAD-Graph-Perm-Scopes]: https://msdn.microsoft.com/library/azure/ad/graph/howto/azure-ad-graph-api-permission-scopes
[AAD-Integrating-Apps]: ./active-directory-integrating-applications.md
[AAD-Samples-MT]: https://azure.microsoft.com/documentation/samples/?service=active-directory&term=multitenant
[AAD-Why-To-Integrate]: ./active-directory-how-to-integrate.md
[AZURE-portal]: https://portal.azure.com
[MSFT-Graph-overview]: https://graph.microsoft.io/en-us/docs/overview/overview
[MSFT-Graph-permision-scopes]: https://graph.microsoft.io/en-us/docs/authorization/permission_scopes

<!--Image references-->
[AAD-Sign-In]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/active-directory/develop/media/active-directory-devhowto-multi-tenant-overview/sign-in-with-microsoft-light.png
[Consent-Single-Tier]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/active-directory/develop/media/active-directory-devhowto-multi-tenant-overview/consent-flow-single-tier.png
[Consent-Multi-Tier-Known-Client]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/active-directory/develop/media/active-directory-devhowto-multi-tenant-overview/consent-flow-multi-tier-known-clients.png
[Consent-Multi-Tier-Multi-Party]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/active-directory/develop/media/active-directory-devhowto-multi-tenant-overview/consent-flow-multi-tier-multi-party.png

<!--Reference style links -->
[AAD-App-Manifest]: ./active-directory-application-manifest.md
[AAD-App-SP-Objects]: ./active-directory-application-objects.md
[AAD-Auth-Scenarios]: ./active-directory-authentication-scenarios.md
[AAD-Integrating-Apps]: ./active-directory-integrating-applications.md
[AAD-Dev-Guide]: ./active-directory-developers-guide.md
[AAD-Graph-Perm-Scopes]: https://msdn.microsoft.com/library/azure/ad/graph/howto/azure-ad-graph-api-permission-scopes
[AAD-Graph-App-Entity]: https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/entity-and-complex-type-reference#application-entity
[AAD-Graph-Sp-Entity]: https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/entity-and-complex-type-reference#serviceprincipal-entity
[AAD-Graph-User-Entity]: https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/entity-and-complex-type-reference#user-entity
[AAD-How-To-Integrate]: ./active-directory-how-to-integrate.md
[AAD-Security-Token-Claims]: ./active-directory-authentication-scenarios/#claims-in-azure-ad-security-tokens
[AAD-Tokens-Claims]: ./active-directory-token-and-claims.md
[AAD-V2-Dev-Guide]: ../active-directory-appmodel-v2-overview.md
[AZURE-portal]: https://portal.azure.com
[Duyshant-Role-Blog]: http://www.dushyantgill.com/blog/2014/12/10/roles-based-access-control-in-cloud-applications-using-azure-ad/
[JWT]: https://tools.ietf.org/html/draft-ietf-oauth-json-web-token-32
[O365-Perm-Ref]: https://msdn.microsoft.com/en-us/office/office365/howto/application-manifest
[OAuth2-Access-Token-Scopes]: https://tools.ietf.org/html/rfc6749#section-3.3
[OAuth2-AuthZ-Code-Grant-Flow]: https://msdn.microsoft.com/library/azure/dn645542.aspx
[OAuth2-AuthZ-Grant-Types]: https://tools.ietf.org/html/rfc6749#section-1.3 
[OAuth2-Client-Types]: https://tools.ietf.org/html/rfc6749#section-2.1
[OAuth2-Role-Def]: https://tools.ietf.org/html/rfc6749#page-6
[OpenIDConnect]: http://openid.net/specs/openid-connect-core-1_0.html
[OpenIDConnect-ID-Token]: http://openid.net/specs/openid-connect-core-1_0.html#IDToken


















