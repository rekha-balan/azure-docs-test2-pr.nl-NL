---
title: How to provide secure remote access to on-premises apps
description: Covers how to use Azure AD Application Proxy to provide secure remote access to your on-premises apps.
services: active-directory
documentationcenter: ''
author: barbkess
manager: mtillman
ms.service: active-directory
ms.component: app-mgmt
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: conceptual
ms.date: 01/31/2018
ms.author: barbkess
ms.reviewer: harshja
ms.custom: it-pro
ms.openlocfilehash: 428f094dae2b9a69b58912190d2959a7dfc467ec
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44868401"
---
# <a name="how-to-provide-secure-remote-access-to-on-premises-applications"></a><span data-ttu-id="3cd19-103">How to provide secure remote access to on-premises applications</span><span class="sxs-lookup"><span data-stu-id="3cd19-103">How to provide secure remote access to on-premises applications</span></span>

<span data-ttu-id="3cd19-104">Employees today want to be productive at any place, at any time, and from any device.</span><span class="sxs-lookup"><span data-stu-id="3cd19-104">Employees today want to be productive at any place, at any time, and from any device.</span></span> <span data-ttu-id="3cd19-105">They want to work on their own devices, whether they be tablets, phones, or laptops.</span><span class="sxs-lookup"><span data-stu-id="3cd19-105">They want to work on their own devices, whether they be tablets, phones, or laptops.</span></span> <span data-ttu-id="3cd19-106">And they expect to be able to access all their applications, both SaaS apps in the cloud and corporate apps on-premises.</span><span class="sxs-lookup"><span data-stu-id="3cd19-106">And they expect to be able to access all their applications, both SaaS apps in the cloud and corporate apps on-premises.</span></span> <span data-ttu-id="3cd19-107">Providing access to on-premises applications has traditionally involved virtual private networks (VPNs) or demilitarized zones (DMZs).</span><span class="sxs-lookup"><span data-stu-id="3cd19-107">Providing access to on-premises applications has traditionally involved virtual private networks (VPNs) or demilitarized zones (DMZs).</span></span> <span data-ttu-id="3cd19-108">Not only are these solutions complex and hard to make secure, but they are costly to set up and manage.</span><span class="sxs-lookup"><span data-stu-id="3cd19-108">Not only are these solutions complex and hard to make secure, but they are costly to set up and manage.</span></span>

<span data-ttu-id="3cd19-109">There is a better way!</span><span class="sxs-lookup"><span data-stu-id="3cd19-109">There is a better way!</span></span>

<span data-ttu-id="3cd19-110">A modern workforce in the mobile-first, cloud-first world needs a modern remote access solution.</span><span class="sxs-lookup"><span data-stu-id="3cd19-110">A modern workforce in the mobile-first, cloud-first world needs a modern remote access solution.</span></span> <span data-ttu-id="3cd19-111">Azure AD Application Proxy is a feature of Azure Active Directory that offers remote access as a service.</span><span class="sxs-lookup"><span data-stu-id="3cd19-111">Azure AD Application Proxy is a feature of Azure Active Directory that offers remote access as a service.</span></span> <span data-ttu-id="3cd19-112">That means it's easy to deploy, use, and manage.</span><span class="sxs-lookup"><span data-stu-id="3cd19-112">That means it's easy to deploy, use, and manage.</span></span>

[!INCLUDE [identity](../../../includes/azure-ad-licenses.md)]

## <a name="what-is-azure-active-directory-application-proxy"></a><span data-ttu-id="3cd19-113">What is Azure Active Directory Application Proxy?</span><span class="sxs-lookup"><span data-stu-id="3cd19-113">What is Azure Active Directory Application Proxy?</span></span>
<span data-ttu-id="3cd19-114">Azure AD Application Proxy provides single sign-on (SSO) and secure remote access for web applications hosted on-premises.</span><span class="sxs-lookup"><span data-stu-id="3cd19-114">Azure AD Application Proxy provides single sign-on (SSO) and secure remote access for web applications hosted on-premises.</span></span> <span data-ttu-id="3cd19-115">Some apps you would want to publish include SharePoint sites, Outlook Web Access, or any other LOB web applications you have.</span><span class="sxs-lookup"><span data-stu-id="3cd19-115">Some apps you would want to publish include SharePoint sites, Outlook Web Access, or any other LOB web applications you have.</span></span> <span data-ttu-id="3cd19-116">These on-premises web applications are integrated with Azure AD, the same identity and control platform that is used by O365.</span><span class="sxs-lookup"><span data-stu-id="3cd19-116">These on-premises web applications are integrated with Azure AD, the same identity and control platform that is used by O365.</span></span> <span data-ttu-id="3cd19-117">End users can access your on-premises applications the same way they access O365 and other SaaS apps integrated with Azure AD.</span><span class="sxs-lookup"><span data-stu-id="3cd19-117">End users can access your on-premises applications the same way they access O365 and other SaaS apps integrated with Azure AD.</span></span> <span data-ttu-id="3cd19-118">You don't need to change the network infrastructure or require VPN to provide this solution for your users.</span><span class="sxs-lookup"><span data-stu-id="3cd19-118">You don't need to change the network infrastructure or require VPN to provide this solution for your users.</span></span>

## <a name="why-is-application-proxy-a-better-solution"></a><span data-ttu-id="3cd19-119">Why is Application Proxy a better solution?</span><span class="sxs-lookup"><span data-stu-id="3cd19-119">Why is Application Proxy a better solution?</span></span>
<span data-ttu-id="3cd19-120">Azure AD Application Proxy provides a simple, secure, and cost-effective remote access solution to all your on-premises applications.</span><span class="sxs-lookup"><span data-stu-id="3cd19-120">Azure AD Application Proxy provides a simple, secure, and cost-effective remote access solution to all your on-premises applications.</span></span>

<span data-ttu-id="3cd19-121">Azure AD Application Proxy is:</span><span class="sxs-lookup"><span data-stu-id="3cd19-121">Azure AD Application Proxy is:</span></span>

* <span data-ttu-id="3cd19-122">**Simple**</span><span class="sxs-lookup"><span data-stu-id="3cd19-122">**Simple**</span></span>
   * <span data-ttu-id="3cd19-123">You don't need to change or update your applications to work with Application Proxy.</span><span class="sxs-lookup"><span data-stu-id="3cd19-123">You don't need to change or update your applications to work with Application Proxy.</span></span> 
   * <span data-ttu-id="3cd19-124">Your users get a consistent authentication experience.</span><span class="sxs-lookup"><span data-stu-id="3cd19-124">Your users get a consistent authentication experience.</span></span> <span data-ttu-id="3cd19-125">They can use the MyApps portal to get single sign-on to both SaaS apps in the cloud and your apps on-premises.</span><span class="sxs-lookup"><span data-stu-id="3cd19-125">They can use the MyApps portal to get single sign-on to both SaaS apps in the cloud and your apps on-premises.</span></span> 
* <span data-ttu-id="3cd19-126">**Secure**</span><span class="sxs-lookup"><span data-stu-id="3cd19-126">**Secure**</span></span>
   * <span data-ttu-id="3cd19-127">When you publish your apps using Azure AD Application Proxy, you can take advantage of the rich authorization controls and security analytics in Azure.</span><span class="sxs-lookup"><span data-stu-id="3cd19-127">When you publish your apps using Azure AD Application Proxy, you can take advantage of the rich authorization controls and security analytics in Azure.</span></span> <span data-ttu-id="3cd19-128">You get cloud-scale security and Azure security features like conditional access and two-step verification.</span><span class="sxs-lookup"><span data-stu-id="3cd19-128">You get cloud-scale security and Azure security features like conditional access and two-step verification.</span></span>
   * <span data-ttu-id="3cd19-129">You don't have to open any inbound connections through your firewall to give your users remote access.</span><span class="sxs-lookup"><span data-stu-id="3cd19-129">You don't have to open any inbound connections through your firewall to give your users remote access.</span></span> 
* <span data-ttu-id="3cd19-130">**Cost-effective**</span><span class="sxs-lookup"><span data-stu-id="3cd19-130">**Cost-effective**</span></span>
   * <span data-ttu-id="3cd19-131">Application Proxy works in the cloud, so you can save time and money.</span><span class="sxs-lookup"><span data-stu-id="3cd19-131">Application Proxy works in the cloud, so you can save time and money.</span></span> <span data-ttu-id="3cd19-132">On-premises solutions typically require you to set up and maintain DMZs, edge servers, or other complex infrastructures.</span><span class="sxs-lookup"><span data-stu-id="3cd19-132">On-premises solutions typically require you to set up and maintain DMZs, edge servers, or other complex infrastructures.</span></span>  

## <a name="what-kind-of-applications-work-with-application-proxy"></a><span data-ttu-id="3cd19-133">What kind of applications work with Application Proxy?</span><span class="sxs-lookup"><span data-stu-id="3cd19-133">What kind of applications work with Application Proxy?</span></span>
<span data-ttu-id="3cd19-134">With Azure AD Application Proxy you can access different types of internal applications:</span><span class="sxs-lookup"><span data-stu-id="3cd19-134">With Azure AD Application Proxy you can access different types of internal applications:</span></span>

* <span data-ttu-id="3cd19-135">Web applications that use [Integrated Windows Authentication](application-proxy-configure-single-sign-on-with-kcd.md) for authentication</span><span class="sxs-lookup"><span data-stu-id="3cd19-135">Web applications that use [Integrated Windows Authentication](application-proxy-configure-single-sign-on-with-kcd.md) for authentication</span></span>  
* <span data-ttu-id="3cd19-136">Web applications that use form-based or [header-based](application-proxy-configure-single-sign-on-with-ping-access.md) access</span><span class="sxs-lookup"><span data-stu-id="3cd19-136">Web applications that use form-based or [header-based](application-proxy-configure-single-sign-on-with-ping-access.md) access</span></span>  
* <span data-ttu-id="3cd19-137">Web APIs that you want to expose to rich applications on different devices</span><span class="sxs-lookup"><span data-stu-id="3cd19-137">Web APIs that you want to expose to rich applications on different devices</span></span>  
* <span data-ttu-id="3cd19-138">Applications hosted behind a [Remote Desktop Gateway](application-proxy-integrate-with-remote-desktop-services.md)</span><span class="sxs-lookup"><span data-stu-id="3cd19-138">Applications hosted behind a [Remote Desktop Gateway](application-proxy-integrate-with-remote-desktop-services.md)</span></span>  
* <span data-ttu-id="3cd19-139">Rich client apps that are integrated with the Active Directory Authentication Library (ADAL)</span><span class="sxs-lookup"><span data-stu-id="3cd19-139">Rich client apps that are integrated with the Active Directory Authentication Library (ADAL)</span></span>

## <a name="how-does-application-proxy-work"></a><span data-ttu-id="3cd19-140">How does Application Proxy work?</span><span class="sxs-lookup"><span data-stu-id="3cd19-140">How does Application Proxy work?</span></span>
<span data-ttu-id="3cd19-141">There are two components that you need to configure to make Application Proxy work: a connector and an external endpoint.</span><span class="sxs-lookup"><span data-stu-id="3cd19-141">There are two components that you need to configure to make Application Proxy work: a connector and an external endpoint.</span></span> 

<span data-ttu-id="3cd19-142">The connector is a lightweight agent that sits on a Windows Server inside your network.</span><span class="sxs-lookup"><span data-stu-id="3cd19-142">The connector is a lightweight agent that sits on a Windows Server inside your network.</span></span> <span data-ttu-id="3cd19-143">The connector facilitates the traffic flow from the Application Proxy service in the cloud to your application on-premises.</span><span class="sxs-lookup"><span data-stu-id="3cd19-143">The connector facilitates the traffic flow from the Application Proxy service in the cloud to your application on-premises.</span></span> <span data-ttu-id="3cd19-144">It only uses outbound connections, so you don't have to open any inbound ports or put anything in the DMZ.</span><span class="sxs-lookup"><span data-stu-id="3cd19-144">It only uses outbound connections, so you don't have to open any inbound ports or put anything in the DMZ.</span></span> <span data-ttu-id="3cd19-145">The connectors are stateless and pull information from the cloud as necessary.</span><span class="sxs-lookup"><span data-stu-id="3cd19-145">The connectors are stateless and pull information from the cloud as necessary.</span></span> <span data-ttu-id="3cd19-146">For more information about connectors, like how they load-balance and authenticate, see [Understand Azure AD Application Proxy connectors](application-proxy-connectors.md).</span><span class="sxs-lookup"><span data-stu-id="3cd19-146">For more information about connectors, like how they load-balance and authenticate, see [Understand Azure AD Application Proxy connectors](application-proxy-connectors.md).</span></span> 

<span data-ttu-id="3cd19-147">The external endpoint is how your users reach your applications while outside of your network.</span><span class="sxs-lookup"><span data-stu-id="3cd19-147">The external endpoint is how your users reach your applications while outside of your network.</span></span> <span data-ttu-id="3cd19-148">They can either go directly to an external URL that you determine, or they can access the application through the MyApps portal.</span><span class="sxs-lookup"><span data-stu-id="3cd19-148">They can either go directly to an external URL that you determine, or they can access the application through the MyApps portal.</span></span> <span data-ttu-id="3cd19-149">When users go to one of these endpoints, they authenticate in Azure AD and then are routed through the connector to the on-premises application.</span><span class="sxs-lookup"><span data-stu-id="3cd19-149">When users go to one of these endpoints, they authenticate in Azure AD and then are routed through the connector to the on-premises application.</span></span>

 ![AzureAD Application Proxy diagram](./media/application-proxy/azureappproxxy.png)

1. <span data-ttu-id="3cd19-151">The user accesses the application through the Application Proxy service and is directed to the Azure AD sign-in page to authenticate.</span><span class="sxs-lookup"><span data-stu-id="3cd19-151">The user accesses the application through the Application Proxy service and is directed to the Azure AD sign-in page to authenticate.</span></span>
2. <span data-ttu-id="3cd19-152">After a successful sign-in, a token is generated and sent to the client device.</span><span class="sxs-lookup"><span data-stu-id="3cd19-152">After a successful sign-in, a token is generated and sent to the client device.</span></span>
3. <span data-ttu-id="3cd19-153">The client sends the token to the Application Proxy service, which retrieves the user principal name (UPN) and security principal name (SPN) from the token, then directs the request to the Application Proxy connector.</span><span class="sxs-lookup"><span data-stu-id="3cd19-153">The client sends the token to the Application Proxy service, which retrieves the user principal name (UPN) and security principal name (SPN) from the token, then directs the request to the Application Proxy connector.</span></span>
4. <span data-ttu-id="3cd19-154">If you have configured single sign-on, the connector performs any additional authentication required on behalf of the user.</span><span class="sxs-lookup"><span data-stu-id="3cd19-154">If you have configured single sign-on, the connector performs any additional authentication required on behalf of the user.</span></span>
5. <span data-ttu-id="3cd19-155">The connector sends the request to the on-premises application.</span><span class="sxs-lookup"><span data-stu-id="3cd19-155">The connector sends the request to the on-premises application.</span></span>  
6. <span data-ttu-id="3cd19-156">The response is sent through Application Proxy service and connector to the user.</span><span class="sxs-lookup"><span data-stu-id="3cd19-156">The response is sent through Application Proxy service and connector to the user.</span></span>

### <a name="single-sign-on"></a><span data-ttu-id="3cd19-157">Single sign-on</span><span class="sxs-lookup"><span data-stu-id="3cd19-157">Single sign-on</span></span>
<span data-ttu-id="3cd19-158">Azure AD Application Proxy provides single sign-on (SSO) to applications that use Integrated Windows Authentication (IWA), or claims-aware applications.</span><span class="sxs-lookup"><span data-stu-id="3cd19-158">Azure AD Application Proxy provides single sign-on (SSO) to applications that use Integrated Windows Authentication (IWA), or claims-aware applications.</span></span> <span data-ttu-id="3cd19-159">If your application uses IWA, Application Proxy impersonates the user using Kerberos Constrained Delegation to provide SSO.</span><span class="sxs-lookup"><span data-stu-id="3cd19-159">If your application uses IWA, Application Proxy impersonates the user using Kerberos Constrained Delegation to provide SSO.</span></span> <span data-ttu-id="3cd19-160">If you have a claims-aware application that trusts Azure Active Directory, SSO works because the user was already authenticated by Azure AD.</span><span class="sxs-lookup"><span data-stu-id="3cd19-160">If you have a claims-aware application that trusts Azure Active Directory, SSO works because the user was already authenticated by Azure AD.</span></span>

<span data-ttu-id="3cd19-161">For more information about Kerberos, see [All you want to know about Kerberos Constrained Delegation (KCD)](https://blogs.technet.microsoft.com/applicationproxyblog/2015/09/21/all-you-want-to-know-about-kerberos-constrained-delegation-kcd).</span><span class="sxs-lookup"><span data-stu-id="3cd19-161">For more information about Kerberos, see [All you want to know about Kerberos Constrained Delegation (KCD)](https://blogs.technet.microsoft.com/applicationproxyblog/2015/09/21/all-you-want-to-know-about-kerberos-constrained-delegation-kcd).</span></span>

### <a name="managing-apps"></a><span data-ttu-id="3cd19-162">Managing apps</span><span class="sxs-lookup"><span data-stu-id="3cd19-162">Managing apps</span></span>
<span data-ttu-id="3cd19-163">Once your app is published with Application Proxy, you can manage it like any other enterprise app in the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="3cd19-163">Once your app is published with Application Proxy, you can manage it like any other enterprise app in the Azure portal.</span></span> <span data-ttu-id="3cd19-164">You can use Azure Active Directory security features like conditional access and two-step verification, control user permissions, and customize the branding for your app.</span><span class="sxs-lookup"><span data-stu-id="3cd19-164">You can use Azure Active Directory security features like conditional access and two-step verification, control user permissions, and customize the branding for your app.</span></span> 

## <a name="get-started"></a><span data-ttu-id="3cd19-165">Get started</span><span class="sxs-lookup"><span data-stu-id="3cd19-165">Get started</span></span>

<span data-ttu-id="3cd19-166">Before you configure Application Proxy, make sure you have a supported [Azure Active Directory edition](https://azure.microsoft.com/pricing/details/active-directory/) and an Azure AD directory for which you are a global administrator.</span><span class="sxs-lookup"><span data-stu-id="3cd19-166">Before you configure Application Proxy, make sure you have a supported [Azure Active Directory edition](https://azure.microsoft.com/pricing/details/active-directory/) and an Azure AD directory for which you are a global administrator.</span></span>

<span data-ttu-id="3cd19-167">Get started with Application Proxy in two steps:</span><span class="sxs-lookup"><span data-stu-id="3cd19-167">Get started with Application Proxy in two steps:</span></span>

1. <span data-ttu-id="3cd19-168">[Enable Application Proxy and configure the connector](application-proxy-enable.md).</span><span class="sxs-lookup"><span data-stu-id="3cd19-168">[Enable Application Proxy and configure the connector](application-proxy-enable.md).</span></span>    
2. <span data-ttu-id="3cd19-169">[Publish applications](application-proxy-publish-azure-portal.md) - use the quick and easy wizard to get your on-premises apps published and accessible remotely.</span><span class="sxs-lookup"><span data-stu-id="3cd19-169">[Publish applications](application-proxy-publish-azure-portal.md) - use the quick and easy wizard to get your on-premises apps published and accessible remotely.</span></span>

## <a name="whats-next"></a><span data-ttu-id="3cd19-170">What's next?</span><span class="sxs-lookup"><span data-stu-id="3cd19-170">What's next?</span></span>
<span data-ttu-id="3cd19-171">Once you publish your first app, there's a lot more you can do with Application Proxy:</span><span class="sxs-lookup"><span data-stu-id="3cd19-171">Once you publish your first app, there's a lot more you can do with Application Proxy:</span></span>

* [<span data-ttu-id="3cd19-172">Enable single-sign on</span><span class="sxs-lookup"><span data-stu-id="3cd19-172">Enable single-sign on</span></span>](application-proxy-configure-single-sign-on-with-kcd.md)
* [<span data-ttu-id="3cd19-173">Publish applications using your own domain name</span><span class="sxs-lookup"><span data-stu-id="3cd19-173">Publish applications using your own domain name</span></span>](application-proxy-configure-custom-domain.md)
* [<span data-ttu-id="3cd19-174">Learn about Azure AD Application Proxy connectors</span><span class="sxs-lookup"><span data-stu-id="3cd19-174">Learn about Azure AD Application Proxy connectors</span></span>](application-proxy-connectors.md)
* [<span data-ttu-id="3cd19-175">Working with existing on-premises Proxy servers</span><span class="sxs-lookup"><span data-stu-id="3cd19-175">Working with existing on-premises Proxy servers</span></span>](application-proxy-configure-connectors-with-proxy-servers.md) 
* [<span data-ttu-id="3cd19-176">Set a custom home page</span><span class="sxs-lookup"><span data-stu-id="3cd19-176">Set a custom home page</span></span>](application-proxy-configure-custom-home-page.md)

<span data-ttu-id="3cd19-177">For the latest news and updates, check out the [Application Proxy blog](http://blogs.technet.com/b/applicationproxyblog/)</span><span class="sxs-lookup"><span data-stu-id="3cd19-177">For the latest news and updates, check out the [Application Proxy blog](http://blogs.technet.com/b/applicationproxyblog/)</span></span>

