---
title: Migrate AD FS on-premises apps to Azure. | Microsoft Docs
description: This article is intended to help organizations understand how to migrate on-premises applications to Azure AD, with a focus on federated SaaS applications.
services: active-directory
author: barbkess
manager: mtillman
ms.service: active-directory
ms.component: app-mgmt
ms.topic: conceptual
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.date: 03/02/2018
ms.author: barbkess
ms.openlocfilehash: cdce0ae223a637ac30ed472d2bf711aa36958414
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44856189"
---
# <a name="migrate-ad-fs-on-premises-apps-to-azure"></a><span data-ttu-id="b78c1-104">Migrate AD FS on-premises apps to Azure</span><span class="sxs-lookup"><span data-stu-id="b78c1-104">Migrate AD FS on-premises apps to Azure</span></span> 

<span data-ttu-id="b78c1-105">This article helps you understand how to migrate on-premises applications to Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="b78c1-105">This article helps you understand how to migrate on-premises applications to Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="b78c1-106">It focuses on federated SaaS applications.</span><span class="sxs-lookup"><span data-stu-id="b78c1-106">It focuses on federated SaaS applications.</span></span> 

<span data-ttu-id="b78c1-107">This article does not provide step-by-step guidance.</span><span class="sxs-lookup"><span data-stu-id="b78c1-107">This article does not provide step-by-step guidance.</span></span> <span data-ttu-id="b78c1-108">It provides conceptual guidance to help you achieve the migration by understanding how on-premises configurations translate to Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b78c1-108">It provides conceptual guidance to help you achieve the migration by understanding how on-premises configurations translate to Azure AD.</span></span> <span data-ttu-id="b78c1-109">It also covers common scenarios.</span><span class="sxs-lookup"><span data-stu-id="b78c1-109">It also covers common scenarios.</span></span>

## <a name="introduction"></a><span data-ttu-id="b78c1-110">Introduction</span><span class="sxs-lookup"><span data-stu-id="b78c1-110">Introduction</span></span>

<span data-ttu-id="b78c1-111">If you have an on-premises directory that contains user accounts, chances are you have at least one or two apps.</span><span class="sxs-lookup"><span data-stu-id="b78c1-111">If you have an on-premises directory that contains user accounts, chances are you have at least one or two apps.</span></span> <span data-ttu-id="b78c1-112">And these apps are configured for users to access by signing on with those identities.</span><span class="sxs-lookup"><span data-stu-id="b78c1-112">And these apps are configured for users to access by signing on with those identities.</span></span>

<span data-ttu-id="b78c1-113">And if you’re like most organizations, you’re probably somewhere along the road to adopting cloud applications and identities.</span><span class="sxs-lookup"><span data-stu-id="b78c1-113">And if you’re like most organizations, you’re probably somewhere along the road to adopting cloud applications and identities.</span></span> <span data-ttu-id="b78c1-114">Perhaps you’re up and running with Office 365 and Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="b78c1-114">Perhaps you’re up and running with Office 365 and Azure AD Connect.</span></span> <span data-ttu-id="b78c1-115">Maybe you’ve set up cloud-based SaaS applications for some key workloads but not all.</span><span class="sxs-lookup"><span data-stu-id="b78c1-115">Maybe you’ve set up cloud-based SaaS applications for some key workloads but not all.</span></span>  

<span data-ttu-id="b78c1-116">Many organizations have SaaS or custom line-of-business (LOB) apps federated directly to an on-premises sign-on service such as Active Directory Federation Services (AD FS), alongside Office 365 and Azure AD-based apps.</span><span class="sxs-lookup"><span data-stu-id="b78c1-116">Many organizations have SaaS or custom line-of-business (LOB) apps federated directly to an on-premises sign-on service such as Active Directory Federation Services (AD FS), alongside Office 365 and Azure AD-based apps.</span></span> <span data-ttu-id="b78c1-117">This migration guide describes why and how to migrate on-premises applications to Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b78c1-117">This migration guide describes why and how to migrate on-premises applications to Azure AD.</span></span>

>[!NOTE]
><span data-ttu-id="b78c1-118">This guide provides detailed information on SaaS app configuration and migration, with high-level information about custom LOB apps.</span><span class="sxs-lookup"><span data-stu-id="b78c1-118">This guide provides detailed information on SaaS app configuration and migration, with high-level information about custom LOB apps.</span></span> <span data-ttu-id="b78c1-119">More detailed guidance for custom LOB apps is planned for the future.</span><span class="sxs-lookup"><span data-stu-id="b78c1-119">More detailed guidance for custom LOB apps is planned for the future.</span></span>

![Apps connected directly on-premises](media/migrate-adfs-apps-to-azure/migrate1.png)

![Apps federated via Azure AD](media/migrate-adfs-apps-to-azure/migrate2.png)

## <a name="reasons-for-migrating-apps-to-azure-ad"></a><span data-ttu-id="b78c1-122">Reasons for migrating apps to Azure AD</span><span class="sxs-lookup"><span data-stu-id="b78c1-122">Reasons for migrating apps to Azure AD</span></span>

<span data-ttu-id="b78c1-123">For an organization that already uses AD FS, Ping, or another on-premises authentication provider, migrating apps to Azure AD enables the following benefits:</span><span class="sxs-lookup"><span data-stu-id="b78c1-123">For an organization that already uses AD FS, Ping, or another on-premises authentication provider, migrating apps to Azure AD enables the following benefits:</span></span>

<span data-ttu-id="b78c1-124">**More secure access**</span><span class="sxs-lookup"><span data-stu-id="b78c1-124">**More secure access**</span></span>
- <span data-ttu-id="b78c1-125">Configure granular per-application access controls, including Azure Multi-Factor Authentication, by using [Azure AD conditional access](../active-directory-conditional-access-azure-portal.md).</span><span class="sxs-lookup"><span data-stu-id="b78c1-125">Configure granular per-application access controls, including Azure Multi-Factor Authentication, by using [Azure AD conditional access](../active-directory-conditional-access-azure-portal.md).</span></span> <span data-ttu-id="b78c1-126">The policies can be applied to SaaS and custom apps in the same way that you might be doing today for Office 365.</span><span class="sxs-lookup"><span data-stu-id="b78c1-126">The policies can be applied to SaaS and custom apps in the same way that you might be doing today for Office 365.</span></span>
- <span data-ttu-id="b78c1-127">To detect threats and help protect sign-on based on machine learning and heuristics that identify risky traffic, take advantage of [Azure AD Identity Protection](../active-directory-identityprotection.md).</span><span class="sxs-lookup"><span data-stu-id="b78c1-127">To detect threats and help protect sign-on based on machine learning and heuristics that identify risky traffic, take advantage of [Azure AD Identity Protection](../active-directory-identityprotection.md).</span></span>

<span data-ttu-id="b78c1-128">**Azure AD B2B collaboration**</span><span class="sxs-lookup"><span data-stu-id="b78c1-128">**Azure AD B2B collaboration**</span></span>
- <span data-ttu-id="b78c1-129">After sign-on to SaaS apps is based on Azure AD, you can give partners access to cloud resources with [Azure AD B2B collaboration](../b2b/what-is-b2b.md).</span><span class="sxs-lookup"><span data-stu-id="b78c1-129">After sign-on to SaaS apps is based on Azure AD, you can give partners access to cloud resources with [Azure AD B2B collaboration](../b2b/what-is-b2b.md).</span></span>

<span data-ttu-id="b78c1-130">**Easier admin experience and additional capabilities of Azure AD**</span><span class="sxs-lookup"><span data-stu-id="b78c1-130">**Easier admin experience and additional capabilities of Azure AD**</span></span>
- <span data-ttu-id="b78c1-131">Azure AD, as an identity provider for SaaS apps, supports additional capabilities such as:</span><span class="sxs-lookup"><span data-stu-id="b78c1-131">Azure AD, as an identity provider for SaaS apps, supports additional capabilities such as:</span></span>
  - <span data-ttu-id="b78c1-132">Token signing certificates per application.</span><span class="sxs-lookup"><span data-stu-id="b78c1-132">Token signing certificates per application.</span></span>
  - <span data-ttu-id="b78c1-133">[Configurable certificate expiration dates](manage-certificates-for-federated-single-sign-on.md).</span><span class="sxs-lookup"><span data-stu-id="b78c1-133">[Configurable certificate expiration dates](manage-certificates-for-federated-single-sign-on.md).</span></span>
  - <span data-ttu-id="b78c1-134">[Automated provisioning](user-provisioning.md) of user accounts (in key Azure Marketplace apps) based on Azure AD identities.</span><span class="sxs-lookup"><span data-stu-id="b78c1-134">[Automated provisioning](user-provisioning.md) of user accounts (in key Azure Marketplace apps) based on Azure AD identities.</span></span>

<span data-ttu-id="b78c1-135">**Keeping the benefits of an on-premises identity provider**</span><span class="sxs-lookup"><span data-stu-id="b78c1-135">**Keeping the benefits of an on-premises identity provider**</span></span>
- <span data-ttu-id="b78c1-136">While you're gaining the Azure AD benefits, you can keep using your on-premises solution for authentication.</span><span class="sxs-lookup"><span data-stu-id="b78c1-136">While you're gaining the Azure AD benefits, you can keep using your on-premises solution for authentication.</span></span> <span data-ttu-id="b78c1-137">That way, benefits like on-premises Multi-Factor Authentication solutions, logging, and auditing stay in place.</span><span class="sxs-lookup"><span data-stu-id="b78c1-137">That way, benefits like on-premises Multi-Factor Authentication solutions, logging, and auditing stay in place.</span></span> 

<span data-ttu-id="b78c1-138">**Helping with retirement of the on-premises identity provider**</span><span class="sxs-lookup"><span data-stu-id="b78c1-138">**Helping with retirement of the on-premises identity provider**</span></span>
- <span data-ttu-id="b78c1-139">For organizations that want to retire the on-premises authentication product, migrating apps to Azure AD enables an easier transition by getting some of the work out of the way.</span><span class="sxs-lookup"><span data-stu-id="b78c1-139">For organizations that want to retire the on-premises authentication product, migrating apps to Azure AD enables an easier transition by getting some of the work out of the way.</span></span> 

## <a name="mapping-types-of-apps-on-premises-to-types-of-apps-in-azure-ad"></a><span data-ttu-id="b78c1-140">Mapping types of apps on-premises to types of apps in Azure AD</span><span class="sxs-lookup"><span data-stu-id="b78c1-140">Mapping types of apps on-premises to types of apps in Azure AD</span></span>
<span data-ttu-id="b78c1-141">Most apps fit in one of a few categories based on the type of sign-on that they use.</span><span class="sxs-lookup"><span data-stu-id="b78c1-141">Most apps fit in one of a few categories based on the type of sign-on that they use.</span></span> <span data-ttu-id="b78c1-142">These categories determine how the app is represented in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b78c1-142">These categories determine how the app is represented in Azure AD.</span></span>

<span data-ttu-id="b78c1-143">In short, SAML 2.0 applications can be integrated with Azure AD either via the Azure AD application gallery in the Marketplace or as non-Marketplace applications.</span><span class="sxs-lookup"><span data-stu-id="b78c1-143">In short, SAML 2.0 applications can be integrated with Azure AD either via the Azure AD application gallery in the Marketplace or as non-Marketplace applications.</span></span> <span data-ttu-id="b78c1-144">Apps that use OAuth 2.0 or OpenID Connect can be integrated with Azure AD similarly as *app registrations*.</span><span class="sxs-lookup"><span data-stu-id="b78c1-144">Apps that use OAuth 2.0 or OpenID Connect can be integrated with Azure AD similarly as *app registrations*.</span></span> <span data-ttu-id="b78c1-145">Read on for more details.</span><span class="sxs-lookup"><span data-stu-id="b78c1-145">Read on for more details.</span></span>

### <a name="federated-saas-apps-vs-custom-lob-apps"></a><span data-ttu-id="b78c1-146">Federated SaaS apps vs. custom LOB apps</span><span class="sxs-lookup"><span data-stu-id="b78c1-146">Federated SaaS apps vs. custom LOB apps</span></span>
<span data-ttu-id="b78c1-147">Federated apps include apps that fall into these categories:</span><span class="sxs-lookup"><span data-stu-id="b78c1-147">Federated apps include apps that fall into these categories:</span></span>

- <span data-ttu-id="b78c1-148">SaaS apps</span><span class="sxs-lookup"><span data-stu-id="b78c1-148">SaaS apps</span></span> 
    - <span data-ttu-id="b78c1-149">If your users sign on to SaaS apps such as Salesforce, ServiceNow, or Workday, and you're integrating with an on-premises identity provider such as AD FS or Ping, you're using federated sign-on for SaaS apps.</span><span class="sxs-lookup"><span data-stu-id="b78c1-149">If your users sign on to SaaS apps such as Salesforce, ServiceNow, or Workday, and you're integrating with an on-premises identity provider such as AD FS or Ping, you're using federated sign-on for SaaS apps.</span></span>
    - <span data-ttu-id="b78c1-150">Apps generally use the SAML 2.0 protocol for federated sign-on.</span><span class="sxs-lookup"><span data-stu-id="b78c1-150">Apps generally use the SAML 2.0 protocol for federated sign-on.</span></span>
    - <span data-ttu-id="b78c1-151">Apps that fall into this category can be integrated with Azure AD as enterprise applications, either from the Marketplace or as non-Marketplace applications.</span><span class="sxs-lookup"><span data-stu-id="b78c1-151">Apps that fall into this category can be integrated with Azure AD as enterprise applications, either from the Marketplace or as non-Marketplace applications.</span></span>
- <span data-ttu-id="b78c1-152">Custom LOB apps</span><span class="sxs-lookup"><span data-stu-id="b78c1-152">Custom LOB apps</span></span>
    - <span data-ttu-id="b78c1-153">This refers to non-SaaS apps, developed internally by your organization or available as a standard packaged product that's installed in your datacenter.</span><span class="sxs-lookup"><span data-stu-id="b78c1-153">This refers to non-SaaS apps, developed internally by your organization or available as a standard packaged product that's installed in your datacenter.</span></span> <span data-ttu-id="b78c1-154">This includes SharePoint apps and apps built on Windows Identity Foundation.</span><span class="sxs-lookup"><span data-stu-id="b78c1-154">This includes SharePoint apps and apps built on Windows Identity Foundation.</span></span>
    - <span data-ttu-id="b78c1-155">Apps can use SAML 2.0, WS-Federation, OAuth, or OpenID Connect for federated sign-on.</span><span class="sxs-lookup"><span data-stu-id="b78c1-155">Apps can use SAML 2.0, WS-Federation, OAuth, or OpenID Connect for federated sign-on.</span></span>
    - <span data-ttu-id="b78c1-156">Custom apps that use OAuth 2.0, OpenID Connect, or WS-Federation can be integrated with Azure AD as app registrations.</span><span class="sxs-lookup"><span data-stu-id="b78c1-156">Custom apps that use OAuth 2.0, OpenID Connect, or WS-Federation can be integrated with Azure AD as app registrations.</span></span> <span data-ttu-id="b78c1-157">Custom apps that use SAML 2.0 or WS-Federation can be integrated as non-Marketplace applications within enterprise applications.</span><span class="sxs-lookup"><span data-stu-id="b78c1-157">Custom apps that use SAML 2.0 or WS-Federation can be integrated as non-Marketplace applications within enterprise applications.</span></span>

### <a name="non-federated-apps"></a><span data-ttu-id="b78c1-158">Non-federated apps</span><span class="sxs-lookup"><span data-stu-id="b78c1-158">Non-federated apps</span></span>
<span data-ttu-id="b78c1-159">You can integrate non-federated apps with Azure AD by using Azure AD Application Proxy and related capabilities.</span><span class="sxs-lookup"><span data-stu-id="b78c1-159">You can integrate non-federated apps with Azure AD by using Azure AD Application Proxy and related capabilities.</span></span> <span data-ttu-id="b78c1-160">Non-federated apps include:</span><span class="sxs-lookup"><span data-stu-id="b78c1-160">Non-federated apps include:</span></span>
- <span data-ttu-id="b78c1-161">Apps that use Windows Integrated Authentication directly with Active Directory.</span><span class="sxs-lookup"><span data-stu-id="b78c1-161">Apps that use Windows Integrated Authentication directly with Active Directory.</span></span> <span data-ttu-id="b78c1-162">You can integrate these apps with Azure AD via [Azure AD Application Proxy](application-proxy-publish-azure-portal.md).</span><span class="sxs-lookup"><span data-stu-id="b78c1-162">You can integrate these apps with Azure AD via [Azure AD Application Proxy](application-proxy-publish-azure-portal.md).</span></span>
- <span data-ttu-id="b78c1-163">Apps that integrate with your single sign-on provider via an agent and that use headers for authorization.</span><span class="sxs-lookup"><span data-stu-id="b78c1-163">Apps that integrate with your single sign-on provider via an agent and that use headers for authorization.</span></span> <span data-ttu-id="b78c1-164">On-premises apps that use an installed agent for sign-on and header-based authorization can be configured for Azure AD-based sign-on via Azure AD Application Proxy with [Ping Access for Azure AD](https://blogs.technet.microsoft.com/enterprisemobility/2017/06/15/ping-access-for-azure-ad-is-now-generally-available-ga/).</span><span class="sxs-lookup"><span data-stu-id="b78c1-164">On-premises apps that use an installed agent for sign-on and header-based authorization can be configured for Azure AD-based sign-on via Azure AD Application Proxy with [Ping Access for Azure AD](https://blogs.technet.microsoft.com/enterprisemobility/2017/06/15/ping-access-for-azure-ad-is-now-generally-available-ga/).</span></span>

## <a name="translating-on-premises-federated-apps-to-azure-ad"></a><span data-ttu-id="b78c1-165">Translating on-premises federated apps to Azure AD</span><span class="sxs-lookup"><span data-stu-id="b78c1-165">Translating on-premises federated apps to Azure AD</span></span> 
<span data-ttu-id="b78c1-166">AD FS and Azure AD work similarly, so the concepts of configuring trust, sign-on and sign-out URLs, and identifiers apply in both cases.</span><span class="sxs-lookup"><span data-stu-id="b78c1-166">AD FS and Azure AD work similarly, so the concepts of configuring trust, sign-on and sign-out URLs, and identifiers apply in both cases.</span></span> <span data-ttu-id="b78c1-167">However, you need to understand some small differences as you make the transition.</span><span class="sxs-lookup"><span data-stu-id="b78c1-167">However, you need to understand some small differences as you make the transition.</span></span>

<span data-ttu-id="b78c1-168">The following tables map key ideas shared by AD FS, Azure AD, and SaaS apps to help you translate.</span><span class="sxs-lookup"><span data-stu-id="b78c1-168">The following tables map key ideas shared by AD FS, Azure AD, and SaaS apps to help you translate.</span></span> 

### <a name="representing-the-app-in-azure-ad-or-ad-fs"></a><span data-ttu-id="b78c1-169">Representing the app in Azure AD or AD FS</span><span class="sxs-lookup"><span data-stu-id="b78c1-169">Representing the app in Azure AD or AD FS</span></span>
<span data-ttu-id="b78c1-170">Migration starts with assessing how the application is configured on-premises and mapping that configuration to Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b78c1-170">Migration starts with assessing how the application is configured on-premises and mapping that configuration to Azure AD.</span></span> <span data-ttu-id="b78c1-171">The following table is a mapping of AD FS relying party configuration elements to the corresponding elements in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b78c1-171">The following table is a mapping of AD FS relying party configuration elements to the corresponding elements in Azure AD.</span></span>  
- <span data-ttu-id="b78c1-172">AD FS term: Relying party or relying party trust.</span><span class="sxs-lookup"><span data-stu-id="b78c1-172">AD FS term: Relying party or relying party trust.</span></span>
- <span data-ttu-id="b78c1-173">Azure AD term: Enterprise application or app registration (depending on the type of app).</span><span class="sxs-lookup"><span data-stu-id="b78c1-173">Azure AD term: Enterprise application or app registration (depending on the type of app).</span></span>

|<span data-ttu-id="b78c1-174">App configuration element</span><span class="sxs-lookup"><span data-stu-id="b78c1-174">App configuration element</span></span>|<span data-ttu-id="b78c1-175">Description</span><span class="sxs-lookup"><span data-stu-id="b78c1-175">Description</span></span>|<span data-ttu-id="b78c1-176">Location in AD FS configuration</span><span class="sxs-lookup"><span data-stu-id="b78c1-176">Location in AD FS configuration</span></span>|<span data-ttu-id="b78c1-177">Corresponding location in Azure AD configuration</span><span class="sxs-lookup"><span data-stu-id="b78c1-177">Corresponding location in Azure AD configuration</span></span>|<span data-ttu-id="b78c1-178">SAML token element</span><span class="sxs-lookup"><span data-stu-id="b78c1-178">SAML token element</span></span>|
|-----|-----|-----|-----|-----|
|<span data-ttu-id="b78c1-179">App sign-on URL</span><span class="sxs-lookup"><span data-stu-id="b78c1-179">App sign-on URL</span></span>|<span data-ttu-id="b78c1-180">URL of the sign-in page of this application.</span><span class="sxs-lookup"><span data-stu-id="b78c1-180">URL of the sign-in page of this application.</span></span> <span data-ttu-id="b78c1-181">This is where the user goes to sign in to the app in an SP-initiated SAML flow.</span><span class="sxs-lookup"><span data-stu-id="b78c1-181">This is where the user goes to sign in to the app in an SP-initiated SAML flow.</span></span>|<span data-ttu-id="b78c1-182">N/A</span><span class="sxs-lookup"><span data-stu-id="b78c1-182">N/A</span></span>|<span data-ttu-id="b78c1-183">In Azure AD, the sign-on URL is configured within the Azure portal in the application’s **Single sign-on** properties as the sign-on URL.</span><span class="sxs-lookup"><span data-stu-id="b78c1-183">In Azure AD, the sign-on URL is configured within the Azure portal in the application’s **Single sign-on** properties as the sign-on URL.</span></span></br></br><span data-ttu-id="b78c1-184">(You might have to select **Show advanced URL settings** to see the sign-on URL.)</span><span class="sxs-lookup"><span data-stu-id="b78c1-184">(You might have to select **Show advanced URL settings** to see the sign-on URL.)</span></span>|<span data-ttu-id="b78c1-185">N/A</span><span class="sxs-lookup"><span data-stu-id="b78c1-185">N/A</span></span>|
|<span data-ttu-id="b78c1-186">App reply URL</span><span class="sxs-lookup"><span data-stu-id="b78c1-186">App reply URL</span></span>|<span data-ttu-id="b78c1-187">URL of the app from the identity provider's (IdP’s) perspective.</span><span class="sxs-lookup"><span data-stu-id="b78c1-187">URL of the app from the identity provider's (IdP’s) perspective.</span></span> <span data-ttu-id="b78c1-188">This is where the user and token are sent after the user has signed on at the IdP.</span><span class="sxs-lookup"><span data-stu-id="b78c1-188">This is where the user and token are sent after the user has signed on at the IdP.</span></span></br></br> <span data-ttu-id="b78c1-189">This is sometimes called the “SAML assertion consumer endpoint.”</span><span class="sxs-lookup"><span data-stu-id="b78c1-189">This is sometimes called the “SAML assertion consumer endpoint.”</span></span>|<span data-ttu-id="b78c1-190">Find it in the AD FS relying party trust for the app.</span><span class="sxs-lookup"><span data-stu-id="b78c1-190">Find it in the AD FS relying party trust for the app.</span></span> <span data-ttu-id="b78c1-191">Right-click the relying party, select **Properties**, and then select the **Endpoints** tab.</span><span class="sxs-lookup"><span data-stu-id="b78c1-191">Right-click the relying party, select **Properties**, and then select the **Endpoints** tab.</span></span>|<span data-ttu-id="b78c1-192">In Azure AD, the reply URL is configured within the Azure portal in the application’s **Single sign-on** properties as the reply URL.</span><span class="sxs-lookup"><span data-stu-id="b78c1-192">In Azure AD, the reply URL is configured within the Azure portal in the application’s **Single sign-on** properties as the reply URL.</span></span></br></br><span data-ttu-id="b78c1-193">(You might have to select **Show advanced URL settings** to see the reply URL.)</span><span class="sxs-lookup"><span data-stu-id="b78c1-193">(You might have to select **Show advanced URL settings** to see the reply URL.)</span></span>|<span data-ttu-id="b78c1-194">Maps to the **Destination** element in the SAML token.</span><span class="sxs-lookup"><span data-stu-id="b78c1-194">Maps to the **Destination** element in the SAML token.</span></span></br></br> <span data-ttu-id="b78c1-195">Example value: https://contoso.my.salesforce.com</span><span class="sxs-lookup"><span data-stu-id="b78c1-195">Example value: https://contoso.my.salesforce.com</span></span>|
|<span data-ttu-id="b78c1-196">App sign-out URL</span><span class="sxs-lookup"><span data-stu-id="b78c1-196">App sign-out URL</span></span>|<span data-ttu-id="b78c1-197">URL to which “sign-out cleanup” requests are sent when a user signs out from an app, to sign out all other apps to which the IdP has signed on the user.</span><span class="sxs-lookup"><span data-stu-id="b78c1-197">URL to which “sign-out cleanup” requests are sent when a user signs out from an app, to sign out all other apps to which the IdP has signed on the user.</span></span>|<span data-ttu-id="b78c1-198">Find it in AD FS Management under **Relying Party Trusts**.</span><span class="sxs-lookup"><span data-stu-id="b78c1-198">Find it in AD FS Management under **Relying Party Trusts**.</span></span> <span data-ttu-id="b78c1-199">Right-click the relying party, select **Properties**, and then select the **Endpoints** tab.</span><span class="sxs-lookup"><span data-stu-id="b78c1-199">Right-click the relying party, select **Properties**, and then select the **Endpoints** tab.</span></span>|<span data-ttu-id="b78c1-200">N/A.</span><span class="sxs-lookup"><span data-stu-id="b78c1-200">N/A.</span></span> <span data-ttu-id="b78c1-201">Azure AD does not support “single logout,” meaning sign-out of all apps.</span><span class="sxs-lookup"><span data-stu-id="b78c1-201">Azure AD does not support “single logout,” meaning sign-out of all apps.</span></span> <span data-ttu-id="b78c1-202">It simply signs out the user from Azure AD itself.</span><span class="sxs-lookup"><span data-stu-id="b78c1-202">It simply signs out the user from Azure AD itself.</span></span>|<span data-ttu-id="b78c1-203">N/A</span><span class="sxs-lookup"><span data-stu-id="b78c1-203">N/A</span></span>|
|<span data-ttu-id="b78c1-204">App identifier</span><span class="sxs-lookup"><span data-stu-id="b78c1-204">App identifier</span></span>|<span data-ttu-id="b78c1-205">Identifier of the app from the IdP’s perspective.</span><span class="sxs-lookup"><span data-stu-id="b78c1-205">Identifier of the app from the IdP’s perspective.</span></span> <span data-ttu-id="b78c1-206">The sign-on URL value is often used for the identifier (but not always).</span><span class="sxs-lookup"><span data-stu-id="b78c1-206">The sign-on URL value is often used for the identifier (but not always).</span></span></br></br> <span data-ttu-id="b78c1-207">Sometimes the app calls this the “entity ID."</span><span class="sxs-lookup"><span data-stu-id="b78c1-207">Sometimes the app calls this the “entity ID."</span></span>|<span data-ttu-id="b78c1-208">In AD FS, this is the relying party ID.</span><span class="sxs-lookup"><span data-stu-id="b78c1-208">In AD FS, this is the relying party ID.</span></span> <span data-ttu-id="b78c1-209">Right-click the relying party trust, select **Properties**, and then select the **Identifiers** tab.</span><span class="sxs-lookup"><span data-stu-id="b78c1-209">Right-click the relying party trust, select **Properties**, and then select the **Identifiers** tab.</span></span>|<span data-ttu-id="b78c1-210">In Azure AD, the identifier is configured within the Azure portal in the application’s **Single sign-on** properties as the identifier under **Domain and URLs**.</span><span class="sxs-lookup"><span data-stu-id="b78c1-210">In Azure AD, the identifier is configured within the Azure portal in the application’s **Single sign-on** properties as the identifier under **Domain and URLs**.</span></span> <span data-ttu-id="b78c1-211">(You might need to select the **Show advanced URL settings** check box.)</span><span class="sxs-lookup"><span data-stu-id="b78c1-211">(You might need to select the **Show advanced URL settings** check box.)</span></span>|<span data-ttu-id="b78c1-212">Corresponds to the **Audience** element in the SAML token.</span><span class="sxs-lookup"><span data-stu-id="b78c1-212">Corresponds to the **Audience** element in the SAML token.</span></span>|
|<span data-ttu-id="b78c1-213">App federation metadata</span><span class="sxs-lookup"><span data-stu-id="b78c1-213">App federation metadata</span></span>|<span data-ttu-id="b78c1-214">Location of the app’s federation metadata.</span><span class="sxs-lookup"><span data-stu-id="b78c1-214">Location of the app’s federation metadata.</span></span> <span data-ttu-id="b78c1-215">The IdP uses it to automatically update specific configuration settings, such as endpoints or encryption certificates.</span><span class="sxs-lookup"><span data-stu-id="b78c1-215">The IdP uses it to automatically update specific configuration settings, such as endpoints or encryption certificates.</span></span>|<span data-ttu-id="b78c1-216">Find the app’s federation metadata URL in the AD FS relying party trust for the app.</span><span class="sxs-lookup"><span data-stu-id="b78c1-216">Find the app’s federation metadata URL in the AD FS relying party trust for the app.</span></span> <span data-ttu-id="b78c1-217">Right-click the trust, select **Properties**, and then select the **Monitoring** tab.</span><span class="sxs-lookup"><span data-stu-id="b78c1-217">Right-click the trust, select **Properties**, and then select the **Monitoring** tab.</span></span>|<span data-ttu-id="b78c1-218">N/A.</span><span class="sxs-lookup"><span data-stu-id="b78c1-218">N/A.</span></span> <span data-ttu-id="b78c1-219">Azure AD does not support consuming application federation metadata directly.</span><span class="sxs-lookup"><span data-stu-id="b78c1-219">Azure AD does not support consuming application federation metadata directly.</span></span>|<span data-ttu-id="b78c1-220">N/A</span><span class="sxs-lookup"><span data-stu-id="b78c1-220">N/A</span></span>|
|<span data-ttu-id="b78c1-221">User identifier/**NameID**</span><span class="sxs-lookup"><span data-stu-id="b78c1-221">User identifier/**NameID**</span></span>|<span data-ttu-id="b78c1-222">Attribute that is used to uniquely indicate the user identity from Azure AD or AD FS to your app.</span><span class="sxs-lookup"><span data-stu-id="b78c1-222">Attribute that is used to uniquely indicate the user identity from Azure AD or AD FS to your app.</span></span></br></br> <span data-ttu-id="b78c1-223">This attribute is typically either the UPN or the email address of the user.</span><span class="sxs-lookup"><span data-stu-id="b78c1-223">This attribute is typically either the UPN or the email address of the user.</span></span>|<span data-ttu-id="b78c1-224">In AD FS, you can find this as a claim rule on the relying party.</span><span class="sxs-lookup"><span data-stu-id="b78c1-224">In AD FS, you can find this as a claim rule on the relying party.</span></span> <span data-ttu-id="b78c1-225">In most cases, the claim rule issues a claim with a type that ends with “nameidentifier.”</span><span class="sxs-lookup"><span data-stu-id="b78c1-225">In most cases, the claim rule issues a claim with a type that ends with “nameidentifier.”</span></span>|<span data-ttu-id="b78c1-226">In Azure AD, you can find the user identifier within the Azure portal in the application’s **Single sign-on** properties under the header **User Attributes**.</span><span class="sxs-lookup"><span data-stu-id="b78c1-226">In Azure AD, you can find the user identifier within the Azure portal in the application’s **Single sign-on** properties under the header **User Attributes**.</span></span></br></br><span data-ttu-id="b78c1-227">By default, the UPN is used.</span><span class="sxs-lookup"><span data-stu-id="b78c1-227">By default, the UPN is used.</span></span>|<span data-ttu-id="b78c1-228">Communicated from the IdP to the app as the **NameID** element in the SAML token.</span><span class="sxs-lookup"><span data-stu-id="b78c1-228">Communicated from the IdP to the app as the **NameID** element in the SAML token.</span></span>|
|<span data-ttu-id="b78c1-229">Other claims to be sent to the app</span><span class="sxs-lookup"><span data-stu-id="b78c1-229">Other claims to be sent to the app</span></span>|<span data-ttu-id="b78c1-230">In addition to the user identifier/**NameID**, other claim information is commonly sent from the IdP to the app.</span><span class="sxs-lookup"><span data-stu-id="b78c1-230">In addition to the user identifier/**NameID**, other claim information is commonly sent from the IdP to the app.</span></span> <span data-ttu-id="b78c1-231">Examples include first name, last name, email address, and groups that the user is a member of.</span><span class="sxs-lookup"><span data-stu-id="b78c1-231">Examples include first name, last name, email address, and groups that the user is a member of.</span></span>|<span data-ttu-id="b78c1-232">In AD FS, you can find this as other claim rules on the relying party.</span><span class="sxs-lookup"><span data-stu-id="b78c1-232">In AD FS, you can find this as other claim rules on the relying party.</span></span>|<span data-ttu-id="b78c1-233">In Azure AD, you can find it within the Azure portal in the application’s **Single sign-on** properties under the header **User Attributes**.</span><span class="sxs-lookup"><span data-stu-id="b78c1-233">In Azure AD, you can find it within the Azure portal in the application’s **Single sign-on** properties under the header **User Attributes**.</span></span> <span data-ttu-id="b78c1-234">Select **View** and edit all other user attributes.</span><span class="sxs-lookup"><span data-stu-id="b78c1-234">Select **View** and edit all other user attributes.</span></span>|<span data-ttu-id="b78c1-235">N/A</span><span class="sxs-lookup"><span data-stu-id="b78c1-235">N/A</span></span>|  

### <a name="representing-azure-ad-as-an-identity-provider-in-an-saas-app"></a><span data-ttu-id="b78c1-236">Representing Azure AD as an identity provider in an SaaS app</span><span class="sxs-lookup"><span data-stu-id="b78c1-236">Representing Azure AD as an identity provider in an SaaS app</span></span>
<span data-ttu-id="b78c1-237">As part of migration, you need to configure the app to point to Azure AD (versus the on-premises identity provider).</span><span class="sxs-lookup"><span data-stu-id="b78c1-237">As part of migration, you need to configure the app to point to Azure AD (versus the on-premises identity provider).</span></span> <span data-ttu-id="b78c1-238">This section focuses on SaaS apps that use SAML protocol and not on custom LOB apps.</span><span class="sxs-lookup"><span data-stu-id="b78c1-238">This section focuses on SaaS apps that use SAML protocol and not on custom LOB apps.</span></span> <span data-ttu-id="b78c1-239">However, the concepts would extend to custom LOB apps.</span><span class="sxs-lookup"><span data-stu-id="b78c1-239">However, the concepts would extend to custom LOB apps.</span></span> 

<span data-ttu-id="b78c1-240">At a high level, a few key things point an SaaS app to Azure AD:</span><span class="sxs-lookup"><span data-stu-id="b78c1-240">At a high level, a few key things point an SaaS app to Azure AD:</span></span>
- <span data-ttu-id="b78c1-241">Identity provider issuer: https&#58;//sts.windows.net/{tenant-id}/</span><span class="sxs-lookup"><span data-stu-id="b78c1-241">Identity provider issuer: https&#58;//sts.windows.net/{tenant-id}/</span></span>
- <span data-ttu-id="b78c1-242">Identity provider login URL: https&#58;//login.microsoftonline.com/{tenant-id}/saml2</span><span class="sxs-lookup"><span data-stu-id="b78c1-242">Identity provider login URL: https&#58;//login.microsoftonline.com/{tenant-id}/saml2</span></span>
- <span data-ttu-id="b78c1-243">Identity provider logout URL: https&#58;//login.microsoftonline.com/{tenant-id}/saml2</span><span class="sxs-lookup"><span data-stu-id="b78c1-243">Identity provider logout URL: https&#58;//login.microsoftonline.com/{tenant-id}/saml2</span></span> 
- <span data-ttu-id="b78c1-244">Federation metadata location: https&#58;//login.windows.net/{tenant-id}/federationmetadata/2007-06/federationmetadata.xml?appid={application-id}</span><span class="sxs-lookup"><span data-stu-id="b78c1-244">Federation metadata location: https&#58;//login.windows.net/{tenant-id}/federationmetadata/2007-06/federationmetadata.xml?appid={application-id}</span></span> 

<span data-ttu-id="b78c1-245">Replace {tenant-id} with your tenant ID, found in the Azure portal under **Azure Active Directory** > **Properties** as **Directory ID**.</span><span class="sxs-lookup"><span data-stu-id="b78c1-245">Replace {tenant-id} with your tenant ID, found in the Azure portal under **Azure Active Directory** > **Properties** as **Directory ID**.</span></span> <span data-ttu-id="b78c1-246">Replace {application-id} with your application ID, found under the application’s properties as **Application ID**.</span><span class="sxs-lookup"><span data-stu-id="b78c1-246">Replace {application-id} with your application ID, found under the application’s properties as **Application ID**.</span></span>

<span data-ttu-id="b78c1-247">The following table describes the key IdP configuration elements to configure SSO settings in the app, and their values or locations within AD FS and Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b78c1-247">The following table describes the key IdP configuration elements to configure SSO settings in the app, and their values or locations within AD FS and Azure AD.</span></span> <span data-ttu-id="b78c1-248">The table's frame of reference is the SaaS app, which needs to know where to send authentication requests and how to validate the received tokens.</span><span class="sxs-lookup"><span data-stu-id="b78c1-248">The table's frame of reference is the SaaS app, which needs to know where to send authentication requests and how to validate the received tokens.</span></span>

|<span data-ttu-id="b78c1-249">Configuration element</span><span class="sxs-lookup"><span data-stu-id="b78c1-249">Configuration element</span></span>|<span data-ttu-id="b78c1-250">Description</span><span class="sxs-lookup"><span data-stu-id="b78c1-250">Description</span></span>|<span data-ttu-id="b78c1-251">AD FS</span><span class="sxs-lookup"><span data-stu-id="b78c1-251">AD FS</span></span>|<span data-ttu-id="b78c1-252">Azure AD</span><span class="sxs-lookup"><span data-stu-id="b78c1-252">Azure AD</span></span>|
|---|---|---|---|
|<span data-ttu-id="b78c1-253">IdP</span><span class="sxs-lookup"><span data-stu-id="b78c1-253">IdP</span></span> </br><span data-ttu-id="b78c1-254">sign-on</span><span class="sxs-lookup"><span data-stu-id="b78c1-254">sign-on</span></span> </br><span data-ttu-id="b78c1-255">URL</span><span class="sxs-lookup"><span data-stu-id="b78c1-255">URL</span></span>|<span data-ttu-id="b78c1-256">Sign-on URL of the IdP from the app’s perspective (where the user is redirected for login).</span><span class="sxs-lookup"><span data-stu-id="b78c1-256">Sign-on URL of the IdP from the app’s perspective (where the user is redirected for login).</span></span>|<span data-ttu-id="b78c1-257">The AD FS sign-on URL is the AD FS federation service name followed by “/adfs/ls/.”</span><span class="sxs-lookup"><span data-stu-id="b78c1-257">The AD FS sign-on URL is the AD FS federation service name followed by “/adfs/ls/.”</span></span> <span data-ttu-id="b78c1-258">For example: https&#58;//fs.contoso.com/adfs/ls/</span><span class="sxs-lookup"><span data-stu-id="b78c1-258">For example: https&#58;//fs.contoso.com/adfs/ls/</span></span>|<span data-ttu-id="b78c1-259">The corresponding value for Azure AD follows the pattern where {tenant-id} is replaced with your tenant ID.</span><span class="sxs-lookup"><span data-stu-id="b78c1-259">The corresponding value for Azure AD follows the pattern where {tenant-id} is replaced with your tenant ID.</span></span> <span data-ttu-id="b78c1-260">Find it in the Azure portal under **Azure Active Directory** > **Properties** as **Directory ID**.</span><span class="sxs-lookup"><span data-stu-id="b78c1-260">Find it in the Azure portal under **Azure Active Directory** > **Properties** as **Directory ID**.</span></span></br></br><span data-ttu-id="b78c1-261">For apps that use the SAML-P protocol: https&#58;//login.microsoftonline.com/{tenant-id}/saml2</span><span class="sxs-lookup"><span data-stu-id="b78c1-261">For apps that use the SAML-P protocol: https&#58;//login.microsoftonline.com/{tenant-id}/saml2</span></span> </br></br><span data-ttu-id="b78c1-262">For apps that use the WS-Federation protocol: https&#58;//login.microsoftonline.com/{tenant-id}/wsfed</span><span class="sxs-lookup"><span data-stu-id="b78c1-262">For apps that use the WS-Federation protocol: https&#58;//login.microsoftonline.com/{tenant-id}/wsfed</span></span>|
|<span data-ttu-id="b78c1-263">IdP</span><span class="sxs-lookup"><span data-stu-id="b78c1-263">IdP</span></span> </br><span data-ttu-id="b78c1-264">sign-out</span><span class="sxs-lookup"><span data-stu-id="b78c1-264">sign-out</span></span> </br><span data-ttu-id="b78c1-265">URL</span><span class="sxs-lookup"><span data-stu-id="b78c1-265">URL</span></span>|<span data-ttu-id="b78c1-266">Sign-out URL of the IdP from the app’s perspective (where the user is redirected when they choose to sign out of the app).</span><span class="sxs-lookup"><span data-stu-id="b78c1-266">Sign-out URL of the IdP from the app’s perspective (where the user is redirected when they choose to sign out of the app).</span></span>|<span data-ttu-id="b78c1-267">For AD FS, the sign-out URL is either the same as the sign-on URL, or the same URL with “wa=wsignout1.0” appended.</span><span class="sxs-lookup"><span data-stu-id="b78c1-267">For AD FS, the sign-out URL is either the same as the sign-on URL, or the same URL with “wa=wsignout1.0” appended.</span></span> <span data-ttu-id="b78c1-268">For example: https&#58;//fs.contoso.com/adfs/ls/?wa=wsignout1.0</span><span class="sxs-lookup"><span data-stu-id="b78c1-268">For example: https&#58;//fs.contoso.com/adfs/ls/?wa=wsignout1.0</span></span>|<span data-ttu-id="b78c1-269">The corresponding value for Azure AD depends on whether the app supports SAML 2.0 sign-out.</span><span class="sxs-lookup"><span data-stu-id="b78c1-269">The corresponding value for Azure AD depends on whether the app supports SAML 2.0 sign-out.</span></span></br></br><span data-ttu-id="b78c1-270">If the app supports SAML sign-out, the value follows the pattern where the value for {tenant-id} is replaced with the tenant ID.</span><span class="sxs-lookup"><span data-stu-id="b78c1-270">If the app supports SAML sign-out, the value follows the pattern where the value for {tenant-id} is replaced with the tenant ID.</span></span> <span data-ttu-id="b78c1-271">Find it in the Azure portal under **Azure Active Directory** > **Properties** as **Directory ID**: https&#58;//login.microsoftonline.com/{tenant-id}/saml2</span><span class="sxs-lookup"><span data-stu-id="b78c1-271">Find it in the Azure portal under **Azure Active Directory** > **Properties** as **Directory ID**: https&#58;//login.microsoftonline.com/{tenant-id}/saml2</span></span></br></br><span data-ttu-id="b78c1-272">If the app does not support SAML sign-out: https&#58;//login.microsoftonline.com/common/wsfederation?wa=wsignout1.0</span><span class="sxs-lookup"><span data-stu-id="b78c1-272">If the app does not support SAML sign-out: https&#58;//login.microsoftonline.com/common/wsfederation?wa=wsignout1.0</span></span>|
|<span data-ttu-id="b78c1-273">Token</span><span class="sxs-lookup"><span data-stu-id="b78c1-273">Token</span></span> </br><span data-ttu-id="b78c1-274">signing</span><span class="sxs-lookup"><span data-stu-id="b78c1-274">signing</span></span> </br><span data-ttu-id="b78c1-275">certificate</span><span class="sxs-lookup"><span data-stu-id="b78c1-275">certificate</span></span>|<span data-ttu-id="b78c1-276">Certificate whose private key the IdP uses to sign issued tokens.</span><span class="sxs-lookup"><span data-stu-id="b78c1-276">Certificate whose private key the IdP uses to sign issued tokens.</span></span> <span data-ttu-id="b78c1-277">It verifies that the token came from the same IdP that the app is configured to trust.</span><span class="sxs-lookup"><span data-stu-id="b78c1-277">It verifies that the token came from the same IdP that the app is configured to trust.</span></span>|<span data-ttu-id="b78c1-278">Find the AD FS token signing certificate in AD FS Management under **Certificates**.</span><span class="sxs-lookup"><span data-stu-id="b78c1-278">Find the AD FS token signing certificate in AD FS Management under **Certificates**.</span></span>|<span data-ttu-id="b78c1-279">In Azure AD, you can find the token signing certificate within the Azure portal in the application’s **Single sign-on** properties under the header **SAML Signing Certificate**.</span><span class="sxs-lookup"><span data-stu-id="b78c1-279">In Azure AD, you can find the token signing certificate within the Azure portal in the application’s **Single sign-on** properties under the header **SAML Signing Certificate**.</span></span> <span data-ttu-id="b78c1-280">There, you can download the certificate for upload to the app.</span><span class="sxs-lookup"><span data-stu-id="b78c1-280">There, you can download the certificate for upload to the app.</span></span></br></br> <span data-ttu-id="b78c1-281">If the application has more than one certificate, you can find all certificates in the federation metadata XML file.</span><span class="sxs-lookup"><span data-stu-id="b78c1-281">If the application has more than one certificate, you can find all certificates in the federation metadata XML file.</span></span>|
|<span data-ttu-id="b78c1-282">Identifier/</span><span class="sxs-lookup"><span data-stu-id="b78c1-282">Identifier/</span></span></br><span data-ttu-id="b78c1-283">“issuer”</span><span class="sxs-lookup"><span data-stu-id="b78c1-283">“issuer”</span></span>|<span data-ttu-id="b78c1-284">Identifier of the IdP from the app’s perspective (sometimes called the “issuer ID”).</span><span class="sxs-lookup"><span data-stu-id="b78c1-284">Identifier of the IdP from the app’s perspective (sometimes called the “issuer ID”).</span></span></br></br><span data-ttu-id="b78c1-285">In the SAML token, the value appears as the **Issuer** element.</span><span class="sxs-lookup"><span data-stu-id="b78c1-285">In the SAML token, the value appears as the **Issuer** element.</span></span>|<span data-ttu-id="b78c1-286">The identifier for AD FS is usually the federation service identifier in AD FS Management under **Service** > **Edit Federation Service Properties**.</span><span class="sxs-lookup"><span data-stu-id="b78c1-286">The identifier for AD FS is usually the federation service identifier in AD FS Management under **Service** > **Edit Federation Service Properties**.</span></span> <span data-ttu-id="b78c1-287">For example: http&#58;//fs.contoso.com/adfs/services/trust</span><span class="sxs-lookup"><span data-stu-id="b78c1-287">For example: http&#58;//fs.contoso.com/adfs/services/trust</span></span>|<span data-ttu-id="b78c1-288">The corresponding value for Azure AD follows the pattern where the value for {tenant-id} is replaced with the tenant ID.</span><span class="sxs-lookup"><span data-stu-id="b78c1-288">The corresponding value for Azure AD follows the pattern where the value for {tenant-id} is replaced with the tenant ID.</span></span> <span data-ttu-id="b78c1-289">Find it in the Azure portal under **Azure Active Directory** > **Properties** as **Directory ID**: https&#58;//sts.windows.net/{tenant-id}/</span><span class="sxs-lookup"><span data-stu-id="b78c1-289">Find it in the Azure portal under **Azure Active Directory** > **Properties** as **Directory ID**: https&#58;//sts.windows.net/{tenant-id}/</span></span>|
|<span data-ttu-id="b78c1-290">IdP</span><span class="sxs-lookup"><span data-stu-id="b78c1-290">IdP</span></span> </br><span data-ttu-id="b78c1-291">federation</span><span class="sxs-lookup"><span data-stu-id="b78c1-291">federation</span></span> </br><span data-ttu-id="b78c1-292">metadata</span><span class="sxs-lookup"><span data-stu-id="b78c1-292">metadata</span></span>|<span data-ttu-id="b78c1-293">Location of the IdP’s publicly available federation metadata.</span><span class="sxs-lookup"><span data-stu-id="b78c1-293">Location of the IdP’s publicly available federation metadata.</span></span> <span data-ttu-id="b78c1-294">(Some apps use federation metadata as an alternative to the administrator configuring URLs, identifier, and token signing certificate individually.)</span><span class="sxs-lookup"><span data-stu-id="b78c1-294">(Some apps use federation metadata as an alternative to the administrator configuring URLs, identifier, and token signing certificate individually.)</span></span>|<span data-ttu-id="b78c1-295">Find the AD FS federation metadata URL in AD FS Management under **Service** > **Endpoints** > **Metadata** > **Type: Federation Metadata**.</span><span class="sxs-lookup"><span data-stu-id="b78c1-295">Find the AD FS federation metadata URL in AD FS Management under **Service** > **Endpoints** > **Metadata** > **Type: Federation Metadata**.</span></span> <span data-ttu-id="b78c1-296">For example: https&#58;//fs.contoso.com/FederationMetadata/2007-06/FederationMetadata.xml</span><span class="sxs-lookup"><span data-stu-id="b78c1-296">For example: https&#58;//fs.contoso.com/FederationMetadata/2007-06/FederationMetadata.xml</span></span>|<span data-ttu-id="b78c1-297">The corresponding value for Azure AD follows the pattern https&#58;//login.microsoftonline.com/{TenantDomainName}/FederationMetadata/2007-06/FederationMetadata.xml.</span><span class="sxs-lookup"><span data-stu-id="b78c1-297">The corresponding value for Azure AD follows the pattern https&#58;//login.microsoftonline.com/{TenantDomainName}/FederationMetadata/2007-06/FederationMetadata.xml.</span></span> <span data-ttu-id="b78c1-298">The value for {TenantDomainName} is replaced with your tenant’s name in the format “contoso.onmicrosoft.com.”</span><span class="sxs-lookup"><span data-stu-id="b78c1-298">The value for {TenantDomainName} is replaced with your tenant’s name in the format “contoso.onmicrosoft.com.”</span></span> </br></br><span data-ttu-id="b78c1-299">For more information, see [Federation metadata](../develop/azure-ad-federation-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="b78c1-299">For more information, see [Federation metadata](../develop/azure-ad-federation-metadata.md).</span></span>

## <a name="migrating-saas-apps"></a><span data-ttu-id="b78c1-300">Migrating SaaS apps</span><span class="sxs-lookup"><span data-stu-id="b78c1-300">Migrating SaaS apps</span></span>
<span data-ttu-id="b78c1-301">Migrating SaaS apps from AD FS or another identity provider to Azure AD is a manual process today.</span><span class="sxs-lookup"><span data-stu-id="b78c1-301">Migrating SaaS apps from AD FS or another identity provider to Azure AD is a manual process today.</span></span> <span data-ttu-id="b78c1-302">For app-specific guidance, see the [list of tutorials on integrating SaaS apps found in the Marketplace](../saas-apps/tutorial-list.md).</span><span class="sxs-lookup"><span data-stu-id="b78c1-302">For app-specific guidance, see the [list of tutorials on integrating SaaS apps found in the Marketplace](../saas-apps/tutorial-list.md).</span></span>

<span data-ttu-id="b78c1-303">The integration tutorials assume that you're doing a green field integration.</span><span class="sxs-lookup"><span data-stu-id="b78c1-303">The integration tutorials assume that you're doing a green field integration.</span></span> <span data-ttu-id="b78c1-304">As you plan, assess, configure, and cut over your apps, you should know about a few key concepts that are specific to migration:</span><span class="sxs-lookup"><span data-stu-id="b78c1-304">As you plan, assess, configure, and cut over your apps, you should know about a few key concepts that are specific to migration:</span></span>  
- <span data-ttu-id="b78c1-305">Some apps can be migrated easily.</span><span class="sxs-lookup"><span data-stu-id="b78c1-305">Some apps can be migrated easily.</span></span> <span data-ttu-id="b78c1-306">Apps with more complex requirements, such as custom claims, might require additional configuration in Azure AD and/or Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="b78c1-306">Apps with more complex requirements, such as custom claims, might require additional configuration in Azure AD and/or Azure AD Connect.</span></span>
- <span data-ttu-id="b78c1-307">In the most common scenarios, only the **NameID** claim and other common user identifier claims are required for an app.</span><span class="sxs-lookup"><span data-stu-id="b78c1-307">In the most common scenarios, only the **NameID** claim and other common user identifier claims are required for an app.</span></span> <span data-ttu-id="b78c1-308">To determine if any additional claims are required, examine what claims you’re issuing from AD FS or your third-party identity provider.</span><span class="sxs-lookup"><span data-stu-id="b78c1-308">To determine if any additional claims are required, examine what claims you’re issuing from AD FS or your third-party identity provider.</span></span>
- <span data-ttu-id="b78c1-309">After you determine that additional claims are required, ensure that they're available in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b78c1-309">After you determine that additional claims are required, ensure that they're available in Azure AD.</span></span> <span data-ttu-id="b78c1-310">Check Azure AD Connect sync configuration to ensure that a required attribute--for example, **samAccountName**--is being synced to Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b78c1-310">Check Azure AD Connect sync configuration to ensure that a required attribute--for example, **samAccountName**--is being synced to Azure AD.</span></span>
- <span data-ttu-id="b78c1-311">After the attributes are available in Azure AD, you can add claim issuance rules in Azure AD to include those attributes as claims in issued tokens.</span><span class="sxs-lookup"><span data-stu-id="b78c1-311">After the attributes are available in Azure AD, you can add claim issuance rules in Azure AD to include those attributes as claims in issued tokens.</span></span> <span data-ttu-id="b78c1-312">You add these rules in the **Single sign-on** properties of the app in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b78c1-312">You add these rules in the **Single sign-on** properties of the app in Azure AD.</span></span>

### <a name="assess-what-can-be-migrated"></a><span data-ttu-id="b78c1-313">Assess what can be migrated</span><span class="sxs-lookup"><span data-stu-id="b78c1-313">Assess what can be migrated</span></span>
<span data-ttu-id="b78c1-314">SAML 2.0 applications can be integrated with Azure AD either via the Azure AD application gallery in the Marketplace or as non-Marketplace applications.</span><span class="sxs-lookup"><span data-stu-id="b78c1-314">SAML 2.0 applications can be integrated with Azure AD either via the Azure AD application gallery in the Marketplace or as non-Marketplace applications.</span></span>  

<span data-ttu-id="b78c1-315">Some configurations require additional steps to configure in Azure AD, and some configurations are not supported today.</span><span class="sxs-lookup"><span data-stu-id="b78c1-315">Some configurations require additional steps to configure in Azure AD, and some configurations are not supported today.</span></span> <span data-ttu-id="b78c1-316">To determine what you can move, look at the current configuration of each of your apps.</span><span class="sxs-lookup"><span data-stu-id="b78c1-316">To determine what you can move, look at the current configuration of each of your apps.</span></span> <span data-ttu-id="b78c1-317">Specifically, look for:</span><span class="sxs-lookup"><span data-stu-id="b78c1-317">Specifically, look for:</span></span>
- <span data-ttu-id="b78c1-318">Claim rules configured (issuance transform rules).</span><span class="sxs-lookup"><span data-stu-id="b78c1-318">Claim rules configured (issuance transform rules).</span></span>
- <span data-ttu-id="b78c1-319">SAML **NameID** format and attribute.</span><span class="sxs-lookup"><span data-stu-id="b78c1-319">SAML **NameID** format and attribute.</span></span>
- <span data-ttu-id="b78c1-320">SAML token versions issued.</span><span class="sxs-lookup"><span data-stu-id="b78c1-320">SAML token versions issued.</span></span>
- <span data-ttu-id="b78c1-321">Other configurations, such as issuance authorization rules or access control policies and Multi-Factor Authentication (additional authentication) rules.</span><span class="sxs-lookup"><span data-stu-id="b78c1-321">Other configurations, such as issuance authorization rules or access control policies and Multi-Factor Authentication (additional authentication) rules.</span></span>

#### <a name="what-can-be-migrated-today"></a><span data-ttu-id="b78c1-322">What can be migrated today</span><span class="sxs-lookup"><span data-stu-id="b78c1-322">What can be migrated today</span></span>
<span data-ttu-id="b78c1-323">Apps that you can migrate easily today include SAML 2.0 apps that use the standard set of configuration elements and claims.</span><span class="sxs-lookup"><span data-stu-id="b78c1-323">Apps that you can migrate easily today include SAML 2.0 apps that use the standard set of configuration elements and claims.</span></span> <span data-ttu-id="b78c1-324">These apps can consist of:</span><span class="sxs-lookup"><span data-stu-id="b78c1-324">These apps can consist of:</span></span>
- <span data-ttu-id="b78c1-325">User principal name.</span><span class="sxs-lookup"><span data-stu-id="b78c1-325">User principal name.</span></span>
- <span data-ttu-id="b78c1-326">Email address.</span><span class="sxs-lookup"><span data-stu-id="b78c1-326">Email address.</span></span>
- <span data-ttu-id="b78c1-327">Given name.</span><span class="sxs-lookup"><span data-stu-id="b78c1-327">Given name.</span></span>
- <span data-ttu-id="b78c1-328">Surname.</span><span class="sxs-lookup"><span data-stu-id="b78c1-328">Surname.</span></span>
- <span data-ttu-id="b78c1-329">Alternate attribute as SAML **NameID**, including the Azure AD mail attribute, mail prefix, employee ID, extension attributes 1-15, or on-premises **SamAccountName** attribute.</span><span class="sxs-lookup"><span data-stu-id="b78c1-329">Alternate attribute as SAML **NameID**, including the Azure AD mail attribute, mail prefix, employee ID, extension attributes 1-15, or on-premises **SamAccountName** attribute.</span></span> <span data-ttu-id="b78c1-330">For more information, see [Editing the NameIdentifier claim](../develop/active-directory-saml-claims-customization.md).</span><span class="sxs-lookup"><span data-stu-id="b78c1-330">For more information, see [Editing the NameIdentifier claim](../develop/active-directory-saml-claims-customization.md).</span></span>
- <span data-ttu-id="b78c1-331">Custom claims.</span><span class="sxs-lookup"><span data-stu-id="b78c1-331">Custom claims.</span></span> <span data-ttu-id="b78c1-332">For information about supported claims mappings, see [Claims mapping in Azure Active Directory](../active-directory-claims-mapping.md) and [Customizing claims issued in the SAML token for enterprise applications in Azure Active Directory](../develop/active-directory-saml-claims-customization.md).</span><span class="sxs-lookup"><span data-stu-id="b78c1-332">For information about supported claims mappings, see [Claims mapping in Azure Active Directory](../active-directory-claims-mapping.md) and [Customizing claims issued in the SAML token for enterprise applications in Azure Active Directory](../develop/active-directory-saml-claims-customization.md).</span></span>

<span data-ttu-id="b78c1-333">In addition to custom claims and **NameID** elements, configurations that require additional configuration steps in Azure AD as part of the migration are:</span><span class="sxs-lookup"><span data-stu-id="b78c1-333">In addition to custom claims and **NameID** elements, configurations that require additional configuration steps in Azure AD as part of the migration are:</span></span>
- <span data-ttu-id="b78c1-334">Custom authorization or Multi-Factor Authentication rules in AD FS.</span><span class="sxs-lookup"><span data-stu-id="b78c1-334">Custom authorization or Multi-Factor Authentication rules in AD FS.</span></span> <span data-ttu-id="b78c1-335">You configure them by using the [Azure AD conditional access](../active-directory-conditional-access-azure-portal.md) feature.</span><span class="sxs-lookup"><span data-stu-id="b78c1-335">You configure them by using the [Azure AD conditional access](../active-directory-conditional-access-azure-portal.md) feature.</span></span>
- <span data-ttu-id="b78c1-336">Apps with multiple SAML endpoints.</span><span class="sxs-lookup"><span data-stu-id="b78c1-336">Apps with multiple SAML endpoints.</span></span> <span data-ttu-id="b78c1-337">You configure them in Azure AD by using PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b78c1-337">You configure them in Azure AD by using PowerShell.</span></span> <span data-ttu-id="b78c1-338">(This capability is not available in the portal.)</span><span class="sxs-lookup"><span data-stu-id="b78c1-338">(This capability is not available in the portal.)</span></span>
- <span data-ttu-id="b78c1-339">WS-Federation apps such as SharePoint apps that require SAML version 1.1 tokens.</span><span class="sxs-lookup"><span data-stu-id="b78c1-339">WS-Federation apps such as SharePoint apps that require SAML version 1.1 tokens.</span></span> <span data-ttu-id="b78c1-340">You must configure them manually by using PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b78c1-340">You must configure them manually by using PowerShell.</span></span>

#### <a name="apps-and-configurations-not-supported-in-azure-ad-today"></a><span data-ttu-id="b78c1-341">Apps and configurations not supported in Azure AD today</span><span class="sxs-lookup"><span data-stu-id="b78c1-341">Apps and configurations not supported in Azure AD today</span></span>
<span data-ttu-id="b78c1-342">Apps that require the following capabilities cannot be migrated today.</span><span class="sxs-lookup"><span data-stu-id="b78c1-342">Apps that require the following capabilities cannot be migrated today.</span></span> <span data-ttu-id="b78c1-343">If you have apps that require these features, provide feedback in the comments section.</span><span class="sxs-lookup"><span data-stu-id="b78c1-343">If you have apps that require these features, provide feedback in the comments section.</span></span>
- <span data-ttu-id="b78c1-344">Protocol capabilities:</span><span class="sxs-lookup"><span data-stu-id="b78c1-344">Protocol capabilities:</span></span>
    - <span data-ttu-id="b78c1-345">Support for SAML Single Logout (SLO) of all signed-in apps.</span><span class="sxs-lookup"><span data-stu-id="b78c1-345">Support for SAML Single Logout (SLO) of all signed-in apps.</span></span>
    - <span data-ttu-id="b78c1-346">Support for the WS-Trust ActAs pattern.</span><span class="sxs-lookup"><span data-stu-id="b78c1-346">Support for the WS-Trust ActAs pattern.</span></span>
    - <span data-ttu-id="b78c1-347">SAML artifact resolution.</span><span class="sxs-lookup"><span data-stu-id="b78c1-347">SAML artifact resolution.</span></span>
    - <span data-ttu-id="b78c1-348">Signature verification of signed SAML requests.</span><span class="sxs-lookup"><span data-stu-id="b78c1-348">Signature verification of signed SAML requests.</span></span> <span data-ttu-id="b78c1-349">Note that signed requests are accepted, but the signature is not verified.</span><span class="sxs-lookup"><span data-stu-id="b78c1-349">Note that signed requests are accepted, but the signature is not verified.</span></span>
- <span data-ttu-id="b78c1-350">Token capabilities:</span><span class="sxs-lookup"><span data-stu-id="b78c1-350">Token capabilities:</span></span> 
    - <span data-ttu-id="b78c1-351">SAML token encryption.</span><span class="sxs-lookup"><span data-stu-id="b78c1-351">SAML token encryption.</span></span> 
    - <span data-ttu-id="b78c1-352">SAML version 1.1 tokens within SAML protocol responses.</span><span class="sxs-lookup"><span data-stu-id="b78c1-352">SAML version 1.1 tokens within SAML protocol responses.</span></span> 
- <span data-ttu-id="b78c1-353">Claims in token capabilities:</span><span class="sxs-lookup"><span data-stu-id="b78c1-353">Claims in token capabilities:</span></span>
    - <span data-ttu-id="b78c1-354">Issuance of on-premises group names as claims.</span><span class="sxs-lookup"><span data-stu-id="b78c1-354">Issuance of on-premises group names as claims.</span></span>
    - <span data-ttu-id="b78c1-355">Claims from stores other than Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b78c1-355">Claims from stores other than Azure AD.</span></span>
    - <span data-ttu-id="b78c1-356">Complex claims issuance transform rules.</span><span class="sxs-lookup"><span data-stu-id="b78c1-356">Complex claims issuance transform rules.</span></span> <span data-ttu-id="b78c1-357">For information about supported claims mappings, see [Claims mapping in Azure Active Directory](../active-directory-claims-mapping.md) and [Customizing claims issued in the SAML token for enterprise applications in Azure Active Directory](../develop/active-directory-saml-claims-customization.md).</span><span class="sxs-lookup"><span data-stu-id="b78c1-357">For information about supported claims mappings, see [Claims mapping in Azure Active Directory](../active-directory-claims-mapping.md) and [Customizing claims issued in the SAML token for enterprise applications in Azure Active Directory](../develop/active-directory-saml-claims-customization.md).</span></span>
    - <span data-ttu-id="b78c1-358">Issuance of directory extensions as claims.</span><span class="sxs-lookup"><span data-stu-id="b78c1-358">Issuance of directory extensions as claims.</span></span>
    - <span data-ttu-id="b78c1-359">Custom specification of the **NameID** format.</span><span class="sxs-lookup"><span data-stu-id="b78c1-359">Custom specification of the **NameID** format.</span></span>
    - <span data-ttu-id="b78c1-360">Issuance of multiple-value attributes.</span><span class="sxs-lookup"><span data-stu-id="b78c1-360">Issuance of multiple-value attributes.</span></span>

>[!NOTE]
><span data-ttu-id="b78c1-361">Azure AD is constantly evolving to add capabilities in this area.</span><span class="sxs-lookup"><span data-stu-id="b78c1-361">Azure AD is constantly evolving to add capabilities in this area.</span></span> <span data-ttu-id="b78c1-362">We update this article on a regular basis.</span><span class="sxs-lookup"><span data-stu-id="b78c1-362">We update this article on a regular basis.</span></span> 

### <a name="configure-azure-ad"></a><span data-ttu-id="b78c1-363">Configure Azure AD</span><span class="sxs-lookup"><span data-stu-id="b78c1-363">Configure Azure AD</span></span>    
#### <a name="configure-single-sign-on-sso-settings-for-the-saas-app"></a><span data-ttu-id="b78c1-364">Configure single sign-on (SSO) settings for the SaaS app</span><span class="sxs-lookup"><span data-stu-id="b78c1-364">Configure single sign-on (SSO) settings for the SaaS app</span></span>

<span data-ttu-id="b78c1-365">In Azure AD, you configure SAML sign-on (as required by your app) in the **Single sign-on** properties of the app, under **User Attributes**.</span><span class="sxs-lookup"><span data-stu-id="b78c1-365">In Azure AD, you configure SAML sign-on (as required by your app) in the **Single sign-on** properties of the app, under **User Attributes**.</span></span>

![Single sign-on properties with "User Attributes" section](media/migrate-adfs-apps-to-azure/migrate3.png)

<span data-ttu-id="b78c1-367">Select **View and edit all other user attributes** to see the attributes to send as claims in the security token.</span><span class="sxs-lookup"><span data-stu-id="b78c1-367">Select **View and edit all other user attributes** to see the attributes to send as claims in the security token.</span></span>

![List of attributes](media/migrate-adfs-apps-to-azure/migrate4.png)

<span data-ttu-id="b78c1-369">Select a specific attribute row to edit, or select **Add attribute** to add a new attribute.</span><span class="sxs-lookup"><span data-stu-id="b78c1-369">Select a specific attribute row to edit, or select **Add attribute** to add a new attribute.</span></span>

!["Edit Attribute" pane](media/migrate-adfs-apps-to-azure/migrate5.png)

#### <a name="assign-users-to-the-app"></a><span data-ttu-id="b78c1-371">Assign users to the app</span><span class="sxs-lookup"><span data-stu-id="b78c1-371">Assign users to the app</span></span>
<span data-ttu-id="b78c1-372">For your users in Azure AD to be able to sign in to an SaaS app, you need to give them access.</span><span class="sxs-lookup"><span data-stu-id="b78c1-372">For your users in Azure AD to be able to sign in to an SaaS app, you need to give them access.</span></span>

<span data-ttu-id="b78c1-373">To assign users in the Azure AD portal, browse to the SaaS app’s page, and then select **Users and groups** in the sidebar.</span><span class="sxs-lookup"><span data-stu-id="b78c1-373">To assign users in the Azure AD portal, browse to the SaaS app’s page, and then select **Users and groups** in the sidebar.</span></span> <span data-ttu-id="b78c1-374">To add either a user or a group, select **Add user** at the top of the pane.</span><span class="sxs-lookup"><span data-stu-id="b78c1-374">To add either a user or a group, select **Add user** at the top of the pane.</span></span> 

!["Add user" button in "Users and groups"](media/migrate-adfs-apps-to-azure/migrate6.png) 

!["Add Assignment" pane](media/migrate-adfs-apps-to-azure/migrate7.png)

<span data-ttu-id="b78c1-377">To verify access, users should see the SaaS app in their [access panel](../user-help/active-directory-saas-access-panel-introduction.md) when they sign in.</span><span class="sxs-lookup"><span data-stu-id="b78c1-377">To verify access, users should see the SaaS app in their [access panel](../user-help/active-directory-saas-access-panel-introduction.md) when they sign in.</span></span> <span data-ttu-id="b78c1-378">They can find the access panel at http://myapps.microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="b78c1-378">They can find the access panel at http://myapps.microsoft.com.</span></span> <span data-ttu-id="b78c1-379">In this example, a user has been successfully assigned access to both Salesforce and ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="b78c1-379">In this example, a user has been successfully assigned access to both Salesforce and ServiceNow.</span></span>

![Example access panel with Salesforce and ServiceNow apps](media/migrate-adfs-apps-to-azure/migrate8.png)

### <a name="configure-the-saas-app"></a><span data-ttu-id="b78c1-381">Configure the SaaS app</span><span class="sxs-lookup"><span data-stu-id="b78c1-381">Configure the SaaS app</span></span>
<span data-ttu-id="b78c1-382">The cutover process from on-premises federation to Azure AD depends on whether the SaaS app that you're working with supports multiple identity providers.</span><span class="sxs-lookup"><span data-stu-id="b78c1-382">The cutover process from on-premises federation to Azure AD depends on whether the SaaS app that you're working with supports multiple identity providers.</span></span> <span data-ttu-id="b78c1-383">Here are some common questions about support for multiple IdPs:</span><span class="sxs-lookup"><span data-stu-id="b78c1-383">Here are some common questions about support for multiple IdPs:</span></span>

   <span data-ttu-id="b78c1-384">**Q: What does it mean for an app to support multiple IdPs?**</span><span class="sxs-lookup"><span data-stu-id="b78c1-384">**Q: What does it mean for an app to support multiple IdPs?**</span></span>
    
   <span data-ttu-id="b78c1-385">A: SaaS apps that support multiple IdPs enable you to enter all of the information about the new IdP (in our case, Azure AD) before you commit to changing the sign-on experience.</span><span class="sxs-lookup"><span data-stu-id="b78c1-385">A: SaaS apps that support multiple IdPs enable you to enter all of the information about the new IdP (in our case, Azure AD) before you commit to changing the sign-on experience.</span></span> <span data-ttu-id="b78c1-386">After the configuration is done, you can switch the app’s authentication configuration to point at Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b78c1-386">After the configuration is done, you can switch the app’s authentication configuration to point at Azure AD.</span></span>

   <span data-ttu-id="b78c1-387">**Q: Why does it matter if the SaaS app supports multiple IdPs?**</span><span class="sxs-lookup"><span data-stu-id="b78c1-387">**Q: Why does it matter if the SaaS app supports multiple IdPs?**</span></span>

   <span data-ttu-id="b78c1-388">A: If multiple IdPs are not supported, the admin has to set aside a short window of time as a service or maintenance outage during which they configure Azure AD as an app’s new IdP.</span><span class="sxs-lookup"><span data-stu-id="b78c1-388">A: If multiple IdPs are not supported, the admin has to set aside a short window of time as a service or maintenance outage during which they configure Azure AD as an app’s new IdP.</span></span> <span data-ttu-id="b78c1-389">During this outage, users should be notified that they won't be able to sign in to their accounts.</span><span class="sxs-lookup"><span data-stu-id="b78c1-389">During this outage, users should be notified that they won't be able to sign in to their accounts.</span></span>

   <span data-ttu-id="b78c1-390">If an app does support multiple IdPs, the additional IdP can be configured in advance.</span><span class="sxs-lookup"><span data-stu-id="b78c1-390">If an app does support multiple IdPs, the additional IdP can be configured in advance.</span></span> <span data-ttu-id="b78c1-391">The admin can then switch the IdP at Azure cutover.</span><span class="sxs-lookup"><span data-stu-id="b78c1-391">The admin can then switch the IdP at Azure cutover.</span></span>

   <span data-ttu-id="b78c1-392">If the app supports multiple IdPs and you choose multiple IdPs to simultaneously handle authentication for sign-in, the user is given a choice of IdP to authenticate on their sign-in page.</span><span class="sxs-lookup"><span data-stu-id="b78c1-392">If the app supports multiple IdPs and you choose multiple IdPs to simultaneously handle authentication for sign-in, the user is given a choice of IdP to authenticate on their sign-in page.</span></span>

#### <a name="example-support-for-multiple-idps"></a><span data-ttu-id="b78c1-393">Example: Support for multiple IdPs</span><span class="sxs-lookup"><span data-stu-id="b78c1-393">Example: Support for multiple IdPs</span></span>
<span data-ttu-id="b78c1-394">For example, in Salesforce, you can find the IDP configuration under **Settings** > **Company Settings** > **My Domain** > **Authentication Configuration**.</span><span class="sxs-lookup"><span data-stu-id="b78c1-394">For example, in Salesforce, you can find the IDP configuration under **Settings** > **Company Settings** > **My Domain** > **Authentication Configuration**.</span></span>

!["Authentication Configuration" section in the Salesforce app](media/migrate-adfs-apps-to-azure/migrate9.png)

<span data-ttu-id="b78c1-396">Because of the configuration created earlier under **Identity** > **Single sign-on settings**, you should be able to change your IdP for authentication configuration.</span><span class="sxs-lookup"><span data-stu-id="b78c1-396">Because of the configuration created earlier under **Identity** > **Single sign-on settings**, you should be able to change your IdP for authentication configuration.</span></span> <span data-ttu-id="b78c1-397">For example, you can change it from AD FS to Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b78c1-397">For example, you can change it from AD FS to Azure AD.</span></span> 

![Selecting Azure AD as the authentication service](media/migrate-adfs-apps-to-azure/migrate10.png)

### <a name="optional-configure-user-provisioning-in-azure-ad"></a><span data-ttu-id="b78c1-399">Optional: Configure user provisioning in Azure AD</span><span class="sxs-lookup"><span data-stu-id="b78c1-399">Optional: Configure user provisioning in Azure AD</span></span>
<span data-ttu-id="b78c1-400">If you want Azure AD to directly handle user provisioning for an SaaS app, see [Automate user provisioning and deprovisioning to SaaS applications with Azure Active Directory](user-provisioning.md).</span><span class="sxs-lookup"><span data-stu-id="b78c1-400">If you want Azure AD to directly handle user provisioning for an SaaS app, see [Automate user provisioning and deprovisioning to SaaS applications with Azure Active Directory](user-provisioning.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="b78c1-401">Next steps</span><span class="sxs-lookup"><span data-stu-id="b78c1-401">Next steps</span></span>

- [<span data-ttu-id="b78c1-402">Managing applications with Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="b78c1-402">Managing applications with Azure Active Directory</span></span>](what-is-application-management.md)
- [<span data-ttu-id="b78c1-403">Manage access to apps</span><span class="sxs-lookup"><span data-stu-id="b78c1-403">Manage access to apps</span></span>](what-is-access-management.md)
- [<span data-ttu-id="b78c1-404">Azure AD Connect federation</span><span class="sxs-lookup"><span data-stu-id="b78c1-404">Azure AD Connect federation</span></span>](../active-directory-aadconnectfed-whatis.md)
