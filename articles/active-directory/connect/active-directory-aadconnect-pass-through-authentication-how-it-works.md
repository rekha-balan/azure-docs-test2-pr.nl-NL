---
title: 'Azure AD Connect: Pass-through Authentication - How it works | Microsoft Docs'
description: This article describes how Azure Active Directory Pass-through Authentication works
services: active-directory
keywords: Azure AD Connect Pass-through Authentication, install Active Directory, required components for Azure AD, SSO, Single Sign-on
documentationcenter: ''
author: billmath
manager: mtillman
ms.assetid: 9f994aca-6088-40f5-b2cc-c753a4f41da7
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/19/2018
ms.component: hybrid
ms.author: billmath
ms.openlocfilehash: 674952982ac4342caaf31c05f3d644c1e74b649d
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44864927"
---
# <a name="azure-active-directory-pass-through-authentication-technical-deep-dive"></a><span data-ttu-id="cf114-104">Azure Active Directory Pass-through Authentication: Technical deep dive</span><span class="sxs-lookup"><span data-stu-id="cf114-104">Azure Active Directory Pass-through Authentication: Technical deep dive</span></span>
<span data-ttu-id="cf114-105">This article is an overview of how Azure Active directory (Azure AD) Pass-through Authentication works.</span><span class="sxs-lookup"><span data-stu-id="cf114-105">This article is an overview of how Azure Active directory (Azure AD) Pass-through Authentication works.</span></span> <span data-ttu-id="cf114-106">For deep technical and security information, see the [Security deep dive](active-directory-aadconnect-pass-through-authentication-security-deep-dive.md) article.</span><span class="sxs-lookup"><span data-stu-id="cf114-106">For deep technical and security information, see the [Security deep dive](active-directory-aadconnect-pass-through-authentication-security-deep-dive.md) article.</span></span>

## <a name="how-does-azure-active-directory-pass-through-authentication-work"></a><span data-ttu-id="cf114-107">How does Azure Active Directory Pass-through Authentication work?</span><span class="sxs-lookup"><span data-stu-id="cf114-107">How does Azure Active Directory Pass-through Authentication work?</span></span>

>[!NOTE]
><span data-ttu-id="cf114-108">As a pre-requisite for Pass-through Authentication to work, users need to be provisioned into Azure AD from on-premises Active Directory using Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="cf114-108">As a pre-requisite for Pass-through Authentication to work, users need to be provisioned into Azure AD from on-premises Active Directory using Azure AD Connect.</span></span> <span data-ttu-id="cf114-109">Pass-through Authentication does not apply to cloud-only users.</span><span class="sxs-lookup"><span data-stu-id="cf114-109">Pass-through Authentication does not apply to cloud-only users.</span></span>

<span data-ttu-id="cf114-110">When a user tries to sign in to an application secured by Azure AD, and if Pass-through Authentication is enabled on the tenant, the following steps occur:</span><span class="sxs-lookup"><span data-stu-id="cf114-110">When a user tries to sign in to an application secured by Azure AD, and if Pass-through Authentication is enabled on the tenant, the following steps occur:</span></span>

1. <span data-ttu-id="cf114-111">The user tries to access an application, for example, [Outlook Web App](https://outlook.office365.com/owa/).</span><span class="sxs-lookup"><span data-stu-id="cf114-111">The user tries to access an application, for example, [Outlook Web App](https://outlook.office365.com/owa/).</span></span>
2. <span data-ttu-id="cf114-112">If the user is not already signed in, the user is redirected to the Azure AD **User Sign-in** page.</span><span class="sxs-lookup"><span data-stu-id="cf114-112">If the user is not already signed in, the user is redirected to the Azure AD **User Sign-in** page.</span></span>
3. <span data-ttu-id="cf114-113">The user enters their username into the Azure AD sign in page, and then selects the **Next** button.</span><span class="sxs-lookup"><span data-stu-id="cf114-113">The user enters their username into the Azure AD sign in page, and then selects the **Next** button.</span></span>
4. <span data-ttu-id="cf114-114">The user enters their password into the Azure AD sign in page, and then selects the **Sign in** button.</span><span class="sxs-lookup"><span data-stu-id="cf114-114">The user enters their password into the Azure AD sign in page, and then selects the **Sign in** button.</span></span>
5. <span data-ttu-id="cf114-115">Azure AD, on receiving the request to sign in, places the username and password (encrypted by using the public key of the Authentication Agents) in a queue.</span><span class="sxs-lookup"><span data-stu-id="cf114-115">Azure AD, on receiving the request to sign in, places the username and password (encrypted by using the public key of the Authentication Agents) in a queue.</span></span>
6. <span data-ttu-id="cf114-116">An on-premises Authentication Agent retrieves the username and encrypted password from the queue.</span><span class="sxs-lookup"><span data-stu-id="cf114-116">An on-premises Authentication Agent retrieves the username and encrypted password from the queue.</span></span> <span data-ttu-id="cf114-117">Note that the Agent doesn't frequently poll for requests from the queue, but retrieves requests over a pre-established persistent connection.</span><span class="sxs-lookup"><span data-stu-id="cf114-117">Note that the Agent doesn't frequently poll for requests from the queue, but retrieves requests over a pre-established persistent connection.</span></span>
7. <span data-ttu-id="cf114-118">The agent decrypts the password by using its private key.</span><span class="sxs-lookup"><span data-stu-id="cf114-118">The agent decrypts the password by using its private key.</span></span>
8. <span data-ttu-id="cf114-119">The agent validates the username and password against Active Directory by using standard Windows APIs, which is a similar mechanism to what Active Directory Federation Services (AD FS) uses.</span><span class="sxs-lookup"><span data-stu-id="cf114-119">The agent validates the username and password against Active Directory by using standard Windows APIs, which is a similar mechanism to what Active Directory Federation Services (AD FS) uses.</span></span> <span data-ttu-id="cf114-120">The username can be either the on-premises default username, usually `userPrincipalName`, or another attribute configured in Azure AD Connect (known as `Alternate ID`).</span><span class="sxs-lookup"><span data-stu-id="cf114-120">The username can be either the on-premises default username, usually `userPrincipalName`, or another attribute configured in Azure AD Connect (known as `Alternate ID`).</span></span>
9. <span data-ttu-id="cf114-121">The on-premises Active Directory domain controller (DC) evaluates the request and returns the appropriate response (success, failure, password expired, or user locked out) to the agent.</span><span class="sxs-lookup"><span data-stu-id="cf114-121">The on-premises Active Directory domain controller (DC) evaluates the request and returns the appropriate response (success, failure, password expired, or user locked out) to the agent.</span></span>
10. <span data-ttu-id="cf114-122">The Authentication Agent, in turn, returns this response back to Azure AD.</span><span class="sxs-lookup"><span data-stu-id="cf114-122">The Authentication Agent, in turn, returns this response back to Azure AD.</span></span>
11. <span data-ttu-id="cf114-123">Azure AD evaluates the response and responds to the user as appropriate.</span><span class="sxs-lookup"><span data-stu-id="cf114-123">Azure AD evaluates the response and responds to the user as appropriate.</span></span> <span data-ttu-id="cf114-124">For example, Azure AD either signs the user in immediately or requests for Azure Multi-Factor Authentication.</span><span class="sxs-lookup"><span data-stu-id="cf114-124">For example, Azure AD either signs the user in immediately or requests for Azure Multi-Factor Authentication.</span></span>
12. <span data-ttu-id="cf114-125">If the user sign-in is successful, the user can access the application.</span><span class="sxs-lookup"><span data-stu-id="cf114-125">If the user sign-in is successful, the user can access the application.</span></span>

<span data-ttu-id="cf114-126">The following diagram illustrates all the components and the steps involved:</span><span class="sxs-lookup"><span data-stu-id="cf114-126">The following diagram illustrates all the components and the steps involved:</span></span>

![Pass-through Authentication](./media/active-directory-aadconnect-pass-through-authentication/pta2.png)

## <a name="next-steps"></a><span data-ttu-id="cf114-128">Next steps</span><span class="sxs-lookup"><span data-stu-id="cf114-128">Next steps</span></span>
- <span data-ttu-id="cf114-129">[Current limitations](active-directory-aadconnect-pass-through-authentication-current-limitations.md): Learn which scenarios are supported and which ones are not.</span><span class="sxs-lookup"><span data-stu-id="cf114-129">[Current limitations](active-directory-aadconnect-pass-through-authentication-current-limitations.md): Learn which scenarios are supported and which ones are not.</span></span>
- <span data-ttu-id="cf114-130">[Quick Start](active-directory-aadconnect-pass-through-authentication-quick-start.md): Get up and running on Azure AD Pass-through Authentication.</span><span class="sxs-lookup"><span data-stu-id="cf114-130">[Quick Start](active-directory-aadconnect-pass-through-authentication-quick-start.md): Get up and running on Azure AD Pass-through Authentication.</span></span>
- <span data-ttu-id="cf114-131">[Migrate from AD FS to Pass-through Authentication](https://github.com/Identity-Deployment-Guides/Identity-Deployment-Guides/blob/master/Authentication/Migrating%20from%20Federated%20Authentication%20to%20Pass-through%20Authentication.docx) - A detailed guide to migrate from AD FS (or other federation technologies) to Pass-through Authentication.</span><span class="sxs-lookup"><span data-stu-id="cf114-131">[Migrate from AD FS to Pass-through Authentication](https://github.com/Identity-Deployment-Guides/Identity-Deployment-Guides/blob/master/Authentication/Migrating%20from%20Federated%20Authentication%20to%20Pass-through%20Authentication.docx) - A detailed guide to migrate from AD FS (or other federation technologies) to Pass-through Authentication.</span></span>
- <span data-ttu-id="cf114-132">[Smart Lockout](../authentication/howto-password-smart-lockout.md): Configure the Smart Lockout capability on your tenant to protect user accounts.</span><span class="sxs-lookup"><span data-stu-id="cf114-132">[Smart Lockout](../authentication/howto-password-smart-lockout.md): Configure the Smart Lockout capability on your tenant to protect user accounts.</span></span>
- <span data-ttu-id="cf114-133">[Frequently Asked Questions](active-directory-aadconnect-pass-through-authentication-faq.md): Find answers to frequently asked questions.</span><span class="sxs-lookup"><span data-stu-id="cf114-133">[Frequently Asked Questions](active-directory-aadconnect-pass-through-authentication-faq.md): Find answers to frequently asked questions.</span></span>
- <span data-ttu-id="cf114-134">[Troubleshoot](active-directory-aadconnect-troubleshoot-pass-through-authentication.md): Learn how to resolve common problems with the Pass-through Authentication feature.</span><span class="sxs-lookup"><span data-stu-id="cf114-134">[Troubleshoot](active-directory-aadconnect-troubleshoot-pass-through-authentication.md): Learn how to resolve common problems with the Pass-through Authentication feature.</span></span>
- <span data-ttu-id="cf114-135">[Security Deep Dive](active-directory-aadconnect-pass-through-authentication-security-deep-dive.md): Get deep technical information on the Pass-through Authentication feature.</span><span class="sxs-lookup"><span data-stu-id="cf114-135">[Security Deep Dive](active-directory-aadconnect-pass-through-authentication-security-deep-dive.md): Get deep technical information on the Pass-through Authentication feature.</span></span>
- <span data-ttu-id="cf114-136">[Azure AD Seamless SSO](active-directory-aadconnect-sso.md): Learn more about this complementary feature.</span><span class="sxs-lookup"><span data-stu-id="cf114-136">[Azure AD Seamless SSO](active-directory-aadconnect-sso.md): Learn more about this complementary feature.</span></span>
- <span data-ttu-id="cf114-137">[UserVoice](https://feedback.azure.com/forums/169401-azure-active-directory/category/160611-directory-synchronization-aad-connect): Use the Azure Active Directory Forum to file new feature requests.</span><span class="sxs-lookup"><span data-stu-id="cf114-137">[UserVoice](https://feedback.azure.com/forums/169401-azure-active-directory/category/160611-directory-synchronization-aad-connect): Use the Azure Active Directory Forum to file new feature requests.</span></span>

