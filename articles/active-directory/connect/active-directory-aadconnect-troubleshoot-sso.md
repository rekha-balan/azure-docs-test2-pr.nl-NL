---
title: 'Azure Active Directory Connect: Troubleshoot Seamless Single Sign-On | Microsoft Docs'
description: This topic describes how to troubleshoot Azure Active Directory Seamless Single Sign-On
services: active-directory
author: billmath
ms.reviewer: swkrish
manager: mtillman
ms.assetid: 9f994aca-6088-40f5-b2cc-c753a4f41da7
ms.service: active-directory
ms.workload: identity
ms.topic: article
ms.date: 09/04/2018
ms.component: hybrid
ms.author: billmath
ms.openlocfilehash: 029ba1c936862ef5c5f774dc683c4746e157c4aa
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44867028"
---
# <a name="troubleshoot-azure-active-directory-seamless-single-sign-on"></a><span data-ttu-id="9633e-103">Troubleshoot Azure Active Directory Seamless Single Sign-On</span><span class="sxs-lookup"><span data-stu-id="9633e-103">Troubleshoot Azure Active Directory Seamless Single Sign-On</span></span>

<span data-ttu-id="9633e-104">This article helps you find troubleshooting information about common problems regarding Azure Active Directory (Azure AD) Seamless Single Sign-On (Seamless SSO).</span><span class="sxs-lookup"><span data-stu-id="9633e-104">This article helps you find troubleshooting information about common problems regarding Azure Active Directory (Azure AD) Seamless Single Sign-On (Seamless SSO).</span></span>

## <a name="known-issues"></a><span data-ttu-id="9633e-105">Known issues</span><span class="sxs-lookup"><span data-stu-id="9633e-105">Known issues</span></span>

- <span data-ttu-id="9633e-106">In a few cases, enabling Seamless SSO can take up to 30 minutes.</span><span class="sxs-lookup"><span data-stu-id="9633e-106">In a few cases, enabling Seamless SSO can take up to 30 minutes.</span></span>
- <span data-ttu-id="9633e-107">If you disable and re-enable Seamless SSO on your tenant, users will not get the single sign-on experience till their cached Kerberos tickets, typically valid for 10 hours, have expired.</span><span class="sxs-lookup"><span data-stu-id="9633e-107">If you disable and re-enable Seamless SSO on your tenant, users will not get the single sign-on experience till their cached Kerberos tickets, typically valid for 10 hours, have expired.</span></span>
- <span data-ttu-id="9633e-108">Edge browser support is not available.</span><span class="sxs-lookup"><span data-stu-id="9633e-108">Edge browser support is not available.</span></span>
- <span data-ttu-id="9633e-109">If Seamless SSO succeeds, the user does not have the opportunity to select **Keep me signed in**.</span><span class="sxs-lookup"><span data-stu-id="9633e-109">If Seamless SSO succeeds, the user does not have the opportunity to select **Keep me signed in**.</span></span> <span data-ttu-id="9633e-110">Due to this behavior, [SharePoint and OneDrive mapping scenarios](https://support.microsoft.com/help/2616712/how-to-configure-and-to-troubleshoot-mapped-network-drives-that-connec) don't work.</span><span class="sxs-lookup"><span data-stu-id="9633e-110">Due to this behavior, [SharePoint and OneDrive mapping scenarios](https://support.microsoft.com/help/2616712/how-to-configure-and-to-troubleshoot-mapped-network-drives-that-connec) don't work.</span></span>
- <span data-ttu-id="9633e-111">Office 365 Win32 clients (Outlook, Word, Excel, and others) with versions 16.0.8730.xxxx and above are supported using a non-interactive flow.</span><span class="sxs-lookup"><span data-stu-id="9633e-111">Office 365 Win32 clients (Outlook, Word, Excel, and others) with versions 16.0.8730.xxxx and above are supported using a non-interactive flow.</span></span> <span data-ttu-id="9633e-112">Other versions are not supported; on those versions, users will enter their usernames, but not passwords, to sign-in.</span><span class="sxs-lookup"><span data-stu-id="9633e-112">Other versions are not supported; on those versions, users will enter their usernames, but not passwords, to sign-in.</span></span> <span data-ttu-id="9633e-113">For OneDrive, you will have to activate the [OneDrive silent config feature](https://techcommunity.microsoft.com/t5/Microsoft-OneDrive-Blog/Previews-for-Silent-Sync-Account-Configuration-and-Bandwidth/ba-p/120894) for a silent sign-on experience.</span><span class="sxs-lookup"><span data-stu-id="9633e-113">For OneDrive, you will have to activate the [OneDrive silent config feature](https://techcommunity.microsoft.com/t5/Microsoft-OneDrive-Blog/Previews-for-Silent-Sync-Account-Configuration-and-Bandwidth/ba-p/120894) for a silent sign-on experience.</span></span>
- <span data-ttu-id="9633e-114">Seamless SSO doesn't work in private browsing mode on Firefox.</span><span class="sxs-lookup"><span data-stu-id="9633e-114">Seamless SSO doesn't work in private browsing mode on Firefox.</span></span>
- <span data-ttu-id="9633e-115">Seamless SSO doesn't work in Internet Explorer when Enhanced Protected mode is turned on.</span><span class="sxs-lookup"><span data-stu-id="9633e-115">Seamless SSO doesn't work in Internet Explorer when Enhanced Protected mode is turned on.</span></span>
- <span data-ttu-id="9633e-116">Seamless SSO doesn't work on mobile browsers on iOS and Android.</span><span class="sxs-lookup"><span data-stu-id="9633e-116">Seamless SSO doesn't work on mobile browsers on iOS and Android.</span></span>
- <span data-ttu-id="9633e-117">If a user is part of too many groups in Active Directory, the user's Kerberos ticket will likely be too large to process, and this will cause Seamless SSO to fail.</span><span class="sxs-lookup"><span data-stu-id="9633e-117">If a user is part of too many groups in Active Directory, the user's Kerberos ticket will likely be too large to process, and this will cause Seamless SSO to fail.</span></span> <span data-ttu-id="9633e-118">Azure AD HTTPS requests can have headers with a maximum size of 50 KB; Kerberos tickets need to be smaller than that limit to accommodate other Azure AD artifacts (typically, 2 - 5 KB) such as cookies.</span><span class="sxs-lookup"><span data-stu-id="9633e-118">Azure AD HTTPS requests can have headers with a maximum size of 50 KB; Kerberos tickets need to be smaller than that limit to accommodate other Azure AD artifacts (typically, 2 - 5 KB) such as cookies.</span></span> <span data-ttu-id="9633e-119">Our recommendation is to reduce user's group memberships and try again.</span><span class="sxs-lookup"><span data-stu-id="9633e-119">Our recommendation is to reduce user's group memberships and try again.</span></span>
- <span data-ttu-id="9633e-120">If you're synchronizing 30 or more Active Directory forests, you can't enable Seamless SSO through Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="9633e-120">If you're synchronizing 30 or more Active Directory forests, you can't enable Seamless SSO through Azure AD Connect.</span></span> <span data-ttu-id="9633e-121">As a workaround, you can [manually enable](#manual-reset-of-the-feature) the feature on your tenant.</span><span class="sxs-lookup"><span data-stu-id="9633e-121">As a workaround, you can [manually enable](#manual-reset-of-the-feature) the feature on your tenant.</span></span>
- <span data-ttu-id="9633e-122">Adding the Azure AD service URL (https://autologon.microsoftazuread-sso.com) to the Trusted sites zone instead of the Local intranet zone *blocks users from signing in*.</span><span class="sxs-lookup"><span data-stu-id="9633e-122">Adding the Azure AD service URL (https://autologon.microsoftazuread-sso.com) to the Trusted sites zone instead of the Local intranet zone *blocks users from signing in*.</span></span>
- <span data-ttu-id="9633e-123">Disabling the use of the **RC4_HMAC_MD5** encryption type for Kerberos in your Active Directory settings will break Seamless SSO.</span><span class="sxs-lookup"><span data-stu-id="9633e-123">Disabling the use of the **RC4_HMAC_MD5** encryption type for Kerberos in your Active Directory settings will break Seamless SSO.</span></span> <span data-ttu-id="9633e-124">In your Group Policy Management Editor tool ensure that the policy value for **RC4_HMAC_MD5** under **Computer Configuration -> Windows Settings -> Security Settings -> Local Policies -> Security Options -> "Network Security: Configure encryption types allowed for Kerberos"** is "Enabled".</span><span class="sxs-lookup"><span data-stu-id="9633e-124">In your Group Policy Management Editor tool ensure that the policy value for **RC4_HMAC_MD5** under **Computer Configuration -> Windows Settings -> Security Settings -> Local Policies -> Security Options -> "Network Security: Configure encryption types allowed for Kerberos"** is "Enabled".</span></span>

## <a name="check-status-of-feature"></a><span data-ttu-id="9633e-125">Check status of feature</span><span class="sxs-lookup"><span data-stu-id="9633e-125">Check status of feature</span></span>

<span data-ttu-id="9633e-126">Ensure that the Seamless SSO feature is still **Enabled** on your tenant.</span><span class="sxs-lookup"><span data-stu-id="9633e-126">Ensure that the Seamless SSO feature is still **Enabled** on your tenant.</span></span> <span data-ttu-id="9633e-127">You can check the status by going to the **Azure AD Connect** pane in the [Azure Active Directory admin center](https://aad.portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="9633e-127">You can check the status by going to the **Azure AD Connect** pane in the [Azure Active Directory admin center](https://aad.portal.azure.com/).</span></span>

![Azure Active Directory admin center: Azure AD Connect pane](./media/active-directory-aadconnect-sso/sso10.png)

<span data-ttu-id="9633e-129">Click through to see all the AD forests that have been enabled for Seamless SSO.</span><span class="sxs-lookup"><span data-stu-id="9633e-129">Click through to see all the AD forests that have been enabled for Seamless SSO.</span></span>

![Azure Active Directory admin center: Seamless SSO pane](./media/active-directory-aadconnect-sso/sso13.png)

## <a name="sign-in-failure-reasons-in-the-azure-active-directory-admin-center-needs-a-premium-license"></a><span data-ttu-id="9633e-131">Sign-in failure reasons in the Azure Active Directory admin center (needs a Premium license)</span><span class="sxs-lookup"><span data-stu-id="9633e-131">Sign-in failure reasons in the Azure Active Directory admin center (needs a Premium license)</span></span>

<span data-ttu-id="9633e-132">If your tenant has an Azure AD Premium license associated with it, you can also look at the [sign-in activity report](../reports-monitoring/concept-sign-ins.md) in the [Azure Active Directory admin center](https://aad.portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="9633e-132">If your tenant has an Azure AD Premium license associated with it, you can also look at the [sign-in activity report](../reports-monitoring/concept-sign-ins.md) in the [Azure Active Directory admin center](https://aad.portal.azure.com/).</span></span>

![Azure Active Directory admin center: Sign-ins report](./media/active-directory-aadconnect-sso/sso9.png)

<span data-ttu-id="9633e-134">Browse to **Azure Active Directory** > **Sign-ins** in the [Azure Active Directory admin center](https://aad.portal.azure.com/), and then select a specific user's sign-in activity.</span><span class="sxs-lookup"><span data-stu-id="9633e-134">Browse to **Azure Active Directory** > **Sign-ins** in the [Azure Active Directory admin center](https://aad.portal.azure.com/), and then select a specific user's sign-in activity.</span></span> <span data-ttu-id="9633e-135">Look for the **SIGN-IN ERROR CODE** field.</span><span class="sxs-lookup"><span data-stu-id="9633e-135">Look for the **SIGN-IN ERROR CODE** field.</span></span> <span data-ttu-id="9633e-136">Map the value of that field to a failure reason and resolution by using the following table:</span><span class="sxs-lookup"><span data-stu-id="9633e-136">Map the value of that field to a failure reason and resolution by using the following table:</span></span>

|<span data-ttu-id="9633e-137">Sign-in error code</span><span class="sxs-lookup"><span data-stu-id="9633e-137">Sign-in error code</span></span>|<span data-ttu-id="9633e-138">Sign-in failure reason</span><span class="sxs-lookup"><span data-stu-id="9633e-138">Sign-in failure reason</span></span>|<span data-ttu-id="9633e-139">Resolution</span><span class="sxs-lookup"><span data-stu-id="9633e-139">Resolution</span></span>
| --- | --- | ---
| <span data-ttu-id="9633e-140">81001</span><span class="sxs-lookup"><span data-stu-id="9633e-140">81001</span></span> | <span data-ttu-id="9633e-141">User's Kerberos ticket is too large.</span><span class="sxs-lookup"><span data-stu-id="9633e-141">User's Kerberos ticket is too large.</span></span> | <span data-ttu-id="9633e-142">Reduce the user's group memberships and try again.</span><span class="sxs-lookup"><span data-stu-id="9633e-142">Reduce the user's group memberships and try again.</span></span>
| <span data-ttu-id="9633e-143">81002</span><span class="sxs-lookup"><span data-stu-id="9633e-143">81002</span></span> | <span data-ttu-id="9633e-144">Unable to validate the user's Kerberos ticket.</span><span class="sxs-lookup"><span data-stu-id="9633e-144">Unable to validate the user's Kerberos ticket.</span></span> | <span data-ttu-id="9633e-145">See the [troubleshooting checklist](#troubleshooting-checklist).</span><span class="sxs-lookup"><span data-stu-id="9633e-145">See the [troubleshooting checklist](#troubleshooting-checklist).</span></span>
| <span data-ttu-id="9633e-146">81003</span><span class="sxs-lookup"><span data-stu-id="9633e-146">81003</span></span> | <span data-ttu-id="9633e-147">Unable to validate the user's Kerberos ticket.</span><span class="sxs-lookup"><span data-stu-id="9633e-147">Unable to validate the user's Kerberos ticket.</span></span> | <span data-ttu-id="9633e-148">See the [troubleshooting checklist](#troubleshooting-checklist).</span><span class="sxs-lookup"><span data-stu-id="9633e-148">See the [troubleshooting checklist](#troubleshooting-checklist).</span></span>
| <span data-ttu-id="9633e-149">81004</span><span class="sxs-lookup"><span data-stu-id="9633e-149">81004</span></span> | <span data-ttu-id="9633e-150">Kerberos authentication attempt failed.</span><span class="sxs-lookup"><span data-stu-id="9633e-150">Kerberos authentication attempt failed.</span></span> | <span data-ttu-id="9633e-151">See the [troubleshooting checklist](#troubleshooting-checklist).</span><span class="sxs-lookup"><span data-stu-id="9633e-151">See the [troubleshooting checklist](#troubleshooting-checklist).</span></span>
| <span data-ttu-id="9633e-152">81008</span><span class="sxs-lookup"><span data-stu-id="9633e-152">81008</span></span> | <span data-ttu-id="9633e-153">Unable to validate the user's Kerberos ticket.</span><span class="sxs-lookup"><span data-stu-id="9633e-153">Unable to validate the user's Kerberos ticket.</span></span> | <span data-ttu-id="9633e-154">See the [troubleshooting checklist](#troubleshooting-checklist).</span><span class="sxs-lookup"><span data-stu-id="9633e-154">See the [troubleshooting checklist](#troubleshooting-checklist).</span></span>
| <span data-ttu-id="9633e-155">81009</span><span class="sxs-lookup"><span data-stu-id="9633e-155">81009</span></span> | <span data-ttu-id="9633e-156">Unable to validate the user's Kerberos ticket.</span><span class="sxs-lookup"><span data-stu-id="9633e-156">Unable to validate the user's Kerberos ticket.</span></span> | <span data-ttu-id="9633e-157">See the [troubleshooting checklist](#troubleshooting-checklist).</span><span class="sxs-lookup"><span data-stu-id="9633e-157">See the [troubleshooting checklist](#troubleshooting-checklist).</span></span>
| <span data-ttu-id="9633e-158">81010</span><span class="sxs-lookup"><span data-stu-id="9633e-158">81010</span></span> | <span data-ttu-id="9633e-159">Seamless SSO failed because the user's Kerberos ticket has expired or is invalid.</span><span class="sxs-lookup"><span data-stu-id="9633e-159">Seamless SSO failed because the user's Kerberos ticket has expired or is invalid.</span></span> | <span data-ttu-id="9633e-160">The user needs to sign in from a domain-joined device inside your corporate network.</span><span class="sxs-lookup"><span data-stu-id="9633e-160">The user needs to sign in from a domain-joined device inside your corporate network.</span></span>
| <span data-ttu-id="9633e-161">81011</span><span class="sxs-lookup"><span data-stu-id="9633e-161">81011</span></span> | <span data-ttu-id="9633e-162">Unable to find the user object based on the information in the user's Kerberos ticket.</span><span class="sxs-lookup"><span data-stu-id="9633e-162">Unable to find the user object based on the information in the user's Kerberos ticket.</span></span> | <span data-ttu-id="9633e-163">Use Azure AD Connect to synchronize the user's information into Azure AD.</span><span class="sxs-lookup"><span data-stu-id="9633e-163">Use Azure AD Connect to synchronize the user's information into Azure AD.</span></span>
| <span data-ttu-id="9633e-164">81012</span><span class="sxs-lookup"><span data-stu-id="9633e-164">81012</span></span> | <span data-ttu-id="9633e-165">The user trying to sign in to Azure AD is different from the user that is signed in to the device.</span><span class="sxs-lookup"><span data-stu-id="9633e-165">The user trying to sign in to Azure AD is different from the user that is signed in to the device.</span></span> | <span data-ttu-id="9633e-166">The user needs to sign in from a different device.</span><span class="sxs-lookup"><span data-stu-id="9633e-166">The user needs to sign in from a different device.</span></span>
| <span data-ttu-id="9633e-167">81013</span><span class="sxs-lookup"><span data-stu-id="9633e-167">81013</span></span> | <span data-ttu-id="9633e-168">Unable to find the user object based on the information in the user's Kerberos ticket.</span><span class="sxs-lookup"><span data-stu-id="9633e-168">Unable to find the user object based on the information in the user's Kerberos ticket.</span></span> |<span data-ttu-id="9633e-169">Use Azure AD Connect to synchronize the user's information into Azure AD.</span><span class="sxs-lookup"><span data-stu-id="9633e-169">Use Azure AD Connect to synchronize the user's information into Azure AD.</span></span> 

## <a name="troubleshooting-checklist"></a><span data-ttu-id="9633e-170">Troubleshooting checklist</span><span class="sxs-lookup"><span data-stu-id="9633e-170">Troubleshooting checklist</span></span>

<span data-ttu-id="9633e-171">Use the following checklist to troubleshoot Seamless SSO problems:</span><span class="sxs-lookup"><span data-stu-id="9633e-171">Use the following checklist to troubleshoot Seamless SSO problems:</span></span>

- <span data-ttu-id="9633e-172">Ensure that the Seamless SSO feature is enabled in Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="9633e-172">Ensure that the Seamless SSO feature is enabled in Azure AD Connect.</span></span> <span data-ttu-id="9633e-173">If you can't enable the feature (for example, due to a blocked port), ensure that you have all the [prerequisites](active-directory-aadconnect-sso-quick-start.md#step-1-check-the-prerequisites) in place.</span><span class="sxs-lookup"><span data-stu-id="9633e-173">If you can't enable the feature (for example, due to a blocked port), ensure that you have all the [prerequisites](active-directory-aadconnect-sso-quick-start.md#step-1-check-the-prerequisites) in place.</span></span>
- <span data-ttu-id="9633e-174">If you have enabled both [Azure AD Join](../active-directory-azureadjoin-overview.md) and Seamless SSO on your tenant, ensure that the issue is not with Azure AD Join.</span><span class="sxs-lookup"><span data-stu-id="9633e-174">If you have enabled both [Azure AD Join](../active-directory-azureadjoin-overview.md) and Seamless SSO on your tenant, ensure that the issue is not with Azure AD Join.</span></span> <span data-ttu-id="9633e-175">SSO from Azure AD Join takes precedence over Seamless SSO if the device is both registered with Azure AD and domain-joined.</span><span class="sxs-lookup"><span data-stu-id="9633e-175">SSO from Azure AD Join takes precedence over Seamless SSO if the device is both registered with Azure AD and domain-joined.</span></span> <span data-ttu-id="9633e-176">With SSO from Azure AD Join the user sees a sign-in tile that says "Connected to Windows".</span><span class="sxs-lookup"><span data-stu-id="9633e-176">With SSO from Azure AD Join the user sees a sign-in tile that says "Connected to Windows".</span></span>
- <span data-ttu-id="9633e-177">Ensure that the Azure AD URL (https://autologon.microsoftazuread-sso.com) is part of the user's Intranet zone settings.</span><span class="sxs-lookup"><span data-stu-id="9633e-177">Ensure that the Azure AD URL (https://autologon.microsoftazuread-sso.com) is part of the user's Intranet zone settings.</span></span>
- <span data-ttu-id="9633e-178">Ensure that the corporate device is joined to the Active Directory domain.</span><span class="sxs-lookup"><span data-stu-id="9633e-178">Ensure that the corporate device is joined to the Active Directory domain.</span></span> <span data-ttu-id="9633e-179">The device _doesn't_ need to be [Azure AD Joined](../active-directory-azureadjoin-overview.md) for Seamless SSO to work.</span><span class="sxs-lookup"><span data-stu-id="9633e-179">The device _doesn't_ need to be [Azure AD Joined](../active-directory-azureadjoin-overview.md) for Seamless SSO to work.</span></span>
- <span data-ttu-id="9633e-180">Ensure that the user is logged on to the device through an Active Directory domain account.</span><span class="sxs-lookup"><span data-stu-id="9633e-180">Ensure that the user is logged on to the device through an Active Directory domain account.</span></span>
- <span data-ttu-id="9633e-181">Ensure that the user's account is from an Active Directory forest where Seamless SSO has been set up.</span><span class="sxs-lookup"><span data-stu-id="9633e-181">Ensure that the user's account is from an Active Directory forest where Seamless SSO has been set up.</span></span>
- <span data-ttu-id="9633e-182">Ensure that the device is connected to the corporate network.</span><span class="sxs-lookup"><span data-stu-id="9633e-182">Ensure that the device is connected to the corporate network.</span></span>
- <span data-ttu-id="9633e-183">Ensure that the device's time is synchronized with the time in both Active Directory and the domain controllers, and that they are within five minutes of each other.</span><span class="sxs-lookup"><span data-stu-id="9633e-183">Ensure that the device's time is synchronized with the time in both Active Directory and the domain controllers, and that they are within five minutes of each other.</span></span>
- <span data-ttu-id="9633e-184">Ensure that the `AZUREADSSOACCT` computer account is present and enabled in each AD forest that you want Seamless SSO enabled.</span><span class="sxs-lookup"><span data-stu-id="9633e-184">Ensure that the `AZUREADSSOACCT` computer account is present and enabled in each AD forest that you want Seamless SSO enabled.</span></span> <span data-ttu-id="9633e-185">If the computer account has been deleted or is missing, you can use [PowerShell cmdlets](#manual-reset-of-the-feature) to re-create them.</span><span class="sxs-lookup"><span data-stu-id="9633e-185">If the computer account has been deleted or is missing, you can use [PowerShell cmdlets](#manual-reset-of-the-feature) to re-create them.</span></span>
- <span data-ttu-id="9633e-186">List the existing Kerberos tickets on the device by using the `klist` command from a command prompt.</span><span class="sxs-lookup"><span data-stu-id="9633e-186">List the existing Kerberos tickets on the device by using the `klist` command from a command prompt.</span></span> <span data-ttu-id="9633e-187">Ensure that the tickets issued for the `AZUREADSSOACCT` computer account are present.</span><span class="sxs-lookup"><span data-stu-id="9633e-187">Ensure that the tickets issued for the `AZUREADSSOACCT` computer account are present.</span></span> <span data-ttu-id="9633e-188">Users' Kerberos tickets are typically valid for 10 hours.</span><span class="sxs-lookup"><span data-stu-id="9633e-188">Users' Kerberos tickets are typically valid for 10 hours.</span></span> <span data-ttu-id="9633e-189">You might have different settings in Active Directory.</span><span class="sxs-lookup"><span data-stu-id="9633e-189">You might have different settings in Active Directory.</span></span>
- <span data-ttu-id="9633e-190">If you disabled and re-enabled Seamless SSO on your tenant, users will not get the single sign-on experience till their cached Kerberos tickets have expired.</span><span class="sxs-lookup"><span data-stu-id="9633e-190">If you disabled and re-enabled Seamless SSO on your tenant, users will not get the single sign-on experience till their cached Kerberos tickets have expired.</span></span>
- <span data-ttu-id="9633e-191">Purge existing Kerberos tickets from the device by using the `klist purge` command, and try again.</span><span class="sxs-lookup"><span data-stu-id="9633e-191">Purge existing Kerberos tickets from the device by using the `klist purge` command, and try again.</span></span>
- <span data-ttu-id="9633e-192">To determine if there are JavaScript-related problems, review the console logs of the browser (under **Developer Tools**).</span><span class="sxs-lookup"><span data-stu-id="9633e-192">To determine if there are JavaScript-related problems, review the console logs of the browser (under **Developer Tools**).</span></span>
- <span data-ttu-id="9633e-193">Review the [domain controller logs](#domain-controller-logs).</span><span class="sxs-lookup"><span data-stu-id="9633e-193">Review the [domain controller logs](#domain-controller-logs).</span></span>

### <a name="domain-controller-logs"></a><span data-ttu-id="9633e-194">Domain controller logs</span><span class="sxs-lookup"><span data-stu-id="9633e-194">Domain controller logs</span></span>

<span data-ttu-id="9633e-195">If you enable success auditing on your domain controller, then every time a user signs in through Seamless SSO, a security entry is recorded in the event log.</span><span class="sxs-lookup"><span data-stu-id="9633e-195">If you enable success auditing on your domain controller, then every time a user signs in through Seamless SSO, a security entry is recorded in the event log.</span></span> <span data-ttu-id="9633e-196">You can find these security events by using the following query.</span><span class="sxs-lookup"><span data-stu-id="9633e-196">You can find these security events by using the following query.</span></span> <span data-ttu-id="9633e-197">(Look for event **4769** associated with the computer account **AzureADSSOAcc$**.)</span><span class="sxs-lookup"><span data-stu-id="9633e-197">(Look for event **4769** associated with the computer account **AzureADSSOAcc$**.)</span></span>

```
    <QueryList>
      <Query Id="0" Path="Security">
    <Select Path="Security">*[EventData[Data[@Name='ServiceName'] and (Data='AZUREADSSOACC$')]]</Select>
      </Query>
    </QueryList>
```

## <a name="manual-reset-of-the-feature"></a><span data-ttu-id="9633e-198">Manual reset of the feature</span><span class="sxs-lookup"><span data-stu-id="9633e-198">Manual reset of the feature</span></span>

<span data-ttu-id="9633e-199">If troubleshooting didn't help, you can manually reset the feature on your tenant.</span><span class="sxs-lookup"><span data-stu-id="9633e-199">If troubleshooting didn't help, you can manually reset the feature on your tenant.</span></span> <span data-ttu-id="9633e-200">Follow these steps on the on-premises server where you're running Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="9633e-200">Follow these steps on the on-premises server where you're running Azure AD Connect.</span></span>

### <a name="step-1-import-the-seamless-sso-powershell-module"></a><span data-ttu-id="9633e-201">Step 1: Import the Seamless SSO PowerShell module</span><span class="sxs-lookup"><span data-stu-id="9633e-201">Step 1: Import the Seamless SSO PowerShell module</span></span>

1. <span data-ttu-id="9633e-202">First, download, and install [Azure AD PowerShell](https://docs.microsoft.com/powershell/azure/active-directory/overview).</span><span class="sxs-lookup"><span data-stu-id="9633e-202">First, download, and install [Azure AD PowerShell](https://docs.microsoft.com/powershell/azure/active-directory/overview).</span></span>
2. <span data-ttu-id="9633e-203">Browse to the `%programfiles%\Microsoft Azure Active Directory Connect` folder.</span><span class="sxs-lookup"><span data-stu-id="9633e-203">Browse to the `%programfiles%\Microsoft Azure Active Directory Connect` folder.</span></span>
3. <span data-ttu-id="9633e-204">Import the Seamless SSO PowerShell module by using this command: `Import-Module .\AzureADSSO.psd1`.</span><span class="sxs-lookup"><span data-stu-id="9633e-204">Import the Seamless SSO PowerShell module by using this command: `Import-Module .\AzureADSSO.psd1`.</span></span>

### <a name="step-2-get-the-list-of-active-directory-forests-on-which-seamless-sso-has-been-enabled"></a><span data-ttu-id="9633e-205">Step 2: Get the list of Active Directory forests on which Seamless SSO has been enabled</span><span class="sxs-lookup"><span data-stu-id="9633e-205">Step 2: Get the list of Active Directory forests on which Seamless SSO has been enabled</span></span>

1. <span data-ttu-id="9633e-206">Run PowerShell as an administrator.</span><span class="sxs-lookup"><span data-stu-id="9633e-206">Run PowerShell as an administrator.</span></span> <span data-ttu-id="9633e-207">In PowerShell, call `New-AzureADSSOAuthenticationContext`.</span><span class="sxs-lookup"><span data-stu-id="9633e-207">In PowerShell, call `New-AzureADSSOAuthenticationContext`.</span></span> <span data-ttu-id="9633e-208">When prompted, enter your tenant's global administrator credentials.</span><span class="sxs-lookup"><span data-stu-id="9633e-208">When prompted, enter your tenant's global administrator credentials.</span></span>
2. <span data-ttu-id="9633e-209">Call `Get-AzureADSSOStatus`.</span><span class="sxs-lookup"><span data-stu-id="9633e-209">Call `Get-AzureADSSOStatus`.</span></span> <span data-ttu-id="9633e-210">This command provides you with the list of Active Directory forests (look at the "Domains" list) on which this feature has been enabled.</span><span class="sxs-lookup"><span data-stu-id="9633e-210">This command provides you with the list of Active Directory forests (look at the "Domains" list) on which this feature has been enabled.</span></span>

### <a name="step-3-disable-seamless-sso-for-each-active-directory-forest-where-youve-set-up-the-feature"></a><span data-ttu-id="9633e-211">Step 3: Disable Seamless SSO for each Active Directory forest where you've set up the feature</span><span class="sxs-lookup"><span data-stu-id="9633e-211">Step 3: Disable Seamless SSO for each Active Directory forest where you've set up the feature</span></span>

1. <span data-ttu-id="9633e-212">Call `$creds = Get-Credential`.</span><span class="sxs-lookup"><span data-stu-id="9633e-212">Call `$creds = Get-Credential`.</span></span> <span data-ttu-id="9633e-213">When prompted, enter the domain administrator credentials for the intended Active Directory forest.</span><span class="sxs-lookup"><span data-stu-id="9633e-213">When prompted, enter the domain administrator credentials for the intended Active Directory forest.</span></span>

    >[!NOTE]
    ><span data-ttu-id="9633e-214">We use the Domain Administrator's username, provided in the User Principal Names (UPN) (johndoe@contoso.com) format or the domain qualified sam-account name (contoso\johndoe or contoso.com\johndoe) format, to find the intended AD forest.</span><span class="sxs-lookup"><span data-stu-id="9633e-214">We use the Domain Administrator's username, provided in the User Principal Names (UPN) (johndoe@contoso.com) format or the domain qualified sam-account name (contoso\johndoe or contoso.com\johndoe) format, to find the intended AD forest.</span></span> <span data-ttu-id="9633e-215">If you use domain qualified sam-account name, we use the domain portion of the username to [locate the Domain Controller of the Domain Administrator using DNS](https://social.technet.microsoft.com/wiki/contents/articles/24457.how-domain-controllers-are-located-in-windows.aspx).</span><span class="sxs-lookup"><span data-stu-id="9633e-215">If you use domain qualified sam-account name, we use the domain portion of the username to [locate the Domain Controller of the Domain Administrator using DNS](https://social.technet.microsoft.com/wiki/contents/articles/24457.how-domain-controllers-are-located-in-windows.aspx).</span></span> <span data-ttu-id="9633e-216">If you use UPN instead, we [translate it to a domain qualified sam-account name](https://docs.microsoft.com/windows/desktop/api/ntdsapi/nf-ntdsapi-dscracknamesa) before locating the appropriate Domain Controller.</span><span class="sxs-lookup"><span data-stu-id="9633e-216">If you use UPN instead, we [translate it to a domain qualified sam-account name](https://docs.microsoft.com/windows/desktop/api/ntdsapi/nf-ntdsapi-dscracknamesa) before locating the appropriate Domain Controller.</span></span>

2. <span data-ttu-id="9633e-217">Call `Disable-AzureADSSOForest -OnPremCredentials $creds`.</span><span class="sxs-lookup"><span data-stu-id="9633e-217">Call `Disable-AzureADSSOForest -OnPremCredentials $creds`.</span></span> <span data-ttu-id="9633e-218">This command removes the `AZUREADSSOACCT` computer account from the on-premises domain controller for this specific Active Directory forest.</span><span class="sxs-lookup"><span data-stu-id="9633e-218">This command removes the `AZUREADSSOACCT` computer account from the on-premises domain controller for this specific Active Directory forest.</span></span>
3. <span data-ttu-id="9633e-219">Repeat the preceding steps for each Active Directory forest where you’ve set up the feature.</span><span class="sxs-lookup"><span data-stu-id="9633e-219">Repeat the preceding steps for each Active Directory forest where you’ve set up the feature.</span></span>

### <a name="step-4-enable-seamless-sso-for-each-active-directory-forest"></a><span data-ttu-id="9633e-220">Step 4: Enable Seamless SSO for each Active Directory forest</span><span class="sxs-lookup"><span data-stu-id="9633e-220">Step 4: Enable Seamless SSO for each Active Directory forest</span></span>

1. <span data-ttu-id="9633e-221">Call `Enable-AzureADSSOForest`.</span><span class="sxs-lookup"><span data-stu-id="9633e-221">Call `Enable-AzureADSSOForest`.</span></span> <span data-ttu-id="9633e-222">When prompted, enter the domain administrator credentials for the intended Active Directory forest.</span><span class="sxs-lookup"><span data-stu-id="9633e-222">When prompted, enter the domain administrator credentials for the intended Active Directory forest.</span></span>

   >[!NOTE]
   ><span data-ttu-id="9633e-223">We use the Domain Administrator's username, provided in the User Principal Names (UPN) (johndoe@contoso.com) format or the domain qualified sam-account name (contoso\johndoe or contoso.com\johndoe) format, to find the intended AD forest.</span><span class="sxs-lookup"><span data-stu-id="9633e-223">We use the Domain Administrator's username, provided in the User Principal Names (UPN) (johndoe@contoso.com) format or the domain qualified sam-account name (contoso\johndoe or contoso.com\johndoe) format, to find the intended AD forest.</span></span> <span data-ttu-id="9633e-224">If you use domain qualified sam-account name, we use the domain portion of the username to [locate the Domain Controller of the Domain Administrator using DNS](https://social.technet.microsoft.com/wiki/contents/articles/24457.how-domain-controllers-are-located-in-windows.aspx).</span><span class="sxs-lookup"><span data-stu-id="9633e-224">If you use domain qualified sam-account name, we use the domain portion of the username to [locate the Domain Controller of the Domain Administrator using DNS](https://social.technet.microsoft.com/wiki/contents/articles/24457.how-domain-controllers-are-located-in-windows.aspx).</span></span> <span data-ttu-id="9633e-225">If you use UPN instead, we [translate it to a domain qualified sam-account name](https://docs.microsoft.com/windows/desktop/api/ntdsapi/nf-ntdsapi-dscracknamesa) before locating the appropriate Domain Controller.</span><span class="sxs-lookup"><span data-stu-id="9633e-225">If you use UPN instead, we [translate it to a domain qualified sam-account name](https://docs.microsoft.com/windows/desktop/api/ntdsapi/nf-ntdsapi-dscracknamesa) before locating the appropriate Domain Controller.</span></span>

2. <span data-ttu-id="9633e-226">Repeat the preceding step for each Active Directory forest where you want to set up the feature.</span><span class="sxs-lookup"><span data-stu-id="9633e-226">Repeat the preceding step for each Active Directory forest where you want to set up the feature.</span></span>

### <a name="step-5-enable-the-feature-on-your-tenant"></a><span data-ttu-id="9633e-227">Step 5.</span><span class="sxs-lookup"><span data-stu-id="9633e-227">Step 5.</span></span> <span data-ttu-id="9633e-228">Enable the feature on your tenant</span><span class="sxs-lookup"><span data-stu-id="9633e-228">Enable the feature on your tenant</span></span>

<span data-ttu-id="9633e-229">To turn on the feature on your tenant, call `Enable-AzureADSSO -Enable $true`.</span><span class="sxs-lookup"><span data-stu-id="9633e-229">To turn on the feature on your tenant, call `Enable-AzureADSSO -Enable $true`.</span></span>
