---
title: 'Azure AD Connect: Version release history | Microsoft Docs'
description: This article lists all releases of Azure AD Connect and Azure AD Sync
services: active-directory
documentationcenter: ''
author: billmath
manager: mtillman
editor: ''
ms.assetid: ef2797d7-d440-4a9a-a648-db32ad137494
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 09/06/2018
ms.component: hybrid
ms.author: billmath
ms.openlocfilehash: 5de5177db92e4069710e597a41c44287e5af90b2
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44789365"
---
# <a name="azure-ad-connect-version-release-history"></a><span data-ttu-id="a311f-103">Azure AD Connect: Version release history</span><span class="sxs-lookup"><span data-stu-id="a311f-103">Azure AD Connect: Version release history</span></span>
<span data-ttu-id="a311f-104">The Azure Active Directory (Azure AD) team regularly updates Azure AD Connect with new features and functionality.</span><span class="sxs-lookup"><span data-stu-id="a311f-104">The Azure Active Directory (Azure AD) team regularly updates Azure AD Connect with new features and functionality.</span></span> <span data-ttu-id="a311f-105">Not all additions are applicable to all audiences.</span><span class="sxs-lookup"><span data-stu-id="a311f-105">Not all additions are applicable to all audiences.</span></span>


<span data-ttu-id="a311f-106">This article is designed to help you keep track of the versions that have been released, and to understand what the changes are in the latest version.</span><span class="sxs-lookup"><span data-stu-id="a311f-106">This article is designed to help you keep track of the versions that have been released, and to understand what the changes are in the latest version.</span></span>

<span data-ttu-id="a311f-107">This table is a list of related topics:</span><span class="sxs-lookup"><span data-stu-id="a311f-107">This table is a list of related topics:</span></span>

<span data-ttu-id="a311f-108">Topic</span><span class="sxs-lookup"><span data-stu-id="a311f-108">Topic</span></span> |  <span data-ttu-id="a311f-109">Details</span><span class="sxs-lookup"><span data-stu-id="a311f-109">Details</span></span>
--------- | --------- |
<span data-ttu-id="a311f-110">Steps to upgrade from Azure AD Connect</span><span class="sxs-lookup"><span data-stu-id="a311f-110">Steps to upgrade from Azure AD Connect</span></span> | <span data-ttu-id="a311f-111">Different methods to [upgrade from a previous version to the latest](active-directory-aadconnect-upgrade-previous-version.md) Azure AD Connect release.</span><span class="sxs-lookup"><span data-stu-id="a311f-111">Different methods to [upgrade from a previous version to the latest](active-directory-aadconnect-upgrade-previous-version.md) Azure AD Connect release.</span></span>
<span data-ttu-id="a311f-112">Required permissions</span><span class="sxs-lookup"><span data-stu-id="a311f-112">Required permissions</span></span> | <span data-ttu-id="a311f-113">For permissions required to apply an update, see [accounts and permissions](./active-directory-aadconnect-accounts-permissions.md#upgrade).</span><span class="sxs-lookup"><span data-stu-id="a311f-113">For permissions required to apply an update, see [accounts and permissions](./active-directory-aadconnect-accounts-permissions.md#upgrade).</span></span>

<span data-ttu-id="a311f-114">Download| [Download Azure AD Connect](http://go.microsoft.com/fwlink/?LinkId=615771).</span><span class="sxs-lookup"><span data-stu-id="a311f-114">Download| [Download Azure AD Connect](http://go.microsoft.com/fwlink/?LinkId=615771).</span></span>


 
## <a name="118820"></a><span data-ttu-id="a311f-115">1.1.882.0</span><span class="sxs-lookup"><span data-stu-id="a311f-115">1.1.882.0</span></span>  

<span data-ttu-id="a311f-116">9/7/2018: released for download, will not be release for auto upgrade</span><span class="sxs-lookup"><span data-stu-id="a311f-116">9/7/2018: released for download, will not be release for auto upgrade</span></span> 

### <a name="fixed-issues"></a><span data-ttu-id="a311f-117">Fixed issues</span><span class="sxs-lookup"><span data-stu-id="a311f-117">Fixed issues</span></span>  

<span data-ttu-id="a311f-118">Azure AD Connect Upgrade fails if SQL Always On Availability is configured for the ADSync DB.</span><span class="sxs-lookup"><span data-stu-id="a311f-118">Azure AD Connect Upgrade fails if SQL Always On Availability is configured for the ADSync DB.</span></span> <span data-ttu-id="a311f-119">This hotfix addresses this issue and allows Upgrade to succeed.</span><span class="sxs-lookup"><span data-stu-id="a311f-119">This hotfix addresses this issue and allows Upgrade to succeed.</span></span> 

## <a name="118800"></a><span data-ttu-id="a311f-120">1.1.880.0</span><span class="sxs-lookup"><span data-stu-id="a311f-120">1.1.880.0</span></span>

### <a name="release-status"></a><span data-ttu-id="a311f-121">Release status</span><span class="sxs-lookup"><span data-stu-id="a311f-121">Release status</span></span>

<span data-ttu-id="a311f-122">8/21/2018: Released for download and auto upgrade.</span><span class="sxs-lookup"><span data-stu-id="a311f-122">8/21/2018: Released for download and auto upgrade.</span></span> 

### <a name="new-features-and-improvements"></a><span data-ttu-id="a311f-123">New features and improvements</span><span class="sxs-lookup"><span data-stu-id="a311f-123">New features and improvements</span></span>

- <span data-ttu-id="a311f-124">The Ping Federate integration in Azure AD Connect is now available for General Availability.</span><span class="sxs-lookup"><span data-stu-id="a311f-124">The Ping Federate integration in Azure AD Connect is now available for General Availability.</span></span> [<span data-ttu-id="a311f-125">Learn more about how to federated Azure AD with Ping Federate</span><span class="sxs-lookup"><span data-stu-id="a311f-125">Learn more about how to federated Azure AD with Ping Federate</span></span>](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-user-signin#federation-with-pingfederate)
- <span data-ttu-id="a311f-126">Azure AD Connect now creates the backup of Azure AD trust in AD FS every time an update is made and stores it in a separate file for easy restore if required.</span><span class="sxs-lookup"><span data-stu-id="a311f-126">Azure AD Connect now creates the backup of Azure AD trust in AD FS every time an update is made and stores it in a separate file for easy restore if required.</span></span> <span data-ttu-id="a311f-127">[Learn more about the new functionality and Azure AD trust management in Azure AD Connect ](https://aka.ms/fedtrustinaadconnect).</span><span class="sxs-lookup"><span data-stu-id="a311f-127">[Learn more about the new functionality and Azure AD trust management in Azure AD Connect ](https://aka.ms/fedtrustinaadconnect).</span></span>
- <span data-ttu-id="a311f-128">New troubleshooting tooling helps troubleshoot changing primary email address and hiding account from global address list</span><span class="sxs-lookup"><span data-stu-id="a311f-128">New troubleshooting tooling helps troubleshoot changing primary email address and hiding account from global address list</span></span>
- <span data-ttu-id="a311f-129">Azure AD Connect was updated to include the latest SQL Server 2012 Native Client</span><span class="sxs-lookup"><span data-stu-id="a311f-129">Azure AD Connect was updated to include the latest SQL Server 2012 Native Client</span></span>
- <span data-ttu-id="a311f-130">When you switch user sign-in to Password Hash Synchronization or Pass-through Authentication in the "Change user sign-in" task, the Seamless Single Sign-On checkbox is enabled by default.</span><span class="sxs-lookup"><span data-stu-id="a311f-130">When you switch user sign-in to Password Hash Synchronization or Pass-through Authentication in the "Change user sign-in" task, the Seamless Single Sign-On checkbox is enabled by default.</span></span>
- <span data-ttu-id="a311f-131">Added support for Windows Server Essentials 2019</span><span class="sxs-lookup"><span data-stu-id="a311f-131">Added support for Windows Server Essentials 2019</span></span>
- <span data-ttu-id="a311f-132">The Azure AD Connect Health agent was updated to the latest version 3.1.7.0</span><span class="sxs-lookup"><span data-stu-id="a311f-132">The Azure AD Connect Health agent was updated to the latest version 3.1.7.0</span></span>
- <span data-ttu-id="a311f-133">During an upgrade, if the installer detects changes to the default sync rules, the admin is prompted with a warning before overwriting the modified rules.</span><span class="sxs-lookup"><span data-stu-id="a311f-133">During an upgrade, if the installer detects changes to the default sync rules, the admin is prompted with a warning before overwriting the modified rules.</span></span> <span data-ttu-id="a311f-134">This will allow the user to take corrective actions and resume later.</span><span class="sxs-lookup"><span data-stu-id="a311f-134">This will allow the user to take corrective actions and resume later.</span></span> <span data-ttu-id="a311f-135">Old Behavior: If there was any modified out-of-box rule then manual upgrade was overwriting those rules without giving any warning to the user and sync scheduler was disabled without informing user.</span><span class="sxs-lookup"><span data-stu-id="a311f-135">Old Behavior: If there was any modified out-of-box rule then manual upgrade was overwriting those rules without giving any warning to the user and sync scheduler was disabled without informing user.</span></span> <span data-ttu-id="a311f-136">New Behavior: User will be prompted with warning before overwriting the modified out-of-box sync rules.</span><span class="sxs-lookup"><span data-stu-id="a311f-136">New Behavior: User will be prompted with warning before overwriting the modified out-of-box sync rules.</span></span> <span data-ttu-id="a311f-137">User will have choice to stop the upgrade process and resume later after taking corrective action.</span><span class="sxs-lookup"><span data-stu-id="a311f-137">User will have choice to stop the upgrade process and resume later after taking corrective action.</span></span>
- <span data-ttu-id="a311f-138">Provide a better handling of a FIPS compliance issue, providing an error message for MD5 hash generation in a FIPS compliant environment and a link to documentation that provides a work around for this issue.</span><span class="sxs-lookup"><span data-stu-id="a311f-138">Provide a better handling of a FIPS compliance issue, providing an error message for MD5 hash generation in a FIPS compliant environment and a link to documentation that provides a work around for this issue.</span></span>
- <span data-ttu-id="a311f-139">UI update to improve federation tasks in the wizard, which are now under a separate sub group for federation.</span><span class="sxs-lookup"><span data-stu-id="a311f-139">UI update to improve federation tasks in the wizard, which are now under a separate sub group for federation.</span></span> 
- <span data-ttu-id="a311f-140">All federation additional tasks are now grouped under a single sub-menu for ease of use.</span><span class="sxs-lookup"><span data-stu-id="a311f-140">All federation additional tasks are now grouped under a single sub-menu for ease of use.</span></span>
- <span data-ttu-id="a311f-141">A new revamped ADSyncConfig Posh Module (AdSyncConfig.psm1) with new AD Permissions functions moved from the old ADSyncPrep.psm1 (which may be deprecated shortly)</span><span class="sxs-lookup"><span data-stu-id="a311f-141">A new revamped ADSyncConfig Posh Module (AdSyncConfig.psm1) with new AD Permissions functions moved from the old ADSyncPrep.psm1 (which may be deprecated shortly)</span></span>

### <a name="fixed-issues"></a><span data-ttu-id="a311f-142">Fixed issues</span><span class="sxs-lookup"><span data-stu-id="a311f-142">Fixed issues</span></span> 

- <span data-ttu-id="a311f-143">Fixed a bug where the AAD Connect server would show high CPU usage after upgrading to .Net 4.7.2</span><span class="sxs-lookup"><span data-stu-id="a311f-143">Fixed a bug where the AAD Connect server would show high CPU usage after upgrading to .Net 4.7.2</span></span>
- <span data-ttu-id="a311f-144">Fixed a bug that would intermittently produce an error message for an auto-resolved SQL deadlock issue</span><span class="sxs-lookup"><span data-stu-id="a311f-144">Fixed a bug that would intermittently produce an error message for an auto-resolved SQL deadlock issue</span></span>
- <span data-ttu-id="a311f-145">Fixed several accessibility issues for the Sync Rules Editor and the Sync Service Manager</span><span class="sxs-lookup"><span data-stu-id="a311f-145">Fixed several accessibility issues for the Sync Rules Editor and the Sync Service Manager</span></span>  
- <span data-ttu-id="a311f-146">Fixed a bug where Azure AD Connect can not get registry setting information</span><span class="sxs-lookup"><span data-stu-id="a311f-146">Fixed a bug where Azure AD Connect can not get registry setting information</span></span>
- <span data-ttu-id="a311f-147">Fixed a bug that created issues when the user goes forward/back in the wizard</span><span class="sxs-lookup"><span data-stu-id="a311f-147">Fixed a bug that created issues when the user goes forward/back in the wizard</span></span>
- <span data-ttu-id="a311f-148">Fixed a bug to prevent an error happening due to incorrect multi thread handing in the wizard</span><span class="sxs-lookup"><span data-stu-id="a311f-148">Fixed a bug to prevent an error happening due to incorrect multi thread handing in the wizard</span></span>
- <span data-ttu-id="a311f-149">When Group Sync Filtering page encounters an LDAP error when resolving security groups, Azure AD Connect now returns the exception with full fidelity.</span><span class="sxs-lookup"><span data-stu-id="a311f-149">When Group Sync Filtering page encounters an LDAP error when resolving security groups, Azure AD Connect now returns the exception with full fidelity.</span></span>  <span data-ttu-id="a311f-150">The root cause for the referral exception is still unknown and will be addressed by a different bug.</span><span class="sxs-lookup"><span data-stu-id="a311f-150">The root cause for the referral exception is still unknown and will be addressed by a different bug.</span></span>
-  <span data-ttu-id="a311f-151">Fixed a bug where permissions for STK and NGC keys (ms-DS-KeyCredentialLink attribute on User/Device objects for WHfB) were not correctly set.</span><span class="sxs-lookup"><span data-stu-id="a311f-151">Fixed a bug where permissions for STK and NGC keys (ms-DS-KeyCredentialLink attribute on User/Device objects for WHfB) were not correctly set.</span></span>     
- <span data-ttu-id="a311f-152">Fixed a bug where 'Set-ADSyncRestrictedPermissions’ was not called correctly</span><span class="sxs-lookup"><span data-stu-id="a311f-152">Fixed a bug where 'Set-ADSyncRestrictedPermissions’ was not called correctly</span></span>
-  <span data-ttu-id="a311f-153">Adding support for permission granting on Group Writeback in AADConnect's installation wizard</span><span class="sxs-lookup"><span data-stu-id="a311f-153">Adding support for permission granting on Group Writeback in AADConnect's installation wizard</span></span>
- <span data-ttu-id="a311f-154">When changing sign in method from Password Hash Sync to AD FS, Password Hash Sync was not disabled.</span><span class="sxs-lookup"><span data-stu-id="a311f-154">When changing sign in method from Password Hash Sync to AD FS, Password Hash Sync was not disabled.</span></span>
- <span data-ttu-id="a311f-155">Added verification for IPv6 addresses in AD FS configuration</span><span class="sxs-lookup"><span data-stu-id="a311f-155">Added verification for IPv6 addresses in AD FS configuration</span></span>
- <span data-ttu-id="a311f-156">Updated the notification message to inform that an existing configuration exists.</span><span class="sxs-lookup"><span data-stu-id="a311f-156">Updated the notification message to inform that an existing configuration exists.</span></span>
- <span data-ttu-id="a311f-157">Device writeback fails to detect container in untrusted forest.</span><span class="sxs-lookup"><span data-stu-id="a311f-157">Device writeback fails to detect container in untrusted forest.</span></span> <span data-ttu-id="a311f-158">This has been updated to provide a better error message and a link to the appropriate documentation</span><span class="sxs-lookup"><span data-stu-id="a311f-158">This has been updated to provide a better error message and a link to the appropriate documentation</span></span>
- <span data-ttu-id="a311f-159">Deselecting an OU and then synchronization/writeback corresponding to that OU gives a generic sync error.</span><span class="sxs-lookup"><span data-stu-id="a311f-159">Deselecting an OU and then synchronization/writeback corresponding to that OU gives a generic sync error.</span></span> <span data-ttu-id="a311f-160">This has been changed to create a more understandable error message.</span><span class="sxs-lookup"><span data-stu-id="a311f-160">This has been changed to create a more understandable error message.</span></span>

## <a name="118190"></a><span data-ttu-id="a311f-161">1.1.819.0</span><span class="sxs-lookup"><span data-stu-id="a311f-161">1.1.819.0</span></span>

### <a name="release-status"></a><span data-ttu-id="a311f-162">Release status</span><span class="sxs-lookup"><span data-stu-id="a311f-162">Release status</span></span>

<span data-ttu-id="a311f-163">5/14/2018: Released for auto upgrade and download.</span><span class="sxs-lookup"><span data-stu-id="a311f-163">5/14/2018: Released for auto upgrade and download.</span></span>

### <a name="new-features-and-improvements"></a><span data-ttu-id="a311f-164">New features and improvements</span><span class="sxs-lookup"><span data-stu-id="a311f-164">New features and improvements</span></span>

<span data-ttu-id="a311f-165">New features and improvements</span><span class="sxs-lookup"><span data-stu-id="a311f-165">New features and improvements</span></span>

- <span data-ttu-id="a311f-166">This release includes the public preview of the integration of PingFederate in Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="a311f-166">This release includes the public preview of the integration of PingFederate in Azure AD Connect.</span></span> <span data-ttu-id="a311f-167">With this release, customers can easily, and reliably configure their Azure Active Directory environment to leverage PingFederate as their federation provider.</span><span class="sxs-lookup"><span data-stu-id="a311f-167">With this release, customers can easily, and reliably configure their Azure Active Directory environment to leverage PingFederate as their federation provider.</span></span> <span data-ttu-id="a311f-168">To learn more about how to use this new feature, please visit our [online documentation](active-directory-aadconnect-user-signin.md#federation-with-pingfederate).</span><span class="sxs-lookup"><span data-stu-id="a311f-168">To learn more about how to use this new feature, please visit our [online documentation](active-directory-aadconnect-user-signin.md#federation-with-pingfederate).</span></span> 
- <span data-ttu-id="a311f-169">Updated the Azure AD Connect Wizard Troubleshooting Utility, where it now analyzes more error scenario’s, such as Linked Mailboxes and AD Dynamic Groups.</span><span class="sxs-lookup"><span data-stu-id="a311f-169">Updated the Azure AD Connect Wizard Troubleshooting Utility, where it now analyzes more error scenario’s, such as Linked Mailboxes and AD Dynamic Groups.</span></span> <span data-ttu-id="a311f-170">Read more about the troubleshooting utility [here](active-directory-aadconnect-troubleshoot-objectsync.md).</span><span class="sxs-lookup"><span data-stu-id="a311f-170">Read more about the troubleshooting utility [here](active-directory-aadconnect-troubleshoot-objectsync.md).</span></span>
- <span data-ttu-id="a311f-171">Device Writeback configuration is now managed solely within the Azure AD Connect Wizard.</span><span class="sxs-lookup"><span data-stu-id="a311f-171">Device Writeback configuration is now managed solely within the Azure AD Connect Wizard.</span></span>
- <span data-ttu-id="a311f-172">A new PowerShell Module called ADSyncTools.psm1 is added that can be used to troubleshoot SQL Connectivity issues and various other troubleshooting utilities.</span><span class="sxs-lookup"><span data-stu-id="a311f-172">A new PowerShell Module called ADSyncTools.psm1 is added that can be used to troubleshoot SQL Connectivity issues and various other troubleshooting utilities.</span></span> <span data-ttu-id="a311f-173">Read more about the ADSyncTools module [here](active-directory-aadconnect-tshoot-sql-connectivity.md).</span><span class="sxs-lookup"><span data-stu-id="a311f-173">Read more about the ADSyncTools module [here](active-directory-aadconnect-tshoot-sql-connectivity.md).</span></span> 
- <span data-ttu-id="a311f-174">A new additional task “Configure device options” has been added.</span><span class="sxs-lookup"><span data-stu-id="a311f-174">A new additional task “Configure device options” has been added.</span></span> <span data-ttu-id="a311f-175">You can use the task to configure the following two operations:</span><span class="sxs-lookup"><span data-stu-id="a311f-175">You can use the task to configure the following two operations:</span></span> 
    -   <span data-ttu-id="a311f-176">**Hybrid Azure AD join**: If your environment has an on-premises AD footprint and you also want benefit from the capabilities provided by Azure Active Directory, you can implement hybrid Azure AD joined devices.</span><span class="sxs-lookup"><span data-stu-id="a311f-176">**Hybrid Azure AD join**: If your environment has an on-premises AD footprint and you also want benefit from the capabilities provided by Azure Active Directory, you can implement hybrid Azure AD joined devices.</span></span> <span data-ttu-id="a311f-177">These are devices that are both, joined to your on-premises Active Directory and your Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="a311f-177">These are devices that are both, joined to your on-premises Active Directory and your Azure Active Directory.</span></span>
    -   <span data-ttu-id="a311f-178">**Device writeback**: Device writeback is used to enable conditional access based on devices to AD FS (2012 R2 or higher) protected devices</span><span class="sxs-lookup"><span data-stu-id="a311f-178">**Device writeback**: Device writeback is used to enable conditional access based on devices to AD FS (2012 R2 or higher) protected devices</span></span>

   >[!NOTE] 
   > - <span data-ttu-id="a311f-179">The option to enable device writeback from Customize synchronization options will be greyed out.</span><span class="sxs-lookup"><span data-stu-id="a311f-179">The option to enable device writeback from Customize synchronization options will be greyed out.</span></span> 
   > -  <span data-ttu-id="a311f-180">The PowerShell module for ADPrep is deprecated with this release.</span><span class="sxs-lookup"><span data-stu-id="a311f-180">The PowerShell module for ADPrep is deprecated with this release.</span></span>



### <a name="fixed-issues"></a><span data-ttu-id="a311f-181">Fixed issues</span><span class="sxs-lookup"><span data-stu-id="a311f-181">Fixed issues</span></span> 

- <span data-ttu-id="a311f-182">This release updates the SQL Server Express installation to SQL Server 2012 SP4, which, among others, provides fixes for several security vulnerabilities.</span><span class="sxs-lookup"><span data-stu-id="a311f-182">This release updates the SQL Server Express installation to SQL Server 2012 SP4, which, among others, provides fixes for several security vulnerabilities.</span></span>  <span data-ttu-id="a311f-183">Please see [here](https://support.microsoft.com/en-ca/help/4018073/sql-server-2012-service-pack-4-release-information) for more information about SQL Server 2012 SP4.</span><span class="sxs-lookup"><span data-stu-id="a311f-183">Please see [here](https://support.microsoft.com/en-ca/help/4018073/sql-server-2012-service-pack-4-release-information) for more information about SQL Server 2012 SP4.</span></span>
- <span data-ttu-id="a311f-184">Sync Rule Processing:  outbound Join sync rules with no Join Condition should be de-applied if the parent sync rule is no longer applicable</span><span class="sxs-lookup"><span data-stu-id="a311f-184">Sync Rule Processing:  outbound Join sync rules with no Join Condition should be de-applied if the parent sync rule is no longer applicable</span></span>
- <span data-ttu-id="a311f-185">Several accessibility fixes have been applied to the Synchronization Service Manager UI and the Sync Rules Editor</span><span class="sxs-lookup"><span data-stu-id="a311f-185">Several accessibility fixes have been applied to the Synchronization Service Manager UI and the Sync Rules Editor</span></span>
- <span data-ttu-id="a311f-186">Azure AD Connect Wizard: Error creating AD Connector account when Azure AD Connect is in a workgroup</span><span class="sxs-lookup"><span data-stu-id="a311f-186">Azure AD Connect Wizard: Error creating AD Connector account when Azure AD Connect is in a workgroup</span></span>
- <span data-ttu-id="a311f-187">Azure AD Connect Wizard: On the Azure AD Sign-in page display the verification checkbox whenever there is any mismatch in AD domains and Azure AD Verified domains</span><span class="sxs-lookup"><span data-stu-id="a311f-187">Azure AD Connect Wizard: On the Azure AD Sign-in page display the verification checkbox whenever there is any mismatch in AD domains and Azure AD Verified domains</span></span>
- <span data-ttu-id="a311f-188">Auto-upgrade PowerShell fix to set auto upgrade state correctly in certain cases after auto upgrade attempted.</span><span class="sxs-lookup"><span data-stu-id="a311f-188">Auto-upgrade PowerShell fix to set auto upgrade state correctly in certain cases after auto upgrade attempted.</span></span>
- <span data-ttu-id="a311f-189">Azure AD Connect Wizard: Updated telemetry to capture previously missing information</span><span class="sxs-lookup"><span data-stu-id="a311f-189">Azure AD Connect Wizard: Updated telemetry to capture previously missing information</span></span>
- <span data-ttu-id="a311f-190">Azure AD Connect Wizard: The following changes have been made when you use the **Change user sign-in** task to switch from AD FS to Pass-through Authentication:</span><span class="sxs-lookup"><span data-stu-id="a311f-190">Azure AD Connect Wizard: The following changes have been made when you use the **Change user sign-in** task to switch from AD FS to Pass-through Authentication:</span></span>
    - <span data-ttu-id="a311f-191">The Pass-through Authentication Agent is installed on the Azure AD Connect server and the Pass-through Authentication feature is enabled, before we convert domain(s) from federated to managed.</span><span class="sxs-lookup"><span data-stu-id="a311f-191">The Pass-through Authentication Agent is installed on the Azure AD Connect server and the Pass-through Authentication feature is enabled, before we convert domain(s) from federated to managed.</span></span>
    - <span data-ttu-id="a311f-192">Users are no longer converted from federated to managed.</span><span class="sxs-lookup"><span data-stu-id="a311f-192">Users are no longer converted from federated to managed.</span></span> <span data-ttu-id="a311f-193">Only domain(s) are converted.</span><span class="sxs-lookup"><span data-stu-id="a311f-193">Only domain(s) are converted.</span></span>
- <span data-ttu-id="a311f-194">Azure AD Connect Wizard: AD FS Multi Domain Regex is not correct when user UPN has ' special character Regex update to support special characters</span><span class="sxs-lookup"><span data-stu-id="a311f-194">Azure AD Connect Wizard: AD FS Multi Domain Regex is not correct when user UPN has ' special character Regex update to support special characters</span></span>
- <span data-ttu-id="a311f-195">Azure AD Connect Wizard: Remove spurious "Configure source anchor attribute" message when no change</span><span class="sxs-lookup"><span data-stu-id="a311f-195">Azure AD Connect Wizard: Remove spurious "Configure source anchor attribute" message when no change</span></span> 
- <span data-ttu-id="a311f-196">Azure AD Connect Wizard: AD FS support for the dual federation scenario</span><span class="sxs-lookup"><span data-stu-id="a311f-196">Azure AD Connect Wizard: AD FS support for the dual federation scenario</span></span>
- <span data-ttu-id="a311f-197">Azure AD Connect Wizard: AD FS Claims are not updated for added domain when converting a managed domain to federated</span><span class="sxs-lookup"><span data-stu-id="a311f-197">Azure AD Connect Wizard: AD FS Claims are not updated for added domain when converting a managed domain to federated</span></span>
- <span data-ttu-id="a311f-198">Azure AD Connect Wizard: During detection of installed packages, we find stale Dirsync/Azure AD Sync/Azure AD Connect related products.</span><span class="sxs-lookup"><span data-stu-id="a311f-198">Azure AD Connect Wizard: During detection of installed packages, we find stale Dirsync/Azure AD Sync/Azure AD Connect related products.</span></span> <span data-ttu-id="a311f-199">We will now attempt to uninstall the stale products.</span><span class="sxs-lookup"><span data-stu-id="a311f-199">We will now attempt to uninstall the stale products.</span></span>
- <span data-ttu-id="a311f-200">Azure AD Connect Wizard: Correct Error Message Mapping when installation of passthrough authentication agent fails</span><span class="sxs-lookup"><span data-stu-id="a311f-200">Azure AD Connect Wizard: Correct Error Message Mapping when installation of passthrough authentication agent fails</span></span>
- <span data-ttu-id="a311f-201">Azure AD Connect Wizard: Removed "Configuration" container from Domain OU Filtering page</span><span class="sxs-lookup"><span data-stu-id="a311f-201">Azure AD Connect Wizard: Removed "Configuration" container from Domain OU Filtering page</span></span>
- <span data-ttu-id="a311f-202">Sync Engine install: remove unnecessary legacy logic that occasionally failed from Sync Engine install msi</span><span class="sxs-lookup"><span data-stu-id="a311f-202">Sync Engine install: remove unnecessary legacy logic that occasionally failed from Sync Engine install msi</span></span>
- <span data-ttu-id="a311f-203">Azure AD Connect Wizard: Fix popup help text on Optional Features page for Password Hash Sync</span><span class="sxs-lookup"><span data-stu-id="a311f-203">Azure AD Connect Wizard: Fix popup help text on Optional Features page for Password Hash Sync</span></span>
- <span data-ttu-id="a311f-204">Sync Engine runtime: Fix the scenario where a CS object has an imported delete and Sync Rules attempt to re-provision the object.</span><span class="sxs-lookup"><span data-stu-id="a311f-204">Sync Engine runtime: Fix the scenario where a CS object has an imported delete and Sync Rules attempt to re-provision the object.</span></span>
- <span data-ttu-id="a311f-205">Sync Engine runtime: Add help link for Online connectivity troubleshooting guide to the event log for an Import Error</span><span class="sxs-lookup"><span data-stu-id="a311f-205">Sync Engine runtime: Add help link for Online connectivity troubleshooting guide to the event log for an Import Error</span></span>
- <span data-ttu-id="a311f-206">Sync Engine runtime: Reduced memory usage of Sync Scheduler when enumerating Connectors</span><span class="sxs-lookup"><span data-stu-id="a311f-206">Sync Engine runtime: Reduced memory usage of Sync Scheduler when enumerating Connectors</span></span>
- <span data-ttu-id="a311f-207">Azure AD Connect Wizard: Fix an issue resolving a custom Sync Service Account which has no AD Read privileges</span><span class="sxs-lookup"><span data-stu-id="a311f-207">Azure AD Connect Wizard: Fix an issue resolving a custom Sync Service Account which has no AD Read privileges</span></span>
- <span data-ttu-id="a311f-208">Azure AD Connect Wizard: Improve logging of Domain and OU filtering selections</span><span class="sxs-lookup"><span data-stu-id="a311f-208">Azure AD Connect Wizard: Improve logging of Domain and OU filtering selections</span></span>
- <span data-ttu-id="a311f-209">Azure AD Connect Wizard: AD FS Add default claims to federation trust created for MFA scenario</span><span class="sxs-lookup"><span data-stu-id="a311f-209">Azure AD Connect Wizard: AD FS Add default claims to federation trust created for MFA scenario</span></span>
- <span data-ttu-id="a311f-210">Azure AD Connect Wizard: AD FS Deploy WAP: Adding server fails to use new certificate</span><span class="sxs-lookup"><span data-stu-id="a311f-210">Azure AD Connect Wizard: AD FS Deploy WAP: Adding server fails to use new certificate</span></span>
- <span data-ttu-id="a311f-211">Azure AD Connect Wizard: DSSO exception when onPremCredentials aren't initialized for a domain</span><span class="sxs-lookup"><span data-stu-id="a311f-211">Azure AD Connect Wizard: DSSO exception when onPremCredentials aren't initialized for a domain</span></span> 
- <span data-ttu-id="a311f-212">Preferentially flow the AD distinguishedName attribute from the Active User object.</span><span class="sxs-lookup"><span data-stu-id="a311f-212">Preferentially flow the AD distinguishedName attribute from the Active User object.</span></span>
- <span data-ttu-id="a311f-213">Fixed a cosmetic bug were the Precedence of the first OOB Sync Rule was set to 99 instead of 100</span><span class="sxs-lookup"><span data-stu-id="a311f-213">Fixed a cosmetic bug were the Precedence of the first OOB Sync Rule was set to 99 instead of 100</span></span>



## <a name="117510"></a><span data-ttu-id="a311f-214">1.1.751.0</span><span class="sxs-lookup"><span data-stu-id="a311f-214">1.1.751.0</span></span>
<span data-ttu-id="a311f-215">Status 4/12/2018: Released for download only</span><span class="sxs-lookup"><span data-stu-id="a311f-215">Status 4/12/2018: Released for download only</span></span>

>[!NOTE]
><span data-ttu-id="a311f-216">This release is a hotfix for Azure AD Connect</span><span class="sxs-lookup"><span data-stu-id="a311f-216">This release is a hotfix for Azure AD Connect</span></span>

### <a name="azure-ad-connect-sync"></a><span data-ttu-id="a311f-217">Azure AD Connect sync</span><span class="sxs-lookup"><span data-stu-id="a311f-217">Azure AD Connect sync</span></span>
#### <a name="fixed-issues"></a><span data-ttu-id="a311f-218">Fixed issues</span><span class="sxs-lookup"><span data-stu-id="a311f-218">Fixed issues</span></span>
<span data-ttu-id="a311f-219">Corrected an issue were automatic Azure instance discovery for China tenants was occasionally failing.</span><span class="sxs-lookup"><span data-stu-id="a311f-219">Corrected an issue were automatic Azure instance discovery for China tenants was occasionally failing.</span></span>  

### <a name="ad-fs-management"></a><span data-ttu-id="a311f-220">AD FS Management</span><span class="sxs-lookup"><span data-stu-id="a311f-220">AD FS Management</span></span>
#### <a name="fixed-issues"></a><span data-ttu-id="a311f-221">Fixed issues</span><span class="sxs-lookup"><span data-stu-id="a311f-221">Fixed issues</span></span>

<span data-ttu-id="a311f-222">There was a problem in the configuration retry logic that would result in an ArgumentException stating “an item with the same key has already been added.”</span><span class="sxs-lookup"><span data-stu-id="a311f-222">There was a problem in the configuration retry logic that would result in an ArgumentException stating “an item with the same key has already been added.”</span></span>  <span data-ttu-id="a311f-223">This would cause all retry operations to fail.</span><span class="sxs-lookup"><span data-stu-id="a311f-223">This would cause all retry operations to fail.</span></span>

## <a name="117500"></a><span data-ttu-id="a311f-224">1.1.750.0</span><span class="sxs-lookup"><span data-stu-id="a311f-224">1.1.750.0</span></span>
<span data-ttu-id="a311f-225">Status 3/22/2018: Released for auto-upgrade and download.</span><span class="sxs-lookup"><span data-stu-id="a311f-225">Status 3/22/2018: Released for auto-upgrade and download.</span></span>
>[!NOTE]
><span data-ttu-id="a311f-226">When the upgrade to this new version completes, it will automatically trigger a full sync and full import for the Azure AD connector and a full sync for the AD connector.</span><span class="sxs-lookup"><span data-stu-id="a311f-226">When the upgrade to this new version completes, it will automatically trigger a full sync and full import for the Azure AD connector and a full sync for the AD connector.</span></span> <span data-ttu-id="a311f-227">Since this may take some time, depending on the size of your Azure AD Connect environment, make sure that you have taken the necessary steps to support this or hold off on upgrading until you have found a convenient moment to do so.</span><span class="sxs-lookup"><span data-stu-id="a311f-227">Since this may take some time, depending on the size of your Azure AD Connect environment, make sure that you have taken the necessary steps to support this or hold off on upgrading until you have found a convenient moment to do so.</span></span>

>[!NOTE]
><span data-ttu-id="a311f-228">“AutoUpgrade functionality was incorrectly disabled for some tenants who deployed builds later than 1.1.524.0.</span><span class="sxs-lookup"><span data-stu-id="a311f-228">“AutoUpgrade functionality was incorrectly disabled for some tenants who deployed builds later than 1.1.524.0.</span></span> <span data-ttu-id="a311f-229">To ensure that your Azure AD Connect instance is still eligible for AutoUpgrade, run the following PowerShell cmdlet: “Set-ADSyncAutoUpgrade -AutoupGradeState Enabled”</span><span class="sxs-lookup"><span data-stu-id="a311f-229">To ensure that your Azure AD Connect instance is still eligible for AutoUpgrade, run the following PowerShell cmdlet: “Set-ADSyncAutoUpgrade -AutoupGradeState Enabled”</span></span>


### <a name="azure-ad-connect"></a><span data-ttu-id="a311f-230">Azure AD Connect</span><span class="sxs-lookup"><span data-stu-id="a311f-230">Azure AD Connect</span></span>
#### <a name="fixed-issues"></a><span data-ttu-id="a311f-231">Fixed issues</span><span class="sxs-lookup"><span data-stu-id="a311f-231">Fixed issues</span></span>

* <span data-ttu-id="a311f-232">Set-ADSyncAutoUpgrade cmdlet would previously block Autoupgrade if auto-upgrade state is set to Suspended.</span><span class="sxs-lookup"><span data-stu-id="a311f-232">Set-ADSyncAutoUpgrade cmdlet would previously block Autoupgrade if auto-upgrade state is set to Suspended.</span></span> <span data-ttu-id="a311f-233">This functionality has now changed so it does not block AutoUpgrade of future builds.</span><span class="sxs-lookup"><span data-stu-id="a311f-233">This functionality has now changed so it does not block AutoUpgrade of future builds.</span></span>
* <span data-ttu-id="a311f-234">Changed the **User Sign-in** page option "Password Synchronization" to "Password Hash Synchronization".</span><span class="sxs-lookup"><span data-stu-id="a311f-234">Changed the **User Sign-in** page option "Password Synchronization" to "Password Hash Synchronization".</span></span>  <span data-ttu-id="a311f-235">Azure AD Connect synchronizes password hashes, not passwords, so this aligns with what is actually occurring.</span><span class="sxs-lookup"><span data-stu-id="a311f-235">Azure AD Connect synchronizes password hashes, not passwords, so this aligns with what is actually occurring.</span></span>  <span data-ttu-id="a311f-236">For more information see [Implement password hash synchronization with Azure AD Connect sync](active-directory-aadconnectsync-implement-password-hash-synchronization.md)</span><span class="sxs-lookup"><span data-stu-id="a311f-236">For more information see [Implement password hash synchronization with Azure AD Connect sync](active-directory-aadconnectsync-implement-password-hash-synchronization.md)</span></span>

## <a name="117490"></a><span data-ttu-id="a311f-237">1.1.749.0</span><span class="sxs-lookup"><span data-stu-id="a311f-237">1.1.749.0</span></span>
<span data-ttu-id="a311f-238">Status: Released to select customers</span><span class="sxs-lookup"><span data-stu-id="a311f-238">Status: Released to select customers</span></span>

>[!NOTE]
><span data-ttu-id="a311f-239">When the upgrade to this new version completes, it will automatically trigger a full sync and full import for the Azure AD connector and a full sync for the AD connector.</span><span class="sxs-lookup"><span data-stu-id="a311f-239">When the upgrade to this new version completes, it will automatically trigger a full sync and full import for the Azure AD connector and a full sync for the AD connector.</span></span> <span data-ttu-id="a311f-240">Since this may take some time, depending on the size of your Azure AD Connect environment, please make sure that you have taken the necessary steps to support this or hold off on upgrading until you have found a convenient moment to do so.</span><span class="sxs-lookup"><span data-stu-id="a311f-240">Since this may take some time, depending on the size of your Azure AD Connect environment, please make sure that you have taken the necessary steps to support this or hold off on upgrading until you have found a convenient moment to do so.</span></span>

### <a name="azure-ad-connect"></a><span data-ttu-id="a311f-241">Azure AD Connect</span><span class="sxs-lookup"><span data-stu-id="a311f-241">Azure AD Connect</span></span>
#### <a name="fixed-issues"></a><span data-ttu-id="a311f-242">Fixed issues</span><span class="sxs-lookup"><span data-stu-id="a311f-242">Fixed issues</span></span>
* <span data-ttu-id="a311f-243">Fix timing window on background tasks for Partition Filtering page when switching to next page.</span><span class="sxs-lookup"><span data-stu-id="a311f-243">Fix timing window on background tasks for Partition Filtering page when switching to next page.</span></span>

* <span data-ttu-id="a311f-244">Fixed a bug that caused Access violation during the ConfigDB custom action.</span><span class="sxs-lookup"><span data-stu-id="a311f-244">Fixed a bug that caused Access violation during the ConfigDB custom action.</span></span>

* <span data-ttu-id="a311f-245">Fixed a bug to recover from SQL connection timeout.</span><span class="sxs-lookup"><span data-stu-id="a311f-245">Fixed a bug to recover from SQL connection timeout.</span></span>

* <span data-ttu-id="a311f-246">Fixed a bug where certificates with SAN wildcards failed a prerequisite check.</span><span class="sxs-lookup"><span data-stu-id="a311f-246">Fixed a bug where certificates with SAN wildcards failed a prerequisite check.</span></span>

* <span data-ttu-id="a311f-247">Fixed a bug which causes miiserver.exe to crash during an Azure AD connector export.</span><span class="sxs-lookup"><span data-stu-id="a311f-247">Fixed a bug which causes miiserver.exe to crash during an Azure AD connector export.</span></span>

* <span data-ttu-id="a311f-248">Fixed a bug which bad password attempt logged on DC when running the Azure AD Connect wizard to change configuration.</span><span class="sxs-lookup"><span data-stu-id="a311f-248">Fixed a bug which bad password attempt logged on DC when running the Azure AD Connect wizard to change configuration.</span></span>


#### <a name="new-features-and-improvements"></a><span data-ttu-id="a311f-249">New features and improvements</span><span class="sxs-lookup"><span data-stu-id="a311f-249">New features and improvements</span></span>

* <span data-ttu-id="a311f-250">Adding Privacy Settings for the General Data Protection Regulation (GDPR).</span><span class="sxs-lookup"><span data-stu-id="a311f-250">Adding Privacy Settings for the General Data Protection Regulation (GDPR).</span></span>  <span data-ttu-id="a311f-251">For more information see the article [here](active-directory-aadconnect-gdpr.md).</span><span class="sxs-lookup"><span data-stu-id="a311f-251">For more information see the article [here](active-directory-aadconnect-gdpr.md).</span></span>

[!INCLUDE [Privacy](../../../includes/gdpr-intro-sentence.md)]  

* <span data-ttu-id="a311f-252">application telemetry - admin can switch this class of data on/off at will</span><span class="sxs-lookup"><span data-stu-id="a311f-252">application telemetry - admin can switch this class of data on/off at will</span></span>

* <span data-ttu-id="a311f-253">Azure AD Health data - admin must visit the health portal to control their health settings.</span><span class="sxs-lookup"><span data-stu-id="a311f-253">Azure AD Health data - admin must visit the health portal to control their health settings.</span></span>
   <span data-ttu-id="a311f-254">Once the service policy has been changed, the agents will read and enforce it.</span><span class="sxs-lookup"><span data-stu-id="a311f-254">Once the service policy has been changed, the agents will read and enforce it.</span></span>

* <span data-ttu-id="a311f-255">Added device write-back configuration actions and a progress bar for page initialization</span><span class="sxs-lookup"><span data-stu-id="a311f-255">Added device write-back configuration actions and a progress bar for page initialization</span></span>

* <span data-ttu-id="a311f-256">Improved General Diagnostics with HTML report and full data collection in a ZIP-Text / HTML Report</span><span class="sxs-lookup"><span data-stu-id="a311f-256">Improved General Diagnostics with HTML report and full data collection in a ZIP-Text / HTML Report</span></span>

* <span data-ttu-id="a311f-257">Improved the reliability of auto upgrade and added additional telemetry to ensure the health of the server can be determined</span><span class="sxs-lookup"><span data-stu-id="a311f-257">Improved the reliability of auto upgrade and added additional telemetry to ensure the health of the server can be determined</span></span>

* <span data-ttu-id="a311f-258">Restrict permissions available to privileged accounts on AD Connector account</span><span class="sxs-lookup"><span data-stu-id="a311f-258">Restrict permissions available to privileged accounts on AD Connector account</span></span>

  * <span data-ttu-id="a311f-259">For new installations, the wizard will restrict the permissions that privileged accounts have on the MSOL account after creating the MSOL account.</span><span class="sxs-lookup"><span data-stu-id="a311f-259">For new installations, the wizard will restrict the permissions that privileged accounts have on the MSOL account after creating the MSOL account.</span></span>

<span data-ttu-id="a311f-260">The changes will take care of following:</span><span class="sxs-lookup"><span data-stu-id="a311f-260">The changes will take care of following:</span></span>
1. <span data-ttu-id="a311f-261">Express Installations</span><span class="sxs-lookup"><span data-stu-id="a311f-261">Express Installations</span></span>
2. <span data-ttu-id="a311f-262">Custom Installations with Auto-Create account</span><span class="sxs-lookup"><span data-stu-id="a311f-262">Custom Installations with Auto-Create account</span></span>
3. <span data-ttu-id="a311f-263">Changed the installer so it doesn't require SA privilege on clean install of Azure AD Connect</span><span class="sxs-lookup"><span data-stu-id="a311f-263">Changed the installer so it doesn't require SA privilege on clean install of Azure AD Connect</span></span>

* <span data-ttu-id="a311f-264">Added a new utility to troubleshoot synchronization issues for a specific object.</span><span class="sxs-lookup"><span data-stu-id="a311f-264">Added a new utility to troubleshoot synchronization issues for a specific object.</span></span> <span data-ttu-id="a311f-265">It is available under 'Troubleshoot Object Synchronization' option of Azure AD Connect Wizard Troubleshoot Additional Task.</span><span class="sxs-lookup"><span data-stu-id="a311f-265">It is available under 'Troubleshoot Object Synchronization' option of Azure AD Connect Wizard Troubleshoot Additional Task.</span></span> <span data-ttu-id="a311f-266">Currently, the utility checks for the following:</span><span class="sxs-lookup"><span data-stu-id="a311f-266">Currently, the utility checks for the following:</span></span>

  * <span data-ttu-id="a311f-267">UserPrincipalName mismatch between synchronized user object and the user account in Azure AD Tenant.</span><span class="sxs-lookup"><span data-stu-id="a311f-267">UserPrincipalName mismatch between synchronized user object and the user account in Azure AD Tenant.</span></span>
  * <span data-ttu-id="a311f-268">If the object is filtered from synchronization due to domain filtering</span><span class="sxs-lookup"><span data-stu-id="a311f-268">If the object is filtered from synchronization due to domain filtering</span></span>
  * <span data-ttu-id="a311f-269">If the object is filtered from synchronization due to organizational unit (OU) filtering</span><span class="sxs-lookup"><span data-stu-id="a311f-269">If the object is filtered from synchronization due to organizational unit (OU) filtering</span></span>

* <span data-ttu-id="a311f-270">Added a new utility to synchronize the current password hash stored in the on-premises Active Directory for a specific user account.</span><span class="sxs-lookup"><span data-stu-id="a311f-270">Added a new utility to synchronize the current password hash stored in the on-premises Active Directory for a specific user account.</span></span>

<span data-ttu-id="a311f-271">The utility does not require a password change.</span><span class="sxs-lookup"><span data-stu-id="a311f-271">The utility does not require a password change.</span></span> <span data-ttu-id="a311f-272">It is available under 'Troubleshoot Password Hash Synchronization' option of Azure AD Connect Wizard Troubleshoot Additional Task.</span><span class="sxs-lookup"><span data-stu-id="a311f-272">It is available under 'Troubleshoot Password Hash Synchronization' option of Azure AD Connect Wizard Troubleshoot Additional Task.</span></span>






## <a name="116540"></a><span data-ttu-id="a311f-273">1.1.654.0</span><span class="sxs-lookup"><span data-stu-id="a311f-273">1.1.654.0</span></span>
<span data-ttu-id="a311f-274">Status: December 12th, 2017</span><span class="sxs-lookup"><span data-stu-id="a311f-274">Status: December 12th, 2017</span></span>

>[!NOTE]
><span data-ttu-id="a311f-275">This release is a security related hotfix for Azure AD Connect</span><span class="sxs-lookup"><span data-stu-id="a311f-275">This release is a security related hotfix for Azure AD Connect</span></span>

### <a name="azure-ad-connect"></a><span data-ttu-id="a311f-276">Azure AD Connect</span><span class="sxs-lookup"><span data-stu-id="a311f-276">Azure AD Connect</span></span>
<span data-ttu-id="a311f-277">An improvement has been added to Azure AD Connect version 1.1.654.0 (and after) to ensure that the recommended permission changes described under section [Lock down access to the AD DS account](#lock) are automatically applied when Azure AD Connect creates the AD DS account.</span><span class="sxs-lookup"><span data-stu-id="a311f-277">An improvement has been added to Azure AD Connect version 1.1.654.0 (and after) to ensure that the recommended permission changes described under section [Lock down access to the AD DS account](#lock) are automatically applied when Azure AD Connect creates the AD DS account.</span></span> 

- <span data-ttu-id="a311f-278">When setting up Azure AD Connect, the installing administrator can either provide an existing AD DS account, or let Azure AD Connect automatically create the account.</span><span class="sxs-lookup"><span data-stu-id="a311f-278">When setting up Azure AD Connect, the installing administrator can either provide an existing AD DS account, or let Azure AD Connect automatically create the account.</span></span> <span data-ttu-id="a311f-279">The permission changes are automatically applied to the AD DS account that is created by Azure AD Connect during setup.</span><span class="sxs-lookup"><span data-stu-id="a311f-279">The permission changes are automatically applied to the AD DS account that is created by Azure AD Connect during setup.</span></span> <span data-ttu-id="a311f-280">They are not applied to existing AD DS account provided by the installing administrator.</span><span class="sxs-lookup"><span data-stu-id="a311f-280">They are not applied to existing AD DS account provided by the installing administrator.</span></span>
- <span data-ttu-id="a311f-281">For customers who have upgraded from an older version of Azure AD Connect to 1.1.654.0 (or after), the permission changes will not be retroactively applied to existing AD DS accounts created prior to the upgrade.</span><span class="sxs-lookup"><span data-stu-id="a311f-281">For customers who have upgraded from an older version of Azure AD Connect to 1.1.654.0 (or after), the permission changes will not be retroactively applied to existing AD DS accounts created prior to the upgrade.</span></span> <span data-ttu-id="a311f-282">They will only be applied to new AD DS accounts created after the upgrade.</span><span class="sxs-lookup"><span data-stu-id="a311f-282">They will only be applied to new AD DS accounts created after the upgrade.</span></span> <span data-ttu-id="a311f-283">This occurs when you are adding new AD forests to be synchronized to Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a311f-283">This occurs when you are adding new AD forests to be synchronized to Azure AD.</span></span>

>[!NOTE]
><span data-ttu-id="a311f-284">This release only removes the vulnerability for new installations of Azure AD Connect where the service account is created by the installation process.</span><span class="sxs-lookup"><span data-stu-id="a311f-284">This release only removes the vulnerability for new installations of Azure AD Connect where the service account is created by the installation process.</span></span> <span data-ttu-id="a311f-285">For existing installations, or in cases where you provide the account yourself, you should ensure that this vulnerability does not exist.</span><span class="sxs-lookup"><span data-stu-id="a311f-285">For existing installations, or in cases where you provide the account yourself, you should ensure that this vulnerability does not exist.</span></span>

#### <a name="lock"></a> <span data-ttu-id="a311f-286">Lock down access to the AD DS account</span><span class="sxs-lookup"><span data-stu-id="a311f-286">Lock down access to the AD DS account</span></span>
<span data-ttu-id="a311f-287">Lock down access to the AD DS account by implementing the following permission changes in the on-premises AD:</span><span class="sxs-lookup"><span data-stu-id="a311f-287">Lock down access to the AD DS account by implementing the following permission changes in the on-premises AD:</span></span>  

*   <span data-ttu-id="a311f-288">Disable inheritance on the specified object</span><span class="sxs-lookup"><span data-stu-id="a311f-288">Disable inheritance on the specified object</span></span>
*   <span data-ttu-id="a311f-289">Remove all ACEs on the specific object, except ACEs specific to SELF.</span><span class="sxs-lookup"><span data-stu-id="a311f-289">Remove all ACEs on the specific object, except ACEs specific to SELF.</span></span> <span data-ttu-id="a311f-290">We want to keep the default permissions intact when it comes to SELF.</span><span class="sxs-lookup"><span data-stu-id="a311f-290">We want to keep the default permissions intact when it comes to SELF.</span></span>
*   <span data-ttu-id="a311f-291">Assign these specific permissions:</span><span class="sxs-lookup"><span data-stu-id="a311f-291">Assign these specific permissions:</span></span>

<span data-ttu-id="a311f-292">Type</span><span class="sxs-lookup"><span data-stu-id="a311f-292">Type</span></span>     | <span data-ttu-id="a311f-293">Name</span><span class="sxs-lookup"><span data-stu-id="a311f-293">Name</span></span>                          | <span data-ttu-id="a311f-294">Access</span><span class="sxs-lookup"><span data-stu-id="a311f-294">Access</span></span>               | <span data-ttu-id="a311f-295">Applies To</span><span class="sxs-lookup"><span data-stu-id="a311f-295">Applies To</span></span>
---------|-------------------------------|----------------------|--------------|
<span data-ttu-id="a311f-296">Allow</span><span class="sxs-lookup"><span data-stu-id="a311f-296">Allow</span></span>    | <span data-ttu-id="a311f-297">SYSTEM</span><span class="sxs-lookup"><span data-stu-id="a311f-297">SYSTEM</span></span>                        | <span data-ttu-id="a311f-298">Full Control</span><span class="sxs-lookup"><span data-stu-id="a311f-298">Full Control</span></span>         | <span data-ttu-id="a311f-299">This object</span><span class="sxs-lookup"><span data-stu-id="a311f-299">This object</span></span>  |
<span data-ttu-id="a311f-300">Allow</span><span class="sxs-lookup"><span data-stu-id="a311f-300">Allow</span></span>    | <span data-ttu-id="a311f-301">Enterprise Admins</span><span class="sxs-lookup"><span data-stu-id="a311f-301">Enterprise Admins</span></span>             | <span data-ttu-id="a311f-302">Full Control</span><span class="sxs-lookup"><span data-stu-id="a311f-302">Full Control</span></span>         | <span data-ttu-id="a311f-303">This object</span><span class="sxs-lookup"><span data-stu-id="a311f-303">This object</span></span>  |
<span data-ttu-id="a311f-304">Allow</span><span class="sxs-lookup"><span data-stu-id="a311f-304">Allow</span></span>    | <span data-ttu-id="a311f-305">Domain Admins</span><span class="sxs-lookup"><span data-stu-id="a311f-305">Domain Admins</span></span>                 | <span data-ttu-id="a311f-306">Full Control</span><span class="sxs-lookup"><span data-stu-id="a311f-306">Full Control</span></span>         | <span data-ttu-id="a311f-307">This object</span><span class="sxs-lookup"><span data-stu-id="a311f-307">This object</span></span>  |
<span data-ttu-id="a311f-308">Allow</span><span class="sxs-lookup"><span data-stu-id="a311f-308">Allow</span></span>    | <span data-ttu-id="a311f-309">Administrators</span><span class="sxs-lookup"><span data-stu-id="a311f-309">Administrators</span></span>                | <span data-ttu-id="a311f-310">Full Control</span><span class="sxs-lookup"><span data-stu-id="a311f-310">Full Control</span></span>         | <span data-ttu-id="a311f-311">This object</span><span class="sxs-lookup"><span data-stu-id="a311f-311">This object</span></span>  |
<span data-ttu-id="a311f-312">Allow</span><span class="sxs-lookup"><span data-stu-id="a311f-312">Allow</span></span>    | <span data-ttu-id="a311f-313">Enterprise Domain Controllers</span><span class="sxs-lookup"><span data-stu-id="a311f-313">Enterprise Domain Controllers</span></span> | <span data-ttu-id="a311f-314">List Contents</span><span class="sxs-lookup"><span data-stu-id="a311f-314">List Contents</span></span>        | <span data-ttu-id="a311f-315">This object</span><span class="sxs-lookup"><span data-stu-id="a311f-315">This object</span></span>  |
<span data-ttu-id="a311f-316">Allow</span><span class="sxs-lookup"><span data-stu-id="a311f-316">Allow</span></span>    | <span data-ttu-id="a311f-317">Enterprise Domain Controllers</span><span class="sxs-lookup"><span data-stu-id="a311f-317">Enterprise Domain Controllers</span></span> | <span data-ttu-id="a311f-318">Read All Properties</span><span class="sxs-lookup"><span data-stu-id="a311f-318">Read All Properties</span></span>  | <span data-ttu-id="a311f-319">This object</span><span class="sxs-lookup"><span data-stu-id="a311f-319">This object</span></span>  |
<span data-ttu-id="a311f-320">Allow</span><span class="sxs-lookup"><span data-stu-id="a311f-320">Allow</span></span>    | <span data-ttu-id="a311f-321">Enterprise Domain Controllers</span><span class="sxs-lookup"><span data-stu-id="a311f-321">Enterprise Domain Controllers</span></span> | <span data-ttu-id="a311f-322">Read Permissions</span><span class="sxs-lookup"><span data-stu-id="a311f-322">Read Permissions</span></span>     | <span data-ttu-id="a311f-323">This object</span><span class="sxs-lookup"><span data-stu-id="a311f-323">This object</span></span>  |
<span data-ttu-id="a311f-324">Allow</span><span class="sxs-lookup"><span data-stu-id="a311f-324">Allow</span></span>    | <span data-ttu-id="a311f-325">Authenticated Users</span><span class="sxs-lookup"><span data-stu-id="a311f-325">Authenticated Users</span></span>           | <span data-ttu-id="a311f-326">List Contents</span><span class="sxs-lookup"><span data-stu-id="a311f-326">List Contents</span></span>        | <span data-ttu-id="a311f-327">This object</span><span class="sxs-lookup"><span data-stu-id="a311f-327">This object</span></span>  |
<span data-ttu-id="a311f-328">Allow</span><span class="sxs-lookup"><span data-stu-id="a311f-328">Allow</span></span>    | <span data-ttu-id="a311f-329">Authenticated Users</span><span class="sxs-lookup"><span data-stu-id="a311f-329">Authenticated Users</span></span>           | <span data-ttu-id="a311f-330">Read All Properties</span><span class="sxs-lookup"><span data-stu-id="a311f-330">Read All Properties</span></span>  | <span data-ttu-id="a311f-331">This object</span><span class="sxs-lookup"><span data-stu-id="a311f-331">This object</span></span>  |
<span data-ttu-id="a311f-332">Allow</span><span class="sxs-lookup"><span data-stu-id="a311f-332">Allow</span></span>    | <span data-ttu-id="a311f-333">Authenticated Users</span><span class="sxs-lookup"><span data-stu-id="a311f-333">Authenticated Users</span></span>           | <span data-ttu-id="a311f-334">Read Permissions</span><span class="sxs-lookup"><span data-stu-id="a311f-334">Read Permissions</span></span>     | <span data-ttu-id="a311f-335">This object</span><span class="sxs-lookup"><span data-stu-id="a311f-335">This object</span></span>  |

<span data-ttu-id="a311f-336">To tighten the settings for the AD DS account you can run [this PowerShell script](https://gallery.technet.microsoft.com/Prepare-Active-Directory-ef20d978).</span><span class="sxs-lookup"><span data-stu-id="a311f-336">To tighten the settings for the AD DS account you can run [this PowerShell script](https://gallery.technet.microsoft.com/Prepare-Active-Directory-ef20d978).</span></span> <span data-ttu-id="a311f-337">The PowerShell script will assign the permissions mentioned above to the AD DS account.</span><span class="sxs-lookup"><span data-stu-id="a311f-337">The PowerShell script will assign the permissions mentioned above to the AD DS account.</span></span>

#### <a name="powershell-script-to-tighten-a-pre-existing-service-account"></a><span data-ttu-id="a311f-338">PowerShell script to tighten a pre-existing service account</span><span class="sxs-lookup"><span data-stu-id="a311f-338">PowerShell script to tighten a pre-existing service account</span></span>

<span data-ttu-id="a311f-339">To use the PowerShell script, to apply these settings, to a pre-existing AD DS account, (ether provided by your organization or created by a previous installation of Azure AD Connect, please download the script from the provided link above.</span><span class="sxs-lookup"><span data-stu-id="a311f-339">To use the PowerShell script, to apply these settings, to a pre-existing AD DS account, (ether provided by your organization or created by a previous installation of Azure AD Connect, please download the script from the provided link above.</span></span>

##### <a name="usage"></a><span data-ttu-id="a311f-340">Usage:</span><span class="sxs-lookup"><span data-stu-id="a311f-340">Usage:</span></span>

```powershell
Set-ADSyncRestrictedPermissions -ObjectDN <$ObjectDN> -Credential <$Credential>
```

<span data-ttu-id="a311f-341">Where</span><span class="sxs-lookup"><span data-stu-id="a311f-341">Where</span></span> 

<span data-ttu-id="a311f-342">**$ObjectDN** = The Active Directory account whose permissions need to be tightened.</span><span class="sxs-lookup"><span data-stu-id="a311f-342">**$ObjectDN** = The Active Directory account whose permissions need to be tightened.</span></span>

<span data-ttu-id="a311f-343">**$Credential** = Administrator credential that has the necessary privileges to restrict the permissions on the $ObjectDN account.</span><span class="sxs-lookup"><span data-stu-id="a311f-343">**$Credential** = Administrator credential that has the necessary privileges to restrict the permissions on the $ObjectDN account.</span></span> <span data-ttu-id="a311f-344">These privileges are  typically held by the Enterprise or Domain administrator.</span><span class="sxs-lookup"><span data-stu-id="a311f-344">These privileges are  typically held by the Enterprise or Domain administrator.</span></span> <span data-ttu-id="a311f-345">Use the fully qualified domain name of the administrator account to avoid account lookup failures.</span><span class="sxs-lookup"><span data-stu-id="a311f-345">Use the fully qualified domain name of the administrator account to avoid account lookup failures.</span></span> <span data-ttu-id="a311f-346">Example: contoso.com\admin.</span><span class="sxs-lookup"><span data-stu-id="a311f-346">Example: contoso.com\admin.</span></span>

>[!NOTE] 
><span data-ttu-id="a311f-347">$credential.UserName should be in FQDN\username format.</span><span class="sxs-lookup"><span data-stu-id="a311f-347">$credential.UserName should be in FQDN\username format.</span></span> <span data-ttu-id="a311f-348">Example: contoso.com\admin</span><span class="sxs-lookup"><span data-stu-id="a311f-348">Example: contoso.com\admin</span></span> 

##### <a name="example"></a><span data-ttu-id="a311f-349">Example:</span><span class="sxs-lookup"><span data-stu-id="a311f-349">Example:</span></span>

```powershell
Set-ADSyncRestrictedPermissions -ObjectDN "CN=TestAccount1,CN=Users,DC=bvtadwbackdc,DC=com" -Credential $credential 
```
### <a name="was-this-vulnerability-used-to-gain-unauthorized-access"></a><span data-ttu-id="a311f-350">Was this vulnerability used to gain unauthorized access?</span><span class="sxs-lookup"><span data-stu-id="a311f-350">Was this vulnerability used to gain unauthorized access?</span></span>

<span data-ttu-id="a311f-351">To see if this vulnerability was used to compromise your Azure AD Connect configuration you should verify the last password reset date of the service account.</span><span class="sxs-lookup"><span data-stu-id="a311f-351">To see if this vulnerability was used to compromise your Azure AD Connect configuration you should verify the last password reset date of the service account.</span></span>  <span data-ttu-id="a311f-352">If the timestamp in unexpected, further investigation, via the event log, for that password reset event, should be undertaken.</span><span class="sxs-lookup"><span data-stu-id="a311f-352">If the timestamp in unexpected, further investigation, via the event log, for that password reset event, should be undertaken.</span></span>

<span data-ttu-id="a311f-353">For more information, see [Microsoft Security Advisory 4056318](https://technet.microsoft.com/library/security/4056318)</span><span class="sxs-lookup"><span data-stu-id="a311f-353">For more information, see [Microsoft Security Advisory 4056318](https://technet.microsoft.com/library/security/4056318)</span></span>

## <a name="116490"></a><span data-ttu-id="a311f-354">1.1.649.0</span><span class="sxs-lookup"><span data-stu-id="a311f-354">1.1.649.0</span></span>
<span data-ttu-id="a311f-355">Status: October 27 2017</span><span class="sxs-lookup"><span data-stu-id="a311f-355">Status: October 27 2017</span></span>

>[!NOTE]
><span data-ttu-id="a311f-356">This build is not available to customers through the Azure AD Connect Auto Upgrade feature.</span><span class="sxs-lookup"><span data-stu-id="a311f-356">This build is not available to customers through the Azure AD Connect Auto Upgrade feature.</span></span>

### <a name="azure-ad-connect"></a><span data-ttu-id="a311f-357">Azure AD Connect</span><span class="sxs-lookup"><span data-stu-id="a311f-357">Azure AD Connect</span></span>
#### <a name="fixed-issue"></a><span data-ttu-id="a311f-358">Fixed issue</span><span class="sxs-lookup"><span data-stu-id="a311f-358">Fixed issue</span></span>
* <span data-ttu-id="a311f-359">Fixed a version compatibility issue between Azure AD Connect and Azure AD Connect Health Agent (for sync).</span><span class="sxs-lookup"><span data-stu-id="a311f-359">Fixed a version compatibility issue between Azure AD Connect and Azure AD Connect Health Agent (for sync).</span></span> <span data-ttu-id="a311f-360">This issue affects customers who are performing Azure AD Connect in-place upgrade to version 1.1.647.0, but currently has Health Agent version 3.0.127.0.</span><span class="sxs-lookup"><span data-stu-id="a311f-360">This issue affects customers who are performing Azure AD Connect in-place upgrade to version 1.1.647.0, but currently has Health Agent version 3.0.127.0.</span></span> <span data-ttu-id="a311f-361">After the upgrade, the Health Agent can no longer send health data about Azure AD Connect Synchronization Service to Azure AD Health Service.</span><span class="sxs-lookup"><span data-stu-id="a311f-361">After the upgrade, the Health Agent can no longer send health data about Azure AD Connect Synchronization Service to Azure AD Health Service.</span></span> <span data-ttu-id="a311f-362">With this fix, Health Agent version 3.0.129.0 is installed during Azure AD Connect in-place upgrade.</span><span class="sxs-lookup"><span data-stu-id="a311f-362">With this fix, Health Agent version 3.0.129.0 is installed during Azure AD Connect in-place upgrade.</span></span> <span data-ttu-id="a311f-363">Health Agent version 3.0.129.0 does not have compatibility issue with Azure AD Connect version 1.1.649.0.</span><span class="sxs-lookup"><span data-stu-id="a311f-363">Health Agent version 3.0.129.0 does not have compatibility issue with Azure AD Connect version 1.1.649.0.</span></span>


## <a name="116470"></a><span data-ttu-id="a311f-364">1.1.647.0</span><span class="sxs-lookup"><span data-stu-id="a311f-364">1.1.647.0</span></span>
<span data-ttu-id="a311f-365">Status: October 19 2017</span><span class="sxs-lookup"><span data-stu-id="a311f-365">Status: October 19 2017</span></span>

> [!IMPORTANT]
> <span data-ttu-id="a311f-366">There is a known compatibility issue between Azure AD Connect version 1.1.647.0 and Azure AD Connect Health Agent (for sync) version 3.0.127.0.</span><span class="sxs-lookup"><span data-stu-id="a311f-366">There is a known compatibility issue between Azure AD Connect version 1.1.647.0 and Azure AD Connect Health Agent (for sync) version 3.0.127.0.</span></span> <span data-ttu-id="a311f-367">This issue prevents the Health Agent from sending health data about the Azure AD Connect Synchronization Service (including object synchronization errors and run history data) to Azure AD Health Service.</span><span class="sxs-lookup"><span data-stu-id="a311f-367">This issue prevents the Health Agent from sending health data about the Azure AD Connect Synchronization Service (including object synchronization errors and run history data) to Azure AD Health Service.</span></span> <span data-ttu-id="a311f-368">Before manually upgrading your Azure AD Connect deployment to version 1.1.647.0, please verify the current version of Azure AD Connect Health Agent installed on your Azure AD Connect server.</span><span class="sxs-lookup"><span data-stu-id="a311f-368">Before manually upgrading your Azure AD Connect deployment to version 1.1.647.0, please verify the current version of Azure AD Connect Health Agent installed on your Azure AD Connect server.</span></span> <span data-ttu-id="a311f-369">You can do so by going to *Control Panel → Add Remove Programs* and look for application *Microsoft Azure AD Connect Health Agent for Sync*. If its version is 3.0.127.0, it is recommended that you wait for the next Azure AD Connect version to be available before upgrade.</span><span class="sxs-lookup"><span data-stu-id="a311f-369">You can do so by going to *Control Panel → Add Remove Programs* and look for application *Microsoft Azure AD Connect Health Agent for Sync*. If its version is 3.0.127.0, it is recommended that you wait for the next Azure AD Connect version to be available before upgrade.</span></span> <span data-ttu-id="a311f-370">If the Health Agent version isn't 3.0.127.0, it is fine to proceed with the manual, in-place upgrade.</span><span class="sxs-lookup"><span data-stu-id="a311f-370">If the Health Agent version isn't 3.0.127.0, it is fine to proceed with the manual, in-place upgrade.</span></span> <span data-ttu-id="a311f-371">Note that this issue does not affect swing upgrade or customers who are performing new installation of Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="a311f-371">Note that this issue does not affect swing upgrade or customers who are performing new installation of Azure AD Connect.</span></span>
>
>

### <a name="azure-ad-connect"></a><span data-ttu-id="a311f-372">Azure AD Connect</span><span class="sxs-lookup"><span data-stu-id="a311f-372">Azure AD Connect</span></span>
#### <a name="fixed-issues"></a><span data-ttu-id="a311f-373">Fixed issues</span><span class="sxs-lookup"><span data-stu-id="a311f-373">Fixed issues</span></span>
* <span data-ttu-id="a311f-374">Fixed an issue with the *Change user sign-in* task in Azure AD Connect wizard:</span><span class="sxs-lookup"><span data-stu-id="a311f-374">Fixed an issue with the *Change user sign-in* task in Azure AD Connect wizard:</span></span>

  * <span data-ttu-id="a311f-375">The issue occurs when you have an existing Azure AD Connect deployment with Password Synchronization **enabled**, and you are trying to set the user sign-in method as *Pass-through Authentication*.</span><span class="sxs-lookup"><span data-stu-id="a311f-375">The issue occurs when you have an existing Azure AD Connect deployment with Password Synchronization **enabled**, and you are trying to set the user sign-in method as *Pass-through Authentication*.</span></span> <span data-ttu-id="a311f-376">Before the change is applied, the wizard incorrectly shows the "*Disable Password Synchronization*" prompt.</span><span class="sxs-lookup"><span data-stu-id="a311f-376">Before the change is applied, the wizard incorrectly shows the "*Disable Password Synchronization*" prompt.</span></span> <span data-ttu-id="a311f-377">However, Password Synchronization remains enabled after the change is applied.</span><span class="sxs-lookup"><span data-stu-id="a311f-377">However, Password Synchronization remains enabled after the change is applied.</span></span> <span data-ttu-id="a311f-378">With this fix, the wizard no longer shows the prompt.</span><span class="sxs-lookup"><span data-stu-id="a311f-378">With this fix, the wizard no longer shows the prompt.</span></span>

  * <span data-ttu-id="a311f-379">By design, the wizard does not disable Password Synchronization when you update the user sign-in method using the *Change user sign-in* task.</span><span class="sxs-lookup"><span data-stu-id="a311f-379">By design, the wizard does not disable Password Synchronization when you update the user sign-in method using the *Change user sign-in* task.</span></span> <span data-ttu-id="a311f-380">This is to avoid disruption to customers who want to keep Password Synchronization, even though they are enabling Pass-through Authentication or federation as their primary user sign-in method.</span><span class="sxs-lookup"><span data-stu-id="a311f-380">This is to avoid disruption to customers who want to keep Password Synchronization, even though they are enabling Pass-through Authentication or federation as their primary user sign-in method.</span></span>
  
  * <span data-ttu-id="a311f-381">If you wish to disable Password Synchronization after updating the user sign-in method, you must execute the *Customize Synchronization Configuration* task in the wizard.</span><span class="sxs-lookup"><span data-stu-id="a311f-381">If you wish to disable Password Synchronization after updating the user sign-in method, you must execute the *Customize Synchronization Configuration* task in the wizard.</span></span> <span data-ttu-id="a311f-382">When you navigate to the *Optional features* page, uncheck the *Password Synchronization* option.</span><span class="sxs-lookup"><span data-stu-id="a311f-382">When you navigate to the *Optional features* page, uncheck the *Password Synchronization* option.</span></span>
  
  * <span data-ttu-id="a311f-383">Note that the same issue also occurs if you try to enable/disable Seamless Single Sign-On.</span><span class="sxs-lookup"><span data-stu-id="a311f-383">Note that the same issue also occurs if you try to enable/disable Seamless Single Sign-On.</span></span> <span data-ttu-id="a311f-384">Specifically, you have an existing Azure AD Connect deployment with Password Synchronization enabled and the user sign-in method is already configured as *Pass-through Authentication*.</span><span class="sxs-lookup"><span data-stu-id="a311f-384">Specifically, you have an existing Azure AD Connect deployment with Password Synchronization enabled and the user sign-in method is already configured as *Pass-through Authentication*.</span></span> <span data-ttu-id="a311f-385">Using the *Change user sign-in* task, you try to check/uncheck the *Enable Seamless Single Sign-On* option while the user sign-in method remains configured as "Pass-through Authentication".</span><span class="sxs-lookup"><span data-stu-id="a311f-385">Using the *Change user sign-in* task, you try to check/uncheck the *Enable Seamless Single Sign-On* option while the user sign-in method remains configured as "Pass-through Authentication".</span></span> <span data-ttu-id="a311f-386">Before the change is applied, the wizard incorrectly shows the "*Disable Password Synchronization*" prompt.</span><span class="sxs-lookup"><span data-stu-id="a311f-386">Before the change is applied, the wizard incorrectly shows the "*Disable Password Synchronization*" prompt.</span></span> <span data-ttu-id="a311f-387">However, Password Synchronization remains enabled after the change is applied.</span><span class="sxs-lookup"><span data-stu-id="a311f-387">However, Password Synchronization remains enabled after the change is applied.</span></span> <span data-ttu-id="a311f-388">With this fix, the wizard no longer shows the prompt.</span><span class="sxs-lookup"><span data-stu-id="a311f-388">With this fix, the wizard no longer shows the prompt.</span></span>

* <span data-ttu-id="a311f-389">Fixed an issue with the *Change user sign-in* task in Azure AD Connect wizard:</span><span class="sxs-lookup"><span data-stu-id="a311f-389">Fixed an issue with the *Change user sign-in* task in Azure AD Connect wizard:</span></span>

   * <span data-ttu-id="a311f-390">The issue occurs when you have an existing Azure AD Connect deployment with Password Synchronization **disabled**, and you are trying to set the user sign-in method as *Pass-through Authentication*.</span><span class="sxs-lookup"><span data-stu-id="a311f-390">The issue occurs when you have an existing Azure AD Connect deployment with Password Synchronization **disabled**, and you are trying to set the user sign-in method as *Pass-through Authentication*.</span></span> <span data-ttu-id="a311f-391">When the change is applied, the wizard enables both Pass-through Authentication and Password Synchronization.</span><span class="sxs-lookup"><span data-stu-id="a311f-391">When the change is applied, the wizard enables both Pass-through Authentication and Password Synchronization.</span></span> <span data-ttu-id="a311f-392">With this fix, the wizard no longer enables Password Synchronization.</span><span class="sxs-lookup"><span data-stu-id="a311f-392">With this fix, the wizard no longer enables Password Synchronization.</span></span>

  * <span data-ttu-id="a311f-393">Previously, Password Synchronization was a pre-requisite for enabling Pass-through Authentication.</span><span class="sxs-lookup"><span data-stu-id="a311f-393">Previously, Password Synchronization was a pre-requisite for enabling Pass-through Authentication.</span></span> <span data-ttu-id="a311f-394">When you set the user sign-in method as *Pass-through Authentication*, the wizard would enable both Pass-through Authentication and Password Synchronization.</span><span class="sxs-lookup"><span data-stu-id="a311f-394">When you set the user sign-in method as *Pass-through Authentication*, the wizard would enable both Pass-through Authentication and Password Synchronization.</span></span> <span data-ttu-id="a311f-395">Recently, Password Synchronization was removed as a pre-requisite.</span><span class="sxs-lookup"><span data-stu-id="a311f-395">Recently, Password Synchronization was removed as a pre-requisite.</span></span> <span data-ttu-id="a311f-396">As part of Azure AD Connect version 1.1.557.0, a change was made to Azure AD Connect to not enable Password Synchronization when you set the user sign-in method as *Pass-through Authentication*.</span><span class="sxs-lookup"><span data-stu-id="a311f-396">As part of Azure AD Connect version 1.1.557.0, a change was made to Azure AD Connect to not enable Password Synchronization when you set the user sign-in method as *Pass-through Authentication*.</span></span> <span data-ttu-id="a311f-397">However, the change was only applied to Azure AD Connect installation.</span><span class="sxs-lookup"><span data-stu-id="a311f-397">However, the change was only applied to Azure AD Connect installation.</span></span> <span data-ttu-id="a311f-398">With this fix, the same change is also applied to the *Change user sign-in* task.</span><span class="sxs-lookup"><span data-stu-id="a311f-398">With this fix, the same change is also applied to the *Change user sign-in* task.</span></span>
  
  * <span data-ttu-id="a311f-399">Note that the same issue also occurs if you try to enable/disable Seamless Single Sign-On.</span><span class="sxs-lookup"><span data-stu-id="a311f-399">Note that the same issue also occurs if you try to enable/disable Seamless Single Sign-On.</span></span> <span data-ttu-id="a311f-400">Specifically, you have an existing Azure AD Connect deployment with Password Synchronization disabled and the user sign-in method is already configured as *Pass-through Authentication*.</span><span class="sxs-lookup"><span data-stu-id="a311f-400">Specifically, you have an existing Azure AD Connect deployment with Password Synchronization disabled and the user sign-in method is already configured as *Pass-through Authentication*.</span></span> <span data-ttu-id="a311f-401">Using the *Change user sign-in* task, you try to check/uncheck the *Enable Seamless Single Sign-On* option while the user sign-in method remains configured as "Pass-through Authentication".</span><span class="sxs-lookup"><span data-stu-id="a311f-401">Using the *Change user sign-in* task, you try to check/uncheck the *Enable Seamless Single Sign-On* option while the user sign-in method remains configured as "Pass-through Authentication".</span></span> <span data-ttu-id="a311f-402">When the change is applied, the wizard enables Password Synchronization.</span><span class="sxs-lookup"><span data-stu-id="a311f-402">When the change is applied, the wizard enables Password Synchronization.</span></span> <span data-ttu-id="a311f-403">With this fix, the wizard no longer enables Password Synchronization.</span><span class="sxs-lookup"><span data-stu-id="a311f-403">With this fix, the wizard no longer enables Password Synchronization.</span></span> 

* <span data-ttu-id="a311f-404">Fixed an issue that caused Azure AD Connect upgrade to fail with error "*Unable to upgrade the Synchronization Service*".</span><span class="sxs-lookup"><span data-stu-id="a311f-404">Fixed an issue that caused Azure AD Connect upgrade to fail with error "*Unable to upgrade the Synchronization Service*".</span></span> <span data-ttu-id="a311f-405">Further, the Synchronization Service can no longer start with event error "*The service was unable to start because the version of the database is newer than the version of the binaries installed*".</span><span class="sxs-lookup"><span data-stu-id="a311f-405">Further, the Synchronization Service can no longer start with event error "*The service was unable to start because the version of the database is newer than the version of the binaries installed*".</span></span> <span data-ttu-id="a311f-406">The issue occurs when the administrator performing the upgrade does not have sysadmin privilege to the SQL server that is being used by Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="a311f-406">The issue occurs when the administrator performing the upgrade does not have sysadmin privilege to the SQL server that is being used by Azure AD Connect.</span></span> <span data-ttu-id="a311f-407">With this fix, Azure AD Connect only requires the administrator to have db_owner privilege to the ADSync database during upgrade.</span><span class="sxs-lookup"><span data-stu-id="a311f-407">With this fix, Azure AD Connect only requires the administrator to have db_owner privilege to the ADSync database during upgrade.</span></span>

* <span data-ttu-id="a311f-408">Fixed an Azure AD Connect Upgrade issue that affected customers who have enabled [Seamless Single Sign-On](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-sso).</span><span class="sxs-lookup"><span data-stu-id="a311f-408">Fixed an Azure AD Connect Upgrade issue that affected customers who have enabled [Seamless Single Sign-On](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-sso).</span></span> <span data-ttu-id="a311f-409">After Azure AD Connect is upgraded, Seamless Single Sign-On incorrectly appears as disabled in Azure AD Connect wizard, even though the feature remains enabled and fully functional.</span><span class="sxs-lookup"><span data-stu-id="a311f-409">After Azure AD Connect is upgraded, Seamless Single Sign-On incorrectly appears as disabled in Azure AD Connect wizard, even though the feature remains enabled and fully functional.</span></span> <span data-ttu-id="a311f-410">With this fix, the feature now appears correctly as enabled in the wizard.</span><span class="sxs-lookup"><span data-stu-id="a311f-410">With this fix, the feature now appears correctly as enabled in the wizard.</span></span>

* <span data-ttu-id="a311f-411">Fixed an issue that caused Azure AD Connect wizard to always show the “*Configure Source Anchor*” prompt on the *Ready to Configure* page, even if no changes related to Source Anchor were made.</span><span class="sxs-lookup"><span data-stu-id="a311f-411">Fixed an issue that caused Azure AD Connect wizard to always show the “*Configure Source Anchor*” prompt on the *Ready to Configure* page, even if no changes related to Source Anchor were made.</span></span>

* <span data-ttu-id="a311f-412">When performing manual in-place upgrade of Azure AD Connect, the customer is required to provide the Global Administrator credentials of the corresponding Azure AD tenant.</span><span class="sxs-lookup"><span data-stu-id="a311f-412">When performing manual in-place upgrade of Azure AD Connect, the customer is required to provide the Global Administrator credentials of the corresponding Azure AD tenant.</span></span> <span data-ttu-id="a311f-413">Previously, upgrade could proceed even though the Global Administrator's credentials belonged to a different Azure AD tenant.</span><span class="sxs-lookup"><span data-stu-id="a311f-413">Previously, upgrade could proceed even though the Global Administrator's credentials belonged to a different Azure AD tenant.</span></span> <span data-ttu-id="a311f-414">While upgrade appears to complete successfully, certain configurations are not correctly persisted with the upgrade.</span><span class="sxs-lookup"><span data-stu-id="a311f-414">While upgrade appears to complete successfully, certain configurations are not correctly persisted with the upgrade.</span></span> <span data-ttu-id="a311f-415">With this change, the wizard prevents the upgrade from proceeding if the credentials provided do not match the Azure AD tenant.</span><span class="sxs-lookup"><span data-stu-id="a311f-415">With this change, the wizard prevents the upgrade from proceeding if the credentials provided do not match the Azure AD tenant.</span></span>

* <span data-ttu-id="a311f-416">Removed redundant logic that unnecessarily restarted Azure AD Connect Health service at the beginning of a manual upgrade.</span><span class="sxs-lookup"><span data-stu-id="a311f-416">Removed redundant logic that unnecessarily restarted Azure AD Connect Health service at the beginning of a manual upgrade.</span></span>


#### <a name="new-features-and-improvements"></a><span data-ttu-id="a311f-417">New features and improvements</span><span class="sxs-lookup"><span data-stu-id="a311f-417">New features and improvements</span></span>
* <span data-ttu-id="a311f-418">Added logic to simplify the steps required to set up Azure AD Connect with Microsoft Germany Cloud.</span><span class="sxs-lookup"><span data-stu-id="a311f-418">Added logic to simplify the steps required to set up Azure AD Connect with Microsoft Germany Cloud.</span></span> <span data-ttu-id="a311f-419">Previously, you are required to update specific registry keys on the Azure AD Connect server for it to work correctly with Microsoft Germany Cloud, as described in this article.</span><span class="sxs-lookup"><span data-stu-id="a311f-419">Previously, you are required to update specific registry keys on the Azure AD Connect server for it to work correctly with Microsoft Germany Cloud, as described in this article.</span></span> <span data-ttu-id="a311f-420">Now, Azure AD Connect can automatically detect if your tenant is in Microsoft Germany Cloud based on the global administrator credentials provided during setup.</span><span class="sxs-lookup"><span data-stu-id="a311f-420">Now, Azure AD Connect can automatically detect if your tenant is in Microsoft Germany Cloud based on the global administrator credentials provided during setup.</span></span>

### <a name="azure-ad-connect-sync"></a><span data-ttu-id="a311f-421">Azure AD Connect Sync</span><span class="sxs-lookup"><span data-stu-id="a311f-421">Azure AD Connect Sync</span></span>
>[!NOTE]
> <span data-ttu-id="a311f-422">Note: The Synchronization Service has a WMI interface that lets you develop your own custom scheduler.</span><span class="sxs-lookup"><span data-stu-id="a311f-422">Note: The Synchronization Service has a WMI interface that lets you develop your own custom scheduler.</span></span> <span data-ttu-id="a311f-423">This interface is now deprecated and will be removed from future versions of Azure AD Connect shipped after June 30, 2018.</span><span class="sxs-lookup"><span data-stu-id="a311f-423">This interface is now deprecated and will be removed from future versions of Azure AD Connect shipped after June 30, 2018.</span></span> <span data-ttu-id="a311f-424">Customers who want to customize synchronization schedule should use the [built-in scheduler (https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnectsync-feature-scheduler).</span><span class="sxs-lookup"><span data-stu-id="a311f-424">Customers who want to customize synchronization schedule should use the [built-in scheduler (https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnectsync-feature-scheduler).</span></span>

#### <a name="fixed-issues"></a><span data-ttu-id="a311f-425">Fixed issues</span><span class="sxs-lookup"><span data-stu-id="a311f-425">Fixed issues</span></span>
* <span data-ttu-id="a311f-426">When Azure AD Connect wizard creates the AD Connector account required to synchronize changes from on-premises Active Directory, it does not correctly assign the account the permission required to read PublicFolder objects.</span><span class="sxs-lookup"><span data-stu-id="a311f-426">When Azure AD Connect wizard creates the AD Connector account required to synchronize changes from on-premises Active Directory, it does not correctly assign the account the permission required to read PublicFolder objects.</span></span> <span data-ttu-id="a311f-427">This issue affects both Express installation and Custom installation.</span><span class="sxs-lookup"><span data-stu-id="a311f-427">This issue affects both Express installation and Custom installation.</span></span> <span data-ttu-id="a311f-428">This change fixes the issue.</span><span class="sxs-lookup"><span data-stu-id="a311f-428">This change fixes the issue.</span></span>

* <span data-ttu-id="a311f-429">Fixed an issue that caused the Azure AD Connect Wizard troubleshooting page to not render correctly for administrators running from Windows Server 2016.</span><span class="sxs-lookup"><span data-stu-id="a311f-429">Fixed an issue that caused the Azure AD Connect Wizard troubleshooting page to not render correctly for administrators running from Windows Server 2016.</span></span>

#### <a name="new-features-and-improvements"></a><span data-ttu-id="a311f-430">New features and improvements</span><span class="sxs-lookup"><span data-stu-id="a311f-430">New features and improvements</span></span>
* <span data-ttu-id="a311f-431">When troubleshooting Password Synchronization using the Azure AD Connect wizard troubleshooting page, the troubleshooting page now returns domain-specific status.</span><span class="sxs-lookup"><span data-stu-id="a311f-431">When troubleshooting Password Synchronization using the Azure AD Connect wizard troubleshooting page, the troubleshooting page now returns domain-specific status.</span></span>

* <span data-ttu-id="a311f-432">Previously, if you tried to enable Password Hash Synchronization, Azure AD Connect does not verify whether the AD Connector account has required permissions to synchronize password hashes from on-premises AD.</span><span class="sxs-lookup"><span data-stu-id="a311f-432">Previously, if you tried to enable Password Hash Synchronization, Azure AD Connect does not verify whether the AD Connector account has required permissions to synchronize password hashes from on-premises AD.</span></span> <span data-ttu-id="a311f-433">Now, Azure AD Connect wizard will verify and warn you if the AD Connector account does not have sufficient permissions.</span><span class="sxs-lookup"><span data-stu-id="a311f-433">Now, Azure AD Connect wizard will verify and warn you if the AD Connector account does not have sufficient permissions.</span></span>

### <a name="ad-fs-management"></a><span data-ttu-id="a311f-434">AD FS Management</span><span class="sxs-lookup"><span data-stu-id="a311f-434">AD FS Management</span></span>
#### <a name="fixed-issue"></a><span data-ttu-id="a311f-435">Fixed issue</span><span class="sxs-lookup"><span data-stu-id="a311f-435">Fixed issue</span></span>
* <span data-ttu-id="a311f-436">Fixed an issue related to the use of [ms-DS-ConsistencyGuid as Source Anchor](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-design-concepts#using-ms-ds-consistencyguid-as-sourceanchor) feature.</span><span class="sxs-lookup"><span data-stu-id="a311f-436">Fixed an issue related to the use of [ms-DS-ConsistencyGuid as Source Anchor](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-design-concepts#using-ms-ds-consistencyguid-as-sourceanchor) feature.</span></span> <span data-ttu-id="a311f-437">This issue affects customers who have configured *Federation with AD FS* as the user sign-in method.</span><span class="sxs-lookup"><span data-stu-id="a311f-437">This issue affects customers who have configured *Federation with AD FS* as the user sign-in method.</span></span> <span data-ttu-id="a311f-438">When you execute *Configure Source Anchor* task in the wizard, Azure AD Connect switches to using \*ms-DS-ConsistencyGuid as source attribute for immutableId.</span><span class="sxs-lookup"><span data-stu-id="a311f-438">When you execute *Configure Source Anchor* task in the wizard, Azure AD Connect switches to using \*ms-DS-ConsistencyGuid as source attribute for immutableId.</span></span> <span data-ttu-id="a311f-439">As part of this change, Azure AD Connect attempts to update the claim rules for ImmutableId in AD FS.</span><span class="sxs-lookup"><span data-stu-id="a311f-439">As part of this change, Azure AD Connect attempts to update the claim rules for ImmutableId in AD FS.</span></span> <span data-ttu-id="a311f-440">However, this step failed because Azure AD Connect did not have the administrator credentials required to configure AD FS.</span><span class="sxs-lookup"><span data-stu-id="a311f-440">However, this step failed because Azure AD Connect did not have the administrator credentials required to configure AD FS.</span></span> <span data-ttu-id="a311f-441">With this fix, Azure AD Connect now prompts you to enter the administrator credentials for AD FS when you execute the *Configure Source Anchor* task.</span><span class="sxs-lookup"><span data-stu-id="a311f-441">With this fix, Azure AD Connect now prompts you to enter the administrator credentials for AD FS when you execute the *Configure Source Anchor* task.</span></span>



## <a name="116140"></a><span data-ttu-id="a311f-442">1.1.614.0</span><span class="sxs-lookup"><span data-stu-id="a311f-442">1.1.614.0</span></span>
<span data-ttu-id="a311f-443">Status: September 05 2017</span><span class="sxs-lookup"><span data-stu-id="a311f-443">Status: September 05 2017</span></span>

### <a name="azure-ad-connect"></a><span data-ttu-id="a311f-444">Azure AD Connect</span><span class="sxs-lookup"><span data-stu-id="a311f-444">Azure AD Connect</span></span>

#### <a name="known-issues"></a><span data-ttu-id="a311f-445">Known issues</span><span class="sxs-lookup"><span data-stu-id="a311f-445">Known issues</span></span>
* <span data-ttu-id="a311f-446">There is a known issue that is causing Azure AD Connect upgrade to fail with error "*Unable to upgrade the Synchronization Service*".</span><span class="sxs-lookup"><span data-stu-id="a311f-446">There is a known issue that is causing Azure AD Connect upgrade to fail with error "*Unable to upgrade the Synchronization Service*".</span></span> <span data-ttu-id="a311f-447">Further, the Synchronization Service can no longer start with event error "*The service was unable to start because the version of the database is newer than the version of the binaries installed*".</span><span class="sxs-lookup"><span data-stu-id="a311f-447">Further, the Synchronization Service can no longer start with event error "*The service was unable to start because the version of the database is newer than the version of the binaries installed*".</span></span> <span data-ttu-id="a311f-448">The issue occurs when the administrator performing the upgrade does not have sysadmin privilege to the SQL server that is being used by Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="a311f-448">The issue occurs when the administrator performing the upgrade does not have sysadmin privilege to the SQL server that is being used by Azure AD Connect.</span></span> <span data-ttu-id="a311f-449">Dbo permissions are not sufficient.</span><span class="sxs-lookup"><span data-stu-id="a311f-449">Dbo permissions are not sufficient.</span></span>

* <span data-ttu-id="a311f-450">There is a known issue with Azure AD Connect Upgrade that is affecting customers who have enabled [Seamless Single Sign-On](active-directory-aadconnect-sso.md).</span><span class="sxs-lookup"><span data-stu-id="a311f-450">There is a known issue with Azure AD Connect Upgrade that is affecting customers who have enabled [Seamless Single Sign-On](active-directory-aadconnect-sso.md).</span></span> <span data-ttu-id="a311f-451">After Azure AD Connect is upgraded, the feature appears as disabled in the wizard, even though the feature remains enabled.</span><span class="sxs-lookup"><span data-stu-id="a311f-451">After Azure AD Connect is upgraded, the feature appears as disabled in the wizard, even though the feature remains enabled.</span></span> <span data-ttu-id="a311f-452">A fix for this issue will be provided in future release.</span><span class="sxs-lookup"><span data-stu-id="a311f-452">A fix for this issue will be provided in future release.</span></span> <span data-ttu-id="a311f-453">Customers who are concerned about this display issue can manually fix it by enabling Seamless Single Sign-On in the wizard.</span><span class="sxs-lookup"><span data-stu-id="a311f-453">Customers who are concerned about this display issue can manually fix it by enabling Seamless Single Sign-On in the wizard.</span></span>

#### <a name="fixed-issues"></a><span data-ttu-id="a311f-454">Fixed issues</span><span class="sxs-lookup"><span data-stu-id="a311f-454">Fixed issues</span></span>
* <span data-ttu-id="a311f-455">Fixed an issue that prevented Azure AD Connect from updating the claims rules in on-premises AD FS while enabling the [ms-DS-ConsistencyGuid as Source Anchor](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-design-concepts#using-ms-ds-consistencyguid-as-sourceanchor) feature.</span><span class="sxs-lookup"><span data-stu-id="a311f-455">Fixed an issue that prevented Azure AD Connect from updating the claims rules in on-premises AD FS while enabling the [ms-DS-ConsistencyGuid as Source Anchor](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-design-concepts#using-ms-ds-consistencyguid-as-sourceanchor) feature.</span></span> <span data-ttu-id="a311f-456">The issue occurs if you try to enable the feature for an existing Azure AD Connect deployment that has AD FS configured as the sign-in method.</span><span class="sxs-lookup"><span data-stu-id="a311f-456">The issue occurs if you try to enable the feature for an existing Azure AD Connect deployment that has AD FS configured as the sign-in method.</span></span> <span data-ttu-id="a311f-457">The issue occurs because the wizard does not prompt for ADFS credentials before trying to update the claims rules in AD FS.</span><span class="sxs-lookup"><span data-stu-id="a311f-457">The issue occurs because the wizard does not prompt for ADFS credentials before trying to update the claims rules in AD FS.</span></span>
* <span data-ttu-id="a311f-458">Fixed an issue that caused Azure AD Connect to fail installation if the on-premises AD forest has NTLM disabled.</span><span class="sxs-lookup"><span data-stu-id="a311f-458">Fixed an issue that caused Azure AD Connect to fail installation if the on-premises AD forest has NTLM disabled.</span></span> <span data-ttu-id="a311f-459">The issue is due to Azure AD Connect wizard not providing fully qualified credentials when creating the security contexts required for Kerberos authentication.</span><span class="sxs-lookup"><span data-stu-id="a311f-459">The issue is due to Azure AD Connect wizard not providing fully qualified credentials when creating the security contexts required for Kerberos authentication.</span></span> <span data-ttu-id="a311f-460">This causes Kerberos authentication to fail and Azure AD Connect wizard to fall back to using NTLM.</span><span class="sxs-lookup"><span data-stu-id="a311f-460">This causes Kerberos authentication to fail and Azure AD Connect wizard to fall back to using NTLM.</span></span>

### <a name="azure-ad-connect-sync"></a><span data-ttu-id="a311f-461">Azure AD Connect Sync</span><span class="sxs-lookup"><span data-stu-id="a311f-461">Azure AD Connect Sync</span></span>
#### <a name="fixed-issues"></a><span data-ttu-id="a311f-462">Fixed issues</span><span class="sxs-lookup"><span data-stu-id="a311f-462">Fixed issues</span></span>
* <span data-ttu-id="a311f-463">Fixed an issue where new synchronization rule cannot be created if the Tag attribute isn’t populated.</span><span class="sxs-lookup"><span data-stu-id="a311f-463">Fixed an issue where new synchronization rule cannot be created if the Tag attribute isn’t populated.</span></span>
* <span data-ttu-id="a311f-464">Fixed an issue that caused Azure AD Connect to connect to on-premises AD for Password Synchronization using NTLM, even though Kerberos is available.</span><span class="sxs-lookup"><span data-stu-id="a311f-464">Fixed an issue that caused Azure AD Connect to connect to on-premises AD for Password Synchronization using NTLM, even though Kerberos is available.</span></span> <span data-ttu-id="a311f-465">This issue occurs if the on-premises AD topology has one or more domain controllers that were restored from a backup.</span><span class="sxs-lookup"><span data-stu-id="a311f-465">This issue occurs if the on-premises AD topology has one or more domain controllers that were restored from a backup.</span></span>
* <span data-ttu-id="a311f-466">Fixed an issue that caused full synchronization steps to occur unnecessarily after upgrade.</span><span class="sxs-lookup"><span data-stu-id="a311f-466">Fixed an issue that caused full synchronization steps to occur unnecessarily after upgrade.</span></span> <span data-ttu-id="a311f-467">In general, running full synchronization steps is required after upgrade if there are changes to out-of-box synchronization rules.</span><span class="sxs-lookup"><span data-stu-id="a311f-467">In general, running full synchronization steps is required after upgrade if there are changes to out-of-box synchronization rules.</span></span> <span data-ttu-id="a311f-468">The issue was due to an error in the change detection logic that incorrectly detected a change when encountering synchronization rule expression with newline characters.</span><span class="sxs-lookup"><span data-stu-id="a311f-468">The issue was due to an error in the change detection logic that incorrectly detected a change when encountering synchronization rule expression with newline characters.</span></span> <span data-ttu-id="a311f-469">Newline characters are inserted into sync rule expression to improve readability.</span><span class="sxs-lookup"><span data-stu-id="a311f-469">Newline characters are inserted into sync rule expression to improve readability.</span></span>
* <span data-ttu-id="a311f-470">Fixed an issue that can cause the Azure AD Connect server to not work correctly after Automatic Upgrade.</span><span class="sxs-lookup"><span data-stu-id="a311f-470">Fixed an issue that can cause the Azure AD Connect server to not work correctly after Automatic Upgrade.</span></span> <span data-ttu-id="a311f-471">This issue affects Azure AD Connect servers with version 1.1.443.0 (or earlier).</span><span class="sxs-lookup"><span data-stu-id="a311f-471">This issue affects Azure AD Connect servers with version 1.1.443.0 (or earlier).</span></span> <span data-ttu-id="a311f-472">For details about the issue, refer to article [Azure AD Connect is not working correctly after an automatic upgrade](https://support.microsoft.com/help/4038479/azure-ad-connect-is-not-working-correctly-after-an-automatic-upgrade).</span><span class="sxs-lookup"><span data-stu-id="a311f-472">For details about the issue, refer to article [Azure AD Connect is not working correctly after an automatic upgrade](https://support.microsoft.com/help/4038479/azure-ad-connect-is-not-working-correctly-after-an-automatic-upgrade).</span></span>
* <span data-ttu-id="a311f-473">Fixed an issue that can cause Automatic Upgrade to be retried every 5 minutes when errors are encountered.</span><span class="sxs-lookup"><span data-stu-id="a311f-473">Fixed an issue that can cause Automatic Upgrade to be retried every 5 minutes when errors are encountered.</span></span> <span data-ttu-id="a311f-474">With the fix, Automatic Upgrade retries with exponential back-off when errors are encountered.</span><span class="sxs-lookup"><span data-stu-id="a311f-474">With the fix, Automatic Upgrade retries with exponential back-off when errors are encountered.</span></span>
* <span data-ttu-id="a311f-475">Fixed an issue where password synchronization event 611 is incorrectly shown in Windows Application Event logs as **informational** instead of **error**.</span><span class="sxs-lookup"><span data-stu-id="a311f-475">Fixed an issue where password synchronization event 611 is incorrectly shown in Windows Application Event logs as **informational** instead of **error**.</span></span> <span data-ttu-id="a311f-476">Event 611 is generated whenever password synchronization encounters an issue.</span><span class="sxs-lookup"><span data-stu-id="a311f-476">Event 611 is generated whenever password synchronization encounters an issue.</span></span> 
* <span data-ttu-id="a311f-477">Fixed an issue in the Azure AD Connect wizard that allows Group writeback feature to be enabled without selecting an OU required for Group writeback.</span><span class="sxs-lookup"><span data-stu-id="a311f-477">Fixed an issue in the Azure AD Connect wizard that allows Group writeback feature to be enabled without selecting an OU required for Group writeback.</span></span>

#### <a name="new-features-and-improvements"></a><span data-ttu-id="a311f-478">New features and improvements</span><span class="sxs-lookup"><span data-stu-id="a311f-478">New features and improvements</span></span>
* <span data-ttu-id="a311f-479">Added a Troubleshoot task to Azure AD Connect wizard under Additional Tasks.</span><span class="sxs-lookup"><span data-stu-id="a311f-479">Added a Troubleshoot task to Azure AD Connect wizard under Additional Tasks.</span></span> <span data-ttu-id="a311f-480">Customers can leverage this task to troubleshoot issues related to password synchronization and collect general diagnostics.</span><span class="sxs-lookup"><span data-stu-id="a311f-480">Customers can leverage this task to troubleshoot issues related to password synchronization and collect general diagnostics.</span></span> <span data-ttu-id="a311f-481">In the future, the Troubleshoot task will be extended to include other directory synchronization-related issues.</span><span class="sxs-lookup"><span data-stu-id="a311f-481">In the future, the Troubleshoot task will be extended to include other directory synchronization-related issues.</span></span>
* <span data-ttu-id="a311f-482">Azure AD Connect now supports a new installation mode called **Use Existing Database**.</span><span class="sxs-lookup"><span data-stu-id="a311f-482">Azure AD Connect now supports a new installation mode called **Use Existing Database**.</span></span> <span data-ttu-id="a311f-483">This installation mode allows customers to install Azure AD Connect that specifies an existing ADSync database.</span><span class="sxs-lookup"><span data-stu-id="a311f-483">This installation mode allows customers to install Azure AD Connect that specifies an existing ADSync database.</span></span> <span data-ttu-id="a311f-484">For more information about this feature, refer to article [Use an existing database](active-directory-aadconnect-existing-database.md).</span><span class="sxs-lookup"><span data-stu-id="a311f-484">For more information about this feature, refer to article [Use an existing database](active-directory-aadconnect-existing-database.md).</span></span>
* <span data-ttu-id="a311f-485">For improved security, Azure AD Connect now defaults to using TLS1.2 to connect to Azure AD for directory synchronization.</span><span class="sxs-lookup"><span data-stu-id="a311f-485">For improved security, Azure AD Connect now defaults to using TLS1.2 to connect to Azure AD for directory synchronization.</span></span> <span data-ttu-id="a311f-486">Previously, the default was TLS1.0.</span><span class="sxs-lookup"><span data-stu-id="a311f-486">Previously, the default was TLS1.0.</span></span>
* <span data-ttu-id="a311f-487">When Azure AD Connect Password Synchronization Agent starts up, it tries to connect to Azure AD well-known endpoint for password synchronization.</span><span class="sxs-lookup"><span data-stu-id="a311f-487">When Azure AD Connect Password Synchronization Agent starts up, it tries to connect to Azure AD well-known endpoint for password synchronization.</span></span> <span data-ttu-id="a311f-488">Upon successful connection, it is redirected to a region-specific endpoint.</span><span class="sxs-lookup"><span data-stu-id="a311f-488">Upon successful connection, it is redirected to a region-specific endpoint.</span></span> <span data-ttu-id="a311f-489">Previously, the Password Synchronization Agent caches the region-specific endpoint until it is restarted.</span><span class="sxs-lookup"><span data-stu-id="a311f-489">Previously, the Password Synchronization Agent caches the region-specific endpoint until it is restarted.</span></span> <span data-ttu-id="a311f-490">Now, the agent clears the cache and retries with the well-known endpoint if it encounters connection issue with the region-specific endpoint.</span><span class="sxs-lookup"><span data-stu-id="a311f-490">Now, the agent clears the cache and retries with the well-known endpoint if it encounters connection issue with the region-specific endpoint.</span></span> <span data-ttu-id="a311f-491">This change ensures that password synchronization can failover to a different region-specific endpoint when the cached region-specific endpoint is no longer available.</span><span class="sxs-lookup"><span data-stu-id="a311f-491">This change ensures that password synchronization can failover to a different region-specific endpoint when the cached region-specific endpoint is no longer available.</span></span>
* <span data-ttu-id="a311f-492">To synchronize changes from an on-premises AD forest, an AD DS account is required.</span><span class="sxs-lookup"><span data-stu-id="a311f-492">To synchronize changes from an on-premises AD forest, an AD DS account is required.</span></span> <span data-ttu-id="a311f-493">You can either (i) create the AD DS account yourself and provide its credential to Azure AD Connect, or (ii) provide an Enterprise Admin's credentials and let Azure AD Connect create the AD DS account for you.</span><span class="sxs-lookup"><span data-stu-id="a311f-493">You can either (i) create the AD DS account yourself and provide its credential to Azure AD Connect, or (ii) provide an Enterprise Admin's credentials and let Azure AD Connect create the AD DS account for you.</span></span> <span data-ttu-id="a311f-494">Previously, (i) is the default option in the Azure AD Connect wizard.</span><span class="sxs-lookup"><span data-stu-id="a311f-494">Previously, (i) is the default option in the Azure AD Connect wizard.</span></span> <span data-ttu-id="a311f-495">Now, (ii) is the default option.</span><span class="sxs-lookup"><span data-stu-id="a311f-495">Now, (ii) is the default option.</span></span>

### <a name="azure-ad-connect-health"></a><span data-ttu-id="a311f-496">Azure AD Connect Health</span><span class="sxs-lookup"><span data-stu-id="a311f-496">Azure AD Connect Health</span></span>

#### <a name="new-features-and-improvements"></a><span data-ttu-id="a311f-497">New features and improvements</span><span class="sxs-lookup"><span data-stu-id="a311f-497">New features and improvements</span></span>
* <span data-ttu-id="a311f-498">Added support for Microsoft Azure Government Cloud and Microsoft Cloud Germany.</span><span class="sxs-lookup"><span data-stu-id="a311f-498">Added support for Microsoft Azure Government Cloud and Microsoft Cloud Germany.</span></span>

### <a name="ad-fs-management"></a><span data-ttu-id="a311f-499">AD FS Management</span><span class="sxs-lookup"><span data-stu-id="a311f-499">AD FS Management</span></span>
#### <a name="fixed-issues"></a><span data-ttu-id="a311f-500">Fixed issues</span><span class="sxs-lookup"><span data-stu-id="a311f-500">Fixed issues</span></span>
* <span data-ttu-id="a311f-501">The Initialize-ADSyncNGCKeysWriteBack cmdlet in the AD prep powershell module was incorrectly applying ACLs to the device registration container and would therefore only inherit existing permissions.</span><span class="sxs-lookup"><span data-stu-id="a311f-501">The Initialize-ADSyncNGCKeysWriteBack cmdlet in the AD prep powershell module was incorrectly applying ACLs to the device registration container and would therefore only inherit existing permissions.</span></span>  <span data-ttu-id="a311f-502">This was updated so that the sync service account has the correct permissions.</span><span class="sxs-lookup"><span data-stu-id="a311f-502">This was updated so that the sync service account has the correct permissions.</span></span>

#### <a name="new-features-and-improvements"></a><span data-ttu-id="a311f-503">New features and improvements</span><span class="sxs-lookup"><span data-stu-id="a311f-503">New features and improvements</span></span>
* <span data-ttu-id="a311f-504">The AAD Connect Verify ADFS Login task was updated so that it verifies logins against Microsoft Online and not just token retrieval from ADFS.</span><span class="sxs-lookup"><span data-stu-id="a311f-504">The AAD Connect Verify ADFS Login task was updated so that it verifies logins against Microsoft Online and not just token retrieval from ADFS.</span></span>
* <span data-ttu-id="a311f-505">When setting up a new ADFS farm using AAD Connect, the page asking for ADFS credentials was moved so that it now occurs before the user is asked to provide ADFS and WAP servers.</span><span class="sxs-lookup"><span data-stu-id="a311f-505">When setting up a new ADFS farm using AAD Connect, the page asking for ADFS credentials was moved so that it now occurs before the user is asked to provide ADFS and WAP servers.</span></span>  <span data-ttu-id="a311f-506">This allows AAD Connect to check that the account specified has the correct permissions.</span><span class="sxs-lookup"><span data-stu-id="a311f-506">This allows AAD Connect to check that the account specified has the correct permissions.</span></span>
* <span data-ttu-id="a311f-507">During AAD Connect upgrade, we will no longer fail an upgrade if the ADFS AAD Trust fails to update.</span><span class="sxs-lookup"><span data-stu-id="a311f-507">During AAD Connect upgrade, we will no longer fail an upgrade if the ADFS AAD Trust fails to update.</span></span>  <span data-ttu-id="a311f-508">If that happens, the user will be shown an appropriate warning message and should proceed to reset the trust via the AAD Connect additional task.</span><span class="sxs-lookup"><span data-stu-id="a311f-508">If that happens, the user will be shown an appropriate warning message and should proceed to reset the trust via the AAD Connect additional task.</span></span>

### <a name="seamless-single-sign-on"></a><span data-ttu-id="a311f-509">Seamless Single Sign-On</span><span class="sxs-lookup"><span data-stu-id="a311f-509">Seamless Single Sign-On</span></span>
#### <a name="fixed-issues"></a><span data-ttu-id="a311f-510">Fixed issues</span><span class="sxs-lookup"><span data-stu-id="a311f-510">Fixed issues</span></span>
* <span data-ttu-id="a311f-511">Fixed an issue that caused Azure AD Connect wizard to return an error if you try to enable [Seamless Single Sign-On](active-directory-aadconnect-sso.md).</span><span class="sxs-lookup"><span data-stu-id="a311f-511">Fixed an issue that caused Azure AD Connect wizard to return an error if you try to enable [Seamless Single Sign-On](active-directory-aadconnect-sso.md).</span></span> <span data-ttu-id="a311f-512">The error message is *“Configuration of Microsoft Azure AD Connect Authentication Agent failed.”*</span><span class="sxs-lookup"><span data-stu-id="a311f-512">The error message is *“Configuration of Microsoft Azure AD Connect Authentication Agent failed.”*</span></span> <span data-ttu-id="a311f-513">This issue affects existing customers who had manually upgraded the preview version of the Authentication Agents for [Pass-through Authentication](active-directory-aadconnect-sso.md) based on the steps described in this [article](active-directory-aadconnect-pass-through-authentication-upgrade-preview-authentication-agents.md).</span><span class="sxs-lookup"><span data-stu-id="a311f-513">This issue affects existing customers who had manually upgraded the preview version of the Authentication Agents for [Pass-through Authentication](active-directory-aadconnect-sso.md) based on the steps described in this [article](active-directory-aadconnect-pass-through-authentication-upgrade-preview-authentication-agents.md).</span></span>


## <a name="115610"></a><span data-ttu-id="a311f-514">1.1.561.0</span><span class="sxs-lookup"><span data-stu-id="a311f-514">1.1.561.0</span></span>
<span data-ttu-id="a311f-515">Status: July 23 2017</span><span class="sxs-lookup"><span data-stu-id="a311f-515">Status: July 23 2017</span></span>

### <a name="azure-ad-connect"></a><span data-ttu-id="a311f-516">Azure AD Connect</span><span class="sxs-lookup"><span data-stu-id="a311f-516">Azure AD Connect</span></span>

#### <a name="fixed-issue"></a><span data-ttu-id="a311f-517">Fixed issue</span><span class="sxs-lookup"><span data-stu-id="a311f-517">Fixed issue</span></span>

* <span data-ttu-id="a311f-518">Fixed an issue that caused the out-of-box synchronization rule “Out to AD - User ImmutableId” to be removed:</span><span class="sxs-lookup"><span data-stu-id="a311f-518">Fixed an issue that caused the out-of-box synchronization rule “Out to AD - User ImmutableId” to be removed:</span></span>

  * <span data-ttu-id="a311f-519">The issue occurs when Azure AD Connect is upgraded, or when the task option *Update Synchronization Configuration* in the Azure AD Connect wizard is used to update Azure AD Connect synchronization configuration.</span><span class="sxs-lookup"><span data-stu-id="a311f-519">The issue occurs when Azure AD Connect is upgraded, or when the task option *Update Synchronization Configuration* in the Azure AD Connect wizard is used to update Azure AD Connect synchronization configuration.</span></span>
  
  * <span data-ttu-id="a311f-520">This synchronization rule is applicable to customers who have enabled the [ms-DS-ConsistencyGuid as Source Anchor feature](active-directory-aadconnect-design-concepts.md#using-ms-ds-consistencyguid-as-sourceanchor).</span><span class="sxs-lookup"><span data-stu-id="a311f-520">This synchronization rule is applicable to customers who have enabled the [ms-DS-ConsistencyGuid as Source Anchor feature](active-directory-aadconnect-design-concepts.md#using-ms-ds-consistencyguid-as-sourceanchor).</span></span> <span data-ttu-id="a311f-521">This feature was introduced in version 1.1.524.0 and after.</span><span class="sxs-lookup"><span data-stu-id="a311f-521">This feature was introduced in version 1.1.524.0 and after.</span></span> <span data-ttu-id="a311f-522">When the synchronization rule is removed, Azure AD Connect can no longer populate on-premises AD ms-DS-ConsistencyGuid attribute with the ObjectGuid attribute value.</span><span class="sxs-lookup"><span data-stu-id="a311f-522">When the synchronization rule is removed, Azure AD Connect can no longer populate on-premises AD ms-DS-ConsistencyGuid attribute with the ObjectGuid attribute value.</span></span> <span data-ttu-id="a311f-523">It does not prevent new users from being provisioned into Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a311f-523">It does not prevent new users from being provisioned into Azure AD.</span></span>
  
  * <span data-ttu-id="a311f-524">The fix ensures that the synchronization rule will no longer be removed during upgrade, or during configuration change, as long as the feature is enabled.</span><span class="sxs-lookup"><span data-stu-id="a311f-524">The fix ensures that the synchronization rule will no longer be removed during upgrade, or during configuration change, as long as the feature is enabled.</span></span> <span data-ttu-id="a311f-525">For existing customers who have been affected by this issue, the fix also ensures that the synchronization rule is added back after upgrading to this version of Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="a311f-525">For existing customers who have been affected by this issue, the fix also ensures that the synchronization rule is added back after upgrading to this version of Azure AD Connect.</span></span>

* <span data-ttu-id="a311f-526">Fixed an issue that causes out-of-box synchronization rules to have precedence value that is less than 100:</span><span class="sxs-lookup"><span data-stu-id="a311f-526">Fixed an issue that causes out-of-box synchronization rules to have precedence value that is less than 100:</span></span>

  * <span data-ttu-id="a311f-527">In general, precedence values 0 - 99 are reserved for custom synchronization rules.</span><span class="sxs-lookup"><span data-stu-id="a311f-527">In general, precedence values 0 - 99 are reserved for custom synchronization rules.</span></span> <span data-ttu-id="a311f-528">During upgrade, the precedence values for out-of-box synchronization rules are updated to accommodate sync rule changes.</span><span class="sxs-lookup"><span data-stu-id="a311f-528">During upgrade, the precedence values for out-of-box synchronization rules are updated to accommodate sync rule changes.</span></span> <span data-ttu-id="a311f-529">Due to this issue, out-of-box synchronization rules may be assigned precedence value that is less than 100.</span><span class="sxs-lookup"><span data-stu-id="a311f-529">Due to this issue, out-of-box synchronization rules may be assigned precedence value that is less than 100.</span></span>
  
  * <span data-ttu-id="a311f-530">The fix prevents the issue from occurring during upgrade.</span><span class="sxs-lookup"><span data-stu-id="a311f-530">The fix prevents the issue from occurring during upgrade.</span></span> <span data-ttu-id="a311f-531">However, it does not restore the precedence values for existing customers who have been affected by the issue.</span><span class="sxs-lookup"><span data-stu-id="a311f-531">However, it does not restore the precedence values for existing customers who have been affected by the issue.</span></span> <span data-ttu-id="a311f-532">A separate fix will be provided in the future to help with the restoration.</span><span class="sxs-lookup"><span data-stu-id="a311f-532">A separate fix will be provided in the future to help with the restoration.</span></span>

* <span data-ttu-id="a311f-533">Fixed an issue where the [Domain and OU Filtering screen](active-directory-aadconnect-get-started-custom.md#domain-and-ou-filtering) in the Azure AD Connect wizard is showing *Sync all domains and OUs* option as selected, even though OU-based filtering is enabled.</span><span class="sxs-lookup"><span data-stu-id="a311f-533">Fixed an issue where the [Domain and OU Filtering screen](active-directory-aadconnect-get-started-custom.md#domain-and-ou-filtering) in the Azure AD Connect wizard is showing *Sync all domains and OUs* option as selected, even though OU-based filtering is enabled.</span></span>

*   <span data-ttu-id="a311f-534">Fixed an issue that caused the [Configure Directory Partitions screen](active-directory-aadconnectsync-configure-filtering.md#organizational-unitbased-filtering) in the Synchronization Service Manager to return an error if the *Refresh* button is clicked.</span><span class="sxs-lookup"><span data-stu-id="a311f-534">Fixed an issue that caused the [Configure Directory Partitions screen](active-directory-aadconnectsync-configure-filtering.md#organizational-unitbased-filtering) in the Synchronization Service Manager to return an error if the *Refresh* button is clicked.</span></span> <span data-ttu-id="a311f-535">The error message is *“An error was encountered while refreshing domains: Unable to cast object of type ‘System.Collections.ArrayList’ to type ‘Microsoft.DirectoryServices.MetadirectoryServices.UI.PropertySheetBase.MaPropertyPages.PartitionObject.”*</span><span class="sxs-lookup"><span data-stu-id="a311f-535">The error message is *“An error was encountered while refreshing domains: Unable to cast object of type ‘System.Collections.ArrayList’ to type ‘Microsoft.DirectoryServices.MetadirectoryServices.UI.PropertySheetBase.MaPropertyPages.PartitionObject.”*</span></span> <span data-ttu-id="a311f-536">The error occurs when new AD domain has been added to an existing AD forest and you are trying to update Azure AD Connect using the Refresh button.</span><span class="sxs-lookup"><span data-stu-id="a311f-536">The error occurs when new AD domain has been added to an existing AD forest and you are trying to update Azure AD Connect using the Refresh button.</span></span>

#### <a name="new-features-and-improvements"></a><span data-ttu-id="a311f-537">New features and improvements</span><span class="sxs-lookup"><span data-stu-id="a311f-537">New features and improvements</span></span>

* <span data-ttu-id="a311f-538">[Automatic Upgrade feature](active-directory-aadconnect-feature-automatic-upgrade.md) has been expanded to support customers with the following configurations:</span><span class="sxs-lookup"><span data-stu-id="a311f-538">[Automatic Upgrade feature](active-directory-aadconnect-feature-automatic-upgrade.md) has been expanded to support customers with the following configurations:</span></span>
  * <span data-ttu-id="a311f-539">You have enabled the device writeback feature.</span><span class="sxs-lookup"><span data-stu-id="a311f-539">You have enabled the device writeback feature.</span></span>
  * <span data-ttu-id="a311f-540">You have enabled the group writeback feature.</span><span class="sxs-lookup"><span data-stu-id="a311f-540">You have enabled the group writeback feature.</span></span>
  * <span data-ttu-id="a311f-541">The installation is not an Express settings or a DirSync upgrade.</span><span class="sxs-lookup"><span data-stu-id="a311f-541">The installation is not an Express settings or a DirSync upgrade.</span></span>
  * <span data-ttu-id="a311f-542">You have more than 100,000 objects in the metaverse.</span><span class="sxs-lookup"><span data-stu-id="a311f-542">You have more than 100,000 objects in the metaverse.</span></span>
  * <span data-ttu-id="a311f-543">You are connecting to more than one forest.</span><span class="sxs-lookup"><span data-stu-id="a311f-543">You are connecting to more than one forest.</span></span> <span data-ttu-id="a311f-544">Express setup only connects to one forest.</span><span class="sxs-lookup"><span data-stu-id="a311f-544">Express setup only connects to one forest.</span></span>
  * <span data-ttu-id="a311f-545">The AD Connector account is not the default MSOL_ account anymore.</span><span class="sxs-lookup"><span data-stu-id="a311f-545">The AD Connector account is not the default MSOL_ account anymore.</span></span>
  * <span data-ttu-id="a311f-546">The server is set to be in staging mode.</span><span class="sxs-lookup"><span data-stu-id="a311f-546">The server is set to be in staging mode.</span></span>
  * <span data-ttu-id="a311f-547">You have enabled the user writeback feature.</span><span class="sxs-lookup"><span data-stu-id="a311f-547">You have enabled the user writeback feature.</span></span>
  
  >[!NOTE]
  ><span data-ttu-id="a311f-548">The scope expansion of the Automatic Upgrade feature affects customers with Azure AD Connect build 1.1.105.0 and after.</span><span class="sxs-lookup"><span data-stu-id="a311f-548">The scope expansion of the Automatic Upgrade feature affects customers with Azure AD Connect build 1.1.105.0 and after.</span></span> <span data-ttu-id="a311f-549">If you do not want your Azure AD Connect server to be automatically upgraded, you must run following cmdlet on your Azure AD Connect server: `Set-ADSyncAutoUpgrade -AutoUpgradeState disabled`.</span><span class="sxs-lookup"><span data-stu-id="a311f-549">If you do not want your Azure AD Connect server to be automatically upgraded, you must run following cmdlet on your Azure AD Connect server: `Set-ADSyncAutoUpgrade -AutoUpgradeState disabled`.</span></span> <span data-ttu-id="a311f-550">For more information about enabling/disabling Automatic Upgrade, refer to article [Azure AD Connect: Automatic upgrade](active-directory-aadconnect-feature-automatic-upgrade.md).</span><span class="sxs-lookup"><span data-stu-id="a311f-550">For more information about enabling/disabling Automatic Upgrade, refer to article [Azure AD Connect: Automatic upgrade](active-directory-aadconnect-feature-automatic-upgrade.md).</span></span>

## <a name="115580"></a><span data-ttu-id="a311f-551">1.1.558.0</span><span class="sxs-lookup"><span data-stu-id="a311f-551">1.1.558.0</span></span>
<span data-ttu-id="a311f-552">Status: Will not be released.</span><span class="sxs-lookup"><span data-stu-id="a311f-552">Status: Will not be released.</span></span> <span data-ttu-id="a311f-553">Changes in this build are included in version 1.1.561.0.</span><span class="sxs-lookup"><span data-stu-id="a311f-553">Changes in this build are included in version 1.1.561.0.</span></span>

### <a name="azure-ad-connect"></a><span data-ttu-id="a311f-554">Azure AD Connect</span><span class="sxs-lookup"><span data-stu-id="a311f-554">Azure AD Connect</span></span>

#### <a name="fixed-issue"></a><span data-ttu-id="a311f-555">Fixed issue</span><span class="sxs-lookup"><span data-stu-id="a311f-555">Fixed issue</span></span>

* <span data-ttu-id="a311f-556">Fixed an issue that caused the out-of-box synchronization rule “Out to AD - User ImmutableId” to be removed when OU-based filtering configuration is updated.</span><span class="sxs-lookup"><span data-stu-id="a311f-556">Fixed an issue that caused the out-of-box synchronization rule “Out to AD - User ImmutableId” to be removed when OU-based filtering configuration is updated.</span></span> <span data-ttu-id="a311f-557">This synchronization rule is required for the [ms-DS-ConsistencyGuid as Source Anchor feature](active-directory-aadconnect-design-concepts.md#using-ms-ds-consistencyguid-as-sourceanchor).</span><span class="sxs-lookup"><span data-stu-id="a311f-557">This synchronization rule is required for the [ms-DS-ConsistencyGuid as Source Anchor feature](active-directory-aadconnect-design-concepts.md#using-ms-ds-consistencyguid-as-sourceanchor).</span></span>

* <span data-ttu-id="a311f-558">Fixed an issue where the [Domain and OU Filtering screen](active-directory-aadconnect-get-started-custom.md#domain-and-ou-filtering) in the Azure AD Connect wizard is showing *Sync all domains and OUs* option as selected, even though OU-based filtering is enabled.</span><span class="sxs-lookup"><span data-stu-id="a311f-558">Fixed an issue where the [Domain and OU Filtering screen](active-directory-aadconnect-get-started-custom.md#domain-and-ou-filtering) in the Azure AD Connect wizard is showing *Sync all domains and OUs* option as selected, even though OU-based filtering is enabled.</span></span>

*   <span data-ttu-id="a311f-559">Fixed an issue that caused the [Configure Directory Partitions screen](active-directory-aadconnectsync-configure-filtering.md#organizational-unitbased-filtering) in the Synchronization Service Manager to return an error if the *Refresh* button is clicked.</span><span class="sxs-lookup"><span data-stu-id="a311f-559">Fixed an issue that caused the [Configure Directory Partitions screen](active-directory-aadconnectsync-configure-filtering.md#organizational-unitbased-filtering) in the Synchronization Service Manager to return an error if the *Refresh* button is clicked.</span></span> <span data-ttu-id="a311f-560">The error message is *“An error was encountered while refreshing domains: Unable to cast object of type ‘System.Collections.ArrayList’ to type ‘Microsoft.DirectoryServices.MetadirectoryServices.UI.PropertySheetBase.MaPropertyPages.PartitionObject.”*</span><span class="sxs-lookup"><span data-stu-id="a311f-560">The error message is *“An error was encountered while refreshing domains: Unable to cast object of type ‘System.Collections.ArrayList’ to type ‘Microsoft.DirectoryServices.MetadirectoryServices.UI.PropertySheetBase.MaPropertyPages.PartitionObject.”*</span></span> <span data-ttu-id="a311f-561">The error occurs when new AD domain has been added to an existing AD forest and you are trying to update Azure AD Connect using the Refresh button.</span><span class="sxs-lookup"><span data-stu-id="a311f-561">The error occurs when new AD domain has been added to an existing AD forest and you are trying to update Azure AD Connect using the Refresh button.</span></span>

#### <a name="new-features-and-improvements"></a><span data-ttu-id="a311f-562">New features and improvements</span><span class="sxs-lookup"><span data-stu-id="a311f-562">New features and improvements</span></span>

* <span data-ttu-id="a311f-563">[Automatic Upgrade feature](active-directory-aadconnect-feature-automatic-upgrade.md) has been expanded to support customers with the following configurations:</span><span class="sxs-lookup"><span data-stu-id="a311f-563">[Automatic Upgrade feature](active-directory-aadconnect-feature-automatic-upgrade.md) has been expanded to support customers with the following configurations:</span></span>
  * <span data-ttu-id="a311f-564">You have enabled the device writeback feature.</span><span class="sxs-lookup"><span data-stu-id="a311f-564">You have enabled the device writeback feature.</span></span>
  * <span data-ttu-id="a311f-565">You have enabled the group writeback feature.</span><span class="sxs-lookup"><span data-stu-id="a311f-565">You have enabled the group writeback feature.</span></span>
  * <span data-ttu-id="a311f-566">The installation is not an Express settings or a DirSync upgrade.</span><span class="sxs-lookup"><span data-stu-id="a311f-566">The installation is not an Express settings or a DirSync upgrade.</span></span>
  * <span data-ttu-id="a311f-567">You have more than 100,000 objects in the metaverse.</span><span class="sxs-lookup"><span data-stu-id="a311f-567">You have more than 100,000 objects in the metaverse.</span></span>
  * <span data-ttu-id="a311f-568">You are connecting to more than one forest.</span><span class="sxs-lookup"><span data-stu-id="a311f-568">You are connecting to more than one forest.</span></span> <span data-ttu-id="a311f-569">Express setup only connects to one forest.</span><span class="sxs-lookup"><span data-stu-id="a311f-569">Express setup only connects to one forest.</span></span>
  * <span data-ttu-id="a311f-570">The AD Connector account is not the default MSOL_ account anymore.</span><span class="sxs-lookup"><span data-stu-id="a311f-570">The AD Connector account is not the default MSOL_ account anymore.</span></span>
  * <span data-ttu-id="a311f-571">The server is set to be in staging mode.</span><span class="sxs-lookup"><span data-stu-id="a311f-571">The server is set to be in staging mode.</span></span>
  * <span data-ttu-id="a311f-572">You have enabled the user writeback feature.</span><span class="sxs-lookup"><span data-stu-id="a311f-572">You have enabled the user writeback feature.</span></span>
  
  >[!NOTE]
  ><span data-ttu-id="a311f-573">The scope expansion of the Automatic Upgrade feature affects customers with Azure AD Connect build 1.1.105.0 and after.</span><span class="sxs-lookup"><span data-stu-id="a311f-573">The scope expansion of the Automatic Upgrade feature affects customers with Azure AD Connect build 1.1.105.0 and after.</span></span> <span data-ttu-id="a311f-574">If you do not want your Azure AD Connect server to be automatically upgraded, you must run following cmdlet on your Azure AD Connect server: `Set-ADSyncAutoUpgrade -AutoUpgradeState disabled`.</span><span class="sxs-lookup"><span data-stu-id="a311f-574">If you do not want your Azure AD Connect server to be automatically upgraded, you must run following cmdlet on your Azure AD Connect server: `Set-ADSyncAutoUpgrade -AutoUpgradeState disabled`.</span></span> <span data-ttu-id="a311f-575">For more information about enabling/disabling Automatic Upgrade, refer to article [Azure AD Connect: Automatic upgrade](active-directory-aadconnect-feature-automatic-upgrade.md).</span><span class="sxs-lookup"><span data-stu-id="a311f-575">For more information about enabling/disabling Automatic Upgrade, refer to article [Azure AD Connect: Automatic upgrade](active-directory-aadconnect-feature-automatic-upgrade.md).</span></span>

## <a name="115570"></a><span data-ttu-id="a311f-576">1.1.557.0</span><span class="sxs-lookup"><span data-stu-id="a311f-576">1.1.557.0</span></span>
<span data-ttu-id="a311f-577">Status: July 2017</span><span class="sxs-lookup"><span data-stu-id="a311f-577">Status: July 2017</span></span>

>[!NOTE]
><span data-ttu-id="a311f-578">This build is not available to customers through the Azure AD Connect Auto Upgrade feature.</span><span class="sxs-lookup"><span data-stu-id="a311f-578">This build is not available to customers through the Azure AD Connect Auto Upgrade feature.</span></span>

### <a name="azure-ad-connect"></a><span data-ttu-id="a311f-579">Azure AD Connect</span><span class="sxs-lookup"><span data-stu-id="a311f-579">Azure AD Connect</span></span>

#### <a name="fixed-issue"></a><span data-ttu-id="a311f-580">Fixed issue</span><span class="sxs-lookup"><span data-stu-id="a311f-580">Fixed issue</span></span>
* <span data-ttu-id="a311f-581">Fixed an issue with the Initialize-ADSyncDomainJoinedComputerSync cmdlet that caused the verified domain configured on the existing service connection point object to be changed even if it is still a valid domain.</span><span class="sxs-lookup"><span data-stu-id="a311f-581">Fixed an issue with the Initialize-ADSyncDomainJoinedComputerSync cmdlet that caused the verified domain configured on the existing service connection point object to be changed even if it is still a valid domain.</span></span> <span data-ttu-id="a311f-582">This issue occurs when your Azure AD tenant has more than one verified domains that can be used for configuring the service connection point.</span><span class="sxs-lookup"><span data-stu-id="a311f-582">This issue occurs when your Azure AD tenant has more than one verified domains that can be used for configuring the service connection point.</span></span>

#### <a name="new-features-and-improvements"></a><span data-ttu-id="a311f-583">New features and improvements</span><span class="sxs-lookup"><span data-stu-id="a311f-583">New features and improvements</span></span>
* <span data-ttu-id="a311f-584">Password writeback is now available for preview with Microsoft Azure Government cloud and Microsoft Cloud Germany.</span><span class="sxs-lookup"><span data-stu-id="a311f-584">Password writeback is now available for preview with Microsoft Azure Government cloud and Microsoft Cloud Germany.</span></span> <span data-ttu-id="a311f-585">For more information about Azure AD Connect support for the different service instances, refer to article [Azure AD Connect: Special considerations for instances](active-directory-aadconnect-instances.md).</span><span class="sxs-lookup"><span data-stu-id="a311f-585">For more information about Azure AD Connect support for the different service instances, refer to article [Azure AD Connect: Special considerations for instances](active-directory-aadconnect-instances.md).</span></span>

* <span data-ttu-id="a311f-586">The Initialize-ADSyncDomainJoinedComputerSync cmdlet now has a new optional parameter named AzureADDomain.</span><span class="sxs-lookup"><span data-stu-id="a311f-586">The Initialize-ADSyncDomainJoinedComputerSync cmdlet now has a new optional parameter named AzureADDomain.</span></span> <span data-ttu-id="a311f-587">This parameter lets you specify which verified domain to be used for configuring the service connection point.</span><span class="sxs-lookup"><span data-stu-id="a311f-587">This parameter lets you specify which verified domain to be used for configuring the service connection point.</span></span>

### <a name="pass-through-authentication"></a><span data-ttu-id="a311f-588">Pass-through Authentication</span><span class="sxs-lookup"><span data-stu-id="a311f-588">Pass-through Authentication</span></span>

#### <a name="new-features-and-improvements"></a><span data-ttu-id="a311f-589">New features and improvements</span><span class="sxs-lookup"><span data-stu-id="a311f-589">New features and improvements</span></span>
* <span data-ttu-id="a311f-590">The name of the agent required for Pass-through Authentication has been changed from *Microsoft Azure AD Application Proxy Connector* to *Microsoft Azure AD Connect Authentication Agent*.</span><span class="sxs-lookup"><span data-stu-id="a311f-590">The name of the agent required for Pass-through Authentication has been changed from *Microsoft Azure AD Application Proxy Connector* to *Microsoft Azure AD Connect Authentication Agent*.</span></span>

* <span data-ttu-id="a311f-591">Enabling Pass-through Authentication no longer enables Password Hash Synchronization by default.</span><span class="sxs-lookup"><span data-stu-id="a311f-591">Enabling Pass-through Authentication no longer enables Password Hash Synchronization by default.</span></span>


## <a name="115530"></a><span data-ttu-id="a311f-592">1.1.553.0</span><span class="sxs-lookup"><span data-stu-id="a311f-592">1.1.553.0</span></span>
<span data-ttu-id="a311f-593">Status: June 2017</span><span class="sxs-lookup"><span data-stu-id="a311f-593">Status: June 2017</span></span>

> [!IMPORTANT]
> <span data-ttu-id="a311f-594">There are schema and sync rule changes introduced in this build.</span><span class="sxs-lookup"><span data-stu-id="a311f-594">There are schema and sync rule changes introduced in this build.</span></span> <span data-ttu-id="a311f-595">Azure AD Connect Synchronization Service will trigger Full Import and Full Synchronization steps after upgrade.</span><span class="sxs-lookup"><span data-stu-id="a311f-595">Azure AD Connect Synchronization Service will trigger Full Import and Full Synchronization steps after upgrade.</span></span> <span data-ttu-id="a311f-596">Details of the changes are described below.</span><span class="sxs-lookup"><span data-stu-id="a311f-596">Details of the changes are described below.</span></span> <span data-ttu-id="a311f-597">To temporarily defer Full Import and Full Synchronization steps after upgrade, refer to article [How to defer full synchronization after upgrade](active-directory-aadconnect-upgrade-previous-version.md#how-to-defer-full-synchronization-after-upgrade).</span><span class="sxs-lookup"><span data-stu-id="a311f-597">To temporarily defer Full Import and Full Synchronization steps after upgrade, refer to article [How to defer full synchronization after upgrade](active-directory-aadconnect-upgrade-previous-version.md#how-to-defer-full-synchronization-after-upgrade).</span></span>
>
>

### <a name="azure-ad-connect-sync"></a><span data-ttu-id="a311f-598">Azure AD Connect Sync</span><span class="sxs-lookup"><span data-stu-id="a311f-598">Azure AD Connect Sync</span></span>

#### <a name="known-issue"></a><span data-ttu-id="a311f-599">Known issue</span><span class="sxs-lookup"><span data-stu-id="a311f-599">Known issue</span></span>
* <span data-ttu-id="a311f-600">There is an issue that affects customers who are using [OU-based filtering](active-directory-aadconnectsync-configure-filtering.md#organizational-unitbased-filtering) with Azure AD Connect sync. When you navigate to the [Domain and OU Filtering page](active-directory-aadconnect-get-started-custom.md#domain-and-ou-filtering) in the Azure AD Connect wizard, the following behavior is expected:</span><span class="sxs-lookup"><span data-stu-id="a311f-600">There is an issue that affects customers who are using [OU-based filtering](active-directory-aadconnectsync-configure-filtering.md#organizational-unitbased-filtering) with Azure AD Connect sync. When you navigate to the [Domain and OU Filtering page](active-directory-aadconnect-get-started-custom.md#domain-and-ou-filtering) in the Azure AD Connect wizard, the following behavior is expected:</span></span>
  * <span data-ttu-id="a311f-601">If OU-based filtering is enabled, the **Sync selected domains and OUs** option is selected.</span><span class="sxs-lookup"><span data-stu-id="a311f-601">If OU-based filtering is enabled, the **Sync selected domains and OUs** option is selected.</span></span>
  * <span data-ttu-id="a311f-602">Otherwise, the **Sync all domains and OUs** option is selected.</span><span class="sxs-lookup"><span data-stu-id="a311f-602">Otherwise, the **Sync all domains and OUs** option is selected.</span></span>

<span data-ttu-id="a311f-603">The issue that arises is that the **Sync all domains and OUs option** is always selected when you run the Wizard.</span><span class="sxs-lookup"><span data-stu-id="a311f-603">The issue that arises is that the **Sync all domains and OUs option** is always selected when you run the Wizard.</span></span>  <span data-ttu-id="a311f-604">This occurs even if OU-based filtering was previously configured.</span><span class="sxs-lookup"><span data-stu-id="a311f-604">This occurs even if OU-based filtering was previously configured.</span></span> <span data-ttu-id="a311f-605">Before saving any AAD Connect configuration changes, make sure the **Sync selected domains and OUs option is selected** and confirm that all OUs that need to synchronize are enabled again.</span><span class="sxs-lookup"><span data-stu-id="a311f-605">Before saving any AAD Connect configuration changes, make sure the **Sync selected domains and OUs option is selected** and confirm that all OUs that need to synchronize are enabled again.</span></span> <span data-ttu-id="a311f-606">Otherwise, OU-based filtering will be disabled.</span><span class="sxs-lookup"><span data-stu-id="a311f-606">Otherwise, OU-based filtering will be disabled.</span></span>

#### <a name="fixed-issues"></a><span data-ttu-id="a311f-607">Fixed issues</span><span class="sxs-lookup"><span data-stu-id="a311f-607">Fixed issues</span></span>

* <span data-ttu-id="a311f-608">Fixed an issue with Password writeback that allows an Azure AD Administrator to reset the password of an on-premises AD privileged user account.</span><span class="sxs-lookup"><span data-stu-id="a311f-608">Fixed an issue with Password writeback that allows an Azure AD Administrator to reset the password of an on-premises AD privileged user account.</span></span> <span data-ttu-id="a311f-609">The issue occurs when Azure AD Connect is granted the Reset Password permission over the privileged account.</span><span class="sxs-lookup"><span data-stu-id="a311f-609">The issue occurs when Azure AD Connect is granted the Reset Password permission over the privileged account.</span></span> <span data-ttu-id="a311f-610">The issue is addressed in this version of Azure AD Connect by not allowing an Azure AD Administrator to reset the password of an arbitrary on-premises AD privileged user account unless the administrator is the owner of that account.</span><span class="sxs-lookup"><span data-stu-id="a311f-610">The issue is addressed in this version of Azure AD Connect by not allowing an Azure AD Administrator to reset the password of an arbitrary on-premises AD privileged user account unless the administrator is the owner of that account.</span></span> <span data-ttu-id="a311f-611">For more information, refer to [Security Advisory 4033453](https://technet.microsoft.com/library/security/4033453).</span><span class="sxs-lookup"><span data-stu-id="a311f-611">For more information, refer to [Security Advisory 4033453](https://technet.microsoft.com/library/security/4033453).</span></span>

* <span data-ttu-id="a311f-612">Fixed an issue related to the [ms-DS-ConsistencyGuid as Source Anchor](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-design-concepts#using-ms-ds-consistencyguid-as-sourceanchor) feature where Azure AD Connect does not writeback to on-premises AD ms-DS-ConsistencyGuid attribute.</span><span class="sxs-lookup"><span data-stu-id="a311f-612">Fixed an issue related to the [ms-DS-ConsistencyGuid as Source Anchor](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-design-concepts#using-ms-ds-consistencyguid-as-sourceanchor) feature where Azure AD Connect does not writeback to on-premises AD ms-DS-ConsistencyGuid attribute.</span></span> <span data-ttu-id="a311f-613">The issue occurs when there are multiple on-premises AD forests added to Azure AD Connect and the *User identities exist across multiple directories option* is selected.</span><span class="sxs-lookup"><span data-stu-id="a311f-613">The issue occurs when there are multiple on-premises AD forests added to Azure AD Connect and the *User identities exist across multiple directories option* is selected.</span></span> <span data-ttu-id="a311f-614">When such configuration is used, the resultant synchronization rules do not populate the sourceAnchorBinary attribute in the Metaverse.</span><span class="sxs-lookup"><span data-stu-id="a311f-614">When such configuration is used, the resultant synchronization rules do not populate the sourceAnchorBinary attribute in the Metaverse.</span></span> <span data-ttu-id="a311f-615">The sourceAnchorBinary attribute is used as the source attribute for ms-DS-ConsistencyGuid attribute.</span><span class="sxs-lookup"><span data-stu-id="a311f-615">The sourceAnchorBinary attribute is used as the source attribute for ms-DS-ConsistencyGuid attribute.</span></span> <span data-ttu-id="a311f-616">As a result, writeback to the ms-DSConsistencyGuid attribute does not occur.</span><span class="sxs-lookup"><span data-stu-id="a311f-616">As a result, writeback to the ms-DSConsistencyGuid attribute does not occur.</span></span> <span data-ttu-id="a311f-617">To fix the issue, following sync rules have been updated to ensure that the sourceAnchorBinary attribute in the Metaverse is always populated:</span><span class="sxs-lookup"><span data-stu-id="a311f-617">To fix the issue, following sync rules have been updated to ensure that the sourceAnchorBinary attribute in the Metaverse is always populated:</span></span>
  * <span data-ttu-id="a311f-618">In from AD - InetOrgPerson AccountEnabled.xml</span><span class="sxs-lookup"><span data-stu-id="a311f-618">In from AD - InetOrgPerson AccountEnabled.xml</span></span>
  * <span data-ttu-id="a311f-619">In from AD - InetOrgPerson Common.xml</span><span class="sxs-lookup"><span data-stu-id="a311f-619">In from AD - InetOrgPerson Common.xml</span></span>
  * <span data-ttu-id="a311f-620">In from AD - User AccountEnabled.xml</span><span class="sxs-lookup"><span data-stu-id="a311f-620">In from AD - User AccountEnabled.xml</span></span>
  * <span data-ttu-id="a311f-621">In from AD - User Common.xml</span><span class="sxs-lookup"><span data-stu-id="a311f-621">In from AD - User Common.xml</span></span>
  * <span data-ttu-id="a311f-622">In from AD - User Join SOAInAAD.xml</span><span class="sxs-lookup"><span data-stu-id="a311f-622">In from AD - User Join SOAInAAD.xml</span></span>

* <span data-ttu-id="a311f-623">Previously, even if the [ms-DS-ConsistencyGuid as Source Anchor](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-design-concepts#using-ms-ds-consistencyguid-as-sourceanchor) feature isn’t enabled, the “Out to AD – User ImmutableId” synchronization rule is still added to Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="a311f-623">Previously, even if the [ms-DS-ConsistencyGuid as Source Anchor](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-design-concepts#using-ms-ds-consistencyguid-as-sourceanchor) feature isn’t enabled, the “Out to AD – User ImmutableId” synchronization rule is still added to Azure AD Connect.</span></span> <span data-ttu-id="a311f-624">The effect is benign and does not cause writeback of ms-DS-ConsistencyGuid attribute to occur.</span><span class="sxs-lookup"><span data-stu-id="a311f-624">The effect is benign and does not cause writeback of ms-DS-ConsistencyGuid attribute to occur.</span></span> <span data-ttu-id="a311f-625">To avoid confusion, logic has been added to ensure that the sync rule is only added when the feature is enabled.</span><span class="sxs-lookup"><span data-stu-id="a311f-625">To avoid confusion, logic has been added to ensure that the sync rule is only added when the feature is enabled.</span></span>

* <span data-ttu-id="a311f-626">Fixed an issue that caused password hash synchronization to fail with error event 611.</span><span class="sxs-lookup"><span data-stu-id="a311f-626">Fixed an issue that caused password hash synchronization to fail with error event 611.</span></span> <span data-ttu-id="a311f-627">This issue occurs after one or more domain controllers have been removed from on-premises AD.</span><span class="sxs-lookup"><span data-stu-id="a311f-627">This issue occurs after one or more domain controllers have been removed from on-premises AD.</span></span> <span data-ttu-id="a311f-628">At the end of each password synchronization cycle, the synchronization cookie issued by on-premises AD contains Invocation IDs of the removed domain controllers with USN (Update Sequence Number) value of 0.</span><span class="sxs-lookup"><span data-stu-id="a311f-628">At the end of each password synchronization cycle, the synchronization cookie issued by on-premises AD contains Invocation IDs of the removed domain controllers with USN (Update Sequence Number) value of 0.</span></span> <span data-ttu-id="a311f-629">The Password Synchronization Manager is unable to persist synchronization cookie containing USN value of 0 and fails with error event 611.</span><span class="sxs-lookup"><span data-stu-id="a311f-629">The Password Synchronization Manager is unable to persist synchronization cookie containing USN value of 0 and fails with error event 611.</span></span> <span data-ttu-id="a311f-630">During the next synchronization cycle, the Password Synchronization Manager reuses the last persisted synchronization cookie that does not contain USN value of 0.</span><span class="sxs-lookup"><span data-stu-id="a311f-630">During the next synchronization cycle, the Password Synchronization Manager reuses the last persisted synchronization cookie that does not contain USN value of 0.</span></span> <span data-ttu-id="a311f-631">This causes the same password changes to be resynchronized.</span><span class="sxs-lookup"><span data-stu-id="a311f-631">This causes the same password changes to be resynchronized.</span></span> <span data-ttu-id="a311f-632">With this fix, the Password Synchronization Manager persists the synchronization cookie correctly.</span><span class="sxs-lookup"><span data-stu-id="a311f-632">With this fix, the Password Synchronization Manager persists the synchronization cookie correctly.</span></span>

* <span data-ttu-id="a311f-633">Previously, even if Automatic Upgrade has been disabled using the Set-ADSyncAutoUpgrade cmdlet, the Automatic Upgrade process continues to check for upgrade periodically, and relies on the downloaded installer to honor disablement.</span><span class="sxs-lookup"><span data-stu-id="a311f-633">Previously, even if Automatic Upgrade has been disabled using the Set-ADSyncAutoUpgrade cmdlet, the Automatic Upgrade process continues to check for upgrade periodically, and relies on the downloaded installer to honor disablement.</span></span> <span data-ttu-id="a311f-634">With this fix, the Automatic Upgrade process no longer checks for upgrade periodically.</span><span class="sxs-lookup"><span data-stu-id="a311f-634">With this fix, the Automatic Upgrade process no longer checks for upgrade periodically.</span></span> <span data-ttu-id="a311f-635">The fix is automatically applied when upgrade installer for this Azure AD Connect version is executed once.</span><span class="sxs-lookup"><span data-stu-id="a311f-635">The fix is automatically applied when upgrade installer for this Azure AD Connect version is executed once.</span></span>

#### <a name="new-features-and-improvements"></a><span data-ttu-id="a311f-636">New features and improvements</span><span class="sxs-lookup"><span data-stu-id="a311f-636">New features and improvements</span></span>

* <span data-ttu-id="a311f-637">Previously, the [ms-DS-ConsistencyGuid as Source Anchor](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-design-concepts#using-ms-ds-consistencyguid-as-sourceanchor) feature was available to new deployments only.</span><span class="sxs-lookup"><span data-stu-id="a311f-637">Previously, the [ms-DS-ConsistencyGuid as Source Anchor](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-design-concepts#using-ms-ds-consistencyguid-as-sourceanchor) feature was available to new deployments only.</span></span> <span data-ttu-id="a311f-638">Now, it is available to existing deployments.</span><span class="sxs-lookup"><span data-stu-id="a311f-638">Now, it is available to existing deployments.</span></span> <span data-ttu-id="a311f-639">More specifically:</span><span class="sxs-lookup"><span data-stu-id="a311f-639">More specifically:</span></span>
  * <span data-ttu-id="a311f-640">To access the feature, start the Azure AD Connect wizard and choose the *Update Source Anchor* option.</span><span class="sxs-lookup"><span data-stu-id="a311f-640">To access the feature, start the Azure AD Connect wizard and choose the *Update Source Anchor* option.</span></span>
  * <span data-ttu-id="a311f-641">This option is only visible to existing deployments that are using objectGuid as sourceAnchor attribute.</span><span class="sxs-lookup"><span data-stu-id="a311f-641">This option is only visible to existing deployments that are using objectGuid as sourceAnchor attribute.</span></span>
  * <span data-ttu-id="a311f-642">When configuring the option, the wizard validates the state of the ms-DS-ConsistencyGuid attribute in your on-premises Active Directory.</span><span class="sxs-lookup"><span data-stu-id="a311f-642">When configuring the option, the wizard validates the state of the ms-DS-ConsistencyGuid attribute in your on-premises Active Directory.</span></span> <span data-ttu-id="a311f-643">If the attribute isn't configured on any user object in the directory, the wizard uses the ms-DS-ConsistencyGuid as the sourceAnchor attribute.</span><span class="sxs-lookup"><span data-stu-id="a311f-643">If the attribute isn't configured on any user object in the directory, the wizard uses the ms-DS-ConsistencyGuid as the sourceAnchor attribute.</span></span> <span data-ttu-id="a311f-644">If the attribute is configured on one or more user objects in the directory, the wizard concludes the attribute is being used by other applications and is not suitable as sourceAnchor attribute and does not permit the Source Anchor change to proceed.</span><span class="sxs-lookup"><span data-stu-id="a311f-644">If the attribute is configured on one or more user objects in the directory, the wizard concludes the attribute is being used by other applications and is not suitable as sourceAnchor attribute and does not permit the Source Anchor change to proceed.</span></span> <span data-ttu-id="a311f-645">If you are certain that the attribute isn't used by existing applications, you need to contact Support for information on how to suppress the error.</span><span class="sxs-lookup"><span data-stu-id="a311f-645">If you are certain that the attribute isn't used by existing applications, you need to contact Support for information on how to suppress the error.</span></span>

* <span data-ttu-id="a311f-646">Specific to **userCertificate** attribute on Device objects, Azure AD Connect now looks for certificates values required for [Connecting domain-joined devices to Azure AD for Windows 10 experience](https://docs.microsoft.com/azure/active-directory/active-directory-azureadjoin-devices-group-policy) and filters out the rest before synchronizing to Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a311f-646">Specific to **userCertificate** attribute on Device objects, Azure AD Connect now looks for certificates values required for [Connecting domain-joined devices to Azure AD for Windows 10 experience](https://docs.microsoft.com/azure/active-directory/active-directory-azureadjoin-devices-group-policy) and filters out the rest before synchronizing to Azure AD.</span></span> <span data-ttu-id="a311f-647">To enable this behavior, the out-of-box sync rule “Out to AAD - Device Join SOAInAD” has been updated.</span><span class="sxs-lookup"><span data-stu-id="a311f-647">To enable this behavior, the out-of-box sync rule “Out to AAD - Device Join SOAInAD” has been updated.</span></span>

* <span data-ttu-id="a311f-648">Azure AD Connect now supports writeback of Exchange Online **cloudPublicDelegates** attribute to on-premises AD **publicDelegates** attribute.</span><span class="sxs-lookup"><span data-stu-id="a311f-648">Azure AD Connect now supports writeback of Exchange Online **cloudPublicDelegates** attribute to on-premises AD **publicDelegates** attribute.</span></span> <span data-ttu-id="a311f-649">This enables the scenario where an Exchange Online mailbox can be granted SendOnBehalfTo rights to users with on-premises Exchange mailbox.</span><span class="sxs-lookup"><span data-stu-id="a311f-649">This enables the scenario where an Exchange Online mailbox can be granted SendOnBehalfTo rights to users with on-premises Exchange mailbox.</span></span> <span data-ttu-id="a311f-650">To support this feature, a new out-of-box sync rule “Out to AD – User Exchange Hybrid PublicDelegates writeback” has been added.</span><span class="sxs-lookup"><span data-stu-id="a311f-650">To support this feature, a new out-of-box sync rule “Out to AD – User Exchange Hybrid PublicDelegates writeback” has been added.</span></span> <span data-ttu-id="a311f-651">This sync rule is only added to Azure AD Connect when Exchange Hybrid feature is enabled.</span><span class="sxs-lookup"><span data-stu-id="a311f-651">This sync rule is only added to Azure AD Connect when Exchange Hybrid feature is enabled.</span></span>

*   <span data-ttu-id="a311f-652">Azure AD Connect now supports synchronizing the **altRecipient** attribute from Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a311f-652">Azure AD Connect now supports synchronizing the **altRecipient** attribute from Azure AD.</span></span> <span data-ttu-id="a311f-653">To support this change, following out-of-box sync rules have been updated to include the required attribute flow:</span><span class="sxs-lookup"><span data-stu-id="a311f-653">To support this change, following out-of-box sync rules have been updated to include the required attribute flow:</span></span>
  * <span data-ttu-id="a311f-654">In from AD – User Exchange</span><span class="sxs-lookup"><span data-stu-id="a311f-654">In from AD – User Exchange</span></span>
  * <span data-ttu-id="a311f-655">Out to AAD – User ExchangeOnline</span><span class="sxs-lookup"><span data-stu-id="a311f-655">Out to AAD – User ExchangeOnline</span></span>
  
* <span data-ttu-id="a311f-656">The **cloudSOAExchMailbox** attribute in the Metaverse indicates whether a given user has Exchange Online mailbox or not.</span><span class="sxs-lookup"><span data-stu-id="a311f-656">The **cloudSOAExchMailbox** attribute in the Metaverse indicates whether a given user has Exchange Online mailbox or not.</span></span> <span data-ttu-id="a311f-657">Its definition has been updated to include additional Exchange Online RecipientDisplayTypes as such Equipment and Conference Room mailboxes.</span><span class="sxs-lookup"><span data-stu-id="a311f-657">Its definition has been updated to include additional Exchange Online RecipientDisplayTypes as such Equipment and Conference Room mailboxes.</span></span> <span data-ttu-id="a311f-658">To enable this change, the definition of the cloudSOAExchMailbox attribute, which is found under out-of-box sync rule “In from AAD – User Exchange Hybrid”, has been updated from:</span><span class="sxs-lookup"><span data-stu-id="a311f-658">To enable this change, the definition of the cloudSOAExchMailbox attribute, which is found under out-of-box sync rule “In from AAD – User Exchange Hybrid”, has been updated from:</span></span>

```
CBool(IIF(IsNullOrEmpty([cloudMSExchRecipientDisplayType]),NULL,BitAnd([cloudMSExchRecipientDisplayType],&amp;HFF) = 0))
```

<span data-ttu-id="a311f-659">... to the following:</span><span class="sxs-lookup"><span data-stu-id="a311f-659">... to the following:</span></span>

```
CBool(
  IIF(IsPresent([cloudMSExchRecipientDisplayType]),(
    IIF([cloudMSExchRecipientDisplayType]=0,True,(
      IIF([cloudMSExchRecipientDisplayType]=2,True,(
        IIF([cloudMSExchRecipientDisplayType]=7,True,(
          IIF([cloudMSExchRecipientDisplayType]=8,True,(
            IIF([cloudMSExchRecipientDisplayType]=10,True,(
              IIF([cloudMSExchRecipientDisplayType]=16,True,(
                IIF([cloudMSExchRecipientDisplayType]=17,True,(
                  IIF([cloudMSExchRecipientDisplayType]=18,True,(
                    IIF([cloudMSExchRecipientDisplayType]=1073741824,True,(
                       IF([cloudMSExchRecipientDisplayType]=1073741840,True,False)))))))))))))))))))),False))

```

* <span data-ttu-id="a311f-660">Added the following set of X509Certificate2-compatible functions for creating synchronization rule expressions to handle certificate values in the userCertificate attribute:</span><span class="sxs-lookup"><span data-stu-id="a311f-660">Added the following set of X509Certificate2-compatible functions for creating synchronization rule expressions to handle certificate values in the userCertificate attribute:</span></span>

    ||||
    | --- | --- | --- |
    |<span data-ttu-id="a311f-661">CertSubject</span><span class="sxs-lookup"><span data-stu-id="a311f-661">CertSubject</span></span>|<span data-ttu-id="a311f-662">CertIssuer</span><span class="sxs-lookup"><span data-stu-id="a311f-662">CertIssuer</span></span>|<span data-ttu-id="a311f-663">CertKeyAlgorithm</span><span class="sxs-lookup"><span data-stu-id="a311f-663">CertKeyAlgorithm</span></span>|
    |<span data-ttu-id="a311f-664">CertSubjectNameDN</span><span class="sxs-lookup"><span data-stu-id="a311f-664">CertSubjectNameDN</span></span>|<span data-ttu-id="a311f-665">CertIssuerOid</span><span class="sxs-lookup"><span data-stu-id="a311f-665">CertIssuerOid</span></span>|<span data-ttu-id="a311f-666">CertNameInfo</span><span class="sxs-lookup"><span data-stu-id="a311f-666">CertNameInfo</span></span>|
    |<span data-ttu-id="a311f-667">CertSubjectNameOid</span><span class="sxs-lookup"><span data-stu-id="a311f-667">CertSubjectNameOid</span></span>|<span data-ttu-id="a311f-668">CertIssuerDN</span><span class="sxs-lookup"><span data-stu-id="a311f-668">CertIssuerDN</span></span>|<span data-ttu-id="a311f-669">IsCert</span><span class="sxs-lookup"><span data-stu-id="a311f-669">IsCert</span></span>|
    |<span data-ttu-id="a311f-670">CertFriendlyName</span><span class="sxs-lookup"><span data-stu-id="a311f-670">CertFriendlyName</span></span>|<span data-ttu-id="a311f-671">CertThumbprint</span><span class="sxs-lookup"><span data-stu-id="a311f-671">CertThumbprint</span></span>|<span data-ttu-id="a311f-672">CertExtensionOids</span><span class="sxs-lookup"><span data-stu-id="a311f-672">CertExtensionOids</span></span>|
    |<span data-ttu-id="a311f-673">CertFormat</span><span class="sxs-lookup"><span data-stu-id="a311f-673">CertFormat</span></span>|<span data-ttu-id="a311f-674">CertNotAfter</span><span class="sxs-lookup"><span data-stu-id="a311f-674">CertNotAfter</span></span>|<span data-ttu-id="a311f-675">CertPublicKeyOid</span><span class="sxs-lookup"><span data-stu-id="a311f-675">CertPublicKeyOid</span></span>|
    |<span data-ttu-id="a311f-676">CertSerialNumber</span><span class="sxs-lookup"><span data-stu-id="a311f-676">CertSerialNumber</span></span>|<span data-ttu-id="a311f-677">CertNotBefore</span><span class="sxs-lookup"><span data-stu-id="a311f-677">CertNotBefore</span></span>|<span data-ttu-id="a311f-678">CertPublicKeyParametersOid</span><span class="sxs-lookup"><span data-stu-id="a311f-678">CertPublicKeyParametersOid</span></span>|
    |<span data-ttu-id="a311f-679">CertVersion</span><span class="sxs-lookup"><span data-stu-id="a311f-679">CertVersion</span></span>|<span data-ttu-id="a311f-680">CertSignatureAlgorithmOid</span><span class="sxs-lookup"><span data-stu-id="a311f-680">CertSignatureAlgorithmOid</span></span>|<span data-ttu-id="a311f-681">Select</span><span class="sxs-lookup"><span data-stu-id="a311f-681">Select</span></span>|
    |<span data-ttu-id="a311f-682">CertKeyAlgorithmParams</span><span class="sxs-lookup"><span data-stu-id="a311f-682">CertKeyAlgorithmParams</span></span>|<span data-ttu-id="a311f-683">CertHashString</span><span class="sxs-lookup"><span data-stu-id="a311f-683">CertHashString</span></span>|<span data-ttu-id="a311f-684">Where</span><span class="sxs-lookup"><span data-stu-id="a311f-684">Where</span></span>|
    |||<span data-ttu-id="a311f-685">With</span><span class="sxs-lookup"><span data-stu-id="a311f-685">With</span></span>|

* <span data-ttu-id="a311f-686">Following schema changes have been introduced to allow customers to create custom synchronization rules to flow sAMAccountName, domainNetBios, and domainFQDN for Group objects, as well as distinguishedName for User objects:</span><span class="sxs-lookup"><span data-stu-id="a311f-686">Following schema changes have been introduced to allow customers to create custom synchronization rules to flow sAMAccountName, domainNetBios, and domainFQDN for Group objects, as well as distinguishedName for User objects:</span></span>

  * <span data-ttu-id="a311f-687">Following attributes have been added to MV schema:</span><span class="sxs-lookup"><span data-stu-id="a311f-687">Following attributes have been added to MV schema:</span></span>
    * <span data-ttu-id="a311f-688">Group: AccountName</span><span class="sxs-lookup"><span data-stu-id="a311f-688">Group: AccountName</span></span>
    * <span data-ttu-id="a311f-689">Group: domainNetBios</span><span class="sxs-lookup"><span data-stu-id="a311f-689">Group: domainNetBios</span></span>
    * <span data-ttu-id="a311f-690">Group: domainFQDN</span><span class="sxs-lookup"><span data-stu-id="a311f-690">Group: domainFQDN</span></span>
    * <span data-ttu-id="a311f-691">Person: distinguishedName</span><span class="sxs-lookup"><span data-stu-id="a311f-691">Person: distinguishedName</span></span>

  * <span data-ttu-id="a311f-692">Following attributes have been added to Azure AD Connector schema:</span><span class="sxs-lookup"><span data-stu-id="a311f-692">Following attributes have been added to Azure AD Connector schema:</span></span>
    * <span data-ttu-id="a311f-693">Group: OnPremisesSamAccountName</span><span class="sxs-lookup"><span data-stu-id="a311f-693">Group: OnPremisesSamAccountName</span></span>
    * <span data-ttu-id="a311f-694">Group: NetBiosName</span><span class="sxs-lookup"><span data-stu-id="a311f-694">Group: NetBiosName</span></span>
    * <span data-ttu-id="a311f-695">Group: DnsDomainName</span><span class="sxs-lookup"><span data-stu-id="a311f-695">Group: DnsDomainName</span></span>
    * <span data-ttu-id="a311f-696">User: OnPremisesDistinguishedName</span><span class="sxs-lookup"><span data-stu-id="a311f-696">User: OnPremisesDistinguishedName</span></span>

* <span data-ttu-id="a311f-697">The ADSyncDomainJoinedComputerSync cmdlet script now has a new optional parameter named AzureEnvironment.</span><span class="sxs-lookup"><span data-stu-id="a311f-697">The ADSyncDomainJoinedComputerSync cmdlet script now has a new optional parameter named AzureEnvironment.</span></span> <span data-ttu-id="a311f-698">The parameter is used to specify which region the corresponding Azure Active Directory tenant is hosted in.</span><span class="sxs-lookup"><span data-stu-id="a311f-698">The parameter is used to specify which region the corresponding Azure Active Directory tenant is hosted in.</span></span> <span data-ttu-id="a311f-699">Valid values include:</span><span class="sxs-lookup"><span data-stu-id="a311f-699">Valid values include:</span></span>
  * <span data-ttu-id="a311f-700">AzureCloud (default)</span><span class="sxs-lookup"><span data-stu-id="a311f-700">AzureCloud (default)</span></span>
  * <span data-ttu-id="a311f-701">AzureChinaCloud</span><span class="sxs-lookup"><span data-stu-id="a311f-701">AzureChinaCloud</span></span>
  * <span data-ttu-id="a311f-702">AzureGermanyCloud</span><span class="sxs-lookup"><span data-stu-id="a311f-702">AzureGermanyCloud</span></span>
  * <span data-ttu-id="a311f-703">USGovernment</span><span class="sxs-lookup"><span data-stu-id="a311f-703">USGovernment</span></span>
 
* <span data-ttu-id="a311f-704">Updated Sync Rule Editor to use Join (instead of Provision) as the default value of link type during sync rule creation.</span><span class="sxs-lookup"><span data-stu-id="a311f-704">Updated Sync Rule Editor to use Join (instead of Provision) as the default value of link type during sync rule creation.</span></span>

### <a name="ad-fs-management"></a><span data-ttu-id="a311f-705">AD FS management</span><span class="sxs-lookup"><span data-stu-id="a311f-705">AD FS management</span></span>

#### <a name="issues-fixed"></a><span data-ttu-id="a311f-706">Issues fixed</span><span class="sxs-lookup"><span data-stu-id="a311f-706">Issues fixed</span></span>

* <span data-ttu-id="a311f-707">Following URLs are new WS-Federation endpoints introduced by Azure AD to improve resiliency against authentication outage and will be added to on-premises AD FS replying party trust configuration:</span><span class="sxs-lookup"><span data-stu-id="a311f-707">Following URLs are new WS-Federation endpoints introduced by Azure AD to improve resiliency against authentication outage and will be added to on-premises AD FS replying party trust configuration:</span></span>
  * https://ests.login.microsoftonline.com/login.srf
  * https://stamp2.login.microsoftonline.com/login.srf
  * https://ccs.login.microsoftonline.com/login.srf
  * https://ccs-sdf.login.microsoftonline.com/login.srf
  
* <span data-ttu-id="a311f-708">Fixed an issue that caused AD FS to generate incorrect claim value for IssuerID.</span><span class="sxs-lookup"><span data-stu-id="a311f-708">Fixed an issue that caused AD FS to generate incorrect claim value for IssuerID.</span></span> <span data-ttu-id="a311f-709">The issue occurs if there are multiple verified domains in the Azure AD tenant and the domain suffix of the userPrincipalName attribute used to generate the IssuerID claim is at least 3-levels deep (for example, johndoe@us.contoso.com).</span><span class="sxs-lookup"><span data-stu-id="a311f-709">The issue occurs if there are multiple verified domains in the Azure AD tenant and the domain suffix of the userPrincipalName attribute used to generate the IssuerID claim is at least 3-levels deep (for example, johndoe@us.contoso.com).</span></span> <span data-ttu-id="a311f-710">The issue is resolved by updating the regex used by the claim rules.</span><span class="sxs-lookup"><span data-stu-id="a311f-710">The issue is resolved by updating the regex used by the claim rules.</span></span>

#### <a name="new-features-and-improvements"></a><span data-ttu-id="a311f-711">New features and improvements</span><span class="sxs-lookup"><span data-stu-id="a311f-711">New features and improvements</span></span>
* <span data-ttu-id="a311f-712">Previously, the ADFS Certificate Management feature provided by Azure AD Connect can only be used with ADFS farms managed through Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="a311f-712">Previously, the ADFS Certificate Management feature provided by Azure AD Connect can only be used with ADFS farms managed through Azure AD Connect.</span></span> <span data-ttu-id="a311f-713">Now, you can use the feature with ADFS farms that are not managed using Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="a311f-713">Now, you can use the feature with ADFS farms that are not managed using Azure AD Connect.</span></span>

## <a name="115240"></a><span data-ttu-id="a311f-714">1.1.524.0</span><span class="sxs-lookup"><span data-stu-id="a311f-714">1.1.524.0</span></span>
<span data-ttu-id="a311f-715">Released: May 2017</span><span class="sxs-lookup"><span data-stu-id="a311f-715">Released: May 2017</span></span>

> [!IMPORTANT]
> <span data-ttu-id="a311f-716">There are schema and sync rule changes introduced in this build.</span><span class="sxs-lookup"><span data-stu-id="a311f-716">There are schema and sync rule changes introduced in this build.</span></span> <span data-ttu-id="a311f-717">Azure AD Connect Synchronization Service will trigger Full Import and Full Sync steps after upgrade.</span><span class="sxs-lookup"><span data-stu-id="a311f-717">Azure AD Connect Synchronization Service will trigger Full Import and Full Sync steps after upgrade.</span></span> <span data-ttu-id="a311f-718">Details of the changes are described below.</span><span class="sxs-lookup"><span data-stu-id="a311f-718">Details of the changes are described below.</span></span>
>
>

<span data-ttu-id="a311f-719">**Fixed issues:**</span><span class="sxs-lookup"><span data-stu-id="a311f-719">**Fixed issues:**</span></span>

<span data-ttu-id="a311f-720">Azure AD Connect sync</span><span class="sxs-lookup"><span data-stu-id="a311f-720">Azure AD Connect sync</span></span>

* <span data-ttu-id="a311f-721">Fixed an issue that causes Automatic Upgrade to occur on the Azure AD Connect server even if customer has disabled the feature using the Set-ADSyncAutoUpgrade cmdlet.</span><span class="sxs-lookup"><span data-stu-id="a311f-721">Fixed an issue that causes Automatic Upgrade to occur on the Azure AD Connect server even if customer has disabled the feature using the Set-ADSyncAutoUpgrade cmdlet.</span></span> <span data-ttu-id="a311f-722">With this fix, the Automatic Upgrade process on the server still checks for upgrade periodically, but the downloaded installer honors the Automatic Upgrade configuration.</span><span class="sxs-lookup"><span data-stu-id="a311f-722">With this fix, the Automatic Upgrade process on the server still checks for upgrade periodically, but the downloaded installer honors the Automatic Upgrade configuration.</span></span>
* <span data-ttu-id="a311f-723">During DirSync in-place upgrade, Azure AD Connect creates an Azure AD service account to be used by the Azure AD connector for synchronizing with Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a311f-723">During DirSync in-place upgrade, Azure AD Connect creates an Azure AD service account to be used by the Azure AD connector for synchronizing with Azure AD.</span></span> <span data-ttu-id="a311f-724">After the account is created, Azure AD Connect authenticates with Azure AD using the account.</span><span class="sxs-lookup"><span data-stu-id="a311f-724">After the account is created, Azure AD Connect authenticates with Azure AD using the account.</span></span> <span data-ttu-id="a311f-725">Sometimes, authentication fails because of transient issues, which in turn causes DirSync in-place upgrade to fail with error *“An error has occurred executing Configure AAD Sync task: AADSTS50034: To sign into this application, the account must be added to the xxx.onmicrosoft.com directory.”*</span><span class="sxs-lookup"><span data-stu-id="a311f-725">Sometimes, authentication fails because of transient issues, which in turn causes DirSync in-place upgrade to fail with error *“An error has occurred executing Configure AAD Sync task: AADSTS50034: To sign into this application, the account must be added to the xxx.onmicrosoft.com directory.”*</span></span> <span data-ttu-id="a311f-726">To improve the resiliency of DirSync upgrade, Azure AD Connect now retries the authentication step.</span><span class="sxs-lookup"><span data-stu-id="a311f-726">To improve the resiliency of DirSync upgrade, Azure AD Connect now retries the authentication step.</span></span>
* <span data-ttu-id="a311f-727">There was an issue with build 443 that causes DirSync in-place upgrade to succeed but run profiles required for directory synchronization are not created.</span><span class="sxs-lookup"><span data-stu-id="a311f-727">There was an issue with build 443 that causes DirSync in-place upgrade to succeed but run profiles required for directory synchronization are not created.</span></span> <span data-ttu-id="a311f-728">Healing logic is included in this build of Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="a311f-728">Healing logic is included in this build of Azure AD Connect.</span></span> <span data-ttu-id="a311f-729">When customer upgrades to this build, Azure AD Connect detects missing run profiles and creates them.</span><span class="sxs-lookup"><span data-stu-id="a311f-729">When customer upgrades to this build, Azure AD Connect detects missing run profiles and creates them.</span></span>
* <span data-ttu-id="a311f-730">Fixed an issue that causes Password Synchronization process to fail to start with Event ID 6900 and error *“An item with the same key has already been added”*.</span><span class="sxs-lookup"><span data-stu-id="a311f-730">Fixed an issue that causes Password Synchronization process to fail to start with Event ID 6900 and error *“An item with the same key has already been added”*.</span></span> <span data-ttu-id="a311f-731">This issue occurs if you update OU filtering configuration to include AD configuration partition.</span><span class="sxs-lookup"><span data-stu-id="a311f-731">This issue occurs if you update OU filtering configuration to include AD configuration partition.</span></span> <span data-ttu-id="a311f-732">To fix this issue, Password Synchronization process now synchronizes password changes from AD domain partitions only.</span><span class="sxs-lookup"><span data-stu-id="a311f-732">To fix this issue, Password Synchronization process now synchronizes password changes from AD domain partitions only.</span></span> <span data-ttu-id="a311f-733">Non-domain partitions such as configuration partition are skipped.</span><span class="sxs-lookup"><span data-stu-id="a311f-733">Non-domain partitions such as configuration partition are skipped.</span></span>
* <span data-ttu-id="a311f-734">During Express installation, Azure AD Connect creates an on-premises AD DS account to be used by the AD connector to communicate with on-premises AD.</span><span class="sxs-lookup"><span data-stu-id="a311f-734">During Express installation, Azure AD Connect creates an on-premises AD DS account to be used by the AD connector to communicate with on-premises AD.</span></span> <span data-ttu-id="a311f-735">Previously, the account is created with the PASSWD_NOTREQD flag set on the user-Account-Control attribute and a random password is set on the account.</span><span class="sxs-lookup"><span data-stu-id="a311f-735">Previously, the account is created with the PASSWD_NOTREQD flag set on the user-Account-Control attribute and a random password is set on the account.</span></span> <span data-ttu-id="a311f-736">Now, Azure AD Connect explicitly removes the PASSWD_NOTREQD flag after the password is set on the account.</span><span class="sxs-lookup"><span data-stu-id="a311f-736">Now, Azure AD Connect explicitly removes the PASSWD_NOTREQD flag after the password is set on the account.</span></span>
* <span data-ttu-id="a311f-737">Fixed an issue that causes DirSync upgrade to fail with error *“a deadlock occurred in sql server which trying to acquire an application lock”* when the mailNickname attribute is found in the on-premises AD schema, but is not bounded to the AD User object class.</span><span class="sxs-lookup"><span data-stu-id="a311f-737">Fixed an issue that causes DirSync upgrade to fail with error *“a deadlock occurred in sql server which trying to acquire an application lock”* when the mailNickname attribute is found in the on-premises AD schema, but is not bounded to the AD User object class.</span></span>
* <span data-ttu-id="a311f-738">Fixed an issue that causes Device writeback feature to automatically be disabled when an administrator is updating Azure AD Connect sync configuration using Azure AD Connect wizard.</span><span class="sxs-lookup"><span data-stu-id="a311f-738">Fixed an issue that causes Device writeback feature to automatically be disabled when an administrator is updating Azure AD Connect sync configuration using Azure AD Connect wizard.</span></span> <span data-ttu-id="a311f-739">This issue is caused by the wizard performing a pre-requisite check for the existing Device writeback configuration in on-premises AD and the check fails.</span><span class="sxs-lookup"><span data-stu-id="a311f-739">This issue is caused by the wizard performing a pre-requisite check for the existing Device writeback configuration in on-premises AD and the check fails.</span></span> <span data-ttu-id="a311f-740">The fix is to skip the check if Device writeback is already enabled previously.</span><span class="sxs-lookup"><span data-stu-id="a311f-740">The fix is to skip the check if Device writeback is already enabled previously.</span></span>
* <span data-ttu-id="a311f-741">To configure OU filtering, you can either use the Azure AD Connect wizard or the Synchronization Service Manager.</span><span class="sxs-lookup"><span data-stu-id="a311f-741">To configure OU filtering, you can either use the Azure AD Connect wizard or the Synchronization Service Manager.</span></span> <span data-ttu-id="a311f-742">Previously, if you use the Azure AD Connect wizard to configure OU filtering, new OUs created afterwards are included for directory synchronization.</span><span class="sxs-lookup"><span data-stu-id="a311f-742">Previously, if you use the Azure AD Connect wizard to configure OU filtering, new OUs created afterwards are included for directory synchronization.</span></span> <span data-ttu-id="a311f-743">If you do not want new OUs to be included, you must configure OU filtering using the Synchronization Service Manager.</span><span class="sxs-lookup"><span data-stu-id="a311f-743">If you do not want new OUs to be included, you must configure OU filtering using the Synchronization Service Manager.</span></span> <span data-ttu-id="a311f-744">Now, you can achieve the same behavior using Azure AD Connect wizard.</span><span class="sxs-lookup"><span data-stu-id="a311f-744">Now, you can achieve the same behavior using Azure AD Connect wizard.</span></span>
* <span data-ttu-id="a311f-745">Fixed an issue that causes stored procedures required by Azure AD Connect to be created under the schema of the installing admin, instead of under the dbo schema.</span><span class="sxs-lookup"><span data-stu-id="a311f-745">Fixed an issue that causes stored procedures required by Azure AD Connect to be created under the schema of the installing admin, instead of under the dbo schema.</span></span>
* <span data-ttu-id="a311f-746">Fixed an issue that causes the TrackingId attribute returned by Azure AD to be omitted in the AAD Connect Server Event Logs.</span><span class="sxs-lookup"><span data-stu-id="a311f-746">Fixed an issue that causes the TrackingId attribute returned by Azure AD to be omitted in the AAD Connect Server Event Logs.</span></span> <span data-ttu-id="a311f-747">The issue occurs if Azure AD Connect receives a redirection message from Azure AD and Azure AD Connect is unable to connect to the endpoint provided.</span><span class="sxs-lookup"><span data-stu-id="a311f-747">The issue occurs if Azure AD Connect receives a redirection message from Azure AD and Azure AD Connect is unable to connect to the endpoint provided.</span></span> <span data-ttu-id="a311f-748">The TrackingId is used by Support Engineers to correlate with service side logs during troubleshooting.</span><span class="sxs-lookup"><span data-stu-id="a311f-748">The TrackingId is used by Support Engineers to correlate with service side logs during troubleshooting.</span></span>
* <span data-ttu-id="a311f-749">When Azure AD Connect receives LargeObject error from Azure AD, Azure AD Connect generates an event with EventID 6941 and message *“The provisioned object is too large. Trim the number of attribute values on this object.”*</span><span class="sxs-lookup"><span data-stu-id="a311f-749">When Azure AD Connect receives LargeObject error from Azure AD, Azure AD Connect generates an event with EventID 6941 and message *“The provisioned object is too large. Trim the number of attribute values on this object.”*</span></span> <span data-ttu-id="a311f-750">At the same time, Azure AD Connect also generates a misleading event with EventID 6900 and message *“Microsoft.Online.Coexistence.ProvisionRetryException: Unable to communicate with the Windows Azure Active Directory service.”*</span><span class="sxs-lookup"><span data-stu-id="a311f-750">At the same time, Azure AD Connect also generates a misleading event with EventID 6900 and message *“Microsoft.Online.Coexistence.ProvisionRetryException: Unable to communicate with the Windows Azure Active Directory service.”*</span></span> <span data-ttu-id="a311f-751">To minimize confusion, Azure AD Connect no longer generates the latter event when LargeObject error is received.</span><span class="sxs-lookup"><span data-stu-id="a311f-751">To minimize confusion, Azure AD Connect no longer generates the latter event when LargeObject error is received.</span></span>
* <span data-ttu-id="a311f-752">Fixed an issue that causes the Synchronization Service Manager to become unresponsive when trying to update the configuration for Generic LDAP connector.</span><span class="sxs-lookup"><span data-stu-id="a311f-752">Fixed an issue that causes the Synchronization Service Manager to become unresponsive when trying to update the configuration for Generic LDAP connector.</span></span>

<span data-ttu-id="a311f-753">**New features/improvements:**</span><span class="sxs-lookup"><span data-stu-id="a311f-753">**New features/improvements:**</span></span>

<span data-ttu-id="a311f-754">Azure AD Connect sync</span><span class="sxs-lookup"><span data-stu-id="a311f-754">Azure AD Connect sync</span></span>
* <span data-ttu-id="a311f-755">Sync Rule Changes – The following sync rule changes have been implemented:</span><span class="sxs-lookup"><span data-stu-id="a311f-755">Sync Rule Changes – The following sync rule changes have been implemented:</span></span>
  * <span data-ttu-id="a311f-756">Updated default sync rule set to not export attributes **userCertificate** and **userSMIMECertificate** if the attributes have more than 15 values.</span><span class="sxs-lookup"><span data-stu-id="a311f-756">Updated default sync rule set to not export attributes **userCertificate** and **userSMIMECertificate** if the attributes have more than 15 values.</span></span>
  * <span data-ttu-id="a311f-757">AD attributes **employeeID** and **msExchBypassModerationLink** are now included in the default sync rule set.</span><span class="sxs-lookup"><span data-stu-id="a311f-757">AD attributes **employeeID** and **msExchBypassModerationLink** are now included in the default sync rule set.</span></span>
  * <span data-ttu-id="a311f-758">AD attribute **photo** has been removed from default sync rule set.</span><span class="sxs-lookup"><span data-stu-id="a311f-758">AD attribute **photo** has been removed from default sync rule set.</span></span>
  * <span data-ttu-id="a311f-759">Added **preferredDataLocation** to the Metaverse schema and AAD Connector schema.</span><span class="sxs-lookup"><span data-stu-id="a311f-759">Added **preferredDataLocation** to the Metaverse schema and AAD Connector schema.</span></span> <span data-ttu-id="a311f-760">Customers who want to update either attributes in Azure AD can implement custom sync rules to do so.</span><span class="sxs-lookup"><span data-stu-id="a311f-760">Customers who want to update either attributes in Azure AD can implement custom sync rules to do so.</span></span> 
  * <span data-ttu-id="a311f-761">Added **userType** to the Metaverse schema and AAD Connector schema.</span><span class="sxs-lookup"><span data-stu-id="a311f-761">Added **userType** to the Metaverse schema and AAD Connector schema.</span></span> <span data-ttu-id="a311f-762">Customers who want to update either attributes in Azure AD can implement custom sync rules to do so.</span><span class="sxs-lookup"><span data-stu-id="a311f-762">Customers who want to update either attributes in Azure AD can implement custom sync rules to do so.</span></span>

* <span data-ttu-id="a311f-763">Azure AD Connect now automatically enables the use of ConsistencyGuid attribute as the Source Anchor attribute for on-premises AD objects.</span><span class="sxs-lookup"><span data-stu-id="a311f-763">Azure AD Connect now automatically enables the use of ConsistencyGuid attribute as the Source Anchor attribute for on-premises AD objects.</span></span> <span data-ttu-id="a311f-764">Further, Azure AD Connect populates the ConsistencyGuid attribute with the objectGuid attribute value if it is empty.</span><span class="sxs-lookup"><span data-stu-id="a311f-764">Further, Azure AD Connect populates the ConsistencyGuid attribute with the objectGuid attribute value if it is empty.</span></span> <span data-ttu-id="a311f-765">This feature is applicable to new deployment only.</span><span class="sxs-lookup"><span data-stu-id="a311f-765">This feature is applicable to new deployment only.</span></span> <span data-ttu-id="a311f-766">To find out more about this feature, refer to article section [Azure AD Connect: Design concepts - Using ms-DS-ConsistencyGuid as sourceAnchor](active-directory-aadconnect-design-concepts.md#using-ms-ds-consistencyguid-as-sourceanchor).</span><span class="sxs-lookup"><span data-stu-id="a311f-766">To find out more about this feature, refer to article section [Azure AD Connect: Design concepts - Using ms-DS-ConsistencyGuid as sourceAnchor](active-directory-aadconnect-design-concepts.md#using-ms-ds-consistencyguid-as-sourceanchor).</span></span>
* <span data-ttu-id="a311f-767">New troubleshooting cmdlet Invoke-ADSyncDiagnostics has been added to help diagnose Password Hash Synchronization related issues.</span><span class="sxs-lookup"><span data-stu-id="a311f-767">New troubleshooting cmdlet Invoke-ADSyncDiagnostics has been added to help diagnose Password Hash Synchronization related issues.</span></span> <span data-ttu-id="a311f-768">For information about using the cmdlet, refer to article [Troubleshoot password hash synchronization with Azure AD Connect sync](active-directory-aadconnectsync-troubleshoot-password-hash-synchronization.md).</span><span class="sxs-lookup"><span data-stu-id="a311f-768">For information about using the cmdlet, refer to article [Troubleshoot password hash synchronization with Azure AD Connect sync](active-directory-aadconnectsync-troubleshoot-password-hash-synchronization.md).</span></span>
* <span data-ttu-id="a311f-769">Azure AD Connect now supports synchronizing Mail-Enabled Public Folder objects from on-premises AD to Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a311f-769">Azure AD Connect now supports synchronizing Mail-Enabled Public Folder objects from on-premises AD to Azure AD.</span></span> <span data-ttu-id="a311f-770">You can enable the feature using Azure AD Connect wizard under Optional Features.</span><span class="sxs-lookup"><span data-stu-id="a311f-770">You can enable the feature using Azure AD Connect wizard under Optional Features.</span></span> <span data-ttu-id="a311f-771">To find out more about this feature, refer to article [Office 365 Directory Based Edge Blocking support for on-premises Mail Enabled Public Folders](https://blogs.technet.microsoft.com/exchange/2017/05/19/office-365-directory-based-edge-blocking-support-for-on-premises-mail-enabled-public-folders).</span><span class="sxs-lookup"><span data-stu-id="a311f-771">To find out more about this feature, refer to article [Office 365 Directory Based Edge Blocking support for on-premises Mail Enabled Public Folders](https://blogs.technet.microsoft.com/exchange/2017/05/19/office-365-directory-based-edge-blocking-support-for-on-premises-mail-enabled-public-folders).</span></span>
* <span data-ttu-id="a311f-772">Azure AD Connect requires an AD DS account to synchronize from on-premises AD.</span><span class="sxs-lookup"><span data-stu-id="a311f-772">Azure AD Connect requires an AD DS account to synchronize from on-premises AD.</span></span> <span data-ttu-id="a311f-773">Previously, if you installed Azure AD Connect using the Express mode, you could provide the credentials of an Enterprise Admin account and Azure AD Connect would create the AD DS account required.</span><span class="sxs-lookup"><span data-stu-id="a311f-773">Previously, if you installed Azure AD Connect using the Express mode, you could provide the credentials of an Enterprise Admin account and Azure AD Connect would create the AD DS account required.</span></span> <span data-ttu-id="a311f-774">However, for a custom installation and adding forests to an existing deployment, you were required to provide the AD DS account instead.</span><span class="sxs-lookup"><span data-stu-id="a311f-774">However, for a custom installation and adding forests to an existing deployment, you were required to provide the AD DS account instead.</span></span> <span data-ttu-id="a311f-775">Now, you also have the option to provide the credentials of an Enterprise Admin account during a custom installation and let Azure AD Connect create the AD DS account required.</span><span class="sxs-lookup"><span data-stu-id="a311f-775">Now, you also have the option to provide the credentials of an Enterprise Admin account during a custom installation and let Azure AD Connect create the AD DS account required.</span></span>
* <span data-ttu-id="a311f-776">Azure AD Connect now supports SQL AOA.</span><span class="sxs-lookup"><span data-stu-id="a311f-776">Azure AD Connect now supports SQL AOA.</span></span> <span data-ttu-id="a311f-777">You must enable SQL AOA before installing Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="a311f-777">You must enable SQL AOA before installing Azure AD Connect.</span></span> <span data-ttu-id="a311f-778">During installation, Azure AD Connect detects whether the SQL instance provided is enabled for SQL AOA or not.</span><span class="sxs-lookup"><span data-stu-id="a311f-778">During installation, Azure AD Connect detects whether the SQL instance provided is enabled for SQL AOA or not.</span></span> <span data-ttu-id="a311f-779">If SQL AOA is enabled, Azure AD Connect further figures out if SQL AOA is configured to use synchronous replication or asynchronous replication.</span><span class="sxs-lookup"><span data-stu-id="a311f-779">If SQL AOA is enabled, Azure AD Connect further figures out if SQL AOA is configured to use synchronous replication or asynchronous replication.</span></span> <span data-ttu-id="a311f-780">When setting up the Availability Group Listener, it is recommended that you set the RegisterAllProvidersIP property to 0.</span><span class="sxs-lookup"><span data-stu-id="a311f-780">When setting up the Availability Group Listener, it is recommended that you set the RegisterAllProvidersIP property to 0.</span></span> <span data-ttu-id="a311f-781">This recommendation is because Azure AD Connect currently uses SQL Native Client to connect to SQL and SQL Native Client does not support the use of MultiSubNetFailover property.</span><span class="sxs-lookup"><span data-stu-id="a311f-781">This recommendation is because Azure AD Connect currently uses SQL Native Client to connect to SQL and SQL Native Client does not support the use of MultiSubNetFailover property.</span></span>
* <span data-ttu-id="a311f-782">If you are using LocalDB as the database for your Azure AD Connect server and has reached its 10-GB size limit, the Synchronization Service no longer starts.</span><span class="sxs-lookup"><span data-stu-id="a311f-782">If you are using LocalDB as the database for your Azure AD Connect server and has reached its 10-GB size limit, the Synchronization Service no longer starts.</span></span> <span data-ttu-id="a311f-783">Previously, you need to perform ShrinkDatabase operation on the LocalDB to reclaim enough DB space for the Synchronization Service to start.</span><span class="sxs-lookup"><span data-stu-id="a311f-783">Previously, you need to perform ShrinkDatabase operation on the LocalDB to reclaim enough DB space for the Synchronization Service to start.</span></span> <span data-ttu-id="a311f-784">After which, you can use the Synchronization Service Manager to delete run history to reclaim more DB space.</span><span class="sxs-lookup"><span data-stu-id="a311f-784">After which, you can use the Synchronization Service Manager to delete run history to reclaim more DB space.</span></span> <span data-ttu-id="a311f-785">Now, you can use Start-ADSyncPurgeRunHistory cmdlet to purge run history data from LocalDB to reclaim DB space.</span><span class="sxs-lookup"><span data-stu-id="a311f-785">Now, you can use Start-ADSyncPurgeRunHistory cmdlet to purge run history data from LocalDB to reclaim DB space.</span></span> <span data-ttu-id="a311f-786">Further, this cmdlet supports an offline mode (by specifying the -offline parameter) which can be used when the Synchronization Service is not running.</span><span class="sxs-lookup"><span data-stu-id="a311f-786">Further, this cmdlet supports an offline mode (by specifying the -offline parameter) which can be used when the Synchronization Service is not running.</span></span> <span data-ttu-id="a311f-787">Note: The offline mode can only be used if the Synchronization Service is not running and the database used is LocalDB.</span><span class="sxs-lookup"><span data-stu-id="a311f-787">Note: The offline mode can only be used if the Synchronization Service is not running and the database used is LocalDB.</span></span>
* <span data-ttu-id="a311f-788">To reduce the amount of storage space required, Azure AD Connect now compresses sync error details before storing them in LocalDB/SQL databases.</span><span class="sxs-lookup"><span data-stu-id="a311f-788">To reduce the amount of storage space required, Azure AD Connect now compresses sync error details before storing them in LocalDB/SQL databases.</span></span> <span data-ttu-id="a311f-789">When upgrading from an older version of Azure AD Connect to this version, Azure AD Connect performs a one-time compression on existing sync error details.</span><span class="sxs-lookup"><span data-stu-id="a311f-789">When upgrading from an older version of Azure AD Connect to this version, Azure AD Connect performs a one-time compression on existing sync error details.</span></span>
* <span data-ttu-id="a311f-790">Previously, after updating OU filtering configuration, you must manually run Full import to ensure existing objects are properly included/excluded from directory synchronization.</span><span class="sxs-lookup"><span data-stu-id="a311f-790">Previously, after updating OU filtering configuration, you must manually run Full import to ensure existing objects are properly included/excluded from directory synchronization.</span></span> <span data-ttu-id="a311f-791">Now, Azure AD Connect automatically triggers Full import during the next sync cycle.</span><span class="sxs-lookup"><span data-stu-id="a311f-791">Now, Azure AD Connect automatically triggers Full import during the next sync cycle.</span></span> <span data-ttu-id="a311f-792">Further, Full import is only be applied to the AD connectors affected by the update.</span><span class="sxs-lookup"><span data-stu-id="a311f-792">Further, Full import is only be applied to the AD connectors affected by the update.</span></span> <span data-ttu-id="a311f-793">Note: this improvement is applicable to OU filtering updates made using the Azure AD Connect wizard only.</span><span class="sxs-lookup"><span data-stu-id="a311f-793">Note: this improvement is applicable to OU filtering updates made using the Azure AD Connect wizard only.</span></span> <span data-ttu-id="a311f-794">It is not applicable to OU filtering update made using the Synchronization Service Manager.</span><span class="sxs-lookup"><span data-stu-id="a311f-794">It is not applicable to OU filtering update made using the Synchronization Service Manager.</span></span>
* <span data-ttu-id="a311f-795">Previously, Group-based filtering supports Users, Groups, and Contact objects only.</span><span class="sxs-lookup"><span data-stu-id="a311f-795">Previously, Group-based filtering supports Users, Groups, and Contact objects only.</span></span> <span data-ttu-id="a311f-796">Now, Group-based filtering also supports Computer objects.</span><span class="sxs-lookup"><span data-stu-id="a311f-796">Now, Group-based filtering also supports Computer objects.</span></span>
* <span data-ttu-id="a311f-797">Previously, you can delete Connector Space data without disabling Azure AD Connect sync scheduler.</span><span class="sxs-lookup"><span data-stu-id="a311f-797">Previously, you can delete Connector Space data without disabling Azure AD Connect sync scheduler.</span></span> <span data-ttu-id="a311f-798">Now, the Synchronization Service Manager blocks the deletion of Connector Space data if it detects that the scheduler is enabled.</span><span class="sxs-lookup"><span data-stu-id="a311f-798">Now, the Synchronization Service Manager blocks the deletion of Connector Space data if it detects that the scheduler is enabled.</span></span> <span data-ttu-id="a311f-799">Further, a warning is returned to inform customers about potential data loss if the Connector space data is deleted.</span><span class="sxs-lookup"><span data-stu-id="a311f-799">Further, a warning is returned to inform customers about potential data loss if the Connector space data is deleted.</span></span>
* <span data-ttu-id="a311f-800">Previously, you must disable PowerShell transcription for Azure AD Connect wizard to run correctly.</span><span class="sxs-lookup"><span data-stu-id="a311f-800">Previously, you must disable PowerShell transcription for Azure AD Connect wizard to run correctly.</span></span> <span data-ttu-id="a311f-801">This issue is partially resolved.</span><span class="sxs-lookup"><span data-stu-id="a311f-801">This issue is partially resolved.</span></span> <span data-ttu-id="a311f-802">You can enable PowerShell transcription if you are using Azure AD Connect wizard to manage sync configuration.</span><span class="sxs-lookup"><span data-stu-id="a311f-802">You can enable PowerShell transcription if you are using Azure AD Connect wizard to manage sync configuration.</span></span> <span data-ttu-id="a311f-803">You must disable PowerShell transcription if you are using Azure AD Connect wizard to manage ADFS configuration.</span><span class="sxs-lookup"><span data-stu-id="a311f-803">You must disable PowerShell transcription if you are using Azure AD Connect wizard to manage ADFS configuration.</span></span>



## <a name="114860"></a><span data-ttu-id="a311f-804">1.1.486.0</span><span class="sxs-lookup"><span data-stu-id="a311f-804">1.1.486.0</span></span>
<span data-ttu-id="a311f-805">Released: April 2017</span><span class="sxs-lookup"><span data-stu-id="a311f-805">Released: April 2017</span></span>

<span data-ttu-id="a311f-806">**Fixed issues:**</span><span class="sxs-lookup"><span data-stu-id="a311f-806">**Fixed issues:**</span></span>
* <span data-ttu-id="a311f-807">Fixed the issue where Azure AD Connect will not install successfully on localized version of Windows Server.</span><span class="sxs-lookup"><span data-stu-id="a311f-807">Fixed the issue where Azure AD Connect will not install successfully on localized version of Windows Server.</span></span>

## <a name="114840"></a><span data-ttu-id="a311f-808">1.1.484.0</span><span class="sxs-lookup"><span data-stu-id="a311f-808">1.1.484.0</span></span>
<span data-ttu-id="a311f-809">Released: April 2017</span><span class="sxs-lookup"><span data-stu-id="a311f-809">Released: April 2017</span></span>

<span data-ttu-id="a311f-810">**Known issues:**</span><span class="sxs-lookup"><span data-stu-id="a311f-810">**Known issues:**</span></span>

* <span data-ttu-id="a311f-811">This version of Azure AD Connect will not install successfully if the following conditions are all true:</span><span class="sxs-lookup"><span data-stu-id="a311f-811">This version of Azure AD Connect will not install successfully if the following conditions are all true:</span></span>
   1. <span data-ttu-id="a311f-812">You are performing either DirSync in-place upgrade or fresh installation of Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="a311f-812">You are performing either DirSync in-place upgrade or fresh installation of Azure AD Connect.</span></span>
   2. <span data-ttu-id="a311f-813">You are using a localized version of Windows Server where the name of built-in Administrator group on the server isn't "Administrators".</span><span class="sxs-lookup"><span data-stu-id="a311f-813">You are using a localized version of Windows Server where the name of built-in Administrator group on the server isn't "Administrators".</span></span>
   3. <span data-ttu-id="a311f-814">You are using the default SQL Server 2012 Express LocalDB installed with Azure AD Connect instead of providing your own full SQL.</span><span class="sxs-lookup"><span data-stu-id="a311f-814">You are using the default SQL Server 2012 Express LocalDB installed with Azure AD Connect instead of providing your own full SQL.</span></span>

<span data-ttu-id="a311f-815">**Fixed issues:**</span><span class="sxs-lookup"><span data-stu-id="a311f-815">**Fixed issues:**</span></span>

<span data-ttu-id="a311f-816">Azure AD Connect sync</span><span class="sxs-lookup"><span data-stu-id="a311f-816">Azure AD Connect sync</span></span>
* <span data-ttu-id="a311f-817">Fixed an issue where the sync scheduler skips the entire sync step if one or more connectors are missing run profile for that sync step.</span><span class="sxs-lookup"><span data-stu-id="a311f-817">Fixed an issue where the sync scheduler skips the entire sync step if one or more connectors are missing run profile for that sync step.</span></span> <span data-ttu-id="a311f-818">For example, you manually added a connector using the Synchronization Service Manager without creating a Delta Import run profile for it.</span><span class="sxs-lookup"><span data-stu-id="a311f-818">For example, you manually added a connector using the Synchronization Service Manager without creating a Delta Import run profile for it.</span></span> <span data-ttu-id="a311f-819">This fix ensures that the sync scheduler continues to run Delta Import for other connectors.</span><span class="sxs-lookup"><span data-stu-id="a311f-819">This fix ensures that the sync scheduler continues to run Delta Import for other connectors.</span></span>
* <span data-ttu-id="a311f-820">Fixed an issue where the Synchronization Service immediately stops processing a run profile when it is encounters an issue with one of the run steps.</span><span class="sxs-lookup"><span data-stu-id="a311f-820">Fixed an issue where the Synchronization Service immediately stops processing a run profile when it is encounters an issue with one of the run steps.</span></span> <span data-ttu-id="a311f-821">This fix ensures that the Synchronization Service skips that run step and continues to process the rest.</span><span class="sxs-lookup"><span data-stu-id="a311f-821">This fix ensures that the Synchronization Service skips that run step and continues to process the rest.</span></span> <span data-ttu-id="a311f-822">For example, you have a Delta Import run profile for your AD connector with multiple run steps (one for each on-premises AD domain).</span><span class="sxs-lookup"><span data-stu-id="a311f-822">For example, you have a Delta Import run profile for your AD connector with multiple run steps (one for each on-premises AD domain).</span></span> <span data-ttu-id="a311f-823">The Synchronization Service will run Delta Import with the other AD domains even if one of them has network connectivity issues.</span><span class="sxs-lookup"><span data-stu-id="a311f-823">The Synchronization Service will run Delta Import with the other AD domains even if one of them has network connectivity issues.</span></span>
* <span data-ttu-id="a311f-824">Fixed an issue that causes the Azure AD Connector update to be skipped during Automatic Upgrade.</span><span class="sxs-lookup"><span data-stu-id="a311f-824">Fixed an issue that causes the Azure AD Connector update to be skipped during Automatic Upgrade.</span></span>
* <span data-ttu-id="a311f-825">Fixed an issue that causes Azure AD Connect to incorrectly determine whether the server is a domain controller during setup, which in turn causes DirSync upgrade to fail.</span><span class="sxs-lookup"><span data-stu-id="a311f-825">Fixed an issue that causes Azure AD Connect to incorrectly determine whether the server is a domain controller during setup, which in turn causes DirSync upgrade to fail.</span></span>
* <span data-ttu-id="a311f-826">Fixed an issue that causes DirSync in-place upgrade to not create any run profile for the Azure AD Connector.</span><span class="sxs-lookup"><span data-stu-id="a311f-826">Fixed an issue that causes DirSync in-place upgrade to not create any run profile for the Azure AD Connector.</span></span>
* <span data-ttu-id="a311f-827">Fixed an issue where the Synchronization Service Manager user interface becomes unresponsive when trying to configure Generic LDAP Connector.</span><span class="sxs-lookup"><span data-stu-id="a311f-827">Fixed an issue where the Synchronization Service Manager user interface becomes unresponsive when trying to configure Generic LDAP Connector.</span></span>

<span data-ttu-id="a311f-828">AD FS management</span><span class="sxs-lookup"><span data-stu-id="a311f-828">AD FS management</span></span>
* <span data-ttu-id="a311f-829">Fixed an issue where the Azure AD Connect wizard fails if the AD FS primary node has been moved to another server.</span><span class="sxs-lookup"><span data-stu-id="a311f-829">Fixed an issue where the Azure AD Connect wizard fails if the AD FS primary node has been moved to another server.</span></span>

<span data-ttu-id="a311f-830">Desktop SSO</span><span class="sxs-lookup"><span data-stu-id="a311f-830">Desktop SSO</span></span>
* <span data-ttu-id="a311f-831">Fixed an issue in the Azure AD Connect wizard where the Sign-In screen does not let you enable Desktop SSO feature if you chose Password Synchronization as your Sign-In option during new installation.</span><span class="sxs-lookup"><span data-stu-id="a311f-831">Fixed an issue in the Azure AD Connect wizard where the Sign-In screen does not let you enable Desktop SSO feature if you chose Password Synchronization as your Sign-In option during new installation.</span></span>

<span data-ttu-id="a311f-832">**New features/improvements:**</span><span class="sxs-lookup"><span data-stu-id="a311f-832">**New features/improvements:**</span></span>

<span data-ttu-id="a311f-833">Azure AD Connect sync</span><span class="sxs-lookup"><span data-stu-id="a311f-833">Azure AD Connect sync</span></span>
* <span data-ttu-id="a311f-834">Azure AD Connect Sync now supports the use of Virtual Service Account, Managed Service Account and Group Managed Service Account as its service account.</span><span class="sxs-lookup"><span data-stu-id="a311f-834">Azure AD Connect Sync now supports the use of Virtual Service Account, Managed Service Account and Group Managed Service Account as its service account.</span></span> <span data-ttu-id="a311f-835">This applies to new installation of Azure AD Connect only.</span><span class="sxs-lookup"><span data-stu-id="a311f-835">This applies to new installation of Azure AD Connect only.</span></span> <span data-ttu-id="a311f-836">When installing Azure AD Connect:</span><span class="sxs-lookup"><span data-stu-id="a311f-836">When installing Azure AD Connect:</span></span>
    * <span data-ttu-id="a311f-837">By default, Azure AD Connect wizard will create a Virtual Service Account and uses it as its service account.</span><span class="sxs-lookup"><span data-stu-id="a311f-837">By default, Azure AD Connect wizard will create a Virtual Service Account and uses it as its service account.</span></span>
    * <span data-ttu-id="a311f-838">If you are installing on a domain controller, Azure AD Connect falls back to previous behavior where it will create a domain user account and uses it as its service account instead.</span><span class="sxs-lookup"><span data-stu-id="a311f-838">If you are installing on a domain controller, Azure AD Connect falls back to previous behavior where it will create a domain user account and uses it as its service account instead.</span></span>
    * <span data-ttu-id="a311f-839">You can override the default behavior by providing one of the following:</span><span class="sxs-lookup"><span data-stu-id="a311f-839">You can override the default behavior by providing one of the following:</span></span>
      * <span data-ttu-id="a311f-840">A Group Managed Service Account</span><span class="sxs-lookup"><span data-stu-id="a311f-840">A Group Managed Service Account</span></span>
      * <span data-ttu-id="a311f-841">A Managed Service Account</span><span class="sxs-lookup"><span data-stu-id="a311f-841">A Managed Service Account</span></span>
      * <span data-ttu-id="a311f-842">A domain user account</span><span class="sxs-lookup"><span data-stu-id="a311f-842">A domain user account</span></span>
      * <span data-ttu-id="a311f-843">A local user account</span><span class="sxs-lookup"><span data-stu-id="a311f-843">A local user account</span></span>
* <span data-ttu-id="a311f-844">Previously, if you upgrade to a new build of Azure AD Connect containing connectors update or sync rule changes, Azure AD Connect will trigger a full sync cycle.</span><span class="sxs-lookup"><span data-stu-id="a311f-844">Previously, if you upgrade to a new build of Azure AD Connect containing connectors update or sync rule changes, Azure AD Connect will trigger a full sync cycle.</span></span> <span data-ttu-id="a311f-845">Now, Azure AD Connect selectively triggers Full Import step only for connectors with update, and Full Synchronization step only for connectors with sync rule changes.</span><span class="sxs-lookup"><span data-stu-id="a311f-845">Now, Azure AD Connect selectively triggers Full Import step only for connectors with update, and Full Synchronization step only for connectors with sync rule changes.</span></span>
* <span data-ttu-id="a311f-846">Previously, the Export Deletion Threshold only applies to exports which are triggered through the sync scheduler.</span><span class="sxs-lookup"><span data-stu-id="a311f-846">Previously, the Export Deletion Threshold only applies to exports which are triggered through the sync scheduler.</span></span> <span data-ttu-id="a311f-847">Now, the feature is extended to include exports manually triggered by the customer using the Synchronization Service Manager.</span><span class="sxs-lookup"><span data-stu-id="a311f-847">Now, the feature is extended to include exports manually triggered by the customer using the Synchronization Service Manager.</span></span>
* <span data-ttu-id="a311f-848">On your Azure AD tenant, there is a service configuration which indicates whether Password Synchronization feature is enabled for your tenant or not.</span><span class="sxs-lookup"><span data-stu-id="a311f-848">On your Azure AD tenant, there is a service configuration which indicates whether Password Synchronization feature is enabled for your tenant or not.</span></span> <span data-ttu-id="a311f-849">Previously, it is easy for the service configuration to be incorrectly configured by Azure AD Connect when you have an active and a staging server.</span><span class="sxs-lookup"><span data-stu-id="a311f-849">Previously, it is easy for the service configuration to be incorrectly configured by Azure AD Connect when you have an active and a staging server.</span></span> <span data-ttu-id="a311f-850">Now, Azure AD Connect will attempt to keep the service configuration consistent with your active Azure AD Connect server only.</span><span class="sxs-lookup"><span data-stu-id="a311f-850">Now, Azure AD Connect will attempt to keep the service configuration consistent with your active Azure AD Connect server only.</span></span>
* <span data-ttu-id="a311f-851">Azure AD Connect wizard now detects and returns a warning if on-premises AD does not have AD Recycle Bin enabled.</span><span class="sxs-lookup"><span data-stu-id="a311f-851">Azure AD Connect wizard now detects and returns a warning if on-premises AD does not have AD Recycle Bin enabled.</span></span>
* <span data-ttu-id="a311f-852">Previously, Export to Azure AD times out and fails if the combined size of the objects in the batch exceeds certain threshold.</span><span class="sxs-lookup"><span data-stu-id="a311f-852">Previously, Export to Azure AD times out and fails if the combined size of the objects in the batch exceeds certain threshold.</span></span> <span data-ttu-id="a311f-853">Now, the Synchronization Service will reattempt to resend the objects in separate, smaller batches if the issue is encountered.</span><span class="sxs-lookup"><span data-stu-id="a311f-853">Now, the Synchronization Service will reattempt to resend the objects in separate, smaller batches if the issue is encountered.</span></span>
* <span data-ttu-id="a311f-854">The Synchronization Service Key Management application has been removed from Windows Start Menu.</span><span class="sxs-lookup"><span data-stu-id="a311f-854">The Synchronization Service Key Management application has been removed from Windows Start Menu.</span></span> <span data-ttu-id="a311f-855">Management of encryption key will continue to be supported through command-line interface using miiskmu.exe.</span><span class="sxs-lookup"><span data-stu-id="a311f-855">Management of encryption key will continue to be supported through command-line interface using miiskmu.exe.</span></span> <span data-ttu-id="a311f-856">For information about managing encryption key, refer to article [Abandoning the Azure AD Connect Sync encryption key](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnectsync-change-serviceacct-pass#abandoning-the-azure-ad-connect-sync-encryption-key).</span><span class="sxs-lookup"><span data-stu-id="a311f-856">For information about managing encryption key, refer to article [Abandoning the Azure AD Connect Sync encryption key](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnectsync-change-serviceacct-pass#abandoning-the-azure-ad-connect-sync-encryption-key).</span></span>
* <span data-ttu-id="a311f-857">Previously, if you change the Azure AD Connect sync service account password, the Synchronization Service will not be able start correctly until you have abandoned the encryption key and reinitialized the Azure AD Connect sync service account password.</span><span class="sxs-lookup"><span data-stu-id="a311f-857">Previously, if you change the Azure AD Connect sync service account password, the Synchronization Service will not be able start correctly until you have abandoned the encryption key and reinitialized the Azure AD Connect sync service account password.</span></span> <span data-ttu-id="a311f-858">Now, this process is no longer required.</span><span class="sxs-lookup"><span data-stu-id="a311f-858">Now, this process is no longer required.</span></span>

<span data-ttu-id="a311f-859">Desktop SSO</span><span class="sxs-lookup"><span data-stu-id="a311f-859">Desktop SSO</span></span>

* <span data-ttu-id="a311f-860">Azure AD Connect wizard no longer requires port 9090 to be opened on the network when configuring Pass-through Authentication and Desktop SSO.</span><span class="sxs-lookup"><span data-stu-id="a311f-860">Azure AD Connect wizard no longer requires port 9090 to be opened on the network when configuring Pass-through Authentication and Desktop SSO.</span></span> <span data-ttu-id="a311f-861">Only port 443 is required.</span><span class="sxs-lookup"><span data-stu-id="a311f-861">Only port 443 is required.</span></span> 

## <a name="114430"></a><span data-ttu-id="a311f-862">1.1.443.0</span><span class="sxs-lookup"><span data-stu-id="a311f-862">1.1.443.0</span></span>
<span data-ttu-id="a311f-863">Released: March 2017</span><span class="sxs-lookup"><span data-stu-id="a311f-863">Released: March 2017</span></span>

<span data-ttu-id="a311f-864">**Fixed issues:**</span><span class="sxs-lookup"><span data-stu-id="a311f-864">**Fixed issues:**</span></span>

<span data-ttu-id="a311f-865">Azure AD Connect sync</span><span class="sxs-lookup"><span data-stu-id="a311f-865">Azure AD Connect sync</span></span>
* <span data-ttu-id="a311f-866">Fixed an issue which causes Azure AD Connect wizard to fail if the display name of the Azure AD Connector does not contain the initial onmicrosoft.com domain assigned to the Azure AD tenant.</span><span class="sxs-lookup"><span data-stu-id="a311f-866">Fixed an issue which causes Azure AD Connect wizard to fail if the display name of the Azure AD Connector does not contain the initial onmicrosoft.com domain assigned to the Azure AD tenant.</span></span>
* <span data-ttu-id="a311f-867">Fixed an issue which causes Azure AD Connect wizard to fail while making connection to SQL database when the password of the Sync Service Account contains special characters such as apostrophe, colon and space.</span><span class="sxs-lookup"><span data-stu-id="a311f-867">Fixed an issue which causes Azure AD Connect wizard to fail while making connection to SQL database when the password of the Sync Service Account contains special characters such as apostrophe, colon and space.</span></span>
* <span data-ttu-id="a311f-868">Fixed an issue which causes the error “The dimage has an anchor that is different than the image” to occur on an Azure AD Connect server in staging mode, after you have temporarily excluded an on-premises AD object from syncing and then included it again for syncing.</span><span class="sxs-lookup"><span data-stu-id="a311f-868">Fixed an issue which causes the error “The dimage has an anchor that is different than the image” to occur on an Azure AD Connect server in staging mode, after you have temporarily excluded an on-premises AD object from syncing and then included it again for syncing.</span></span>
* <span data-ttu-id="a311f-869">Fixed an issue which causes the error “The object located by DN is a phantom” to occur on an Azure AD Connect server in staging mode, after you have temporarily excluded an on-premises AD object from syncing and then included it again for syncing.</span><span class="sxs-lookup"><span data-stu-id="a311f-869">Fixed an issue which causes the error “The object located by DN is a phantom” to occur on an Azure AD Connect server in staging mode, after you have temporarily excluded an on-premises AD object from syncing and then included it again for syncing.</span></span>

<span data-ttu-id="a311f-870">AD FS management</span><span class="sxs-lookup"><span data-stu-id="a311f-870">AD FS management</span></span>
* <span data-ttu-id="a311f-871">Fixed an issue where Azure AD Connect wizard does not update AD FS configuration and set the right claims on the relying party trust after Alternate Login ID is configured.</span><span class="sxs-lookup"><span data-stu-id="a311f-871">Fixed an issue where Azure AD Connect wizard does not update AD FS configuration and set the right claims on the relying party trust after Alternate Login ID is configured.</span></span>
* <span data-ttu-id="a311f-872">Fixed an issue where Azure AD Connect wizard is unable to correctly handle AD FS servers whose service accounts are configured using userPrincipalName format instead of sAMAccountName format.</span><span class="sxs-lookup"><span data-stu-id="a311f-872">Fixed an issue where Azure AD Connect wizard is unable to correctly handle AD FS servers whose service accounts are configured using userPrincipalName format instead of sAMAccountName format.</span></span>

<span data-ttu-id="a311f-873">Pass-through Authentication</span><span class="sxs-lookup"><span data-stu-id="a311f-873">Pass-through Authentication</span></span>
* <span data-ttu-id="a311f-874">Fixed an issue which causes Azure AD Connect wizard to fail if Pass Through Authentication is selected but registration of its connector fails.</span><span class="sxs-lookup"><span data-stu-id="a311f-874">Fixed an issue which causes Azure AD Connect wizard to fail if Pass Through Authentication is selected but registration of its connector fails.</span></span>
* <span data-ttu-id="a311f-875">Fixed an issue which causes Azure AD Connect wizard to bypass validation checks on sign-in method selected when Desktop SSO feature is enabled.</span><span class="sxs-lookup"><span data-stu-id="a311f-875">Fixed an issue which causes Azure AD Connect wizard to bypass validation checks on sign-in method selected when Desktop SSO feature is enabled.</span></span>

<span data-ttu-id="a311f-876">Password Reset</span><span class="sxs-lookup"><span data-stu-id="a311f-876">Password Reset</span></span>
* <span data-ttu-id="a311f-877">Fixed an issue which may cause the Azure AAD Connect server to not attempt to re-connect if the connection was killed by a firewall or proxy.</span><span class="sxs-lookup"><span data-stu-id="a311f-877">Fixed an issue which may cause the Azure AAD Connect server to not attempt to re-connect if the connection was killed by a firewall or proxy.</span></span>

<span data-ttu-id="a311f-878">**New features/improvements:**</span><span class="sxs-lookup"><span data-stu-id="a311f-878">**New features/improvements:**</span></span>

<span data-ttu-id="a311f-879">Azure AD Connect sync</span><span class="sxs-lookup"><span data-stu-id="a311f-879">Azure AD Connect sync</span></span>
* <span data-ttu-id="a311f-880">Get-ADSyncScheduler cmdlet now returns a new Boolean property named SyncCycleInProgress.</span><span class="sxs-lookup"><span data-stu-id="a311f-880">Get-ADSyncScheduler cmdlet now returns a new Boolean property named SyncCycleInProgress.</span></span> <span data-ttu-id="a311f-881">If the returned value is true, it means that there is a scheduled synchronization cycle in progress.</span><span class="sxs-lookup"><span data-stu-id="a311f-881">If the returned value is true, it means that there is a scheduled synchronization cycle in progress.</span></span>
* <span data-ttu-id="a311f-882">Destination folder for storing Azure AD Connect installation and setup logs has been moved from %localappdata%\AADConnect to %programdata%\AADConnect to improve accessibility to the log files.</span><span class="sxs-lookup"><span data-stu-id="a311f-882">Destination folder for storing Azure AD Connect installation and setup logs has been moved from %localappdata%\AADConnect to %programdata%\AADConnect to improve accessibility to the log files.</span></span>

<span data-ttu-id="a311f-883">AD FS management</span><span class="sxs-lookup"><span data-stu-id="a311f-883">AD FS management</span></span>
* <span data-ttu-id="a311f-884">Added support for updating AD FS Farm SSL Certificate.</span><span class="sxs-lookup"><span data-stu-id="a311f-884">Added support for updating AD FS Farm SSL Certificate.</span></span>
* <span data-ttu-id="a311f-885">Added support for managing AD FS 2016.</span><span class="sxs-lookup"><span data-stu-id="a311f-885">Added support for managing AD FS 2016.</span></span>
* <span data-ttu-id="a311f-886">You can now specify existing gMSA (Group Managed Service Account) during AD FS installation.</span><span class="sxs-lookup"><span data-stu-id="a311f-886">You can now specify existing gMSA (Group Managed Service Account) during AD FS installation.</span></span>
* <span data-ttu-id="a311f-887">You can now configure SHA-256 as the signature hash algorithm for Azure AD relying party trust.</span><span class="sxs-lookup"><span data-stu-id="a311f-887">You can now configure SHA-256 as the signature hash algorithm for Azure AD relying party trust.</span></span>

<span data-ttu-id="a311f-888">Password Reset</span><span class="sxs-lookup"><span data-stu-id="a311f-888">Password Reset</span></span>
* <span data-ttu-id="a311f-889">Introduced improvements to allow the product to function in environments with more stringent firewall rules.</span><span class="sxs-lookup"><span data-stu-id="a311f-889">Introduced improvements to allow the product to function in environments with more stringent firewall rules.</span></span>
* <span data-ttu-id="a311f-890">Improved connection reliability to Azure Service Bus.</span><span class="sxs-lookup"><span data-stu-id="a311f-890">Improved connection reliability to Azure Service Bus.</span></span>

## <a name="113800"></a><span data-ttu-id="a311f-891">1.1.380.0</span><span class="sxs-lookup"><span data-stu-id="a311f-891">1.1.380.0</span></span>
<span data-ttu-id="a311f-892">Released: December 2016</span><span class="sxs-lookup"><span data-stu-id="a311f-892">Released: December 2016</span></span>

<span data-ttu-id="a311f-893">**Fixed issue:**</span><span class="sxs-lookup"><span data-stu-id="a311f-893">**Fixed issue:**</span></span>

* <span data-ttu-id="a311f-894">Fixed the issue where the issuerid claim rule for Active Directory Federation Services (AD FS) is missing in this build.</span><span class="sxs-lookup"><span data-stu-id="a311f-894">Fixed the issue where the issuerid claim rule for Active Directory Federation Services (AD FS) is missing in this build.</span></span>

>[!NOTE]
><span data-ttu-id="a311f-895">This build is not available to customers through the Azure AD Connect Auto Upgrade feature.</span><span class="sxs-lookup"><span data-stu-id="a311f-895">This build is not available to customers through the Azure AD Connect Auto Upgrade feature.</span></span>

## <a name="113710"></a><span data-ttu-id="a311f-896">1.1.371.0</span><span class="sxs-lookup"><span data-stu-id="a311f-896">1.1.371.0</span></span>
<span data-ttu-id="a311f-897">Released: December 2016</span><span class="sxs-lookup"><span data-stu-id="a311f-897">Released: December 2016</span></span>

<span data-ttu-id="a311f-898">**Known issue:**</span><span class="sxs-lookup"><span data-stu-id="a311f-898">**Known issue:**</span></span>

* <span data-ttu-id="a311f-899">The issuerid claim rule for AD FS is missing in this build.</span><span class="sxs-lookup"><span data-stu-id="a311f-899">The issuerid claim rule for AD FS is missing in this build.</span></span> <span data-ttu-id="a311f-900">The issuerid claim rule is required if you are federating multiple domains with Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="a311f-900">The issuerid claim rule is required if you are federating multiple domains with Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="a311f-901">If you are using Azure AD Connect to manage your on-premises AD FS deployment, upgrading to this build removes the existing issuerid claim rule from your AD FS configuration.</span><span class="sxs-lookup"><span data-stu-id="a311f-901">If you are using Azure AD Connect to manage your on-premises AD FS deployment, upgrading to this build removes the existing issuerid claim rule from your AD FS configuration.</span></span> <span data-ttu-id="a311f-902">You can work around the issue by adding the issuerid claim rule after the installation/upgrade.</span><span class="sxs-lookup"><span data-stu-id="a311f-902">You can work around the issue by adding the issuerid claim rule after the installation/upgrade.</span></span> <span data-ttu-id="a311f-903">For details on adding the issuerid claim rule, refer to this article on [Multiple domain support for federating with Azure AD](active-directory-aadconnect-multiple-domains.md).</span><span class="sxs-lookup"><span data-stu-id="a311f-903">For details on adding the issuerid claim rule, refer to this article on [Multiple domain support for federating with Azure AD](active-directory-aadconnect-multiple-domains.md).</span></span>

<span data-ttu-id="a311f-904">**Fixed issue:**</span><span class="sxs-lookup"><span data-stu-id="a311f-904">**Fixed issue:**</span></span>

* <span data-ttu-id="a311f-905">If Port 9090 is not opened for the outbound connection, the Azure AD Connect installation or upgrade fails.</span><span class="sxs-lookup"><span data-stu-id="a311f-905">If Port 9090 is not opened for the outbound connection, the Azure AD Connect installation or upgrade fails.</span></span>

>[!NOTE]
><span data-ttu-id="a311f-906">This build is not available to customers through the Azure AD Connect Auto Upgrade feature.</span><span class="sxs-lookup"><span data-stu-id="a311f-906">This build is not available to customers through the Azure AD Connect Auto Upgrade feature.</span></span>

## <a name="113700"></a><span data-ttu-id="a311f-907">1.1.370.0</span><span class="sxs-lookup"><span data-stu-id="a311f-907">1.1.370.0</span></span>
<span data-ttu-id="a311f-908">Released: December 2016</span><span class="sxs-lookup"><span data-stu-id="a311f-908">Released: December 2016</span></span>

<span data-ttu-id="a311f-909">**Known issues:**</span><span class="sxs-lookup"><span data-stu-id="a311f-909">**Known issues:**</span></span>

* <span data-ttu-id="a311f-910">The issuerid claim rule for AD FS is missing in this build.</span><span class="sxs-lookup"><span data-stu-id="a311f-910">The issuerid claim rule for AD FS is missing in this build.</span></span> <span data-ttu-id="a311f-911">The issuerid claim rule is required if you are federating multiple domains with Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a311f-911">The issuerid claim rule is required if you are federating multiple domains with Azure AD.</span></span> <span data-ttu-id="a311f-912">If you are using Azure AD Connect to manage your on-premises AD FS deployment, upgrading to this build removes the existing issuerid claim rule from your AD FS configuration.</span><span class="sxs-lookup"><span data-stu-id="a311f-912">If you are using Azure AD Connect to manage your on-premises AD FS deployment, upgrading to this build removes the existing issuerid claim rule from your AD FS configuration.</span></span> <span data-ttu-id="a311f-913">You can work around the issue by adding the issuerid claim rule after installation/upgrade.</span><span class="sxs-lookup"><span data-stu-id="a311f-913">You can work around the issue by adding the issuerid claim rule after installation/upgrade.</span></span> <span data-ttu-id="a311f-914">For details on adding issuerid claim rule, refer to this article on [Multiple domain support for federating with Azure AD](active-directory-aadconnect-multiple-domains.md).</span><span class="sxs-lookup"><span data-stu-id="a311f-914">For details on adding issuerid claim rule, refer to this article on [Multiple domain support for federating with Azure AD](active-directory-aadconnect-multiple-domains.md).</span></span>
* <span data-ttu-id="a311f-915">Port 9090 must be open outbound to complete installation.</span><span class="sxs-lookup"><span data-stu-id="a311f-915">Port 9090 must be open outbound to complete installation.</span></span>

<span data-ttu-id="a311f-916">**New features:**</span><span class="sxs-lookup"><span data-stu-id="a311f-916">**New features:**</span></span>

* <span data-ttu-id="a311f-917">Pass-through Authentication (Preview).</span><span class="sxs-lookup"><span data-stu-id="a311f-917">Pass-through Authentication (Preview).</span></span>

>[!NOTE]
><span data-ttu-id="a311f-918">This build is not available to customers through the Azure AD Connect Auto Upgrade feature.</span><span class="sxs-lookup"><span data-stu-id="a311f-918">This build is not available to customers through the Azure AD Connect Auto Upgrade feature.</span></span>

## <a name="113430"></a><span data-ttu-id="a311f-919">1.1.343.0</span><span class="sxs-lookup"><span data-stu-id="a311f-919">1.1.343.0</span></span>
<span data-ttu-id="a311f-920">Released: November 2016</span><span class="sxs-lookup"><span data-stu-id="a311f-920">Released: November 2016</span></span>

<span data-ttu-id="a311f-921">**Known issue:**</span><span class="sxs-lookup"><span data-stu-id="a311f-921">**Known issue:**</span></span>

* <span data-ttu-id="a311f-922">The issuerid claim rule for AD FS is missing in this build.</span><span class="sxs-lookup"><span data-stu-id="a311f-922">The issuerid claim rule for AD FS is missing in this build.</span></span> <span data-ttu-id="a311f-923">The issuerid claim rule is required if you are federating multiple domains with Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a311f-923">The issuerid claim rule is required if you are federating multiple domains with Azure AD.</span></span> <span data-ttu-id="a311f-924">If you are using Azure AD Connect to manage your on-premises AD FS deployment, upgrading to this build removes the existing issuerid claim rule from your AD FS configuration.</span><span class="sxs-lookup"><span data-stu-id="a311f-924">If you are using Azure AD Connect to manage your on-premises AD FS deployment, upgrading to this build removes the existing issuerid claim rule from your AD FS configuration.</span></span> <span data-ttu-id="a311f-925">You can work around the issue by adding the issuerid claim rule after installation/upgrade.</span><span class="sxs-lookup"><span data-stu-id="a311f-925">You can work around the issue by adding the issuerid claim rule after installation/upgrade.</span></span> <span data-ttu-id="a311f-926">For details on adding issuerid claim rule, refer to this article on [Multiple domain support for federating with Azure AD](active-directory-aadconnect-multiple-domains.md).</span><span class="sxs-lookup"><span data-stu-id="a311f-926">For details on adding issuerid claim rule, refer to this article on [Multiple domain support for federating with Azure AD](active-directory-aadconnect-multiple-domains.md).</span></span>

<span data-ttu-id="a311f-927">**Fixed issues:**</span><span class="sxs-lookup"><span data-stu-id="a311f-927">**Fixed issues:**</span></span>

* <span data-ttu-id="a311f-928">Sometimes, installing Azure AD Connect fails because it is unable to create a local service account whose password meets the level of complexity specified by the organization's password policy.</span><span class="sxs-lookup"><span data-stu-id="a311f-928">Sometimes, installing Azure AD Connect fails because it is unable to create a local service account whose password meets the level of complexity specified by the organization's password policy.</span></span>
* <span data-ttu-id="a311f-929">Fixed an issue where join rules are not reevaluated when an object in the connector space simultaneously becomes out-of-scope for one join rule and become in-scope for another.</span><span class="sxs-lookup"><span data-stu-id="a311f-929">Fixed an issue where join rules are not reevaluated when an object in the connector space simultaneously becomes out-of-scope for one join rule and become in-scope for another.</span></span> <span data-ttu-id="a311f-930">This can happen if you have two or more join rules whose join conditions are mutually exclusive.</span><span class="sxs-lookup"><span data-stu-id="a311f-930">This can happen if you have two or more join rules whose join conditions are mutually exclusive.</span></span>
* <span data-ttu-id="a311f-931">Fixed an issue where inbound synchronization rules (from Azure AD), which do not contain join rules, are not processed if they have lower precedence values than those containing join rules.</span><span class="sxs-lookup"><span data-stu-id="a311f-931">Fixed an issue where inbound synchronization rules (from Azure AD), which do not contain join rules, are not processed if they have lower precedence values than those containing join rules.</span></span>

<span data-ttu-id="a311f-932">**Improvements:**</span><span class="sxs-lookup"><span data-stu-id="a311f-932">**Improvements:**</span></span>

* <span data-ttu-id="a311f-933">Added support for installing Azure AD Connect on Windows Server 2016 Standard or higher.</span><span class="sxs-lookup"><span data-stu-id="a311f-933">Added support for installing Azure AD Connect on Windows Server 2016 Standard or higher.</span></span>
* <span data-ttu-id="a311f-934">Added support for using SQL Server 2016 as the remote database for Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="a311f-934">Added support for using SQL Server 2016 as the remote database for Azure AD Connect.</span></span>

## <a name="112810"></a><span data-ttu-id="a311f-935">1.1.281.0</span><span class="sxs-lookup"><span data-stu-id="a311f-935">1.1.281.0</span></span>
<span data-ttu-id="a311f-936">Released: August 2016</span><span class="sxs-lookup"><span data-stu-id="a311f-936">Released: August 2016</span></span>

<span data-ttu-id="a311f-937">**Fixed issues:**</span><span class="sxs-lookup"><span data-stu-id="a311f-937">**Fixed issues:**</span></span>

* <span data-ttu-id="a311f-938">Changes to sync interval do not take place until after the next sync cycle is complete.</span><span class="sxs-lookup"><span data-stu-id="a311f-938">Changes to sync interval do not take place until after the next sync cycle is complete.</span></span>
* <span data-ttu-id="a311f-939">Azure AD Connect wizard does not accept an Azure AD account whose username starts with an underscore (\_).</span><span class="sxs-lookup"><span data-stu-id="a311f-939">Azure AD Connect wizard does not accept an Azure AD account whose username starts with an underscore (\_).</span></span>
* <span data-ttu-id="a311f-940">Azure AD Connect wizard fails to authenticate the Azure AD account if the account password contains too many special characters.</span><span class="sxs-lookup"><span data-stu-id="a311f-940">Azure AD Connect wizard fails to authenticate the Azure AD account if the account password contains too many special characters.</span></span> <span data-ttu-id="a311f-941">Error message "Unable to validate credentials.</span><span class="sxs-lookup"><span data-stu-id="a311f-941">Error message "Unable to validate credentials.</span></span> <span data-ttu-id="a311f-942">An unexpected error has occurred."</span><span class="sxs-lookup"><span data-stu-id="a311f-942">An unexpected error has occurred."</span></span> <span data-ttu-id="a311f-943">is returned.</span><span class="sxs-lookup"><span data-stu-id="a311f-943">is returned.</span></span>
* <span data-ttu-id="a311f-944">Uninstalling staging server disables password synchronization in Azure AD tenant and causes password synchronization to fail with active server.</span><span class="sxs-lookup"><span data-stu-id="a311f-944">Uninstalling staging server disables password synchronization in Azure AD tenant and causes password synchronization to fail with active server.</span></span>
* <span data-ttu-id="a311f-945">Password synchronization fails in uncommon cases when there is no password hash stored on the user.</span><span class="sxs-lookup"><span data-stu-id="a311f-945">Password synchronization fails in uncommon cases when there is no password hash stored on the user.</span></span>
* <span data-ttu-id="a311f-946">When Azure AD Connect server is enabled for staging mode, password writeback is not temporarily disabled.</span><span class="sxs-lookup"><span data-stu-id="a311f-946">When Azure AD Connect server is enabled for staging mode, password writeback is not temporarily disabled.</span></span>
* <span data-ttu-id="a311f-947">Azure AD Connect wizard does not show the actual password synchronization and password writeback configuration when server is in staging mode.</span><span class="sxs-lookup"><span data-stu-id="a311f-947">Azure AD Connect wizard does not show the actual password synchronization and password writeback configuration when server is in staging mode.</span></span> <span data-ttu-id="a311f-948">It always shows them as disabled.</span><span class="sxs-lookup"><span data-stu-id="a311f-948">It always shows them as disabled.</span></span>
* <span data-ttu-id="a311f-949">Configuration changes to password synchronization and password writeback are not persisted by Azure AD Connect wizard when server is in staging mode.</span><span class="sxs-lookup"><span data-stu-id="a311f-949">Configuration changes to password synchronization and password writeback are not persisted by Azure AD Connect wizard when server is in staging mode.</span></span>

<span data-ttu-id="a311f-950">**Improvements:**</span><span class="sxs-lookup"><span data-stu-id="a311f-950">**Improvements:**</span></span>

* <span data-ttu-id="a311f-951">Updated the Start-ADSyncSyncCycle cmdlet to indicate whether it is able to successfully start a new sync cycle or not.</span><span class="sxs-lookup"><span data-stu-id="a311f-951">Updated the Start-ADSyncSyncCycle cmdlet to indicate whether it is able to successfully start a new sync cycle or not.</span></span>
* <span data-ttu-id="a311f-952">Added the Stop-ADSyncSyncCycle cmdlet to terminate sync cycle and operation, which are currently in progress.</span><span class="sxs-lookup"><span data-stu-id="a311f-952">Added the Stop-ADSyncSyncCycle cmdlet to terminate sync cycle and operation, which are currently in progress.</span></span>
* <span data-ttu-id="a311f-953">Updated the Stop-ADSyncScheduler cmdlet to terminate sync cycle and operation, which are currently in progress.</span><span class="sxs-lookup"><span data-stu-id="a311f-953">Updated the Stop-ADSyncScheduler cmdlet to terminate sync cycle and operation, which are currently in progress.</span></span>
* <span data-ttu-id="a311f-954">When configuring [Directory extensions](active-directory-aadconnectsync-feature-directory-extensions.md) in Azure AD Connect wizard, the Azure AD attribute of type "Teletex string" can now be selected.</span><span class="sxs-lookup"><span data-stu-id="a311f-954">When configuring [Directory extensions](active-directory-aadconnectsync-feature-directory-extensions.md) in Azure AD Connect wizard, the Azure AD attribute of type "Teletex string" can now be selected.</span></span>

## <a name="111890"></a><span data-ttu-id="a311f-955">1.1.189.0</span><span class="sxs-lookup"><span data-stu-id="a311f-955">1.1.189.0</span></span>
<span data-ttu-id="a311f-956">Released: June 2016</span><span class="sxs-lookup"><span data-stu-id="a311f-956">Released: June 2016</span></span>

<span data-ttu-id="a311f-957">**Fixed issues and improvements:**</span><span class="sxs-lookup"><span data-stu-id="a311f-957">**Fixed issues and improvements:**</span></span>

* <span data-ttu-id="a311f-958">Azure AD Connect can now be installed on a FIPS-compliant server.</span><span class="sxs-lookup"><span data-stu-id="a311f-958">Azure AD Connect can now be installed on a FIPS-compliant server.</span></span>
  * <span data-ttu-id="a311f-959">For password synchronization, see [Password hash sync and FIPS](active-directory-aadconnectsync-implement-password-hash-synchronization.md#password-hash-synchronization-and-fips).</span><span class="sxs-lookup"><span data-stu-id="a311f-959">For password synchronization, see [Password hash sync and FIPS](active-directory-aadconnectsync-implement-password-hash-synchronization.md#password-hash-synchronization-and-fips).</span></span>
* <span data-ttu-id="a311f-960">Fixed an issue where a NetBIOS name could not be resolved to the FQDN in the Active Directory Connector.</span><span class="sxs-lookup"><span data-stu-id="a311f-960">Fixed an issue where a NetBIOS name could not be resolved to the FQDN in the Active Directory Connector.</span></span>

## <a name="111800"></a><span data-ttu-id="a311f-961">1.1.180.0</span><span class="sxs-lookup"><span data-stu-id="a311f-961">1.1.180.0</span></span>
<span data-ttu-id="a311f-962">Released: May 2016</span><span class="sxs-lookup"><span data-stu-id="a311f-962">Released: May 2016</span></span>

<span data-ttu-id="a311f-963">**New features:**</span><span class="sxs-lookup"><span data-stu-id="a311f-963">**New features:**</span></span>

* <span data-ttu-id="a311f-964">Warns and helps you verify domains if you didn’t do it before running Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="a311f-964">Warns and helps you verify domains if you didn’t do it before running Azure AD Connect.</span></span>
* <span data-ttu-id="a311f-965">Added support for [Microsoft Cloud Germany](active-directory-aadconnect-instances.md#microsoft-cloud-germany).</span><span class="sxs-lookup"><span data-stu-id="a311f-965">Added support for [Microsoft Cloud Germany](active-directory-aadconnect-instances.md#microsoft-cloud-germany).</span></span>
* <span data-ttu-id="a311f-966">Added support for the latest [Microsoft Azure Government cloud](active-directory-aadconnect-instances.md#microsoft-azure-government-cloud) infrastructure with new URL requirements.</span><span class="sxs-lookup"><span data-stu-id="a311f-966">Added support for the latest [Microsoft Azure Government cloud](active-directory-aadconnect-instances.md#microsoft-azure-government-cloud) infrastructure with new URL requirements.</span></span>

<span data-ttu-id="a311f-967">**Fixed issues and improvements:**</span><span class="sxs-lookup"><span data-stu-id="a311f-967">**Fixed issues and improvements:**</span></span>

* <span data-ttu-id="a311f-968">Added filtering to the Sync Rule Editor to make it easy to find sync rules.</span><span class="sxs-lookup"><span data-stu-id="a311f-968">Added filtering to the Sync Rule Editor to make it easy to find sync rules.</span></span>
* <span data-ttu-id="a311f-969">Improved performance when deleting a connector space.</span><span class="sxs-lookup"><span data-stu-id="a311f-969">Improved performance when deleting a connector space.</span></span>
* <span data-ttu-id="a311f-970">Fixed an issue when the same object was both deleted and added in the same run (called delete/add).</span><span class="sxs-lookup"><span data-stu-id="a311f-970">Fixed an issue when the same object was both deleted and added in the same run (called delete/add).</span></span>
* <span data-ttu-id="a311f-971">A disabled sync rule no longer re-enables included objects and attributes on upgrade or directory schema refresh.</span><span class="sxs-lookup"><span data-stu-id="a311f-971">A disabled sync rule no longer re-enables included objects and attributes on upgrade or directory schema refresh.</span></span>

## <a name="111300"></a><span data-ttu-id="a311f-972">1.1.130.0</span><span class="sxs-lookup"><span data-stu-id="a311f-972">1.1.130.0</span></span>
<span data-ttu-id="a311f-973">Released: April 2016</span><span class="sxs-lookup"><span data-stu-id="a311f-973">Released: April 2016</span></span>

<span data-ttu-id="a311f-974">**New features:**</span><span class="sxs-lookup"><span data-stu-id="a311f-974">**New features:**</span></span>

* <span data-ttu-id="a311f-975">Added support for multi-valued attributes to [Directory extensions](active-directory-aadconnectsync-feature-directory-extensions.md).</span><span class="sxs-lookup"><span data-stu-id="a311f-975">Added support for multi-valued attributes to [Directory extensions](active-directory-aadconnectsync-feature-directory-extensions.md).</span></span>
* <span data-ttu-id="a311f-976">Added support for more configuration variations for [automatic upgrade](active-directory-aadconnect-feature-automatic-upgrade.md) to be considered eligible for upgrade.</span><span class="sxs-lookup"><span data-stu-id="a311f-976">Added support for more configuration variations for [automatic upgrade](active-directory-aadconnect-feature-automatic-upgrade.md) to be considered eligible for upgrade.</span></span>
* <span data-ttu-id="a311f-977">Added some cmdlets for [custom scheduler](active-directory-aadconnectsync-feature-scheduler.md#custom-scheduler).</span><span class="sxs-lookup"><span data-stu-id="a311f-977">Added some cmdlets for [custom scheduler](active-directory-aadconnectsync-feature-scheduler.md#custom-scheduler).</span></span>

## <a name="111190"></a><span data-ttu-id="a311f-978">1.1.119.0</span><span class="sxs-lookup"><span data-stu-id="a311f-978">1.1.119.0</span></span>
<span data-ttu-id="a311f-979">Released: March 2016</span><span class="sxs-lookup"><span data-stu-id="a311f-979">Released: March 2016</span></span>

<span data-ttu-id="a311f-980">**Fixed issues:**</span><span class="sxs-lookup"><span data-stu-id="a311f-980">**Fixed issues:**</span></span>

* <span data-ttu-id="a311f-981">Made sure Express installation cannot be used on Windows Server 2008 (pre-R2) because password sync is not supported on this operating system.</span><span class="sxs-lookup"><span data-stu-id="a311f-981">Made sure Express installation cannot be used on Windows Server 2008 (pre-R2) because password sync is not supported on this operating system.</span></span>
* <span data-ttu-id="a311f-982">Upgrade from DirSync with a custom filter configuration did not work as expected.</span><span class="sxs-lookup"><span data-stu-id="a311f-982">Upgrade from DirSync with a custom filter configuration did not work as expected.</span></span>
* <span data-ttu-id="a311f-983">When upgrading to a newer release and there are no changes to the configuration, a full import/synchronization should not be scheduled.</span><span class="sxs-lookup"><span data-stu-id="a311f-983">When upgrading to a newer release and there are no changes to the configuration, a full import/synchronization should not be scheduled.</span></span>

## <a name="111100"></a><span data-ttu-id="a311f-984">1.1.110.0</span><span class="sxs-lookup"><span data-stu-id="a311f-984">1.1.110.0</span></span>
<span data-ttu-id="a311f-985">Released: February 2016</span><span class="sxs-lookup"><span data-stu-id="a311f-985">Released: February 2016</span></span>

<span data-ttu-id="a311f-986">**Fixed issues:**</span><span class="sxs-lookup"><span data-stu-id="a311f-986">**Fixed issues:**</span></span>

* <span data-ttu-id="a311f-987">Upgrade from earlier releases does not work if the installation is not in the default C:\Program Files folder.</span><span class="sxs-lookup"><span data-stu-id="a311f-987">Upgrade from earlier releases does not work if the installation is not in the default C:\Program Files folder.</span></span>
* <span data-ttu-id="a311f-988">If you install and clear **Start the synchronization process** at the end of the installation wizard, running the installation wizard a second time will not enable the scheduler.</span><span class="sxs-lookup"><span data-stu-id="a311f-988">If you install and clear **Start the synchronization process** at the end of the installation wizard, running the installation wizard a second time will not enable the scheduler.</span></span>
* <span data-ttu-id="a311f-989">The scheduler doesn't work as expected on servers where the US-en date/time format is not used.</span><span class="sxs-lookup"><span data-stu-id="a311f-989">The scheduler doesn't work as expected on servers where the US-en date/time format is not used.</span></span> <span data-ttu-id="a311f-990">It will also block `Get-ADSyncScheduler` to return correct times.</span><span class="sxs-lookup"><span data-stu-id="a311f-990">It will also block `Get-ADSyncScheduler` to return correct times.</span></span>
* <span data-ttu-id="a311f-991">If you installed an earlier release of Azure AD Connect with AD FS as the sign-in option and upgrade, you cannot run the installation wizard again.</span><span class="sxs-lookup"><span data-stu-id="a311f-991">If you installed an earlier release of Azure AD Connect with AD FS as the sign-in option and upgrade, you cannot run the installation wizard again.</span></span>

## <a name="111050"></a><span data-ttu-id="a311f-992">1.1.105.0</span><span class="sxs-lookup"><span data-stu-id="a311f-992">1.1.105.0</span></span>
<span data-ttu-id="a311f-993">Released: February 2016</span><span class="sxs-lookup"><span data-stu-id="a311f-993">Released: February 2016</span></span>

<span data-ttu-id="a311f-994">**New features:**</span><span class="sxs-lookup"><span data-stu-id="a311f-994">**New features:**</span></span>

* <span data-ttu-id="a311f-995">[Automatic upgrade](active-directory-aadconnect-feature-automatic-upgrade.md) feature for Express settings customers.</span><span class="sxs-lookup"><span data-stu-id="a311f-995">[Automatic upgrade](active-directory-aadconnect-feature-automatic-upgrade.md) feature for Express settings customers.</span></span>
* <span data-ttu-id="a311f-996">Support for the global admin by using Azure Multi-Factor Authentication and Privileged Identity Management in the installation wizard.</span><span class="sxs-lookup"><span data-stu-id="a311f-996">Support for the global admin by using Azure Multi-Factor Authentication and Privileged Identity Management in the installation wizard.</span></span>
  * <span data-ttu-id="a311f-997">You need to allow your proxy to also allow traffic to https://secure.aadcdn.microsoftonline-p.com if you use Multi-Factor Authentication.</span><span class="sxs-lookup"><span data-stu-id="a311f-997">You need to allow your proxy to also allow traffic to https://secure.aadcdn.microsoftonline-p.com if you use Multi-Factor Authentication.</span></span>
  * <span data-ttu-id="a311f-998">You need to add https://secure.aadcdn.microsoftonline-p.com to your trusted sites list for Multi-Factor Authentication to properly work.</span><span class="sxs-lookup"><span data-stu-id="a311f-998">You need to add https://secure.aadcdn.microsoftonline-p.com to your trusted sites list for Multi-Factor Authentication to properly work.</span></span>
* <span data-ttu-id="a311f-999">Allow changing the user's sign-in method after initial installation.</span><span class="sxs-lookup"><span data-stu-id="a311f-999">Allow changing the user's sign-in method after initial installation.</span></span>
* <span data-ttu-id="a311f-1000">Allow [Domain and OU filtering](active-directory-aadconnect-get-started-custom.md#domain-and-ou-filtering) in the installation wizard.</span><span class="sxs-lookup"><span data-stu-id="a311f-1000">Allow [Domain and OU filtering](active-directory-aadconnect-get-started-custom.md#domain-and-ou-filtering) in the installation wizard.</span></span> <span data-ttu-id="a311f-1001">This also allows connecting to forests where not all domains are available.</span><span class="sxs-lookup"><span data-stu-id="a311f-1001">This also allows connecting to forests where not all domains are available.</span></span>
* <span data-ttu-id="a311f-1002">[Scheduler](active-directory-aadconnectsync-feature-scheduler.md) is built in to the sync engine.</span><span class="sxs-lookup"><span data-stu-id="a311f-1002">[Scheduler](active-directory-aadconnectsync-feature-scheduler.md) is built in to the sync engine.</span></span>

<span data-ttu-id="a311f-1003">**Features promoted from preview to GA:**</span><span class="sxs-lookup"><span data-stu-id="a311f-1003">**Features promoted from preview to GA:**</span></span>

* <span data-ttu-id="a311f-1004">[Device writeback](active-directory-aadconnect-feature-device-writeback.md).</span><span class="sxs-lookup"><span data-stu-id="a311f-1004">[Device writeback](active-directory-aadconnect-feature-device-writeback.md).</span></span>
* <span data-ttu-id="a311f-1005">[Directory extensions](active-directory-aadconnectsync-feature-directory-extensions.md).</span><span class="sxs-lookup"><span data-stu-id="a311f-1005">[Directory extensions](active-directory-aadconnectsync-feature-directory-extensions.md).</span></span>

<span data-ttu-id="a311f-1006">**New preview features:**</span><span class="sxs-lookup"><span data-stu-id="a311f-1006">**New preview features:**</span></span>

* <span data-ttu-id="a311f-1007">The new default sync cycle interval is 30 minutes.</span><span class="sxs-lookup"><span data-stu-id="a311f-1007">The new default sync cycle interval is 30 minutes.</span></span> <span data-ttu-id="a311f-1008">Used to be three hours for all earlier releases.</span><span class="sxs-lookup"><span data-stu-id="a311f-1008">Used to be three hours for all earlier releases.</span></span> <span data-ttu-id="a311f-1009">Adds support to change the [scheduler](active-directory-aadconnectsync-feature-scheduler.md) behavior.</span><span class="sxs-lookup"><span data-stu-id="a311f-1009">Adds support to change the [scheduler](active-directory-aadconnectsync-feature-scheduler.md) behavior.</span></span>

<span data-ttu-id="a311f-1010">**Fixed issues:**</span><span class="sxs-lookup"><span data-stu-id="a311f-1010">**Fixed issues:**</span></span>

* <span data-ttu-id="a311f-1011">The verify DNS domains page didn't always recognize the domains.</span><span class="sxs-lookup"><span data-stu-id="a311f-1011">The verify DNS domains page didn't always recognize the domains.</span></span>
* <span data-ttu-id="a311f-1012">Prompts for domain admin credentials when configuring AD FS.</span><span class="sxs-lookup"><span data-stu-id="a311f-1012">Prompts for domain admin credentials when configuring AD FS.</span></span>
* <span data-ttu-id="a311f-1013">The on-premises AD accounts are not recognized by the installation wizard if located in a domain with a different DNS tree than the root domain.</span><span class="sxs-lookup"><span data-stu-id="a311f-1013">The on-premises AD accounts are not recognized by the installation wizard if located in a domain with a different DNS tree than the root domain.</span></span>

## <a name="1091310"></a><span data-ttu-id="a311f-1014">1.0.9131.0</span><span class="sxs-lookup"><span data-stu-id="a311f-1014">1.0.9131.0</span></span>
<span data-ttu-id="a311f-1015">Released: December 2015</span><span class="sxs-lookup"><span data-stu-id="a311f-1015">Released: December 2015</span></span>

<span data-ttu-id="a311f-1016">**Fixed issues:**</span><span class="sxs-lookup"><span data-stu-id="a311f-1016">**Fixed issues:**</span></span>

* <span data-ttu-id="a311f-1017">Password sync might not work when you change passwords in Active Directory Domain Services (AD DS), but works when you do set a password.</span><span class="sxs-lookup"><span data-stu-id="a311f-1017">Password sync might not work when you change passwords in Active Directory Domain Services (AD DS), but works when you do set a password.</span></span>
* <span data-ttu-id="a311f-1018">When you have a proxy server, authentication to Azure AD might fail during installation, or if an upgrade is canceled on the configuration page.</span><span class="sxs-lookup"><span data-stu-id="a311f-1018">When you have a proxy server, authentication to Azure AD might fail during installation, or if an upgrade is canceled on the configuration page.</span></span>
* <span data-ttu-id="a311f-1019">Updating from a previous release of Azure AD Connect with a full SQL Server instance fails if you are not a SQL Server system administrator (SA).</span><span class="sxs-lookup"><span data-stu-id="a311f-1019">Updating from a previous release of Azure AD Connect with a full SQL Server instance fails if you are not a SQL Server system administrator (SA).</span></span>
* <span data-ttu-id="a311f-1020">Updating from a previous release of Azure AD Connect with a remote SQL Server shows the “Unable to access the ADSync SQL database” error.</span><span class="sxs-lookup"><span data-stu-id="a311f-1020">Updating from a previous release of Azure AD Connect with a remote SQL Server shows the “Unable to access the ADSync SQL database” error.</span></span>

## <a name="1091250"></a><span data-ttu-id="a311f-1021">1.0.9125.0</span><span class="sxs-lookup"><span data-stu-id="a311f-1021">1.0.9125.0</span></span>
<span data-ttu-id="a311f-1022">Released: November 2015</span><span class="sxs-lookup"><span data-stu-id="a311f-1022">Released: November 2015</span></span>

<span data-ttu-id="a311f-1023">**New features:**</span><span class="sxs-lookup"><span data-stu-id="a311f-1023">**New features:**</span></span>

* <span data-ttu-id="a311f-1024">Can reconfigure AD FS to Azure AD trust.</span><span class="sxs-lookup"><span data-stu-id="a311f-1024">Can reconfigure AD FS to Azure AD trust.</span></span>
* <span data-ttu-id="a311f-1025">Can refresh the Active Directory schema and regenerate sync rules.</span><span class="sxs-lookup"><span data-stu-id="a311f-1025">Can refresh the Active Directory schema and regenerate sync rules.</span></span>
* <span data-ttu-id="a311f-1026">Can disable a sync rule.</span><span class="sxs-lookup"><span data-stu-id="a311f-1026">Can disable a sync rule.</span></span>
* <span data-ttu-id="a311f-1027">Can define "AuthoritativeNull" as a new literal in a sync rule.</span><span class="sxs-lookup"><span data-stu-id="a311f-1027">Can define "AuthoritativeNull" as a new literal in a sync rule.</span></span>

<span data-ttu-id="a311f-1028">**New preview features:**</span><span class="sxs-lookup"><span data-stu-id="a311f-1028">**New preview features:**</span></span>

* <span data-ttu-id="a311f-1029">[Azure AD Connect Health for sync](../connect-health/active-directory-aadconnect-health-sync.md).</span><span class="sxs-lookup"><span data-stu-id="a311f-1029">[Azure AD Connect Health for sync](../connect-health/active-directory-aadconnect-health-sync.md).</span></span>
* <span data-ttu-id="a311f-1030">Support for [Azure AD Domain Services](../user-help/active-directory-passwords-update-your-own-password.md) password synchronization.</span><span class="sxs-lookup"><span data-stu-id="a311f-1030">Support for [Azure AD Domain Services](../user-help/active-directory-passwords-update-your-own-password.md) password synchronization.</span></span>

<span data-ttu-id="a311f-1031">**New supported scenario:**</span><span class="sxs-lookup"><span data-stu-id="a311f-1031">**New supported scenario:**</span></span>

* <span data-ttu-id="a311f-1032">Supports multiple on-premises Exchange organizations.</span><span class="sxs-lookup"><span data-stu-id="a311f-1032">Supports multiple on-premises Exchange organizations.</span></span> <span data-ttu-id="a311f-1033">For more information, see [Hybrid deployments with multiple Active Directory forests](https://technet.microsoft.com/library/jj873754.aspx).</span><span class="sxs-lookup"><span data-stu-id="a311f-1033">For more information, see [Hybrid deployments with multiple Active Directory forests](https://technet.microsoft.com/library/jj873754.aspx).</span></span>

<span data-ttu-id="a311f-1034">**Fixed issues:**</span><span class="sxs-lookup"><span data-stu-id="a311f-1034">**Fixed issues:**</span></span>

* <span data-ttu-id="a311f-1035">Password synchronization issues:</span><span class="sxs-lookup"><span data-stu-id="a311f-1035">Password synchronization issues:</span></span>
  * <span data-ttu-id="a311f-1036">An object moved from out-of-scope to in-scope will not have its password synchronized.</span><span class="sxs-lookup"><span data-stu-id="a311f-1036">An object moved from out-of-scope to in-scope will not have its password synchronized.</span></span> <span data-ttu-id="a311f-1037">This includes both OU and attribute filtering.</span><span class="sxs-lookup"><span data-stu-id="a311f-1037">This includes both OU and attribute filtering.</span></span>
  * <span data-ttu-id="a311f-1038">Selecting a new OU to include in sync does not require a full password sync.</span><span class="sxs-lookup"><span data-stu-id="a311f-1038">Selecting a new OU to include in sync does not require a full password sync.</span></span>
  * <span data-ttu-id="a311f-1039">When a disabled user is enabled the password does not sync.</span><span class="sxs-lookup"><span data-stu-id="a311f-1039">When a disabled user is enabled the password does not sync.</span></span>
  * <span data-ttu-id="a311f-1040">The password retry queue is infinite and the previous limit of 5,000 objects to be retired has been removed.</span><span class="sxs-lookup"><span data-stu-id="a311f-1040">The password retry queue is infinite and the previous limit of 5,000 objects to be retired has been removed.</span></span>
* <span data-ttu-id="a311f-1041">Not able to connect to Active Directory with Windows Server 2016 forest-functional level.</span><span class="sxs-lookup"><span data-stu-id="a311f-1041">Not able to connect to Active Directory with Windows Server 2016 forest-functional level.</span></span>
* <span data-ttu-id="a311f-1042">Not able to change the group that is used for group filtering after the initial installation.</span><span class="sxs-lookup"><span data-stu-id="a311f-1042">Not able to change the group that is used for group filtering after the initial installation.</span></span>
* <span data-ttu-id="a311f-1043">No longer creates a new user profile on the Azure AD Connect server for every user doing a password change with password writeback enabled.</span><span class="sxs-lookup"><span data-stu-id="a311f-1043">No longer creates a new user profile on the Azure AD Connect server for every user doing a password change with password writeback enabled.</span></span>
* <span data-ttu-id="a311f-1044">Not able to use Long Integer values in sync rules scopes.</span><span class="sxs-lookup"><span data-stu-id="a311f-1044">Not able to use Long Integer values in sync rules scopes.</span></span>
* <span data-ttu-id="a311f-1045">The check box "device writeback" remains disabled if there are unreachable domain controllers.</span><span class="sxs-lookup"><span data-stu-id="a311f-1045">The check box "device writeback" remains disabled if there are unreachable domain controllers.</span></span>

## <a name="1086670"></a><span data-ttu-id="a311f-1046">1.0.8667.0</span><span class="sxs-lookup"><span data-stu-id="a311f-1046">1.0.8667.0</span></span>
<span data-ttu-id="a311f-1047">Released: August 2015</span><span class="sxs-lookup"><span data-stu-id="a311f-1047">Released: August 2015</span></span>

<span data-ttu-id="a311f-1048">**New features:**</span><span class="sxs-lookup"><span data-stu-id="a311f-1048">**New features:**</span></span>

* <span data-ttu-id="a311f-1049">The Azure AD Connect installation wizard is now localized to all Windows Server languages.</span><span class="sxs-lookup"><span data-stu-id="a311f-1049">The Azure AD Connect installation wizard is now localized to all Windows Server languages.</span></span>
* <span data-ttu-id="a311f-1050">Added support for account unlock when using Azure AD password management.</span><span class="sxs-lookup"><span data-stu-id="a311f-1050">Added support for account unlock when using Azure AD password management.</span></span>

<span data-ttu-id="a311f-1051">**Fixed issues:**</span><span class="sxs-lookup"><span data-stu-id="a311f-1051">**Fixed issues:**</span></span>

* <span data-ttu-id="a311f-1052">Azure AD Connect installation wizard crashes if another user continues installation rather than the person who first started the installation.</span><span class="sxs-lookup"><span data-stu-id="a311f-1052">Azure AD Connect installation wizard crashes if another user continues installation rather than the person who first started the installation.</span></span>
* <span data-ttu-id="a311f-1053">If a previous uninstallation of Azure AD Connect fails to uninstall Azure AD Connect sync cleanly, it is not possible to reinstall.</span><span class="sxs-lookup"><span data-stu-id="a311f-1053">If a previous uninstallation of Azure AD Connect fails to uninstall Azure AD Connect sync cleanly, it is not possible to reinstall.</span></span>
* <span data-ttu-id="a311f-1054">Cannot install Azure AD Connect using Express installation if the user is not in the root domain of the forest or if a non-English version of Active Directory is used.</span><span class="sxs-lookup"><span data-stu-id="a311f-1054">Cannot install Azure AD Connect using Express installation if the user is not in the root domain of the forest or if a non-English version of Active Directory is used.</span></span>
* <span data-ttu-id="a311f-1055">If the FQDN of the Active Directory user account cannot be resolved, a misleading error message “Failed to commit the schema” is shown.</span><span class="sxs-lookup"><span data-stu-id="a311f-1055">If the FQDN of the Active Directory user account cannot be resolved, a misleading error message “Failed to commit the schema” is shown.</span></span>
* <span data-ttu-id="a311f-1056">If the account used on the Active Directory Connector is changed outside the wizard, the wizard fails on subsequent runs.</span><span class="sxs-lookup"><span data-stu-id="a311f-1056">If the account used on the Active Directory Connector is changed outside the wizard, the wizard fails on subsequent runs.</span></span>
* <span data-ttu-id="a311f-1057">Azure AD Connect sometimes fails to install on a domain controller.</span><span class="sxs-lookup"><span data-stu-id="a311f-1057">Azure AD Connect sometimes fails to install on a domain controller.</span></span>
* <span data-ttu-id="a311f-1058">Cannot enable and disable “Staging mode” if extension attributes have been added.</span><span class="sxs-lookup"><span data-stu-id="a311f-1058">Cannot enable and disable “Staging mode” if extension attributes have been added.</span></span>
* <span data-ttu-id="a311f-1059">Password writeback fails in some configurations because of a bad password on the Active Directory Connector.</span><span class="sxs-lookup"><span data-stu-id="a311f-1059">Password writeback fails in some configurations because of a bad password on the Active Directory Connector.</span></span>
* <span data-ttu-id="a311f-1060">DirSync cannot be upgraded if a distinguished name (DN) is used in attribute filtering.</span><span class="sxs-lookup"><span data-stu-id="a311f-1060">DirSync cannot be upgraded if a distinguished name (DN) is used in attribute filtering.</span></span>
* <span data-ttu-id="a311f-1061">Excessive CPU usage when using password reset.</span><span class="sxs-lookup"><span data-stu-id="a311f-1061">Excessive CPU usage when using password reset.</span></span>

<span data-ttu-id="a311f-1062">**Removed preview features:**</span><span class="sxs-lookup"><span data-stu-id="a311f-1062">**Removed preview features:**</span></span>

* <span data-ttu-id="a311f-1063">The preview feature [User writeback](active-directory-aadconnect-feature-preview.md#user-writeback) was temporarily removed based on feedback from our preview customers.</span><span class="sxs-lookup"><span data-stu-id="a311f-1063">The preview feature [User writeback](active-directory-aadconnect-feature-preview.md#user-writeback) was temporarily removed based on feedback from our preview customers.</span></span> <span data-ttu-id="a311f-1064">It will be added again later after we have addressed the provided feedback.</span><span class="sxs-lookup"><span data-stu-id="a311f-1064">It will be added again later after we have addressed the provided feedback.</span></span>

## <a name="1086410"></a><span data-ttu-id="a311f-1065">1.0.8641.0</span><span class="sxs-lookup"><span data-stu-id="a311f-1065">1.0.8641.0</span></span>
<span data-ttu-id="a311f-1066">Released: June 2015</span><span class="sxs-lookup"><span data-stu-id="a311f-1066">Released: June 2015</span></span>

<span data-ttu-id="a311f-1067">**Initial release of Azure AD Connect.**</span><span class="sxs-lookup"><span data-stu-id="a311f-1067">**Initial release of Azure AD Connect.**</span></span>

<span data-ttu-id="a311f-1068">Changed name from Azure AD Sync to Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="a311f-1068">Changed name from Azure AD Sync to Azure AD Connect.</span></span>

<span data-ttu-id="a311f-1069">**New features:**</span><span class="sxs-lookup"><span data-stu-id="a311f-1069">**New features:**</span></span>

* <span data-ttu-id="a311f-1070">[Express settings](active-directory-aadconnect-get-started-express.md) installation</span><span class="sxs-lookup"><span data-stu-id="a311f-1070">[Express settings](active-directory-aadconnect-get-started-express.md) installation</span></span>
* <span data-ttu-id="a311f-1071">Can [configure AD FS](active-directory-aadconnect-get-started-custom.md#configuring-federation-with-ad-fs)</span><span class="sxs-lookup"><span data-stu-id="a311f-1071">Can [configure AD FS](active-directory-aadconnect-get-started-custom.md#configuring-federation-with-ad-fs)</span></span>
* <span data-ttu-id="a311f-1072">Can [upgrade from DirSync](active-directory-aadconnect-dirsync-upgrade-get-started.md)</span><span class="sxs-lookup"><span data-stu-id="a311f-1072">Can [upgrade from DirSync](active-directory-aadconnect-dirsync-upgrade-get-started.md)</span></span>
* [<span data-ttu-id="a311f-1073">Prevent accidental deletes</span><span class="sxs-lookup"><span data-stu-id="a311f-1073">Prevent accidental deletes</span></span>](active-directory-aadconnectsync-feature-prevent-accidental-deletes.md)
* <span data-ttu-id="a311f-1074">Introduced [staging mode](active-directory-aadconnectsync-operations.md#staging-mode)</span><span class="sxs-lookup"><span data-stu-id="a311f-1074">Introduced [staging mode](active-directory-aadconnectsync-operations.md#staging-mode)</span></span>

<span data-ttu-id="a311f-1075">**New preview features:**</span><span class="sxs-lookup"><span data-stu-id="a311f-1075">**New preview features:**</span></span>

* [<span data-ttu-id="a311f-1076">User writeback</span><span class="sxs-lookup"><span data-stu-id="a311f-1076">User writeback</span></span>](active-directory-aadconnect-feature-preview.md#user-writeback)
* [<span data-ttu-id="a311f-1077">Group writeback</span><span class="sxs-lookup"><span data-stu-id="a311f-1077">Group writeback</span></span>](active-directory-aadconnect-feature-preview.md#group-writeback)
* [<span data-ttu-id="a311f-1078">Device writeback</span><span class="sxs-lookup"><span data-stu-id="a311f-1078">Device writeback</span></span>](active-directory-aadconnect-feature-device-writeback.md)
* [<span data-ttu-id="a311f-1079">Directory extensions</span><span class="sxs-lookup"><span data-stu-id="a311f-1079">Directory extensions</span></span>](active-directory-aadconnect-feature-preview.md)

## <a name="104940501"></a><span data-ttu-id="a311f-1080">1.0.494.0501</span><span class="sxs-lookup"><span data-stu-id="a311f-1080">1.0.494.0501</span></span>
<span data-ttu-id="a311f-1081">Released: May 2015</span><span class="sxs-lookup"><span data-stu-id="a311f-1081">Released: May 2015</span></span>

<span data-ttu-id="a311f-1082">**New Requirement:**</span><span class="sxs-lookup"><span data-stu-id="a311f-1082">**New Requirement:**</span></span>

* <span data-ttu-id="a311f-1083">Azure AD Sync now requires the .NET Framework version 4.5.1 to be installed.</span><span class="sxs-lookup"><span data-stu-id="a311f-1083">Azure AD Sync now requires the .NET Framework version 4.5.1 to be installed.</span></span>

<span data-ttu-id="a311f-1084">**Fixed issues:**</span><span class="sxs-lookup"><span data-stu-id="a311f-1084">**Fixed issues:**</span></span>

* <span data-ttu-id="a311f-1085">Password writeback from Azure AD is failing with an Azure Service Bus connectivity error.</span><span class="sxs-lookup"><span data-stu-id="a311f-1085">Password writeback from Azure AD is failing with an Azure Service Bus connectivity error.</span></span>

## <a name="104910413"></a><span data-ttu-id="a311f-1086">1.0.491.0413</span><span class="sxs-lookup"><span data-stu-id="a311f-1086">1.0.491.0413</span></span>
<span data-ttu-id="a311f-1087">Released: April 2015</span><span class="sxs-lookup"><span data-stu-id="a311f-1087">Released: April 2015</span></span>

<span data-ttu-id="a311f-1088">**Fixed issues and improvements:**</span><span class="sxs-lookup"><span data-stu-id="a311f-1088">**Fixed issues and improvements:**</span></span>

* <span data-ttu-id="a311f-1089">The Active Directory Connector does not process deletes correctly if the recycle bin is enabled and there are multiple domains in the forest.</span><span class="sxs-lookup"><span data-stu-id="a311f-1089">The Active Directory Connector does not process deletes correctly if the recycle bin is enabled and there are multiple domains in the forest.</span></span>
* <span data-ttu-id="a311f-1090">The performance of import operations has been improved for the Azure Active Directory Connector.</span><span class="sxs-lookup"><span data-stu-id="a311f-1090">The performance of import operations has been improved for the Azure Active Directory Connector.</span></span>
* <span data-ttu-id="a311f-1091">When a group has exceeded the membership limit (by default, the limit is set to 50,000 objects), the group was deleted in Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="a311f-1091">When a group has exceeded the membership limit (by default, the limit is set to 50,000 objects), the group was deleted in Azure Active Directory.</span></span> <span data-ttu-id="a311f-1092">With the new behavior, the group is not deleted, an error is thrown, and new membership changes are not exported.</span><span class="sxs-lookup"><span data-stu-id="a311f-1092">With the new behavior, the group is not deleted, an error is thrown, and new membership changes are not exported.</span></span>
* <span data-ttu-id="a311f-1093">A new object cannot be provisioned if a staged delete with the same DN is already present in the connector space.</span><span class="sxs-lookup"><span data-stu-id="a311f-1093">A new object cannot be provisioned if a staged delete with the same DN is already present in the connector space.</span></span>
* <span data-ttu-id="a311f-1094">Some objects are marked for synchronization during a delta sync even though there's no change staged on the object.</span><span class="sxs-lookup"><span data-stu-id="a311f-1094">Some objects are marked for synchronization during a delta sync even though there's no change staged on the object.</span></span>
* <span data-ttu-id="a311f-1095">Forcing a password sync also removes the preferred DC list.</span><span class="sxs-lookup"><span data-stu-id="a311f-1095">Forcing a password sync also removes the preferred DC list.</span></span>
* <span data-ttu-id="a311f-1096">CSExportAnalyzer has problems with some objects states.</span><span class="sxs-lookup"><span data-stu-id="a311f-1096">CSExportAnalyzer has problems with some objects states.</span></span>

<span data-ttu-id="a311f-1097">**New features:**</span><span class="sxs-lookup"><span data-stu-id="a311f-1097">**New features:**</span></span>

* <span data-ttu-id="a311f-1098">A join can now connect to “ANY” object type in the MV.</span><span class="sxs-lookup"><span data-stu-id="a311f-1098">A join can now connect to “ANY” object type in the MV.</span></span>

## <a name="104850222"></a><span data-ttu-id="a311f-1099">1.0.485.0222</span><span class="sxs-lookup"><span data-stu-id="a311f-1099">1.0.485.0222</span></span>
<span data-ttu-id="a311f-1100">Released: February 2015</span><span class="sxs-lookup"><span data-stu-id="a311f-1100">Released: February 2015</span></span>

<span data-ttu-id="a311f-1101">**Improvements:**</span><span class="sxs-lookup"><span data-stu-id="a311f-1101">**Improvements:**</span></span>

* <span data-ttu-id="a311f-1102">Improved import performance.</span><span class="sxs-lookup"><span data-stu-id="a311f-1102">Improved import performance.</span></span>

<span data-ttu-id="a311f-1103">**Fixed issues:**</span><span class="sxs-lookup"><span data-stu-id="a311f-1103">**Fixed issues:**</span></span>

* <span data-ttu-id="a311f-1104">Password Sync honors the cloudFiltered attribute that is used by attribute filtering.</span><span class="sxs-lookup"><span data-stu-id="a311f-1104">Password Sync honors the cloudFiltered attribute that is used by attribute filtering.</span></span> <span data-ttu-id="a311f-1105">Filtered objects are no longer in scope for password synchronization.</span><span class="sxs-lookup"><span data-stu-id="a311f-1105">Filtered objects are no longer in scope for password synchronization.</span></span>
* <span data-ttu-id="a311f-1106">In rare situations where the topology had many domain controllers, password sync doesn’t work.</span><span class="sxs-lookup"><span data-stu-id="a311f-1106">In rare situations where the topology had many domain controllers, password sync doesn’t work.</span></span>
* <span data-ttu-id="a311f-1107">“Stopped-server” when importing from the Azure AD Connector after device management has been enabled in Azure AD/Intune.</span><span class="sxs-lookup"><span data-stu-id="a311f-1107">“Stopped-server” when importing from the Azure AD Connector after device management has been enabled in Azure AD/Intune.</span></span>
* <span data-ttu-id="a311f-1108">Joining Foreign Security Principals (FSPs) from multiple domains in same forest causes an ambiguous-join error.</span><span class="sxs-lookup"><span data-stu-id="a311f-1108">Joining Foreign Security Principals (FSPs) from multiple domains in same forest causes an ambiguous-join error.</span></span>

## <a name="104751202"></a><span data-ttu-id="a311f-1109">1.0.475.1202</span><span class="sxs-lookup"><span data-stu-id="a311f-1109">1.0.475.1202</span></span>
<span data-ttu-id="a311f-1110">Released: December 2014</span><span class="sxs-lookup"><span data-stu-id="a311f-1110">Released: December 2014</span></span>

<span data-ttu-id="a311f-1111">**New features:**</span><span class="sxs-lookup"><span data-stu-id="a311f-1111">**New features:**</span></span>

* <span data-ttu-id="a311f-1112">Password synchronization with attribute-based filtering is now supported.</span><span class="sxs-lookup"><span data-stu-id="a311f-1112">Password synchronization with attribute-based filtering is now supported.</span></span> <span data-ttu-id="a311f-1113">For more information, see [Password synchronization with filtering](active-directory-aadconnectsync-configure-filtering.md).</span><span class="sxs-lookup"><span data-stu-id="a311f-1113">For more information, see [Password synchronization with filtering](active-directory-aadconnectsync-configure-filtering.md).</span></span>
* <span data-ttu-id="a311f-1114">The ms-DS-ExternalDirectoryObjectID attribute is written back to Active Directory.</span><span class="sxs-lookup"><span data-stu-id="a311f-1114">The ms-DS-ExternalDirectoryObjectID attribute is written back to Active Directory.</span></span> <span data-ttu-id="a311f-1115">This feature adds support for Office 365 applications.</span><span class="sxs-lookup"><span data-stu-id="a311f-1115">This feature adds support for Office 365 applications.</span></span> <span data-ttu-id="a311f-1116">It uses OAuth2 to access Online and On-Premises mailboxes in a Hybrid Exchange Deployment.</span><span class="sxs-lookup"><span data-stu-id="a311f-1116">It uses OAuth2 to access Online and On-Premises mailboxes in a Hybrid Exchange Deployment.</span></span>

<span data-ttu-id="a311f-1117">**Fixed upgrade issues:**</span><span class="sxs-lookup"><span data-stu-id="a311f-1117">**Fixed upgrade issues:**</span></span>

* <span data-ttu-id="a311f-1118">A newer version of the sign-in assistant is available on the server.</span><span class="sxs-lookup"><span data-stu-id="a311f-1118">A newer version of the sign-in assistant is available on the server.</span></span>
* <span data-ttu-id="a311f-1119">A custom installation path was used to install Azure AD Sync.</span><span class="sxs-lookup"><span data-stu-id="a311f-1119">A custom installation path was used to install Azure AD Sync.</span></span>
* <span data-ttu-id="a311f-1120">An invalid custom join criterion blocks the upgrade.</span><span class="sxs-lookup"><span data-stu-id="a311f-1120">An invalid custom join criterion blocks the upgrade.</span></span>

<span data-ttu-id="a311f-1121">**Other fixes:**</span><span class="sxs-lookup"><span data-stu-id="a311f-1121">**Other fixes:**</span></span>

* <span data-ttu-id="a311f-1122">Fixed the templates for Office Pro Plus.</span><span class="sxs-lookup"><span data-stu-id="a311f-1122">Fixed the templates for Office Pro Plus.</span></span>
* <span data-ttu-id="a311f-1123">Fixed installation issues caused by user names that start with a dash.</span><span class="sxs-lookup"><span data-stu-id="a311f-1123">Fixed installation issues caused by user names that start with a dash.</span></span>
* <span data-ttu-id="a311f-1124">Fixed losing the sourceAnchor setting when running the installation wizard a second time.</span><span class="sxs-lookup"><span data-stu-id="a311f-1124">Fixed losing the sourceAnchor setting when running the installation wizard a second time.</span></span>
* <span data-ttu-id="a311f-1125">Fixed ETW tracing for password synchronization.</span><span class="sxs-lookup"><span data-stu-id="a311f-1125">Fixed ETW tracing for password synchronization.</span></span>

## <a name="104701023"></a><span data-ttu-id="a311f-1126">1.0.470.1023</span><span class="sxs-lookup"><span data-stu-id="a311f-1126">1.0.470.1023</span></span>
<span data-ttu-id="a311f-1127">Released: October 2014</span><span class="sxs-lookup"><span data-stu-id="a311f-1127">Released: October 2014</span></span>

<span data-ttu-id="a311f-1128">**New features:**</span><span class="sxs-lookup"><span data-stu-id="a311f-1128">**New features:**</span></span>

* <span data-ttu-id="a311f-1129">Password synchronization from multiple on-premises Active Directory to Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a311f-1129">Password synchronization from multiple on-premises Active Directory to Azure AD.</span></span>
* <span data-ttu-id="a311f-1130">Localized installation UI to all Windows Server languages.</span><span class="sxs-lookup"><span data-stu-id="a311f-1130">Localized installation UI to all Windows Server languages.</span></span>

<span data-ttu-id="a311f-1131">**Upgrading from AADSync 1.0 GA**</span><span class="sxs-lookup"><span data-stu-id="a311f-1131">**Upgrading from AADSync 1.0 GA**</span></span>

<span data-ttu-id="a311f-1132">If you already have Azure AD Sync installed, there is one additional step you have to take in case you have changed any of the out-of-box synchronization rules.</span><span class="sxs-lookup"><span data-stu-id="a311f-1132">If you already have Azure AD Sync installed, there is one additional step you have to take in case you have changed any of the out-of-box synchronization rules.</span></span> <span data-ttu-id="a311f-1133">After you have upgraded to the 1.0.470.1023 release, the synchronization rules you have modified are duplicated.</span><span class="sxs-lookup"><span data-stu-id="a311f-1133">After you have upgraded to the 1.0.470.1023 release, the synchronization rules you have modified are duplicated.</span></span> <span data-ttu-id="a311f-1134">For each modified sync rule, do the following:</span><span class="sxs-lookup"><span data-stu-id="a311f-1134">For each modified sync rule, do the following:</span></span>

1.  <span data-ttu-id="a311f-1135">Locate the sync rule you have modified and take a note of the changes.</span><span class="sxs-lookup"><span data-stu-id="a311f-1135">Locate the sync rule you have modified and take a note of the changes.</span></span>
* <span data-ttu-id="a311f-1136">Delete the sync rule.</span><span class="sxs-lookup"><span data-stu-id="a311f-1136">Delete the sync rule.</span></span>
* <span data-ttu-id="a311f-1137">Locate the new sync rule that is created by Azure AD Sync and then reapply the changes.</span><span class="sxs-lookup"><span data-stu-id="a311f-1137">Locate the new sync rule that is created by Azure AD Sync and then reapply the changes.</span></span>

<span data-ttu-id="a311f-1138">**Permissions for the Active Directory account**</span><span class="sxs-lookup"><span data-stu-id="a311f-1138">**Permissions for the Active Directory account**</span></span>

<span data-ttu-id="a311f-1139">The Active Directory account must be granted additional permissions to be able to read the password hashes from Active Directory.</span><span class="sxs-lookup"><span data-stu-id="a311f-1139">The Active Directory account must be granted additional permissions to be able to read the password hashes from Active Directory.</span></span> <span data-ttu-id="a311f-1140">The permissions to grant are named “Replicating Directory Changes” and “Replicating Directory Changes All.”</span><span class="sxs-lookup"><span data-stu-id="a311f-1140">The permissions to grant are named “Replicating Directory Changes” and “Replicating Directory Changes All.”</span></span> <span data-ttu-id="a311f-1141">Both permissions are required to be able to read the password hashes.</span><span class="sxs-lookup"><span data-stu-id="a311f-1141">Both permissions are required to be able to read the password hashes.</span></span>

## <a name="104190911"></a><span data-ttu-id="a311f-1142">1.0.419.0911</span><span class="sxs-lookup"><span data-stu-id="a311f-1142">1.0.419.0911</span></span>
<span data-ttu-id="a311f-1143">Released: September 2014</span><span class="sxs-lookup"><span data-stu-id="a311f-1143">Released: September 2014</span></span>

<span data-ttu-id="a311f-1144">**Initial release of Azure AD Sync.**</span><span class="sxs-lookup"><span data-stu-id="a311f-1144">**Initial release of Azure AD Sync.**</span></span>

## <a name="next-steps"></a><span data-ttu-id="a311f-1145">Next steps</span><span class="sxs-lookup"><span data-stu-id="a311f-1145">Next steps</span></span>
<span data-ttu-id="a311f-1146">Learn more about [Integrating your on-premises identities with Azure Active Directory](active-directory-aadconnect.md).</span><span class="sxs-lookup"><span data-stu-id="a311f-1146">Learn more about [Integrating your on-premises identities with Azure Active Directory](active-directory-aadconnect.md).</span></span>
