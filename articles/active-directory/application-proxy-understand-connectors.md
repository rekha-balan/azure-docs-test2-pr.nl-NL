---
title: Understand Azure AD Application Proxy connectors | Microsoft Docs
description: Covers the basics about Azure AD Application Proxy connectors.
services: active-directory
documentationcenter: ''
author: kgremban
manager: femila
ms.assetid: ''
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/02/2017
ms.author: kgremban
ms.openlocfilehash: db3272ee212cd8886977f4c18edd80a0a05791e5
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44549493"
---
# <a name="understand-azure-ad-application-proxy-connectors"></a><span data-ttu-id="e3aca-103">Understand Azure AD Application Proxy connectors</span><span class="sxs-lookup"><span data-stu-id="e3aca-103">Understand Azure AD Application Proxy connectors</span></span>

<span data-ttu-id="e3aca-104">Connectors are what make Azure AD Application Proxy possible.</span><span class="sxs-lookup"><span data-stu-id="e3aca-104">Connectors are what make Azure AD Application Proxy possible.</span></span> <span data-ttu-id="e3aca-105">They are simple, easy to deploy and maintain, and super powerful.</span><span class="sxs-lookup"><span data-stu-id="e3aca-105">They are simple, easy to deploy and maintain, and super powerful.</span></span> <span data-ttu-id="e3aca-106">This article discusses what connectors are, how they work, and some best practices to get the most out of your deployment.</span><span class="sxs-lookup"><span data-stu-id="e3aca-106">This article discusses what connectors are, how they work, and some best practices to get the most out of your deployment.</span></span> 

## <a name="connector-deployment"></a><span data-ttu-id="e3aca-107">Connector deployment</span><span class="sxs-lookup"><span data-stu-id="e3aca-107">Connector deployment</span></span>

<span data-ttu-id="e3aca-108">Application Proxy works after you install the Windows Server service, called a connector, on your network.</span><span class="sxs-lookup"><span data-stu-id="e3aca-108">Application Proxy works after you install the Windows Server service, called a connector, on your network.</span></span> <span data-ttu-id="e3aca-109">You can install multiple connectors based on your high availability and scalability needs.</span><span class="sxs-lookup"><span data-stu-id="e3aca-109">You can install multiple connectors based on your high availability and scalability needs.</span></span> <span data-ttu-id="e3aca-110">Start with one and add more as needed.</span><span class="sxs-lookup"><span data-stu-id="e3aca-110">Start with one and add more as needed.</span></span> <span data-ttu-id="e3aca-111">Each time a connector is installed, it is added to the pool of connectors that serves your tenant.</span><span class="sxs-lookup"><span data-stu-id="e3aca-111">Each time a connector is installed, it is added to the pool of connectors that serves your tenant.</span></span>

<span data-ttu-id="e3aca-112">We recommend that you do not install the connectors on the same servers that host your applications.</span><span class="sxs-lookup"><span data-stu-id="e3aca-112">We recommend that you do not install the connectors on the same servers that host your applications.</span></span>

<span data-ttu-id="e3aca-113">You don't have to manually delete connectors that are unused.</span><span class="sxs-lookup"><span data-stu-id="e3aca-113">You don't have to manually delete connectors that are unused.</span></span> <span data-ttu-id="e3aca-114">When a connector is running, it remains active as it connects to the service.</span><span class="sxs-lookup"><span data-stu-id="e3aca-114">When a connector is running, it remains active as it connects to the service.</span></span> <span data-ttu-id="e3aca-115">Connectors not being used are tagged as _inactive_ and will be removed after 10 days of inactivity.</span><span class="sxs-lookup"><span data-stu-id="e3aca-115">Connectors not being used are tagged as _inactive_ and will be removed after 10 days of inactivity.</span></span> 

## <a name="connector-maintenance"></a><span data-ttu-id="e3aca-116">Connector maintenance</span><span class="sxs-lookup"><span data-stu-id="e3aca-116">Connector maintenance</span></span>
<span data-ttu-id="e3aca-117">The connectors and the service take care of all the high availability tasks.</span><span class="sxs-lookup"><span data-stu-id="e3aca-117">The connectors and the service take care of all the high availability tasks.</span></span> <span data-ttu-id="e3aca-118">They can be added or removed dynamically.</span><span class="sxs-lookup"><span data-stu-id="e3aca-118">They can be added or removed dynamically.</span></span> <span data-ttu-id="e3aca-119">Each time a new request arrives it is routed to one of the connectors that is currently available.</span><span class="sxs-lookup"><span data-stu-id="e3aca-119">Each time a new request arrives it is routed to one of the connectors that is currently available.</span></span> <span data-ttu-id="e3aca-120">If a connector is temporary not available, it will not respond to this traffic.</span><span class="sxs-lookup"><span data-stu-id="e3aca-120">If a connector is temporary not available, it will not respond to this traffic.</span></span>

<span data-ttu-id="e3aca-121">The connectors are stateless and have no configuration data on the machine, other than the connectivity to the service settings and the certificate that authenticates this connector.</span><span class="sxs-lookup"><span data-stu-id="e3aca-121">The connectors are stateless and have no configuration data on the machine, other than the connectivity to the service settings and the certificate that authenticates this connector.</span></span> <span data-ttu-id="e3aca-122">When they connect to the service, they pull all the required configuration data and refresh it every couple of minutes.</span><span class="sxs-lookup"><span data-stu-id="e3aca-122">When they connect to the service, they pull all the required configuration data and refresh it every couple of minutes.</span></span>
<span data-ttu-id="e3aca-123">They also poll the server to find if there is a newer version of the connector.</span><span class="sxs-lookup"><span data-stu-id="e3aca-123">They also poll the server to find if there is a newer version of the connector.</span></span> <span data-ttu-id="e3aca-124">If one is found, the connectors update themselves.</span><span class="sxs-lookup"><span data-stu-id="e3aca-124">If one is found, the connectors update themselves.</span></span>

<span data-ttu-id="e3aca-125">You can monitor your connectors from the machine they are running on, using either the event log and performance counters, or from the Application Proxy page of the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="e3aca-125">You can monitor your connectors from the machine they are running on, using either the event log and performance counters, or from the Application Proxy page of the Azure portal.</span></span>

 ![AzureAD Application Proxy Connectors](https://docstestmedia1.blob.core.windows.net/azure-media/articles/active-directory/media/application-proxy-understand-connectors/app-proxy-connectors.png)

## <a name="all-networking-is-outbound"></a><span data-ttu-id="e3aca-127">All networking is outbound</span><span class="sxs-lookup"><span data-stu-id="e3aca-127">All networking is outbound</span></span>
<span data-ttu-id="e3aca-128">Connectors only send outbound requests, so the connection is always initiated by the connector(s).</span><span class="sxs-lookup"><span data-stu-id="e3aca-128">Connectors only send outbound requests, so the connection is always initiated by the connector(s).</span></span> <span data-ttu-id="e3aca-129">There is no need to open inbound ports, because the traffic flows both ways once a session has been established.</span><span class="sxs-lookup"><span data-stu-id="e3aca-129">There is no need to open inbound ports, because the traffic flows both ways once a session has been established.</span></span>

<span data-ttu-id="e3aca-130">The outbound traffic is sent to the Application Proxy service and to the published applications.</span><span class="sxs-lookup"><span data-stu-id="e3aca-130">The outbound traffic is sent to the Application Proxy service and to the published applications.</span></span> <span data-ttu-id="e3aca-131">The traffic to the service is sent to Azure datacenters to several different ports numbers.</span><span class="sxs-lookup"><span data-stu-id="e3aca-131">The traffic to the service is sent to Azure datacenters to several different ports numbers.</span></span> <span data-ttu-id="e3aca-132">For more information about which ports are used, see [Enable Application Proxy in the Azure portal](active-directory-application-proxy-enable.md).</span><span class="sxs-lookup"><span data-stu-id="e3aca-132">For more information about which ports are used, see [Enable Application Proxy in the Azure portal](active-directory-application-proxy-enable.md).</span></span>

<span data-ttu-id="e3aca-133">As a result of having only outbound traffic, there is no need to set up load balancing between the connectors or configure inbound access through your firewalls.</span><span class="sxs-lookup"><span data-stu-id="e3aca-133">As a result of having only outbound traffic, there is no need to set up load balancing between the connectors or configure inbound access through your firewalls.</span></span>

<span data-ttu-id="e3aca-134">For information about configuring outbound firewall rules, see [Work with existing on-premise Proxy servers](application-proxy-working-with-proxy-servers.md).</span><span class="sxs-lookup"><span data-stu-id="e3aca-134">For information about configuring outbound firewall rules, see [Work with existing on-premise Proxy servers](application-proxy-working-with-proxy-servers.md).</span></span>

<span data-ttu-id="e3aca-135">Use the [Azure AD Application Proxy Connector Ports Test Tool](https://aadap-portcheck.connectorporttest.msappproxy.net/) to verify that your connector can reach the Application Proxy service.</span><span class="sxs-lookup"><span data-stu-id="e3aca-135">Use the [Azure AD Application Proxy Connector Ports Test Tool](https://aadap-portcheck.connectorporttest.msappproxy.net/) to verify that your connector can reach the Application Proxy service.</span></span> <span data-ttu-id="e3aca-136">At a minimum, make sure that the Central US region and the region closest to you have all green checkmarks.</span><span class="sxs-lookup"><span data-stu-id="e3aca-136">At a minimum, make sure that the Central US region and the region closest to you have all green checkmarks.</span></span> <span data-ttu-id="e3aca-137">Beyond that, more green checkmarks means greater resiliency.</span><span class="sxs-lookup"><span data-stu-id="e3aca-137">Beyond that, more green checkmarks means greater resiliency.</span></span> 

## <a name="network-security"></a><span data-ttu-id="e3aca-138">Network security</span><span class="sxs-lookup"><span data-stu-id="e3aca-138">Network security</span></span>

<span data-ttu-id="e3aca-139">Connectors can be installed anywhere on the network that allows them to send requests to both the service and the backend applications.</span><span class="sxs-lookup"><span data-stu-id="e3aca-139">Connectors can be installed anywhere on the network that allows them to send requests to both the service and the backend applications.</span></span> <span data-ttu-id="e3aca-140">They work fine if you install them inside the corpnet, within a demilitarized zone (DMZ), or even on a virtual machine that.</span><span class="sxs-lookup"><span data-stu-id="e3aca-140">They work fine if you install them inside the corpnet, within a demilitarized zone (DMZ), or even on a virtual machine that.</span></span> <span data-ttu-id="e3aca-141">What's important is that the computer running the connector also has access to your apps.</span><span class="sxs-lookup"><span data-stu-id="e3aca-141">What's important is that the computer running the connector also has access to your apps.</span></span>

<span data-ttu-id="e3aca-142">DMZ deployments are more complicated.</span><span class="sxs-lookup"><span data-stu-id="e3aca-142">DMZ deployments are more complicated.</span></span> <span data-ttu-id="e3aca-143">One reason you may want to deploy connectors in a DMZ, though, is to use other infrastructure like backend application load balancers or intrusion detection systems.</span><span class="sxs-lookup"><span data-stu-id="e3aca-143">One reason you may want to deploy connectors in a DMZ, though, is to use other infrastructure like backend application load balancers or intrusion detection systems.</span></span>

## <a name="domain-joining"></a><span data-ttu-id="e3aca-144">Domain joining</span><span class="sxs-lookup"><span data-stu-id="e3aca-144">Domain joining</span></span>

<span data-ttu-id="e3aca-145">Connectors can run on a machine that is not domain-joined.</span><span class="sxs-lookup"><span data-stu-id="e3aca-145">Connectors can run on a machine that is not domain-joined.</span></span> <span data-ttu-id="e3aca-146">However, if you want single sign-on (SSO) to applications that use Integrated Windows Authentication (IWA), you need a domain-joined machine.</span><span class="sxs-lookup"><span data-stu-id="e3aca-146">However, if you want single sign-on (SSO) to applications that use Integrated Windows Authentication (IWA), you need a domain-joined machine.</span></span> <span data-ttu-id="e3aca-147">In this case, the connector machines must be joined to a domain that can perform [Kerberos](https://web.mit.edu/kerberos) Constrained Delegation on behalf of the relevant users for the published applications.</span><span class="sxs-lookup"><span data-stu-id="e3aca-147">In this case, the connector machines must be joined to a domain that can perform [Kerberos](https://web.mit.edu/kerberos) Constrained Delegation on behalf of the relevant users for the published applications.</span></span>

<span data-ttu-id="e3aca-148">Connectors can also be joined to domains or forests that have a partial trust, or to read-only domain controllers.</span><span class="sxs-lookup"><span data-stu-id="e3aca-148">Connectors can also be joined to domains or forests that have a partial trust, or to read-only domain controllers.</span></span>

## <a name="connectors-on-hardened-environments"></a><span data-ttu-id="e3aca-149">Connectors on hardened environments</span><span class="sxs-lookup"><span data-stu-id="e3aca-149">Connectors on hardened environments</span></span>

<span data-ttu-id="e3aca-150">Usually, connector deployment is straightforward and requires no special configuration.</span><span class="sxs-lookup"><span data-stu-id="e3aca-150">Usually, connector deployment is straightforward and requires no special configuration.</span></span> <span data-ttu-id="e3aca-151">However, there are some unique conditions that should be considered:</span><span class="sxs-lookup"><span data-stu-id="e3aca-151">However, there are some unique conditions that should be considered:</span></span>

* <span data-ttu-id="e3aca-152">Organizations that limit the outbound traffic must [open required ports](active-directory-application-proxy-enable.md#open-your-ports).</span><span class="sxs-lookup"><span data-stu-id="e3aca-152">Organizations that limit the outbound traffic must [open required ports](active-directory-application-proxy-enable.md#open-your-ports).</span></span>
* <span data-ttu-id="e3aca-153">FIPS compliant machines might be required to change their configuration to allow the connector service, the connector updater service, and its installer to generate and store a certificate on that machine.</span><span class="sxs-lookup"><span data-stu-id="e3aca-153">FIPS compliant machines might be required to change their configuration to allow the connector service, the connector updater service, and its installer to generate and store a certificate on that machine.</span></span>
* <span data-ttu-id="e3aca-154">Organizations that lock down their environment based on the processes that issue the networking requests have to make sure that both connector services are enabled to access all required ports and IPs.</span><span class="sxs-lookup"><span data-stu-id="e3aca-154">Organizations that lock down their environment based on the processes that issue the networking requests have to make sure that both connector services are enabled to access all required ports and IPs.</span></span>
* <span data-ttu-id="e3aca-155">In some cases, outbound forward proxies may break the two-way certificate authentication and cause the communication to fail.</span><span class="sxs-lookup"><span data-stu-id="e3aca-155">In some cases, outbound forward proxies may break the two-way certificate authentication and cause the communication to fail.</span></span>

## <a name="connector-authentication"></a><span data-ttu-id="e3aca-156">Connector authentication</span><span class="sxs-lookup"><span data-stu-id="e3aca-156">Connector authentication</span></span>

<span data-ttu-id="e3aca-157">To provide a secure service, connectors have to authenticate toward the service, and the service has to authenticate toward the connector.</span><span class="sxs-lookup"><span data-stu-id="e3aca-157">To provide a secure service, connectors have to authenticate toward the service, and the service has to authenticate toward the connector.</span></span> <span data-ttu-id="e3aca-158">This is done using client and server certificates when the connectors initiate the connection.</span><span class="sxs-lookup"><span data-stu-id="e3aca-158">This is done using client and server certificates when the connectors initiate the connection.</span></span> <span data-ttu-id="e3aca-159">This way the administrator’s username and password are not stored on the connector machine.</span><span class="sxs-lookup"><span data-stu-id="e3aca-159">This way the administrator’s username and password are not stored on the connector machine.</span></span>

<span data-ttu-id="e3aca-160">The certificates used are specific to the Application Proxy service.</span><span class="sxs-lookup"><span data-stu-id="e3aca-160">The certificates used are specific to the Application Proxy service.</span></span> <span data-ttu-id="e3aca-161">They get created during the initial registration and are automatically renewed by the connectors every couple of months.</span><span class="sxs-lookup"><span data-stu-id="e3aca-161">They get created during the initial registration and are automatically renewed by the connectors every couple of months.</span></span> 

<span data-ttu-id="e3aca-162">If a connector is not connected to the service for several months, its certificates may be outdated.</span><span class="sxs-lookup"><span data-stu-id="e3aca-162">If a connector is not connected to the service for several months, its certificates may be outdated.</span></span> <span data-ttu-id="e3aca-163">In this case, uninstall and reinstall the connector to trigger registration.</span><span class="sxs-lookup"><span data-stu-id="e3aca-163">In this case, uninstall and reinstall the connector to trigger registration.</span></span> <span data-ttu-id="e3aca-164">You can run the following PowerShell commands:</span><span class="sxs-lookup"><span data-stu-id="e3aca-164">You can run the following PowerShell commands:</span></span>

```
Import-module AppProxyPSModule
Register-AppProxyConnector
```

## <a name="performance-and-scalability"></a><span data-ttu-id="e3aca-165">Performance and scalability</span><span class="sxs-lookup"><span data-stu-id="e3aca-165">Performance and scalability</span></span>

<span data-ttu-id="e3aca-166">Even though scale for the online service is transparent, scale is a factor for the connectors.</span><span class="sxs-lookup"><span data-stu-id="e3aca-166">Even though scale for the online service is transparent, scale is a factor for the connectors.</span></span> <span data-ttu-id="e3aca-167">You need to have enough connectors to handle peak traffic.</span><span class="sxs-lookup"><span data-stu-id="e3aca-167">You need to have enough connectors to handle peak traffic.</span></span> <span data-ttu-id="e3aca-168">Since the connectors are stateless, they are not affected by the number of users or sessions.</span><span class="sxs-lookup"><span data-stu-id="e3aca-168">Since the connectors are stateless, they are not affected by the number of users or sessions.</span></span> <span data-ttu-id="e3aca-169">Instead they respond to the number of requests and their payload size.</span><span class="sxs-lookup"><span data-stu-id="e3aca-169">Instead they respond to the number of requests and their payload size.</span></span> <span data-ttu-id="e3aca-170">With standard web traffic, an average machine can handle a couple thousand requests per second.</span><span class="sxs-lookup"><span data-stu-id="e3aca-170">With standard web traffic, an average machine can handle a couple thousand requests per second.</span></span> <span data-ttu-id="e3aca-171">The specific capacity depends on the exact machine characteristics.</span><span class="sxs-lookup"><span data-stu-id="e3aca-171">The specific capacity depends on the exact machine characteristics.</span></span>

<span data-ttu-id="e3aca-172">The connector performance is bound by CPU and networking.</span><span class="sxs-lookup"><span data-stu-id="e3aca-172">The connector performance is bound by CPU and networking.</span></span> <span data-ttu-id="e3aca-173">CPU performance is needed for the SSL encryption and decryption, while networking is important to get fast connectivity to the applications and to the online service in Azure.</span><span class="sxs-lookup"><span data-stu-id="e3aca-173">CPU performance is needed for the SSL encryption and decryption, while networking is important to get fast connectivity to the applications and to the online service in Azure.</span></span> 

<span data-ttu-id="e3aca-174">In contrast, memory is less of an issue for connectors.</span><span class="sxs-lookup"><span data-stu-id="e3aca-174">In contrast, memory is less of an issue for connectors.</span></span> <span data-ttu-id="e3aca-175">The online service takes care of much of the processing and on all unauthenticated traffic.</span><span class="sxs-lookup"><span data-stu-id="e3aca-175">The online service takes care of much of the processing and on all unauthenticated traffic.</span></span> <span data-ttu-id="e3aca-176">Everything that can be done in the cloud is done in the cloud.</span><span class="sxs-lookup"><span data-stu-id="e3aca-176">Everything that can be done in the cloud is done in the cloud.</span></span>

<span data-ttu-id="e3aca-177">Another factor that affects performance is the quality of the networking between the connectors, including:</span><span class="sxs-lookup"><span data-stu-id="e3aca-177">Another factor that affects performance is the quality of the networking between the connectors, including:</span></span>

* <span data-ttu-id="e3aca-178">**The online service:** Slow or high-latency connections influence the connector service.</span><span class="sxs-lookup"><span data-stu-id="e3aca-178">**The online service:** Slow or high-latency connections influence the connector service.</span></span> <span data-ttu-id="e3aca-179">It is best if your organization is connected to Azure via Express Route.</span><span class="sxs-lookup"><span data-stu-id="e3aca-179">It is best if your organization is connected to Azure via Express Route.</span></span> <span data-ttu-id="e3aca-180">Otherwise, have your networking team ensure that connections to Azure are handled in an efficient way.</span><span class="sxs-lookup"><span data-stu-id="e3aca-180">Otherwise, have your networking team ensure that connections to Azure are handled in an efficient way.</span></span>  
* <span data-ttu-id="e3aca-181">**The backend applications:** In some cases, there are additional proxies between the connector and the backend applications.</span><span class="sxs-lookup"><span data-stu-id="e3aca-181">**The backend applications:** In some cases, there are additional proxies between the connector and the backend applications.</span></span> <span data-ttu-id="e3aca-182">Troubleshoot this scenario by opening a browser from the connector machine and accessing these applications.</span><span class="sxs-lookup"><span data-stu-id="e3aca-182">Troubleshoot this scenario by opening a browser from the connector machine and accessing these applications.</span></span> <span data-ttu-id="e3aca-183">If you run the connectors in Azure, and the applications are on-premises, the experience might not be as your users expect.</span><span class="sxs-lookup"><span data-stu-id="e3aca-183">If you run the connectors in Azure, and the applications are on-premises, the experience might not be as your users expect.</span></span>
* <span data-ttu-id="e3aca-184">**The domain controllers:** If the connectors are performing SSO using Kerberos Constrained Delegation (KCD), they contact the domain controllers before they send the request to the backend.</span><span class="sxs-lookup"><span data-stu-id="e3aca-184">**The domain controllers:** If the connectors are performing SSO using Kerberos Constrained Delegation (KCD), they contact the domain controllers before they send the request to the backend.</span></span> <span data-ttu-id="e3aca-185">The connectors have a cache of Kerberos tickets, but in a busy environment the responsiveness of the domain controllers can affect the experience.</span><span class="sxs-lookup"><span data-stu-id="e3aca-185">The connectors have a cache of Kerberos tickets, but in a busy environment the responsiveness of the domain controllers can affect the experience.</span></span> <span data-ttu-id="e3aca-186">This issue is more common for connectors that run in Azure while the domain controllers are on-premises.</span><span class="sxs-lookup"><span data-stu-id="e3aca-186">This issue is more common for connectors that run in Azure while the domain controllers are on-premises.</span></span>

## <a name="automatic-updates-to-the-connector"></a><span data-ttu-id="e3aca-187">Automatic updates to the Connector</span><span class="sxs-lookup"><span data-stu-id="e3aca-187">Automatic updates to the Connector</span></span>

<span data-ttu-id="e3aca-188">With the Connector Updater service, we offer an automated way to keep up-to-date.</span><span class="sxs-lookup"><span data-stu-id="e3aca-188">With the Connector Updater service, we offer an automated way to keep up-to-date.</span></span> <span data-ttu-id="e3aca-189">This way you have the continued advantage of all new features, and security and performance enhancements.</span><span class="sxs-lookup"><span data-stu-id="e3aca-189">This way you have the continued advantage of all new features, and security and performance enhancements.</span></span>

<span data-ttu-id="e3aca-190">Azure AD supports automatic updates for all connectors that you deploy.</span><span class="sxs-lookup"><span data-stu-id="e3aca-190">Azure AD supports automatic updates for all connectors that you deploy.</span></span> <span data-ttu-id="e3aca-191">As long as the Application Proxy Connector Updater service is running, your connectors update automatically.</span><span class="sxs-lookup"><span data-stu-id="e3aca-191">As long as the Application Proxy Connector Updater service is running, your connectors update automatically.</span></span> <span data-ttu-id="e3aca-192">If you don’t see the Connector Updater service on your server, you need to [reinstall your connector](active-directory-application-proxy-enable.md) to get any updates.</span><span class="sxs-lookup"><span data-stu-id="e3aca-192">If you don’t see the Connector Updater service on your server, you need to [reinstall your connector](active-directory-application-proxy-enable.md) to get any updates.</span></span>

<span data-ttu-id="e3aca-193">You may experience downtime when your connector updates if:</span><span class="sxs-lookup"><span data-stu-id="e3aca-193">You may experience downtime when your connector updates if:</span></span>

- <span data-ttu-id="e3aca-194">You only have one connector.</span><span class="sxs-lookup"><span data-stu-id="e3aca-194">You only have one connector.</span></span> <span data-ttu-id="e3aca-195">Because there is no other connector to reroute traffic through, the service is unavailable during the update.</span><span class="sxs-lookup"><span data-stu-id="e3aca-195">Because there is no other connector to reroute traffic through, the service is unavailable during the update.</span></span> <span data-ttu-id="e3aca-196">To avoid this downtime and improve high availability, we recommend you install a second connector and [create a connector group](active-directory-application-proxy-connectors-azure-portal.md).</span><span class="sxs-lookup"><span data-stu-id="e3aca-196">To avoid this downtime and improve high availability, we recommend you install a second connector and [create a connector group](active-directory-application-proxy-connectors-azure-portal.md).</span></span>

- <span data-ttu-id="e3aca-197">A connector was in the middle of a transaction when the update began.</span><span class="sxs-lookup"><span data-stu-id="e3aca-197">A connector was in the middle of a transaction when the update began.</span></span> <span data-ttu-id="e3aca-198">Your browser should automatically retry the operation, or you can refresh your page.</span><span class="sxs-lookup"><span data-stu-id="e3aca-198">Your browser should automatically retry the operation, or you can refresh your page.</span></span> <span data-ttu-id="e3aca-199">When the request is resent, the traffic is routed to a backup connector.</span><span class="sxs-lookup"><span data-stu-id="e3aca-199">When the request is resent, the traffic is routed to a backup connector.</span></span>

## <a name="under-the-hood"></a><span data-ttu-id="e3aca-200">Under the hood</span><span class="sxs-lookup"><span data-stu-id="e3aca-200">Under the hood</span></span>

<span data-ttu-id="e3aca-201">Connectors are based on Windows Server Web Application Proxy, so they have most of the same management tools including Windows Event Logs</span><span class="sxs-lookup"><span data-stu-id="e3aca-201">Connectors are based on Windows Server Web Application Proxy, so they have most of the same management tools including Windows Event Logs</span></span>

 ![Manage event logs with the Event Viewer](https://docstestmedia1.blob.core.windows.net/azure-media/articles/active-directory/media/application-proxy-understand-connectors/event-view-window.png)

<span data-ttu-id="e3aca-203">and Windows performance counters.</span><span class="sxs-lookup"><span data-stu-id="e3aca-203">and Windows performance counters.</span></span> 

 ![Add counters to the connector with the Performance Monitor](https://docstestmedia1.blob.core.windows.net/azure-media/articles/active-directory/media/application-proxy-understand-connectors/performance-monitor.png)

<span data-ttu-id="e3aca-205">The connectors have both admin and session logs.</span><span class="sxs-lookup"><span data-stu-id="e3aca-205">The connectors have both admin and session logs.</span></span> <span data-ttu-id="e3aca-206">The admin logs include key events and their errors.</span><span class="sxs-lookup"><span data-stu-id="e3aca-206">The admin logs include key events and their errors.</span></span> <span data-ttu-id="e3aca-207">The session logs include all the transactions and their processing details.</span><span class="sxs-lookup"><span data-stu-id="e3aca-207">The session logs include all the transactions and their processing details.</span></span> 

<span data-ttu-id="e3aca-208">To see the logs, go to the Event Viewer, open the **View** menu, and enable **Show analytic and debug logs**.</span><span class="sxs-lookup"><span data-stu-id="e3aca-208">To see the logs, go to the Event Viewer, open the **View** menu, and enable **Show analytic and debug logs**.</span></span> <span data-ttu-id="e3aca-209">Then, enable them to start collecting events.</span><span class="sxs-lookup"><span data-stu-id="e3aca-209">Then, enable them to start collecting events.</span></span> <span data-ttu-id="e3aca-210">These logs do not appear in Web Application Proxy in Windows Server 2012 R2, as the connectors are based on a more recent version.</span><span class="sxs-lookup"><span data-stu-id="e3aca-210">These logs do not appear in Web Application Proxy in Windows Server 2012 R2, as the connectors are based on a more recent version.</span></span>

<span data-ttu-id="e3aca-211">You can examine the state of the service in the Services window.</span><span class="sxs-lookup"><span data-stu-id="e3aca-211">You can examine the state of the service in the Services window.</span></span> <span data-ttu-id="e3aca-212">The connector comprises two Windows Services: the actual connector, and the updater.</span><span class="sxs-lookup"><span data-stu-id="e3aca-212">The connector comprises two Windows Services: the actual connector, and the updater.</span></span> <span data-ttu-id="e3aca-213">Both of them are required to run all the time.</span><span class="sxs-lookup"><span data-stu-id="e3aca-213">Both of them are required to run all the time.</span></span>

 ![AzureAD Services Local](https://docstestmedia1.blob.core.windows.net/azure-media/articles/active-directory/media/application-proxy-understand-connectors/aad-connector-services.png)

## <a name="next-steps"></a><span data-ttu-id="e3aca-215">Next steps</span><span class="sxs-lookup"><span data-stu-id="e3aca-215">Next steps</span></span>
[<span data-ttu-id="e3aca-216">Troubleshoot Application Proxy and connector errors</span><span class="sxs-lookup"><span data-stu-id="e3aca-216">Troubleshoot Application Proxy and connector errors</span></span>](active-directory-application-proxy-troubleshoot.md)

[<span data-ttu-id="e3aca-217">Work with existing on-premises proxy servers</span><span class="sxs-lookup"><span data-stu-id="e3aca-217">Work with existing on-premises proxy servers</span></span>](application-proxy-working-with-proxy-servers.md)

[<span data-ttu-id="e3aca-218">How to silently install the Azure AD Application Proxy Connector</span><span class="sxs-lookup"><span data-stu-id="e3aca-218">How to silently install the Azure AD Application Proxy Connector</span></span>](active-directory-application-proxy-silent-installation.md)





