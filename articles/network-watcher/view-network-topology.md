---
title: View Azure virtual network topology | Microsoft Docs
description: Learn how to view the resources in a virtual network, and the relationships between the resources.
services: network-watcher
documentationcenter: na
author: jimdial
manager: jeconnoc
editor: ''
ms.assetid: ''
ms.service: network-watcher
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/09/2018
ms.author: jdial
ms.openlocfilehash: 1725a3d6a4eb82ca57078f648efa14866d2fe390
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44856763"
---
# <a name="view-the-topology-of-an-azure-virtual-network"></a><span data-ttu-id="7a304-103">View the topology of an Azure virtual network</span><span class="sxs-lookup"><span data-stu-id="7a304-103">View the topology of an Azure virtual network</span></span>

<span data-ttu-id="7a304-104">In this article, you learn how to view resources in a Microsoft Azure virtual network, and the relationships between the resources.</span><span class="sxs-lookup"><span data-stu-id="7a304-104">In this article, you learn how to view resources in a Microsoft Azure virtual network, and the relationships between the resources.</span></span> <span data-ttu-id="7a304-105">For example, a virtual network contains subnets.</span><span class="sxs-lookup"><span data-stu-id="7a304-105">For example, a virtual network contains subnets.</span></span> <span data-ttu-id="7a304-106">Subnets contain resources, such as Azure Virtual Machines (VM).</span><span class="sxs-lookup"><span data-stu-id="7a304-106">Subnets contain resources, such as Azure Virtual Machines (VM).</span></span> <span data-ttu-id="7a304-107">VMs have one or more network interfaces.</span><span class="sxs-lookup"><span data-stu-id="7a304-107">VMs have one or more network interfaces.</span></span> <span data-ttu-id="7a304-108">Each subnet can have a network security group and a route table associated to it.</span><span class="sxs-lookup"><span data-stu-id="7a304-108">Each subnet can have a network security group and a route table associated to it.</span></span> <span data-ttu-id="7a304-109">The topology capability of Azure Network Watcher enables you to view all of the resources in a virtual network, the resources associated to resources in a virtual network, and the relationships between the resources.</span><span class="sxs-lookup"><span data-stu-id="7a304-109">The topology capability of Azure Network Watcher enables you to view all of the resources in a virtual network, the resources associated to resources in a virtual network, and the relationships between the resources.</span></span>

<span data-ttu-id="7a304-110">You can use the [Azure portal](#azure-portal), the [Azure CLI](#azure-cli), or [PowerShell](#powershell) to view a topology.</span><span class="sxs-lookup"><span data-stu-id="7a304-110">You can use the [Azure portal](#azure-portal), the [Azure CLI](#azure-cli), or [PowerShell](#powershell) to view a topology.</span></span>

## <a name = "azure-portal"></a><span data-ttu-id="7a304-111">View topology - Azure portal</span><span class="sxs-lookup"><span data-stu-id="7a304-111">View topology - Azure portal</span></span>

1. <span data-ttu-id="7a304-112">Log into the [Azure portal](https://portal.azure.com) with an account that has the necessary [permissions](required-rbac-permissions.md).</span><span class="sxs-lookup"><span data-stu-id="7a304-112">Log into the [Azure portal](https://portal.azure.com) with an account that has the necessary [permissions](required-rbac-permissions.md).</span></span>
2. <span data-ttu-id="7a304-113">On the top, left corner of the portal, select **All services**.</span><span class="sxs-lookup"><span data-stu-id="7a304-113">On the top, left corner of the portal, select **All services**.</span></span>
3. <span data-ttu-id="7a304-114">In the **All services** filter box, enter *Network Watcher*.</span><span class="sxs-lookup"><span data-stu-id="7a304-114">In the **All services** filter box, enter *Network Watcher*.</span></span> <span data-ttu-id="7a304-115">When **Network Watcher** appears in the results, select it.</span><span class="sxs-lookup"><span data-stu-id="7a304-115">When **Network Watcher** appears in the results, select it.</span></span>
4. <span data-ttu-id="7a304-116">Select **Topology**.</span><span class="sxs-lookup"><span data-stu-id="7a304-116">Select **Topology**.</span></span> <span data-ttu-id="7a304-117">Generating a topology requires a network watcher in the same region that the virtual network that you want to generate the topology for exists in.</span><span class="sxs-lookup"><span data-stu-id="7a304-117">Generating a topology requires a network watcher in the same region that the virtual network that you want to generate the topology for exists in.</span></span> <span data-ttu-id="7a304-118">If you don't have a network watcher enabled in the region that the virtual network you want to generate a topology for is in, network watchers are automatically created for you in all regions.</span><span class="sxs-lookup"><span data-stu-id="7a304-118">If you don't have a network watcher enabled in the region that the virtual network you want to generate a topology for is in, network watchers are automatically created for you in all regions.</span></span> <span data-ttu-id="7a304-119">The network watchers are created in a resource group named **NetworkWatcherRG**.</span><span class="sxs-lookup"><span data-stu-id="7a304-119">The network watchers are created in a resource group named **NetworkWatcherRG**.</span></span>
5. <span data-ttu-id="7a304-120">Select a subscription, the resource group of a virtual network you want to view the topology for, and then select the virtual network.</span><span class="sxs-lookup"><span data-stu-id="7a304-120">Select a subscription, the resource group of a virtual network you want to view the topology for, and then select the virtual network.</span></span> <span data-ttu-id="7a304-121">In the following picture, a topology is shown for a virtual network named *MyVnet*, in the resource group named *MyResourceGroup*:</span><span class="sxs-lookup"><span data-stu-id="7a304-121">In the following picture, a topology is shown for a virtual network named *MyVnet*, in the resource group named *MyResourceGroup*:</span></span>

    ![View topology](./media/view-network-topology/view-topology.png)

    <span data-ttu-id="7a304-123">As you can see in the previous picture, the virtual network contains three subnets.</span><span class="sxs-lookup"><span data-stu-id="7a304-123">As you can see in the previous picture, the virtual network contains three subnets.</span></span> <span data-ttu-id="7a304-124">One subnet has a VM deployed in it.</span><span class="sxs-lookup"><span data-stu-id="7a304-124">One subnet has a VM deployed in it.</span></span> <span data-ttu-id="7a304-125">The VM has one network interface attached to it and a public IP address associated to it.</span><span class="sxs-lookup"><span data-stu-id="7a304-125">The VM has one network interface attached to it and a public IP address associated to it.</span></span> <span data-ttu-id="7a304-126">The other two subnets have a route table associated to them.</span><span class="sxs-lookup"><span data-stu-id="7a304-126">The other two subnets have a route table associated to them.</span></span> <span data-ttu-id="7a304-127">Each route table contains two routes.</span><span class="sxs-lookup"><span data-stu-id="7a304-127">Each route table contains two routes.</span></span> <span data-ttu-id="7a304-128">One subnet has a network security group associated to it.</span><span class="sxs-lookup"><span data-stu-id="7a304-128">One subnet has a network security group associated to it.</span></span> <span data-ttu-id="7a304-129">Topology information is only shown for resources that are:</span><span class="sxs-lookup"><span data-stu-id="7a304-129">Topology information is only shown for resources that are:</span></span>
    
    - <span data-ttu-id="7a304-130">Within the same resource group and region as the *myVnet* virtual network.</span><span class="sxs-lookup"><span data-stu-id="7a304-130">Within the same resource group and region as the *myVnet* virtual network.</span></span> <span data-ttu-id="7a304-131">For example, a network security group that exists in a resource group other than *MyResourceGroup*, isn't shown, even if the network security group is associated to a subnet in the *MyVnet* virtual network.</span><span class="sxs-lookup"><span data-stu-id="7a304-131">For example, a network security group that exists in a resource group other than *MyResourceGroup*, isn't shown, even if the network security group is associated to a subnet in the *MyVnet* virtual network.</span></span>
    - <span data-ttu-id="7a304-132">Within, or associated to resources within, the *myVnet* virtual network.</span><span class="sxs-lookup"><span data-stu-id="7a304-132">Within, or associated to resources within, the *myVnet* virtual network.</span></span> <span data-ttu-id="7a304-133">For example, a network security group that isn't associated to a subnet or network interface in the *myVnet* virtual network isn't shown, even if the network security group is in the *MyResourceGroup* resource group.</span><span class="sxs-lookup"><span data-stu-id="7a304-133">For example, a network security group that isn't associated to a subnet or network interface in the *myVnet* virtual network isn't shown, even if the network security group is in the *MyResourceGroup* resource group.</span></span>

  <span data-ttu-id="7a304-134">The topology shown in the picture is for the virtual network created after deploying the **Route traffic through a network virtual appliance script sample**, which you can deploy using the [Azure CLI](../virtual-network/scripts/virtual-network-cli-sample-route-traffic-through-nva.md?toc=%2fazure%2fnetwork-watcher%2ftoc.json), or [PowerShell](../virtual-network/scripts/virtual-network-powershell-sample-route-traffic-through-nva.md?toc=%2fazure%2fnetwork-watcher%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="7a304-134">The topology shown in the picture is for the virtual network created after deploying the **Route traffic through a network virtual appliance script sample**, which you can deploy using the [Azure CLI](../virtual-network/scripts/virtual-network-cli-sample-route-traffic-through-nva.md?toc=%2fazure%2fnetwork-watcher%2ftoc.json), or [PowerShell](../virtual-network/scripts/virtual-network-powershell-sample-route-traffic-through-nva.md?toc=%2fazure%2fnetwork-watcher%2ftoc.json).</span></span>

6. <span data-ttu-id="7a304-135">Select **Download topology** to download the image as an editable file, in svg format.</span><span class="sxs-lookup"><span data-stu-id="7a304-135">Select **Download topology** to download the image as an editable file, in svg format.</span></span>

<span data-ttu-id="7a304-136">The resources shown in the diagram are a subset of the networking components in the virtual network.</span><span class="sxs-lookup"><span data-stu-id="7a304-136">The resources shown in the diagram are a subset of the networking components in the virtual network.</span></span> <span data-ttu-id="7a304-137">For example, while a network security group is shown, the security rules within it are not shown in the diagram.</span><span class="sxs-lookup"><span data-stu-id="7a304-137">For example, while a network security group is shown, the security rules within it are not shown in the diagram.</span></span> <span data-ttu-id="7a304-138">Though not differentiated in the diagram, the lines represent one of two relationships: *Containment* or *associated*.</span><span class="sxs-lookup"><span data-stu-id="7a304-138">Though not differentiated in the diagram, the lines represent one of two relationships: *Containment* or *associated*.</span></span> <span data-ttu-id="7a304-139">To see the full list of resources in the virtual network, and the type of relationship between the resources, generate the topology with [PowerShell](#powershell) or the [Azure CLI](#azure-cli).</span><span class="sxs-lookup"><span data-stu-id="7a304-139">To see the full list of resources in the virtual network, and the type of relationship between the resources, generate the topology with [PowerShell](#powershell) or the [Azure CLI](#azure-cli).</span></span>

## <a name = "azure-cli"></a><span data-ttu-id="7a304-140">View topology - Azure CLI</span><span class="sxs-lookup"><span data-stu-id="7a304-140">View topology - Azure CLI</span></span>

<span data-ttu-id="7a304-141">You can run the commands in the steps that follow:</span><span class="sxs-lookup"><span data-stu-id="7a304-141">You can run the commands in the steps that follow:</span></span>
- <span data-ttu-id="7a304-142">In the Azure Cloud Shell, by selecting **Try It** at the top right of any command.</span><span class="sxs-lookup"><span data-stu-id="7a304-142">In the Azure Cloud Shell, by selecting **Try It** at the top right of any command.</span></span> <span data-ttu-id="7a304-143">The Azure Cloud Shell is a free interactive shell that has common Azure tools preinstalled and configured to use with your account.</span><span class="sxs-lookup"><span data-stu-id="7a304-143">The Azure Cloud Shell is a free interactive shell that has common Azure tools preinstalled and configured to use with your account.</span></span>
- <span data-ttu-id="7a304-144">By running the CLI from your computer.</span><span class="sxs-lookup"><span data-stu-id="7a304-144">By running the CLI from your computer.</span></span> <span data-ttu-id="7a304-145">If you run the CLI from your computer, steps in this article require the Azure CLI version 2.0.31 or later.</span><span class="sxs-lookup"><span data-stu-id="7a304-145">If you run the CLI from your computer, steps in this article require the Azure CLI version 2.0.31 or later.</span></span> <span data-ttu-id="7a304-146">Run `az --version` to find the installed version.</span><span class="sxs-lookup"><span data-stu-id="7a304-146">Run `az --version` to find the installed version.</span></span> <span data-ttu-id="7a304-147">If you need to install or upgrade, see [Install Azure CLI 2.0](/cli/azure/install-azure-cli).</span><span class="sxs-lookup"><span data-stu-id="7a304-147">If you need to install or upgrade, see [Install Azure CLI 2.0](/cli/azure/install-azure-cli).</span></span> <span data-ttu-id="7a304-148">If you are running the Azure CLI locally, you also need to run `az login` to create a connection with Azure.</span><span class="sxs-lookup"><span data-stu-id="7a304-148">If you are running the Azure CLI locally, you also need to run `az login` to create a connection with Azure.</span></span>

<span data-ttu-id="7a304-149">The account that you use must have the necessary [permissions](required-rbac-permissions.md).</span><span class="sxs-lookup"><span data-stu-id="7a304-149">The account that you use must have the necessary [permissions](required-rbac-permissions.md).</span></span>

1. <span data-ttu-id="7a304-150">If you already have a network watcher in the same region as the virtual network that you want to create a topology for, skip to step 3.</span><span class="sxs-lookup"><span data-stu-id="7a304-150">If you already have a network watcher in the same region as the virtual network that you want to create a topology for, skip to step 3.</span></span> <span data-ttu-id="7a304-151">Create a resource group to contain a network watcher with [az group create](/cli/azure/group#az_group_create).</span><span class="sxs-lookup"><span data-stu-id="7a304-151">Create a resource group to contain a network watcher with [az group create](/cli/azure/group#az_group_create).</span></span> <span data-ttu-id="7a304-152">The following example creates the resource group in the *eastus* region:</span><span class="sxs-lookup"><span data-stu-id="7a304-152">The following example creates the resource group in the *eastus* region:</span></span>

    ```azurecli-interactive
    az group create --name NetworkWatcherRG --location eastus
    ```

2. <span data-ttu-id="7a304-153">Create a network watcher with [az network watcher configure](/cli/azure/network/watcher#az-network-watcher-configure).</span><span class="sxs-lookup"><span data-stu-id="7a304-153">Create a network watcher with [az network watcher configure](/cli/azure/network/watcher#az-network-watcher-configure).</span></span> <span data-ttu-id="7a304-154">The following example creates a network watcher in the *eastus* region:</span><span class="sxs-lookup"><span data-stu-id="7a304-154">The following example creates a network watcher in the *eastus* region:</span></span>

    ```azurecli-interactive
    az network watcher configure \
      --resource-group NetworkWatcherRG \
      --location eastus \
      --enabled true
    ```

3. <span data-ttu-id="7a304-155">View the topology with [az network watcher show-topology](/cli/azure/network/watcher#az-network-watcher-show-topology).</span><span class="sxs-lookup"><span data-stu-id="7a304-155">View the topology with [az network watcher show-topology](/cli/azure/network/watcher#az-network-watcher-show-topology).</span></span> <span data-ttu-id="7a304-156">The following example views the topology for a resource group named *MyResourceGroup*:</span><span class="sxs-lookup"><span data-stu-id="7a304-156">The following example views the topology for a resource group named *MyResourceGroup*:</span></span>

    ```azurecli-interactive
    az network watcher show-topology --resource-group MyResourceGroup
    ```

    <span data-ttu-id="7a304-157">Topology information is only returned for resources that are within the same resource group as the *MyResourceGroup* resource group and the same region as the network watcher.</span><span class="sxs-lookup"><span data-stu-id="7a304-157">Topology information is only returned for resources that are within the same resource group as the *MyResourceGroup* resource group and the same region as the network watcher.</span></span> <span data-ttu-id="7a304-158">For example, a network security group that exists in a resource group other than *MyResourceGroup*, isn't shown, even if the network security group is associated to a subnet in the *MyVnet* virtual network.</span><span class="sxs-lookup"><span data-stu-id="7a304-158">For example, a network security group that exists in a resource group other than *MyResourceGroup*, isn't shown, even if the network security group is associated to a subnet in the *MyVnet* virtual network.</span></span>

  <span data-ttu-id="7a304-159">Learn more about the [relationships](#relationhips) and [properties](#properties) in the returned output.</span><span class="sxs-lookup"><span data-stu-id="7a304-159">Learn more about the [relationships](#relationhips) and [properties](#properties) in the returned output.</span></span> <span data-ttu-id="7a304-160">If you don't have an existing virtual network to view a topology for, you can create one using the [Route traffic through a network virtual appliance](../virtual-network/scripts/virtual-network-cli-sample-route-traffic-through-nva.md?toc=%2fazure%2fnetwork-watcher%2ftoc.json) script sample.</span><span class="sxs-lookup"><span data-stu-id="7a304-160">If you don't have an existing virtual network to view a topology for, you can create one using the [Route traffic through a network virtual appliance](../virtual-network/scripts/virtual-network-cli-sample-route-traffic-through-nva.md?toc=%2fazure%2fnetwork-watcher%2ftoc.json) script sample.</span></span> <span data-ttu-id="7a304-161">To view a diagram of the topology and download it in an editable file, use the [portal](#azure-portal).</span><span class="sxs-lookup"><span data-stu-id="7a304-161">To view a diagram of the topology and download it in an editable file, use the [portal](#azure-portal).</span></span>

## <a name = "powershell"></a><span data-ttu-id="7a304-162">View topology - PowerShell</span><span class="sxs-lookup"><span data-stu-id="7a304-162">View topology - PowerShell</span></span>

<span data-ttu-id="7a304-163">You can run the commands in the steps that follow:</span><span class="sxs-lookup"><span data-stu-id="7a304-163">You can run the commands in the steps that follow:</span></span>
- <span data-ttu-id="7a304-164">In the Azure Cloud Shell, by selecting **Try It** at the top right of any command.</span><span class="sxs-lookup"><span data-stu-id="7a304-164">In the Azure Cloud Shell, by selecting **Try It** at the top right of any command.</span></span> <span data-ttu-id="7a304-165">The Azure Cloud Shell is a free interactive shell that has common Azure tools preinstalled and configured to use with your account.</span><span class="sxs-lookup"><span data-stu-id="7a304-165">The Azure Cloud Shell is a free interactive shell that has common Azure tools preinstalled and configured to use with your account.</span></span>
- <span data-ttu-id="7a304-166">By running PowerShell from your computer.</span><span class="sxs-lookup"><span data-stu-id="7a304-166">By running PowerShell from your computer.</span></span> <span data-ttu-id="7a304-167">If you run PowerShell from your computer, steps in this article require version 5.7.0 or later of the AzureRm module.</span><span class="sxs-lookup"><span data-stu-id="7a304-167">If you run PowerShell from your computer, steps in this article require version 5.7.0 or later of the AzureRm module.</span></span> <span data-ttu-id="7a304-168">Run `Get-Module -ListAvailable AzureRM` to find the installed version.</span><span class="sxs-lookup"><span data-stu-id="7a304-168">Run `Get-Module -ListAvailable AzureRM` to find the installed version.</span></span> <span data-ttu-id="7a304-169">If you need to upgrade, see [Install Azure PowerShell module](/powershell/azure/install-azurerm-ps).</span><span class="sxs-lookup"><span data-stu-id="7a304-169">If you need to upgrade, see [Install Azure PowerShell module](/powershell/azure/install-azurerm-ps).</span></span> <span data-ttu-id="7a304-170">If you are running PowerShell locally, you also need to run `Login-AzureRmAccount` to create a connection with Azure.</span><span class="sxs-lookup"><span data-stu-id="7a304-170">If you are running PowerShell locally, you also need to run `Login-AzureRmAccount` to create a connection with Azure.</span></span>

<span data-ttu-id="7a304-171">The account that you use must have the necessary [permissions](required-rbac-permissions.md).</span><span class="sxs-lookup"><span data-stu-id="7a304-171">The account that you use must have the necessary [permissions](required-rbac-permissions.md).</span></span>

1. <span data-ttu-id="7a304-172">If you already have a network watcher in the same region as the virtual network that you want to create a topology for, skip to step 3.</span><span class="sxs-lookup"><span data-stu-id="7a304-172">If you already have a network watcher in the same region as the virtual network that you want to create a topology for, skip to step 3.</span></span> <span data-ttu-id="7a304-173">Create a resource group to contain a network watcher with [New-AzureRmResourceGroup](/powershell/module/AzureRM.Resources/New-AzureRmResourceGroup).</span><span class="sxs-lookup"><span data-stu-id="7a304-173">Create a resource group to contain a network watcher with [New-AzureRmResourceGroup](/powershell/module/AzureRM.Resources/New-AzureRmResourceGroup).</span></span> <span data-ttu-id="7a304-174">The following example creates the resource group in the *eastus* region:</span><span class="sxs-lookup"><span data-stu-id="7a304-174">The following example creates the resource group in the *eastus* region:</span></span>

    ```azurepowershell-interactive
    New-AzureRmResourceGroup -Name NetworkWatcherRG -Location EastUS
    ```

2. <span data-ttu-id="7a304-175">Create a network watcher with [New-AzureRmNetworkWatcher](/powershell/module/azurerm.network/new-azurermnetworkwatcher).</span><span class="sxs-lookup"><span data-stu-id="7a304-175">Create a network watcher with [New-AzureRmNetworkWatcher](/powershell/module/azurerm.network/new-azurermnetworkwatcher).</span></span> <span data-ttu-id="7a304-176">The following example creates a network watcher in the eastus region:</span><span class="sxs-lookup"><span data-stu-id="7a304-176">The following example creates a network watcher in the eastus region:</span></span>

    ```azurepowershell-interactive
    New-AzureRmNetworkWatcher `
      -Name NetworkWatcher_eastus `
      -ResourceGroupName NetworkWatcherRG
    ```

3. <span data-ttu-id="7a304-177">Retrieve a Network Watcher instance with [Get-AzureRmNetworkWatcher](/powershell/module/azurerm.network/get-azurermnetworkwatcher).</span><span class="sxs-lookup"><span data-stu-id="7a304-177">Retrieve a Network Watcher instance with [Get-AzureRmNetworkWatcher](/powershell/module/azurerm.network/get-azurermnetworkwatcher).</span></span> <span data-ttu-id="7a304-178">The following example retrieves a network watcher in the East US region:</span><span class="sxs-lookup"><span data-stu-id="7a304-178">The following example retrieves a network watcher in the East US region:</span></span>

    ```azurepowershell-interactive
    $nw = Get-AzurermResource `
      | Where {$_.ResourceType -eq "Microsoft.Network/networkWatchers" -and $_.Location -eq "EastUS" }
    $networkWatcher = Get-AzureRmNetworkWatcher `
      -Name $nw.Name `
      -ResourceGroupName $nw.ResourceGroupName
    ```

4. <span data-ttu-id="7a304-179">Retrieve a topology with [Get-AzureRmNetworkWatcherTopology](/powershell/module/azurerm.network/get-azurermnetworkwatchertopology).</span><span class="sxs-lookup"><span data-stu-id="7a304-179">Retrieve a topology with [Get-AzureRmNetworkWatcherTopology](/powershell/module/azurerm.network/get-azurermnetworkwatchertopology).</span></span> <span data-ttu-id="7a304-180">The following example retrieves a topology for a virtual network in the resource group named *MyResourceGroup*:</span><span class="sxs-lookup"><span data-stu-id="7a304-180">The following example retrieves a topology for a virtual network in the resource group named *MyResourceGroup*:</span></span>

    ```azurepowershell-interactive
    Get-AzureRmNetworkWatcherTopology `
      -NetworkWatcher $networkWatcher `
      -TargetResourceGroupName MyResourceGroup
    ```

   <span data-ttu-id="7a304-181">Topology information is only returned for resources that are within the same resource group as the *MyResourceGroup* resource group and the same region as the network watcher.</span><span class="sxs-lookup"><span data-stu-id="7a304-181">Topology information is only returned for resources that are within the same resource group as the *MyResourceGroup* resource group and the same region as the network watcher.</span></span> <span data-ttu-id="7a304-182">For example, a network security group that exists in a resource group other than *MyResourceGroup*, isn't shown, even if the network security group is associated to a subnet in the *MyVnet* virtual network.</span><span class="sxs-lookup"><span data-stu-id="7a304-182">For example, a network security group that exists in a resource group other than *MyResourceGroup*, isn't shown, even if the network security group is associated to a subnet in the *MyVnet* virtual network.</span></span>

  <span data-ttu-id="7a304-183">Learn more about the [relationships](#relationhips) and [properties](#properties) in the returned output.</span><span class="sxs-lookup"><span data-stu-id="7a304-183">Learn more about the [relationships](#relationhips) and [properties](#properties) in the returned output.</span></span> <span data-ttu-id="7a304-184">If you don't have an existing virtual network to view a topology for, you can create one using the [Route traffic through a network virtual appliance](../virtual-network/scripts/virtual-network-powershell-sample-route-traffic-through-nva.md?toc=%2fazure%2fnetwork-watcher%2ftoc.json) script sample.</span><span class="sxs-lookup"><span data-stu-id="7a304-184">If you don't have an existing virtual network to view a topology for, you can create one using the [Route traffic through a network virtual appliance](../virtual-network/scripts/virtual-network-powershell-sample-route-traffic-through-nva.md?toc=%2fazure%2fnetwork-watcher%2ftoc.json) script sample.</span></span> <span data-ttu-id="7a304-185">To view a diagram of the topology and download it in an editable file, use the [portal](#azure-portal).</span><span class="sxs-lookup"><span data-stu-id="7a304-185">To view a diagram of the topology and download it in an editable file, use the [portal](#azure-portal).</span></span>

## <a name="relationships"></a><span data-ttu-id="7a304-186">Relationships</span><span class="sxs-lookup"><span data-stu-id="7a304-186">Relationships</span></span>

<span data-ttu-id="7a304-187">All resources returned in a topology have one of the following types of relationship to another resource:</span><span class="sxs-lookup"><span data-stu-id="7a304-187">All resources returned in a topology have one of the following types of relationship to another resource:</span></span>

| <span data-ttu-id="7a304-188">Relationship type</span><span class="sxs-lookup"><span data-stu-id="7a304-188">Relationship type</span></span> | <span data-ttu-id="7a304-189">Example</span><span class="sxs-lookup"><span data-stu-id="7a304-189">Example</span></span>                                                                                                |
| ---               | ---                                                                                                    |
| <span data-ttu-id="7a304-190">Containment</span><span class="sxs-lookup"><span data-stu-id="7a304-190">Containment</span></span>       | <span data-ttu-id="7a304-191">A virtual network contains a subnet.</span><span class="sxs-lookup"><span data-stu-id="7a304-191">A virtual network contains a subnet.</span></span> <span data-ttu-id="7a304-192">A subnet contains a network interface.</span><span class="sxs-lookup"><span data-stu-id="7a304-192">A subnet contains a network interface.</span></span>                            |
| <span data-ttu-id="7a304-193">Associated</span><span class="sxs-lookup"><span data-stu-id="7a304-193">Associated</span></span>        | <span data-ttu-id="7a304-194">A network interface is associated with a VM.</span><span class="sxs-lookup"><span data-stu-id="7a304-194">A network interface is associated with a VM.</span></span> <span data-ttu-id="7a304-195">A public IP address is associated to a network interface.</span><span class="sxs-lookup"><span data-stu-id="7a304-195">A public IP address is associated to a network interface.</span></span> |

## <a name="properties"></a><span data-ttu-id="7a304-196">Properties</span><span class="sxs-lookup"><span data-stu-id="7a304-196">Properties</span></span>

<span data-ttu-id="7a304-197">All resources returned in a topology have the following properties:</span><span class="sxs-lookup"><span data-stu-id="7a304-197">All resources returned in a topology have the following properties:</span></span>

- <span data-ttu-id="7a304-198">**Name**: The name of the resource</span><span class="sxs-lookup"><span data-stu-id="7a304-198">**Name**: The name of the resource</span></span>
- <span data-ttu-id="7a304-199">**Id**: The URI of the resource.</span><span class="sxs-lookup"><span data-stu-id="7a304-199">**Id**: The URI of the resource.</span></span>
- <span data-ttu-id="7a304-200">**Location**: The Azure region that the resource exists in.</span><span class="sxs-lookup"><span data-stu-id="7a304-200">**Location**: The Azure region that the resource exists in.</span></span>
- <span data-ttu-id="7a304-201">**Associations**: A list of associations to the referenced object.</span><span class="sxs-lookup"><span data-stu-id="7a304-201">**Associations**: A list of associations to the referenced object.</span></span> <span data-ttu-id="7a304-202">Each association has the following properties:</span><span class="sxs-lookup"><span data-stu-id="7a304-202">Each association has the following properties:</span></span>
    - <span data-ttu-id="7a304-203">**AssociationType**: References the relationship between the child object and the parent.</span><span class="sxs-lookup"><span data-stu-id="7a304-203">**AssociationType**: References the relationship between the child object and the parent.</span></span> <span data-ttu-id="7a304-204">Valid values are *Contains* or *Associated*.</span><span class="sxs-lookup"><span data-stu-id="7a304-204">Valid values are *Contains* or *Associated*.</span></span>
    - <span data-ttu-id="7a304-205">**Name**: The name of the referenced resource.</span><span class="sxs-lookup"><span data-stu-id="7a304-205">**Name**: The name of the referenced resource.</span></span>
    - <span data-ttu-id="7a304-206">**ResourceId**:  - The URI of the resource referenced in the association.</span><span class="sxs-lookup"><span data-stu-id="7a304-206">**ResourceId**:  - The URI of the resource referenced in the association.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7a304-207">Next steps</span><span class="sxs-lookup"><span data-stu-id="7a304-207">Next steps</span></span>

- <span data-ttu-id="7a304-208">Learn how to [diagnose a network traffic filter problem to or from a VM](diagnose-vm-network-traffic-filtering-problem.md) using Network Watcher's IP flow verify capability</span><span class="sxs-lookup"><span data-stu-id="7a304-208">Learn how to [diagnose a network traffic filter problem to or from a VM](diagnose-vm-network-traffic-filtering-problem.md) using Network Watcher's IP flow verify capability</span></span>
- <span data-ttu-id="7a304-209">Learn how to [diagnose a network traffic routing problem from a VM](diagnose-vm-network-routing-problem.md) using Network Watcher's next hop capability</span><span class="sxs-lookup"><span data-stu-id="7a304-209">Learn how to [diagnose a network traffic routing problem from a VM](diagnose-vm-network-routing-problem.md) using Network Watcher's next hop capability</span></span>
