---
title: Manage multiple SQL databases with elastic pools- Azure | Microsoft Docs
description: Manage and scale multiple SQL databases - hundreds and thousands - using elastic pools. One price for resources you can distribute where needed.
keywords: multiple databases, database resources, database performance
services: sql-database
author: CarlRabeler
manager: craigg
ms.service: sql-database
ms.subservice: elastic-pool
ms.custom: DBs & servers
ms.date: 07/27/2018
ms.author: ninarn
ms.topic: conceptual
ms.openlocfilehash: ffc74eafed81c3dad836cfe70050244cb66a820b
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44800285"
---
# <a name="elastic-pools-help-you-manage-and-scale-multiple-azure-sql-databases"></a><span data-ttu-id="5e1ca-105">Elastic pools help you manage and scale multiple Azure SQL databases</span><span class="sxs-lookup"><span data-stu-id="5e1ca-105">Elastic pools help you manage and scale multiple Azure SQL databases</span></span>

<span data-ttu-id="5e1ca-106">SQL Database elastic pools are a simple, cost-effective solution for managing and scaling multiple databases that have varying and unpredictable usage demands.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-106">SQL Database elastic pools are a simple, cost-effective solution for managing and scaling multiple databases that have varying and unpredictable usage demands.</span></span> <span data-ttu-id="5e1ca-107">The databases in an elastic pool are on a single Azure SQL Database server and share a set number of resources at a set price.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-107">The databases in an elastic pool are on a single Azure SQL Database server and share a set number of resources at a set price.</span></span> <span data-ttu-id="5e1ca-108">Elastic pools in Azure SQL Database enable SaaS developers to optimize the price performance for a group of databases within a prescribed budget while delivering performance elasticity for each database.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-108">Elastic pools in Azure SQL Database enable SaaS developers to optimize the price performance for a group of databases within a prescribed budget while delivering performance elasticity for each database.</span></span>

## <a name="what-are-sql-elastic-pools"></a><span data-ttu-id="5e1ca-109">What are SQL elastic pools?</span><span class="sxs-lookup"><span data-stu-id="5e1ca-109">What are SQL elastic pools?</span></span>

<span data-ttu-id="5e1ca-110">SaaS developers build applications on top of large scale data-tiers consisting of multiple databases.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-110">SaaS developers build applications on top of large scale data-tiers consisting of multiple databases.</span></span> <span data-ttu-id="5e1ca-111">A common application pattern is to provision a single database for each customer.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-111">A common application pattern is to provision a single database for each customer.</span></span> <span data-ttu-id="5e1ca-112">But different customers often have varying and unpredictable usage patterns, and it is difficult to predict the resource requirements of each individual database user.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-112">But different customers often have varying and unpredictable usage patterns, and it is difficult to predict the resource requirements of each individual database user.</span></span> <span data-ttu-id="5e1ca-113">Traditionally, you had two options:</span><span class="sxs-lookup"><span data-stu-id="5e1ca-113">Traditionally, you had two options:</span></span>

- <span data-ttu-id="5e1ca-114">Over-provision resources based on peak usage and over pay, or</span><span class="sxs-lookup"><span data-stu-id="5e1ca-114">Over-provision resources based on peak usage and over pay, or</span></span>
- <span data-ttu-id="5e1ca-115">Under-provision to save cost, at the expense of performance and customer satisfaction during peaks.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-115">Under-provision to save cost, at the expense of performance and customer satisfaction during peaks.</span></span>

<span data-ttu-id="5e1ca-116">Elastic pools solve this problem by ensuring that databases get the performance resources they need when they need it.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-116">Elastic pools solve this problem by ensuring that databases get the performance resources they need when they need it.</span></span> <span data-ttu-id="5e1ca-117">They provide a simple resource allocation mechanism within a predictable budget.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-117">They provide a simple resource allocation mechanism within a predictable budget.</span></span> <span data-ttu-id="5e1ca-118">To learn more about design patterns for SaaS applications using elastic pools, see [Design Patterns for Multi-tenant SaaS Applications with Azure SQL Database](sql-database-design-patterns-multi-tenancy-saas-applications.md).</span><span class="sxs-lookup"><span data-stu-id="5e1ca-118">To learn more about design patterns for SaaS applications using elastic pools, see [Design Patterns for Multi-tenant SaaS Applications with Azure SQL Database](sql-database-design-patterns-multi-tenancy-saas-applications.md).</span></span>

> [!VIDEO https://channel9.msdn.com/Blogs/Azure/Elastic-databases-helps-SaaS-developers-tame-explosive-growth/player]
>

<span data-ttu-id="5e1ca-119">Elastic pools enable the developer to purchase resources for a pool shared by multiple databases to accommodate unpredictable periods of usage by individual databases.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-119">Elastic pools enable the developer to purchase resources for a pool shared by multiple databases to accommodate unpredictable periods of usage by individual databases.</span></span> <span data-ttu-id="5e1ca-120">You can configure resources for the pool based either on the [DTU-based purchasing model](sql-database-service-tiers-dtu.md) or the [vCore-based purchasing model](sql-database-service-tiers-vcore.md).</span><span class="sxs-lookup"><span data-stu-id="5e1ca-120">You can configure resources for the pool based either on the [DTU-based purchasing model](sql-database-service-tiers-dtu.md) or the [vCore-based purchasing model](sql-database-service-tiers-vcore.md).</span></span> <span data-ttu-id="5e1ca-121">The resource requirement for a pool is determined by the aggregate utilization of its databases.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-121">The resource requirement for a pool is determined by the aggregate utilization of its databases.</span></span> <span data-ttu-id="5e1ca-122">The amount of resources available to the pool is controlled by the developer budget.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-122">The amount of resources available to the pool is controlled by the developer budget.</span></span> <span data-ttu-id="5e1ca-123">The developer simply adds databases to the pool, sets the minimum and maximum resources for the databases (either minimum and maximum DTUs or minimum or maximum vCores depending on your choice of resourcing model), and then sets the resources of the pool based on their budget.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-123">The developer simply adds databases to the pool, sets the minimum and maximum resources for the databases (either minimum and maximum DTUs or minimum or maximum vCores depending on your choice of resourcing model), and then sets the resources of the pool based on their budget.</span></span> <span data-ttu-id="5e1ca-124">A developer can use pools to seamlessly grow their service from a lean startup to a mature business at ever-increasing scale.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-124">A developer can use pools to seamlessly grow their service from a lean startup to a mature business at ever-increasing scale.</span></span>

<span data-ttu-id="5e1ca-125">Within the pool, individual databases are given the flexibility to auto-scale within set parameters.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-125">Within the pool, individual databases are given the flexibility to auto-scale within set parameters.</span></span> <span data-ttu-id="5e1ca-126">Under heavy load, a database can consume more resources to meet demand.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-126">Under heavy load, a database can consume more resources to meet demand.</span></span> <span data-ttu-id="5e1ca-127">Databases under light loads consume less, and databases under no load consume no resources.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-127">Databases under light loads consume less, and databases under no load consume no resources.</span></span> <span data-ttu-id="5e1ca-128">Provisioning resources for the entire pool rather than for single databases simplifies your management tasks.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-128">Provisioning resources for the entire pool rather than for single databases simplifies your management tasks.</span></span> <span data-ttu-id="5e1ca-129">Plus, you have a predictable budget for the pool.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-129">Plus, you have a predictable budget for the pool.</span></span> <span data-ttu-id="5e1ca-130">Additional resources can be added to an existing pool with no database downtime, except that the databases may need to be moved to provide the additional compute resources for the new eDTU reservation.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-130">Additional resources can be added to an existing pool with no database downtime, except that the databases may need to be moved to provide the additional compute resources for the new eDTU reservation.</span></span> <span data-ttu-id="5e1ca-131">Similarly, if extra resources are no longer needed they can be removed from an existing pool at any point in time.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-131">Similarly, if extra resources are no longer needed they can be removed from an existing pool at any point in time.</span></span> <span data-ttu-id="5e1ca-132">And you can add or subtract databases to the pool.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-132">And you can add or subtract databases to the pool.</span></span> <span data-ttu-id="5e1ca-133">If a database is predictably under-utilizing resources, move it out.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-133">If a database is predictably under-utilizing resources, move it out.</span></span>

> [!NOTE]
> <span data-ttu-id="5e1ca-134">When moving databases into or out of an elastic pool, there is no downtime except for a brief period of time (on the order of seconds) at the end of the operation when database connections are dropped.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-134">When moving databases into or out of an elastic pool, there is no downtime except for a brief period of time (on the order of seconds) at the end of the operation when database connections are dropped.</span></span>

## <a name="when-should-you-consider-a-sql-database-elastic-pool"></a><span data-ttu-id="5e1ca-135">When should you consider a SQL Database elastic pool?</span><span class="sxs-lookup"><span data-stu-id="5e1ca-135">When should you consider a SQL Database elastic pool?</span></span>

<span data-ttu-id="5e1ca-136">Pools are well suited for a large number of databases with specific utilization patterns.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-136">Pools are well suited for a large number of databases with specific utilization patterns.</span></span> <span data-ttu-id="5e1ca-137">For a given database, this pattern is characterized by low average utilization with relatively infrequent utilization spikes.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-137">For a given database, this pattern is characterized by low average utilization with relatively infrequent utilization spikes.</span></span>

<span data-ttu-id="5e1ca-138">The more databases you can add to a pool the greater your savings become.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-138">The more databases you can add to a pool the greater your savings become.</span></span> <span data-ttu-id="5e1ca-139">Depending on your application utilization pattern, it is possible to see savings with as few as two S3 databases.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-139">Depending on your application utilization pattern, it is possible to see savings with as few as two S3 databases.</span></span>

<span data-ttu-id="5e1ca-140">The following sections help you understand how to assess if your specific collection of databases can benefit from being in a pool.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-140">The following sections help you understand how to assess if your specific collection of databases can benefit from being in a pool.</span></span> <span data-ttu-id="5e1ca-141">The examples use Standard pools but the same principles also apply to Basic and Premium pools.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-141">The examples use Standard pools but the same principles also apply to Basic and Premium pools.</span></span>

### <a name="assessing-database-utilization-patterns"></a><span data-ttu-id="5e1ca-142">Assessing database utilization patterns</span><span class="sxs-lookup"><span data-stu-id="5e1ca-142">Assessing database utilization patterns</span></span>

<span data-ttu-id="5e1ca-143">The following figure shows an example of a database that spends much time idle, but also periodically spikes with activity.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-143">The following figure shows an example of a database that spends much time idle, but also periodically spikes with activity.</span></span> <span data-ttu-id="5e1ca-144">This is a utilization pattern that is suited for a pool:</span><span class="sxs-lookup"><span data-stu-id="5e1ca-144">This is a utilization pattern that is suited for a pool:</span></span>

   ![a single database suitable for a pool](./media/sql-database-elastic-pool/one-database.png)

<span data-ttu-id="5e1ca-146">For the five-minute period illustrated, DB1 peaks up to 90 DTUs, but its overall average usage is less than five DTUs.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-146">For the five-minute period illustrated, DB1 peaks up to 90 DTUs, but its overall average usage is less than five DTUs.</span></span> <span data-ttu-id="5e1ca-147">An S3 performance level is required to run this workload in a single database, but this leaves most of the resources unused during periods of low activity.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-147">An S3 performance level is required to run this workload in a single database, but this leaves most of the resources unused during periods of low activity.</span></span>

<span data-ttu-id="5e1ca-148">A pool allows these unused DTUs to be shared across multiple databases, and so reduces the DTUs needed and overall cost.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-148">A pool allows these unused DTUs to be shared across multiple databases, and so reduces the DTUs needed and overall cost.</span></span>

<span data-ttu-id="5e1ca-149">Building on the previous example, suppose there are additional databases with similar utilization patterns as DB1.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-149">Building on the previous example, suppose there are additional databases with similar utilization patterns as DB1.</span></span> <span data-ttu-id="5e1ca-150">In the next two figures below, the utilization of four databases and 20 databases are layered onto the same graph to illustrate the non-overlapping nature of their utilization over time using the DTU-based purchasing model:</span><span class="sxs-lookup"><span data-stu-id="5e1ca-150">In the next two figures below, the utilization of four databases and 20 databases are layered onto the same graph to illustrate the non-overlapping nature of their utilization over time using the DTU-based purchasing model:</span></span>

   ![four databases with a utilization pattern suitable for a pool](./media/sql-database-elastic-pool/four-databases.png)

   ![twenty databases with a utilization pattern suitable for a pool](./media/sql-database-elastic-pool/twenty-databases.png)

<span data-ttu-id="5e1ca-153">The aggregate DTU utilization across all 20 databases is illustrated by the black line in the preceding figure.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-153">The aggregate DTU utilization across all 20 databases is illustrated by the black line in the preceding figure.</span></span> <span data-ttu-id="5e1ca-154">This shows that the aggregate DTU utilization never exceeds 100 DTUs, and indicates that the 20 databases can share 100 eDTUs over this time period.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-154">This shows that the aggregate DTU utilization never exceeds 100 DTUs, and indicates that the 20 databases can share 100 eDTUs over this time period.</span></span> <span data-ttu-id="5e1ca-155">This results in a 20x reduction in DTUs and a 13x price reduction compared to placing each of the databases in S3 performance levels for single databases.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-155">This results in a 20x reduction in DTUs and a 13x price reduction compared to placing each of the databases in S3 performance levels for single databases.</span></span>

<span data-ttu-id="5e1ca-156">This example is ideal for the following reasons:</span><span class="sxs-lookup"><span data-stu-id="5e1ca-156">This example is ideal for the following reasons:</span></span>

* <span data-ttu-id="5e1ca-157">There are large differences between peak utilization and average utilization per database.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-157">There are large differences between peak utilization and average utilization per database.</span></span>
* <span data-ttu-id="5e1ca-158">The peak utilization for each database occurs at different points in time.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-158">The peak utilization for each database occurs at different points in time.</span></span>
* <span data-ttu-id="5e1ca-159">eDTUs are shared between many databases.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-159">eDTUs are shared between many databases.</span></span>

<span data-ttu-id="5e1ca-160">The price of a pool is a function of the pool eDTUs.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-160">The price of a pool is a function of the pool eDTUs.</span></span> <span data-ttu-id="5e1ca-161">While the eDTU unit price for a pool is 1.5x greater than the DTU unit price for a single database, **pool eDTUs can be shared by many databases and fewer total eDTUs are needed**.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-161">While the eDTU unit price for a pool is 1.5x greater than the DTU unit price for a single database, **pool eDTUs can be shared by many databases and fewer total eDTUs are needed**.</span></span> <span data-ttu-id="5e1ca-162">These distinctions in pricing and eDTU sharing are the basis of the price savings potential that pools can provide.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-162">These distinctions in pricing and eDTU sharing are the basis of the price savings potential that pools can provide.</span></span>

<span data-ttu-id="5e1ca-163">The following rules of thumb related to database count and database utilization help to ensure that a pool delivers reduced cost compared to using performance levels for single databases.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-163">The following rules of thumb related to database count and database utilization help to ensure that a pool delivers reduced cost compared to using performance levels for single databases.</span></span>

### <a name="minimum-number-of-databases"></a><span data-ttu-id="5e1ca-164">Minimum number of databases</span><span class="sxs-lookup"><span data-stu-id="5e1ca-164">Minimum number of databases</span></span>

<span data-ttu-id="5e1ca-165">If the aggregate amount of resources for single databases is more than 1.5x the resources needed for the pool, then an elastic pool is more cost effective.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-165">If the aggregate amount of resources for single databases is more than 1.5x the resources needed for the pool, then an elastic pool is more cost effective.</span></span>

<span data-ttu-id="5e1ca-166">***DTU-based purchasing model example***</span><span class="sxs-lookup"><span data-stu-id="5e1ca-166">***DTU-based purchasing model example***</span></span><br>
<span data-ttu-id="5e1ca-167">At least two S3 databases or at least 15 S0 databases are needed for a 100 eDTU pool to be more cost-effective than using performance levels for single databases.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-167">At least two S3 databases or at least 15 S0 databases are needed for a 100 eDTU pool to be more cost-effective than using performance levels for single databases.</span></span>

### <a name="maximum-number-of-concurrently-peaking-databases"></a><span data-ttu-id="5e1ca-168">Maximum number of concurrently peaking databases</span><span class="sxs-lookup"><span data-stu-id="5e1ca-168">Maximum number of concurrently peaking databases</span></span>

<span data-ttu-id="5e1ca-169">By sharing resources, not all databases in a pool can simultaneously use resources up to the limit available for single databases.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-169">By sharing resources, not all databases in a pool can simultaneously use resources up to the limit available for single databases.</span></span> <span data-ttu-id="5e1ca-170">The fewer databases that concurrently peak, the lower the pool resources can be set and the more cost-effective the pool becomes.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-170">The fewer databases that concurrently peak, the lower the pool resources can be set and the more cost-effective the pool becomes.</span></span> <span data-ttu-id="5e1ca-171">In general, not more than 2/3 (or 67%) of the databases in the pool should simultaneously peak to their resources limit.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-171">In general, not more than 2/3 (or 67%) of the databases in the pool should simultaneously peak to their resources limit.</span></span>

<span data-ttu-id="5e1ca-172">***DTU-based purchasing model example***</span><span class="sxs-lookup"><span data-stu-id="5e1ca-172">***DTU-based purchasing model example***</span></span><br>
<span data-ttu-id="5e1ca-173">To reduce costs for three S3 databases in a 200 eDTU pool, at most two of these databases can simultaneously peak in their utilization.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-173">To reduce costs for three S3 databases in a 200 eDTU pool, at most two of these databases can simultaneously peak in their utilization.</span></span> <span data-ttu-id="5e1ca-174">Otherwise, if more than two of these four S3 databases simultaneously peak, the pool would have to be sized to more than 200 eDTUs.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-174">Otherwise, if more than two of these four S3 databases simultaneously peak, the pool would have to be sized to more than 200 eDTUs.</span></span> <span data-ttu-id="5e1ca-175">If the pool is resized to more than 200 eDTUs, more S3 databases would need to be added to the pool to keep costs lower than performance levels for single databases.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-175">If the pool is resized to more than 200 eDTUs, more S3 databases would need to be added to the pool to keep costs lower than performance levels for single databases.</span></span>

<span data-ttu-id="5e1ca-176">Note this example does not consider utilization of other databases in the pool.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-176">Note this example does not consider utilization of other databases in the pool.</span></span> <span data-ttu-id="5e1ca-177">If all databases have some utilization at any given point in time, then less than 2/3 (or 67%) of the databases can peak simultaneously.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-177">If all databases have some utilization at any given point in time, then less than 2/3 (or 67%) of the databases can peak simultaneously.</span></span>

### <a name="resource-utilization-per-database"></a><span data-ttu-id="5e1ca-178">Resource utilization per database</span><span class="sxs-lookup"><span data-stu-id="5e1ca-178">Resource utilization per database</span></span>
<span data-ttu-id="5e1ca-179">A large difference between the peak and average utilization of a database indicates prolonged periods of low utilization and short periods of high utilization.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-179">A large difference between the peak and average utilization of a database indicates prolonged periods of low utilization and short periods of high utilization.</span></span> <span data-ttu-id="5e1ca-180">This utilization pattern is ideal for sharing resources across databases.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-180">This utilization pattern is ideal for sharing resources across databases.</span></span> <span data-ttu-id="5e1ca-181">A database should be considered for a pool when its peak utilization is about 1.5 times greater than its average utilization.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-181">A database should be considered for a pool when its peak utilization is about 1.5 times greater than its average utilization.</span></span>

<span data-ttu-id="5e1ca-182">***DTU-based purchasing model example***</span><span class="sxs-lookup"><span data-stu-id="5e1ca-182">***DTU-based purchasing model example***</span></span><br>
<span data-ttu-id="5e1ca-183">An S3 database that peaks to 100 DTUs and on average uses 67 DTUs or less is a good candidate for sharing eDTUs in a pool.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-183">An S3 database that peaks to 100 DTUs and on average uses 67 DTUs or less is a good candidate for sharing eDTUs in a pool.</span></span> <span data-ttu-id="5e1ca-184">Alternatively, an S1 database that peaks to 20 DTUs and on average uses 13 DTUs or less is a good candidate for a pool.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-184">Alternatively, an S1 database that peaks to 20 DTUs and on average uses 13 DTUs or less is a good candidate for a pool.</span></span>

## <a name="how-do-i-choose-the-correct-pool-size"></a><span data-ttu-id="5e1ca-185">How do I choose the correct pool size?</span><span class="sxs-lookup"><span data-stu-id="5e1ca-185">How do I choose the correct pool size?</span></span>

<span data-ttu-id="5e1ca-186">The best size for a pool depends on the aggregate resources needed for all databases in the pool.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-186">The best size for a pool depends on the aggregate resources needed for all databases in the pool.</span></span> <span data-ttu-id="5e1ca-187">This involves determining the following:</span><span class="sxs-lookup"><span data-stu-id="5e1ca-187">This involves determining the following:</span></span>

* <span data-ttu-id="5e1ca-188">Maximum resources utilized by all databases in the pool (either maximum DTUs or maximum vCores depending on your choice of resourcing model).</span><span class="sxs-lookup"><span data-stu-id="5e1ca-188">Maximum resources utilized by all databases in the pool (either maximum DTUs or maximum vCores depending on your choice of resourcing model).</span></span>
* <span data-ttu-id="5e1ca-189">Maximum storage bytes utilized by all databases in the pool.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-189">Maximum storage bytes utilized by all databases in the pool.</span></span>

<span data-ttu-id="5e1ca-190">For available service tiers for each resource model, see the [DTU-based purchasing model](sql-database-service-tiers-dtu.md) or the [vCore-based purchasing model](sql-database-service-tiers-vcore.md).</span><span class="sxs-lookup"><span data-stu-id="5e1ca-190">For available service tiers for each resource model, see the [DTU-based purchasing model](sql-database-service-tiers-dtu.md) or the [vCore-based purchasing model](sql-database-service-tiers-vcore.md).</span></span>

<span data-ttu-id="5e1ca-191">SQL Database automatically evaluates the historical resource usage of databases in an existing SQL Database server and recommends the appropriate pool configuration in the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-191">SQL Database automatically evaluates the historical resource usage of databases in an existing SQL Database server and recommends the appropriate pool configuration in the Azure portal.</span></span> <span data-ttu-id="5e1ca-192">In addition to the recommendations, a built-in experience estimates the eDTU usage for a custom group of databases on the server.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-192">In addition to the recommendations, a built-in experience estimates the eDTU usage for a custom group of databases on the server.</span></span> <span data-ttu-id="5e1ca-193">This enables you to do a "what-if" analysis by interactively adding databases to the pool and removing them to get resource usage analysis and sizing advice before committing your changes.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-193">This enables you to do a "what-if" analysis by interactively adding databases to the pool and removing them to get resource usage analysis and sizing advice before committing your changes.</span></span> <span data-ttu-id="5e1ca-194">For a how-to, see [Monitor, manage, and size an elastic pool](#monitor-an-elastic-pool-and-its-databases).</span><span class="sxs-lookup"><span data-stu-id="5e1ca-194">For a how-to, see [Monitor, manage, and size an elastic pool](#monitor-an-elastic-pool-and-its-databases).</span></span>

<span data-ttu-id="5e1ca-195">In cases where you can't use tooling, the following step-by-step can help you estimate whether a pool is more cost-effective than single databases:</span><span class="sxs-lookup"><span data-stu-id="5e1ca-195">In cases where you can't use tooling, the following step-by-step can help you estimate whether a pool is more cost-effective than single databases:</span></span>

1. <span data-ttu-id="5e1ca-196">Estimate the eDTUs or vCores needed for the pool as follows:</span><span class="sxs-lookup"><span data-stu-id="5e1ca-196">Estimate the eDTUs or vCores needed for the pool as follows:</span></span>

   <span data-ttu-id="5e1ca-197">For DTU-based purchasing model: MAX(<*Total number of DBs* X *average DTU utilization per DB*>,</span><span class="sxs-lookup"><span data-stu-id="5e1ca-197">For DTU-based purchasing model: MAX(<*Total number of DBs* X *average DTU utilization per DB*>,</span></span><br><span data-ttu-id="5e1ca-198">
   <\*Number of concurrently peaking DBs\* X \*Peak DTU utilization per DB*)</span><span class="sxs-lookup"><span data-stu-id="5e1ca-198">
   <\*Number of concurrently peaking DBs\* X \*Peak DTU utilization per DB*)</span></span>

   <span data-ttu-id="5e1ca-199">For vCore-based purchasing model: MAX(<*Total number of DBs* X *average vCore utilization per DB*>,</span><span class="sxs-lookup"><span data-stu-id="5e1ca-199">For vCore-based purchasing model: MAX(<*Total number of DBs* X *average vCore utilization per DB*>,</span></span><br><span data-ttu-id="5e1ca-200">
   <\*Number of concurrently peaking DBs\* X \*Peak vCore utilization per DB*)</span><span class="sxs-lookup"><span data-stu-id="5e1ca-200">
   <\*Number of concurrently peaking DBs\* X \*Peak vCore utilization per DB*)</span></span>

2. <span data-ttu-id="5e1ca-201">Estimate the storage space needed for the pool by adding the number of bytes needed for all the databases in the pool.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-201">Estimate the storage space needed for the pool by adding the number of bytes needed for all the databases in the pool.</span></span> <span data-ttu-id="5e1ca-202">Then determine the eDTU pool size that provides this amount of storage.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-202">Then determine the eDTU pool size that provides this amount of storage.</span></span>
3. <span data-ttu-id="5e1ca-203">For the DTU-based purchasing model, take the larger of the eDTU estimates from Step 1 and Step 2.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-203">For the DTU-based purchasing model, take the larger of the eDTU estimates from Step 1 and Step 2.</span></span> <span data-ttu-id="5e1ca-204">For the vCore-based purchasing model, take the vCore estimate from Step 1.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-204">For the vCore-based purchasing model, take the vCore estimate from Step 1.</span></span>
4. <span data-ttu-id="5e1ca-205">See the [SQL Database pricing page](https://azure.microsoft.com/pricing/details/sql-database/) and find the smallest pool size that is greater than the estimate from Step 3.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-205">See the [SQL Database pricing page](https://azure.microsoft.com/pricing/details/sql-database/) and find the smallest pool size that is greater than the estimate from Step 3.</span></span>
5. <span data-ttu-id="5e1ca-206">Compare the pool price from Step 5 to the price of using the appropriate performance levels for single databases.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-206">Compare the pool price from Step 5 to the price of using the appropriate performance levels for single databases.</span></span>

## <a name="using-other-sql-database-features-with-elastic-pools"></a><span data-ttu-id="5e1ca-207">Using other SQL Database features with elastic pools</span><span class="sxs-lookup"><span data-stu-id="5e1ca-207">Using other SQL Database features with elastic pools</span></span>

### <a name="elastic-jobs-and-elastic-pools"></a><span data-ttu-id="5e1ca-208">Elastic jobs and elastic pools</span><span class="sxs-lookup"><span data-stu-id="5e1ca-208">Elastic jobs and elastic pools</span></span>

<span data-ttu-id="5e1ca-209">With a pool, management tasks are simplified by running scripts in **[elastic jobs](sql-database-elastic-jobs-overview.md)**.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-209">With a pool, management tasks are simplified by running scripts in **[elastic jobs](sql-database-elastic-jobs-overview.md)**.</span></span> <span data-ttu-id="5e1ca-210">An elastic job eliminates most of tedium associated with large numbers of databases.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-210">An elastic job eliminates most of tedium associated with large numbers of databases.</span></span> <span data-ttu-id="5e1ca-211">To begin, see [Getting started with Elastic jobs](sql-database-elastic-jobs-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="5e1ca-211">To begin, see [Getting started with Elastic jobs](sql-database-elastic-jobs-getting-started.md).</span></span>

<span data-ttu-id="5e1ca-212">For more information about other database tools for working with multiple databases, see [Scaling out with Azure SQL Database](sql-database-elastic-scale-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="5e1ca-212">For more information about other database tools for working with multiple databases, see [Scaling out with Azure SQL Database](sql-database-elastic-scale-introduction.md).</span></span>

### <a name="business-continuity-options-for-databases-in-an-elastic-pool"></a><span data-ttu-id="5e1ca-213">Business continuity options for databases in an elastic pool</span><span class="sxs-lookup"><span data-stu-id="5e1ca-213">Business continuity options for databases in an elastic pool</span></span>
<span data-ttu-id="5e1ca-214">Pooled databases generally support the same [business continuity features](sql-database-business-continuity.md) that are available to single databases.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-214">Pooled databases generally support the same [business continuity features](sql-database-business-continuity.md) that are available to single databases.</span></span>

- <span data-ttu-id="5e1ca-215">**Point-in-time restore**: Point-in-time restore uses automatic database backups to recover a database in a pool to a specific point in time.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-215">**Point-in-time restore**: Point-in-time restore uses automatic database backups to recover a database in a pool to a specific point in time.</span></span> <span data-ttu-id="5e1ca-216">See [Point-In-Time Restore](sql-database-recovery-using-backups.md#point-in-time-restore)</span><span class="sxs-lookup"><span data-stu-id="5e1ca-216">See [Point-In-Time Restore](sql-database-recovery-using-backups.md#point-in-time-restore)</span></span>

- <span data-ttu-id="5e1ca-217">**Geo-restore**: Geo-restore provides the default recovery option when a database is unavailable because of an incident in the region where the database is hosted.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-217">**Geo-restore**: Geo-restore provides the default recovery option when a database is unavailable because of an incident in the region where the database is hosted.</span></span> <span data-ttu-id="5e1ca-218">See [Restore an Azure SQL Database or failover to a secondary](sql-database-disaster-recovery.md)</span><span class="sxs-lookup"><span data-stu-id="5e1ca-218">See [Restore an Azure SQL Database or failover to a secondary](sql-database-disaster-recovery.md)</span></span>

- <span data-ttu-id="5e1ca-219">**Active geo-replication**: For applications that have more aggressive recovery requirements than geo-restore can offer, configure [active geo-replication](sql-database-geo-replication-overview.md).</span><span class="sxs-lookup"><span data-stu-id="5e1ca-219">**Active geo-replication**: For applications that have more aggressive recovery requirements than geo-restore can offer, configure [active geo-replication](sql-database-geo-replication-overview.md).</span></span>

## <a name="creating-a-new-sql-database-elastic-pool-using-the-azure-portal"></a><span data-ttu-id="5e1ca-220">Creating a new SQL Database elastic pool using the Azure portal</span><span class="sxs-lookup"><span data-stu-id="5e1ca-220">Creating a new SQL Database elastic pool using the Azure portal</span></span>

<span data-ttu-id="5e1ca-221">There are two ways you can create an elastic pool in the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-221">There are two ways you can create an elastic pool in the Azure portal.</span></span>
1. <span data-ttu-id="5e1ca-222">You can create an elastic pool by searching **SQL elastic pool** in the **Marketplace** or clicking **+Add** on the SQL elastic pools browse blade.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-222">You can create an elastic pool by searching **SQL elastic pool** in the **Marketplace** or clicking **+Add** on the SQL elastic pools browse blade.</span></span> <span data-ttu-id="5e1ca-223">You are able to specify a new or existing server through this pool provisioning workflow.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-223">You are able to specify a new or existing server through this pool provisioning workflow.</span></span>
2. <span data-ttu-id="5e1ca-224">Or you can create an elastic pool by navigating to an existing SQL server and clicking **Create pool** to create a pool directly into that server.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-224">Or you can create an elastic pool by navigating to an existing SQL server and clicking **Create pool** to create a pool directly into that server.</span></span> <span data-ttu-id="5e1ca-225">The only difference here is you skip the step where you specify the server during the pool provisioning workflow.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-225">The only difference here is you skip the step where you specify the server during the pool provisioning workflow.</span></span>

> [!NOTE]
> <span data-ttu-id="5e1ca-226">You can create multiple pools on a server, but you can't add databases from different servers into the same pool.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-226">You can create multiple pools on a server, but you can't add databases from different servers into the same pool.</span></span>

<span data-ttu-id="5e1ca-227">The pool's service tier determines the features available to the elastics in the pool, and the maximum amount of resources available to each database.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-227">The pool's service tier determines the features available to the elastics in the pool, and the maximum amount of resources available to each database.</span></span> <span data-ttu-id="5e1ca-228">For details, see Resource limits for elastic pools in the [DTU model](sql-database-dtu-resource-limits-elastic-pools.md#elastic-pool-storage-sizes-and-performance-levels).</span><span class="sxs-lookup"><span data-stu-id="5e1ca-228">For details, see Resource limits for elastic pools in the [DTU model](sql-database-dtu-resource-limits-elastic-pools.md#elastic-pool-storage-sizes-and-performance-levels).</span></span> <span data-ttu-id="5e1ca-229">For vCore-based resource limits for elastic pools, see [vCore-based resource limits - elastic pools](sql-database-vcore-resource-limits-elastic-pools.md).</span><span class="sxs-lookup"><span data-stu-id="5e1ca-229">For vCore-based resource limits for elastic pools, see [vCore-based resource limits - elastic pools](sql-database-vcore-resource-limits-elastic-pools.md).</span></span>

<span data-ttu-id="5e1ca-230">To configure the resources and pricing of the pool, click **Configure pool**.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-230">To configure the resources and pricing of the pool, click **Configure pool**.</span></span> <span data-ttu-id="5e1ca-231">Then select a service tier, add databases to the pool, and configure the resource limits for the pool and its databases.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-231">Then select a service tier, add databases to the pool, and configure the resource limits for the pool and its databases.</span></span>

<span data-ttu-id="5e1ca-232">When you have completed configuring the pool, you can click 'Apply', name the pool, and click 'OK' to create the pool.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-232">When you have completed configuring the pool, you can click 'Apply', name the pool, and click 'OK' to create the pool.</span></span>

## <a name="monitor-an-elastic-pool-and-its-databases"></a><span data-ttu-id="5e1ca-233">Monitor an elastic pool and its databases</span><span class="sxs-lookup"><span data-stu-id="5e1ca-233">Monitor an elastic pool and its databases</span></span>

<span data-ttu-id="5e1ca-234">In the Azure portal, you can monitor the utilization of an elastic pool and the databases within that pool.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-234">In the Azure portal, you can monitor the utilization of an elastic pool and the databases within that pool.</span></span> <span data-ttu-id="5e1ca-235">You can also make a set of changes to your elastic pool and submit all changes at the same time.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-235">You can also make a set of changes to your elastic pool and submit all changes at the same time.</span></span> <span data-ttu-id="5e1ca-236">These changes include adding or removing databases, changing your elastic pool settings, or changing your database settings.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-236">These changes include adding or removing databases, changing your elastic pool settings, or changing your database settings.</span></span>

<span data-ttu-id="5e1ca-237">To start monitoring your elastic pool, find and open an elastic pool in the portal.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-237">To start monitoring your elastic pool, find and open an elastic pool in the portal.</span></span> <span data-ttu-id="5e1ca-238">You will first see a screen that gives you an overview of the status of your elastic pool.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-238">You will first see a screen that gives you an overview of the status of your elastic pool.</span></span> <span data-ttu-id="5e1ca-239">This includes:</span><span class="sxs-lookup"><span data-stu-id="5e1ca-239">This includes:</span></span>

* <span data-ttu-id="5e1ca-240">Monitoring charts showing resources usage of the elastic pool</span><span class="sxs-lookup"><span data-stu-id="5e1ca-240">Monitoring charts showing resources usage of the elastic pool</span></span>
* <span data-ttu-id="5e1ca-241">Recent alerts and recommendations, if available, for the elastic pool</span><span class="sxs-lookup"><span data-stu-id="5e1ca-241">Recent alerts and recommendations, if available, for the elastic pool</span></span>

<span data-ttu-id="5e1ca-242">The following graphic shows an example elastic pool:</span><span class="sxs-lookup"><span data-stu-id="5e1ca-242">The following graphic shows an example elastic pool:</span></span>

![Pool view](./media/sql-database-elastic-pool-manage-portal/basic.png)

<span data-ttu-id="5e1ca-244">If you want more information about the pool you can click on any of the available information in this overview.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-244">If you want more information about the pool you can click on any of the available information in this overview.</span></span> <span data-ttu-id="5e1ca-245">Clicking on the **Resource utilization** chart will take you to the Azure Monitoring view where you can customize the metrics and time window shown in the chart.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-245">Clicking on the **Resource utilization** chart will take you to the Azure Monitoring view where you can customize the metrics and time window shown in the chart.</span></span> <span data-ttu-id="5e1ca-246">Clicking on any available notifications will take you to a blade that shows the full details of that alert or recommendation.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-246">Clicking on any available notifications will take you to a blade that shows the full details of that alert or recommendation.</span></span>

<span data-ttu-id="5e1ca-247">If you would like to monitor the databases inside your pool, you can click on **Database resource utilization** in the **Monitoring** section of the resource menu on the left.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-247">If you would like to monitor the databases inside your pool, you can click on **Database resource utilization** in the **Monitoring** section of the resource menu on the left.</span></span>

![Database resource utilization page](./media/sql-database-elastic-pool-manage-portal/db-utilization.png)

### <a name="to-customize-the-chart-display"></a><span data-ttu-id="5e1ca-249">To customize the chart display</span><span class="sxs-lookup"><span data-stu-id="5e1ca-249">To customize the chart display</span></span>

<span data-ttu-id="5e1ca-250">You can edit the chart and the metric page to display other metrics such as CPU percentage, data IO percentage, and log IO percentage used.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-250">You can edit the chart and the metric page to display other metrics such as CPU percentage, data IO percentage, and log IO percentage used.</span></span>

<span data-ttu-id="5e1ca-251">On the **Edit Chart** form, you can select a fixed time range or click **custom** to select any 24-hour window in the last two weeks, and then select the resources to monitor.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-251">On the **Edit Chart** form, you can select a fixed time range or click **custom** to select any 24-hour window in the last two weeks, and then select the resources to monitor.</span></span>

### <a name="to-select-databases-to-monitor"></a><span data-ttu-id="5e1ca-252">To select databases to monitor</span><span class="sxs-lookup"><span data-stu-id="5e1ca-252">To select databases to monitor</span></span>

<span data-ttu-id="5e1ca-253">By default, the chart in the **Database Resource Utilization** blade will show the top 5 databases by DTU or CPU (depending on your service tier).</span><span class="sxs-lookup"><span data-stu-id="5e1ca-253">By default, the chart in the **Database Resource Utilization** blade will show the top 5 databases by DTU or CPU (depending on your service tier).</span></span> <span data-ttu-id="5e1ca-254">You can switch up the databases in this chart by selecting and unselecting databases from the list below the chart via the checkboxes on the left.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-254">You can switch up the databases in this chart by selecting and unselecting databases from the list below the chart via the checkboxes on the left.</span></span>

<span data-ttu-id="5e1ca-255">You can also select more metrics to view side by side in this database table to get a more complete view of your databases performance.</span><span class="sxs-lookup"><span data-stu-id="5e1ca-255">You can also select more metrics to view side by side in this database table to get a more complete view of your databases performance.</span></span>

<span data-ttu-id="5e1ca-256">For more information, see [create SQL Database alerts in Azure portal](sql-database-insights-alerts-portal.md).</span><span class="sxs-lookup"><span data-stu-id="5e1ca-256">For more information, see [create SQL Database alerts in Azure portal](sql-database-insights-alerts-portal.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="5e1ca-257">Next steps</span><span class="sxs-lookup"><span data-stu-id="5e1ca-257">Next steps</span></span>

- <span data-ttu-id="5e1ca-258">To scale elastic pools, see [Scaling elastic pools](sql-database-elastic-pool.md) and [Scale an elastic pool - sample code](scripts/sql-database-monitor-and-scale-pool-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="5e1ca-258">To scale elastic pools, see [Scaling elastic pools](sql-database-elastic-pool.md) and [Scale an elastic pool - sample code](scripts/sql-database-monitor-and-scale-pool-powershell.md)</span></span>
* <span data-ttu-id="5e1ca-259">For a video, see [Microsoft Virtual Academy video course on Azure SQL Database elastic capabilities](https://mva.microsoft.com/training-courses/elastic-database-capabilities-with-azure-sql-db-16554)</span><span class="sxs-lookup"><span data-stu-id="5e1ca-259">For a video, see [Microsoft Virtual Academy video course on Azure SQL Database elastic capabilities](https://mva.microsoft.com/training-courses/elastic-database-capabilities-with-azure-sql-db-16554)</span></span>
* <span data-ttu-id="5e1ca-260">To learn more about design patterns for SaaS applications using elastic pools, see [Design Patterns for Multi-tenant SaaS Applications with Azure SQL Database](sql-database-design-patterns-multi-tenancy-saas-applications.md).</span><span class="sxs-lookup"><span data-stu-id="5e1ca-260">To learn more about design patterns for SaaS applications using elastic pools, see [Design Patterns for Multi-tenant SaaS Applications with Azure SQL Database](sql-database-design-patterns-multi-tenancy-saas-applications.md).</span></span>
* <span data-ttu-id="5e1ca-261">For a SaaS tutorial using elastic pools, see [Introduction to the Wingtip SaaS application](sql-database-wtp-overview.md).</span><span class="sxs-lookup"><span data-stu-id="5e1ca-261">For a SaaS tutorial using elastic pools, see [Introduction to the Wingtip SaaS application](sql-database-wtp-overview.md).</span></span>
