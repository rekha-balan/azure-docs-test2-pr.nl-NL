---
title: Overview of prerequisites for using the Azure Database Migration Service | Microsoft Docs
description: Learn about an overview of the prerequisites for using the Azure Database Migration Service to perform database migrations.
services: database-migration
author: HJToland3
ms.author: jtoland
manager: ''
ms.reviewer: ''
ms.service: database-migration
ms.workload: data-services
ms.custom: mvc
ms.topic: article
ms.date: 06/19/2018
ms.openlocfilehash: 3dc449724e405f83ce976b9f8b01a89c25d693fe
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44968015"
---
# <a name="overview-of-prerequisites-for-using-the-azure-database-migration-service"></a><span data-ttu-id="b9901-103">Overview of prerequisites for using the Azure Database Migration Service</span><span class="sxs-lookup"><span data-stu-id="b9901-103">Overview of prerequisites for using the Azure Database Migration Service</span></span>
<span data-ttu-id="b9901-104">There are several prerequisites required to ensure that the Azure Database Migration Service runs smoothly when performing database migrations.</span><span class="sxs-lookup"><span data-stu-id="b9901-104">There are several prerequisites required to ensure that the Azure Database Migration Service runs smoothly when performing database migrations.</span></span> <span data-ttu-id="b9901-105">Some of the prerequisites apply across all scenarios (source-target pairs) supported by the service, while other prerequisites are unique to a specific scenario.</span><span class="sxs-lookup"><span data-stu-id="b9901-105">Some of the prerequisites apply across all scenarios (source-target pairs) supported by the service, while other prerequisites are unique to a specific scenario.</span></span>

<span data-ttu-id="b9901-106">Prerequisites associated with using the Azure Database Migration Service are listed in the following sections.</span><span class="sxs-lookup"><span data-stu-id="b9901-106">Prerequisites associated with using the Azure Database Migration Service are listed in the following sections.</span></span>

## <a name="prerequisites-common-across-migration-scenarios"></a><span data-ttu-id="b9901-107">Prerequisites common across migration scenarios</span><span class="sxs-lookup"><span data-stu-id="b9901-107">Prerequisites common across migration scenarios</span></span>
<span data-ttu-id="b9901-108">Azure Database Migration Service prerequisites that are common across all supported migration scenarios include the need to:</span><span class="sxs-lookup"><span data-stu-id="b9901-108">Azure Database Migration Service prerequisites that are common across all supported migration scenarios include the need to:</span></span>
- <span data-ttu-id="b9901-109">Create a VNET for the Azure Database Migration Service by using the Azure Resource Manager deployment model, which provides site-to-site connectivity to your on-premises source servers by using either [ExpressRoute](https://docs.microsoft.com/azure/expressroute/expressroute-introduction) or [VPN](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpngateways).</span><span class="sxs-lookup"><span data-stu-id="b9901-109">Create a VNET for the Azure Database Migration Service by using the Azure Resource Manager deployment model, which provides site-to-site connectivity to your on-premises source servers by using either [ExpressRoute](https://docs.microsoft.com/azure/expressroute/expressroute-introduction) or [VPN](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpngateways).</span></span>
- <span data-ttu-id="b9901-110">Ensure that your Azure Virtual Network (VNET) Network Security Group rules do not block the following communication ports 443, 53, 9354, 445, 12000.</span><span class="sxs-lookup"><span data-stu-id="b9901-110">Ensure that your Azure Virtual Network (VNET) Network Security Group rules do not block the following communication ports 443, 53, 9354, 445, 12000.</span></span> <span data-ttu-id="b9901-111">For more detail on Azure VNET NSG traffic filtering, see the article [Filter network traffic with network security groups](https://docs.microsoft.com/azure/virtual-network/virtual-networks-nsg).</span><span class="sxs-lookup"><span data-stu-id="b9901-111">For more detail on Azure VNET NSG traffic filtering, see the article [Filter network traffic with network security groups](https://docs.microsoft.com/azure/virtual-network/virtual-networks-nsg).</span></span>
- <span data-ttu-id="b9901-112">When using a firewall appliance in front of your source database(s), you may need to add firewall rules to allow the Azure Database Migration Service to access the source database(s) for migration.</span><span class="sxs-lookup"><span data-stu-id="b9901-112">When using a firewall appliance in front of your source database(s), you may need to add firewall rules to allow the Azure Database Migration Service to access the source database(s) for migration.</span></span>
- <span data-ttu-id="b9901-113">Configure your [Windows Firewall for database engine access](https://docs.microsoft.com/sql/database-engine/configure-windows/configure-a-windows-firewall-for-database-engine-access).</span><span class="sxs-lookup"><span data-stu-id="b9901-113">Configure your [Windows Firewall for database engine access](https://docs.microsoft.com/sql/database-engine/configure-windows/configure-a-windows-firewall-for-database-engine-access).</span></span>
- <span data-ttu-id="b9901-114">Enable the TCP/IP protocol, which is disabled by default during SQL Server Express installation, by following the instructions in the article [Enable or Disable a Server Network Protocol](https://docs.microsoft.com/sql/database-engine/configure-windows/enable-or-disable-a-server-network-protocol#SSMSProcedure).</span><span class="sxs-lookup"><span data-stu-id="b9901-114">Enable the TCP/IP protocol, which is disabled by default during SQL Server Express installation, by following the instructions in the article [Enable or Disable a Server Network Protocol](https://docs.microsoft.com/sql/database-engine/configure-windows/enable-or-disable-a-server-network-protocol#SSMSProcedure).</span></span>

## <a name="prerequisites-for-migrating-sql-server-to-azure-sql-database"></a><span data-ttu-id="b9901-115">Prerequisites for migrating SQL Server to Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="b9901-115">Prerequisites for migrating SQL Server to Azure SQL Database</span></span> 
<span data-ttu-id="b9901-116">In addition to Azure Database Migration Service prerequisites that are common to all migration scenarios, there are also prerequisites that apply specifically to one scenario or another.</span><span class="sxs-lookup"><span data-stu-id="b9901-116">In addition to Azure Database Migration Service prerequisites that are common to all migration scenarios, there are also prerequisites that apply specifically to one scenario or another.</span></span>

<span data-ttu-id="b9901-117">When using the Azure Database Migration Service to perform SQL Server to Azure SQL Database migrations, in addition to the prerequisites that are common to all migration scenarios, be sure to address the following additional prerequisites:</span><span class="sxs-lookup"><span data-stu-id="b9901-117">When using the Azure Database Migration Service to perform SQL Server to Azure SQL Database migrations, in addition to the prerequisites that are common to all migration scenarios, be sure to address the following additional prerequisites:</span></span>

- <span data-ttu-id="b9901-118">Create an instance of Azure SQL Database instance, which you do by following the detail in the article C[reate an Azure SQL database in the Azure portal](https://docs.microsoft.com/azure/sql-database/sql-database-get-started-portal).</span><span class="sxs-lookup"><span data-stu-id="b9901-118">Create an instance of Azure SQL Database instance, which you do by following the detail in the article C[reate an Azure SQL database in the Azure portal](https://docs.microsoft.com/azure/sql-database/sql-database-get-started-portal).</span></span>
- <span data-ttu-id="b9901-119">Download and install the [Data Migration Assistant](https://www.microsoft.com/download/details.aspx?id=53595) v3.3 or later.</span><span class="sxs-lookup"><span data-stu-id="b9901-119">Download and install the [Data Migration Assistant](https://www.microsoft.com/download/details.aspx?id=53595) v3.3 or later.</span></span>
- <span data-ttu-id="b9901-120">Open your Windows Firewall to allow the Azure Database Migration Service to access the source SQL Server, which by default is TCP port 1433.</span><span class="sxs-lookup"><span data-stu-id="b9901-120">Open your Windows Firewall to allow the Azure Database Migration Service to access the source SQL Server, which by default is TCP port 1433.</span></span>
- <span data-ttu-id="b9901-121">If you are running multiple named SQL Server instances using dynamic ports, you may wish to enable the SQL Browser Service and allow access to UDP port 1434 through your firewalls so that the Azure Database Migration Service can connect to a named instance on your source server.</span><span class="sxs-lookup"><span data-stu-id="b9901-121">If you are running multiple named SQL Server instances using dynamic ports, you may wish to enable the SQL Browser Service and allow access to UDP port 1434 through your firewalls so that the Azure Database Migration Service can connect to a named instance on your source server.</span></span>
- <span data-ttu-id="b9901-122">Create a server-level [firewall rule](https://docs.microsoft.com/azure/sql-database/sql-database-firewall-configure) for the Azure SQL Database server to allow the Azure Database Migration Service access to the target databases.</span><span class="sxs-lookup"><span data-stu-id="b9901-122">Create a server-level [firewall rule](https://docs.microsoft.com/azure/sql-database/sql-database-firewall-configure) for the Azure SQL Database server to allow the Azure Database Migration Service access to the target databases.</span></span> <span data-ttu-id="b9901-123">Provide the subnet range of the VNET used for the Azure Database Migration Service.</span><span class="sxs-lookup"><span data-stu-id="b9901-123">Provide the subnet range of the VNET used for the Azure Database Migration Service.</span></span>
- <span data-ttu-id="b9901-124">Ensure that the credentials used to connect to source SQL Server instance have [CONTROL SERVER](https://docs.microsoft.com/sql/t-sql/statements/grant-server-permissions-transact-sql) permissions.</span><span class="sxs-lookup"><span data-stu-id="b9901-124">Ensure that the credentials used to connect to source SQL Server instance have [CONTROL SERVER](https://docs.microsoft.com/sql/t-sql/statements/grant-server-permissions-transact-sql) permissions.</span></span>
- <span data-ttu-id="b9901-125">Ensure that the credentials used to connect to target Azure SQL Database instance have CONTROL DATABASE permission on the target Azure SQL databases.</span><span class="sxs-lookup"><span data-stu-id="b9901-125">Ensure that the credentials used to connect to target Azure SQL Database instance have CONTROL DATABASE permission on the target Azure SQL databases.</span></span>

   > [!NOTE]
   > <span data-ttu-id="b9901-126">For a complete listing of the prerequisites required to use the Azure Database Migration Service to perform migrations from SQL Server to Azure SQL Database, see the tutorial [Migrate SQL Server to Azure SQL Database](https://docs.microsoft.com/azure/dms/tutorial-sql-server-to-azure-sql).</span><span class="sxs-lookup"><span data-stu-id="b9901-126">For a complete listing of the prerequisites required to use the Azure Database Migration Service to perform migrations from SQL Server to Azure SQL Database, see the tutorial [Migrate SQL Server to Azure SQL Database](https://docs.microsoft.com/azure/dms/tutorial-sql-server-to-azure-sql).</span></span>
   > 

## <a name="prerequisites-for-migrating-sql-server-to-azure-sql-database-managed-instance"></a><span data-ttu-id="b9901-127">Prerequisites for migrating SQL Server to Azure SQL Database Managed Instance</span><span class="sxs-lookup"><span data-stu-id="b9901-127">Prerequisites for migrating SQL Server to Azure SQL Database Managed Instance</span></span>
- <span data-ttu-id="b9901-128">Create an instance of Azure SQL Database Managed Instance by following the detail in the article [Create an Azure SQL Database Managed Instance in the Azure portal](https://aka.ms/sqldbmi).</span><span class="sxs-lookup"><span data-stu-id="b9901-128">Create an instance of Azure SQL Database Managed Instance by following the detail in the article [Create an Azure SQL Database Managed Instance in the Azure portal](https://aka.ms/sqldbmi).</span></span>
- <span data-ttu-id="b9901-129">Open your firewalls to allow SMB traffic on port 445 for the Azure Database Migration Service IP address or subnet range.</span><span class="sxs-lookup"><span data-stu-id="b9901-129">Open your firewalls to allow SMB traffic on port 445 for the Azure Database Migration Service IP address or subnet range.</span></span>
- <span data-ttu-id="b9901-130">Open your Windows Firewall to allow the Azure Database Migration Service to access the source SQL Server, which by default is TCP port 1433.</span><span class="sxs-lookup"><span data-stu-id="b9901-130">Open your Windows Firewall to allow the Azure Database Migration Service to access the source SQL Server, which by default is TCP port 1433.</span></span>
- <span data-ttu-id="b9901-131">If you are running multiple named SQL Server instances using dynamic ports, you may wish to enable the SQL Browser Service and allow access to UDP port 1434 through your firewalls so that the Azure Database Migration Service can connect to a named instance on your source server.</span><span class="sxs-lookup"><span data-stu-id="b9901-131">If you are running multiple named SQL Server instances using dynamic ports, you may wish to enable the SQL Browser Service and allow access to UDP port 1434 through your firewalls so that the Azure Database Migration Service can connect to a named instance on your source server.</span></span>
- <span data-ttu-id="b9901-132">Ensure that the logins used to connect the source SQL Server and target Managed Instance are members of the sysadmin server role.</span><span class="sxs-lookup"><span data-stu-id="b9901-132">Ensure that the logins used to connect the source SQL Server and target Managed Instance are members of the sysadmin server role.</span></span>
- <span data-ttu-id="b9901-133">Create a network share that the Azure Database Migration Service can use to back up the source database.</span><span class="sxs-lookup"><span data-stu-id="b9901-133">Create a network share that the Azure Database Migration Service can use to back up the source database.</span></span>
- <span data-ttu-id="b9901-134">Ensure that the service account running the source SQL Server instance has write privileges on the network share that you created and that the computer account for the source server has read/write access to the same share.</span><span class="sxs-lookup"><span data-stu-id="b9901-134">Ensure that the service account running the source SQL Server instance has write privileges on the network share that you created and that the computer account for the source server has read/write access to the same share.</span></span>
- <span data-ttu-id="b9901-135">Make a note of a Windows user (and password) that has full control privilege on the network share that you previously created.</span><span class="sxs-lookup"><span data-stu-id="b9901-135">Make a note of a Windows user (and password) that has full control privilege on the network share that you previously created.</span></span> <span data-ttu-id="b9901-136">The Azure Database Migration Service impersonates the user credential to upload the backup files to Azure storage container for restore operation.</span><span class="sxs-lookup"><span data-stu-id="b9901-136">The Azure Database Migration Service impersonates the user credential to upload the backup files to Azure storage container for restore operation.</span></span>
- <span data-ttu-id="b9901-137">Create a blob container and retrieve its SAS URI by using the steps in the article [Manage Azure Blob Storage resources with Storage Explorer](https://docs.microsoft.com/azure/vs-azure-tools-storage-explorer-blobs#get-the-sas-for-a-blob-container).</span><span class="sxs-lookup"><span data-stu-id="b9901-137">Create a blob container and retrieve its SAS URI by using the steps in the article [Manage Azure Blob Storage resources with Storage Explorer](https://docs.microsoft.com/azure/vs-azure-tools-storage-explorer-blobs#get-the-sas-for-a-blob-container).</span></span> <span data-ttu-id="b9901-138">Be sure to select all permissions (Read, Write, Delete, List) on the policy window while creating the SAS URI.</span><span class="sxs-lookup"><span data-stu-id="b9901-138">Be sure to select all permissions (Read, Write, Delete, List) on the policy window while creating the SAS URI.</span></span>

   > [!NOTE]
   > <span data-ttu-id="b9901-139">For a complete listing of the prerequisites required to use the Azure Database Migration Service to perform migrations from SQL Server to Azure SQL Database Managed Instance, see the tutorial [Migrate SQL Server to Azure SQL Database Managed Instance](https://aka.ms/migratetomiusingdms).</span><span class="sxs-lookup"><span data-stu-id="b9901-139">For a complete listing of the prerequisites required to use the Azure Database Migration Service to perform migrations from SQL Server to Azure SQL Database Managed Instance, see the tutorial [Migrate SQL Server to Azure SQL Database Managed Instance](https://aka.ms/migratetomiusingdms).</span></span>

## <a name="next-steps"></a><span data-ttu-id="b9901-140">Next steps</span><span class="sxs-lookup"><span data-stu-id="b9901-140">Next steps</span></span>
<span data-ttu-id="b9901-141">For an overview of the Azure Database Migration Service and regional availability, see the article [What is the Azure Database Migration Service](dms-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b9901-141">For an overview of the Azure Database Migration Service and regional availability, see the article [What is the Azure Database Migration Service](dms-overview.md).</span></span> 