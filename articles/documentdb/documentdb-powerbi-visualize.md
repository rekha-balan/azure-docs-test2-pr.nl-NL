---
title: Power BI tutorial for DocumentDB connector | Microsoft Docs
description: Use this Power BI tutorial to import JSON, create insightful reports, and visualize data using the DocumentDB and Power BI connector.
keywords: power bi tutorial, visualize data, power bi connector
services: documentdb
author: mimig1
manager: jhubbard
editor: mimig
documentationcenter: ''
ms.assetid: cd1b7f70-ef99-40b7-ab1c-f5f3e97641f7
ms.service: documentdb
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/14/2016
ms.author: mimig
ms.openlocfilehash: 3df0e58327a91daa1cb24e1d55f4d2fbb9ce4b90
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44661231"
---
# <a name="power-bi-tutorial-for-documentdb-visualize-data-using-the-power-bi-connector"></a><span data-ttu-id="33822-104">Power BI tutorial for DocumentDB: Visualize data using the Power BI connector</span><span class="sxs-lookup"><span data-stu-id="33822-104">Power BI tutorial for DocumentDB: Visualize data using the Power BI connector</span></span>
<span data-ttu-id="33822-105">[PowerBI.com](https://powerbi.microsoft.com/) is an online service where you can create and share dashboards and reports with data that's important to you and your organization.</span><span class="sxs-lookup"><span data-stu-id="33822-105">[PowerBI.com](https://powerbi.microsoft.com/) is an online service where you can create and share dashboards and reports with data that's important to you and your organization.</span></span>  <span data-ttu-id="33822-106">Power BI Desktop is a dedicated report authoring tool that enables you to retrieve data from various data sources, merge and transform the data, create powerful reports and visualizations, and publish the reports to Power BI.</span><span class="sxs-lookup"><span data-stu-id="33822-106">Power BI Desktop is a dedicated report authoring tool that enables you to retrieve data from various data sources, merge and transform the data, create powerful reports and visualizations, and publish the reports to Power BI.</span></span>  <span data-ttu-id="33822-107">With the latest version of Power BI Desktop, you can now connect to your DocumentDB account via the DocumentDB connector for Power BI.</span><span class="sxs-lookup"><span data-stu-id="33822-107">With the latest version of Power BI Desktop, you can now connect to your DocumentDB account via the DocumentDB connector for Power BI.</span></span>   

<span data-ttu-id="33822-108">In this Power BI tutorial, we walk through the steps to connect to a DocumentDB account in Power BI Desktop, navigate to a collection where we want to extract the data using the Navigator, transform JSON data into tabular format using Power BI Desktop Query Editor, and build and publish a report to PowerBI.com.</span><span class="sxs-lookup"><span data-stu-id="33822-108">In this Power BI tutorial, we walk through the steps to connect to a DocumentDB account in Power BI Desktop, navigate to a collection where we want to extract the data using the Navigator, transform JSON data into tabular format using Power BI Desktop Query Editor, and build and publish a report to PowerBI.com.</span></span>

<span data-ttu-id="33822-109">After completing this Power BI tutorial, you'll be able to answer the following questions:</span><span class="sxs-lookup"><span data-stu-id="33822-109">After completing this Power BI tutorial, you'll be able to answer the following questions:</span></span>  

* <span data-ttu-id="33822-110">How can I build reports with data from DocumentDB using Power BI Desktop?</span><span class="sxs-lookup"><span data-stu-id="33822-110">How can I build reports with data from DocumentDB using Power BI Desktop?</span></span>
* <span data-ttu-id="33822-111">How can I connect to a DocumentDB account in Power BI Desktop?</span><span class="sxs-lookup"><span data-stu-id="33822-111">How can I connect to a DocumentDB account in Power BI Desktop?</span></span>
* <span data-ttu-id="33822-112">How can I retrieve data from a collection in Power BI Desktop?</span><span class="sxs-lookup"><span data-stu-id="33822-112">How can I retrieve data from a collection in Power BI Desktop?</span></span>
* <span data-ttu-id="33822-113">How can I transform nested JSON data in Power BI Desktop?</span><span class="sxs-lookup"><span data-stu-id="33822-113">How can I transform nested JSON data in Power BI Desktop?</span></span>
* <span data-ttu-id="33822-114">How can I publish and share my reports in PowerBI.com?</span><span class="sxs-lookup"><span data-stu-id="33822-114">How can I publish and share my reports in PowerBI.com?</span></span>

## <a name="prerequisites"></a><span data-ttu-id="33822-115">Prerequisites</span><span class="sxs-lookup"><span data-stu-id="33822-115">Prerequisites</span></span>
<span data-ttu-id="33822-116">Before following the instructions in this Power BI tutorial, ensure that you have the following:</span><span class="sxs-lookup"><span data-stu-id="33822-116">Before following the instructions in this Power BI tutorial, ensure that you have the following:</span></span>

* <span data-ttu-id="33822-117">[The latest version of Power BI Desktop](https://powerbi.microsoft.com/desktop).</span><span class="sxs-lookup"><span data-stu-id="33822-117">[The latest version of Power BI Desktop](https://powerbi.microsoft.com/desktop).</span></span>
* <span data-ttu-id="33822-118">Access to our demo account or data in your Azure DocumentDB account.</span><span class="sxs-lookup"><span data-stu-id="33822-118">Access to our demo account or data in your Azure DocumentDB account.</span></span>
  * <span data-ttu-id="33822-119">The demo account is populated with the volcano data shown in this tutorial.</span><span class="sxs-lookup"><span data-stu-id="33822-119">The demo account is populated with the volcano data shown in this tutorial.</span></span> <span data-ttu-id="33822-120">This demo account is not bound by any SLAs and is meant for demonstration purposes only.</span><span class="sxs-lookup"><span data-stu-id="33822-120">This demo account is not bound by any SLAs and is meant for demonstration purposes only.</span></span>  <span data-ttu-id="33822-121">We reserve the right to make modifications to this demo account including but not limited to, terminating the account, changing the key, restricting access, changing and delete the data, at any time without advance notice or reason.</span><span class="sxs-lookup"><span data-stu-id="33822-121">We reserve the right to make modifications to this demo account including but not limited to, terminating the account, changing the key, restricting access, changing and delete the data, at any time without advance notice or reason.</span></span>
    * <span data-ttu-id="33822-122">URL:   https://analytics.documents.azure.com</span><span class="sxs-lookup"><span data-stu-id="33822-122">URL:   https://analytics.documents.azure.com</span></span>
    * <span data-ttu-id="33822-123">Read-only key: MSr6kt7Gn0YRQbjd6RbTnTt7VHc5ohaAFu7osF0HdyQmfR+YhwCH2D2jcczVIR1LNK3nMPNBD31losN7lQ/fkw==</span><span class="sxs-lookup"><span data-stu-id="33822-123">Read-only key: MSr6kt7Gn0YRQbjd6RbTnTt7VHc5ohaAFu7osF0HdyQmfR+YhwCH2D2jcczVIR1LNK3nMPNBD31losN7lQ/fkw==</span></span>
  * <span data-ttu-id="33822-124">Or, to create your own account, see [Create a DocumentDB database account using the Azure portal](https://azure.microsoft.com/documentation/articles/documentdb-create-account/).</span><span class="sxs-lookup"><span data-stu-id="33822-124">Or, to create your own account, see [Create a DocumentDB database account using the Azure portal](https://azure.microsoft.com/documentation/articles/documentdb-create-account/).</span></span> <span data-ttu-id="33822-125">Then, to get sample volcano data that's similar to what's used in this tutorial (but does not contain the GeoJSON blocks), see the [NOAA site](https://www.ngdc.noaa.gov/nndc/struts/form?t=102557&s=5&d=5) and then import the data using the [DocumentDB data migration tool](https://azure.microsoft.com/documentation/articles/documentdb-import-data/).</span><span class="sxs-lookup"><span data-stu-id="33822-125">Then, to get sample volcano data that's similar to what's used in this tutorial (but does not contain the GeoJSON blocks), see the [NOAA site](https://www.ngdc.noaa.gov/nndc/struts/form?t=102557&s=5&d=5) and then import the data using the [DocumentDB data migration tool](https://azure.microsoft.com/documentation/articles/documentdb-import-data/).</span></span>

<span data-ttu-id="33822-126">To share your reports in PowerBI.com, you must have an account in PowerBI.com.</span><span class="sxs-lookup"><span data-stu-id="33822-126">To share your reports in PowerBI.com, you must have an account in PowerBI.com.</span></span>  <span data-ttu-id="33822-127">To learn more about Power BI for Free and Power BI Pro, please visit [https://powerbi.microsoft.com/pricing](https://powerbi.microsoft.com/pricing).</span><span class="sxs-lookup"><span data-stu-id="33822-127">To learn more about Power BI for Free and Power BI Pro, please visit [https://powerbi.microsoft.com/pricing](https://powerbi.microsoft.com/pricing).</span></span>

## <a name="lets-get-started"></a><span data-ttu-id="33822-128">Let's get started</span><span class="sxs-lookup"><span data-stu-id="33822-128">Let's get started</span></span>
<span data-ttu-id="33822-129">In this tutorial, let's imagine that you are a geologist studying volcanoes around the world.</span><span class="sxs-lookup"><span data-stu-id="33822-129">In this tutorial, let's imagine that you are a geologist studying volcanoes around the world.</span></span>  <span data-ttu-id="33822-130">The volcano data is stored in a DocumentDB account and the JSON documents look like the one below.</span><span class="sxs-lookup"><span data-stu-id="33822-130">The volcano data is stored in a DocumentDB account and the JSON documents look like the one below.</span></span>

    {
        "Volcano Name": "Rainier",
           "Country": "United States",
          "Region": "US-Washington",
          "Location": {
            "type": "Point",
            "coordinates": [
              -121.758,
              46.87
            ]
          },
          "Elevation": 4392,
          "Type": "Stratovolcano",
          "Status": "Dendrochronology",
          "Last Known Eruption": "Last known eruption from 1800-1899, inclusive"
    }

<span data-ttu-id="33822-131">You want to retrieve the volcano data from the DocumentDB account and visualize data in an interactive Power BI report like the one below.</span><span class="sxs-lookup"><span data-stu-id="33822-131">You want to retrieve the volcano data from the DocumentDB account and visualize data in an interactive Power BI report like the one below.</span></span>

![By completing this Power BI tutorial with the Power BI connector, you'll be able to visualize data with the Power BI Desktop volcano report](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/power_bi_connector_pbireportfinal.png)

<span data-ttu-id="33822-133">Ready to give it a try?</span><span class="sxs-lookup"><span data-stu-id="33822-133">Ready to give it a try?</span></span> <span data-ttu-id="33822-134">Let's get started.</span><span class="sxs-lookup"><span data-stu-id="33822-134">Let's get started.</span></span>

1. <span data-ttu-id="33822-135">Run Power BI Desktop on your workstation.</span><span class="sxs-lookup"><span data-stu-id="33822-135">Run Power BI Desktop on your workstation.</span></span>
2. <span data-ttu-id="33822-136">Once Power BI Desktop is launched, a *Welcome* screen is displayed.</span><span class="sxs-lookup"><span data-stu-id="33822-136">Once Power BI Desktop is launched, a *Welcome* screen is displayed.</span></span>
   
    ![Power BI Desktop Welcome screen - Power BI connector](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/power_bi_connector_welcome.png)
3. <span data-ttu-id="33822-138">You can **Get Data**, see **Recent Sources**, or **Open Other Reports** directly from the *Welcome* screen.</span><span class="sxs-lookup"><span data-stu-id="33822-138">You can **Get Data**, see **Recent Sources**, or **Open Other Reports** directly from the *Welcome* screen.</span></span>  <span data-ttu-id="33822-139">Click the X at the top right corner to close the screen.</span><span class="sxs-lookup"><span data-stu-id="33822-139">Click the X at the top right corner to close the screen.</span></span> <span data-ttu-id="33822-140">The **Report** view of Power BI Desktop is displayed.</span><span class="sxs-lookup"><span data-stu-id="33822-140">The **Report** view of Power BI Desktop is displayed.</span></span>
   
    ![Power BI Desktop Report View - Power BI connector](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/power_bi_connector_pbireportview.png)
4. <span data-ttu-id="33822-142">Select the **Home** ribbon, then click on **Get Data**.</span><span class="sxs-lookup"><span data-stu-id="33822-142">Select the **Home** ribbon, then click on **Get Data**.</span></span>  <span data-ttu-id="33822-143">The **Get Data** window should appear.</span><span class="sxs-lookup"><span data-stu-id="33822-143">The **Get Data** window should appear.</span></span>
5. <span data-ttu-id="33822-144">Click on **Azure**, select **Microsoft Azure DocumentDB (Beta)**, and then click **Connect**.</span><span class="sxs-lookup"><span data-stu-id="33822-144">Click on **Azure**, select **Microsoft Azure DocumentDB (Beta)**, and then click **Connect**.</span></span>  <span data-ttu-id="33822-145">The **Microsoft Azure DocumentDB Connect** window should appear.</span><span class="sxs-lookup"><span data-stu-id="33822-145">The **Microsoft Azure DocumentDB Connect** window should appear.</span></span>
   
    ![Power BI Desktop Get Data - Power BI connector](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/power_bi_connector_pbigetdata.png)
6. <span data-ttu-id="33822-147">Specify the DocumentDB account endpoint URL you would like to retrieve the data from as shown below, and then click **OK**.</span><span class="sxs-lookup"><span data-stu-id="33822-147">Specify the DocumentDB account endpoint URL you would like to retrieve the data from as shown below, and then click **OK**.</span></span> <span data-ttu-id="33822-148">You can retrieve the URL from the URI box in the **[Keys](documentdb-manage-account.md#keys)** blade of the Azure portal or you can use the demo account, in which case the URL is `https://analytics.documents.azure.com`.</span><span class="sxs-lookup"><span data-stu-id="33822-148">You can retrieve the URL from the URI box in the **[Keys](documentdb-manage-account.md#keys)** blade of the Azure portal or you can use the demo account, in which case the URL is `https://analytics.documents.azure.com`.</span></span> 
   
    <span data-ttu-id="33822-149">Leave the database name, collection name, and SQL statement blank as these fields are optional.</span><span class="sxs-lookup"><span data-stu-id="33822-149">Leave the database name, collection name, and SQL statement blank as these fields are optional.</span></span>  <span data-ttu-id="33822-150">Instead, we will use the Navigator to select the Database and Collection to identify where the data comes from.</span><span class="sxs-lookup"><span data-stu-id="33822-150">Instead, we will use the Navigator to select the Database and Collection to identify where the data comes from.</span></span>
   
    ![Power BI tutorial for DocumentDB Power BI connector - Desktop Connect Window](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/power_bi_connector_pbiconnectwindow.png)
7. <span data-ttu-id="33822-152">If you are connecting to this endpoint for the first time, you will be prompted for the account key.</span><span class="sxs-lookup"><span data-stu-id="33822-152">If you are connecting to this endpoint for the first time, you will be prompted for the account key.</span></span>  <span data-ttu-id="33822-153">You can retrieve the key from the **Primary Key** box in the **[Read-only Keys](documentdb-manage-account.md#keys)** blade of the Azure portal, or you can use the demo account, in which case the key is `MSr6kt7Gn0YRQbjd6RbTnTt7VHc5ohaAFu7osF0HdyQmfR+YhwCH2D2jcczVIR1LNK3nMPNBD31losN7lQ/fkw==`.</span><span class="sxs-lookup"><span data-stu-id="33822-153">You can retrieve the key from the **Primary Key** box in the **[Read-only Keys](documentdb-manage-account.md#keys)** blade of the Azure portal, or you can use the demo account, in which case the key is `MSr6kt7Gn0YRQbjd6RbTnTt7VHc5ohaAFu7osF0HdyQmfR+YhwCH2D2jcczVIR1LNK3nMPNBD31losN7lQ/fkw==`.</span></span> <span data-ttu-id="33822-154">Enter the account key and click **Connect**.</span><span class="sxs-lookup"><span data-stu-id="33822-154">Enter the account key and click **Connect**.</span></span>
   
    <span data-ttu-id="33822-155">We recommend that you use the read-only key when building reports.</span><span class="sxs-lookup"><span data-stu-id="33822-155">We recommend that you use the read-only key when building reports.</span></span>  <span data-ttu-id="33822-156">This will prevent unnecessary exposure of the master key to potential security risks.</span><span class="sxs-lookup"><span data-stu-id="33822-156">This will prevent unnecessary exposure of the master key to potential security risks.</span></span> <span data-ttu-id="33822-157">The read-only key is available from the [Keys](documentdb-manage-account.md#keys) blade of the Azure portal or you can use the demo account information provided above.</span><span class="sxs-lookup"><span data-stu-id="33822-157">The read-only key is available from the [Keys](documentdb-manage-account.md#keys) blade of the Azure portal or you can use the demo account information provided above.</span></span>
   
    ![Power BI tutorial for DocumentDB Power BI connector - Account Key](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/power_bi_connector_pbidocumentdbkey.png)
8. <span data-ttu-id="33822-159">When the account is successfully connected, the **Navigator** will appear.</span><span class="sxs-lookup"><span data-stu-id="33822-159">When the account is successfully connected, the **Navigator** will appear.</span></span>  <span data-ttu-id="33822-160">The **Navigator** will show a list of databases under the account.</span><span class="sxs-lookup"><span data-stu-id="33822-160">The **Navigator** will show a list of databases under the account.</span></span>
9. <span data-ttu-id="33822-161">Click and expand on the database where the data for the report will come from, if you're using the demo account, select **volcanodb**.</span><span class="sxs-lookup"><span data-stu-id="33822-161">Click and expand on the database where the data for the report will come from, if you're using the demo account, select **volcanodb**.</span></span>   
10. <span data-ttu-id="33822-162">Now, select a collection that you will retrieve the data from.</span><span class="sxs-lookup"><span data-stu-id="33822-162">Now, select a collection that you will retrieve the data from.</span></span> <span data-ttu-id="33822-163">If you're using the demo account, select **volcano1**.</span><span class="sxs-lookup"><span data-stu-id="33822-163">If you're using the demo account, select **volcano1**.</span></span>
    
    <span data-ttu-id="33822-164">The Preview pane shows a list of **Record** items.</span><span class="sxs-lookup"><span data-stu-id="33822-164">The Preview pane shows a list of **Record** items.</span></span>  <span data-ttu-id="33822-165">A Document is represented as a **Record** type in Power BI.</span><span class="sxs-lookup"><span data-stu-id="33822-165">A Document is represented as a **Record** type in Power BI.</span></span> <span data-ttu-id="33822-166">Similarly, a nested JSON block inside a document is also a **Record**.</span><span class="sxs-lookup"><span data-stu-id="33822-166">Similarly, a nested JSON block inside a document is also a **Record**.</span></span>
    
    ![Power BI tutorial for DocumentDB Power BI connector - Navigator window](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/power_bi_connector_pbinavigator.png)
11. <span data-ttu-id="33822-168">Click **Edit** to launch the Query Editor so we can transform the data.</span><span class="sxs-lookup"><span data-stu-id="33822-168">Click **Edit** to launch the Query Editor so we can transform the data.</span></span>

## <a name="flattening-and-transforming-json-documents"></a><span data-ttu-id="33822-169">Flattening and transforming JSON documents</span><span class="sxs-lookup"><span data-stu-id="33822-169">Flattening and transforming JSON documents</span></span>
1. <span data-ttu-id="33822-170">In the Power BI Query Editor, you should see a **Document** column in the center pane.</span><span class="sxs-lookup"><span data-stu-id="33822-170">In the Power BI Query Editor, you should see a **Document** column in the center pane.</span></span>
   <span data-ttu-id="33822-171">![Power BI Desktop Query Editor](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/power_bi_connector_pbiqueryeditor.png)</span><span class="sxs-lookup"><span data-stu-id="33822-171">![Power BI Desktop Query Editor](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/power_bi_connector_pbiqueryeditor.png)</span></span>
2. <span data-ttu-id="33822-172">Click on the expander at the right side of the **Document** column header.</span><span class="sxs-lookup"><span data-stu-id="33822-172">Click on the expander at the right side of the **Document** column header.</span></span>  <span data-ttu-id="33822-173">The context menu with a list of fields will appear.</span><span class="sxs-lookup"><span data-stu-id="33822-173">The context menu with a list of fields will appear.</span></span>  <span data-ttu-id="33822-174">Select the fields you need for your report, for instance,  Volcano Name, Country, Region, Location, Elevation, Type, Status and Last Know Eruption, and then click **OK**.</span><span class="sxs-lookup"><span data-stu-id="33822-174">Select the fields you need for your report, for instance,  Volcano Name, Country, Region, Location, Elevation, Type, Status and Last Know Eruption, and then click **OK**.</span></span>
   
    ![Power BI tutorial for DocumentDB Power BI connector - Expand documents](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/power_bi_connector_pbiqueryeditorexpander.png)
3. <span data-ttu-id="33822-176">The center pane will display a preview of the result with the fields selected.</span><span class="sxs-lookup"><span data-stu-id="33822-176">The center pane will display a preview of the result with the fields selected.</span></span>
   
    ![Power BI tutorial for DocumentDB Power BI connector - Flatten results](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/power_bi_connector_pbiresultflatten.png)
4. <span data-ttu-id="33822-178">In our example, the Location property is a GeoJSON block in a document.</span><span class="sxs-lookup"><span data-stu-id="33822-178">In our example, the Location property is a GeoJSON block in a document.</span></span>  <span data-ttu-id="33822-179">As you can see, Location is represented as a **Record** type in Power BI Desktop.</span><span class="sxs-lookup"><span data-stu-id="33822-179">As you can see, Location is represented as a **Record** type in Power BI Desktop.</span></span>  
5. <span data-ttu-id="33822-180">Click on the expander at the right side of the Location column header.</span><span class="sxs-lookup"><span data-stu-id="33822-180">Click on the expander at the right side of the Location column header.</span></span>  <span data-ttu-id="33822-181">The context menu with type and coordinates fields will appear.</span><span class="sxs-lookup"><span data-stu-id="33822-181">The context menu with type and coordinates fields will appear.</span></span>  <span data-ttu-id="33822-182">Let's select the coordinates field and click **OK**.</span><span class="sxs-lookup"><span data-stu-id="33822-182">Let's select the coordinates field and click **OK**.</span></span>
   
    ![Power BI tutorial for DocumentDB Power BI connector - Location record](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/power_bi_connector_pbilocationrecord.png)
6. <span data-ttu-id="33822-184">The center pane now shows a coordinates column of **List** type.</span><span class="sxs-lookup"><span data-stu-id="33822-184">The center pane now shows a coordinates column of **List** type.</span></span>  <span data-ttu-id="33822-185">As shown at the beginning of the tutorial, the GeoJSON data in this tutorial is of Point type with Latitude and Longitude values recorded in the coordinates array.</span><span class="sxs-lookup"><span data-stu-id="33822-185">As shown at the beginning of the tutorial, the GeoJSON data in this tutorial is of Point type with Latitude and Longitude values recorded in the coordinates array.</span></span>
   
    <span data-ttu-id="33822-186">The coordinates[0] element represents Longitude while coordinates[1] represents Latitude.</span><span class="sxs-lookup"><span data-stu-id="33822-186">The coordinates[0] element represents Longitude while coordinates[1] represents Latitude.</span></span>
    <span data-ttu-id="33822-187">![Power BI tutorial for DocumentDB Power BI connector - Coordinates list](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/power_bi_connector_pbiresultflattenlist.png)</span><span class="sxs-lookup"><span data-stu-id="33822-187">![Power BI tutorial for DocumentDB Power BI connector - Coordinates list](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/power_bi_connector_pbiresultflattenlist.png)</span></span>
7. <span data-ttu-id="33822-188">To flatten the coordinates array, we will create a **Custom Column** called LatLong.</span><span class="sxs-lookup"><span data-stu-id="33822-188">To flatten the coordinates array, we will create a **Custom Column** called LatLong.</span></span>  <span data-ttu-id="33822-189">Select the **Add Column** ribbon and click on **Add Custom Column**.</span><span class="sxs-lookup"><span data-stu-id="33822-189">Select the **Add Column** ribbon and click on **Add Custom Column**.</span></span>  <span data-ttu-id="33822-190">The **Add Custom Column** window should appear.</span><span class="sxs-lookup"><span data-stu-id="33822-190">The **Add Custom Column** window should appear.</span></span>
8. <span data-ttu-id="33822-191">Provide a name for the new column, e.g. LatLong.</span><span class="sxs-lookup"><span data-stu-id="33822-191">Provide a name for the new column, e.g. LatLong.</span></span>
9. <span data-ttu-id="33822-192">Next, specify the custom formula for the new column.</span><span class="sxs-lookup"><span data-stu-id="33822-192">Next, specify the custom formula for the new column.</span></span>  <span data-ttu-id="33822-193">For our example, we will concatenate the Latitude and Longitude values separated by a comma as shown below using the following formula: `Text.From([Document.Location.coordinates]{1})&","&Text.From([Document.Location.coordinates]{0})`.</span><span class="sxs-lookup"><span data-stu-id="33822-193">For our example, we will concatenate the Latitude and Longitude values separated by a comma as shown below using the following formula: `Text.From([Document.Location.coordinates]{1})&","&Text.From([Document.Location.coordinates]{0})`.</span></span> <span data-ttu-id="33822-194">Click **OK**.</span><span class="sxs-lookup"><span data-stu-id="33822-194">Click **OK**.</span></span>
   
    <span data-ttu-id="33822-195">For more information on Data Analysis Expressions (DAX) including DAX functions, please visit [DAX Basic in Power BI Desktop](https://support.powerbi.com/knowledgebase/articles/554619-dax-basics-in-power-bi-desktop).</span><span class="sxs-lookup"><span data-stu-id="33822-195">For more information on Data Analysis Expressions (DAX) including DAX functions, please visit [DAX Basic in Power BI Desktop](https://support.powerbi.com/knowledgebase/articles/554619-dax-basics-in-power-bi-desktop).</span></span>
   
    ![Power BI tutorial for DocumentDB Power BI connector - Add Custom Column](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/power_bi_connector_pbicustomlatlong.png)
10. <span data-ttu-id="33822-197">Now, the center pane will show the new LatLong column populated with the Latitude and Longitude values separated by a comma.</span><span class="sxs-lookup"><span data-stu-id="33822-197">Now, the center pane will show the new LatLong column populated with the Latitude and Longitude values separated by a comma.</span></span>
    
    ![Power BI tutorial for DocumentDB Power BI connector - Custom LatLong column](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/power_bi_connector_pbicolumnlatlong.png)
    
    <span data-ttu-id="33822-199">If you receive an Error in the new column, make sure that the applied steps under Query Settings match the following figure:</span><span class="sxs-lookup"><span data-stu-id="33822-199">If you receive an Error in the new column, make sure that the applied steps under Query Settings match the following figure:</span></span>
    
    ![Applied steps should be Source, Navigation, Expanded Document, Expanded Document.Location, Added Custom](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/azure-documentdb-power-bi-applied-steps.png)
    
    <span data-ttu-id="33822-201">If your steps are different, delete the extra steps and try adding the custom column again.</span><span class="sxs-lookup"><span data-stu-id="33822-201">If your steps are different, delete the extra steps and try adding the custom column again.</span></span> 
11. <span data-ttu-id="33822-202">We have now completed flattening the data into tabular format.</span><span class="sxs-lookup"><span data-stu-id="33822-202">We have now completed flattening the data into tabular format.</span></span>  <span data-ttu-id="33822-203">You can leverage all of the features available in the Query Editor to shape and transform data in DocumentDB.</span><span class="sxs-lookup"><span data-stu-id="33822-203">You can leverage all of the features available in the Query Editor to shape and transform data in DocumentDB.</span></span>  <span data-ttu-id="33822-204">If you're using the sample, change the data type for Elevation to **Whole number** by changing the **Data Type** on the **Home** ribbon.</span><span class="sxs-lookup"><span data-stu-id="33822-204">If you're using the sample, change the data type for Elevation to **Whole number** by changing the **Data Type** on the **Home** ribbon.</span></span>
    
    ![Power BI tutorial for DocumentDB Power BI connector - Change column type](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/power_bi_connector_pbichangetype.png)
12. <span data-ttu-id="33822-206">Click **Close and Apply** to save the data model.</span><span class="sxs-lookup"><span data-stu-id="33822-206">Click **Close and Apply** to save the data model.</span></span>
    
    ![Power BI tutorial for DocumentDB Power BI connector - Close & Apply](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/power_bi_connector_pbicloseapply.png)

## <a name="build-the-reports"></a><span data-ttu-id="33822-208">Build the reports</span><span class="sxs-lookup"><span data-stu-id="33822-208">Build the reports</span></span>
<span data-ttu-id="33822-209">Power BI Desktop Report view is where you can start creating reports to visualize data.</span><span class="sxs-lookup"><span data-stu-id="33822-209">Power BI Desktop Report view is where you can start creating reports to visualize data.</span></span>  <span data-ttu-id="33822-210">You can create reports by dragging and dropping fields into the **Report** canvas.</span><span class="sxs-lookup"><span data-stu-id="33822-210">You can create reports by dragging and dropping fields into the **Report** canvas.</span></span>

![Power BI Desktop Report View - Power BI connector](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/power_bi_connector_pbireportview2.png)

<span data-ttu-id="33822-212">In the Report view, you should find:</span><span class="sxs-lookup"><span data-stu-id="33822-212">In the Report view, you should find:</span></span>

1. <span data-ttu-id="33822-213">The **Fields** pane, this is where you will see a list of data models with fields you can use for your reports.</span><span class="sxs-lookup"><span data-stu-id="33822-213">The **Fields** pane, this is where you will see a list of data models with fields you can use for your reports.</span></span>
2. <span data-ttu-id="33822-214">The **Visualizations** pane.</span><span class="sxs-lookup"><span data-stu-id="33822-214">The **Visualizations** pane.</span></span> <span data-ttu-id="33822-215">A report can contain a single or multiple visualizations.</span><span class="sxs-lookup"><span data-stu-id="33822-215">A report can contain a single or multiple visualizations.</span></span>  <span data-ttu-id="33822-216">Pick the visual types fitting your needs from the **Visualizations** pane.</span><span class="sxs-lookup"><span data-stu-id="33822-216">Pick the visual types fitting your needs from the **Visualizations** pane.</span></span>
3. <span data-ttu-id="33822-217">The **Report** canvas, this is where you will build the visuals for your report.</span><span class="sxs-lookup"><span data-stu-id="33822-217">The **Report** canvas, this is where you will build the visuals for your report.</span></span>
4. <span data-ttu-id="33822-218">The **Report** page.</span><span class="sxs-lookup"><span data-stu-id="33822-218">The **Report** page.</span></span> <span data-ttu-id="33822-219">You can add multiple report pages in Power BI Desktop.</span><span class="sxs-lookup"><span data-stu-id="33822-219">You can add multiple report pages in Power BI Desktop.</span></span>

<span data-ttu-id="33822-220">The following shows the basic steps of creating a simple interactive Map view report.</span><span class="sxs-lookup"><span data-stu-id="33822-220">The following shows the basic steps of creating a simple interactive Map view report.</span></span>

1. <span data-ttu-id="33822-221">For our example, we will create a map view showing the location of each volcano.</span><span class="sxs-lookup"><span data-stu-id="33822-221">For our example, we will create a map view showing the location of each volcano.</span></span>  <span data-ttu-id="33822-222">In the **Visualizations** pane, click on the Map visual type as highlighted in the screenshot above.</span><span class="sxs-lookup"><span data-stu-id="33822-222">In the **Visualizations** pane, click on the Map visual type as highlighted in the screenshot above.</span></span>  <span data-ttu-id="33822-223">You should see the Map visual type painted on the **Report** canvas.</span><span class="sxs-lookup"><span data-stu-id="33822-223">You should see the Map visual type painted on the **Report** canvas.</span></span>  <span data-ttu-id="33822-224">The **Visualization** pane should also display a set of properties related to the Map visual type.</span><span class="sxs-lookup"><span data-stu-id="33822-224">The **Visualization** pane should also display a set of properties related to the Map visual type.</span></span>
2. <span data-ttu-id="33822-225">Now, drag and drop the LatLong field from the **Fields** pane to the **Location** property in **Visualizations** pane.</span><span class="sxs-lookup"><span data-stu-id="33822-225">Now, drag and drop the LatLong field from the **Fields** pane to the **Location** property in **Visualizations** pane.</span></span>
3. <span data-ttu-id="33822-226">Next, drag and drop the Volcano Name field to the **Legend** property.</span><span class="sxs-lookup"><span data-stu-id="33822-226">Next, drag and drop the Volcano Name field to the **Legend** property.</span></span>  
4. <span data-ttu-id="33822-227">Then, drag and drop the Elevation field to the **Size** property.</span><span class="sxs-lookup"><span data-stu-id="33822-227">Then, drag and drop the Elevation field to the **Size** property.</span></span>  
5. <span data-ttu-id="33822-228">You should now see the Map visual showing a set of bubbles indicating the location of each volcano with the size of the bubble correlating to the elevation of the volcano.</span><span class="sxs-lookup"><span data-stu-id="33822-228">You should now see the Map visual showing a set of bubbles indicating the location of each volcano with the size of the bubble correlating to the elevation of the volcano.</span></span>
6. <span data-ttu-id="33822-229">You now have created a basic report.</span><span class="sxs-lookup"><span data-stu-id="33822-229">You now have created a basic report.</span></span>  <span data-ttu-id="33822-230">You can further customize the report by adding more visualizations.</span><span class="sxs-lookup"><span data-stu-id="33822-230">You can further customize the report by adding more visualizations.</span></span>  <span data-ttu-id="33822-231">In our case, we added a Volcano Type slicer to make the report interactive.</span><span class="sxs-lookup"><span data-stu-id="33822-231">In our case, we added a Volcano Type slicer to make the report interactive.</span></span>  
   
    ![Screenshot of the final Power BI Desktop report upon completion of the Power BI tutorial for DocumentDB](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/power_bi_connector_pbireportfinal.png)

## <a name="publish-and-share-your-report"></a><span data-ttu-id="33822-233">Publish and share your report</span><span class="sxs-lookup"><span data-stu-id="33822-233">Publish and share your report</span></span>
<span data-ttu-id="33822-234">To share your report, you must have an account in PowerBI.com.</span><span class="sxs-lookup"><span data-stu-id="33822-234">To share your report, you must have an account in PowerBI.com.</span></span>

1. <span data-ttu-id="33822-235">In the Power BI Desktop, click on the **Home** ribbon.</span><span class="sxs-lookup"><span data-stu-id="33822-235">In the Power BI Desktop, click on the **Home** ribbon.</span></span>
2. <span data-ttu-id="33822-236">Click **Publish**.</span><span class="sxs-lookup"><span data-stu-id="33822-236">Click **Publish**.</span></span>  <span data-ttu-id="33822-237">You will be prompted to enter the user name and password for your PowerBI.com account.</span><span class="sxs-lookup"><span data-stu-id="33822-237">You will be prompted to enter the user name and password for your PowerBI.com account.</span></span>
3. <span data-ttu-id="33822-238">Once the credential has been authenticated, the report is published to your destination you selected.</span><span class="sxs-lookup"><span data-stu-id="33822-238">Once the credential has been authenticated, the report is published to your destination you selected.</span></span>
4. <span data-ttu-id="33822-239">Click **Open 'PowerBITutorial.pbix' in Power BI** to see and share your report on PowerBI.com.</span><span class="sxs-lookup"><span data-stu-id="33822-239">Click **Open 'PowerBITutorial.pbix' in Power BI** to see and share your report on PowerBI.com.</span></span>
   
    ![Publishing to Power BI Success!](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/power_bi_connector_open_in_powerbi.png)

## <a name="create-a-dashboard-in-powerbicom"></a><span data-ttu-id="33822-242">Create a dashboard in PowerBI.com</span><span class="sxs-lookup"><span data-stu-id="33822-242">Create a dashboard in PowerBI.com</span></span>
<span data-ttu-id="33822-243">Now that you have a report, lets share it on PowerBI.com</span><span class="sxs-lookup"><span data-stu-id="33822-243">Now that you have a report, lets share it on PowerBI.com</span></span>

<span data-ttu-id="33822-244">When you publish your report from Power BI Desktop to PowerBI.com, it generates a **Report** and a **Dataset** in your PowerBI.com tenant.</span><span class="sxs-lookup"><span data-stu-id="33822-244">When you publish your report from Power BI Desktop to PowerBI.com, it generates a **Report** and a **Dataset** in your PowerBI.com tenant.</span></span> <span data-ttu-id="33822-245">For example, after you published a report called **PowerBITutorial** to PowerBI.com, you will see PowerBITutorial in both the **Reports** and **Datasets** sections on PowerBI.com.</span><span class="sxs-lookup"><span data-stu-id="33822-245">For example, after you published a report called **PowerBITutorial** to PowerBI.com, you will see PowerBITutorial in both the **Reports** and **Datasets** sections on PowerBI.com.</span></span>

   ![Screenshot of the new Report and Dataset in PowerBI.com](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/documentdb-powerbi-reports-datasets.png)

<span data-ttu-id="33822-247">To create a sharable dashboard, click the **Pin Live Page** button on your PowerBI.com report.</span><span class="sxs-lookup"><span data-stu-id="33822-247">To create a sharable dashboard, click the **Pin Live Page** button on your PowerBI.com report.</span></span>

   ![Screenshot of the new Report and Dataset in PowerBI.com](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/azure-documentdb-power-bi-pin-live-tile.png)

<span data-ttu-id="33822-249">Then follow the instructions in [Pin a tile from a report](https://powerbi.microsoft.com/documentation/powerbi-service-pin-a-tile-to-a-dashboard-from-a-report/#pin-a-tile-from-a-report) to create a new dashboard.</span><span class="sxs-lookup"><span data-stu-id="33822-249">Then follow the instructions in [Pin a tile from a report](https://powerbi.microsoft.com/documentation/powerbi-service-pin-a-tile-to-a-dashboard-from-a-report/#pin-a-tile-from-a-report) to create a new dashboard.</span></span> 

<span data-ttu-id="33822-250">You can also do ad hoc modifications to report before creating a dashboard.</span><span class="sxs-lookup"><span data-stu-id="33822-250">You can also do ad hoc modifications to report before creating a dashboard.</span></span> <span data-ttu-id="33822-251">However, it's recommended that you use Power BI Desktop to perform the modifications and republish the report to PowerBI.com.</span><span class="sxs-lookup"><span data-stu-id="33822-251">However, it's recommended that you use Power BI Desktop to perform the modifications and republish the report to PowerBI.com.</span></span>

## <a name="refresh-data-in-powerbicom"></a><span data-ttu-id="33822-252">Refresh data in PowerBI.com</span><span class="sxs-lookup"><span data-stu-id="33822-252">Refresh data in PowerBI.com</span></span>
<span data-ttu-id="33822-253">There are two ways to refresh data, ad hoc and scheduled.</span><span class="sxs-lookup"><span data-stu-id="33822-253">There are two ways to refresh data, ad hoc and scheduled.</span></span>

<span data-ttu-id="33822-254">For an ad hoc refresh, simply click on the eclipses (…) by the **Dataset**, e.g. PowerBITutorial.</span><span class="sxs-lookup"><span data-stu-id="33822-254">For an ad hoc refresh, simply click on the eclipses (…) by the **Dataset**, e.g. PowerBITutorial.</span></span> <span data-ttu-id="33822-255">You should see a list of actions including **Refresh Now**.</span><span class="sxs-lookup"><span data-stu-id="33822-255">You should see a list of actions including **Refresh Now**.</span></span> <span data-ttu-id="33822-256">Click **Refresh Now** to refresh the data.</span><span class="sxs-lookup"><span data-stu-id="33822-256">Click **Refresh Now** to refresh the data.</span></span>

![Screenshot of Refresh Now in PowerBI.com](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/azure-documentdb-power-bi-refresh-now.png)

<span data-ttu-id="33822-258">For a scheduled refresh, do the following.</span><span class="sxs-lookup"><span data-stu-id="33822-258">For a scheduled refresh, do the following.</span></span>

1. <span data-ttu-id="33822-259">Click **Schedule Refresh** in the action list.</span><span class="sxs-lookup"><span data-stu-id="33822-259">Click **Schedule Refresh** in the action list.</span></span> 
    <span data-ttu-id="33822-260">![Screenshot of the Schedule Refresh in PowerBI.com](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/azure-documentdb-power-bi-schedule-refresh.png)</span><span class="sxs-lookup"><span data-stu-id="33822-260">![Screenshot of the Schedule Refresh in PowerBI.com](https://docstestmedia1.blob.core.windows.net/azure-media/articles/documentdb/media/documentdb-powerbi-visualize/azure-documentdb-power-bi-schedule-refresh.png)</span></span>
2. <span data-ttu-id="33822-261">In the **Settings** page, expand **Data source credentials**.</span><span class="sxs-lookup"><span data-stu-id="33822-261">In the **Settings** page, expand **Data source credentials**.</span></span> 
3. <span data-ttu-id="33822-262">Click on **Edit credentials**.</span><span class="sxs-lookup"><span data-stu-id="33822-262">Click on **Edit credentials**.</span></span> 
   
    <span data-ttu-id="33822-263">The Configure popup appears.</span><span class="sxs-lookup"><span data-stu-id="33822-263">The Configure popup appears.</span></span> 
4. <span data-ttu-id="33822-264">Enter the key to connect to the DocumentDB account for that data set, then click **Sign in**.</span><span class="sxs-lookup"><span data-stu-id="33822-264">Enter the key to connect to the DocumentDB account for that data set, then click **Sign in**.</span></span> 
5. <span data-ttu-id="33822-265">Expand **Schedule Refresh** and set up the schedule you want to refresh the dataset.</span><span class="sxs-lookup"><span data-stu-id="33822-265">Expand **Schedule Refresh** and set up the schedule you want to refresh the dataset.</span></span> 
6. <span data-ttu-id="33822-266">Click **Apply** and you are done setting up the scheduled refresh.</span><span class="sxs-lookup"><span data-stu-id="33822-266">Click **Apply** and you are done setting up the scheduled refresh.</span></span>

## <a name="next-steps"></a><span data-ttu-id="33822-267">Next steps</span><span class="sxs-lookup"><span data-stu-id="33822-267">Next steps</span></span>
* <span data-ttu-id="33822-268">To learn more about Power BI, see [Get started with Power BI](https://powerbi.microsoft.com/documentation/powerbi-service-get-started/).</span><span class="sxs-lookup"><span data-stu-id="33822-268">To learn more about Power BI, see [Get started with Power BI](https://powerbi.microsoft.com/documentation/powerbi-service-get-started/).</span></span>
* <span data-ttu-id="33822-269">To learn more about DocumentDB, see the [DocumentDB documentation landing page](https://azure.microsoft.com/documentation/services/documentdb/).</span><span class="sxs-lookup"><span data-stu-id="33822-269">To learn more about DocumentDB, see the [DocumentDB documentation landing page](https://azure.microsoft.com/documentation/services/documentdb/).</span></span>

























