---
title: Azure Redis Cache FAQ | Microsoft Docs
description: Learn the answers to common questions, patterns and best practices for Azure Redis Cache
services: redis-cache
documentationcenter: ''
author: steved0x
manager: douge
editor: ''
ms.assetid: c2c52b7d-b2d1-433a-b635-c20180e5cab2
ms.service: cache
ms.workload: tbd
ms.tgt_pltfrm: cache-redis
ms.devlang: na
ms.topic: article
ms.date: 04/12/2017
ms.author: sdanie
ms.openlocfilehash: e214cef9b1f982a23e1e10f822b7ecde3d1e20c0
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44540980"
---
# <a name="azure-redis-cache-faq"></a><span data-ttu-id="f958e-103">Azure Redis Cache FAQ</span><span class="sxs-lookup"><span data-stu-id="f958e-103">Azure Redis Cache FAQ</span></span>
<span data-ttu-id="f958e-104">Learn the answers to common questions, patterns, and best practices for Azure Redis Cache.</span><span class="sxs-lookup"><span data-stu-id="f958e-104">Learn the answers to common questions, patterns, and best practices for Azure Redis Cache.</span></span>

## <a name="what-if-my-question-isnt-answered-here"></a><span data-ttu-id="f958e-105">What if my question isn't answered here?</span><span class="sxs-lookup"><span data-stu-id="f958e-105">What if my question isn't answered here?</span></span>
<span data-ttu-id="f958e-106">If your question isn't listed here, let us know and we'll help you find an answer.</span><span class="sxs-lookup"><span data-stu-id="f958e-106">If your question isn't listed here, let us know and we'll help you find an answer.</span></span>

* <span data-ttu-id="f958e-107">You can post a question in the comments at the end of this FAQ and engage with the Azure Cache team and other community members about this article.</span><span class="sxs-lookup"><span data-stu-id="f958e-107">You can post a question in the comments at the end of this FAQ and engage with the Azure Cache team and other community members about this article.</span></span>
* <span data-ttu-id="f958e-108">To reach a wider audience, you can post a question on the [Azure Cache MSDN Forum](https://social.msdn.microsoft.com/forums/azure/home?forum=azurecache) and engage with the Azure Cache team and other members of the community.</span><span class="sxs-lookup"><span data-stu-id="f958e-108">To reach a wider audience, you can post a question on the [Azure Cache MSDN Forum](https://social.msdn.microsoft.com/forums/azure/home?forum=azurecache) and engage with the Azure Cache team and other members of the community.</span></span>
* <span data-ttu-id="f958e-109">If you want to make a feature request, you can submit your requests and ideas to [Azure Redis Cache User Voice](https://feedback.azure.com/forums/169382-cache).</span><span class="sxs-lookup"><span data-stu-id="f958e-109">If you want to make a feature request, you can submit your requests and ideas to [Azure Redis Cache User Voice](https://feedback.azure.com/forums/169382-cache).</span></span>
* <span data-ttu-id="f958e-110">You can also send an email to us at [Azure Cache External Feedback](mailto:azurecache@microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="f958e-110">You can also send an email to us at [Azure Cache External Feedback](mailto:azurecache@microsoft.com).</span></span>

## <a name="azure-redis-cache-basics"></a><span data-ttu-id="f958e-111">Azure Redis Cache basics</span><span class="sxs-lookup"><span data-stu-id="f958e-111">Azure Redis Cache basics</span></span>
<span data-ttu-id="f958e-112">The FAQs in this section cover some of the basics of Azure Redis Cache.</span><span class="sxs-lookup"><span data-stu-id="f958e-112">The FAQs in this section cover some of the basics of Azure Redis Cache.</span></span>

* [<span data-ttu-id="f958e-113">What is Azure Redis Cache?</span><span class="sxs-lookup"><span data-stu-id="f958e-113">What is Azure Redis Cache?</span></span>](#what-is-azure-redis-cache)
* [<span data-ttu-id="f958e-114">How can I get started with Azure Redis Cache?</span><span class="sxs-lookup"><span data-stu-id="f958e-114">How can I get started with Azure Redis Cache?</span></span>](#how-can-i-get-started-with-azure-redis-cache)

<span data-ttu-id="f958e-115">The following FAQs cover basic concepts and questions about Azure Redis Cache and are answered in one of the other FAQ sections.</span><span class="sxs-lookup"><span data-stu-id="f958e-115">The following FAQs cover basic concepts and questions about Azure Redis Cache and are answered in one of the other FAQ sections.</span></span>

* [<span data-ttu-id="f958e-116">What Redis Cache offering and size should I use?</span><span class="sxs-lookup"><span data-stu-id="f958e-116">What Redis Cache offering and size should I use?</span></span>](#what-redis-cache-offering-and-size-should-i-use)
* [<span data-ttu-id="f958e-117">What Redis cache clients can I use?</span><span class="sxs-lookup"><span data-stu-id="f958e-117">What Redis cache clients can I use?</span></span>](#what-redis-cache-clients-can-i-use)
* [<span data-ttu-id="f958e-118">Is there a local emulator for Azure Redis Cache?</span><span class="sxs-lookup"><span data-stu-id="f958e-118">Is there a local emulator for Azure Redis Cache?</span></span>](#is-there-a-local-emulator-for-azure-redis-cache)
* [<span data-ttu-id="f958e-119">How do I monitor the health and performance of my cache?</span><span class="sxs-lookup"><span data-stu-id="f958e-119">How do I monitor the health and performance of my cache?</span></span>](#how-do-i-monitor-the-health-and-performance-of-my-cache)

## <a name="planning-faqs"></a><span data-ttu-id="f958e-120">Planning FAQs</span><span class="sxs-lookup"><span data-stu-id="f958e-120">Planning FAQs</span></span>
* [<span data-ttu-id="f958e-121">What Redis Cache offering and size should I use?</span><span class="sxs-lookup"><span data-stu-id="f958e-121">What Redis Cache offering and size should I use?</span></span>](#what-redis-cache-offering-and-size-should-i-use)
* [<span data-ttu-id="f958e-122">Azure Redis Cache performance</span><span class="sxs-lookup"><span data-stu-id="f958e-122">Azure Redis Cache performance</span></span>](#azure-redis-cache-performance)
* [<span data-ttu-id="f958e-123">In what region should I locate my cache?</span><span class="sxs-lookup"><span data-stu-id="f958e-123">In what region should I locate my cache?</span></span>](#in-what-region-should-i-locate-my-cache)
* [<span data-ttu-id="f958e-124">How am I billed for Azure Redis Cache?</span><span class="sxs-lookup"><span data-stu-id="f958e-124">How am I billed for Azure Redis Cache?</span></span>](#how-am-i-billed-for-azure-redis-cache)
* [<span data-ttu-id="f958e-125">Can I use Azure Redis Cache with Azure Government Cloud, Azure China Cloud, or Microsoft Azure Germany?</span><span class="sxs-lookup"><span data-stu-id="f958e-125">Can I use Azure Redis Cache with Azure Government Cloud, Azure China Cloud, or Microsoft Azure Germany?</span></span>](#can-i-use-azure-redis-cache-with-azure-government-cloud-azure-china-cloud-or-microsoft-azure-germany)

## <a name="development-faqs"></a><span data-ttu-id="f958e-126">Development FAQs</span><span class="sxs-lookup"><span data-stu-id="f958e-126">Development FAQs</span></span>
* [<span data-ttu-id="f958e-127">What do the StackExchange.Redis configuration options do?</span><span class="sxs-lookup"><span data-stu-id="f958e-127">What do the StackExchange.Redis configuration options do?</span></span>](#what-do-the-stackexchangeredis-configuration-options-do)
* [<span data-ttu-id="f958e-128">What Redis cache clients can I use?</span><span class="sxs-lookup"><span data-stu-id="f958e-128">What Redis cache clients can I use?</span></span>](#what-redis-cache-clients-can-i-use)
* [<span data-ttu-id="f958e-129">Is there a local emulator for Azure Redis Cache?</span><span class="sxs-lookup"><span data-stu-id="f958e-129">Is there a local emulator for Azure Redis Cache?</span></span>](#is-there-a-local-emulator-for-azure-redis-cache)
* [<span data-ttu-id="f958e-130">How can I run Redis commands?</span><span class="sxs-lookup"><span data-stu-id="f958e-130">How can I run Redis commands?</span></span>](#how-can-i-run-redis-commands)
* [<span data-ttu-id="f958e-131">Why doesn't Azure Redis Cache have an MSDN class library reference like some of the other Azure services?</span><span class="sxs-lookup"><span data-stu-id="f958e-131">Why doesn't Azure Redis Cache have an MSDN class library reference like some of the other Azure services?</span></span>](#why-doesnt-azure-redis-cache-have-an-msdn-class-library-reference-like-some-of-the-other-azure-services)
* [<span data-ttu-id="f958e-132">Can I use Azure Redis Cache as a PHP session cache?</span><span class="sxs-lookup"><span data-stu-id="f958e-132">Can I use Azure Redis Cache as a PHP session cache?</span></span>](#can-i-use-azure-redis-cache-as-a-php-session-cache)
* [<span data-ttu-id="f958e-133">What are Redis databases?</span><span class="sxs-lookup"><span data-stu-id="f958e-133">What are Redis databases?</span></span>](#what-are-redis-databases)

## <a name="security-faqs"></a><span data-ttu-id="f958e-134">Security FAQs</span><span class="sxs-lookup"><span data-stu-id="f958e-134">Security FAQs</span></span>
* [<span data-ttu-id="f958e-135">When should I enable the non-SSL port for connecting to Redis?</span><span class="sxs-lookup"><span data-stu-id="f958e-135">When should I enable the non-SSL port for connecting to Redis?</span></span>](#when-should-i-enable-the-non-ssl-port-for-connecting-to-redis)

## <a name="production-faqs"></a><span data-ttu-id="f958e-136">Production FAQs</span><span class="sxs-lookup"><span data-stu-id="f958e-136">Production FAQs</span></span>
* [<span data-ttu-id="f958e-137">What are some production best practices?</span><span class="sxs-lookup"><span data-stu-id="f958e-137">What are some production best practices?</span></span>](#what-are-some-production-best-practices)
* [<span data-ttu-id="f958e-138">What are some of the considerations when using common Redis commands?</span><span class="sxs-lookup"><span data-stu-id="f958e-138">What are some of the considerations when using common Redis commands?</span></span>](#what-are-some-of-the-considerations-when-using-common-redis-commands)
* [<span data-ttu-id="f958e-139">How can I benchmark and test the performance of my cache?</span><span class="sxs-lookup"><span data-stu-id="f958e-139">How can I benchmark and test the performance of my cache?</span></span>](#how-can-i-benchmark-and-test-the-performance-of-my-cache)
* [<span data-ttu-id="f958e-140">Important details about ThreadPool growth</span><span class="sxs-lookup"><span data-stu-id="f958e-140">Important details about ThreadPool growth</span></span>](#important-details-about-threadpool-growth)
* [<span data-ttu-id="f958e-141">Enable server GC to get more throughput on the client when using StackExchange.Redis</span><span class="sxs-lookup"><span data-stu-id="f958e-141">Enable server GC to get more throughput on the client when using StackExchange.Redis</span></span>](#enable-server-gc-to-get-more-throughput-on-the-client-when-using-stackexchangeredis)

## <a name="monitoring-and-troubleshooting-faqs"></a><span data-ttu-id="f958e-142">Monitoring and troubleshooting FAQs</span><span class="sxs-lookup"><span data-stu-id="f958e-142">Monitoring and troubleshooting FAQs</span></span>
<span data-ttu-id="f958e-143">The FAQs in this section cover common monitoring and troubleshooting questions.</span><span class="sxs-lookup"><span data-stu-id="f958e-143">The FAQs in this section cover common monitoring and troubleshooting questions.</span></span> <span data-ttu-id="f958e-144">For more information about monitoring and troubleshooting your Azure Redis Cache instances, see [How to monitor Azure Redis Cache](cache-how-to-monitor.md) and [How to troubleshoot Azure Redis Cache](cache-how-to-troubleshoot.md).</span><span class="sxs-lookup"><span data-stu-id="f958e-144">For more information about monitoring and troubleshooting your Azure Redis Cache instances, see [How to monitor Azure Redis Cache](cache-how-to-monitor.md) and [How to troubleshoot Azure Redis Cache](cache-how-to-troubleshoot.md).</span></span>

* [<span data-ttu-id="f958e-145">How do I monitor the health and performance of my cache?</span><span class="sxs-lookup"><span data-stu-id="f958e-145">How do I monitor the health and performance of my cache?</span></span>](#how-do-i-monitor-the-health-and-performance-of-my-cache)
* [<span data-ttu-id="f958e-146">My cache diagnostics storage account settings changed, what happened?</span><span class="sxs-lookup"><span data-stu-id="f958e-146">My cache diagnostics storage account settings changed, what happened?</span></span>](#my-cache-diagnostics-storage-account-settings-changed-what-happened)
* [<span data-ttu-id="f958e-147">Why are diagnostics enabled for some new caches but not others?</span><span class="sxs-lookup"><span data-stu-id="f958e-147">Why are diagnostics enabled for some new caches but not others?</span></span>](#why-are-diagnostics-enabled-for-some-new-caches-but-not-others)
* [<span data-ttu-id="f958e-148">Why am I seeing timeouts?</span><span class="sxs-lookup"><span data-stu-id="f958e-148">Why am I seeing timeouts?</span></span>](#why-am-i-seeing-timeouts)
* [<span data-ttu-id="f958e-149">Why was my client disconnected from the cache?</span><span class="sxs-lookup"><span data-stu-id="f958e-149">Why was my client disconnected from the cache?</span></span>](#why-was-my-client-disconnected-from-the-cache)

## <a name="prior-cache-offering-faqs"></a><span data-ttu-id="f958e-150">Prior Cache offering FAQs</span><span class="sxs-lookup"><span data-stu-id="f958e-150">Prior Cache offering FAQs</span></span>
* [<span data-ttu-id="f958e-151">Which Azure Cache offering is right for me?</span><span class="sxs-lookup"><span data-stu-id="f958e-151">Which Azure Cache offering is right for me?</span></span>](#which-azure-cache-offering-is-right-for-me)

### <a name="what-is-azure-redis-cache"></a><span data-ttu-id="f958e-152">What is Azure Redis Cache?</span><span class="sxs-lookup"><span data-stu-id="f958e-152">What is Azure Redis Cache?</span></span>
<span data-ttu-id="f958e-153">Azure Redis Cache is based on the popular open-source [Redis cache](http://redis.io).</span><span class="sxs-lookup"><span data-stu-id="f958e-153">Azure Redis Cache is based on the popular open-source [Redis cache](http://redis.io).</span></span> <span data-ttu-id="f958e-154">It gives you access to a secure, dedicated Redis cache, managed by Microsoft, and accessible from any application within Azure.</span><span class="sxs-lookup"><span data-stu-id="f958e-154">It gives you access to a secure, dedicated Redis cache, managed by Microsoft, and accessible from any application within Azure.</span></span> <span data-ttu-id="f958e-155">For a more detailed overview, see the [Azure Redis Cache](https://azure.microsoft.com/services/cache/) product page on Azure.com.</span><span class="sxs-lookup"><span data-stu-id="f958e-155">For a more detailed overview, see the [Azure Redis Cache](https://azure.microsoft.com/services/cache/) product page on Azure.com.</span></span>

### <a name="how-can-i-get-started-with-azure-redis-cache"></a><span data-ttu-id="f958e-156">How can I get started with Azure Redis Cache?</span><span class="sxs-lookup"><span data-stu-id="f958e-156">How can I get started with Azure Redis Cache?</span></span>
<span data-ttu-id="f958e-157">There are several ways you can get started with Azure Redis Cache.</span><span class="sxs-lookup"><span data-stu-id="f958e-157">There are several ways you can get started with Azure Redis Cache.</span></span>

* <span data-ttu-id="f958e-158">You can check out one of our tutorials available for [.NET](cache-dotnet-how-to-use-azure-redis-cache.md), [ASP.NET](cache-web-app-howto.md), [Java](cache-java-get-started.md), [Node.js](cache-nodejs-get-started.md), and [Python](cache-python-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="f958e-158">You can check out one of our tutorials available for [.NET](cache-dotnet-how-to-use-azure-redis-cache.md), [ASP.NET](cache-web-app-howto.md), [Java](cache-java-get-started.md), [Node.js](cache-nodejs-get-started.md), and [Python](cache-python-get-started.md).</span></span>
* <span data-ttu-id="f958e-159">You can watch [How to Build High-Performance Apps Using Microsoft Azure Redis Cache](https://azure.microsoft.com/documentation/videos/how-to-build-high-performance-apps-using-microsoft-azure-cache/).</span><span class="sxs-lookup"><span data-stu-id="f958e-159">You can watch [How to Build High-Performance Apps Using Microsoft Azure Redis Cache](https://azure.microsoft.com/documentation/videos/how-to-build-high-performance-apps-using-microsoft-azure-cache/).</span></span>
* <span data-ttu-id="f958e-160">You can check out the client documentation for the clients that match the development language of your project to see how to use Redis.</span><span class="sxs-lookup"><span data-stu-id="f958e-160">You can check out the client documentation for the clients that match the development language of your project to see how to use Redis.</span></span> <span data-ttu-id="f958e-161">There are many Redis clients that can be used with Azure Redis Cache.</span><span class="sxs-lookup"><span data-stu-id="f958e-161">There are many Redis clients that can be used with Azure Redis Cache.</span></span> <span data-ttu-id="f958e-162">For a list of Redis clients, see [http://redis.io/clients](http://redis.io/clients).</span><span class="sxs-lookup"><span data-stu-id="f958e-162">For a list of Redis clients, see [http://redis.io/clients](http://redis.io/clients).</span></span>

<span data-ttu-id="f958e-163">If you don't already have an Azure account, you can:</span><span class="sxs-lookup"><span data-stu-id="f958e-163">If you don't already have an Azure account, you can:</span></span>

* <span data-ttu-id="f958e-164">[Open an Azure account for free](https://azure.microsoft.com/pricing/free-trial/?WT.mc_id=redis_cache_hero).</span><span class="sxs-lookup"><span data-stu-id="f958e-164">[Open an Azure account for free](https://azure.microsoft.com/pricing/free-trial/?WT.mc_id=redis_cache_hero).</span></span> <span data-ttu-id="f958e-165">You get credits that can be used to try out paid Azure services.</span><span class="sxs-lookup"><span data-stu-id="f958e-165">You get credits that can be used to try out paid Azure services.</span></span> <span data-ttu-id="f958e-166">Even after the credits are used up, you can keep the account and use free Azure services and features.</span><span class="sxs-lookup"><span data-stu-id="f958e-166">Even after the credits are used up, you can keep the account and use free Azure services and features.</span></span>
* <span data-ttu-id="f958e-167">[Activate Visual Studio subscriber benefits](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/?WT.mc_id=redis_cache_hero).</span><span class="sxs-lookup"><span data-stu-id="f958e-167">[Activate Visual Studio subscriber benefits](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/?WT.mc_id=redis_cache_hero).</span></span> <span data-ttu-id="f958e-168">Your MSDN subscription gives you credits every month that you can use for paid Azure services.</span><span class="sxs-lookup"><span data-stu-id="f958e-168">Your MSDN subscription gives you credits every month that you can use for paid Azure services.</span></span>

<a name="cache-size"></a>

### <a name="what-redis-cache-offering-and-size-should-i-use"></a><span data-ttu-id="f958e-169">What Redis Cache offering and size should I use?</span><span class="sxs-lookup"><span data-stu-id="f958e-169">What Redis Cache offering and size should I use?</span></span>
<span data-ttu-id="f958e-170">Each Azure Redis Cache offering provides different levels of **size**, **bandwidth**, **high availability**, and **SLA** options.</span><span class="sxs-lookup"><span data-stu-id="f958e-170">Each Azure Redis Cache offering provides different levels of **size**, **bandwidth**, **high availability**, and **SLA** options.</span></span>

<span data-ttu-id="f958e-171">The following are considerations for choosing a Cache offering.</span><span class="sxs-lookup"><span data-stu-id="f958e-171">The following are considerations for choosing a Cache offering.</span></span>

* <span data-ttu-id="f958e-172">**Memory**: The Basic and Standard tiers offer 250 MB – 53 GB.</span><span class="sxs-lookup"><span data-stu-id="f958e-172">**Memory**: The Basic and Standard tiers offer 250 MB – 53 GB.</span></span> <span data-ttu-id="f958e-173">The Premium tier offers up to 530 GB with more available [on request](mailto:wapteams@microsoft.com?subject=Redis%20Cache%20quota%20increase).</span><span class="sxs-lookup"><span data-stu-id="f958e-173">The Premium tier offers up to 530 GB with more available [on request](mailto:wapteams@microsoft.com?subject=Redis%20Cache%20quota%20increase).</span></span> <span data-ttu-id="f958e-174">For more information, see [Azure Redis Cache Pricing](https://azure.microsoft.com/pricing/details/cache/).</span><span class="sxs-lookup"><span data-stu-id="f958e-174">For more information, see [Azure Redis Cache Pricing](https://azure.microsoft.com/pricing/details/cache/).</span></span>
* <span data-ttu-id="f958e-175">**Network Performance**: If you have a workload that requires high throughput, the Premium tier offers more bandwidth compared to Standard or Basic.</span><span class="sxs-lookup"><span data-stu-id="f958e-175">**Network Performance**: If you have a workload that requires high throughput, the Premium tier offers more bandwidth compared to Standard or Basic.</span></span> <span data-ttu-id="f958e-176">Also within each tier, larger size caches have more bandwidth because of the underlying VM that hosts the cache.</span><span class="sxs-lookup"><span data-stu-id="f958e-176">Also within each tier, larger size caches have more bandwidth because of the underlying VM that hosts the cache.</span></span> <span data-ttu-id="f958e-177">See the [following table](#cache-performance) for more information.</span><span class="sxs-lookup"><span data-stu-id="f958e-177">See the [following table](#cache-performance) for more information.</span></span>
* <span data-ttu-id="f958e-178">**Throughput**: The Premium tier offers the maximum available throughput.</span><span class="sxs-lookup"><span data-stu-id="f958e-178">**Throughput**: The Premium tier offers the maximum available throughput.</span></span> <span data-ttu-id="f958e-179">If the cache server or client reaches the bandwidth limits, you may receive timeouts on the client side.</span><span class="sxs-lookup"><span data-stu-id="f958e-179">If the cache server or client reaches the bandwidth limits, you may receive timeouts on the client side.</span></span> <span data-ttu-id="f958e-180">For more information, see the following table.</span><span class="sxs-lookup"><span data-stu-id="f958e-180">For more information, see the following table.</span></span>
* <span data-ttu-id="f958e-181">**High Availability/SLA**: Azure Redis Cache guarantees that a Standard/Premium cache is available at least 99.9% of the time.</span><span class="sxs-lookup"><span data-stu-id="f958e-181">**High Availability/SLA**: Azure Redis Cache guarantees that a Standard/Premium cache is available at least 99.9% of the time.</span></span> <span data-ttu-id="f958e-182">To learn more about our SLA, see [Azure Redis Cache Pricing](https://azure.microsoft.com/support/legal/sla/cache/v1_0/).</span><span class="sxs-lookup"><span data-stu-id="f958e-182">To learn more about our SLA, see [Azure Redis Cache Pricing](https://azure.microsoft.com/support/legal/sla/cache/v1_0/).</span></span> <span data-ttu-id="f958e-183">The SLA only covers connectivity to the Cache endpoints.</span><span class="sxs-lookup"><span data-stu-id="f958e-183">The SLA only covers connectivity to the Cache endpoints.</span></span> <span data-ttu-id="f958e-184">The SLA does not cover protection from data loss.</span><span class="sxs-lookup"><span data-stu-id="f958e-184">The SLA does not cover protection from data loss.</span></span> <span data-ttu-id="f958e-185">We recommend using the Redis data persistence feature in the Premium tier to increase resiliency against data loss.</span><span class="sxs-lookup"><span data-stu-id="f958e-185">We recommend using the Redis data persistence feature in the Premium tier to increase resiliency against data loss.</span></span>
* <span data-ttu-id="f958e-186">**Redis Data Persistence**: The Premium tier allows you to persist the cache data in an Azure Storage account.</span><span class="sxs-lookup"><span data-stu-id="f958e-186">**Redis Data Persistence**: The Premium tier allows you to persist the cache data in an Azure Storage account.</span></span> <span data-ttu-id="f958e-187">In a Basic/Standard cache, all the data is stored only in memory.</span><span class="sxs-lookup"><span data-stu-id="f958e-187">In a Basic/Standard cache, all the data is stored only in memory.</span></span> <span data-ttu-id="f958e-188">If there are underlying infrastructure issues there can be potential data loss.</span><span class="sxs-lookup"><span data-stu-id="f958e-188">If there are underlying infrastructure issues there can be potential data loss.</span></span> <span data-ttu-id="f958e-189">We recommend using the Redis data persistence feature in the Premium tier to increase resiliency against data loss.</span><span class="sxs-lookup"><span data-stu-id="f958e-189">We recommend using the Redis data persistence feature in the Premium tier to increase resiliency against data loss.</span></span> <span data-ttu-id="f958e-190">Azure Redis Cache offers RDB and AOF (coming soon) options in Redis persistence.</span><span class="sxs-lookup"><span data-stu-id="f958e-190">Azure Redis Cache offers RDB and AOF (coming soon) options in Redis persistence.</span></span> <span data-ttu-id="f958e-191">For more information, see [How to configure persistence for a Premium Azure Redis Cache](cache-how-to-premium-persistence.md).</span><span class="sxs-lookup"><span data-stu-id="f958e-191">For more information, see [How to configure persistence for a Premium Azure Redis Cache](cache-how-to-premium-persistence.md).</span></span>
* <span data-ttu-id="f958e-192">**Redis Cluster**: To create caches larger than 53 GB, or to shard data across multiple Redis nodes, you can use Redis clustering, which is available in the Premium tier.</span><span class="sxs-lookup"><span data-stu-id="f958e-192">**Redis Cluster**: To create caches larger than 53 GB, or to shard data across multiple Redis nodes, you can use Redis clustering, which is available in the Premium tier.</span></span> <span data-ttu-id="f958e-193">Each node consists of a primary/replica cache pair for high availability.</span><span class="sxs-lookup"><span data-stu-id="f958e-193">Each node consists of a primary/replica cache pair for high availability.</span></span> <span data-ttu-id="f958e-194">For more information, see [How to configure clustering for a Premium Azure Redis Cache](cache-how-to-premium-clustering.md).</span><span class="sxs-lookup"><span data-stu-id="f958e-194">For more information, see [How to configure clustering for a Premium Azure Redis Cache](cache-how-to-premium-clustering.md).</span></span>
* <span data-ttu-id="f958e-195">**Enhanced security and network isolation**: Azure Virtual Network (VNET) deployment provides enhanced security and isolation for your Azure Redis Cache, as well as subnets, access control policies, and other features to further restrict access.</span><span class="sxs-lookup"><span data-stu-id="f958e-195">**Enhanced security and network isolation**: Azure Virtual Network (VNET) deployment provides enhanced security and isolation for your Azure Redis Cache, as well as subnets, access control policies, and other features to further restrict access.</span></span> <span data-ttu-id="f958e-196">For more information, see [How to configure Virtual Network support for a Premium Azure Redis Cache](cache-how-to-premium-vnet.md).</span><span class="sxs-lookup"><span data-stu-id="f958e-196">For more information, see [How to configure Virtual Network support for a Premium Azure Redis Cache](cache-how-to-premium-vnet.md).</span></span>
* <span data-ttu-id="f958e-197">**Configure Redis**: In both the Standard and Premium tiers, you can configure Redis for Keyspace notifications.</span><span class="sxs-lookup"><span data-stu-id="f958e-197">**Configure Redis**: In both the Standard and Premium tiers, you can configure Redis for Keyspace notifications.</span></span>
* <span data-ttu-id="f958e-198">**Maximum number of client connections**: The Premium tier offers the maximum number of clients that can connect to Redis, with a higher number of connections for larger sized caches.</span><span class="sxs-lookup"><span data-stu-id="f958e-198">**Maximum number of client connections**: The Premium tier offers the maximum number of clients that can connect to Redis, with a higher number of connections for larger sized caches.</span></span> <span data-ttu-id="f958e-199">For more information, see [Azure Redis Cache pricing](https://azure.microsoft.com/pricing/details/cache/).</span><span class="sxs-lookup"><span data-stu-id="f958e-199">For more information, see [Azure Redis Cache pricing](https://azure.microsoft.com/pricing/details/cache/).</span></span>
* <span data-ttu-id="f958e-200">**Dedicated Core for Redis Server**: In the Premium tier, all cache sizes have a dedicated core for Redis.</span><span class="sxs-lookup"><span data-stu-id="f958e-200">**Dedicated Core for Redis Server**: In the Premium tier, all cache sizes have a dedicated core for Redis.</span></span> <span data-ttu-id="f958e-201">In the Basic/Standard tiers, the C1 size and above have a dedicated core for Redis server.</span><span class="sxs-lookup"><span data-stu-id="f958e-201">In the Basic/Standard tiers, the C1 size and above have a dedicated core for Redis server.</span></span>
* <span data-ttu-id="f958e-202">**Redis is single-threaded** so having more than two cores does not provide additional benefit over having just two cores, but larger VM sizes typically have more bandwidth than smaller sizes.</span><span class="sxs-lookup"><span data-stu-id="f958e-202">**Redis is single-threaded** so having more than two cores does not provide additional benefit over having just two cores, but larger VM sizes typically have more bandwidth than smaller sizes.</span></span> <span data-ttu-id="f958e-203">If the cache server or client reaches the bandwidth limits, then you receive timeouts on the client side.</span><span class="sxs-lookup"><span data-stu-id="f958e-203">If the cache server or client reaches the bandwidth limits, then you receive timeouts on the client side.</span></span>
* <span data-ttu-id="f958e-204">**Performance improvements**: Caches in the Premium tier are deployed on hardware that has faster processors, giving better performance compared to the Basic or Standard tier.</span><span class="sxs-lookup"><span data-stu-id="f958e-204">**Performance improvements**: Caches in the Premium tier are deployed on hardware that has faster processors, giving better performance compared to the Basic or Standard tier.</span></span> <span data-ttu-id="f958e-205">Premium tier Caches have higher throughput and lower latencies.</span><span class="sxs-lookup"><span data-stu-id="f958e-205">Premium tier Caches have higher throughput and lower latencies.</span></span>

<a name="cache-performance"></a>

### <a name="azure-redis-cache-performance"></a><span data-ttu-id="f958e-206">Azure Redis Cache performance</span><span class="sxs-lookup"><span data-stu-id="f958e-206">Azure Redis Cache performance</span></span>
<span data-ttu-id="f958e-207">The following table shows the maximum bandwidth values observed while testing various sizes of Standard and Premium caches using `redis-benchmark.exe` from an Iaas VM against the Azure Redis Cache endpoint.</span><span class="sxs-lookup"><span data-stu-id="f958e-207">The following table shows the maximum bandwidth values observed while testing various sizes of Standard and Premium caches using `redis-benchmark.exe` from an Iaas VM against the Azure Redis Cache endpoint.</span></span> 

>[!NOTE] 
><span data-ttu-id="f958e-208">These values are not guaranteed and there is no SLA for these numbers, but should be typical.</span><span class="sxs-lookup"><span data-stu-id="f958e-208">These values are not guaranteed and there is no SLA for these numbers, but should be typical.</span></span> <span data-ttu-id="f958e-209">You should load test your own application to determine the right cache size for your application.</span><span class="sxs-lookup"><span data-stu-id="f958e-209">You should load test your own application to determine the right cache size for your application.</span></span>
>
>

<span data-ttu-id="f958e-210">From this table, we can draw the following conclusions:</span><span class="sxs-lookup"><span data-stu-id="f958e-210">From this table, we can draw the following conclusions:</span></span>

* <span data-ttu-id="f958e-211">Throughput for the caches that are the same size is higher in the Premium tier as compared to the Standard tier.</span><span class="sxs-lookup"><span data-stu-id="f958e-211">Throughput for the caches that are the same size is higher in the Premium tier as compared to the Standard tier.</span></span> <span data-ttu-id="f958e-212">For example, with a 6 GB Cache, throughput of P1 is 140K RPS as compared to 49K for C3.</span><span class="sxs-lookup"><span data-stu-id="f958e-212">For example, with a 6 GB Cache, throughput of P1 is 140K RPS as compared to 49K for C3.</span></span>
* <span data-ttu-id="f958e-213">With Redis clustering, throughput increases linearly as you increase the number of shards (nodes) in the cluster.</span><span class="sxs-lookup"><span data-stu-id="f958e-213">With Redis clustering, throughput increases linearly as you increase the number of shards (nodes) in the cluster.</span></span> <span data-ttu-id="f958e-214">For example, if you create a P4 cluster of 10 shards, then the available throughput is 250K \*10 = 2.5 Million RPS.</span><span class="sxs-lookup"><span data-stu-id="f958e-214">For example, if you create a P4 cluster of 10 shards, then the available throughput is 250K \*10 = 2.5 Million RPS.</span></span>
* <span data-ttu-id="f958e-215">Throughput for bigger key sizes is higher in the Premium tier as compared to the Standard Tier.</span><span class="sxs-lookup"><span data-stu-id="f958e-215">Throughput for bigger key sizes is higher in the Premium tier as compared to the Standard Tier.</span></span>

| <span data-ttu-id="f958e-216">Pricing tier</span><span class="sxs-lookup"><span data-stu-id="f958e-216">Pricing tier</span></span> | <span data-ttu-id="f958e-217">Size</span><span class="sxs-lookup"><span data-stu-id="f958e-217">Size</span></span> | <span data-ttu-id="f958e-218">CPU cores</span><span class="sxs-lookup"><span data-stu-id="f958e-218">CPU cores</span></span> | <span data-ttu-id="f958e-219">Available bandwidth</span><span class="sxs-lookup"><span data-stu-id="f958e-219">Available bandwidth</span></span> | <span data-ttu-id="f958e-220">1 KB value size</span><span class="sxs-lookup"><span data-stu-id="f958e-220">1 KB value size</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="f958e-221">**Standard cache sizes**</span><span class="sxs-lookup"><span data-stu-id="f958e-221">**Standard cache sizes**</span></span> | | |<span data-ttu-id="f958e-222">**Megabits per sec (Mb/s) / Megabytes per sec (MB/s)**</span><span class="sxs-lookup"><span data-stu-id="f958e-222">**Megabits per sec (Mb/s) / Megabytes per sec (MB/s)**</span></span> |<span data-ttu-id="f958e-223">**Requests per second (RPS)**</span><span class="sxs-lookup"><span data-stu-id="f958e-223">**Requests per second (RPS)**</span></span> |
| <span data-ttu-id="f958e-224">C0</span><span class="sxs-lookup"><span data-stu-id="f958e-224">C0</span></span> |<span data-ttu-id="f958e-225">250 MB</span><span class="sxs-lookup"><span data-stu-id="f958e-225">250 MB</span></span> |<span data-ttu-id="f958e-226">Shared</span><span class="sxs-lookup"><span data-stu-id="f958e-226">Shared</span></span> |<span data-ttu-id="f958e-227">5 / 0.625</span><span class="sxs-lookup"><span data-stu-id="f958e-227">5 / 0.625</span></span> |<span data-ttu-id="f958e-228">600</span><span class="sxs-lookup"><span data-stu-id="f958e-228">600</span></span> |
| <span data-ttu-id="f958e-229">C1</span><span class="sxs-lookup"><span data-stu-id="f958e-229">C1</span></span> |<span data-ttu-id="f958e-230">1 GB</span><span class="sxs-lookup"><span data-stu-id="f958e-230">1 GB</span></span> |<span data-ttu-id="f958e-231">1</span><span class="sxs-lookup"><span data-stu-id="f958e-231">1</span></span> |<span data-ttu-id="f958e-232">100 / 12.5</span><span class="sxs-lookup"><span data-stu-id="f958e-232">100 / 12.5</span></span> |<span data-ttu-id="f958e-233">12200</span><span class="sxs-lookup"><span data-stu-id="f958e-233">12200</span></span> |
| <span data-ttu-id="f958e-234">C2</span><span class="sxs-lookup"><span data-stu-id="f958e-234">C2</span></span> |<span data-ttu-id="f958e-235">2.5 GB</span><span class="sxs-lookup"><span data-stu-id="f958e-235">2.5 GB</span></span> |<span data-ttu-id="f958e-236">2</span><span class="sxs-lookup"><span data-stu-id="f958e-236">2</span></span> |<span data-ttu-id="f958e-237">200 / 25</span><span class="sxs-lookup"><span data-stu-id="f958e-237">200 / 25</span></span> |<span data-ttu-id="f958e-238">24000</span><span class="sxs-lookup"><span data-stu-id="f958e-238">24000</span></span> |
| <span data-ttu-id="f958e-239">C3</span><span class="sxs-lookup"><span data-stu-id="f958e-239">C3</span></span> |<span data-ttu-id="f958e-240">6 GB</span><span class="sxs-lookup"><span data-stu-id="f958e-240">6 GB</span></span> |<span data-ttu-id="f958e-241">4</span><span class="sxs-lookup"><span data-stu-id="f958e-241">4</span></span> |<span data-ttu-id="f958e-242">400 / 50</span><span class="sxs-lookup"><span data-stu-id="f958e-242">400 / 50</span></span> |<span data-ttu-id="f958e-243">49000</span><span class="sxs-lookup"><span data-stu-id="f958e-243">49000</span></span> |
| <span data-ttu-id="f958e-244">C4</span><span class="sxs-lookup"><span data-stu-id="f958e-244">C4</span></span> |<span data-ttu-id="f958e-245">13 GB</span><span class="sxs-lookup"><span data-stu-id="f958e-245">13 GB</span></span> |<span data-ttu-id="f958e-246">2</span><span class="sxs-lookup"><span data-stu-id="f958e-246">2</span></span> |<span data-ttu-id="f958e-247">500 / 62.5</span><span class="sxs-lookup"><span data-stu-id="f958e-247">500 / 62.5</span></span> |<span data-ttu-id="f958e-248">61000</span><span class="sxs-lookup"><span data-stu-id="f958e-248">61000</span></span> |
| <span data-ttu-id="f958e-249">C5</span><span class="sxs-lookup"><span data-stu-id="f958e-249">C5</span></span> |<span data-ttu-id="f958e-250">26 GB</span><span class="sxs-lookup"><span data-stu-id="f958e-250">26 GB</span></span> |<span data-ttu-id="f958e-251">4</span><span class="sxs-lookup"><span data-stu-id="f958e-251">4</span></span> |<span data-ttu-id="f958e-252">1000 / 125</span><span class="sxs-lookup"><span data-stu-id="f958e-252">1000 / 125</span></span> |<span data-ttu-id="f958e-253">115000</span><span class="sxs-lookup"><span data-stu-id="f958e-253">115000</span></span> |
| <span data-ttu-id="f958e-254">C6</span><span class="sxs-lookup"><span data-stu-id="f958e-254">C6</span></span> |<span data-ttu-id="f958e-255">53 GB</span><span class="sxs-lookup"><span data-stu-id="f958e-255">53 GB</span></span> |<span data-ttu-id="f958e-256">8</span><span class="sxs-lookup"><span data-stu-id="f958e-256">8</span></span> |<span data-ttu-id="f958e-257">2000 / 250</span><span class="sxs-lookup"><span data-stu-id="f958e-257">2000 / 250</span></span> |<span data-ttu-id="f958e-258">150000</span><span class="sxs-lookup"><span data-stu-id="f958e-258">150000</span></span> |
| <span data-ttu-id="f958e-259">**Premium cache sizes**</span><span class="sxs-lookup"><span data-stu-id="f958e-259">**Premium cache sizes**</span></span> | |<span data-ttu-id="f958e-260">**CPU cores per shard**</span><span class="sxs-lookup"><span data-stu-id="f958e-260">**CPU cores per shard**</span></span> | |<span data-ttu-id="f958e-261">**Requests per second (RPS), per shard**</span><span class="sxs-lookup"><span data-stu-id="f958e-261">**Requests per second (RPS), per shard**</span></span> |
| <span data-ttu-id="f958e-262">P1</span><span class="sxs-lookup"><span data-stu-id="f958e-262">P1</span></span> |<span data-ttu-id="f958e-263">6 GB</span><span class="sxs-lookup"><span data-stu-id="f958e-263">6 GB</span></span> |<span data-ttu-id="f958e-264">2</span><span class="sxs-lookup"><span data-stu-id="f958e-264">2</span></span> |<span data-ttu-id="f958e-265">1000 / 125</span><span class="sxs-lookup"><span data-stu-id="f958e-265">1000 / 125</span></span> |<span data-ttu-id="f958e-266">140000</span><span class="sxs-lookup"><span data-stu-id="f958e-266">140000</span></span> |
| <span data-ttu-id="f958e-267">P2</span><span class="sxs-lookup"><span data-stu-id="f958e-267">P2</span></span> |<span data-ttu-id="f958e-268">13 GB</span><span class="sxs-lookup"><span data-stu-id="f958e-268">13 GB</span></span> |<span data-ttu-id="f958e-269">4</span><span class="sxs-lookup"><span data-stu-id="f958e-269">4</span></span> |<span data-ttu-id="f958e-270">2000 / 250</span><span class="sxs-lookup"><span data-stu-id="f958e-270">2000 / 250</span></span> |<span data-ttu-id="f958e-271">220000</span><span class="sxs-lookup"><span data-stu-id="f958e-271">220000</span></span> |
| <span data-ttu-id="f958e-272">P3</span><span class="sxs-lookup"><span data-stu-id="f958e-272">P3</span></span> |<span data-ttu-id="f958e-273">26 GB</span><span class="sxs-lookup"><span data-stu-id="f958e-273">26 GB</span></span> |<span data-ttu-id="f958e-274">4</span><span class="sxs-lookup"><span data-stu-id="f958e-274">4</span></span> |<span data-ttu-id="f958e-275">2000 / 250</span><span class="sxs-lookup"><span data-stu-id="f958e-275">2000 / 250</span></span> |<span data-ttu-id="f958e-276">220000</span><span class="sxs-lookup"><span data-stu-id="f958e-276">220000</span></span> |
| <span data-ttu-id="f958e-277">P4</span><span class="sxs-lookup"><span data-stu-id="f958e-277">P4</span></span> |<span data-ttu-id="f958e-278">53 GB</span><span class="sxs-lookup"><span data-stu-id="f958e-278">53 GB</span></span> |<span data-ttu-id="f958e-279">8</span><span class="sxs-lookup"><span data-stu-id="f958e-279">8</span></span> |<span data-ttu-id="f958e-280">4000 / 500</span><span class="sxs-lookup"><span data-stu-id="f958e-280">4000 / 500</span></span> |<span data-ttu-id="f958e-281">250000</span><span class="sxs-lookup"><span data-stu-id="f958e-281">250000</span></span> |

<span data-ttu-id="f958e-282">For instructions on downloading the Redis tools such as `redis-benchmark.exe`, see the [How can I run Redis commands?](#cache-commands) section.</span><span class="sxs-lookup"><span data-stu-id="f958e-282">For instructions on downloading the Redis tools such as `redis-benchmark.exe`, see the [How can I run Redis commands?](#cache-commands) section.</span></span>

<a name="cache-region"></a>

### <a name="in-what-region-should-i-locate-my-cache"></a><span data-ttu-id="f958e-283">In what region should I locate my cache?</span><span class="sxs-lookup"><span data-stu-id="f958e-283">In what region should I locate my cache?</span></span>
<span data-ttu-id="f958e-284">For best performance and lowest latency, locate your Azure Redis Cache in the same region as your cache client application.</span><span class="sxs-lookup"><span data-stu-id="f958e-284">For best performance and lowest latency, locate your Azure Redis Cache in the same region as your cache client application.</span></span>

<a name="cache-billing"></a>

### <a name="how-am-i-billed-for-azure-redis-cache"></a><span data-ttu-id="f958e-285">How am I billed for Azure Redis Cache?</span><span class="sxs-lookup"><span data-stu-id="f958e-285">How am I billed for Azure Redis Cache?</span></span>
<span data-ttu-id="f958e-286">Azure Redis Cache pricing is [here](https://azure.microsoft.com/pricing/details/cache/).</span><span class="sxs-lookup"><span data-stu-id="f958e-286">Azure Redis Cache pricing is [here](https://azure.microsoft.com/pricing/details/cache/).</span></span> <span data-ttu-id="f958e-287">The pricing page lists pricing as an hourly rate.</span><span class="sxs-lookup"><span data-stu-id="f958e-287">The pricing page lists pricing as an hourly rate.</span></span> <span data-ttu-id="f958e-288">Caches are billed on a per-minute basis from the time that the cache is created until the time that a cache is deleted.</span><span class="sxs-lookup"><span data-stu-id="f958e-288">Caches are billed on a per-minute basis from the time that the cache is created until the time that a cache is deleted.</span></span> <span data-ttu-id="f958e-289">There is no option for stopping or pausing the billing of a cache.</span><span class="sxs-lookup"><span data-stu-id="f958e-289">There is no option for stopping or pausing the billing of a cache.</span></span>

### <a name="can-i-use-azure-redis-cache-with-azure-government-cloud-azure-china-cloud-or-microsoft-azure-germany"></a><span data-ttu-id="f958e-290">Can I use Azure Redis Cache with Azure Government Cloud, Azure China Cloud, or Microsoft Azure Germany?</span><span class="sxs-lookup"><span data-stu-id="f958e-290">Can I use Azure Redis Cache with Azure Government Cloud, Azure China Cloud, or Microsoft Azure Germany?</span></span>
<span data-ttu-id="f958e-291">Yes, Azure Redis Cache is available in Azure Government Cloud, Azure China Cloud, and Microsoft Azure Germany.</span><span class="sxs-lookup"><span data-stu-id="f958e-291">Yes, Azure Redis Cache is available in Azure Government Cloud, Azure China Cloud, and Microsoft Azure Germany.</span></span> <span data-ttu-id="f958e-292">The URLs for accessing and managing Azure Redis Cache are different in these clouds compared with Azure Public Cloud.</span><span class="sxs-lookup"><span data-stu-id="f958e-292">The URLs for accessing and managing Azure Redis Cache are different in these clouds compared with Azure Public Cloud.</span></span> 

| <span data-ttu-id="f958e-293">Cloud</span><span class="sxs-lookup"><span data-stu-id="f958e-293">Cloud</span></span>   | <span data-ttu-id="f958e-294">Dns Suffix for Redis</span><span class="sxs-lookup"><span data-stu-id="f958e-294">Dns Suffix for Redis</span></span>            |
|---------|---------------------------------|
| <span data-ttu-id="f958e-295">Public</span><span class="sxs-lookup"><span data-stu-id="f958e-295">Public</span></span>  | <span data-ttu-id="f958e-296">\*.redis.cache.windows.net</span><span class="sxs-lookup"><span data-stu-id="f958e-296">\*.redis.cache.windows.net</span></span>       |
| <span data-ttu-id="f958e-297">US Gov</span><span class="sxs-lookup"><span data-stu-id="f958e-297">US Gov</span></span>  | <span data-ttu-id="f958e-298">\*.redis.cache.usgovcloudapi.net</span><span class="sxs-lookup"><span data-stu-id="f958e-298">\*.redis.cache.usgovcloudapi.net</span></span> |
| <span data-ttu-id="f958e-299">Germany</span><span class="sxs-lookup"><span data-stu-id="f958e-299">Germany</span></span> | <span data-ttu-id="f958e-300">\*.redis.cache.cloudapi.de</span><span class="sxs-lookup"><span data-stu-id="f958e-300">\*.redis.cache.cloudapi.de</span></span>       |
| <span data-ttu-id="f958e-301">China</span><span class="sxs-lookup"><span data-stu-id="f958e-301">China</span></span>   | <span data-ttu-id="f958e-302">\*.redis.cache.chinacloudapi.cn</span><span class="sxs-lookup"><span data-stu-id="f958e-302">\*.redis.cache.chinacloudapi.cn</span></span>  |

<span data-ttu-id="f958e-303">For more information on considerations when using Azure Redis Cache with other clouds, see the following links.</span><span class="sxs-lookup"><span data-stu-id="f958e-303">For more information on considerations when using Azure Redis Cache with other clouds, see the following links.</span></span>

- [<span data-ttu-id="f958e-304">Azure Government Databases - Azure Redis Cache</span><span class="sxs-lookup"><span data-stu-id="f958e-304">Azure Government Databases - Azure Redis Cache</span></span>](../azure-government/documentation-government-services-database.md#azure-redis-cache)
- [<span data-ttu-id="f958e-305">Azure China Cloud - Azure Redis Cache</span><span class="sxs-lookup"><span data-stu-id="f958e-305">Azure China Cloud - Azure Redis Cache</span></span>](https://www.azure.cn/documentation/services/redis-cache/)
- [<span data-ttu-id="f958e-306">Microsoft Azure Germany</span><span class="sxs-lookup"><span data-stu-id="f958e-306">Microsoft Azure Germany</span></span>](https://azure.microsoft.com/overview/clouds/germany/)

<span data-ttu-id="f958e-307">For information on using Azure Redis Cache with PowerShell in Azure Government Cloud, Azure China Cloud, and Microsoft Azure Germany, see [How to connect to other clouds - Azure Redis Cache PowerShell](cache-howto-manage-redis-cache-powershell.md#how-to-connect-to-other-clouds).</span><span class="sxs-lookup"><span data-stu-id="f958e-307">For information on using Azure Redis Cache with PowerShell in Azure Government Cloud, Azure China Cloud, and Microsoft Azure Germany, see [How to connect to other clouds - Azure Redis Cache PowerShell](cache-howto-manage-redis-cache-powershell.md#how-to-connect-to-other-clouds).</span></span>

<a name="cache-configuration"></a>

### <a name="what-do-the-stackexchangeredis-configuration-options-do"></a><span data-ttu-id="f958e-308">What do the StackExchange.Redis configuration options do?</span><span class="sxs-lookup"><span data-stu-id="f958e-308">What do the StackExchange.Redis configuration options do?</span></span>
<span data-ttu-id="f958e-309">StackExchange.Redis has many options.</span><span class="sxs-lookup"><span data-stu-id="f958e-309">StackExchange.Redis has many options.</span></span> <span data-ttu-id="f958e-310">This section talks about some of the common settings.</span><span class="sxs-lookup"><span data-stu-id="f958e-310">This section talks about some of the common settings.</span></span> <span data-ttu-id="f958e-311">For more detailed information about StackExchange.Redis options, see [StackExchange.Redis configuration](https://stackexchange.github.io/StackExchange.Redis/Configuration).</span><span class="sxs-lookup"><span data-stu-id="f958e-311">For more detailed information about StackExchange.Redis options, see [StackExchange.Redis configuration](https://stackexchange.github.io/StackExchange.Redis/Configuration).</span></span>

| <span data-ttu-id="f958e-312">ConfigurationOptions</span><span class="sxs-lookup"><span data-stu-id="f958e-312">ConfigurationOptions</span></span> | <span data-ttu-id="f958e-313">Description</span><span class="sxs-lookup"><span data-stu-id="f958e-313">Description</span></span> | <span data-ttu-id="f958e-314">Recommendation</span><span class="sxs-lookup"><span data-stu-id="f958e-314">Recommendation</span></span> |
| --- | --- | --- |
| <span data-ttu-id="f958e-315">AbortOnConnectFail</span><span class="sxs-lookup"><span data-stu-id="f958e-315">AbortOnConnectFail</span></span> |<span data-ttu-id="f958e-316">When set to true, the connection will not reconnect after a network failure.</span><span class="sxs-lookup"><span data-stu-id="f958e-316">When set to true, the connection will not reconnect after a network failure.</span></span> |<span data-ttu-id="f958e-317">Set to false and let StackExchange.Redis reconnect automatically.</span><span class="sxs-lookup"><span data-stu-id="f958e-317">Set to false and let StackExchange.Redis reconnect automatically.</span></span> |
| <span data-ttu-id="f958e-318">ConnectRetry</span><span class="sxs-lookup"><span data-stu-id="f958e-318">ConnectRetry</span></span> |<span data-ttu-id="f958e-319">The number of times to repeat connection attempts during initial connect.</span><span class="sxs-lookup"><span data-stu-id="f958e-319">The number of times to repeat connection attempts during initial connect.</span></span> |<span data-ttu-id="f958e-320">See the following notes for guidance.</span><span class="sxs-lookup"><span data-stu-id="f958e-320">See the following notes for guidance.</span></span> |
| <span data-ttu-id="f958e-321">ConnectTimeout</span><span class="sxs-lookup"><span data-stu-id="f958e-321">ConnectTimeout</span></span> |<span data-ttu-id="f958e-322">Timeout in ms for connect operations.</span><span class="sxs-lookup"><span data-stu-id="f958e-322">Timeout in ms for connect operations.</span></span> |<span data-ttu-id="f958e-323">See the following notes for guidance.</span><span class="sxs-lookup"><span data-stu-id="f958e-323">See the following notes for guidance.</span></span> |

<span data-ttu-id="f958e-324">Usually the default values of the client are sufficient.</span><span class="sxs-lookup"><span data-stu-id="f958e-324">Usually the default values of the client are sufficient.</span></span> <span data-ttu-id="f958e-325">You can fine-tune the options based on your workload.</span><span class="sxs-lookup"><span data-stu-id="f958e-325">You can fine-tune the options based on your workload.</span></span>

* <span data-ttu-id="f958e-326">**Retries**</span><span class="sxs-lookup"><span data-stu-id="f958e-326">**Retries**</span></span>
  * <span data-ttu-id="f958e-327">For ConnectRetry and ConnectTimeout, the general guidance is to fail fast and retry again.</span><span class="sxs-lookup"><span data-stu-id="f958e-327">For ConnectRetry and ConnectTimeout, the general guidance is to fail fast and retry again.</span></span> <span data-ttu-id="f958e-328">This guidance is based on your workload and how much time on average it takes for your client to issue a Redis command and receive a response.</span><span class="sxs-lookup"><span data-stu-id="f958e-328">This guidance is based on your workload and how much time on average it takes for your client to issue a Redis command and receive a response.</span></span>
  * <span data-ttu-id="f958e-329">Let StackExchange.Redis automatically reconnect instead of checking connection status and reconnecting yourself.</span><span class="sxs-lookup"><span data-stu-id="f958e-329">Let StackExchange.Redis automatically reconnect instead of checking connection status and reconnecting yourself.</span></span> <span data-ttu-id="f958e-330">**Avoid using the ConnectionMultiplexer.IsConnected property**.</span><span class="sxs-lookup"><span data-stu-id="f958e-330">**Avoid using the ConnectionMultiplexer.IsConnected property**.</span></span>
  * <span data-ttu-id="f958e-331">Snowballing - sometimes you may run into an issue where you are retrying and the retries snowball and never recovers.</span><span class="sxs-lookup"><span data-stu-id="f958e-331">Snowballing - sometimes you may run into an issue where you are retrying and the retries snowball and never recovers.</span></span> <span data-ttu-id="f958e-332">If snowballing occurs, you should consider using an exponential backoff retry algorithm as described in [Retry general guidance](../best-practices-retry-general.md) published by the Microsoft Patterns & Practices group.</span><span class="sxs-lookup"><span data-stu-id="f958e-332">If snowballing occurs, you should consider using an exponential backoff retry algorithm as described in [Retry general guidance](../best-practices-retry-general.md) published by the Microsoft Patterns & Practices group.</span></span>
* <span data-ttu-id="f958e-333">**Timeout values**</span><span class="sxs-lookup"><span data-stu-id="f958e-333">**Timeout values**</span></span>
  * <span data-ttu-id="f958e-334">Consider your workload and set the values accordingly.</span><span class="sxs-lookup"><span data-stu-id="f958e-334">Consider your workload and set the values accordingly.</span></span> <span data-ttu-id="f958e-335">If you are storing large values, set the timeout to a higher value.</span><span class="sxs-lookup"><span data-stu-id="f958e-335">If you are storing large values, set the timeout to a higher value.</span></span>
  * <span data-ttu-id="f958e-336">Set `AbortOnConnectFail` to false and let StackExchange.Redis reconnect for you.</span><span class="sxs-lookup"><span data-stu-id="f958e-336">Set `AbortOnConnectFail` to false and let StackExchange.Redis reconnect for you.</span></span>
  * <span data-ttu-id="f958e-337">Use a single ConnectionMultiplexer instance for the application.</span><span class="sxs-lookup"><span data-stu-id="f958e-337">Use a single ConnectionMultiplexer instance for the application.</span></span> <span data-ttu-id="f958e-338">You can use a LazyConnection to create a single instance that is returned by a Connection property, as shown in [Connect to the cache using the ConnectionMultiplexer class](cache-dotnet-how-to-use-azure-redis-cache.md#connect-to-the-cache).</span><span class="sxs-lookup"><span data-stu-id="f958e-338">You can use a LazyConnection to create a single instance that is returned by a Connection property, as shown in [Connect to the cache using the ConnectionMultiplexer class](cache-dotnet-how-to-use-azure-redis-cache.md#connect-to-the-cache).</span></span>
  * <span data-ttu-id="f958e-339">Set the `ConnectionMultiplexer.ClientName` property to an app instance unique name for diagnostic purposes.</span><span class="sxs-lookup"><span data-stu-id="f958e-339">Set the `ConnectionMultiplexer.ClientName` property to an app instance unique name for diagnostic purposes.</span></span>
  * <span data-ttu-id="f958e-340">Use multiple `ConnectionMultiplexer` instances for custom workloads.</span><span class="sxs-lookup"><span data-stu-id="f958e-340">Use multiple `ConnectionMultiplexer` instances for custom workloads.</span></span>
      * <span data-ttu-id="f958e-341">You can follow this model if you have varying load in your application.</span><span class="sxs-lookup"><span data-stu-id="f958e-341">You can follow this model if you have varying load in your application.</span></span> <span data-ttu-id="f958e-342">For example:</span><span class="sxs-lookup"><span data-stu-id="f958e-342">For example:</span></span>
      * <span data-ttu-id="f958e-343">You can have one multiplexer for dealing with large keys.</span><span class="sxs-lookup"><span data-stu-id="f958e-343">You can have one multiplexer for dealing with large keys.</span></span>
      * <span data-ttu-id="f958e-344">You can have one multiplexer for dealing with small keys.</span><span class="sxs-lookup"><span data-stu-id="f958e-344">You can have one multiplexer for dealing with small keys.</span></span>
      * <span data-ttu-id="f958e-345">You can set different values for connection timeouts and retry logic for each ConnectionMultiplexer that you use.</span><span class="sxs-lookup"><span data-stu-id="f958e-345">You can set different values for connection timeouts and retry logic for each ConnectionMultiplexer that you use.</span></span>
      * <span data-ttu-id="f958e-346">Set the `ClientName` property on each multiplexer to help with diagnostics.</span><span class="sxs-lookup"><span data-stu-id="f958e-346">Set the `ClientName` property on each multiplexer to help with diagnostics.</span></span>
      * <span data-ttu-id="f958e-347">This guidance may lead to more streamlined latency per `ConnectionMultiplexer`.</span><span class="sxs-lookup"><span data-stu-id="f958e-347">This guidance may lead to more streamlined latency per `ConnectionMultiplexer`.</span></span>

### <a name="what-redis-cache-clients-can-i-use"></a><span data-ttu-id="f958e-348">What Redis cache clients can I use?</span><span class="sxs-lookup"><span data-stu-id="f958e-348">What Redis cache clients can I use?</span></span>
<span data-ttu-id="f958e-349">One of the great things about Redis is that there are many clients supporting many different development languages.</span><span class="sxs-lookup"><span data-stu-id="f958e-349">One of the great things about Redis is that there are many clients supporting many different development languages.</span></span> <span data-ttu-id="f958e-350">For a current list of clients, see [Redis clients](http://redis.io/clients).</span><span class="sxs-lookup"><span data-stu-id="f958e-350">For a current list of clients, see [Redis clients](http://redis.io/clients).</span></span> <span data-ttu-id="f958e-351">For tutorials that cover several different languages and clients, see [How to use Azure Redis Cache](cache-dotnet-how-to-use-azure-redis-cache.md) and click the desired language from the language switcher at the top of the article.</span><span class="sxs-lookup"><span data-stu-id="f958e-351">For tutorials that cover several different languages and clients, see [How to use Azure Redis Cache](cache-dotnet-how-to-use-azure-redis-cache.md) and click the desired language from the language switcher at the top of the article.</span></span>

[!INCLUDE [redis-cache-create](../../includes/redis-cache-access-keys.md)]

<a name="cache-emulator"></a>

### <a name="is-there-a-local-emulator-for-azure-redis-cache"></a><span data-ttu-id="f958e-352">Is there a local emulator for Azure Redis Cache?</span><span class="sxs-lookup"><span data-stu-id="f958e-352">Is there a local emulator for Azure Redis Cache?</span></span>
<span data-ttu-id="f958e-353">There is no local emulator for Azure Redis Cache, but you can run the MSOpenTech version of redis-server.exe from the [Redis command-line tools](https://github.com/MSOpenTech/redis/releases/) on your local machine and connect to it to get a similar experience to a local cache emulator, as shown in the following example:</span><span class="sxs-lookup"><span data-stu-id="f958e-353">There is no local emulator for Azure Redis Cache, but you can run the MSOpenTech version of redis-server.exe from the [Redis command-line tools](https://github.com/MSOpenTech/redis/releases/) on your local machine and connect to it to get a similar experience to a local cache emulator, as shown in the following example:</span></span>

    private static Lazy<ConnectionMultiplexer>
          lazyConnection = new Lazy<ConnectionMultiplexer>
        (() =>
        {
            // Connect to a locally running instance of Redis to simulate a local cache emulator experience.
            return ConnectionMultiplexer.Connect("127.0.0.1:6379");
        });

        public static ConnectionMultiplexer Connection
        {
            get
            {
                return lazyConnection.Value;
            }
        }


<span data-ttu-id="f958e-354">You can optionally configure a [redis.conf](http://redis.io/topics/config) file to more closely match the [default cache settings](cache-configure.md#default-redis-server-configuration) for your online Azure Redis Cache if desired.</span><span class="sxs-lookup"><span data-stu-id="f958e-354">You can optionally configure a [redis.conf](http://redis.io/topics/config) file to more closely match the [default cache settings](cache-configure.md#default-redis-server-configuration) for your online Azure Redis Cache if desired.</span></span>

<a name="cache-commands"></a>

### <a name="how-can-i-run-redis-commands"></a><span data-ttu-id="f958e-355">How can I run Redis commands?</span><span class="sxs-lookup"><span data-stu-id="f958e-355">How can I run Redis commands?</span></span>
<span data-ttu-id="f958e-356">You can use any of the commands listed at [Redis commands](http://redis.io/commands#) except for the commands listed at [Redis commands not supported in Azure Redis Cache](cache-configure.md#redis-commands-not-supported-in-azure-redis-cache).</span><span class="sxs-lookup"><span data-stu-id="f958e-356">You can use any of the commands listed at [Redis commands](http://redis.io/commands#) except for the commands listed at [Redis commands not supported in Azure Redis Cache](cache-configure.md#redis-commands-not-supported-in-azure-redis-cache).</span></span> <span data-ttu-id="f958e-357">You have several options to run Redis commands.</span><span class="sxs-lookup"><span data-stu-id="f958e-357">You have several options to run Redis commands.</span></span>

* <span data-ttu-id="f958e-358">If you have a Standard or Premium cache, you can run Redis commands using the [Redis Console](cache-configure.md#redis-console).</span><span class="sxs-lookup"><span data-stu-id="f958e-358">If you have a Standard or Premium cache, you can run Redis commands using the [Redis Console](cache-configure.md#redis-console).</span></span> <span data-ttu-id="f958e-359">The Redis console provides a secure way to run Redis commands in the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="f958e-359">The Redis console provides a secure way to run Redis commands in the Azure portal.</span></span>
* <span data-ttu-id="f958e-360">You can also use the Redis command-line tools.</span><span class="sxs-lookup"><span data-stu-id="f958e-360">You can also use the Redis command-line tools.</span></span> <span data-ttu-id="f958e-361">To use them, perform the following steps:</span><span class="sxs-lookup"><span data-stu-id="f958e-361">To use them, perform the following steps:</span></span>
* <span data-ttu-id="f958e-362">Download the [Redis command-line tools](https://github.com/MSOpenTech/redis/releases/).</span><span class="sxs-lookup"><span data-stu-id="f958e-362">Download the [Redis command-line tools](https://github.com/MSOpenTech/redis/releases/).</span></span>
* <span data-ttu-id="f958e-363">Connect to the cache using `redis-cli.exe`.</span><span class="sxs-lookup"><span data-stu-id="f958e-363">Connect to the cache using `redis-cli.exe`.</span></span> <span data-ttu-id="f958e-364">Pass in the cache endpoint using the -h switch and the key using -a as shown in the following example:</span><span class="sxs-lookup"><span data-stu-id="f958e-364">Pass in the cache endpoint using the -h switch and the key using -a as shown in the following example:</span></span>
* `redis-cli -h <your cache="" name="">
  .redis.cache.windows.net -a <key>
  `

> [!NOTE]
> <span data-ttu-id="f958e-365">The Redis command-line tools do not work with the SSL port, but you can use a utility such as `stunnel` to securely connect the tools to the SSL port by following the directions in the [Announcing ASP.NET Session State Provider for Redis Preview Release](http://blogs.msdn.com/b/webdev/archive/2014/05/12/announcing-asp-net-session-state-provider-for-redis-preview-release.aspx) blog post.</span><span class="sxs-lookup"><span data-stu-id="f958e-365">The Redis command-line tools do not work with the SSL port, but you can use a utility such as `stunnel` to securely connect the tools to the SSL port by following the directions in the [Announcing ASP.NET Session State Provider for Redis Preview Release](http://blogs.msdn.com/b/webdev/archive/2014/05/12/announcing-asp-net-session-state-provider-for-redis-preview-release.aspx) blog post.</span></span>
>
>

<a name="cache-reference"></a>

### <a name="why-doesnt-azure-redis-cache-have-an-msdn-class-library-reference-like-some-of-the-other-azure-services"></a><span data-ttu-id="f958e-366">Why doesn't Azure Redis Cache have an MSDN class library reference like some of the other Azure services?</span><span class="sxs-lookup"><span data-stu-id="f958e-366">Why doesn't Azure Redis Cache have an MSDN class library reference like some of the other Azure services?</span></span>
<span data-ttu-id="f958e-367">Microsoft Azure Redis Cache is based on the popular open source Redis Cache and can be accessed by a wide variety of [Redis clients](http://redis.io/clients) for many programming languages.</span><span class="sxs-lookup"><span data-stu-id="f958e-367">Microsoft Azure Redis Cache is based on the popular open source Redis Cache and can be accessed by a wide variety of [Redis clients](http://redis.io/clients) for many programming languages.</span></span> <span data-ttu-id="f958e-368">Each client has its own API that makes calls to the Redis cache instance using [Redis commands](http://redis.io/commands).</span><span class="sxs-lookup"><span data-stu-id="f958e-368">Each client has its own API that makes calls to the Redis cache instance using [Redis commands](http://redis.io/commands).</span></span>

<span data-ttu-id="f958e-369">Because each client is different, there is not one centralized class reference on MSDN, and each client maintains its own reference documentation.</span><span class="sxs-lookup"><span data-stu-id="f958e-369">Because each client is different, there is not one centralized class reference on MSDN, and each client maintains its own reference documentation.</span></span> <span data-ttu-id="f958e-370">In addition to the reference documentation, there are several tutorials showing how to get started with Azure Redis Cache using different languages and cache clients.</span><span class="sxs-lookup"><span data-stu-id="f958e-370">In addition to the reference documentation, there are several tutorials showing how to get started with Azure Redis Cache using different languages and cache clients.</span></span> <span data-ttu-id="f958e-371">To access these tutorials, see [How to use Azure Redis Cache](cache-dotnet-how-to-use-azure-redis-cache.md) and click the desired language from the language switcher at the top of the article.</span><span class="sxs-lookup"><span data-stu-id="f958e-371">To access these tutorials, see [How to use Azure Redis Cache](cache-dotnet-how-to-use-azure-redis-cache.md) and click the desired language from the language switcher at the top of the article.</span></span>

### <a name="can-i-use-azure-redis-cache-as-a-php-session-cache"></a><span data-ttu-id="f958e-372">Can I use Azure Redis Cache as a PHP session cache?</span><span class="sxs-lookup"><span data-stu-id="f958e-372">Can I use Azure Redis Cache as a PHP session cache?</span></span>
<span data-ttu-id="f958e-373">Yes, to use Azure Redis Cache as a PHP session cache, specify the connection string to your Azure Redis Cache instance in `session.save_path`.</span><span class="sxs-lookup"><span data-stu-id="f958e-373">Yes, to use Azure Redis Cache as a PHP session cache, specify the connection string to your Azure Redis Cache instance in `session.save_path`.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f958e-374">When using Azure Redis Cache as a PHP session cache, you must URL encode the security key used to connect to the cache, as shown in the following example:</span><span class="sxs-lookup"><span data-stu-id="f958e-374">When using Azure Redis Cache as a PHP session cache, you must URL encode the security key used to connect to the cache, as shown in the following example:</span></span>
>
> `session.save_path = "tcp://mycache.redis.cache.windows.net:6379?auth=<url encoded primary or secondary key here>";`
>
> <span data-ttu-id="f958e-375">If the key is not URL encoded, you may receive an exception with a message like: `Failed to parse session.save_path`</span><span class="sxs-lookup"><span data-stu-id="f958e-375">If the key is not URL encoded, you may receive an exception with a message like: `Failed to parse session.save_path`</span></span>
>
>

<span data-ttu-id="f958e-376">For more information about using Redis Cache as a PHP session cache with the PhpRedis client, see [PHP Session handler](https://github.com/phpredis/phpredis#php-session-handler).</span><span class="sxs-lookup"><span data-stu-id="f958e-376">For more information about using Redis Cache as a PHP session cache with the PhpRedis client, see [PHP Session handler](https://github.com/phpredis/phpredis#php-session-handler).</span></span>

### <a name="what-are-redis-databases"></a><span data-ttu-id="f958e-377">What are Redis databases?</span><span class="sxs-lookup"><span data-stu-id="f958e-377">What are Redis databases?</span></span>

<span data-ttu-id="f958e-378">Redis Databases are just a logical separation of data within the same Redis instance.</span><span class="sxs-lookup"><span data-stu-id="f958e-378">Redis Databases are just a logical separation of data within the same Redis instance.</span></span> <span data-ttu-id="f958e-379">The cache memory is shared between all the databases and actual memory consumption of a given database depends on the keys/values stored in that database.</span><span class="sxs-lookup"><span data-stu-id="f958e-379">The cache memory is shared between all the databases and actual memory consumption of a given database depends on the keys/values stored in that database.</span></span> <span data-ttu-id="f958e-380">For example a C6 cache has 53 GB of memory.</span><span class="sxs-lookup"><span data-stu-id="f958e-380">For example a C6 cache has 53 GB of memory.</span></span> <span data-ttu-id="f958e-381">You can choose to put all 53 GB into one database or you can split it up between multiple databases.</span><span class="sxs-lookup"><span data-stu-id="f958e-381">You can choose to put all 53 GB into one database or you can split it up between multiple databases.</span></span> 

> [!NOTE]
> <span data-ttu-id="f958e-382">When using a Premium Azure Redis Cache with clustering enabled, only database 0 is available.</span><span class="sxs-lookup"><span data-stu-id="f958e-382">When using a Premium Azure Redis Cache with clustering enabled, only database 0 is available.</span></span> <span data-ttu-id="f958e-383">This limitation is an intrinsic Redis limitation and is not specific to Azure Redis Cache.</span><span class="sxs-lookup"><span data-stu-id="f958e-383">This limitation is an intrinsic Redis limitation and is not specific to Azure Redis Cache.</span></span> <span data-ttu-id="f958e-384">For more information, see [Do I need to make any changes to my client application to use clustering?](cache-how-to-premium-clustering.md#do-i-need-to-make-any-changes-to-my-client-application-to-use-clustering)</span><span class="sxs-lookup"><span data-stu-id="f958e-384">For more information, see [Do I need to make any changes to my client application to use clustering?](cache-how-to-premium-clustering.md#do-i-need-to-make-any-changes-to-my-client-application-to-use-clustering)</span></span>
> 
> 


<a name="cache-ssl"></a>

### <a name="when-should-i-enable-the-non-ssl-port-for-connecting-to-redis"></a><span data-ttu-id="f958e-385">When should I enable the non-SSL port for connecting to Redis?</span><span class="sxs-lookup"><span data-stu-id="f958e-385">When should I enable the non-SSL port for connecting to Redis?</span></span>
<span data-ttu-id="f958e-386">Redis server does not natively support SSL, but Azure Redis Cache does.</span><span class="sxs-lookup"><span data-stu-id="f958e-386">Redis server does not natively support SSL, but Azure Redis Cache does.</span></span> <span data-ttu-id="f958e-387">If you are connecting to Azure Redis Cache and your client supports SSL, like StackExchange.Redis, then you should use SSL.</span><span class="sxs-lookup"><span data-stu-id="f958e-387">If you are connecting to Azure Redis Cache and your client supports SSL, like StackExchange.Redis, then you should use SSL.</span></span>

>[!NOTE]
><span data-ttu-id="f958e-388">The non-SSL port is disabled by default for new Azure Redis Cache instances.</span><span class="sxs-lookup"><span data-stu-id="f958e-388">The non-SSL port is disabled by default for new Azure Redis Cache instances.</span></span> <span data-ttu-id="f958e-389">If your client does not support SSL, then you must enable the non-SSL port by following the directions in the [Access ports](cache-configure.md#access-ports) section of the [Configure a cache in Azure Redis Cache](cache-configure.md) article.</span><span class="sxs-lookup"><span data-stu-id="f958e-389">If your client does not support SSL, then you must enable the non-SSL port by following the directions in the [Access ports](cache-configure.md#access-ports) section of the [Configure a cache in Azure Redis Cache](cache-configure.md) article.</span></span>
>
>

<span data-ttu-id="f958e-390">Redis tools such as `redis-cli` do not work with the SSL port, but you can use a utility such as `stunnel` to securely connect the tools to the SSL port by following the directions in the [Announcing ASP.NET Session State Provider for Redis Preview Release](http://blogs.msdn.com/b/webdev/archive/2014/05/12/announcing-asp-net-session-state-provider-for-redis-preview-release.aspx) blog post.</span><span class="sxs-lookup"><span data-stu-id="f958e-390">Redis tools such as `redis-cli` do not work with the SSL port, but you can use a utility such as `stunnel` to securely connect the tools to the SSL port by following the directions in the [Announcing ASP.NET Session State Provider for Redis Preview Release](http://blogs.msdn.com/b/webdev/archive/2014/05/12/announcing-asp-net-session-state-provider-for-redis-preview-release.aspx) blog post.</span></span>

<span data-ttu-id="f958e-391">For instructions on downloading the Redis tools, see the [How can I run Redis commands?](#cache-commands) section.</span><span class="sxs-lookup"><span data-stu-id="f958e-391">For instructions on downloading the Redis tools, see the [How can I run Redis commands?](#cache-commands) section.</span></span>

### <a name="what-are-some-production-best-practices"></a><span data-ttu-id="f958e-392">What are some production best practices?</span><span class="sxs-lookup"><span data-stu-id="f958e-392">What are some production best practices?</span></span>
* [<span data-ttu-id="f958e-393">StackExchange.Redis best practices</span><span class="sxs-lookup"><span data-stu-id="f958e-393">StackExchange.Redis best practices</span></span>](#stackexchangeredis-best-practices)
* [<span data-ttu-id="f958e-394">Configuration and concepts</span><span class="sxs-lookup"><span data-stu-id="f958e-394">Configuration and concepts</span></span>](#configuration-and-concepts)
* [<span data-ttu-id="f958e-395">Performance testing</span><span class="sxs-lookup"><span data-stu-id="f958e-395">Performance testing</span></span>](#performance-testing)

#### <a name="stackexchangeredis-best-practices"></a><span data-ttu-id="f958e-396">StackExchange.Redis best practices</span><span class="sxs-lookup"><span data-stu-id="f958e-396">StackExchange.Redis best practices</span></span>
* <span data-ttu-id="f958e-397">Set `AbortConnect` to false, then let the ConnectionMultiplexer reconnect automatically.</span><span class="sxs-lookup"><span data-stu-id="f958e-397">Set `AbortConnect` to false, then let the ConnectionMultiplexer reconnect automatically.</span></span> <span data-ttu-id="f958e-398">[See here for details](https://gist.github.com/JonCole/36ba6f60c274e89014dd#file-se-redis-setabortconnecttofalse-md).</span><span class="sxs-lookup"><span data-stu-id="f958e-398">[See here for details](https://gist.github.com/JonCole/36ba6f60c274e89014dd#file-se-redis-setabortconnecttofalse-md).</span></span>
* <span data-ttu-id="f958e-399">Reuse the ConnectionMultiplexer - do not create a new one for each request.</span><span class="sxs-lookup"><span data-stu-id="f958e-399">Reuse the ConnectionMultiplexer - do not create a new one for each request.</span></span> <span data-ttu-id="f958e-400">The `Lazy<ConnectionMultiplexer>` pattern [shown here](cache-dotnet-how-to-use-azure-redis-cache.md#connect-to-the-cache) is recommended.</span><span class="sxs-lookup"><span data-stu-id="f958e-400">The `Lazy<ConnectionMultiplexer>` pattern [shown here](cache-dotnet-how-to-use-azure-redis-cache.md#connect-to-the-cache) is recommended.</span></span>
* <span data-ttu-id="f958e-401">Redis works best with smaller values, so consider chopping up bigger data into multiple keys.</span><span class="sxs-lookup"><span data-stu-id="f958e-401">Redis works best with smaller values, so consider chopping up bigger data into multiple keys.</span></span> <span data-ttu-id="f958e-402">In [this Redis discussion](https://groups.google.com/forum/#!searchin/redis-db/size/redis-db/n7aa2A4DZDs/3OeEPHSQBAAJ), 100kb is considered large.</span><span class="sxs-lookup"><span data-stu-id="f958e-402">In [this Redis discussion](https://groups.google.com/forum/#!searchin/redis-db/size/redis-db/n7aa2A4DZDs/3OeEPHSQBAAJ), 100kb is considered large.</span></span> <span data-ttu-id="f958e-403">Read [this article](https://gist.github.com/JonCole/db0e90bedeb3fc4823c2#large-requestresponse-size) for an example problem that can be caused by large values.</span><span class="sxs-lookup"><span data-stu-id="f958e-403">Read [this article](https://gist.github.com/JonCole/db0e90bedeb3fc4823c2#large-requestresponse-size) for an example problem that can be caused by large values.</span></span>
* <span data-ttu-id="f958e-404">Configure your [ThreadPool settings](#important-details-about-threadpool-growth) to avoid timeouts.</span><span class="sxs-lookup"><span data-stu-id="f958e-404">Configure your [ThreadPool settings](#important-details-about-threadpool-growth) to avoid timeouts.</span></span>
* <span data-ttu-id="f958e-405">Use at least the default connectTimeout of 5 seconds.</span><span class="sxs-lookup"><span data-stu-id="f958e-405">Use at least the default connectTimeout of 5 seconds.</span></span> <span data-ttu-id="f958e-406">This interval would give StackExchange.Redis sufficient time to re-establish the connection, in case of a network blip.</span><span class="sxs-lookup"><span data-stu-id="f958e-406">This interval would give StackExchange.Redis sufficient time to re-establish the connection, in case of a network blip.</span></span>
* <span data-ttu-id="f958e-407">Be aware of the performance costs associated with different operations you are running.</span><span class="sxs-lookup"><span data-stu-id="f958e-407">Be aware of the performance costs associated with different operations you are running.</span></span> <span data-ttu-id="f958e-408">For instance, the `KEYS` command is an O(n) operation and should be avoided.</span><span class="sxs-lookup"><span data-stu-id="f958e-408">For instance, the `KEYS` command is an O(n) operation and should be avoided.</span></span> <span data-ttu-id="f958e-409">The [redis.io site](http://redis.io/commands/) has details around the time complexity for each operation that it supports.</span><span class="sxs-lookup"><span data-stu-id="f958e-409">The [redis.io site](http://redis.io/commands/) has details around the time complexity for each operation that it supports.</span></span> <span data-ttu-id="f958e-410">Click each command to see the complexity for each operation.</span><span class="sxs-lookup"><span data-stu-id="f958e-410">Click each command to see the complexity for each operation.</span></span>

#### <a name="configuration-and-concepts"></a><span data-ttu-id="f958e-411">Configuration and concepts</span><span class="sxs-lookup"><span data-stu-id="f958e-411">Configuration and concepts</span></span>
* <span data-ttu-id="f958e-412">Use Standard or Premium Tier for Production systems.</span><span class="sxs-lookup"><span data-stu-id="f958e-412">Use Standard or Premium Tier for Production systems.</span></span> <span data-ttu-id="f958e-413">The Basic Tier is a single node system with no data replication and no SLA.</span><span class="sxs-lookup"><span data-stu-id="f958e-413">The Basic Tier is a single node system with no data replication and no SLA.</span></span> <span data-ttu-id="f958e-414">Also, use at least a C1 cache.</span><span class="sxs-lookup"><span data-stu-id="f958e-414">Also, use at least a C1 cache.</span></span> <span data-ttu-id="f958e-415">C0 caches are typically used for simple dev/test scenarios.</span><span class="sxs-lookup"><span data-stu-id="f958e-415">C0 caches are typically used for simple dev/test scenarios.</span></span>
* <span data-ttu-id="f958e-416">Remember that Redis is an **In-Memory** data store.</span><span class="sxs-lookup"><span data-stu-id="f958e-416">Remember that Redis is an **In-Memory** data store.</span></span> <span data-ttu-id="f958e-417">Read [this article](https://gist.github.com/JonCole/b6354d92a2d51c141490f10142884ea4#file-whathappenedtomydatainredis-md) so that you are aware of scenarios where data loss can occur.</span><span class="sxs-lookup"><span data-stu-id="f958e-417">Read [this article](https://gist.github.com/JonCole/b6354d92a2d51c141490f10142884ea4#file-whathappenedtomydatainredis-md) so that you are aware of scenarios where data loss can occur.</span></span>
* <span data-ttu-id="f958e-418">Develop your system such that it can handle connection blips [due to patching and failover](https://gist.github.com/JonCole/317fe03805d5802e31cfa37e646e419d#file-azureredis-patchingexplained-md).</span><span class="sxs-lookup"><span data-stu-id="f958e-418">Develop your system such that it can handle connection blips [due to patching and failover](https://gist.github.com/JonCole/317fe03805d5802e31cfa37e646e419d#file-azureredis-patchingexplained-md).</span></span>

#### <a name="performance-testing"></a><span data-ttu-id="f958e-419">Performance testing</span><span class="sxs-lookup"><span data-stu-id="f958e-419">Performance testing</span></span>
* <span data-ttu-id="f958e-420">Start by using `redis-benchmark.exe` to get a feel for possible throughput before writing your own perf tests.</span><span class="sxs-lookup"><span data-stu-id="f958e-420">Start by using `redis-benchmark.exe` to get a feel for possible throughput before writing your own perf tests.</span></span> <span data-ttu-id="f958e-421">Because `redis-benchmark` does not support SSL, you must [enable the Non-SSL port through the Azure portal](cache-configure.md#access-ports) before you run the test.</span><span class="sxs-lookup"><span data-stu-id="f958e-421">Because `redis-benchmark` does not support SSL, you must [enable the Non-SSL port through the Azure portal](cache-configure.md#access-ports) before you run the test.</span></span> <span data-ttu-id="f958e-422">For examples, see [How can I benchmark and test the performance of my cache?](#how-can-i-benchmark-and-test-the-performance-of-my-cache)</span><span class="sxs-lookup"><span data-stu-id="f958e-422">For examples, see [How can I benchmark and test the performance of my cache?](#how-can-i-benchmark-and-test-the-performance-of-my-cache)</span></span>
* <span data-ttu-id="f958e-423">The client VM used for testing should be in the same region as your Redis cache instance.</span><span class="sxs-lookup"><span data-stu-id="f958e-423">The client VM used for testing should be in the same region as your Redis cache instance.</span></span>
* <span data-ttu-id="f958e-424">We recommend using Dv2 VM Series for your client as they have better hardware and should give the best results.</span><span class="sxs-lookup"><span data-stu-id="f958e-424">We recommend using Dv2 VM Series for your client as they have better hardware and should give the best results.</span></span>
* <span data-ttu-id="f958e-425">Make sure your client VM you choose has at least as much computing and bandwidth capability as the cache you are testing.</span><span class="sxs-lookup"><span data-stu-id="f958e-425">Make sure your client VM you choose has at least as much computing and bandwidth capability as the cache you are testing.</span></span>
* <span data-ttu-id="f958e-426">Enable VRSS on the client machine if you are on Windows.</span><span class="sxs-lookup"><span data-stu-id="f958e-426">Enable VRSS on the client machine if you are on Windows.</span></span> <span data-ttu-id="f958e-427">[See here for details](https://technet.microsoft.com/library/dn383582.aspx).</span><span class="sxs-lookup"><span data-stu-id="f958e-427">[See here for details](https://technet.microsoft.com/library/dn383582.aspx).</span></span>
* <span data-ttu-id="f958e-428">Premium tier Redis instances have better network latency and throughput because they are running on better hardware for both CPU and Network.</span><span class="sxs-lookup"><span data-stu-id="f958e-428">Premium tier Redis instances have better network latency and throughput because they are running on better hardware for both CPU and Network.</span></span>

<a name="cache-redis-commands"></a>

### <a name="what-are-some-of-the-considerations-when-using-common-redis-commands"></a><span data-ttu-id="f958e-429">What are some of the considerations when using common Redis commands?</span><span class="sxs-lookup"><span data-stu-id="f958e-429">What are some of the considerations when using common Redis commands?</span></span>
* <span data-ttu-id="f958e-430">You should not run certain Redis commands which take a long time to complete, without understanding the impact of these commands.</span><span class="sxs-lookup"><span data-stu-id="f958e-430">You should not run certain Redis commands which take a long time to complete, without understanding the impact of these commands.</span></span>
  * <span data-ttu-id="f958e-431">For example, do not run the [KEYS](http://redis.io/commands/keys) command in production as it could take a long time to return depending on the number of keys.</span><span class="sxs-lookup"><span data-stu-id="f958e-431">For example, do not run the [KEYS](http://redis.io/commands/keys) command in production as it could take a long time to return depending on the number of keys.</span></span> <span data-ttu-id="f958e-432">Redis is a single-threaded server and it processes commands one at a time.</span><span class="sxs-lookup"><span data-stu-id="f958e-432">Redis is a single-threaded server and it processes commands one at a time.</span></span> <span data-ttu-id="f958e-433">If you have other commands issued after KEYS, they will not be processed until Redis processes the KEYS command.</span><span class="sxs-lookup"><span data-stu-id="f958e-433">If you have other commands issued after KEYS, they will not be processed until Redis processes the KEYS command.</span></span> <span data-ttu-id="f958e-434">The [redis.io site](http://redis.io/commands/) has details around the time complexity for each operation that it supports.</span><span class="sxs-lookup"><span data-stu-id="f958e-434">The [redis.io site](http://redis.io/commands/) has details around the time complexity for each operation that it supports.</span></span> <span data-ttu-id="f958e-435">Click each command to see the complexity for each operation.</span><span class="sxs-lookup"><span data-stu-id="f958e-435">Click each command to see the complexity for each operation.</span></span>
* <span data-ttu-id="f958e-436">Key sizes - should I use small key/values or large key/values?</span><span class="sxs-lookup"><span data-stu-id="f958e-436">Key sizes - should I use small key/values or large key/values?</span></span> <span data-ttu-id="f958e-437">In general, it depends on the scenario.</span><span class="sxs-lookup"><span data-stu-id="f958e-437">In general, it depends on the scenario.</span></span> <span data-ttu-id="f958e-438">If your scenario requires larger keys, you can adjust the ConnectionTimeout and retry values and adjust your retry logic.</span><span class="sxs-lookup"><span data-stu-id="f958e-438">If your scenario requires larger keys, you can adjust the ConnectionTimeout and retry values and adjust your retry logic.</span></span> <span data-ttu-id="f958e-439">From a Redis server perspective, smaller values are observed to have better performance.</span><span class="sxs-lookup"><span data-stu-id="f958e-439">From a Redis server perspective, smaller values are observed to have better performance.</span></span>
* <span data-ttu-id="f958e-440">These considerations don't mean that you can't store larger values in Redis; you must be aware of the following considerations.</span><span class="sxs-lookup"><span data-stu-id="f958e-440">These considerations don't mean that you can't store larger values in Redis; you must be aware of the following considerations.</span></span> <span data-ttu-id="f958e-441">Latencies will be higher.</span><span class="sxs-lookup"><span data-stu-id="f958e-441">Latencies will be higher.</span></span> <span data-ttu-id="f958e-442">If you have one set of data that is larger and one that is smaller, you can use multiple ConnectionMultiplexer instances, each configured with a different set of timeout and retry values, as described in the previous [What do the StackExchange.Redis configuration options do](#cache-configuration) section.</span><span class="sxs-lookup"><span data-stu-id="f958e-442">If you have one set of data that is larger and one that is smaller, you can use multiple ConnectionMultiplexer instances, each configured with a different set of timeout and retry values, as described in the previous [What do the StackExchange.Redis configuration options do](#cache-configuration) section.</span></span>

<a name="cache-benchmarking"></a>

### <a name="how-can-i-benchmark-and-test-the-performance-of-my-cache"></a><span data-ttu-id="f958e-443">How can I benchmark and test the performance of my cache?</span><span class="sxs-lookup"><span data-stu-id="f958e-443">How can I benchmark and test the performance of my cache?</span></span>
* <span data-ttu-id="f958e-444">[Enable cache diagnostics](cache-how-to-monitor.md#enable-cache-diagnostics) so you can [monitor](cache-how-to-monitor.md) the health of your cache.</span><span class="sxs-lookup"><span data-stu-id="f958e-444">[Enable cache diagnostics](cache-how-to-monitor.md#enable-cache-diagnostics) so you can [monitor](cache-how-to-monitor.md) the health of your cache.</span></span> <span data-ttu-id="f958e-445">You can view the metrics in the Azure portal and you can also [download and review](https://github.com/rustd/RedisSamples/tree/master/CustomMonitoring) them using the tools of your choice.</span><span class="sxs-lookup"><span data-stu-id="f958e-445">You can view the metrics in the Azure portal and you can also [download and review](https://github.com/rustd/RedisSamples/tree/master/CustomMonitoring) them using the tools of your choice.</span></span>
* <span data-ttu-id="f958e-446">You can use redis-benchmark.exe to load test your Redis server.</span><span class="sxs-lookup"><span data-stu-id="f958e-446">You can use redis-benchmark.exe to load test your Redis server.</span></span>
* <span data-ttu-id="f958e-447">Ensure that the load testing client and the Redis cache are in the same region.</span><span class="sxs-lookup"><span data-stu-id="f958e-447">Ensure that the load testing client and the Redis cache are in the same region.</span></span>
* <span data-ttu-id="f958e-448">Use redis-cli.exe and monitor the cache using the INFO command.</span><span class="sxs-lookup"><span data-stu-id="f958e-448">Use redis-cli.exe and monitor the cache using the INFO command.</span></span>
* <span data-ttu-id="f958e-449">If your load is causing high memory fragmentation, you should scale up to a larger cache size.</span><span class="sxs-lookup"><span data-stu-id="f958e-449">If your load is causing high memory fragmentation, you should scale up to a larger cache size.</span></span>
* <span data-ttu-id="f958e-450">For instructions on downloading the Redis tools, see the [How can I run Redis commands?](#cache-commands) section.</span><span class="sxs-lookup"><span data-stu-id="f958e-450">For instructions on downloading the Redis tools, see the [How can I run Redis commands?](#cache-commands) section.</span></span>

<span data-ttu-id="f958e-451">The following commands provide an example of using redis-benchmark.exe.</span><span class="sxs-lookup"><span data-stu-id="f958e-451">The following commands provide an example of using redis-benchmark.exe.</span></span> <span data-ttu-id="f958e-452">For accurate results, run these commands from a VM in the same region as your cache.</span><span class="sxs-lookup"><span data-stu-id="f958e-452">For accurate results, run these commands from a VM in the same region as your cache.</span></span>

* <span data-ttu-id="f958e-453">Test Pipelined SET requests using a 1k payload</span><span class="sxs-lookup"><span data-stu-id="f958e-453">Test Pipelined SET requests using a 1k payload</span></span>

  `redis-benchmark.exe -h **yourcache**.redis.cache.windows.net -a **yourAccesskey** -t SET -n 1000000 -d 1024 -P 50`
* <span data-ttu-id="f958e-454">Test Pipelined GET requests using a 1k payload.</span><span class="sxs-lookup"><span data-stu-id="f958e-454">Test Pipelined GET requests using a 1k payload.</span></span>
  <span data-ttu-id="f958e-455">NOTE: Run the SET test shown above first to populate cache</span><span class="sxs-lookup"><span data-stu-id="f958e-455">NOTE: Run the SET test shown above first to populate cache</span></span>

  `redis-benchmark.exe -h **yourcache**.redis.cache.windows.net -a **yourAccesskey** -t GET -n 1000000 -d 1024 -P 50`

<a name="threadpool"></a>

### <a name="important-details-about-threadpool-growth"></a><span data-ttu-id="f958e-456">Important details about ThreadPool growth</span><span class="sxs-lookup"><span data-stu-id="f958e-456">Important details about ThreadPool growth</span></span>
<span data-ttu-id="f958e-457">The CLR ThreadPool has two types of threads - "Worker" and "I/O Completion Port" (aka IOCP) threads.</span><span class="sxs-lookup"><span data-stu-id="f958e-457">The CLR ThreadPool has two types of threads - "Worker" and "I/O Completion Port" (aka IOCP) threads.</span></span>

* <span data-ttu-id="f958e-458">Worker threads are used when for things like processing `Task.Run(…)` or `ThreadPool.QueueUserWorkItem(…)` methods.</span><span class="sxs-lookup"><span data-stu-id="f958e-458">Worker threads are used when for things like processing `Task.Run(…)` or `ThreadPool.QueueUserWorkItem(…)` methods.</span></span> <span data-ttu-id="f958e-459">These threads are also used by various components in the CLR when work needs to happen on a background thread.</span><span class="sxs-lookup"><span data-stu-id="f958e-459">These threads are also used by various components in the CLR when work needs to happen on a background thread.</span></span>
* <span data-ttu-id="f958e-460">IOCP threads are used when asynchronous IO happens (e.g. reading from the network).</span><span class="sxs-lookup"><span data-stu-id="f958e-460">IOCP threads are used when asynchronous IO happens (e.g. reading from the network).</span></span>

<span data-ttu-id="f958e-461">The thread pool provides new worker threads or I/O completion threads on demand (without any throttling) until it reaches the "Minimum" setting for each type of thread.</span><span class="sxs-lookup"><span data-stu-id="f958e-461">The thread pool provides new worker threads or I/O completion threads on demand (without any throttling) until it reaches the "Minimum" setting for each type of thread.</span></span> <span data-ttu-id="f958e-462">By default, the minimum number of threads is set to the number of processors on a system.</span><span class="sxs-lookup"><span data-stu-id="f958e-462">By default, the minimum number of threads is set to the number of processors on a system.</span></span>

<span data-ttu-id="f958e-463">Once the number of existing (busy) threads hits the "minimum" number of threads, the ThreadPool will throttle the rate at which it injects new threads to one thread per 500 milliseconds.</span><span class="sxs-lookup"><span data-stu-id="f958e-463">Once the number of existing (busy) threads hits the "minimum" number of threads, the ThreadPool will throttle the rate at which it injects new threads to one thread per 500 milliseconds.</span></span> <span data-ttu-id="f958e-464">Typically, if your system gets a burst of work needing an IOCP thread, it will process that work very quickly.</span><span class="sxs-lookup"><span data-stu-id="f958e-464">Typically, if your system gets a burst of work needing an IOCP thread, it will process that work very quickly.</span></span> <span data-ttu-id="f958e-465">However, if the burst of work is more than the configured "Minimum" setting, there will be some delay in processing some of the work as the ThreadPool waits for one of two things to happen.</span><span class="sxs-lookup"><span data-stu-id="f958e-465">However, if the burst of work is more than the configured "Minimum" setting, there will be some delay in processing some of the work as the ThreadPool waits for one of two things to happen.</span></span>

1. <span data-ttu-id="f958e-466">An existing thread becomes free to process the work.</span><span class="sxs-lookup"><span data-stu-id="f958e-466">An existing thread becomes free to process the work.</span></span>
2. <span data-ttu-id="f958e-467">No existing thread becomes free for 500ms, so a new thread is created.</span><span class="sxs-lookup"><span data-stu-id="f958e-467">No existing thread becomes free for 500ms, so a new thread is created.</span></span>

<span data-ttu-id="f958e-468">Basically, it means that when the number of Busy threads is greater than Min threads, you are likely paying a 500ms delay before network traffic is processed by the application.</span><span class="sxs-lookup"><span data-stu-id="f958e-468">Basically, it means that when the number of Busy threads is greater than Min threads, you are likely paying a 500ms delay before network traffic is processed by the application.</span></span> <span data-ttu-id="f958e-469">Also, it is important to note that when an existing thread stays idle for longer than 15 seconds (based on what I remember), it will be cleaned up and this cycle of growth and shrinkage can repeat.</span><span class="sxs-lookup"><span data-stu-id="f958e-469">Also, it is important to note that when an existing thread stays idle for longer than 15 seconds (based on what I remember), it will be cleaned up and this cycle of growth and shrinkage can repeat.</span></span>

<span data-ttu-id="f958e-470">If we look at an example error message from StackExchange.Redis (build 1.0.450 or later), you will see that it now prints ThreadPool statistics (see IOCP and WORKER details below).</span><span class="sxs-lookup"><span data-stu-id="f958e-470">If we look at an example error message from StackExchange.Redis (build 1.0.450 or later), you will see that it now prints ThreadPool statistics (see IOCP and WORKER details below).</span></span>

    System.TimeoutException: Timeout performing GET MyKey, inst: 2, mgr: Inactive,
    queue: 6, qu: 0, qs: 6, qc: 0, wr: 0, wq: 0, in: 0, ar: 0,
    IOCP: (Busy=6,Free=994,Min=4,Max=1000),
    WORKER: (Busy=3,Free=997,Min=4,Max=1000)

<span data-ttu-id="f958e-471">In the previous example, you can see that for IOCP thread there are 6 busy threads and the system is configured to allow 4 minimum threads.</span><span class="sxs-lookup"><span data-stu-id="f958e-471">In the previous example, you can see that for IOCP thread there are 6 busy threads and the system is configured to allow 4 minimum threads.</span></span> <span data-ttu-id="f958e-472">In this case, the client would have likely seen two 500 ms delays because 6 > 4.</span><span class="sxs-lookup"><span data-stu-id="f958e-472">In this case, the client would have likely seen two 500 ms delays because 6 > 4.</span></span>

<span data-ttu-id="f958e-473">Note that StackExchange.Redis can hit timeouts if growth of either IOCP or WORKER threads gets throttled.</span><span class="sxs-lookup"><span data-stu-id="f958e-473">Note that StackExchange.Redis can hit timeouts if growth of either IOCP or WORKER threads gets throttled.</span></span>

### <a name="recommendation"></a><span data-ttu-id="f958e-474">Recommendation</span><span class="sxs-lookup"><span data-stu-id="f958e-474">Recommendation</span></span>
<span data-ttu-id="f958e-475">Given this information, we strongly recommend that customers set the minimum configuration value for IOCP and WORKER threads to something larger than the default value.</span><span class="sxs-lookup"><span data-stu-id="f958e-475">Given this information, we strongly recommend that customers set the minimum configuration value for IOCP and WORKER threads to something larger than the default value.</span></span> <span data-ttu-id="f958e-476">We can't give one-size-fits-all guidance on what this value should be because the right value for one application will be too high/low for another application.</span><span class="sxs-lookup"><span data-stu-id="f958e-476">We can't give one-size-fits-all guidance on what this value should be because the right value for one application will be too high/low for another application.</span></span> <span data-ttu-id="f958e-477">This setting can also impact the performance of other parts of complicated applications, so each customer needs to fine-tune this setting to their specific needs.</span><span class="sxs-lookup"><span data-stu-id="f958e-477">This setting can also impact the performance of other parts of complicated applications, so each customer needs to fine-tune this setting to their specific needs.</span></span> <span data-ttu-id="f958e-478">A good starting place is 200 or 300, then test and tweak as needed.</span><span class="sxs-lookup"><span data-stu-id="f958e-478">A good starting place is 200 or 300, then test and tweak as needed.</span></span>

<span data-ttu-id="f958e-479">How to configure this setting:</span><span class="sxs-lookup"><span data-stu-id="f958e-479">How to configure this setting:</span></span>

* <span data-ttu-id="f958e-480">In ASP.NET, use the ["minIoThreads" configuration setting]["minIoThreads" configuration setting] under the `<processModel>` configuration element in web.config. If you are running inside of Azure WebSites, this setting is not exposed through the configuration options.</span><span class="sxs-lookup"><span data-stu-id="f958e-480">In ASP.NET, use the ["minIoThreads" configuration setting]["minIoThreads" configuration setting] under the `<processModel>` configuration element in web.config. If you are running inside of Azure WebSites, this setting is not exposed through the configuration options.</span></span> <span data-ttu-id="f958e-481">However, you should still be able to configure this setting programmatically (see below) from your Application_Start method in global.asax.cs.</span><span class="sxs-lookup"><span data-stu-id="f958e-481">However, you should still be able to configure this setting programmatically (see below) from your Application_Start method in global.asax.cs.</span></span>

  > [!NOTE] 
  > <span data-ttu-id="f958e-482">The value specified in this configuration element is a *per-core* setting.</span><span class="sxs-lookup"><span data-stu-id="f958e-482">The value specified in this configuration element is a *per-core* setting.</span></span> <span data-ttu-id="f958e-483">For example, if you have a 4 core machine and want your minIOThreads setting to be 200 at runtime, you would use `<processModel minIoThreads="50"/>`.</span><span class="sxs-lookup"><span data-stu-id="f958e-483">For example, if you have a 4 core machine and want your minIOThreads setting to be 200 at runtime, you would use `<processModel minIoThreads="50"/>`.</span></span>
  >

* <span data-ttu-id="f958e-484">Outside of ASP.NET, use the [ThreadPool.SetMinThreads(…)](https://msdn.microsoft.com/library/system.threading.threadpool.setminthreads.aspx) API.</span><span class="sxs-lookup"><span data-stu-id="f958e-484">Outside of ASP.NET, use the [ThreadPool.SetMinThreads(…)](https://msdn.microsoft.com/library/system.threading.threadpool.setminthreads.aspx) API.</span></span>

<a name="server-gc"></a>

### <a name="enable-server-gc-to-get-more-throughput-on-the-client-when-using-stackexchangeredis"></a><span data-ttu-id="f958e-485">Enable server GC to get more throughput on the client when using StackExchange.Redis</span><span class="sxs-lookup"><span data-stu-id="f958e-485">Enable server GC to get more throughput on the client when using StackExchange.Redis</span></span>
<span data-ttu-id="f958e-486">Enabling server GC can optimize the client and provide better performance and throughput when using StackExchange.Redis.</span><span class="sxs-lookup"><span data-stu-id="f958e-486">Enabling server GC can optimize the client and provide better performance and throughput when using StackExchange.Redis.</span></span> <span data-ttu-id="f958e-487">For more information on server GC and how to enable it, see the following articles:</span><span class="sxs-lookup"><span data-stu-id="f958e-487">For more information on server GC and how to enable it, see the following articles:</span></span>

* [<span data-ttu-id="f958e-488">To enable server GC</span><span class="sxs-lookup"><span data-stu-id="f958e-488">To enable server GC</span></span>](https://msdn.microsoft.com/library/ms229357.aspx)
* [<span data-ttu-id="f958e-489">Fundamentals of Garbage Collection</span><span class="sxs-lookup"><span data-stu-id="f958e-489">Fundamentals of Garbage Collection</span></span>](https://msdn.microsoft.com/library/ee787088.aspx)
* [<span data-ttu-id="f958e-490">Garbage Collection and Performance</span><span class="sxs-lookup"><span data-stu-id="f958e-490">Garbage Collection and Performance</span></span>](https://msdn.microsoft.com/library/ee851764.aspx)

<a name="cache-monitor"></a>

### <a name="how-do-i-monitor-the-health-and-performance-of-my-cache"></a><span data-ttu-id="f958e-491">How do I monitor the health and performance of my cache?</span><span class="sxs-lookup"><span data-stu-id="f958e-491">How do I monitor the health and performance of my cache?</span></span>
<span data-ttu-id="f958e-492">Microsoft Azure Redis Cache instances can be monitored in the [Azure portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="f958e-492">Microsoft Azure Redis Cache instances can be monitored in the [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="f958e-493">You can view metrics, pin metrics charts to the Startboard, customize the date and time range of monitoring charts, add and remove metrics from the charts, and set alerts when certain conditions are met.</span><span class="sxs-lookup"><span data-stu-id="f958e-493">You can view metrics, pin metrics charts to the Startboard, customize the date and time range of monitoring charts, add and remove metrics from the charts, and set alerts when certain conditions are met.</span></span> <span data-ttu-id="f958e-494">For more information, see [Monitor Azure Redis Cache](cache-how-to-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="f958e-494">For more information, see [Monitor Azure Redis Cache](cache-how-to-monitor.md).</span></span>

<span data-ttu-id="f958e-495">The Redis Cache **Resource menu** also contains several tools for monitoring and troubleshooting your caches.</span><span class="sxs-lookup"><span data-stu-id="f958e-495">The Redis Cache **Resource menu** also contains several tools for monitoring and troubleshooting your caches.</span></span>

* <span data-ttu-id="f958e-496">**Diagnose and solve problems** provides information about common issues and strategies for resolving them.</span><span class="sxs-lookup"><span data-stu-id="f958e-496">**Diagnose and solve problems** provides information about common issues and strategies for resolving them.</span></span>
* <span data-ttu-id="f958e-497">**Resource health** watches your resource and tells you if it's running as expected.</span><span class="sxs-lookup"><span data-stu-id="f958e-497">**Resource health** watches your resource and tells you if it's running as expected.</span></span> <span data-ttu-id="f958e-498">For more information about the Azure Resource health service, see [Azure Resource health overview](../resource-health/resource-health-overview.md).</span><span class="sxs-lookup"><span data-stu-id="f958e-498">For more information about the Azure Resource health service, see [Azure Resource health overview](../resource-health/resource-health-overview.md).</span></span>
* <span data-ttu-id="f958e-499">**New support request** provides options to open a support request for your cache.</span><span class="sxs-lookup"><span data-stu-id="f958e-499">**New support request** provides options to open a support request for your cache.</span></span>

<span data-ttu-id="f958e-500">These tools enable you to monitor the health of your Azure Redis Cache instances and help you manage your caching applications.</span><span class="sxs-lookup"><span data-stu-id="f958e-500">These tools enable you to monitor the health of your Azure Redis Cache instances and help you manage your caching applications.</span></span> <span data-ttu-id="f958e-501">For more information, see the "Support & troubleshooting settings" section of [How to configure Azure Redis Cache](cache-configure.md).</span><span class="sxs-lookup"><span data-stu-id="f958e-501">For more information, see the "Support & troubleshooting settings" section of [How to configure Azure Redis Cache](cache-configure.md).</span></span>

### <a name="my-cache-diagnostics-storage-account-settings-changed-what-happened"></a><span data-ttu-id="f958e-502">My cache diagnostics storage account settings changed, what happened?</span><span class="sxs-lookup"><span data-stu-id="f958e-502">My cache diagnostics storage account settings changed, what happened?</span></span>
<span data-ttu-id="f958e-503">Caches in the same region and subscription share diagnostics storage settings, and if the configuration is changed (diagnostics enabled/disabled or changing the storage account) it applies to all caches in the subscription that are in that region.</span><span class="sxs-lookup"><span data-stu-id="f958e-503">Caches in the same region and subscription share diagnostics storage settings, and if the configuration is changed (diagnostics enabled/disabled or changing the storage account) it applies to all caches in the subscription that are in that region.</span></span> <span data-ttu-id="f958e-504">If the diagnostics settings for your cache have changed, check to see if the diagnostic settings for another cache in the same subscription and region have changed.</span><span class="sxs-lookup"><span data-stu-id="f958e-504">If the diagnostics settings for your cache have changed, check to see if the diagnostic settings for another cache in the same subscription and region have changed.</span></span> <span data-ttu-id="f958e-505">One way to check is to view the audit logs for your cache for a `Write DiagnosticSettings` event.</span><span class="sxs-lookup"><span data-stu-id="f958e-505">One way to check is to view the audit logs for your cache for a `Write DiagnosticSettings` event.</span></span> <span data-ttu-id="f958e-506">For more information on working with audit logs, see [View events and audit logs](../monitoring-and-diagnostics/insights-debugging-with-events.md) and [Audit operations with Resource Manager](../azure-resource-manager/resource-group-audit.md).</span><span class="sxs-lookup"><span data-stu-id="f958e-506">For more information on working with audit logs, see [View events and audit logs](../monitoring-and-diagnostics/insights-debugging-with-events.md) and [Audit operations with Resource Manager](../azure-resource-manager/resource-group-audit.md).</span></span> <span data-ttu-id="f958e-507">For more information on monitoring Azure Redis Cache events, see [Operations and alerts](cache-how-to-monitor.md#operations-and-alerts).</span><span class="sxs-lookup"><span data-stu-id="f958e-507">For more information on monitoring Azure Redis Cache events, see [Operations and alerts](cache-how-to-monitor.md#operations-and-alerts).</span></span>

### <a name="why-are-diagnostics-enabled-for-some-new-caches-but-not-others"></a><span data-ttu-id="f958e-508">Why are diagnostics enabled for some new caches but not others?</span><span class="sxs-lookup"><span data-stu-id="f958e-508">Why are diagnostics enabled for some new caches but not others?</span></span>
<span data-ttu-id="f958e-509">Caches in the same region and subscription share the same diagnostics storage settings.</span><span class="sxs-lookup"><span data-stu-id="f958e-509">Caches in the same region and subscription share the same diagnostics storage settings.</span></span> <span data-ttu-id="f958e-510">If you create a new cache in the same region and subscription as another cache that has diagnostics enabled, diagnostics is enabled on the new cache using the same settings.</span><span class="sxs-lookup"><span data-stu-id="f958e-510">If you create a new cache in the same region and subscription as another cache that has diagnostics enabled, diagnostics is enabled on the new cache using the same settings.</span></span>

<a name="cache-timeouts"></a>

### <a name="why-am-i-seeing-timeouts"></a><span data-ttu-id="f958e-511">Why am I seeing timeouts?</span><span class="sxs-lookup"><span data-stu-id="f958e-511">Why am I seeing timeouts?</span></span>
<span data-ttu-id="f958e-512">Timeouts happen in the client that you use to talk to Redis.</span><span class="sxs-lookup"><span data-stu-id="f958e-512">Timeouts happen in the client that you use to talk to Redis.</span></span> <span data-ttu-id="f958e-513">When a command is sent to the Redis server, the command is queued up and Redis server eventually picks up the command and executes it.</span><span class="sxs-lookup"><span data-stu-id="f958e-513">When a command is sent to the Redis server, the command is queued up and Redis server eventually picks up the command and executes it.</span></span> <span data-ttu-id="f958e-514">However the client can time out during this process and if it does an exception is raised on the calling side.</span><span class="sxs-lookup"><span data-stu-id="f958e-514">However the client can time out during this process and if it does an exception is raised on the calling side.</span></span> <span data-ttu-id="f958e-515">For more information on troubleshooting timeout issues, see [Client-side troubleshooting](cache-how-to-troubleshoot.md#client-side-troubleshooting) and [StackExchange.Redis timeout exceptions](cache-how-to-troubleshoot.md#stackexchangeredis-timeout-exceptions).</span><span class="sxs-lookup"><span data-stu-id="f958e-515">For more information on troubleshooting timeout issues, see [Client-side troubleshooting](cache-how-to-troubleshoot.md#client-side-troubleshooting) and [StackExchange.Redis timeout exceptions](cache-how-to-troubleshoot.md#stackexchangeredis-timeout-exceptions).</span></span>

<a name="cache-disconnect"></a>

### <a name="why-was-my-client-disconnected-from-the-cache"></a><span data-ttu-id="f958e-516">Why was my client disconnected from the cache?</span><span class="sxs-lookup"><span data-stu-id="f958e-516">Why was my client disconnected from the cache?</span></span>
<span data-ttu-id="f958e-517">The following are some common reason for a cache disconnect.</span><span class="sxs-lookup"><span data-stu-id="f958e-517">The following are some common reason for a cache disconnect.</span></span>

* <span data-ttu-id="f958e-518">Client-side causes</span><span class="sxs-lookup"><span data-stu-id="f958e-518">Client-side causes</span></span>
  * <span data-ttu-id="f958e-519">The client application was redeployed.</span><span class="sxs-lookup"><span data-stu-id="f958e-519">The client application was redeployed.</span></span>
  * <span data-ttu-id="f958e-520">The client application performed a scaling operation.</span><span class="sxs-lookup"><span data-stu-id="f958e-520">The client application performed a scaling operation.</span></span>
    * <span data-ttu-id="f958e-521">In the case of Cloud Services or Web Apps, this may be due to auto-scaling.</span><span class="sxs-lookup"><span data-stu-id="f958e-521">In the case of Cloud Services or Web Apps, this may be due to auto-scaling.</span></span>
  * <span data-ttu-id="f958e-522">The networking layer on the client side changed.</span><span class="sxs-lookup"><span data-stu-id="f958e-522">The networking layer on the client side changed.</span></span>
  * <span data-ttu-id="f958e-523">Transient errors occurred in the client or in the network nodes between the client and the server.</span><span class="sxs-lookup"><span data-stu-id="f958e-523">Transient errors occurred in the client or in the network nodes between the client and the server.</span></span>
  * <span data-ttu-id="f958e-524">The bandwidth threshold limits were reached.</span><span class="sxs-lookup"><span data-stu-id="f958e-524">The bandwidth threshold limits were reached.</span></span>
  * <span data-ttu-id="f958e-525">CPU bound operations took too long to complete.</span><span class="sxs-lookup"><span data-stu-id="f958e-525">CPU bound operations took too long to complete.</span></span>
* <span data-ttu-id="f958e-526">Server-side causes</span><span class="sxs-lookup"><span data-stu-id="f958e-526">Server-side causes</span></span>
  * <span data-ttu-id="f958e-527">On the standard cache offering, the Azure Redis Cache service initiated a fail-over from the primary node to the secondary node.</span><span class="sxs-lookup"><span data-stu-id="f958e-527">On the standard cache offering, the Azure Redis Cache service initiated a fail-over from the primary node to the secondary node.</span></span>
  * <span data-ttu-id="f958e-528">Azure was patching the instance where the cache was deployed</span><span class="sxs-lookup"><span data-stu-id="f958e-528">Azure was patching the instance where the cache was deployed</span></span>
    * <span data-ttu-id="f958e-529">This can be for Redis server updates or general VM maintenance.</span><span class="sxs-lookup"><span data-stu-id="f958e-529">This can be for Redis server updates or general VM maintenance.</span></span>

### <a name="which-azure-cache-offering-is-right-for-me"></a><span data-ttu-id="f958e-530">Which Azure Cache offering is right for me?</span><span class="sxs-lookup"><span data-stu-id="f958e-530">Which Azure Cache offering is right for me?</span></span>
> [!IMPORTANT]
> <span data-ttu-id="f958e-531">As per last year's [announcement](https://azure.microsoft.com/blog/azure-managed-cache-and-in-role-cache-services-to-be-retired-on-11-30-2016/), Azure Managed Cache Service and Azure In-Role Cache service **have been retired** on November 30, 2016.</span><span class="sxs-lookup"><span data-stu-id="f958e-531">As per last year's [announcement](https://azure.microsoft.com/blog/azure-managed-cache-and-in-role-cache-services-to-be-retired-on-11-30-2016/), Azure Managed Cache Service and Azure In-Role Cache service **have been retired** on November 30, 2016.</span></span> <span data-ttu-id="f958e-532">Our recommendation is to use [Azure Redis Cache](https://azure.microsoft.com/services/cache/).</span><span class="sxs-lookup"><span data-stu-id="f958e-532">Our recommendation is to use [Azure Redis Cache](https://azure.microsoft.com/services/cache/).</span></span> <span data-ttu-id="f958e-533">For information on migrating, see [Migrate from Managed Cache Service to Azure Redis Cache](cache-migrate-to-redis.md).</span><span class="sxs-lookup"><span data-stu-id="f958e-533">For information on migrating, see [Migrate from Managed Cache Service to Azure Redis Cache](cache-migrate-to-redis.md).</span></span>
>
>

### <a name="azure-redis-cache"></a><span data-ttu-id="f958e-534">Azure Redis Cache</span><span class="sxs-lookup"><span data-stu-id="f958e-534">Azure Redis Cache</span></span>
<span data-ttu-id="f958e-535">Azure Redis Cache is Generally Available in sizes up to 53 GB and has an availability SLA of 99.9%.</span><span class="sxs-lookup"><span data-stu-id="f958e-535">Azure Redis Cache is Generally Available in sizes up to 53 GB and has an availability SLA of 99.9%.</span></span> <span data-ttu-id="f958e-536">The new [premium tier](cache-premium-tier-intro.md) offers sizes up to 530 GB and support for clustering, VNET, and persistence, with a 99.9% SLA.</span><span class="sxs-lookup"><span data-stu-id="f958e-536">The new [premium tier](cache-premium-tier-intro.md) offers sizes up to 530 GB and support for clustering, VNET, and persistence, with a 99.9% SLA.</span></span>

<span data-ttu-id="f958e-537">Azure Redis Cache gives customers the ability to use a secure, dedicated Redis cache, managed by Microsoft.</span><span class="sxs-lookup"><span data-stu-id="f958e-537">Azure Redis Cache gives customers the ability to use a secure, dedicated Redis cache, managed by Microsoft.</span></span> <span data-ttu-id="f958e-538">With this offer, you get to leverage the rich feature set and ecosystem provided by Redis, and reliable hosting and monitoring from Microsoft.</span><span class="sxs-lookup"><span data-stu-id="f958e-538">With this offer, you get to leverage the rich feature set and ecosystem provided by Redis, and reliable hosting and monitoring from Microsoft.</span></span>

<span data-ttu-id="f958e-539">Unlike traditional caches which deal only with key-value pairs, Redis is popular for its highly performant data types.</span><span class="sxs-lookup"><span data-stu-id="f958e-539">Unlike traditional caches which deal only with key-value pairs, Redis is popular for its highly performant data types.</span></span> <span data-ttu-id="f958e-540">Redis also supports running atomic operations on these types, like appending to a string; incrementing the value in a hash; pushing to a list; computing set intersection, union and difference; or getting the member with highest ranking in a sorted set.</span><span class="sxs-lookup"><span data-stu-id="f958e-540">Redis also supports running atomic operations on these types, like appending to a string; incrementing the value in a hash; pushing to a list; computing set intersection, union and difference; or getting the member with highest ranking in a sorted set.</span></span> <span data-ttu-id="f958e-541">Other features include support for transactions, pub/sub, Lua scripting, keys with a limited time-to-live, and configuration settings to make Redis behave more like a traditional cache.</span><span class="sxs-lookup"><span data-stu-id="f958e-541">Other features include support for transactions, pub/sub, Lua scripting, keys with a limited time-to-live, and configuration settings to make Redis behave more like a traditional cache.</span></span>

<span data-ttu-id="f958e-542">Another key aspect to Redis success is the healthy, vibrant open source ecosystem built around it.</span><span class="sxs-lookup"><span data-stu-id="f958e-542">Another key aspect to Redis success is the healthy, vibrant open source ecosystem built around it.</span></span> <span data-ttu-id="f958e-543">This is reflected in the diverse set of Redis clients available across multiple languages.</span><span class="sxs-lookup"><span data-stu-id="f958e-543">This is reflected in the diverse set of Redis clients available across multiple languages.</span></span> <span data-ttu-id="f958e-544">This ecosystem and wide range of clients allow Azure Redis Cache to be used by nearly any workload you would build inside of Azure.</span><span class="sxs-lookup"><span data-stu-id="f958e-544">This ecosystem and wide range of clients allow Azure Redis Cache to be used by nearly any workload you would build inside of Azure.</span></span>

<span data-ttu-id="f958e-545">For more information about getting started with Azure Redis Cache, see [How to Use Azure Redis Cache](cache-dotnet-how-to-use-azure-redis-cache.md) and [Azure Redis Cache documentation](index.md).</span><span class="sxs-lookup"><span data-stu-id="f958e-545">For more information about getting started with Azure Redis Cache, see [How to Use Azure Redis Cache](cache-dotnet-how-to-use-azure-redis-cache.md) and [Azure Redis Cache documentation](index.md).</span></span>

### <a name="managed-cache-service"></a><span data-ttu-id="f958e-546">Managed Cache service</span><span class="sxs-lookup"><span data-stu-id="f958e-546">Managed Cache service</span></span>
[<span data-ttu-id="f958e-547">Managed Cache service has been retired November 30, 2016.</span><span class="sxs-lookup"><span data-stu-id="f958e-547">Managed Cache service has been retired November 30, 2016.</span></span>](https://azure.microsoft.com/blog/azure-managed-cache-and-in-role-cache-services-to-be-retired-on-11-30-2016/)

### <a name="in-role-cache"></a><span data-ttu-id="f958e-548">In-Role Cache</span><span class="sxs-lookup"><span data-stu-id="f958e-548">In-Role Cache</span></span>
[<span data-ttu-id="f958e-549">In-Role Cache has been retired November 30, 2016.</span><span class="sxs-lookup"><span data-stu-id="f958e-549">In-Role Cache has been retired November 30, 2016.</span></span>](https://azure.microsoft.com/blog/azure-managed-cache-and-in-role-cache-services-to-be-retired-on-11-30-2016/)

["minIoThreads" configuration setting]: https://msdn.microsoft.com/library/vstudio/7w2sway1(v=vs.100).aspx
