---
title: How to monitor Azure Redis Cache | Microsoft Docs
description: Learn how to monitor the health and performance your Azure Redis Cache instances
services: redis-cache
documentationcenter: ''
author: wesmc7777
manager: cfowler
editor: ''
ms.assetid: 7e70b153-9c87-4290-85af-2228f31df118
ms.service: cache
ms.workload: tbd
ms.tgt_pltfrm: cache-redis
ms.devlang: na
ms.topic: article
ms.date: 07/13/2017
ms.author: wesmc
ms.openlocfilehash: 14854960aa8db50507b407d4fab7c4113618235c
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44776899"
---
# <a name="how-to-monitor-azure-redis-cache"></a><span data-ttu-id="0e131-103">How to monitor Azure Redis Cache</span><span class="sxs-lookup"><span data-stu-id="0e131-103">How to monitor Azure Redis Cache</span></span>
<span data-ttu-id="0e131-104">Azure Redis Cache uses [Azure Monitor](https://docs.microsoft.com/azure/monitoring-and-diagnostics/) to provide several options for monitoring your cache instances.</span><span class="sxs-lookup"><span data-stu-id="0e131-104">Azure Redis Cache uses [Azure Monitor](https://docs.microsoft.com/azure/monitoring-and-diagnostics/) to provide several options for monitoring your cache instances.</span></span> <span data-ttu-id="0e131-105">You can view metrics, pin metrics charts to the Startboard, customize the date and time range of monitoring charts, add and remove metrics from the charts, and set alerts when certain conditions are met.</span><span class="sxs-lookup"><span data-stu-id="0e131-105">You can view metrics, pin metrics charts to the Startboard, customize the date and time range of monitoring charts, add and remove metrics from the charts, and set alerts when certain conditions are met.</span></span> <span data-ttu-id="0e131-106">These tools enable you to monitor the health of your Azure Redis Cache instances and help you manage your caching applications.</span><span class="sxs-lookup"><span data-stu-id="0e131-106">These tools enable you to monitor the health of your Azure Redis Cache instances and help you manage your caching applications.</span></span>

<span data-ttu-id="0e131-107">Metrics for Azure Redis Cache instances are collected using the Redis [INFO](http://redis.io/commands/info) command approximately twice per minute and automatically stored for 30 days (see [Export cache metrics](#export-cache-metrics) to configure a different retention policy) so they can be displayed in the metrics charts and evaluated by alert rules.</span><span class="sxs-lookup"><span data-stu-id="0e131-107">Metrics for Azure Redis Cache instances are collected using the Redis [INFO](http://redis.io/commands/info) command approximately twice per minute and automatically stored for 30 days (see [Export cache metrics](#export-cache-metrics) to configure a different retention policy) so they can be displayed in the metrics charts and evaluated by alert rules.</span></span> <span data-ttu-id="0e131-108">For more information about the different INFO values used for each cache metric, see [Available metrics and reporting intervals](#available-metrics-and-reporting-intervals).</span><span class="sxs-lookup"><span data-stu-id="0e131-108">For more information about the different INFO values used for each cache metric, see [Available metrics and reporting intervals](#available-metrics-and-reporting-intervals).</span></span>

<a name="view-cache-metrics"></a>

<span data-ttu-id="0e131-109">To view cache metrics, [browse](cache-configure.md#configure-redis-cache-settings) to your cache instance in the [Azure portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="0e131-109">To view cache metrics, [browse](cache-configure.md#configure-redis-cache-settings) to your cache instance in the [Azure portal](https://portal.azure.com).</span></span>  <span data-ttu-id="0e131-110">Azure Redis Cache provides some built-in charts on the **Overview** blade and the **Redis metrics** blade.</span><span class="sxs-lookup"><span data-stu-id="0e131-110">Azure Redis Cache provides some built-in charts on the **Overview** blade and the **Redis metrics** blade.</span></span> <span data-ttu-id="0e131-111">Each chart can be customized by adding or removing metrics and changing the reporting interval.</span><span class="sxs-lookup"><span data-stu-id="0e131-111">Each chart can be customized by adding or removing metrics and changing the reporting interval.</span></span>

![Redis metrics](./media/cache-how-to-monitor/redis-cache-redis-metrics-blade.png)

## <a name="view-pre-configured-metrics-charts"></a><span data-ttu-id="0e131-113">View pre-configured metrics charts</span><span class="sxs-lookup"><span data-stu-id="0e131-113">View pre-configured metrics charts</span></span>

<span data-ttu-id="0e131-114">The **Overview** blade has the following pre-configured monitoring charts.</span><span class="sxs-lookup"><span data-stu-id="0e131-114">The **Overview** blade has the following pre-configured monitoring charts.</span></span>

* [<span data-ttu-id="0e131-115">Monitoring charts</span><span class="sxs-lookup"><span data-stu-id="0e131-115">Monitoring charts</span></span>](#monitoring-charts)
* [<span data-ttu-id="0e131-116">Usage charts</span><span class="sxs-lookup"><span data-stu-id="0e131-116">Usage charts</span></span>](#usage-charts)

### <a name="monitoring-charts"></a><span data-ttu-id="0e131-117">Monitoring charts</span><span class="sxs-lookup"><span data-stu-id="0e131-117">Monitoring charts</span></span>
<span data-ttu-id="0e131-118">The **Monitoring** section in the **Overview** blade has **Hits and Misses**, **Gets and Sets**, **Connections**, and **Total Commands** charts.</span><span class="sxs-lookup"><span data-stu-id="0e131-118">The **Monitoring** section in the **Overview** blade has **Hits and Misses**, **Gets and Sets**, **Connections**, and **Total Commands** charts.</span></span>

![Monitoring charts](./media/cache-how-to-monitor/redis-cache-monitoring-part.png)

### <a name="usage-charts"></a><span data-ttu-id="0e131-120">Usage charts</span><span class="sxs-lookup"><span data-stu-id="0e131-120">Usage charts</span></span>
<span data-ttu-id="0e131-121">The **Usage** section in the **Overview** blade has **Redis Server Load**, **Memory Usage**, **Network Bandwidth**, and **CPU Usage** charts, and also displays the **Pricing tier** for the cache instance.</span><span class="sxs-lookup"><span data-stu-id="0e131-121">The **Usage** section in the **Overview** blade has **Redis Server Load**, **Memory Usage**, **Network Bandwidth**, and **CPU Usage** charts, and also displays the **Pricing tier** for the cache instance.</span></span>

![Usage charts](./media/cache-how-to-monitor/redis-cache-usage-part.png)

<span data-ttu-id="0e131-123">The **Pricing tier** displays the cache pricing tier, and can be used to [scale](cache-how-to-scale.md) the cache to a different pricing tier.</span><span class="sxs-lookup"><span data-stu-id="0e131-123">The **Pricing tier** displays the cache pricing tier, and can be used to [scale](cache-how-to-scale.md) the cache to a different pricing tier.</span></span>

## <a name="view-metrics-with-azure-monitor"></a><span data-ttu-id="0e131-124">View metrics with Azure monitor</span><span class="sxs-lookup"><span data-stu-id="0e131-124">View metrics with Azure monitor</span></span>
<span data-ttu-id="0e131-125">To view Redis metrics and create custom charts using Azure Monitor, click **Metrics** from the **Resource menu**, and customize your chart using the desired metrics, reporting interval, chart type, and more.</span><span class="sxs-lookup"><span data-stu-id="0e131-125">To view Redis metrics and create custom charts using Azure Monitor, click **Metrics** from the **Resource menu**, and customize your chart using the desired metrics, reporting interval, chart type, and more.</span></span>

![Redis metrics](./media/cache-how-to-monitor/redis-cache-monitor.png)

<span data-ttu-id="0e131-127">For more information on working with metrics using Azure Monitor, see [Overview of metrics in Microsoft Azure](../monitoring-and-diagnostics/monitoring-overview-metrics.md).</span><span class="sxs-lookup"><span data-stu-id="0e131-127">For more information on working with metrics using Azure Monitor, see [Overview of metrics in Microsoft Azure](../monitoring-and-diagnostics/monitoring-overview-metrics.md).</span></span>

<a name="how-to-view-metrics-and-customize-chart"></a>
<a name="enable-cache-diagnostics"></a>
## <a name="export-cache-metrics"></a><span data-ttu-id="0e131-128">Export cache metrics</span><span class="sxs-lookup"><span data-stu-id="0e131-128">Export cache metrics</span></span>
<span data-ttu-id="0e131-129">By default, cache metrics in Azure Monitor are [stored for 30 days](../monitoring-and-diagnostics/monitoring-overview-azure-monitor.md#store-and-archive) and then deleted.</span><span class="sxs-lookup"><span data-stu-id="0e131-129">By default, cache metrics in Azure Monitor are [stored for 30 days](../monitoring-and-diagnostics/monitoring-overview-azure-monitor.md#store-and-archive) and then deleted.</span></span> <span data-ttu-id="0e131-130">To persist your cache metrics for longer than 30 days, you can [designate a storage account](../monitoring-and-diagnostics/monitoring-archive-diagnostic-logs.md) and specify a **Retention (days)** policy for your cache metrics.</span><span class="sxs-lookup"><span data-stu-id="0e131-130">To persist your cache metrics for longer than 30 days, you can [designate a storage account](../monitoring-and-diagnostics/monitoring-archive-diagnostic-logs.md) and specify a **Retention (days)** policy for your cache metrics.</span></span> 

<span data-ttu-id="0e131-131">To configure a storage account for your cache metrics:</span><span class="sxs-lookup"><span data-stu-id="0e131-131">To configure a storage account for your cache metrics:</span></span>

1. <span data-ttu-id="0e131-132">Click **Diagnostics** from the **Resource menu** in the **Redis Cache** blade.</span><span class="sxs-lookup"><span data-stu-id="0e131-132">Click **Diagnostics** from the **Resource menu** in the **Redis Cache** blade.</span></span>
2. <span data-ttu-id="0e131-133">Click **On**.</span><span class="sxs-lookup"><span data-stu-id="0e131-133">Click **On**.</span></span>
3. <span data-ttu-id="0e131-134">Check **Archive to a storage account**.</span><span class="sxs-lookup"><span data-stu-id="0e131-134">Check **Archive to a storage account**.</span></span>
4. <span data-ttu-id="0e131-135">Select the storage account in which to store the cache metrics.</span><span class="sxs-lookup"><span data-stu-id="0e131-135">Select the storage account in which to store the cache metrics.</span></span>
5. <span data-ttu-id="0e131-136">Check the **1 minute** checkbox and specify a **Retention (days)** policy.</span><span class="sxs-lookup"><span data-stu-id="0e131-136">Check the **1 minute** checkbox and specify a **Retention (days)** policy.</span></span> <span data-ttu-id="0e131-137">If you do not want to apply any retention policy and retain data forever, set **Retention (days)** to **0**.</span><span class="sxs-lookup"><span data-stu-id="0e131-137">If you do not want to apply any retention policy and retain data forever, set **Retention (days)** to **0**.</span></span>
6. <span data-ttu-id="0e131-138">Click **Save**.</span><span class="sxs-lookup"><span data-stu-id="0e131-138">Click **Save**.</span></span>

![Redis diagnostics](./media/cache-how-to-monitor/redis-cache-diagnostics.png)

>[!NOTE]
><span data-ttu-id="0e131-140">In addition to archiving your cache metrics to storage, you can also [stream them to an Event hub or send them to Log Analytics](../monitoring-and-diagnostics/monitoring-overview-metrics.md#export-metrics).</span><span class="sxs-lookup"><span data-stu-id="0e131-140">In addition to archiving your cache metrics to storage, you can also [stream them to an Event hub or send them to Log Analytics](../monitoring-and-diagnostics/monitoring-overview-metrics.md#export-metrics).</span></span>
>
>

<span data-ttu-id="0e131-141">To access your metrics, you can view them in the Azure portal as previously described in this article, and you can also access them using the [Azure Monitor Metrics REST API](../monitoring-and-diagnostics/monitoring-overview-metrics.md#access-metrics-via-the-rest-api).</span><span class="sxs-lookup"><span data-stu-id="0e131-141">To access your metrics, you can view them in the Azure portal as previously described in this article, and you can also access them using the [Azure Monitor Metrics REST API](../monitoring-and-diagnostics/monitoring-overview-metrics.md#access-metrics-via-the-rest-api).</span></span>

> [!NOTE]
> <span data-ttu-id="0e131-142">If you change storage accounts, the data in the previously configured storage account remains available for download, but it is not displayed in the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="0e131-142">If you change storage accounts, the data in the previously configured storage account remains available for download, but it is not displayed in the Azure portal.</span></span>  
> 
> 

## <a name="available-metrics-and-reporting-intervals"></a><span data-ttu-id="0e131-143">Available metrics and reporting intervals</span><span class="sxs-lookup"><span data-stu-id="0e131-143">Available metrics and reporting intervals</span></span>
<span data-ttu-id="0e131-144">Cache metrics are reported using several reporting intervals, including **Past hour**, **Today**, **Past week**, and **Custom**.</span><span class="sxs-lookup"><span data-stu-id="0e131-144">Cache metrics are reported using several reporting intervals, including **Past hour**, **Today**, **Past week**, and **Custom**.</span></span> <span data-ttu-id="0e131-145">The **Metric** blade for each metrics chart displays the average, minimum, and maximum values for each metric in the chart, and some metrics display a total for the reporting interval.</span><span class="sxs-lookup"><span data-stu-id="0e131-145">The **Metric** blade for each metrics chart displays the average, minimum, and maximum values for each metric in the chart, and some metrics display a total for the reporting interval.</span></span> 

<span data-ttu-id="0e131-146">Each metric includes two versions.</span><span class="sxs-lookup"><span data-stu-id="0e131-146">Each metric includes two versions.</span></span> <span data-ttu-id="0e131-147">One metric measures performance for the entire cache, and for caches that use [clustering](cache-how-to-premium-clustering.md), a second version of the metric that includes `(Shard 0-9)` in the name measures performance for a single shard in a cache.</span><span class="sxs-lookup"><span data-stu-id="0e131-147">One metric measures performance for the entire cache, and for caches that use [clustering](cache-how-to-premium-clustering.md), a second version of the metric that includes `(Shard 0-9)` in the name measures performance for a single shard in a cache.</span></span> <span data-ttu-id="0e131-148">For example if a cache has 4 shards, `Cache Hits` is the total amount of hits for the entire cache, and `Cache Hits (Shard 3)` is just the hits for that shard of the cache.</span><span class="sxs-lookup"><span data-stu-id="0e131-148">For example if a cache has 4 shards, `Cache Hits` is the total amount of hits for the entire cache, and `Cache Hits (Shard 3)` is just the hits for that shard of the cache.</span></span>

> [!NOTE]
> <span data-ttu-id="0e131-149">Even when the cache is idle with no connected active client applications, you may see some cache activity, such as connected clients, memory usage, and operations being performed.</span><span class="sxs-lookup"><span data-stu-id="0e131-149">Even when the cache is idle with no connected active client applications, you may see some cache activity, such as connected clients, memory usage, and operations being performed.</span></span> <span data-ttu-id="0e131-150">This activity is normal during the operation of an Azure Redis Cache instance.</span><span class="sxs-lookup"><span data-stu-id="0e131-150">This activity is normal during the operation of an Azure Redis Cache instance.</span></span>
> 
> 

| <span data-ttu-id="0e131-151">Metric</span><span class="sxs-lookup"><span data-stu-id="0e131-151">Metric</span></span> | <span data-ttu-id="0e131-152">Description</span><span class="sxs-lookup"><span data-stu-id="0e131-152">Description</span></span> |
| --- | --- |
| <span data-ttu-id="0e131-153">Cache Hits</span><span class="sxs-lookup"><span data-stu-id="0e131-153">Cache Hits</span></span> |<span data-ttu-id="0e131-154">The number of successful key lookups during the specified reporting interval.</span><span class="sxs-lookup"><span data-stu-id="0e131-154">The number of successful key lookups during the specified reporting interval.</span></span> <span data-ttu-id="0e131-155">This maps to `keyspace_hits` from the Redis [INFO](http://redis.io/commands/info) command.</span><span class="sxs-lookup"><span data-stu-id="0e131-155">This maps to `keyspace_hits` from the Redis [INFO](http://redis.io/commands/info) command.</span></span> |
| <span data-ttu-id="0e131-156">Cache Latency (Preview)</span><span class="sxs-lookup"><span data-stu-id="0e131-156">Cache Latency (Preview)</span></span> | <span data-ttu-id="0e131-157">The latency of the cache calculated based off the internode latency of the cache.</span><span class="sxs-lookup"><span data-stu-id="0e131-157">The latency of the cache calculated based off the internode latency of the cache.</span></span> <span data-ttu-id="0e131-158">This metric is measured in microseconds, and has three dimensions: "Avg", "Min", and "Max" which represent the average, minimum, and maximum latency of the cache respectively during the specified reporting interval.</span><span class="sxs-lookup"><span data-stu-id="0e131-158">This metric is measured in microseconds, and has three dimensions: "Avg", "Min", and "Max" which represent the average, minimum, and maximum latency of the cache respectively during the specified reporting interval.</span></span> |
| <span data-ttu-id="0e131-159">Cache Misses</span><span class="sxs-lookup"><span data-stu-id="0e131-159">Cache Misses</span></span> |<span data-ttu-id="0e131-160">The number of failed key lookups during the specified reporting interval.</span><span class="sxs-lookup"><span data-stu-id="0e131-160">The number of failed key lookups during the specified reporting interval.</span></span> <span data-ttu-id="0e131-161">This maps to `keyspace_misses` from the Redis INFO command.</span><span class="sxs-lookup"><span data-stu-id="0e131-161">This maps to `keyspace_misses` from the Redis INFO command.</span></span> <span data-ttu-id="0e131-162">Cache misses do not necessarily mean there is an issue with the cache.</span><span class="sxs-lookup"><span data-stu-id="0e131-162">Cache misses do not necessarily mean there is an issue with the cache.</span></span> <span data-ttu-id="0e131-163">For example, when using the cache-aside programming pattern, an application looks first in the cache for an item.</span><span class="sxs-lookup"><span data-stu-id="0e131-163">For example, when using the cache-aside programming pattern, an application looks first in the cache for an item.</span></span> <span data-ttu-id="0e131-164">If the item is not there (cache miss), the item is retrieved from the database and added to the cache for next time.</span><span class="sxs-lookup"><span data-stu-id="0e131-164">If the item is not there (cache miss), the item is retrieved from the database and added to the cache for next time.</span></span> <span data-ttu-id="0e131-165">Cache misses are normal behavior for the cache-aside programming pattern.</span><span class="sxs-lookup"><span data-stu-id="0e131-165">Cache misses are normal behavior for the cache-aside programming pattern.</span></span> <span data-ttu-id="0e131-166">If the number of cache misses is higher than expected, examine the application logic that populates and reads from the cache.</span><span class="sxs-lookup"><span data-stu-id="0e131-166">If the number of cache misses is higher than expected, examine the application logic that populates and reads from the cache.</span></span> <span data-ttu-id="0e131-167">If items are being evicted from the cache due to memory pressure then there may be some cache misses, but a better metric to monitor for memory pressure would be `Used Memory` or `Evicted Keys`.</span><span class="sxs-lookup"><span data-stu-id="0e131-167">If items are being evicted from the cache due to memory pressure then there may be some cache misses, but a better metric to monitor for memory pressure would be `Used Memory` or `Evicted Keys`.</span></span> |
| <span data-ttu-id="0e131-168">Cache Read</span><span class="sxs-lookup"><span data-stu-id="0e131-168">Cache Read</span></span> |<span data-ttu-id="0e131-169">The amount of data read from the cache in Megabytes per second (MB/s) during the specified reporting interval.</span><span class="sxs-lookup"><span data-stu-id="0e131-169">The amount of data read from the cache in Megabytes per second (MB/s) during the specified reporting interval.</span></span> <span data-ttu-id="0e131-170">This value is derived from the network interface cards that support the virtual machine that hosts the cache and is not Redis specific.</span><span class="sxs-lookup"><span data-stu-id="0e131-170">This value is derived from the network interface cards that support the virtual machine that hosts the cache and is not Redis specific.</span></span> <span data-ttu-id="0e131-171">**This value corresponds to the network bandwidth used by this cache. If you want to set up alerts for server-side network bandwidth limits, then create it using this `Cache Read` counter. See [this table](cache-faq.md#cache-performance) for the observed bandwidth limits for various cache pricing tiers and sizes.**</span><span class="sxs-lookup"><span data-stu-id="0e131-171">**This value corresponds to the network bandwidth used by this cache. If you want to set up alerts for server-side network bandwidth limits, then create it using this `Cache Read` counter. See [this table](cache-faq.md#cache-performance) for the observed bandwidth limits for various cache pricing tiers and sizes.**</span></span> |
| <span data-ttu-id="0e131-172">Cache Write</span><span class="sxs-lookup"><span data-stu-id="0e131-172">Cache Write</span></span> |<span data-ttu-id="0e131-173">The amount of data written to the cache in Megabytes per second (MB/s) during the specified reporting interval.</span><span class="sxs-lookup"><span data-stu-id="0e131-173">The amount of data written to the cache in Megabytes per second (MB/s) during the specified reporting interval.</span></span> <span data-ttu-id="0e131-174">This value is derived from the network interface cards that support the virtual machine that hosts the cache and is not Redis specific.</span><span class="sxs-lookup"><span data-stu-id="0e131-174">This value is derived from the network interface cards that support the virtual machine that hosts the cache and is not Redis specific.</span></span> <span data-ttu-id="0e131-175">This value corresponds to the network bandwidth of data sent to the cache from the client.</span><span class="sxs-lookup"><span data-stu-id="0e131-175">This value corresponds to the network bandwidth of data sent to the cache from the client.</span></span> |
| <span data-ttu-id="0e131-176">Connected Clients</span><span class="sxs-lookup"><span data-stu-id="0e131-176">Connected Clients</span></span> |<span data-ttu-id="0e131-177">The number of client connections to the cache during the specified reporting interval.</span><span class="sxs-lookup"><span data-stu-id="0e131-177">The number of client connections to the cache during the specified reporting interval.</span></span> <span data-ttu-id="0e131-178">This maps to `connected_clients` from the Redis INFO command.</span><span class="sxs-lookup"><span data-stu-id="0e131-178">This maps to `connected_clients` from the Redis INFO command.</span></span> <span data-ttu-id="0e131-179">Once the [connection limit](cache-configure.md#default-redis-server-configuration) is reached subsequent connection attempts to the cache will fail.</span><span class="sxs-lookup"><span data-stu-id="0e131-179">Once the [connection limit](cache-configure.md#default-redis-server-configuration) is reached subsequent connection attempts to the cache will fail.</span></span> <span data-ttu-id="0e131-180">Note that even if there are no active client applications, there may still be a few instances of connected clients due to internal processes and connections.</span><span class="sxs-lookup"><span data-stu-id="0e131-180">Note that even if there are no active client applications, there may still be a few instances of connected clients due to internal processes and connections.</span></span> |
| <span data-ttu-id="0e131-181">CPU</span><span class="sxs-lookup"><span data-stu-id="0e131-181">CPU</span></span> |<span data-ttu-id="0e131-182">The CPU utilization of the Azure Redis Cache server as a percentage during the specified reporting interval.</span><span class="sxs-lookup"><span data-stu-id="0e131-182">The CPU utilization of the Azure Redis Cache server as a percentage during the specified reporting interval.</span></span> <span data-ttu-id="0e131-183">This value maps to the operating system `\Processor(_Total)\% Processor Time` performance counter.</span><span class="sxs-lookup"><span data-stu-id="0e131-183">This value maps to the operating system `\Processor(_Total)\% Processor Time` performance counter.</span></span> |
| <span data-ttu-id="0e131-184">Errors</span><span class="sxs-lookup"><span data-stu-id="0e131-184">Errors</span></span> | <span data-ttu-id="0e131-185">Specific failures and performance issues that the cache could be experiencing during a specified reporting interval.</span><span class="sxs-lookup"><span data-stu-id="0e131-185">Specific failures and performance issues that the cache could be experiencing during a specified reporting interval.</span></span> <span data-ttu-id="0e131-186">This metric has eight dimensions representing different error types, but could have more added in the future.</span><span class="sxs-lookup"><span data-stu-id="0e131-186">This metric has eight dimensions representing different error types, but could have more added in the future.</span></span> <span data-ttu-id="0e131-187">The error types represented now are as follows:</span><span class="sxs-lookup"><span data-stu-id="0e131-187">The error types represented now are as follows:</span></span> <br/><ul><li><span data-ttu-id="0e131-188">**Failover** – when a cache fails over (slave promotes to master)</span><span class="sxs-lookup"><span data-stu-id="0e131-188">**Failover** – when a cache fails over (slave promotes to master)</span></span></li><li><span data-ttu-id="0e131-189">**Crash** – when the cache crashes unexpectedly on either of the nodes</span><span class="sxs-lookup"><span data-stu-id="0e131-189">**Crash** – when the cache crashes unexpectedly on either of the nodes</span></span></li><li><span data-ttu-id="0e131-190">**Dataloss** – when there is dataloss on the cache</span><span class="sxs-lookup"><span data-stu-id="0e131-190">**Dataloss** – when there is dataloss on the cache</span></span></li><li><span data-ttu-id="0e131-191">**UnresponsiveClients** – when the clients are not reading data from the server fast enough</span><span class="sxs-lookup"><span data-stu-id="0e131-191">**UnresponsiveClients** – when the clients are not reading data from the server fast enough</span></span></li><li><span data-ttu-id="0e131-192">**AOF** – when there is an issue related to AOF persistence</span><span class="sxs-lookup"><span data-stu-id="0e131-192">**AOF** – when there is an issue related to AOF persistence</span></span></li><li><span data-ttu-id="0e131-193">**RDB** – when there is an issue related to RDB persistence</span><span class="sxs-lookup"><span data-stu-id="0e131-193">**RDB** – when there is an issue related to RDB persistence</span></span></li><li><span data-ttu-id="0e131-194">**Import** – when there is an issue related to Import RDB</span><span class="sxs-lookup"><span data-stu-id="0e131-194">**Import** – when there is an issue related to Import RDB</span></span></li><li><span data-ttu-id="0e131-195">**Export** – when there is an issue related to Export RDB</span><span class="sxs-lookup"><span data-stu-id="0e131-195">**Export** – when there is an issue related to Export RDB</span></span></li></ul> |
| <span data-ttu-id="0e131-196">Evicted Keys</span><span class="sxs-lookup"><span data-stu-id="0e131-196">Evicted Keys</span></span> |<span data-ttu-id="0e131-197">The number of items evicted from the cache during the specified reporting interval due to the `maxmemory` limit.</span><span class="sxs-lookup"><span data-stu-id="0e131-197">The number of items evicted from the cache during the specified reporting interval due to the `maxmemory` limit.</span></span> <span data-ttu-id="0e131-198">This maps to `evicted_keys` from the Redis INFO command.</span><span class="sxs-lookup"><span data-stu-id="0e131-198">This maps to `evicted_keys` from the Redis INFO command.</span></span> |
| <span data-ttu-id="0e131-199">Expired Keys</span><span class="sxs-lookup"><span data-stu-id="0e131-199">Expired Keys</span></span> |<span data-ttu-id="0e131-200">The number of items expired from the cache during the specified reporting interval.</span><span class="sxs-lookup"><span data-stu-id="0e131-200">The number of items expired from the cache during the specified reporting interval.</span></span> <span data-ttu-id="0e131-201">This value maps to `expired_keys` from the Redis INFO command.</span><span class="sxs-lookup"><span data-stu-id="0e131-201">This value maps to `expired_keys` from the Redis INFO command.</span></span>|
| <span data-ttu-id="0e131-202">Gets</span><span class="sxs-lookup"><span data-stu-id="0e131-202">Gets</span></span> |<span data-ttu-id="0e131-203">The number of get operations from the cache during the specified reporting interval.</span><span class="sxs-lookup"><span data-stu-id="0e131-203">The number of get operations from the cache during the specified reporting interval.</span></span> <span data-ttu-id="0e131-204">This value is the sum of the following values from the Redis INFO all command: `cmdstat_get`, `cmdstat_hget`, `cmdstat_hgetall`, `cmdstat_hmget`, `cmdstat_mget`, `cmdstat_getbit`, and `cmdstat_getrange`, and is equivalent to the sum of cache hits and misses during the reporting interval.</span><span class="sxs-lookup"><span data-stu-id="0e131-204">This value is the sum of the following values from the Redis INFO all command: `cmdstat_get`, `cmdstat_hget`, `cmdstat_hgetall`, `cmdstat_hmget`, `cmdstat_mget`, `cmdstat_getbit`, and `cmdstat_getrange`, and is equivalent to the sum of cache hits and misses during the reporting interval.</span></span> |
| <span data-ttu-id="0e131-205">Operations per Second</span><span class="sxs-lookup"><span data-stu-id="0e131-205">Operations per Second</span></span> | <span data-ttu-id="0e131-206">The total number of commands processed per second by the cache server during the specified reporting interval.</span><span class="sxs-lookup"><span data-stu-id="0e131-206">The total number of commands processed per second by the cache server during the specified reporting interval.</span></span>  <span data-ttu-id="0e131-207">This value maps to "instantaneous_ops_per_sec" from the Redis INFO command.</span><span class="sxs-lookup"><span data-stu-id="0e131-207">This value maps to "instantaneous_ops_per_sec" from the Redis INFO command.</span></span> |
| <span data-ttu-id="0e131-208">Redis Server Load</span><span class="sxs-lookup"><span data-stu-id="0e131-208">Redis Server Load</span></span> |<span data-ttu-id="0e131-209">The percentage of cycles in which the Redis server is busy processing and not waiting idle for messages.</span><span class="sxs-lookup"><span data-stu-id="0e131-209">The percentage of cycles in which the Redis server is busy processing and not waiting idle for messages.</span></span> <span data-ttu-id="0e131-210">If this counter reaches 100 it means the Redis server has hit a performance ceiling and the CPU can't process work any faster.</span><span class="sxs-lookup"><span data-stu-id="0e131-210">If this counter reaches 100 it means the Redis server has hit a performance ceiling and the CPU can't process work any faster.</span></span> <span data-ttu-id="0e131-211">If you are seeing high Redis Server Load then you will see timeout exceptions in the client.</span><span class="sxs-lookup"><span data-stu-id="0e131-211">If you are seeing high Redis Server Load then you will see timeout exceptions in the client.</span></span> <span data-ttu-id="0e131-212">In this case you should consider scaling up or partitioning your data into multiple caches.</span><span class="sxs-lookup"><span data-stu-id="0e131-212">In this case you should consider scaling up or partitioning your data into multiple caches.</span></span> |
| <span data-ttu-id="0e131-213">Sets</span><span class="sxs-lookup"><span data-stu-id="0e131-213">Sets</span></span> |<span data-ttu-id="0e131-214">The number of set operations to the cache during the specified reporting interval.</span><span class="sxs-lookup"><span data-stu-id="0e131-214">The number of set operations to the cache during the specified reporting interval.</span></span> <span data-ttu-id="0e131-215">This value is the sum of the following values from the Redis INFO all command: `cmdstat_set`, `cmdstat_hset`, `cmdstat_hmset`, `cmdstat_hsetnx`, `cmdstat_lset`, `cmdstat_mset`, `cmdstat_msetnx`, `cmdstat_setbit`, `cmdstat_setex`, `cmdstat_setrange`, and `cmdstat_setnx`.</span><span class="sxs-lookup"><span data-stu-id="0e131-215">This value is the sum of the following values from the Redis INFO all command: `cmdstat_set`, `cmdstat_hset`, `cmdstat_hmset`, `cmdstat_hsetnx`, `cmdstat_lset`, `cmdstat_mset`, `cmdstat_msetnx`, `cmdstat_setbit`, `cmdstat_setex`, `cmdstat_setrange`, and `cmdstat_setnx`.</span></span> |
| <span data-ttu-id="0e131-216">Total Keys</span><span class="sxs-lookup"><span data-stu-id="0e131-216">Total Keys</span></span>  | <span data-ttu-id="0e131-217">The maximum number of keys in the cache during the past reporting time period.</span><span class="sxs-lookup"><span data-stu-id="0e131-217">The maximum number of keys in the cache during the past reporting time period.</span></span> <span data-ttu-id="0e131-218">This maps to `keyspace` from the Redis INFO command.</span><span class="sxs-lookup"><span data-stu-id="0e131-218">This maps to `keyspace` from the Redis INFO command.</span></span> <span data-ttu-id="0e131-219">Due to a limitation of the underlying metrics system, for caches with clustering enabled, Total Keys returns the maximum number of keys of the shard that had the maximum number of keys during the reporting interval.</span><span class="sxs-lookup"><span data-stu-id="0e131-219">Due to a limitation of the underlying metrics system, for caches with clustering enabled, Total Keys returns the maximum number of keys of the shard that had the maximum number of keys during the reporting interval.</span></span>  |
| <span data-ttu-id="0e131-220">Total Operations</span><span class="sxs-lookup"><span data-stu-id="0e131-220">Total Operations</span></span> |<span data-ttu-id="0e131-221">The total number of commands processed by the cache server during the specified reporting interval.</span><span class="sxs-lookup"><span data-stu-id="0e131-221">The total number of commands processed by the cache server during the specified reporting interval.</span></span> <span data-ttu-id="0e131-222">This value maps to `total_commands_processed` from the Redis INFO command.</span><span class="sxs-lookup"><span data-stu-id="0e131-222">This value maps to `total_commands_processed` from the Redis INFO command.</span></span> <span data-ttu-id="0e131-223">Note that when Azure Redis Cache is used purely for pub/sub there will be no metrics for `Cache Hits`, `Cache Misses`, `Gets`, or `Sets`, but there will be `Total Operations` metrics that reflect the cache usage for pub/sub operations.</span><span class="sxs-lookup"><span data-stu-id="0e131-223">Note that when Azure Redis Cache is used purely for pub/sub there will be no metrics for `Cache Hits`, `Cache Misses`, `Gets`, or `Sets`, but there will be `Total Operations` metrics that reflect the cache usage for pub/sub operations.</span></span> |
| <span data-ttu-id="0e131-224">Used Memory</span><span class="sxs-lookup"><span data-stu-id="0e131-224">Used Memory</span></span> |<span data-ttu-id="0e131-225">The amount of cache memory used for key/value pairs in the cache in MB during the specified reporting interval.</span><span class="sxs-lookup"><span data-stu-id="0e131-225">The amount of cache memory used for key/value pairs in the cache in MB during the specified reporting interval.</span></span> <span data-ttu-id="0e131-226">This value maps to `used_memory` from the Redis INFO command.</span><span class="sxs-lookup"><span data-stu-id="0e131-226">This value maps to `used_memory` from the Redis INFO command.</span></span> <span data-ttu-id="0e131-227">This does not include metadata or fragmentation.</span><span class="sxs-lookup"><span data-stu-id="0e131-227">This does not include metadata or fragmentation.</span></span> |
| <span data-ttu-id="0e131-228">Used Memory Percentage</span><span class="sxs-lookup"><span data-stu-id="0e131-228">Used Memory Percentage</span></span> | <span data-ttu-id="0e131-229">The % of total memory that is being used during the specified reporting interval.</span><span class="sxs-lookup"><span data-stu-id="0e131-229">The % of total memory that is being used during the specified reporting interval.</span></span>  <span data-ttu-id="0e131-230">This references the "used_memory" value from the Redis INFO command to calculate the percentage.</span><span class="sxs-lookup"><span data-stu-id="0e131-230">This references the "used_memory" value from the Redis INFO command to calculate the percentage.</span></span> |
| <span data-ttu-id="0e131-231">Used Memory RSS</span><span class="sxs-lookup"><span data-stu-id="0e131-231">Used Memory RSS</span></span> |<span data-ttu-id="0e131-232">The amount of cache memory used in MB during the specified reporting interval, including fragmentation and metadata.</span><span class="sxs-lookup"><span data-stu-id="0e131-232">The amount of cache memory used in MB during the specified reporting interval, including fragmentation and metadata.</span></span> <span data-ttu-id="0e131-233">This value maps to `used_memory_rss` from the Redis INFO command.</span><span class="sxs-lookup"><span data-stu-id="0e131-233">This value maps to `used_memory_rss` from the Redis INFO command.</span></span> |

<a name="operations-and-alerts"></a>
## <a name="alerts"></a><span data-ttu-id="0e131-234">Alerts</span><span class="sxs-lookup"><span data-stu-id="0e131-234">Alerts</span></span>
<span data-ttu-id="0e131-235">You can configure to receive alerts based on metrics and activity logs.</span><span class="sxs-lookup"><span data-stu-id="0e131-235">You can configure to receive alerts based on metrics and activity logs.</span></span> <span data-ttu-id="0e131-236">Azure Monitor allows you to configure an alert to do the following when it triggers:</span><span class="sxs-lookup"><span data-stu-id="0e131-236">Azure Monitor allows you to configure an alert to do the following when it triggers:</span></span>

* <span data-ttu-id="0e131-237">Send an email notification</span><span class="sxs-lookup"><span data-stu-id="0e131-237">Send an email notification</span></span>
* <span data-ttu-id="0e131-238">Call a webhook</span><span class="sxs-lookup"><span data-stu-id="0e131-238">Call a webhook</span></span>
* <span data-ttu-id="0e131-239">Invoke an Azure Logic App</span><span class="sxs-lookup"><span data-stu-id="0e131-239">Invoke an Azure Logic App</span></span>

<span data-ttu-id="0e131-240">To configure Alert rules for your cache, click **Alert rules** from the **Resource menu**.</span><span class="sxs-lookup"><span data-stu-id="0e131-240">To configure Alert rules for your cache, click **Alert rules** from the **Resource menu**.</span></span>

![Monitoring](./media/cache-how-to-monitor/redis-cache-monitoring.png)

<span data-ttu-id="0e131-242">For more information about configuring and using Alerts, see [Overview of Alerts](../monitoring-and-diagnostics/insights-alerts-portal.md).</span><span class="sxs-lookup"><span data-stu-id="0e131-242">For more information about configuring and using Alerts, see [Overview of Alerts](../monitoring-and-diagnostics/insights-alerts-portal.md).</span></span>

## <a name="activity-logs"></a><span data-ttu-id="0e131-243">Activity Logs</span><span class="sxs-lookup"><span data-stu-id="0e131-243">Activity Logs</span></span>
<span data-ttu-id="0e131-244">Activity logs provide insight into the operations that were performed on your Azure Redis Cache instances.</span><span class="sxs-lookup"><span data-stu-id="0e131-244">Activity logs provide insight into the operations that were performed on your Azure Redis Cache instances.</span></span> <span data-ttu-id="0e131-245">It was previously known as "audit logs" or "operational logs".</span><span class="sxs-lookup"><span data-stu-id="0e131-245">It was previously known as "audit logs" or "operational logs".</span></span> <span data-ttu-id="0e131-246">Using activity logs, you can determine the "what, who, and when" for any write operations (PUT, POST, DELETE) taken on your Azure Redis Cache instances.</span><span class="sxs-lookup"><span data-stu-id="0e131-246">Using activity logs, you can determine the "what, who, and when" for any write operations (PUT, POST, DELETE) taken on your Azure Redis Cache instances.</span></span> 

> [!NOTE]
> <span data-ttu-id="0e131-247">Activity logs do not include read (GET) operations.</span><span class="sxs-lookup"><span data-stu-id="0e131-247">Activity logs do not include read (GET) operations.</span></span>
>
>

<span data-ttu-id="0e131-248">To view activity logs for your cache, click **Activity logs** from the **Resource menu**.</span><span class="sxs-lookup"><span data-stu-id="0e131-248">To view activity logs for your cache, click **Activity logs** from the **Resource menu**.</span></span>

<span data-ttu-id="0e131-249">For more information about Activity logs, see [Overview of the Azure Activity Log](../monitoring-and-diagnostics/monitoring-overview-activity-logs.md).</span><span class="sxs-lookup"><span data-stu-id="0e131-249">For more information about Activity logs, see [Overview of the Azure Activity Log](../monitoring-and-diagnostics/monitoring-overview-activity-logs.md).</span></span>











