---
title: Compute environments supported by Azure Data Factory | Microsoft Docs
description: Learn about compute environments that you can use in Azure Data Factory pipelines to transform/process data.
services: data-factory
documentationcenter: ''
author: sharonlo101
manager: jhubbard
editor: monicar
ms.assetid: 6877a7e8-1a58-4cfb-bbd3-252ac72e4145
ms.service: data-factory
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/23/2017
ms.author: shlo
ms.openlocfilehash: f9f29cd20020ec5e6538bf1dd31e89c2f7adcc92
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44549898"
---
# <a name="compute-environments-supported-by-azure-data-factory"></a><span data-ttu-id="d1cd3-103">Compute environments supported by Azure Data Factory</span><span class="sxs-lookup"><span data-stu-id="d1cd3-103">Compute environments supported by Azure Data Factory</span></span>
<span data-ttu-id="d1cd3-104">This article explains different compute environments that you can use to process or transform data.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-104">This article explains different compute environments that you can use to process or transform data.</span></span> <span data-ttu-id="d1cd3-105">It also provides details about different configurations (on-demand vs. bring your own) supported by Data Factory when configuring linked services linking these compute environments to an Azure data factory.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-105">It also provides details about different configurations (on-demand vs. bring your own) supported by Data Factory when configuring linked services linking these compute environments to an Azure data factory.</span></span>

<span data-ttu-id="d1cd3-106">The following table provides a list of compute environments supported by Data Factory and the activities that can run on them.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-106">The following table provides a list of compute environments supported by Data Factory and the activities that can run on them.</span></span> 

| <span data-ttu-id="d1cd3-107">Compute environment</span><span class="sxs-lookup"><span data-stu-id="d1cd3-107">Compute environment</span></span> | <span data-ttu-id="d1cd3-108">activities</span><span class="sxs-lookup"><span data-stu-id="d1cd3-108">activities</span></span> |
| --- | --- |
| <span data-ttu-id="d1cd3-109">[On-demand HDInsight cluster](#azure-hdinsight-on-demand-linked-service) or [your own HDInsight cluster](#azure-hdinsight-linked-service)</span><span class="sxs-lookup"><span data-stu-id="d1cd3-109">[On-demand HDInsight cluster](#azure-hdinsight-on-demand-linked-service) or [your own HDInsight cluster](#azure-hdinsight-linked-service)</span></span> |<span data-ttu-id="d1cd3-110">[DotNet](data-factory-use-custom-activities.md), [Hive](data-factory-hive-activity.md), [Pig](data-factory-pig-activity.md), [MapReduce](data-factory-map-reduce.md), [Hadoop Streaming](data-factory-hadoop-streaming-activity.md)</span><span class="sxs-lookup"><span data-stu-id="d1cd3-110">[DotNet](data-factory-use-custom-activities.md), [Hive](data-factory-hive-activity.md), [Pig](data-factory-pig-activity.md), [MapReduce](data-factory-map-reduce.md), [Hadoop Streaming](data-factory-hadoop-streaming-activity.md)</span></span> |
| [<span data-ttu-id="d1cd3-111">Azure Batch</span><span class="sxs-lookup"><span data-stu-id="d1cd3-111">Azure Batch</span></span>](#azure-batch-linked-service) |[<span data-ttu-id="d1cd3-112">DotNet</span><span class="sxs-lookup"><span data-stu-id="d1cd3-112">DotNet</span></span>](data-factory-use-custom-activities.md) |
| [<span data-ttu-id="d1cd3-113">Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="d1cd3-113">Azure Machine Learning</span></span>](#azure-machine-learning-linked-service) |[<span data-ttu-id="d1cd3-114">Machine Learning activities: Batch Execution and Update Resource</span><span class="sxs-lookup"><span data-stu-id="d1cd3-114">Machine Learning activities: Batch Execution and Update Resource</span></span>](data-factory-azure-ml-batch-execution-activity.md) |
| [<span data-ttu-id="d1cd3-115">Azure Data Lake Analytics</span><span class="sxs-lookup"><span data-stu-id="d1cd3-115">Azure Data Lake Analytics</span></span>](#azure-data-lake-analytics-linked-service) |[<span data-ttu-id="d1cd3-116">Data Lake Analytics U-SQL</span><span class="sxs-lookup"><span data-stu-id="d1cd3-116">Data Lake Analytics U-SQL</span></span>](data-factory-usql-activity.md) |
| <span data-ttu-id="d1cd3-117">[Azure SQL](#azure-sql-linked-service), [Azure SQL Data Warehouse](#azure-sql-data-warehouse-linked-service), [SQL Server](#sql-server-linked-service)</span><span class="sxs-lookup"><span data-stu-id="d1cd3-117">[Azure SQL](#azure-sql-linked-service), [Azure SQL Data Warehouse](#azure-sql-data-warehouse-linked-service), [SQL Server](#sql-server-linked-service)</span></span> |[<span data-ttu-id="d1cd3-118">Stored Procedure</span><span class="sxs-lookup"><span data-stu-id="d1cd3-118">Stored Procedure</span></span>](data-factory-stored-proc-activity.md) |

## <a name="supported-hdinsight-versions-in-azure-data-factory"></a><span data-ttu-id="d1cd3-119">Supported HDInsight versions in Azure Data Factory</span><span class="sxs-lookup"><span data-stu-id="d1cd3-119">Supported HDInsight versions in Azure Data Factory</span></span>
<span data-ttu-id="d1cd3-120">Azure HDInsight supports multiple Hadoop cluster versions that can be deployed at any time.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-120">Azure HDInsight supports multiple Hadoop cluster versions that can be deployed at any time.</span></span> <span data-ttu-id="d1cd3-121">Each version choice creates a specific version of the Hortonworks Data Platform (HDP) distribution and a set of components that are contained within that distribution.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-121">Each version choice creates a specific version of the Hortonworks Data Platform (HDP) distribution and a set of components that are contained within that distribution.</span></span> <span data-ttu-id="d1cd3-122">Microsoft keeps updating the list of supported versions of HDInsight to provide latest Hadoop ecosystem components and fixes.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-122">Microsoft keeps updating the list of supported versions of HDInsight to provide latest Hadoop ecosystem components and fixes.</span></span> <span data-ttu-id="d1cd3-123">The HDInsight 3.2 is deprecated on 04/01/2017, for more detailed information, refer to [supported HDInsight versions](../hdinsight/hdinsight-component-versioning.md#supported-hdinsight-versions).</span><span class="sxs-lookup"><span data-stu-id="d1cd3-123">The HDInsight 3.2 is deprecated on 04/01/2017, for more detailed information, refer to [supported HDInsight versions](../hdinsight/hdinsight-component-versioning.md#supported-hdinsight-versions).</span></span>

<span data-ttu-id="d1cd3-124">This impacts existing Azure Data Factories that have Activities running against HDInsight 3.2 clusters.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-124">This impacts existing Azure Data Factories that have Activities running against HDInsight 3.2 clusters.</span></span> <span data-ttu-id="d1cd3-125">We recommend users to follow the below guidelines to update the impacted Data Factories.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-125">We recommend users to follow the below guidelines to update the impacted Data Factories.</span></span>

### <a name="for-linked-services-pointing-to-your-own-hdinsight-clusters"></a><span data-ttu-id="d1cd3-126">For Linked Services pointing to your own HDInsight clusters</span><span class="sxs-lookup"><span data-stu-id="d1cd3-126">For Linked Services pointing to your own HDInsight clusters</span></span>
* <span data-ttu-id="d1cd3-127">**HDInsight Linked Services pointing to your own HDInsight 3.2 or below clusters:**</span><span class="sxs-lookup"><span data-stu-id="d1cd3-127">**HDInsight Linked Services pointing to your own HDInsight 3.2 or below clusters:**</span></span>

  <span data-ttu-id="d1cd3-128">Azure Data Factory supports submitting jobs to your own HDInsight clusters from HDI 3.1 to [the latest supported HDInsight version](../hdinsight/hdinsight-component-versioning.md#supported-hdinsight-versions).</span><span class="sxs-lookup"><span data-stu-id="d1cd3-128">Azure Data Factory supports submitting jobs to your own HDInsight clusters from HDI 3.1 to [the latest supported HDInsight version](../hdinsight/hdinsight-component-versioning.md#supported-hdinsight-versions).</span></span> <span data-ttu-id="d1cd3-129">However, you can no longer create HDInsight 3.2 cluster after 04/01/2017 based on the deprecation policy documented in [supported HDInsight versions](../hdinsight/hdinsight-component-versioning.md#supported-hdinsight-versions).</span><span class="sxs-lookup"><span data-stu-id="d1cd3-129">However, you can no longer create HDInsight 3.2 cluster after 04/01/2017 based on the deprecation policy documented in [supported HDInsight versions](../hdinsight/hdinsight-component-versioning.md#supported-hdinsight-versions).</span></span>  

  <span data-ttu-id="d1cd3-130">**Recommendations:**</span><span class="sxs-lookup"><span data-stu-id="d1cd3-130">**Recommendations:**</span></span> 
  * <span data-ttu-id="d1cd3-131">Perform tests to ensure the compatibility of the Activities that reference this Linked Services to [the latest supported HDInsight version](../hdinsight/hdinsight-component-versioning.md#supported-hdinsight-versions) with information documented in [Hadoop components available with different HDInsight versions](../hdinsight/hdinsight-component-versioning.md#hadoop-components-available-with-different-hdinsight-versions) and [Hortonworks release notes associated with HDInsight versions](../hdinsight/hdinsight-component-versioning.md#hortonworks-release-notes-associated-with-hdinsight-versions).</span><span class="sxs-lookup"><span data-stu-id="d1cd3-131">Perform tests to ensure the compatibility of the Activities that reference this Linked Services to [the latest supported HDInsight version](../hdinsight/hdinsight-component-versioning.md#supported-hdinsight-versions) with information documented in [Hadoop components available with different HDInsight versions](../hdinsight/hdinsight-component-versioning.md#hadoop-components-available-with-different-hdinsight-versions) and [Hortonworks release notes associated with HDInsight versions](../hdinsight/hdinsight-component-versioning.md#hortonworks-release-notes-associated-with-hdinsight-versions).</span></span>
  * <span data-ttu-id="d1cd3-132">Upgrade your HDInsight 3.2 cluster to [the latest supported HDInsight version](../hdinsight/hdinsight-component-versioning.md#supported-hdinsight-versions) to get the latest Hadoop ecosystem components and fixes.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-132">Upgrade your HDInsight 3.2 cluster to [the latest supported HDInsight version](../hdinsight/hdinsight-component-versioning.md#supported-hdinsight-versions) to get the latest Hadoop ecosystem components and fixes.</span></span> 

* <span data-ttu-id="d1cd3-133">**HDInsight Linked Services pointing to your own HDInsight 3.3 or above clusters:**</span><span class="sxs-lookup"><span data-stu-id="d1cd3-133">**HDInsight Linked Services pointing to your own HDInsight 3.3 or above clusters:**</span></span>

  <span data-ttu-id="d1cd3-134">Azure Data Factory supports submitting jobs to your own HDInsight clusters from HDI 3.1 to [the latest supported HDInsight version](../hdinsight/hdinsight-component-versioning.md#supported-hdinsight-versions).</span><span class="sxs-lookup"><span data-stu-id="d1cd3-134">Azure Data Factory supports submitting jobs to your own HDInsight clusters from HDI 3.1 to [the latest supported HDInsight version](../hdinsight/hdinsight-component-versioning.md#supported-hdinsight-versions).</span></span> 
  
  <span data-ttu-id="d1cd3-135">**Recommendations:**</span><span class="sxs-lookup"><span data-stu-id="d1cd3-135">**Recommendations:**</span></span> 
  * <span data-ttu-id="d1cd3-136">No action is required from Data Factory perspective.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-136">No action is required from Data Factory perspective.</span></span> <span data-ttu-id="d1cd3-137">However, if you are on a lower version of HDInsight, we still recommend upgrading to [the latest supported HDInsight version](../hdinsight/hdinsight-component-versioning.md#supported-hdinsight-versions) to get the latest Hadoop ecosystem components and fixes.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-137">However, if you are on a lower version of HDInsight, we still recommend upgrading to [the latest supported HDInsight version](../hdinsight/hdinsight-component-versioning.md#supported-hdinsight-versions) to get the latest Hadoop ecosystem components and fixes.</span></span>

### <a name="for-hdinsight-on-demand-linked-services"></a><span data-ttu-id="d1cd3-138">For HDInsight On-Demand Linked Services</span><span class="sxs-lookup"><span data-stu-id="d1cd3-138">For HDInsight On-Demand Linked Services</span></span>
* <span data-ttu-id="d1cd3-139">**Version 3.2 or below is specified in HDInsight On-Demand Linked Services JSON definition:**</span><span class="sxs-lookup"><span data-stu-id="d1cd3-139">**Version 3.2 or below is specified in HDInsight On-Demand Linked Services JSON definition:**</span></span>
  
  <span data-ttu-id="d1cd3-140">Azure Data Factory will enable support of creating On-Demand HDInsight 3.3 and above clusters starting from **05/05/2017**.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-140">Azure Data Factory will enable support of creating On-Demand HDInsight 3.3 and above clusters starting from **05/05/2017**.</span></span> <span data-ttu-id="d1cd3-141">And the end of support to existing On-Demand HDInsight 3.2 Linked Services will be extended to **07/05/2017**.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-141">And the end of support to existing On-Demand HDInsight 3.2 Linked Services will be extended to **07/05/2017**.</span></span>  

  <span data-ttu-id="d1cd3-142">**Recommendations:**</span><span class="sxs-lookup"><span data-stu-id="d1cd3-142">**Recommendations:**</span></span> 
  * <span data-ttu-id="d1cd3-143">Perform tests to ensure the compatibility of the Activities that reference this Linked Services to  [the latest supported HDInsight version](../hdinsight/hdinsight-component-versioning.md#supported-hdinsight-versions) with information documented in [Hadoop components available with different HDInsight versions](../hdinsight/hdinsight-component-versioning.md#hadoop-components-available-with-different-hdinsight-versions) and [Hortonworks release notes associated with HDInsight versions](../hdinsight/hdinsight-component-versioning.md#hortonworks-release-notes-associated-with-hdinsight-versions).</span><span class="sxs-lookup"><span data-stu-id="d1cd3-143">Perform tests to ensure the compatibility of the Activities that reference this Linked Services to  [the latest supported HDInsight version](../hdinsight/hdinsight-component-versioning.md#supported-hdinsight-versions) with information documented in [Hadoop components available with different HDInsight versions](../hdinsight/hdinsight-component-versioning.md#hadoop-components-available-with-different-hdinsight-versions) and [Hortonworks release notes associated with HDInsight versions](../hdinsight/hdinsight-component-versioning.md#hortonworks-release-notes-associated-with-hdinsight-versions).</span></span>
  * <span data-ttu-id="d1cd3-144">Before **07/05/2017**, update the Version property in On-Demand HDI Linked Service JSON definition to [the latest supported HDInsight version](../hdinsight/hdinsight-component-versioning.md#supported-hdinsight-versions) to get the latest Hadoop ecosystem components and fixes.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-144">Before **07/05/2017**, update the Version property in On-Demand HDI Linked Service JSON definition to [the latest supported HDInsight version](../hdinsight/hdinsight-component-versioning.md#supported-hdinsight-versions) to get the latest Hadoop ecosystem components and fixes.</span></span> <span data-ttu-id="d1cd3-145">For detailed JSON definition, refer to the [Azure HDInsight On-Demand Linked Service sample](#azure-hdinsight-on-demand-linked-service).</span><span class="sxs-lookup"><span data-stu-id="d1cd3-145">For detailed JSON definition, refer to the [Azure HDInsight On-Demand Linked Service sample](#azure-hdinsight-on-demand-linked-service).</span></span> 

* <span data-ttu-id="d1cd3-146">**Version not specified in On-Demand HDInsight Linked Services:**</span><span class="sxs-lookup"><span data-stu-id="d1cd3-146">**Version not specified in On-Demand HDInsight Linked Services:**</span></span>
  
  <span data-ttu-id="d1cd3-147">Azure Data Factory will enable support of creating On-Demand HDInsight 3.3 and above clusters starting from **05/05/2017**.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-147">Azure Data Factory will enable support of creating On-Demand HDInsight 3.3 and above clusters starting from **05/05/2017**.</span></span> <span data-ttu-id="d1cd3-148">And the end of support to existing On-Demand HDInsight 3.2 Linked Services will be extended to **07/05/2017**.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-148">And the end of support to existing On-Demand HDInsight 3.2 Linked Services will be extended to **07/05/2017**.</span></span> 

  <span data-ttu-id="d1cd3-149">Before **05/05/2017**, if left blank, the default value to version and osType properties are:</span><span class="sxs-lookup"><span data-stu-id="d1cd3-149">Before **05/05/2017**, if left blank, the default value to version and osType properties are:</span></span> 

  | <span data-ttu-id="d1cd3-150">Property</span><span class="sxs-lookup"><span data-stu-id="d1cd3-150">Property</span></span> | <span data-ttu-id="d1cd3-151">Default Value</span><span class="sxs-lookup"><span data-stu-id="d1cd3-151">Default Value</span></span> | <span data-ttu-id="d1cd3-152">Required</span><span class="sxs-lookup"><span data-stu-id="d1cd3-152">Required</span></span> |
  | --- | --- | --- |
  <span data-ttu-id="d1cd3-153">Version</span><span class="sxs-lookup"><span data-stu-id="d1cd3-153">Version</span></span>   | <span data-ttu-id="d1cd3-154">HDI 3.1 for Windows cluster and HDI 3.2 for Linux cluster.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-154">HDI 3.1 for Windows cluster and HDI 3.2 for Linux cluster.</span></span>| <span data-ttu-id="d1cd3-155">No</span><span class="sxs-lookup"><span data-stu-id="d1cd3-155">No</span></span>
  <span data-ttu-id="d1cd3-156">osType</span><span class="sxs-lookup"><span data-stu-id="d1cd3-156">osType</span></span> | <span data-ttu-id="d1cd3-157">The default is Windows</span><span class="sxs-lookup"><span data-stu-id="d1cd3-157">The default is Windows</span></span> | <span data-ttu-id="d1cd3-158">No</span><span class="sxs-lookup"><span data-stu-id="d1cd3-158">No</span></span>

  <span data-ttu-id="d1cd3-159">After **05/05/2017**, if left blank, the default value to version and osType properties are:</span><span class="sxs-lookup"><span data-stu-id="d1cd3-159">After **05/05/2017**, if left blank, the default value to version and osType properties are:</span></span>

  | <span data-ttu-id="d1cd3-160">Property</span><span class="sxs-lookup"><span data-stu-id="d1cd3-160">Property</span></span> | <span data-ttu-id="d1cd3-161">Default Value</span><span class="sxs-lookup"><span data-stu-id="d1cd3-161">Default Value</span></span> | <span data-ttu-id="d1cd3-162">Required</span><span class="sxs-lookup"><span data-stu-id="d1cd3-162">Required</span></span> |
  | --- | --- | --- |
  <span data-ttu-id="d1cd3-163">Version</span><span class="sxs-lookup"><span data-stu-id="d1cd3-163">Version</span></span>   | <span data-ttu-id="d1cd3-164">HDI 3.3 for Windows cluster and 3.5 for Linux cluster.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-164">HDI 3.3 for Windows cluster and 3.5 for Linux cluster.</span></span>    | <span data-ttu-id="d1cd3-165">No</span><span class="sxs-lookup"><span data-stu-id="d1cd3-165">No</span></span>
  <span data-ttu-id="d1cd3-166">osType</span><span class="sxs-lookup"><span data-stu-id="d1cd3-166">osType</span></span> | <span data-ttu-id="d1cd3-167">The default is Linux</span><span class="sxs-lookup"><span data-stu-id="d1cd3-167">The default is Linux</span></span> | <span data-ttu-id="d1cd3-168">No</span><span class="sxs-lookup"><span data-stu-id="d1cd3-168">No</span></span>

  <span data-ttu-id="d1cd3-169">**Recommendations:**</span><span class="sxs-lookup"><span data-stu-id="d1cd3-169">**Recommendations:**</span></span> 
  * <span data-ttu-id="d1cd3-170">Before **05/05/2017**, update the Linked Service to explicitly define the expected Version and osType combination in On-Demand HDInsight Linked Services JSON definition.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-170">Before **05/05/2017**, update the Linked Service to explicitly define the expected Version and osType combination in On-Demand HDInsight Linked Services JSON definition.</span></span> <span data-ttu-id="d1cd3-171">You can set Version to 3.2 to ensure backward compatibility.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-171">You can set Version to 3.2 to ensure backward compatibility.</span></span> 
  * <span data-ttu-id="d1cd3-172">Between **05/05/2017** and **07/05/2017**,perform tests to ensure the compatibility of the Activities that reference this Linked Services to [the latest supported HDInsight version](../hdinsight/hdinsight-component-versioning.md#supported-hdinsight-versions) with information documented in [Hadoop components available with different HDInsight versions](../hdinsight/hdinsight-component-versioning.md#hadoop-components-available-with-different-hdinsight-versions) and [Hortonworks release notes associated with HDInsight versions](../hdinsight/hdinsight-component-versioning.md#hortonworks-release-notes-associated-with-hdinsight-versions).</span><span class="sxs-lookup"><span data-stu-id="d1cd3-172">Between **05/05/2017** and **07/05/2017**,perform tests to ensure the compatibility of the Activities that reference this Linked Services to [the latest supported HDInsight version](../hdinsight/hdinsight-component-versioning.md#supported-hdinsight-versions) with information documented in [Hadoop components available with different HDInsight versions](../hdinsight/hdinsight-component-versioning.md#hadoop-components-available-with-different-hdinsight-versions) and [Hortonworks release notes associated with HDInsight versions](../hdinsight/hdinsight-component-versioning.md#hortonworks-release-notes-associated-with-hdinsight-versions).</span></span>  
  * <span data-ttu-id="d1cd3-173">Before **07/05/2017**, set the Version property in On-Demand HDInsight Linked Services JSON definition to [the latest supported HDInsight version](../hdinsight/hdinsight-component-versioning.md#supported-hdinsight-versions) , or leverage the default value which is HDInsight 3.5 to get the latest Hadoop ecosystem components and fixes.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-173">Before **07/05/2017**, set the Version property in On-Demand HDInsight Linked Services JSON definition to [the latest supported HDInsight version](../hdinsight/hdinsight-component-versioning.md#supported-hdinsight-versions) , or leverage the default value which is HDInsight 3.5 to get the latest Hadoop ecosystem components and fixes.</span></span> <span data-ttu-id="d1cd3-174">For detailed JSON definition, refer to the [Azure HDInsight On-Demand Linked Service sample](#azure-hdinsight-on-demand-linked-service).</span><span class="sxs-lookup"><span data-stu-id="d1cd3-174">For detailed JSON definition, refer to the [Azure HDInsight On-Demand Linked Service sample](#azure-hdinsight-on-demand-linked-service).</span></span>

>[!Note]
><span data-ttu-id="d1cd3-175">Currently Azure Data Factory does not support HDInsight clusters using Azure Data Lake Store as primary store.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-175">Currently Azure Data Factory does not support HDInsight clusters using Azure Data Lake Store as primary store.</span></span> <span data-ttu-id="d1cd3-176">You will need to use the Azure Storage as primary store for HDInsight clusters.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-176">You will need to use the Azure Storage as primary store for HDInsight clusters.</span></span> 
>  
>  

## <a name="on-demand-compute-environment"></a><span data-ttu-id="d1cd3-177">On-demand compute environment</span><span class="sxs-lookup"><span data-stu-id="d1cd3-177">On-demand compute environment</span></span>
<span data-ttu-id="d1cd3-178">In this type of configuration, the computing environment is fully managed by the Azure Data Factory service.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-178">In this type of configuration, the computing environment is fully managed by the Azure Data Factory service.</span></span> <span data-ttu-id="d1cd3-179">It is automatically created by the Data Factory service before a job is submitted to process data and removed when the job is completed.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-179">It is automatically created by the Data Factory service before a job is submitted to process data and removed when the job is completed.</span></span> <span data-ttu-id="d1cd3-180">You can create a linked service for the on-demand compute environment, configure it, and control granular settings for job execution, cluster management, and bootstrapping actions.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-180">You can create a linked service for the on-demand compute environment, configure it, and control granular settings for job execution, cluster management, and bootstrapping actions.</span></span>

> [!NOTE]
> <span data-ttu-id="d1cd3-181">The on-demand configuration is currently supported only for Azure HDInsight clusters.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-181">The on-demand configuration is currently supported only for Azure HDInsight clusters.</span></span>
> 
> 

## <a name="azure-hdinsight-on-demand-linked-service"></a><span data-ttu-id="d1cd3-182">Azure HDInsight On-Demand Linked Service</span><span class="sxs-lookup"><span data-stu-id="d1cd3-182">Azure HDInsight On-Demand Linked Service</span></span>
<span data-ttu-id="d1cd3-183">The Azure Data Factory service can automatically create a Windows/Linux-based on-demand HDInsight cluster to process data.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-183">The Azure Data Factory service can automatically create a Windows/Linux-based on-demand HDInsight cluster to process data.</span></span> <span data-ttu-id="d1cd3-184">The cluster is created in the same region as the storage account (linkedServiceName property in the JSON) associated with the cluster.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-184">The cluster is created in the same region as the storage account (linkedServiceName property in the JSON) associated with the cluster.</span></span>

<span data-ttu-id="d1cd3-185">Note the following **important** points about on-demand HDInsight linked service:</span><span class="sxs-lookup"><span data-stu-id="d1cd3-185">Note the following **important** points about on-demand HDInsight linked service:</span></span>

* <span data-ttu-id="d1cd3-186">You do not see the on-demand HDInsight cluster created in your Azure subscription.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-186">You do not see the on-demand HDInsight cluster created in your Azure subscription.</span></span> <span data-ttu-id="d1cd3-187">the Azure Data Factory service manages the on-demand HDInsight cluster on your behalf.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-187">the Azure Data Factory service manages the on-demand HDInsight cluster on your behalf.</span></span>
* <span data-ttu-id="d1cd3-188">The logs for jobs that are run on an on-demand HDInsight cluster are copied to the storage account associated with the HDInsight cluster.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-188">The logs for jobs that are run on an on-demand HDInsight cluster are copied to the storage account associated with the HDInsight cluster.</span></span> <span data-ttu-id="d1cd3-189">You can access these logs from the Azure portal in the **Activity Run Details** blade.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-189">You can access these logs from the Azure portal in the **Activity Run Details** blade.</span></span> <span data-ttu-id="d1cd3-190">See [Monitor and Manage Pipelines](data-factory-monitor-manage-pipelines.md) article for details.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-190">See [Monitor and Manage Pipelines](data-factory-monitor-manage-pipelines.md) article for details.</span></span>
* <span data-ttu-id="d1cd3-191">You are charged only for the time when the HDInsight cluster is up and running jobs.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-191">You are charged only for the time when the HDInsight cluster is up and running jobs.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d1cd3-192">It typically takes **20 minutes** or more to provision an Azure HDInsight cluster on demand.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-192">It typically takes **20 minutes** or more to provision an Azure HDInsight cluster on demand.</span></span>
> 
> 

### <a name="example"></a><span data-ttu-id="d1cd3-193">Example</span><span class="sxs-lookup"><span data-stu-id="d1cd3-193">Example</span></span>
<span data-ttu-id="d1cd3-194">The following JSON defines a Linux-based on-demand HDInsight linked service.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-194">The following JSON defines a Linux-based on-demand HDInsight linked service.</span></span> <span data-ttu-id="d1cd3-195">The Data Factory service automatically creates a **Linux-based** HDInsight cluster when processing a data slice.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-195">The Data Factory service automatically creates a **Linux-based** HDInsight cluster when processing a data slice.</span></span> 

```json
{
    "name": "HDInsightOnDemandLinkedService",
    "properties": {
        "type": "HDInsightOnDemand",
        "typeProperties": {
            "clusterSize": 4,
            "timeToLive": "00:05:00",
            "osType": "linux",
            "linkedServiceName": "StorageLinkedService"
        }
    }
}
```

<span data-ttu-id="d1cd3-196">To use a Windows-based HDInsight cluster, set **osType** to **windows** or do not use the property as the default value is: windows.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-196">To use a Windows-based HDInsight cluster, set **osType** to **windows** or do not use the property as the default value is: windows.</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="d1cd3-197">The HDInsight cluster creates a **default container** in the blob storage you specified in the JSON (**linkedServiceName**).</span><span class="sxs-lookup"><span data-stu-id="d1cd3-197">The HDInsight cluster creates a **default container** in the blob storage you specified in the JSON (**linkedServiceName**).</span></span> <span data-ttu-id="d1cd3-198">HDInsight does not delete this container when the cluster is deleted.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-198">HDInsight does not delete this container when the cluster is deleted.</span></span> <span data-ttu-id="d1cd3-199">This behavior is by design.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-199">This behavior is by design.</span></span> <span data-ttu-id="d1cd3-200">With on-demand HDInsight linked service, a HDInsight cluster is created every time a slice needs to be processed unless there is an existing live cluster (**timeToLive**) and is deleted when the processing is done.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-200">With on-demand HDInsight linked service, a HDInsight cluster is created every time a slice needs to be processed unless there is an existing live cluster (**timeToLive**) and is deleted when the processing is done.</span></span> 
> 
> <span data-ttu-id="d1cd3-201">As more slices are processed, you see many containers in your Azure blob storage.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-201">As more slices are processed, you see many containers in your Azure blob storage.</span></span> <span data-ttu-id="d1cd3-202">If you do not need them for troubleshooting of the jobs, you may want to delete them to reduce the storage cost.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-202">If you do not need them for troubleshooting of the jobs, you may want to delete them to reduce the storage cost.</span></span> <span data-ttu-id="d1cd3-203">The names of these containers follow a pattern: "adf**yourdatafactoryname**-**linkedservicename**-datetimestamp".</span><span class="sxs-lookup"><span data-stu-id="d1cd3-203">The names of these containers follow a pattern: "adf**yourdatafactoryname**-**linkedservicename**-datetimestamp".</span></span> <span data-ttu-id="d1cd3-204">Use tools such as [Microsoft Storage Explorer](http://storageexplorer.com/) to delete containers in your Azure blob storage.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-204">Use tools such as [Microsoft Storage Explorer](http://storageexplorer.com/) to delete containers in your Azure blob storage.</span></span>
> 
> 

### <a name="properties"></a><span data-ttu-id="d1cd3-205">Properties</span><span class="sxs-lookup"><span data-stu-id="d1cd3-205">Properties</span></span>
| <span data-ttu-id="d1cd3-206">Property</span><span class="sxs-lookup"><span data-stu-id="d1cd3-206">Property</span></span> | <span data-ttu-id="d1cd3-207">Description</span><span class="sxs-lookup"><span data-stu-id="d1cd3-207">Description</span></span> | <span data-ttu-id="d1cd3-208">Required</span><span class="sxs-lookup"><span data-stu-id="d1cd3-208">Required</span></span> |
| --- | --- | --- |
| <span data-ttu-id="d1cd3-209">type</span><span class="sxs-lookup"><span data-stu-id="d1cd3-209">type</span></span> |<span data-ttu-id="d1cd3-210">The type property should be set to **HDInsightOnDemand**.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-210">The type property should be set to **HDInsightOnDemand**.</span></span> |<span data-ttu-id="d1cd3-211">Yes</span><span class="sxs-lookup"><span data-stu-id="d1cd3-211">Yes</span></span> |
| <span data-ttu-id="d1cd3-212">clusterSize</span><span class="sxs-lookup"><span data-stu-id="d1cd3-212">clusterSize</span></span> |<span data-ttu-id="d1cd3-213">Number of worker/data nodes in the cluster.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-213">Number of worker/data nodes in the cluster.</span></span> <span data-ttu-id="d1cd3-214">The HDInsight cluster is created with 2 head nodes along with the number of worker nodes you specify for this property.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-214">The HDInsight cluster is created with 2 head nodes along with the number of worker nodes you specify for this property.</span></span> <span data-ttu-id="d1cd3-215">The nodes are of size Standard_D3 that has 4 cores, so a 4 worker node cluster takes 24 cores (4\*4 = 16 cores for worker nodes, plus 2\*4 = 8 cores for head nodes).</span><span class="sxs-lookup"><span data-stu-id="d1cd3-215">The nodes are of size Standard_D3 that has 4 cores, so a 4 worker node cluster takes 24 cores (4\*4 = 16 cores for worker nodes, plus 2\*4 = 8 cores for head nodes).</span></span> <span data-ttu-id="d1cd3-216">See [Create Linux-based Hadoop clusters in HDInsight](../hdinsight/hdinsight-hadoop-provision-linux-clusters.md) for details about the Standard_D3 tier.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-216">See [Create Linux-based Hadoop clusters in HDInsight](../hdinsight/hdinsight-hadoop-provision-linux-clusters.md) for details about the Standard_D3 tier.</span></span> |<span data-ttu-id="d1cd3-217">Yes</span><span class="sxs-lookup"><span data-stu-id="d1cd3-217">Yes</span></span> |
| <span data-ttu-id="d1cd3-218">timetolive</span><span class="sxs-lookup"><span data-stu-id="d1cd3-218">timetolive</span></span> |<span data-ttu-id="d1cd3-219">The allowed idle time for the on-demand HDInsight cluster.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-219">The allowed idle time for the on-demand HDInsight cluster.</span></span> <span data-ttu-id="d1cd3-220">Specifies how long the on-demand HDInsight cluster stays alive after completion of an activity run if there are no other active jobs in the cluster.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-220">Specifies how long the on-demand HDInsight cluster stays alive after completion of an activity run if there are no other active jobs in the cluster.</span></span><br/><br/><span data-ttu-id="d1cd3-221">For example, if an activity run takes 6 minutes and timetolive is set to 5 minutes, the cluster stays alive for 5 minutes after the 6 minutes of processing the activity run.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-221">For example, if an activity run takes 6 minutes and timetolive is set to 5 minutes, the cluster stays alive for 5 minutes after the 6 minutes of processing the activity run.</span></span> <span data-ttu-id="d1cd3-222">If another activity run is executed with the 6 minutes window, it is processed by the same cluster.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-222">If another activity run is executed with the 6 minutes window, it is processed by the same cluster.</span></span><br/><br/><span data-ttu-id="d1cd3-223">Creating an on-demand HDInsight cluster is an expensive operation (could take a while), so use this setting as needed to improve performance of a data factory by reusing an on-demand HDInsight cluster.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-223">Creating an on-demand HDInsight cluster is an expensive operation (could take a while), so use this setting as needed to improve performance of a data factory by reusing an on-demand HDInsight cluster.</span></span><br/><br/><span data-ttu-id="d1cd3-224">If you set timetolive value to 0, the cluster is deleted as soon as the activity run in processed.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-224">If you set timetolive value to 0, the cluster is deleted as soon as the activity run in processed.</span></span> <span data-ttu-id="d1cd3-225">On the other hand, if you set a high value, the cluster may stay idle unnecessarily resulting in high costs.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-225">On the other hand, if you set a high value, the cluster may stay idle unnecessarily resulting in high costs.</span></span> <span data-ttu-id="d1cd3-226">Therefore, it is important that you set the appropriate value based on your needs.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-226">Therefore, it is important that you set the appropriate value based on your needs.</span></span><br/><br/><span data-ttu-id="d1cd3-227">Multiple pipelines can share the same instance of the on-demand HDInsight cluster if the timetolive property value is appropriately set</span><span class="sxs-lookup"><span data-stu-id="d1cd3-227">Multiple pipelines can share the same instance of the on-demand HDInsight cluster if the timetolive property value is appropriately set</span></span> |<span data-ttu-id="d1cd3-228">Yes</span><span class="sxs-lookup"><span data-stu-id="d1cd3-228">Yes</span></span> |
| <span data-ttu-id="d1cd3-229">version</span><span class="sxs-lookup"><span data-stu-id="d1cd3-229">version</span></span> |<span data-ttu-id="d1cd3-230">Version of the HDInsight cluster.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-230">Version of the HDInsight cluster.</span></span> <span data-ttu-id="d1cd3-231">The default value is 3.1 for Windows cluster and 3.2 for Linux cluster.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-231">The default value is 3.1 for Windows cluster and 3.2 for Linux cluster.</span></span> |<span data-ttu-id="d1cd3-232">No</span><span class="sxs-lookup"><span data-stu-id="d1cd3-232">No</span></span> |
| <span data-ttu-id="d1cd3-233">linkedServiceName</span><span class="sxs-lookup"><span data-stu-id="d1cd3-233">linkedServiceName</span></span> |<span data-ttu-id="d1cd3-234">Azure Storage linked service to be used by the on-demand cluster for storing and processing data.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-234">Azure Storage linked service to be used by the on-demand cluster for storing and processing data.</span></span> <p><span data-ttu-id="d1cd3-235">Currently, you cannot create an on-demand HDInsight cluster that uses an Azure Data Lake Store as the storage.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-235">Currently, you cannot create an on-demand HDInsight cluster that uses an Azure Data Lake Store as the storage.</span></span> <span data-ttu-id="d1cd3-236">If you want to store the result data from HDInsight processing in an Azure Data Lake Store, use a Copy Activity to copy the data from the Azure Blob Storage to the Azure Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-236">If you want to store the result data from HDInsight processing in an Azure Data Lake Store, use a Copy Activity to copy the data from the Azure Blob Storage to the Azure Data Lake Store.</span></span></p>  | <span data-ttu-id="d1cd3-237">Yes</span><span class="sxs-lookup"><span data-stu-id="d1cd3-237">Yes</span></span> |
| <span data-ttu-id="d1cd3-238">additionalLinkedServiceNames</span><span class="sxs-lookup"><span data-stu-id="d1cd3-238">additionalLinkedServiceNames</span></span> |<span data-ttu-id="d1cd3-239">Specifies additional storage accounts for the HDInsight linked service so that the Data Factory service can register them on your behalf.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-239">Specifies additional storage accounts for the HDInsight linked service so that the Data Factory service can register them on your behalf.</span></span> |<span data-ttu-id="d1cd3-240">No</span><span class="sxs-lookup"><span data-stu-id="d1cd3-240">No</span></span> |
| <span data-ttu-id="d1cd3-241">osType</span><span class="sxs-lookup"><span data-stu-id="d1cd3-241">osType</span></span> |<span data-ttu-id="d1cd3-242">Type of operating system.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-242">Type of operating system.</span></span> <span data-ttu-id="d1cd3-243">Allowed values are: Windows (default) and Linux</span><span class="sxs-lookup"><span data-stu-id="d1cd3-243">Allowed values are: Windows (default) and Linux</span></span> |<span data-ttu-id="d1cd3-244">No</span><span class="sxs-lookup"><span data-stu-id="d1cd3-244">No</span></span> |
| <span data-ttu-id="d1cd3-245">hcatalogLinkedServiceName</span><span class="sxs-lookup"><span data-stu-id="d1cd3-245">hcatalogLinkedServiceName</span></span> |<span data-ttu-id="d1cd3-246">The name of Azure SQL linked service that point to the HCatalog database.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-246">The name of Azure SQL linked service that point to the HCatalog database.</span></span> <span data-ttu-id="d1cd3-247">The on-demand HDInsight cluster is created by using the Azure SQL database as the metastore.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-247">The on-demand HDInsight cluster is created by using the Azure SQL database as the metastore.</span></span> |<span data-ttu-id="d1cd3-248">No</span><span class="sxs-lookup"><span data-stu-id="d1cd3-248">No</span></span> |

#### <a name="additionallinkedservicenames-json-example"></a><span data-ttu-id="d1cd3-249">additionalLinkedServiceNames JSON example</span><span class="sxs-lookup"><span data-stu-id="d1cd3-249">additionalLinkedServiceNames JSON example</span></span>

```json
"additionalLinkedServiceNames": [
    "otherLinkedServiceName1",
    "otherLinkedServiceName2"
  ]
```

### <a name="advanced-properties"></a><span data-ttu-id="d1cd3-250">Advanced Properties</span><span class="sxs-lookup"><span data-stu-id="d1cd3-250">Advanced Properties</span></span>
<span data-ttu-id="d1cd3-251">You can also specify the following properties for the granular configuration of the on-demand HDInsight cluster.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-251">You can also specify the following properties for the granular configuration of the on-demand HDInsight cluster.</span></span>

| <span data-ttu-id="d1cd3-252">Property</span><span class="sxs-lookup"><span data-stu-id="d1cd3-252">Property</span></span> | <span data-ttu-id="d1cd3-253">Description</span><span class="sxs-lookup"><span data-stu-id="d1cd3-253">Description</span></span> | <span data-ttu-id="d1cd3-254">Required</span><span class="sxs-lookup"><span data-stu-id="d1cd3-254">Required</span></span> |
|:--- |:--- |:--- |
| <span data-ttu-id="d1cd3-255">coreConfiguration</span><span class="sxs-lookup"><span data-stu-id="d1cd3-255">coreConfiguration</span></span> |<span data-ttu-id="d1cd3-256">Specifies the core configuration parameters (as in core-site.xml) for the HDInsight cluster to be created.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-256">Specifies the core configuration parameters (as in core-site.xml) for the HDInsight cluster to be created.</span></span> |<span data-ttu-id="d1cd3-257">No</span><span class="sxs-lookup"><span data-stu-id="d1cd3-257">No</span></span> |
| <span data-ttu-id="d1cd3-258">hBaseConfiguration</span><span class="sxs-lookup"><span data-stu-id="d1cd3-258">hBaseConfiguration</span></span> |<span data-ttu-id="d1cd3-259">Specifies the HBase configuration parameters (hbase-site.xml) for the HDInsight cluster.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-259">Specifies the HBase configuration parameters (hbase-site.xml) for the HDInsight cluster.</span></span> |<span data-ttu-id="d1cd3-260">No</span><span class="sxs-lookup"><span data-stu-id="d1cd3-260">No</span></span> |
| <span data-ttu-id="d1cd3-261">hdfsConfiguration</span><span class="sxs-lookup"><span data-stu-id="d1cd3-261">hdfsConfiguration</span></span> |<span data-ttu-id="d1cd3-262">Specifies the HDFS configuration parameters (hdfs-site.xml) for the HDInsight cluster.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-262">Specifies the HDFS configuration parameters (hdfs-site.xml) for the HDInsight cluster.</span></span> |<span data-ttu-id="d1cd3-263">No</span><span class="sxs-lookup"><span data-stu-id="d1cd3-263">No</span></span> |
| <span data-ttu-id="d1cd3-264">hiveConfiguration</span><span class="sxs-lookup"><span data-stu-id="d1cd3-264">hiveConfiguration</span></span> |<span data-ttu-id="d1cd3-265">Specifies the hive configuration parameters (hive-site.xml) for the HDInsight cluster.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-265">Specifies the hive configuration parameters (hive-site.xml) for the HDInsight cluster.</span></span> |<span data-ttu-id="d1cd3-266">No</span><span class="sxs-lookup"><span data-stu-id="d1cd3-266">No</span></span> |
| <span data-ttu-id="d1cd3-267">mapReduceConfiguration</span><span class="sxs-lookup"><span data-stu-id="d1cd3-267">mapReduceConfiguration</span></span> |<span data-ttu-id="d1cd3-268">Specifies the MapReduce configuration parameters (mapred-site.xml) for the HDInsight cluster.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-268">Specifies the MapReduce configuration parameters (mapred-site.xml) for the HDInsight cluster.</span></span> |<span data-ttu-id="d1cd3-269">No</span><span class="sxs-lookup"><span data-stu-id="d1cd3-269">No</span></span> |
| <span data-ttu-id="d1cd3-270">oozieConfiguration</span><span class="sxs-lookup"><span data-stu-id="d1cd3-270">oozieConfiguration</span></span> |<span data-ttu-id="d1cd3-271">Specifies the Oozie configuration parameters (oozie-site.xml) for the HDInsight cluster.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-271">Specifies the Oozie configuration parameters (oozie-site.xml) for the HDInsight cluster.</span></span> |<span data-ttu-id="d1cd3-272">No</span><span class="sxs-lookup"><span data-stu-id="d1cd3-272">No</span></span> |
| <span data-ttu-id="d1cd3-273">stormConfiguration</span><span class="sxs-lookup"><span data-stu-id="d1cd3-273">stormConfiguration</span></span> |<span data-ttu-id="d1cd3-274">Specifies the Storm configuration parameters (storm-site.xml) for the HDInsight cluster.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-274">Specifies the Storm configuration parameters (storm-site.xml) for the HDInsight cluster.</span></span> |<span data-ttu-id="d1cd3-275">No</span><span class="sxs-lookup"><span data-stu-id="d1cd3-275">No</span></span> |
| <span data-ttu-id="d1cd3-276">yarnConfiguration</span><span class="sxs-lookup"><span data-stu-id="d1cd3-276">yarnConfiguration</span></span> |<span data-ttu-id="d1cd3-277">Specifies the Yarn configuration parameters (yarn-site.xml) for the HDInsight cluster.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-277">Specifies the Yarn configuration parameters (yarn-site.xml) for the HDInsight cluster.</span></span> |<span data-ttu-id="d1cd3-278">No</span><span class="sxs-lookup"><span data-stu-id="d1cd3-278">No</span></span> |

#### <a name="example--on-demand-hdinsight-cluster-configuration-with-advanced-properties"></a><span data-ttu-id="d1cd3-279">Example â€“ On-demand HDInsight cluster configuration with advanced properties</span><span class="sxs-lookup"><span data-stu-id="d1cd3-279">Example â€“ On-demand HDInsight cluster configuration with advanced properties</span></span>

```json
{
  "name": " HDInsightOnDemandLinkedService",
  "properties": {
    "type": "HDInsightOnDemand",
    "typeProperties": {
      "clusterSize": 16,
      "timeToLive": "01:30:00",
      "linkedServiceName": "adfods1",
      "coreConfiguration": {
        "templeton.mapper.memory.mb": "5000"
      },
      "hiveConfiguration": {
        "templeton.mapper.memory.mb": "5000"
      },
      "mapReduceConfiguration": {
        "mapreduce.reduce.java.opts": "-Xmx4000m",
        "mapreduce.map.java.opts": "-Xmx4000m",
        "mapreduce.map.memory.mb": "5000",
        "mapreduce.reduce.memory.mb": "5000",
        "mapreduce.job.reduce.slowstart.completedmaps": "0.8"
      },
      "yarnConfiguration": {
        "yarn.app.mapreduce.am.resource.mb": "5000",
        "mapreduce.map.memory.mb": "5000"
      },
      "additionalLinkedServiceNames": [
        "datafeeds",
        "adobedatafeed"
      ]
    }
  }
}
```

### <a name="node-sizes"></a><span data-ttu-id="d1cd3-280">Node sizes</span><span class="sxs-lookup"><span data-stu-id="d1cd3-280">Node sizes</span></span>
<span data-ttu-id="d1cd3-281">You can specify the sizes of head, data, and zookeeper nodes using the following properties:</span><span class="sxs-lookup"><span data-stu-id="d1cd3-281">You can specify the sizes of head, data, and zookeeper nodes using the following properties:</span></span> 

| <span data-ttu-id="d1cd3-282">Property</span><span class="sxs-lookup"><span data-stu-id="d1cd3-282">Property</span></span> | <span data-ttu-id="d1cd3-283">Description</span><span class="sxs-lookup"><span data-stu-id="d1cd3-283">Description</span></span> | <span data-ttu-id="d1cd3-284">Required</span><span class="sxs-lookup"><span data-stu-id="d1cd3-284">Required</span></span> |
|:--- |:--- |:--- |
| <span data-ttu-id="d1cd3-285">headNodeSize</span><span class="sxs-lookup"><span data-stu-id="d1cd3-285">headNodeSize</span></span> |<span data-ttu-id="d1cd3-286">Specifies the size of the head node.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-286">Specifies the size of the head node.</span></span> <span data-ttu-id="d1cd3-287">The default value is: Standard_D3.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-287">The default value is: Standard_D3.</span></span> <span data-ttu-id="d1cd3-288">See the **Specifying node sizes** section below for details.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-288">See the **Specifying node sizes** section below for details.</span></span> |<span data-ttu-id="d1cd3-289">No</span><span class="sxs-lookup"><span data-stu-id="d1cd3-289">No</span></span> |
| <span data-ttu-id="d1cd3-290">dataNodeSize</span><span class="sxs-lookup"><span data-stu-id="d1cd3-290">dataNodeSize</span></span> |<span data-ttu-id="d1cd3-291">Specifies the size of the data node.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-291">Specifies the size of the data node.</span></span> <span data-ttu-id="d1cd3-292">The default value is: Standard_D3.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-292">The default value is: Standard_D3.</span></span> |<span data-ttu-id="d1cd3-293">No</span><span class="sxs-lookup"><span data-stu-id="d1cd3-293">No</span></span> |
| <span data-ttu-id="d1cd3-294">zookeeperNodeSize</span><span class="sxs-lookup"><span data-stu-id="d1cd3-294">zookeeperNodeSize</span></span> |<span data-ttu-id="d1cd3-295">Specifies the size of the Zoo Keeper node.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-295">Specifies the size of the Zoo Keeper node.</span></span> <span data-ttu-id="d1cd3-296">The default value is: Standard_D3.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-296">The default value is: Standard_D3.</span></span> |<span data-ttu-id="d1cd3-297">No</span><span class="sxs-lookup"><span data-stu-id="d1cd3-297">No</span></span> |

#### <a name="specifying-node-sizes"></a><span data-ttu-id="d1cd3-298">Specifying node sizes</span><span class="sxs-lookup"><span data-stu-id="d1cd3-298">Specifying node sizes</span></span>
<span data-ttu-id="d1cd3-299">See the [Sizes of Virtual Machines](../virtual-machines/linux/sizes.md) article for string values you need to specify for the above properties.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-299">See the [Sizes of Virtual Machines](../virtual-machines/linux/sizes.md) article for string values you need to specify for the above properties.</span></span> <span data-ttu-id="d1cd3-300">The values need to conform to the **CMDLETs & APIS** referenced in the article.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-300">The values need to conform to the **CMDLETs & APIS** referenced in the article.</span></span> <span data-ttu-id="d1cd3-301">As you can see in the article, the data node of Large (default) size has 7 GB memory, which may not be good enough for your scenario.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-301">As you can see in the article, the data node of Large (default) size has 7 GB memory, which may not be good enough for your scenario.</span></span> 

<span data-ttu-id="d1cd3-302">If you want to create D4 sized head nodes and worker nodes, you need to specify **Standard_D4** as the value for headNodeSize and dataNodeSize properties.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-302">If you want to create D4 sized head nodes and worker nodes, you need to specify **Standard_D4** as the value for headNodeSize and dataNodeSize properties.</span></span> 

```json
"headNodeSize": "Standard_D4",    
"dataNodeSize": "Standard_D4",
```

<span data-ttu-id="d1cd3-303">If you specify a wrong value for these properties, you may receive the following **error:** Failed to create cluster.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-303">If you specify a wrong value for these properties, you may receive the following **error:** Failed to create cluster.</span></span> <span data-ttu-id="d1cd3-304">Exception: Unable to complete the cluster create operation.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-304">Exception: Unable to complete the cluster create operation.</span></span> <span data-ttu-id="d1cd3-305">Operation failed with code '400'.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-305">Operation failed with code '400'.</span></span> <span data-ttu-id="d1cd3-306">Cluster left behind state: 'Error'.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-306">Cluster left behind state: 'Error'.</span></span> <span data-ttu-id="d1cd3-307">Message: 'PreClusterCreationValidationFailure'.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-307">Message: 'PreClusterCreationValidationFailure'.</span></span> <span data-ttu-id="d1cd3-308">When you receive this error, ensure that you are using the **CMDLET & APIS** name from the table in the above article.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-308">When you receive this error, ensure that you are using the **CMDLET & APIS** name from the table in the above article.</span></span>  

## <a name="bring-your-own-compute-environment"></a><span data-ttu-id="d1cd3-309">Bring your own compute environment</span><span class="sxs-lookup"><span data-stu-id="d1cd3-309">Bring your own compute environment</span></span>
<span data-ttu-id="d1cd3-310">In this type of configuration, users can register an already existing computing environment as a linked service in Data Factory.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-310">In this type of configuration, users can register an already existing computing environment as a linked service in Data Factory.</span></span> <span data-ttu-id="d1cd3-311">The computing environment is managed by the user and the Data Factory service uses it to execute the activities.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-311">The computing environment is managed by the user and the Data Factory service uses it to execute the activities.</span></span>

<span data-ttu-id="d1cd3-312">This type of configuration is supported for the following compute environments:</span><span class="sxs-lookup"><span data-stu-id="d1cd3-312">This type of configuration is supported for the following compute environments:</span></span>

* <span data-ttu-id="d1cd3-313">Azure HDInsight</span><span class="sxs-lookup"><span data-stu-id="d1cd3-313">Azure HDInsight</span></span>
* <span data-ttu-id="d1cd3-314">Azure Batch</span><span class="sxs-lookup"><span data-stu-id="d1cd3-314">Azure Batch</span></span>
* <span data-ttu-id="d1cd3-315">Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="d1cd3-315">Azure Machine Learning</span></span>
* <span data-ttu-id="d1cd3-316">Azure Data Lake Analytics</span><span class="sxs-lookup"><span data-stu-id="d1cd3-316">Azure Data Lake Analytics</span></span>
* <span data-ttu-id="d1cd3-317">Azure SQL DB, Azure SQL DW, SQL Server</span><span class="sxs-lookup"><span data-stu-id="d1cd3-317">Azure SQL DB, Azure SQL DW, SQL Server</span></span>

## <a name="azure-hdinsight-linked-service"></a><span data-ttu-id="d1cd3-318">Azure HDInsight Linked Service</span><span class="sxs-lookup"><span data-stu-id="d1cd3-318">Azure HDInsight Linked Service</span></span>
<span data-ttu-id="d1cd3-319">You can create an Azure HDInsight linked service to register your own HDInsight cluster with Data Factory.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-319">You can create an Azure HDInsight linked service to register your own HDInsight cluster with Data Factory.</span></span>

### <a name="example"></a><span data-ttu-id="d1cd3-320">Example</span><span class="sxs-lookup"><span data-stu-id="d1cd3-320">Example</span></span>

```json
{
  "name": "HDInsightLinkedService",
  "properties": {
    "type": "HDInsight",
    "typeProperties": {
      "clusterUri": " https://<hdinsightclustername>.azurehdinsight.net/",
      "userName": "admin",
      "password": "<password>",
      "linkedServiceName": "MyHDInsightStoragelinkedService"
    }
  }
}
```

### <a name="properties"></a><span data-ttu-id="d1cd3-321">Properties</span><span class="sxs-lookup"><span data-stu-id="d1cd3-321">Properties</span></span>
| <span data-ttu-id="d1cd3-322">Property</span><span class="sxs-lookup"><span data-stu-id="d1cd3-322">Property</span></span> | <span data-ttu-id="d1cd3-323">Description</span><span class="sxs-lookup"><span data-stu-id="d1cd3-323">Description</span></span> | <span data-ttu-id="d1cd3-324">Required</span><span class="sxs-lookup"><span data-stu-id="d1cd3-324">Required</span></span> |
| --- | --- | --- |
| <span data-ttu-id="d1cd3-325">type</span><span class="sxs-lookup"><span data-stu-id="d1cd3-325">type</span></span> |<span data-ttu-id="d1cd3-326">The type property should be set to **HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-326">The type property should be set to **HDInsight**.</span></span> |<span data-ttu-id="d1cd3-327">Yes</span><span class="sxs-lookup"><span data-stu-id="d1cd3-327">Yes</span></span> |
| <span data-ttu-id="d1cd3-328">clusterUri</span><span class="sxs-lookup"><span data-stu-id="d1cd3-328">clusterUri</span></span> |<span data-ttu-id="d1cd3-329">The URI of the HDInsight cluster.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-329">The URI of the HDInsight cluster.</span></span> |<span data-ttu-id="d1cd3-330">Yes</span><span class="sxs-lookup"><span data-stu-id="d1cd3-330">Yes</span></span> |
| <span data-ttu-id="d1cd3-331">username</span><span class="sxs-lookup"><span data-stu-id="d1cd3-331">username</span></span> |<span data-ttu-id="d1cd3-332">Specify the name of the user to be used to connect to an existing HDInsight cluster.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-332">Specify the name of the user to be used to connect to an existing HDInsight cluster.</span></span> |<span data-ttu-id="d1cd3-333">Yes</span><span class="sxs-lookup"><span data-stu-id="d1cd3-333">Yes</span></span> |
| <span data-ttu-id="d1cd3-334">password</span><span class="sxs-lookup"><span data-stu-id="d1cd3-334">password</span></span> |<span data-ttu-id="d1cd3-335">Specify password for the user account.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-335">Specify password for the user account.</span></span> |<span data-ttu-id="d1cd3-336">Yes</span><span class="sxs-lookup"><span data-stu-id="d1cd3-336">Yes</span></span> |
| <span data-ttu-id="d1cd3-337">linkedServiceName</span><span class="sxs-lookup"><span data-stu-id="d1cd3-337">linkedServiceName</span></span> | <span data-ttu-id="d1cd3-338">Name of the Azure Storage linked service that refers to the Azure blob storage used by the HDInsight cluster.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-338">Name of the Azure Storage linked service that refers to the Azure blob storage used by the HDInsight cluster.</span></span> <p><span data-ttu-id="d1cd3-339">Currently, you cannot specify an Azure Data Lake Store linked service for this property.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-339">Currently, you cannot specify an Azure Data Lake Store linked service for this property.</span></span> <span data-ttu-id="d1cd3-340">You may access data in the Azure Data Lake Store from Hive/Pig scripts if the HDInsight cluster has access to the Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-340">You may access data in the Azure Data Lake Store from Hive/Pig scripts if the HDInsight cluster has access to the Data Lake Store.</span></span> </p>  |<span data-ttu-id="d1cd3-341">Yes</span><span class="sxs-lookup"><span data-stu-id="d1cd3-341">Yes</span></span> |

## <a name="azure-batch-linked-service"></a><span data-ttu-id="d1cd3-342">Azure Batch Linked Service</span><span class="sxs-lookup"><span data-stu-id="d1cd3-342">Azure Batch Linked Service</span></span>
<span data-ttu-id="d1cd3-343">You can create an Azure Batch linked service to register a Batch pool of virtual machines (VMs) to a data factory.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-343">You can create an Azure Batch linked service to register a Batch pool of virtual machines (VMs) to a data factory.</span></span> <span data-ttu-id="d1cd3-344">You can run .NET custom activities using either Azure Batch or Azure HDInsight.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-344">You can run .NET custom activities using either Azure Batch or Azure HDInsight.</span></span>

<span data-ttu-id="d1cd3-345">See following topics if you are new to Azure Batch service:</span><span class="sxs-lookup"><span data-stu-id="d1cd3-345">See following topics if you are new to Azure Batch service:</span></span>

* <span data-ttu-id="d1cd3-346">[Azure Batch basics](../batch/batch-technical-overview.md) for an overview of the Azure Batch service.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-346">[Azure Batch basics](../batch/batch-technical-overview.md) for an overview of the Azure Batch service.</span></span>
* <span data-ttu-id="d1cd3-347">[New-AzureBatchAccount](https://msdn.microsoft.com/library/mt125880.aspx) cmdlet to create an Azure Batch account (or) [Azure portal](../batch/batch-account-create-portal.md) to create the Azure Batch account using Azure portal.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-347">[New-AzureBatchAccount](https://msdn.microsoft.com/library/mt125880.aspx) cmdlet to create an Azure Batch account (or) [Azure portal](../batch/batch-account-create-portal.md) to create the Azure Batch account using Azure portal.</span></span> <span data-ttu-id="d1cd3-348">See [Using PowerShell to manage Azure Batch Account](http://blogs.technet.com/b/windowshpc/archive/2014/10/28/using-azure-powershell-to-manage-azure-batch-account.aspx) topic for detailed instructions on using the cmdlet.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-348">See [Using PowerShell to manage Azure Batch Account](http://blogs.technet.com/b/windowshpc/archive/2014/10/28/using-azure-powershell-to-manage-azure-batch-account.aspx) topic for detailed instructions on using the cmdlet.</span></span>
* <span data-ttu-id="d1cd3-349">[New-AzureBatchPool](https://msdn.microsoft.com/library/mt125936.aspx) cmdlet to create an Azure Batch pool.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-349">[New-AzureBatchPool](https://msdn.microsoft.com/library/mt125936.aspx) cmdlet to create an Azure Batch pool.</span></span>

### <a name="example"></a><span data-ttu-id="d1cd3-350">Example</span><span class="sxs-lookup"><span data-stu-id="d1cd3-350">Example</span></span>

```json
{
  "name": "AzureBatchLinkedService",
  "properties": {
    "type": "AzureBatch",
    "typeProperties": {
      "accountName": "<Azure Batch account name>",
      "accessKey": "<Azure Batch account key>",
      "poolName": "<Azure Batch pool name>",
      "linkedServiceName": "<Specify associated storage linked service reference here>"
    }
  }
}
```

<span data-ttu-id="d1cd3-351">Append "**.\<region name\>**" to the name of your batch account for the **accountName** property.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-351">Append "**.\<region name\>**" to the name of your batch account for the **accountName** property.</span></span> <span data-ttu-id="d1cd3-352">Example:</span><span class="sxs-lookup"><span data-stu-id="d1cd3-352">Example:</span></span>

```json
"accountName": "mybatchaccount.eastus"
```

<span data-ttu-id="d1cd3-353">Another option is to provide the batchUri endpoint as shown below.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-353">Another option is to provide the batchUri endpoint as shown below.</span></span>  

```json
"accountName": "adfteam",
"batchUri": "https://eastus.batch.azure.com",
```

### <a name="properties"></a><span data-ttu-id="d1cd3-354">Properties</span><span class="sxs-lookup"><span data-stu-id="d1cd3-354">Properties</span></span>
| <span data-ttu-id="d1cd3-355">Property</span><span class="sxs-lookup"><span data-stu-id="d1cd3-355">Property</span></span> | <span data-ttu-id="d1cd3-356">Description</span><span class="sxs-lookup"><span data-stu-id="d1cd3-356">Description</span></span> | <span data-ttu-id="d1cd3-357">Required</span><span class="sxs-lookup"><span data-stu-id="d1cd3-357">Required</span></span> |
| --- | --- | --- |
| <span data-ttu-id="d1cd3-358">type</span><span class="sxs-lookup"><span data-stu-id="d1cd3-358">type</span></span> |<span data-ttu-id="d1cd3-359">The type property should be set to **AzureBatch**.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-359">The type property should be set to **AzureBatch**.</span></span> |<span data-ttu-id="d1cd3-360">Yes</span><span class="sxs-lookup"><span data-stu-id="d1cd3-360">Yes</span></span> |
| <span data-ttu-id="d1cd3-361">accountName</span><span class="sxs-lookup"><span data-stu-id="d1cd3-361">accountName</span></span> |<span data-ttu-id="d1cd3-362">Name of the Azure Batch account.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-362">Name of the Azure Batch account.</span></span> |<span data-ttu-id="d1cd3-363">Yes</span><span class="sxs-lookup"><span data-stu-id="d1cd3-363">Yes</span></span> |
| <span data-ttu-id="d1cd3-364">accessKey</span><span class="sxs-lookup"><span data-stu-id="d1cd3-364">accessKey</span></span> |<span data-ttu-id="d1cd3-365">Access key for the Azure Batch account.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-365">Access key for the Azure Batch account.</span></span> |<span data-ttu-id="d1cd3-366">Yes</span><span class="sxs-lookup"><span data-stu-id="d1cd3-366">Yes</span></span> |
| <span data-ttu-id="d1cd3-367">poolName</span><span class="sxs-lookup"><span data-stu-id="d1cd3-367">poolName</span></span> |<span data-ttu-id="d1cd3-368">Name of the pool of virtual machines.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-368">Name of the pool of virtual machines.</span></span> |<span data-ttu-id="d1cd3-369">Yes</span><span class="sxs-lookup"><span data-stu-id="d1cd3-369">Yes</span></span> |
| <span data-ttu-id="d1cd3-370">linkedServiceName</span><span class="sxs-lookup"><span data-stu-id="d1cd3-370">linkedServiceName</span></span> |<span data-ttu-id="d1cd3-371">Name of the Azure Storage linked service associated with this Azure Batch linked service.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-371">Name of the Azure Storage linked service associated with this Azure Batch linked service.</span></span> <span data-ttu-id="d1cd3-372">This linked service is used for staging files required to run the activity and storing the activity execution logs.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-372">This linked service is used for staging files required to run the activity and storing the activity execution logs.</span></span> |<span data-ttu-id="d1cd3-373">Yes</span><span class="sxs-lookup"><span data-stu-id="d1cd3-373">Yes</span></span> |

## <a name="azure-machine-learning-linked-service"></a><span data-ttu-id="d1cd3-374">Azure Machine Learning Linked Service</span><span class="sxs-lookup"><span data-stu-id="d1cd3-374">Azure Machine Learning Linked Service</span></span>
<span data-ttu-id="d1cd3-375">You create an Azure Machine Learning linked service to register a Machine Learning batch scoring endpoint to a data factory.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-375">You create an Azure Machine Learning linked service to register a Machine Learning batch scoring endpoint to a data factory.</span></span>

### <a name="example"></a><span data-ttu-id="d1cd3-376">Example</span><span class="sxs-lookup"><span data-stu-id="d1cd3-376">Example</span></span>

```json
{
  "name": "AzureMLLinkedService",
  "properties": {
    "type": "AzureML",
    "typeProperties": {
      "mlEndpoint": "https://[batch scoring endpoint]/jobs",
      "apiKey": "<apikey>"
    }
  }
}
```

### <a name="properties"></a><span data-ttu-id="d1cd3-377">Properties</span><span class="sxs-lookup"><span data-stu-id="d1cd3-377">Properties</span></span>
| <span data-ttu-id="d1cd3-378">Property</span><span class="sxs-lookup"><span data-stu-id="d1cd3-378">Property</span></span> | <span data-ttu-id="d1cd3-379">Description</span><span class="sxs-lookup"><span data-stu-id="d1cd3-379">Description</span></span> | <span data-ttu-id="d1cd3-380">Required</span><span class="sxs-lookup"><span data-stu-id="d1cd3-380">Required</span></span> |
| --- | --- | --- |
| <span data-ttu-id="d1cd3-381">Type</span><span class="sxs-lookup"><span data-stu-id="d1cd3-381">Type</span></span> |<span data-ttu-id="d1cd3-382">The type property should be set to: **AzureML**.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-382">The type property should be set to: **AzureML**.</span></span> |<span data-ttu-id="d1cd3-383">Yes</span><span class="sxs-lookup"><span data-stu-id="d1cd3-383">Yes</span></span> |
| <span data-ttu-id="d1cd3-384">mlEndpoint</span><span class="sxs-lookup"><span data-stu-id="d1cd3-384">mlEndpoint</span></span> |<span data-ttu-id="d1cd3-385">The batch scoring URL.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-385">The batch scoring URL.</span></span> |<span data-ttu-id="d1cd3-386">Yes</span><span class="sxs-lookup"><span data-stu-id="d1cd3-386">Yes</span></span> |
| <span data-ttu-id="d1cd3-387">apiKey</span><span class="sxs-lookup"><span data-stu-id="d1cd3-387">apiKey</span></span> |<span data-ttu-id="d1cd3-388">The published workspace modelâ€™s API.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-388">The published workspace modelâ€™s API.</span></span> |<span data-ttu-id="d1cd3-389">Yes</span><span class="sxs-lookup"><span data-stu-id="d1cd3-389">Yes</span></span> |

## <a name="azure-data-lake-analytics-linked-service"></a><span data-ttu-id="d1cd3-390">Azure Data Lake Analytics Linked Service</span><span class="sxs-lookup"><span data-stu-id="d1cd3-390">Azure Data Lake Analytics Linked Service</span></span>
<span data-ttu-id="d1cd3-391">You create an **Azure Data Lake Analytics** linked service to link an Azure Data Lake Analytics compute service to an Azure data factory before using the [Data Lake Analytics U-SQL activity](data-factory-usql-activity.md) in a pipeline.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-391">You create an **Azure Data Lake Analytics** linked service to link an Azure Data Lake Analytics compute service to an Azure data factory before using the [Data Lake Analytics U-SQL activity](data-factory-usql-activity.md) in a pipeline.</span></span>

<span data-ttu-id="d1cd3-392">The following example provides JSON definition for an Azure Data Lake Analytics linked service.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-392">The following example provides JSON definition for an Azure Data Lake Analytics linked service.</span></span>

```json
{
    "name": "AzureDataLakeAnalyticsLinkedService",
    "properties": {
        "type": "AzureDataLakeAnalytics",
        "typeProperties": {
            "accountName": "adftestaccount",
            "dataLakeAnalyticsUri": "datalakeanalyticscompute.net",
            "authorization": "<authcode>",
            "sessionId": "<session ID>",
            "subscriptionId": "<subscription id>",
            "resourceGroupName": "<resource group name>"
        }
    }
}
```

<span data-ttu-id="d1cd3-393">The following table provides descriptions for the properties used in the JSON definition.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-393">The following table provides descriptions for the properties used in the JSON definition.</span></span>

| <span data-ttu-id="d1cd3-394">Property</span><span class="sxs-lookup"><span data-stu-id="d1cd3-394">Property</span></span> | <span data-ttu-id="d1cd3-395">Description</span><span class="sxs-lookup"><span data-stu-id="d1cd3-395">Description</span></span> | <span data-ttu-id="d1cd3-396">Required</span><span class="sxs-lookup"><span data-stu-id="d1cd3-396">Required</span></span> |
| --- | --- | --- |
| <span data-ttu-id="d1cd3-397">Type</span><span class="sxs-lookup"><span data-stu-id="d1cd3-397">Type</span></span> |<span data-ttu-id="d1cd3-398">The type property should be set to: **AzureDataLakeAnalytics**.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-398">The type property should be set to: **AzureDataLakeAnalytics**.</span></span> |<span data-ttu-id="d1cd3-399">Yes</span><span class="sxs-lookup"><span data-stu-id="d1cd3-399">Yes</span></span> |
| <span data-ttu-id="d1cd3-400">accountName</span><span class="sxs-lookup"><span data-stu-id="d1cd3-400">accountName</span></span> |<span data-ttu-id="d1cd3-401">Azure Data Lake Analytics Account Name.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-401">Azure Data Lake Analytics Account Name.</span></span> |<span data-ttu-id="d1cd3-402">Yes</span><span class="sxs-lookup"><span data-stu-id="d1cd3-402">Yes</span></span> |
| <span data-ttu-id="d1cd3-403">dataLakeAnalyticsUri</span><span class="sxs-lookup"><span data-stu-id="d1cd3-403">dataLakeAnalyticsUri</span></span> |<span data-ttu-id="d1cd3-404">Azure Data Lake Analytics URI.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-404">Azure Data Lake Analytics URI.</span></span> |<span data-ttu-id="d1cd3-405">No</span><span class="sxs-lookup"><span data-stu-id="d1cd3-405">No</span></span> |
| <span data-ttu-id="d1cd3-406">authorization</span><span class="sxs-lookup"><span data-stu-id="d1cd3-406">authorization</span></span> |<span data-ttu-id="d1cd3-407">Authorization code is automatically retrieved after clicking **Authorize** button in the Data Factory Editor and completing the OAuth login.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-407">Authorization code is automatically retrieved after clicking **Authorize** button in the Data Factory Editor and completing the OAuth login.</span></span> |<span data-ttu-id="d1cd3-408">Yes</span><span class="sxs-lookup"><span data-stu-id="d1cd3-408">Yes</span></span> |
| <span data-ttu-id="d1cd3-409">subscriptionId</span><span class="sxs-lookup"><span data-stu-id="d1cd3-409">subscriptionId</span></span> |<span data-ttu-id="d1cd3-410">Azure subscription id</span><span class="sxs-lookup"><span data-stu-id="d1cd3-410">Azure subscription id</span></span> |<span data-ttu-id="d1cd3-411">No (If not specified, subscription of the data factory is used).</span><span class="sxs-lookup"><span data-stu-id="d1cd3-411">No (If not specified, subscription of the data factory is used).</span></span> |
| <span data-ttu-id="d1cd3-412">resourceGroupName</span><span class="sxs-lookup"><span data-stu-id="d1cd3-412">resourceGroupName</span></span> |<span data-ttu-id="d1cd3-413">Azure resource group name</span><span class="sxs-lookup"><span data-stu-id="d1cd3-413">Azure resource group name</span></span> |<span data-ttu-id="d1cd3-414">No (If not specified, resource group of the data factory is used).</span><span class="sxs-lookup"><span data-stu-id="d1cd3-414">No (If not specified, resource group of the data factory is used).</span></span> |
| <span data-ttu-id="d1cd3-415">sessionId</span><span class="sxs-lookup"><span data-stu-id="d1cd3-415">sessionId</span></span> |<span data-ttu-id="d1cd3-416">session id from the OAuth authorization session.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-416">session id from the OAuth authorization session.</span></span> <span data-ttu-id="d1cd3-417">Each session id is unique and may only be used once.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-417">Each session id is unique and may only be used once.</span></span> <span data-ttu-id="d1cd3-418">This is auto-generated in the Data Factory Editor.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-418">This is auto-generated in the Data Factory Editor.</span></span> |<span data-ttu-id="d1cd3-419">Yes</span><span class="sxs-lookup"><span data-stu-id="d1cd3-419">Yes</span></span> |

<span data-ttu-id="d1cd3-420">The authorization code you generated by using the **Authorize** button expires after sometime.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-420">The authorization code you generated by using the **Authorize** button expires after sometime.</span></span> <span data-ttu-id="d1cd3-421">See the following table for the expiration times for different types of user accounts.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-421">See the following table for the expiration times for different types of user accounts.</span></span> <span data-ttu-id="d1cd3-422">You may see the following error message when the authentication **token expires**: Credential operation error: invalid_grant - AADSTS70002: Error validating credentials.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-422">You may see the following error message when the authentication **token expires**: Credential operation error: invalid_grant - AADSTS70002: Error validating credentials.</span></span> <span data-ttu-id="d1cd3-423">AADSTS70008: The provided access grant is expired or revoked.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-423">AADSTS70008: The provided access grant is expired or revoked.</span></span> <span data-ttu-id="d1cd3-424">Trace ID: d18629e8-af88-43c5-88e3-d8419eb1fca1 Correlation ID: fac30a0c-6be6-4e02-8d69-a776d2ffefd7 Timestamp: 2015-12-15 21:09:31Z</span><span class="sxs-lookup"><span data-stu-id="d1cd3-424">Trace ID: d18629e8-af88-43c5-88e3-d8419eb1fca1 Correlation ID: fac30a0c-6be6-4e02-8d69-a776d2ffefd7 Timestamp: 2015-12-15 21:09:31Z</span></span>

| <span data-ttu-id="d1cd3-425">User type</span><span class="sxs-lookup"><span data-stu-id="d1cd3-425">User type</span></span> | <span data-ttu-id="d1cd3-426">Expires after</span><span class="sxs-lookup"><span data-stu-id="d1cd3-426">Expires after</span></span> |
|:--- |:--- |
| <span data-ttu-id="d1cd3-427">User accounts NOT managed by Azure Active Directory (@hotmail.com, @live.com, @outlook.com, for example)</span><span class="sxs-lookup"><span data-stu-id="d1cd3-427">User accounts NOT managed by Azure Active Directory (@hotmail.com, @live.com, @outlook.com, for example)</span></span> |<span data-ttu-id="d1cd3-428">12 hours</span><span class="sxs-lookup"><span data-stu-id="d1cd3-428">12 hours</span></span> |
| <span data-ttu-id="d1cd3-429">Users accounts managed by Azure Active Directory (AAD)</span><span class="sxs-lookup"><span data-stu-id="d1cd3-429">Users accounts managed by Azure Active Directory (AAD)</span></span> |<span data-ttu-id="d1cd3-430">14 days after the last slice run.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-430">14 days after the last slice run.</span></span> <br/><br/><span data-ttu-id="d1cd3-431">90 days, if a slice based on OAuth-based linked service runs at least once every 14 days.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-431">90 days, if a slice based on OAuth-based linked service runs at least once every 14 days.</span></span> |

<span data-ttu-id="d1cd3-432">To avoid/resolve this error, you need to reauthorize using the **Authorize** button when the **token expires** and redeploy the linked service.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-432">To avoid/resolve this error, you need to reauthorize using the **Authorize** button when the **token expires** and redeploy the linked service.</span></span> <span data-ttu-id="d1cd3-433">You can also generate values for sessionId and authorization properties programmatically using code in the following section.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-433">You can also generate values for sessionId and authorization properties programmatically using code in the following section.</span></span> 

### <a name="to-programmatically-generate-sessionid-and-authorization-values"></a><span data-ttu-id="d1cd3-434">To programmatically generate sessionId and authorization values</span><span class="sxs-lookup"><span data-stu-id="d1cd3-434">To programmatically generate sessionId and authorization values</span></span>
<span data-ttu-id="d1cd3-435">The following code generates **sessionId** and **authorization** values.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-435">The following code generates **sessionId** and **authorization** values.</span></span>  

```CSharp

if (linkedService.Properties.TypeProperties is AzureDataLakeStoreLinkedService ||
    linkedService.Properties.TypeProperties is AzureDataLakeAnalyticsLinkedService)
{
    AuthorizationSessionGetResponse authorizationSession = this.Client.OAuth.Get(this.ResourceGroupName, this.DataFactoryName, linkedService.Properties.Type);

    WindowsFormsWebAuthenticationDialog authenticationDialog = new WindowsFormsWebAuthenticationDialog(null);
    string authorization = authenticationDialog.AuthenticateAAD(authorizationSession.AuthorizationSession.Endpoint, new Uri("urn:ietf:wg:oauth:2.0:oob"));

    AzureDataLakeStoreLinkedService azureDataLakeStoreProperties = linkedService.Properties.TypeProperties as AzureDataLakeStoreLinkedService;
    if (azureDataLakeStoreProperties != null)
    {
        azureDataLakeStoreProperties.SessionId = authorizationSession.AuthorizationSession.SessionId;
        azureDataLakeStoreProperties.Authorization = authorization;
    }

    AzureDataLakeAnalyticsLinkedService azureDataLakeAnalyticsProperties = linkedService.Properties.TypeProperties as AzureDataLakeAnalyticsLinkedService;
    if (azureDataLakeAnalyticsProperties != null)
    {
        azureDataLakeAnalyticsProperties.SessionId = authorizationSession.AuthorizationSession.SessionId;
        azureDataLakeAnalyticsProperties.Authorization = authorization;
    }
}
```

<span data-ttu-id="d1cd3-436">See [AzureDataLakeStoreLinkedService Class](https://msdn.microsoft.com/library/microsoft.azure.management.datafactories.models.azuredatalakestorelinkedservice.aspx), [AzureDataLakeAnalyticsLinkedService Class](https://msdn.microsoft.com/library/microsoft.azure.management.datafactories.models.azuredatalakeanalyticslinkedservice.aspx), and [AuthorizationSessionGetResponse Class](https://msdn.microsoft.com/library/microsoft.azure.management.datafactories.models.authorizationsessiongetresponse.aspx) topics for details about the Data Factory classes used in the code.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-436">See [AzureDataLakeStoreLinkedService Class](https://msdn.microsoft.com/library/microsoft.azure.management.datafactories.models.azuredatalakestorelinkedservice.aspx), [AzureDataLakeAnalyticsLinkedService Class](https://msdn.microsoft.com/library/microsoft.azure.management.datafactories.models.azuredatalakeanalyticslinkedservice.aspx), and [AuthorizationSessionGetResponse Class](https://msdn.microsoft.com/library/microsoft.azure.management.datafactories.models.authorizationsessiongetresponse.aspx) topics for details about the Data Factory classes used in the code.</span></span> <span data-ttu-id="d1cd3-437">You need to add a reference to: Microsoft.IdentityModel.Clients.ActiveDirectory.WindowsForms.dll for the WindowsFormsWebAuthenticationDialog class.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-437">You need to add a reference to: Microsoft.IdentityModel.Clients.ActiveDirectory.WindowsForms.dll for the WindowsFormsWebAuthenticationDialog class.</span></span> 

## <a name="azure-sql-linked-service"></a><span data-ttu-id="d1cd3-438">Azure SQL Linked Service</span><span class="sxs-lookup"><span data-stu-id="d1cd3-438">Azure SQL Linked Service</span></span>
<span data-ttu-id="d1cd3-439">You create an Azure SQL linked service and use it with the [Stored Procedure Activity](data-factory-stored-proc-activity.md) to invoke a stored procedure from a Data Factory pipeline.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-439">You create an Azure SQL linked service and use it with the [Stored Procedure Activity](data-factory-stored-proc-activity.md) to invoke a stored procedure from a Data Factory pipeline.</span></span> <span data-ttu-id="d1cd3-440">See [Azure SQL Connector](data-factory-azure-sql-connector.md#linked-service-properties) article for details about this linked service.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-440">See [Azure SQL Connector](data-factory-azure-sql-connector.md#linked-service-properties) article for details about this linked service.</span></span>

## <a name="azure-sql-data-warehouse-linked-service"></a><span data-ttu-id="d1cd3-441">Azure SQL Data Warehouse Linked Service</span><span class="sxs-lookup"><span data-stu-id="d1cd3-441">Azure SQL Data Warehouse Linked Service</span></span>
<span data-ttu-id="d1cd3-442">You create an Azure SQL Data Warehouse linked service and use it with the [Stored Procedure Activity](data-factory-stored-proc-activity.md) to invoke a stored procedure from a Data Factory pipeline.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-442">You create an Azure SQL Data Warehouse linked service and use it with the [Stored Procedure Activity](data-factory-stored-proc-activity.md) to invoke a stored procedure from a Data Factory pipeline.</span></span> <span data-ttu-id="d1cd3-443">See [Azure SQL Data Warehouse Connector](data-factory-azure-sql-data-warehouse-connector.md#linked-service-properties) article for details about this linked service.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-443">See [Azure SQL Data Warehouse Connector](data-factory-azure-sql-data-warehouse-connector.md#linked-service-properties) article for details about this linked service.</span></span>

## <a name="sql-server-linked-service"></a><span data-ttu-id="d1cd3-444">SQL Server Linked Service</span><span class="sxs-lookup"><span data-stu-id="d1cd3-444">SQL Server Linked Service</span></span>
<span data-ttu-id="d1cd3-445">You create a SQL Server linked service and use it with the [Stored Procedure Activity](data-factory-stored-proc-activity.md) to invoke a stored procedure from a Data Factory pipeline.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-445">You create a SQL Server linked service and use it with the [Stored Procedure Activity](data-factory-stored-proc-activity.md) to invoke a stored procedure from a Data Factory pipeline.</span></span> <span data-ttu-id="d1cd3-446">See [SQL Server connector](data-factory-sqlserver-connector.md#linked-service-properties) article for details about this linked service.</span><span class="sxs-lookup"><span data-stu-id="d1cd3-446">See [SQL Server connector](data-factory-sqlserver-connector.md#linked-service-properties) article for details about this linked service.</span></span>

