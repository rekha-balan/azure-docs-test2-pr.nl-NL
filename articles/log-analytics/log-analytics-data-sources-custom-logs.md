---
title: Collect custom logs in Azure Log Analytics | Microsoft Docs
description: Log Analytics can collect events from text files on both Windows and Linux computers.  This article describes how to define a new custom log and details of the records they create in the Log Analytics workspace.
services: log-analytics
documentationcenter: ''
author: bwren
manager: carmonm
editor: tysonn
ms.assetid: aca7f6bb-6f53-4fd4-a45c-93f12ead4ae1
ms.service: log-analytics
ms.devlang: na
ms.topic: conceptual
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/27/2018
ms.author: bwren
ms.component: na
ms.openlocfilehash: 831b52a27a1ccfc349b9b54f8c3d874e41ddc322
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44782683"
---
# <a name="custom-logs-in-log-analytics"></a><span data-ttu-id="fc438-104">Custom logs in Log Analytics</span><span class="sxs-lookup"><span data-stu-id="fc438-104">Custom logs in Log Analytics</span></span>
<span data-ttu-id="fc438-105">The Custom Logs data source in Log Analytics allows you to collect events from text files on both Windows and Linux computers.</span><span class="sxs-lookup"><span data-stu-id="fc438-105">The Custom Logs data source in Log Analytics allows you to collect events from text files on both Windows and Linux computers.</span></span> <span data-ttu-id="fc438-106">Many applications log information to text files instead of standard logging services such as Windows Event log or Syslog.</span><span class="sxs-lookup"><span data-stu-id="fc438-106">Many applications log information to text files instead of standard logging services such as Windows Event log or Syslog.</span></span>  <span data-ttu-id="fc438-107">Once collected, you can parse each record in the login to individual fields using the [Custom Fields](log-analytics-custom-fields.md) feature of Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="fc438-107">Once collected, you can parse each record in the login to individual fields using the [Custom Fields](log-analytics-custom-fields.md) feature of Log Analytics.</span></span>

![Custom log collection](media/log-analytics-data-sources-custom-logs/overview.png)

<span data-ttu-id="fc438-109">The log files to be collected must match the following criteria.</span><span class="sxs-lookup"><span data-stu-id="fc438-109">The log files to be collected must match the following criteria.</span></span>

- <span data-ttu-id="fc438-110">The log must either have a single entry per line or use a timestamp matching one of the following formats at the start of each entry.</span><span class="sxs-lookup"><span data-stu-id="fc438-110">The log must either have a single entry per line or use a timestamp matching one of the following formats at the start of each entry.</span></span>

    <span data-ttu-id="fc438-111">YYYY-MM-DD HH:MM:SS</span><span class="sxs-lookup"><span data-stu-id="fc438-111">YYYY-MM-DD HH:MM:SS</span></span><br><span data-ttu-id="fc438-112">M/D/YYYY HH:MM:SS AM/PM</span><span class="sxs-lookup"><span data-stu-id="fc438-112">M/D/YYYY HH:MM:SS AM/PM</span></span><br><span data-ttu-id="fc438-113">Mon DD, YYYY HH:MM:SS</span><span class="sxs-lookup"><span data-stu-id="fc438-113">Mon DD, YYYY HH:MM:SS</span></span><br /><span data-ttu-id="fc438-114">yyMMdd HH:mm:ss</span><span class="sxs-lookup"><span data-stu-id="fc438-114">yyMMdd HH:mm:ss</span></span><br /><span data-ttu-id="fc438-115">ddMMyy HH:mm:ss</span><span class="sxs-lookup"><span data-stu-id="fc438-115">ddMMyy HH:mm:ss</span></span><br /><span data-ttu-id="fc438-116">MMM d hh:mm:ss</span><span class="sxs-lookup"><span data-stu-id="fc438-116">MMM d hh:mm:ss</span></span><br /><span data-ttu-id="fc438-117">dd/MMM/yyyy:HH:mm:ss zzz</span><span class="sxs-lookup"><span data-stu-id="fc438-117">dd/MMM/yyyy:HH:mm:ss zzz</span></span><br /><span data-ttu-id="fc438-118">yyyy-MM-ddTHH:mm:ssK</span><span class="sxs-lookup"><span data-stu-id="fc438-118">yyyy-MM-ddTHH:mm:ssK</span></span>

- <span data-ttu-id="fc438-119">The log file must not allow circular logging or log rotation, where the file is overwritten with new entries.</span><span class="sxs-lookup"><span data-stu-id="fc438-119">The log file must not allow circular logging or log rotation, where the file is overwritten with new entries.</span></span>
- <span data-ttu-id="fc438-120">The log file must use ASCII or UTF-8 encoding.</span><span class="sxs-lookup"><span data-stu-id="fc438-120">The log file must use ASCII or UTF-8 encoding.</span></span>  <span data-ttu-id="fc438-121">Other formats such as UTF-16 are not supported.</span><span class="sxs-lookup"><span data-stu-id="fc438-121">Other formats such as UTF-16 are not supported.</span></span>

>[!NOTE]
><span data-ttu-id="fc438-122">If there are duplicate entries in the log file, Log Analytics will collect them.</span><span class="sxs-lookup"><span data-stu-id="fc438-122">If there are duplicate entries in the log file, Log Analytics will collect them.</span></span>  <span data-ttu-id="fc438-123">However, the search results will be inconsistent where the filter results show more events than the result count.</span><span class="sxs-lookup"><span data-stu-id="fc438-123">However, the search results will be inconsistent where the filter results show more events than the result count.</span></span>  <span data-ttu-id="fc438-124">It will be important that you validate the log to determine if the application that creates it is causing this behavior and address it if possible before creating the custom log collection definition.</span><span class="sxs-lookup"><span data-stu-id="fc438-124">It will be important that you validate the log to determine if the application that creates it is causing this behavior and address it if possible before creating the custom log collection definition.</span></span>  
>
  
## <a name="defining-a-custom-log"></a><span data-ttu-id="fc438-125">Defining a custom log</span><span class="sxs-lookup"><span data-stu-id="fc438-125">Defining a custom log</span></span>
<span data-ttu-id="fc438-126">Use the following procedure to define a custom log file.</span><span class="sxs-lookup"><span data-stu-id="fc438-126">Use the following procedure to define a custom log file.</span></span>  <span data-ttu-id="fc438-127">Scroll to the end of this article for a walkthrough of a sample of adding a custom log.</span><span class="sxs-lookup"><span data-stu-id="fc438-127">Scroll to the end of this article for a walkthrough of a sample of adding a custom log.</span></span>

### <a name="step-1-open-the-custom-log-wizard"></a><span data-ttu-id="fc438-128">Step 1.</span><span class="sxs-lookup"><span data-stu-id="fc438-128">Step 1.</span></span> <span data-ttu-id="fc438-129">Open the Custom Log Wizard</span><span class="sxs-lookup"><span data-stu-id="fc438-129">Open the Custom Log Wizard</span></span>
<span data-ttu-id="fc438-130">The Custom Log Wizard runs in the Azure portal and allows you to define a new custom log to collect.</span><span class="sxs-lookup"><span data-stu-id="fc438-130">The Custom Log Wizard runs in the Azure portal and allows you to define a new custom log to collect.</span></span>

1. <span data-ttu-id="fc438-131">In the Azure portal, select **Log Analytics** > your workspace > **Advanced Settings**.</span><span class="sxs-lookup"><span data-stu-id="fc438-131">In the Azure portal, select **Log Analytics** > your workspace > **Advanced Settings**.</span></span>
2. <span data-ttu-id="fc438-132">Click on **Data** > **Custom logs**.</span><span class="sxs-lookup"><span data-stu-id="fc438-132">Click on **Data** > **Custom logs**.</span></span>
3. <span data-ttu-id="fc438-133">By default, all configuration changes are automatically pushed to all agents.</span><span class="sxs-lookup"><span data-stu-id="fc438-133">By default, all configuration changes are automatically pushed to all agents.</span></span>  <span data-ttu-id="fc438-134">For Linux agents, a configuration file is sent to the Fluentd data collector.</span><span class="sxs-lookup"><span data-stu-id="fc438-134">For Linux agents, a configuration file is sent to the Fluentd data collector.</span></span>  <span data-ttu-id="fc438-135">If you wish to modify this file manually on each Linux agent, then uncheck the box *Apply below configuration to my Linux machines*.</span><span class="sxs-lookup"><span data-stu-id="fc438-135">If you wish to modify this file manually on each Linux agent, then uncheck the box *Apply below configuration to my Linux machines*.</span></span>
4. <span data-ttu-id="fc438-136">Click **Add+** to open the Custom Log Wizard.</span><span class="sxs-lookup"><span data-stu-id="fc438-136">Click **Add+** to open the Custom Log Wizard.</span></span>

### <a name="step-2-upload-and-parse-a-sample-log"></a><span data-ttu-id="fc438-137">Step 2.</span><span class="sxs-lookup"><span data-stu-id="fc438-137">Step 2.</span></span> <span data-ttu-id="fc438-138">Upload and parse a sample log</span><span class="sxs-lookup"><span data-stu-id="fc438-138">Upload and parse a sample log</span></span>
<span data-ttu-id="fc438-139">You start by uploading a sample of the custom log.</span><span class="sxs-lookup"><span data-stu-id="fc438-139">You start by uploading a sample of the custom log.</span></span>  <span data-ttu-id="fc438-140">The wizard will parse and display the entries in this file for you to validate.</span><span class="sxs-lookup"><span data-stu-id="fc438-140">The wizard will parse and display the entries in this file for you to validate.</span></span>  <span data-ttu-id="fc438-141">Log Analytics will use the delimiter that you specify to identify each record.</span><span class="sxs-lookup"><span data-stu-id="fc438-141">Log Analytics will use the delimiter that you specify to identify each record.</span></span>

<span data-ttu-id="fc438-142">**New Line** is the default delimiter and is used for log files that have a single entry per line.</span><span class="sxs-lookup"><span data-stu-id="fc438-142">**New Line** is the default delimiter and is used for log files that have a single entry per line.</span></span>  <span data-ttu-id="fc438-143">If the line starts with a date and time in one of the available formats, then you can specify a **Timestamp** delimiter which supports entries that span more than one line.</span><span class="sxs-lookup"><span data-stu-id="fc438-143">If the line starts with a date and time in one of the available formats, then you can specify a **Timestamp** delimiter which supports entries that span more than one line.</span></span>

<span data-ttu-id="fc438-144">If a timestamp delimiter is used, then the TimeGenerated property of each record stored in Log Analytics will be populated with the date/time specified for that entry in the log file.</span><span class="sxs-lookup"><span data-stu-id="fc438-144">If a timestamp delimiter is used, then the TimeGenerated property of each record stored in Log Analytics will be populated with the date/time specified for that entry in the log file.</span></span>  <span data-ttu-id="fc438-145">If a new line delimiter is used, then TimeGenerated is populated with date and time that Log Analytics collected the entry.</span><span class="sxs-lookup"><span data-stu-id="fc438-145">If a new line delimiter is used, then TimeGenerated is populated with date and time that Log Analytics collected the entry.</span></span>


1. <span data-ttu-id="fc438-146">Click **Browse** and browse to a sample file.</span><span class="sxs-lookup"><span data-stu-id="fc438-146">Click **Browse** and browse to a sample file.</span></span>  <span data-ttu-id="fc438-147">Note that this may button may be labeled **Choose File** in some browsers.</span><span class="sxs-lookup"><span data-stu-id="fc438-147">Note that this may button may be labeled **Choose File** in some browsers.</span></span>
2. <span data-ttu-id="fc438-148">Click **Next**.</span><span class="sxs-lookup"><span data-stu-id="fc438-148">Click **Next**.</span></span>
3. <span data-ttu-id="fc438-149">The Custom Log Wizard will upload the file and list the records that it identifies.</span><span class="sxs-lookup"><span data-stu-id="fc438-149">The Custom Log Wizard will upload the file and list the records that it identifies.</span></span>
4. <span data-ttu-id="fc438-150">Change the delimiter that is used to identify a new record and select the delimiter that best identifies the records in your log file.</span><span class="sxs-lookup"><span data-stu-id="fc438-150">Change the delimiter that is used to identify a new record and select the delimiter that best identifies the records in your log file.</span></span>
5. <span data-ttu-id="fc438-151">Click **Next**.</span><span class="sxs-lookup"><span data-stu-id="fc438-151">Click **Next**.</span></span>

### <a name="step-3-add-log-collection-paths"></a><span data-ttu-id="fc438-152">Step 3.</span><span class="sxs-lookup"><span data-stu-id="fc438-152">Step 3.</span></span> <span data-ttu-id="fc438-153">Add log collection paths</span><span class="sxs-lookup"><span data-stu-id="fc438-153">Add log collection paths</span></span>
<span data-ttu-id="fc438-154">You must define one or more paths on the agent where it can locate the custom log.</span><span class="sxs-lookup"><span data-stu-id="fc438-154">You must define one or more paths on the agent where it can locate the custom log.</span></span>  <span data-ttu-id="fc438-155">You can either provide a specific path and name for the log file, or you can specify a path with a wildcard for the name.</span><span class="sxs-lookup"><span data-stu-id="fc438-155">You can either provide a specific path and name for the log file, or you can specify a path with a wildcard for the name.</span></span>  <span data-ttu-id="fc438-156">This supports applications that create a new file each day or when one file reaches a certain size.</span><span class="sxs-lookup"><span data-stu-id="fc438-156">This supports applications that create a new file each day or when one file reaches a certain size.</span></span>  <span data-ttu-id="fc438-157">You can also provide multiple paths for a single log file.</span><span class="sxs-lookup"><span data-stu-id="fc438-157">You can also provide multiple paths for a single log file.</span></span>

<span data-ttu-id="fc438-158">For example, an application might create a log file each day with the date included in the name as in log20100316.txt.</span><span class="sxs-lookup"><span data-stu-id="fc438-158">For example, an application might create a log file each day with the date included in the name as in log20100316.txt.</span></span> <span data-ttu-id="fc438-159">A pattern for such a log might be *log\*.txt* which would apply to any log file following the application’s naming scheme.</span><span class="sxs-lookup"><span data-stu-id="fc438-159">A pattern for such a log might be *log\*.txt* which would apply to any log file following the application’s naming scheme.</span></span>

<span data-ttu-id="fc438-160">The following table provides examples of valid patterns to specify different log files.</span><span class="sxs-lookup"><span data-stu-id="fc438-160">The following table provides examples of valid patterns to specify different log files.</span></span>

| <span data-ttu-id="fc438-161">Description</span><span class="sxs-lookup"><span data-stu-id="fc438-161">Description</span></span> | <span data-ttu-id="fc438-162">Path</span><span class="sxs-lookup"><span data-stu-id="fc438-162">Path</span></span> |
|:--- |:--- |
| <span data-ttu-id="fc438-163">All files in *C:\Logs* with .txt extension on Windows agent</span><span class="sxs-lookup"><span data-stu-id="fc438-163">All files in *C:\Logs* with .txt extension on Windows agent</span></span> |<span data-ttu-id="fc438-164">C:\Logs\\\*.txt</span><span class="sxs-lookup"><span data-stu-id="fc438-164">C:\Logs\\\*.txt</span></span> |
| <span data-ttu-id="fc438-165">All files in *C:\Logs* with a name starting with log and a .txt extension on Windows agent</span><span class="sxs-lookup"><span data-stu-id="fc438-165">All files in *C:\Logs* with a name starting with log and a .txt extension on Windows agent</span></span> |<span data-ttu-id="fc438-166">C:\Logs\log\*.txt</span><span class="sxs-lookup"><span data-stu-id="fc438-166">C:\Logs\log\*.txt</span></span> |
| <span data-ttu-id="fc438-167">All files in */var/log/audit* with .txt extension on Linux agent</span><span class="sxs-lookup"><span data-stu-id="fc438-167">All files in */var/log/audit* with .txt extension on Linux agent</span></span> |<span data-ttu-id="fc438-168">/var/log/audit/\*.txt</span><span class="sxs-lookup"><span data-stu-id="fc438-168">/var/log/audit/\*.txt</span></span> |
| <span data-ttu-id="fc438-169">All files in */var/log/audit* with a name starting with log and a .txt extension on Linux agent</span><span class="sxs-lookup"><span data-stu-id="fc438-169">All files in */var/log/audit* with a name starting with log and a .txt extension on Linux agent</span></span> |<span data-ttu-id="fc438-170">/var/log/audit/log\*.txt</span><span class="sxs-lookup"><span data-stu-id="fc438-170">/var/log/audit/log\*.txt</span></span> |

1. <span data-ttu-id="fc438-171">Select Windows or Linux to specify which path format you are adding.</span><span class="sxs-lookup"><span data-stu-id="fc438-171">Select Windows or Linux to specify which path format you are adding.</span></span>
2. <span data-ttu-id="fc438-172">Type in the path and click the **+** button.</span><span class="sxs-lookup"><span data-stu-id="fc438-172">Type in the path and click the **+** button.</span></span>
3. <span data-ttu-id="fc438-173">Repeat the process for any additional paths.</span><span class="sxs-lookup"><span data-stu-id="fc438-173">Repeat the process for any additional paths.</span></span>

### <a name="step-4-provide-a-name-and-description-for-the-log"></a><span data-ttu-id="fc438-174">Step 4.</span><span class="sxs-lookup"><span data-stu-id="fc438-174">Step 4.</span></span> <span data-ttu-id="fc438-175">Provide a name and description for the log</span><span class="sxs-lookup"><span data-stu-id="fc438-175">Provide a name and description for the log</span></span>
<span data-ttu-id="fc438-176">The name that you specify will be used for the log type as described above.</span><span class="sxs-lookup"><span data-stu-id="fc438-176">The name that you specify will be used for the log type as described above.</span></span>  <span data-ttu-id="fc438-177">It will always end with _CL to distinguish it as a custom log.</span><span class="sxs-lookup"><span data-stu-id="fc438-177">It will always end with _CL to distinguish it as a custom log.</span></span>

1. <span data-ttu-id="fc438-178">Type in a name for the log.</span><span class="sxs-lookup"><span data-stu-id="fc438-178">Type in a name for the log.</span></span>  <span data-ttu-id="fc438-179">The **\_CL** suffix is automatically provided.</span><span class="sxs-lookup"><span data-stu-id="fc438-179">The **\_CL** suffix is automatically provided.</span></span>
2. <span data-ttu-id="fc438-180">Add an optional **Description**.</span><span class="sxs-lookup"><span data-stu-id="fc438-180">Add an optional **Description**.</span></span>
3. <span data-ttu-id="fc438-181">Click **Next** to save the custom log definition.</span><span class="sxs-lookup"><span data-stu-id="fc438-181">Click **Next** to save the custom log definition.</span></span>

### <a name="step-5-validate-that-the-custom-logs-are-being-collected"></a><span data-ttu-id="fc438-182">Step 5.</span><span class="sxs-lookup"><span data-stu-id="fc438-182">Step 5.</span></span> <span data-ttu-id="fc438-183">Validate that the custom logs are being collected</span><span class="sxs-lookup"><span data-stu-id="fc438-183">Validate that the custom logs are being collected</span></span>
<span data-ttu-id="fc438-184">It may take up to an hour for the initial data from a new custom log to appear in Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="fc438-184">It may take up to an hour for the initial data from a new custom log to appear in Log Analytics.</span></span>  <span data-ttu-id="fc438-185">It will start collecting entries from the logs found in the path you specified from the point that you defined the custom log.</span><span class="sxs-lookup"><span data-stu-id="fc438-185">It will start collecting entries from the logs found in the path you specified from the point that you defined the custom log.</span></span>  <span data-ttu-id="fc438-186">It will not retain the entries that you uploaded during the custom log creation, but it will collect already existing entries in the log files that it locates.</span><span class="sxs-lookup"><span data-stu-id="fc438-186">It will not retain the entries that you uploaded during the custom log creation, but it will collect already existing entries in the log files that it locates.</span></span>

<span data-ttu-id="fc438-187">Once Log Analytics starts collecting from the custom log, its records will be available with a Log Search.</span><span class="sxs-lookup"><span data-stu-id="fc438-187">Once Log Analytics starts collecting from the custom log, its records will be available with a Log Search.</span></span>  <span data-ttu-id="fc438-188">Use the name that you gave the custom log as the **Type** in your query.</span><span class="sxs-lookup"><span data-stu-id="fc438-188">Use the name that you gave the custom log as the **Type** in your query.</span></span>

> [!NOTE]
> <span data-ttu-id="fc438-189">If the RawData property is missing from the search, you may need to close and reopen your browser.</span><span class="sxs-lookup"><span data-stu-id="fc438-189">If the RawData property is missing from the search, you may need to close and reopen your browser.</span></span>
>
>

### <a name="step-6-parse-the-custom-log-entries"></a><span data-ttu-id="fc438-190">Step 6.</span><span class="sxs-lookup"><span data-stu-id="fc438-190">Step 6.</span></span> <span data-ttu-id="fc438-191">Parse the custom log entries</span><span class="sxs-lookup"><span data-stu-id="fc438-191">Parse the custom log entries</span></span>
<span data-ttu-id="fc438-192">The entire log entry will be stored in a single property called **RawData**.</span><span class="sxs-lookup"><span data-stu-id="fc438-192">The entire log entry will be stored in a single property called **RawData**.</span></span>  <span data-ttu-id="fc438-193">You will most likely want to separate the different pieces of information in each entry into individual properties stored in the record.</span><span class="sxs-lookup"><span data-stu-id="fc438-193">You will most likely want to separate the different pieces of information in each entry into individual properties stored in the record.</span></span>  <span data-ttu-id="fc438-194">You do this using the [Custom Fields](log-analytics-custom-fields.md) feature of Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="fc438-194">You do this using the [Custom Fields](log-analytics-custom-fields.md) feature of Log Analytics.</span></span>

<span data-ttu-id="fc438-195">Detailed steps for parsing the custom log entry are not provided here.</span><span class="sxs-lookup"><span data-stu-id="fc438-195">Detailed steps for parsing the custom log entry are not provided here.</span></span>  <span data-ttu-id="fc438-196">Please refer to the [Custom Fields](log-analytics-custom-fields.md) documentation for this information.</span><span class="sxs-lookup"><span data-stu-id="fc438-196">Please refer to the [Custom Fields](log-analytics-custom-fields.md) documentation for this information.</span></span>

## <a name="removing-a-custom-log"></a><span data-ttu-id="fc438-197">Removing a custom log</span><span class="sxs-lookup"><span data-stu-id="fc438-197">Removing a custom log</span></span>
<span data-ttu-id="fc438-198">Use the following process in the Azure portal to remove a custom log that you previously defined.</span><span class="sxs-lookup"><span data-stu-id="fc438-198">Use the following process in the Azure portal to remove a custom log that you previously defined.</span></span>

1. <span data-ttu-id="fc438-199">From the **Data** menu in the **Advanced Settings** for your workspace, select **Custom Logs** to list all your custom logs.</span><span class="sxs-lookup"><span data-stu-id="fc438-199">From the **Data** menu in the **Advanced Settings** for your workspace, select **Custom Logs** to list all your custom logs.</span></span>
2. <span data-ttu-id="fc438-200">Click **Remove** next to the custom log to remove.</span><span class="sxs-lookup"><span data-stu-id="fc438-200">Click **Remove** next to the custom log to remove.</span></span>


## <a name="data-collection"></a><span data-ttu-id="fc438-201">Data collection</span><span class="sxs-lookup"><span data-stu-id="fc438-201">Data collection</span></span>
<span data-ttu-id="fc438-202">Log Analytics will collect new entries from each custom log approximately every 5 minutes.</span><span class="sxs-lookup"><span data-stu-id="fc438-202">Log Analytics will collect new entries from each custom log approximately every 5 minutes.</span></span>  <span data-ttu-id="fc438-203">The agent will record its place in each log file that it collects from.</span><span class="sxs-lookup"><span data-stu-id="fc438-203">The agent will record its place in each log file that it collects from.</span></span>  <span data-ttu-id="fc438-204">If the agent goes offline for a period of time, then Log Analytics will collect entries from where it last left off, even if those entries were created while the agent was offline.</span><span class="sxs-lookup"><span data-stu-id="fc438-204">If the agent goes offline for a period of time, then Log Analytics will collect entries from where it last left off, even if those entries were created while the agent was offline.</span></span>

<span data-ttu-id="fc438-205">The entire contents of the log entry are written to a single property called **RawData**.</span><span class="sxs-lookup"><span data-stu-id="fc438-205">The entire contents of the log entry are written to a single property called **RawData**.</span></span>  <span data-ttu-id="fc438-206">You can parse this into multiple properties that can be analyzed and searched separately by defining [Custom Fields](log-analytics-custom-fields.md) after you have created the custom log.</span><span class="sxs-lookup"><span data-stu-id="fc438-206">You can parse this into multiple properties that can be analyzed and searched separately by defining [Custom Fields](log-analytics-custom-fields.md) after you have created the custom log.</span></span>

## <a name="custom-log-record-properties"></a><span data-ttu-id="fc438-207">Custom log record properties</span><span class="sxs-lookup"><span data-stu-id="fc438-207">Custom log record properties</span></span>
<span data-ttu-id="fc438-208">Custom log records have a type with the log name that you provide and the properties in the following table.</span><span class="sxs-lookup"><span data-stu-id="fc438-208">Custom log records have a type with the log name that you provide and the properties in the following table.</span></span>

| <span data-ttu-id="fc438-209">Property</span><span class="sxs-lookup"><span data-stu-id="fc438-209">Property</span></span> | <span data-ttu-id="fc438-210">Description</span><span class="sxs-lookup"><span data-stu-id="fc438-210">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="fc438-211">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="fc438-211">TimeGenerated</span></span> |<span data-ttu-id="fc438-212">Date and time that the record was collected by Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="fc438-212">Date and time that the record was collected by Log Analytics.</span></span>  <span data-ttu-id="fc438-213">If the log uses a time-based delimiter then this is the time collected from the entry.</span><span class="sxs-lookup"><span data-stu-id="fc438-213">If the log uses a time-based delimiter then this is the time collected from the entry.</span></span> |
| <span data-ttu-id="fc438-214">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="fc438-214">SourceSystem</span></span> |<span data-ttu-id="fc438-215">Type of agent the record was collected from.</span><span class="sxs-lookup"><span data-stu-id="fc438-215">Type of agent the record was collected from.</span></span> <br> <span data-ttu-id="fc438-216">OpsManager – Windows agent, either direct connect or System Center Operations Manager</span><span class="sxs-lookup"><span data-stu-id="fc438-216">OpsManager – Windows agent, either direct connect or System Center Operations Manager</span></span> <br> <span data-ttu-id="fc438-217">Linux – All Linux agents</span><span class="sxs-lookup"><span data-stu-id="fc438-217">Linux – All Linux agents</span></span> |
| <span data-ttu-id="fc438-218">RawData</span><span class="sxs-lookup"><span data-stu-id="fc438-218">RawData</span></span> |<span data-ttu-id="fc438-219">Full text of the collected entry.</span><span class="sxs-lookup"><span data-stu-id="fc438-219">Full text of the collected entry.</span></span> |
| <span data-ttu-id="fc438-220">ManagementGroupName</span><span class="sxs-lookup"><span data-stu-id="fc438-220">ManagementGroupName</span></span> |<span data-ttu-id="fc438-221">Name of the management group for System Center Operations Manage agents.</span><span class="sxs-lookup"><span data-stu-id="fc438-221">Name of the management group for System Center Operations Manage agents.</span></span>  <span data-ttu-id="fc438-222">For other agents, this is AOI-\<workspace ID\></span><span class="sxs-lookup"><span data-stu-id="fc438-222">For other agents, this is AOI-\<workspace ID\></span></span> |

## <a name="log-searches-with-custom-log-records"></a><span data-ttu-id="fc438-223">Log searches with custom log records</span><span class="sxs-lookup"><span data-stu-id="fc438-223">Log searches with custom log records</span></span>
<span data-ttu-id="fc438-224">Records from custom logs are stored in the Log Analytics workspace just like records from any other data source.</span><span class="sxs-lookup"><span data-stu-id="fc438-224">Records from custom logs are stored in the Log Analytics workspace just like records from any other data source.</span></span>  <span data-ttu-id="fc438-225">They will have a type matching the name that you provide when you define the log, so you can use the Type property in your search to retrieve records collected from a specific log.</span><span class="sxs-lookup"><span data-stu-id="fc438-225">They will have a type matching the name that you provide when you define the log, so you can use the Type property in your search to retrieve records collected from a specific log.</span></span>

<span data-ttu-id="fc438-226">The following table provides different examples of log searches that retrieve records from custom logs.</span><span class="sxs-lookup"><span data-stu-id="fc438-226">The following table provides different examples of log searches that retrieve records from custom logs.</span></span>

| <span data-ttu-id="fc438-227">Query</span><span class="sxs-lookup"><span data-stu-id="fc438-227">Query</span></span> | <span data-ttu-id="fc438-228">Description</span><span class="sxs-lookup"><span data-stu-id="fc438-228">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="fc438-229">MyApp_CL</span><span class="sxs-lookup"><span data-stu-id="fc438-229">MyApp_CL</span></span> |<span data-ttu-id="fc438-230">All events from a custom log named MyApp_CL.</span><span class="sxs-lookup"><span data-stu-id="fc438-230">All events from a custom log named MyApp_CL.</span></span> |
| <span data-ttu-id="fc438-231">MyApp_CL &#124; where Severity_CF=="error"</span><span class="sxs-lookup"><span data-stu-id="fc438-231">MyApp_CL &#124; where Severity_CF=="error"</span></span> |<span data-ttu-id="fc438-232">All events from a custom log named MyApp_CL with a value of *error* in a custom field named *Severity_CF*.</span><span class="sxs-lookup"><span data-stu-id="fc438-232">All events from a custom log named MyApp_CL with a value of *error* in a custom field named *Severity_CF*.</span></span> |


## <a name="sample-walkthrough-of-adding-a-custom-log"></a><span data-ttu-id="fc438-233">Sample walkthrough of adding a custom log</span><span class="sxs-lookup"><span data-stu-id="fc438-233">Sample walkthrough of adding a custom log</span></span>
<span data-ttu-id="fc438-234">The following section walks through an example of creating a custom log.</span><span class="sxs-lookup"><span data-stu-id="fc438-234">The following section walks through an example of creating a custom log.</span></span>  <span data-ttu-id="fc438-235">The sample log being collected has a single entry on each line starting with a date and time and then comma-delimited fields for code, status, and message.</span><span class="sxs-lookup"><span data-stu-id="fc438-235">The sample log being collected has a single entry on each line starting with a date and time and then comma-delimited fields for code, status, and message.</span></span>  <span data-ttu-id="fc438-236">Several sample entries are shown below.</span><span class="sxs-lookup"><span data-stu-id="fc438-236">Several sample entries are shown below.</span></span>

    2016-03-10 01:34:36 207,Success,Client 05a26a97-272a-4bc9-8f64-269d154b0e39 connected
    2016-03-10 01:33:33 208,Warning,Client ec53d95c-1c88-41ae-8174-92104212de5d disconnected
    2016-03-10 01:35:44 209,Success,Transaction 10d65890-b003-48f8-9cfc-9c74b51189c8 succeeded
    2016-03-10 01:38:22 302,Error,Application could not connect to database
    2016-03-10 01:31:34 303,Error,Application lost connection to database

### <a name="upload-and-parse-a-sample-log"></a><span data-ttu-id="fc438-237">Upload and parse a sample log</span><span class="sxs-lookup"><span data-stu-id="fc438-237">Upload and parse a sample log</span></span>
<span data-ttu-id="fc438-238">We provide one of the log files and can see the events that it will be collecting.</span><span class="sxs-lookup"><span data-stu-id="fc438-238">We provide one of the log files and can see the events that it will be collecting.</span></span>  <span data-ttu-id="fc438-239">In this case New Line is a sufficient delimiter.</span><span class="sxs-lookup"><span data-stu-id="fc438-239">In this case New Line is a sufficient delimiter.</span></span>  <span data-ttu-id="fc438-240">If a single entry in the log could span multiple lines though, then a timestamp delimiter would need to be used.</span><span class="sxs-lookup"><span data-stu-id="fc438-240">If a single entry in the log could span multiple lines though, then a timestamp delimiter would need to be used.</span></span>

![Upload and parse a sample log](media/log-analytics-data-sources-custom-logs/delimiter.png)

### <a name="add-log-collection-paths"></a><span data-ttu-id="fc438-242">Add log collection paths</span><span class="sxs-lookup"><span data-stu-id="fc438-242">Add log collection paths</span></span>
<span data-ttu-id="fc438-243">The log files will be located in *C:\MyApp\Logs*.</span><span class="sxs-lookup"><span data-stu-id="fc438-243">The log files will be located in *C:\MyApp\Logs*.</span></span>  <span data-ttu-id="fc438-244">A new file will be created each day with a name that includes the date in the pattern *appYYYYMMDD.log*.</span><span class="sxs-lookup"><span data-stu-id="fc438-244">A new file will be created each day with a name that includes the date in the pattern *appYYYYMMDD.log*.</span></span>  <span data-ttu-id="fc438-245">A sufficient pattern for this log would be *C:\MyApp\Logs\\\*.log*.</span><span class="sxs-lookup"><span data-stu-id="fc438-245">A sufficient pattern for this log would be *C:\MyApp\Logs\\\*.log*.</span></span>

![Log collection path](media/log-analytics-data-sources-custom-logs/collection-path.png)

### <a name="provide-a-name-and-description-for-the-log"></a><span data-ttu-id="fc438-247">Provide a name and description for the log</span><span class="sxs-lookup"><span data-stu-id="fc438-247">Provide a name and description for the log</span></span>
<span data-ttu-id="fc438-248">We use a name of *MyApp_CL* and type in a **Description**.</span><span class="sxs-lookup"><span data-stu-id="fc438-248">We use a name of *MyApp_CL* and type in a **Description**.</span></span>

![Log name](media/log-analytics-data-sources-custom-logs/log-name.png)

### <a name="validate-that-the-custom-logs-are-being-collected"></a><span data-ttu-id="fc438-250">Validate that the custom logs are being collected</span><span class="sxs-lookup"><span data-stu-id="fc438-250">Validate that the custom logs are being collected</span></span>
<span data-ttu-id="fc438-251">We use a query of *Type=MyApp_CL* to return all records from the collected log.</span><span class="sxs-lookup"><span data-stu-id="fc438-251">We use a query of *Type=MyApp_CL* to return all records from the collected log.</span></span>

![Log query with no custom fields](media/log-analytics-data-sources-custom-logs/query-01.png)

### <a name="parse-the-custom-log-entries"></a><span data-ttu-id="fc438-253">Parse the custom log entries</span><span class="sxs-lookup"><span data-stu-id="fc438-253">Parse the custom log entries</span></span>
<span data-ttu-id="fc438-254">We use Custom Fields to define the *EventTime*, *Code*, *Status*, and *Message* fields and we can see the difference in the records that are returned by the query.</span><span class="sxs-lookup"><span data-stu-id="fc438-254">We use Custom Fields to define the *EventTime*, *Code*, *Status*, and *Message* fields and we can see the difference in the records that are returned by the query.</span></span>

![Log query with custom fields](media/log-analytics-data-sources-custom-logs/query-02.png)

## <a name="next-steps"></a><span data-ttu-id="fc438-256">Next steps</span><span class="sxs-lookup"><span data-stu-id="fc438-256">Next steps</span></span>
* <span data-ttu-id="fc438-257">Use [Custom Fields](log-analytics-custom-fields.md) to parse the entries in the custom login to individual fields.</span><span class="sxs-lookup"><span data-stu-id="fc438-257">Use [Custom Fields](log-analytics-custom-fields.md) to parse the entries in the custom login to individual fields.</span></span>
* <span data-ttu-id="fc438-258">Learn about [log searches](log-analytics-log-searches.md) to analyze the data collected from data sources and solutions.</span><span class="sxs-lookup"><span data-stu-id="fc438-258">Learn about [log searches](log-analytics-log-searches.md) to analyze the data collected from data sources and solutions.</span></span>
