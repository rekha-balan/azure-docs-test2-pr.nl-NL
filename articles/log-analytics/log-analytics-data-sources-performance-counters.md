---
title: Collect and analyze performance counters in Azure Log Analytics | Microsoft Docs
description: Performance counters are collected by Log Analytics to analyze performance on Windows and Linux agents.  This article describes how to configure collection of Performance counters for both Windows and Linux agents, details of they are stored in the workspace, and how to analyze them in the Azure portal.
services: log-analytics
documentationcenter: ''
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: 20e145e4-2ace-4cd9-b252-71fb4f94099e
ms.service: log-analytics
ms.devlang: na
ms.topic: conceptual
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 12/19/2017
ms.author: magoedte
ms.component: na
ms.openlocfilehash: b23c170e557d019abf2b9aab8edcb74728bc872d
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44811706"
---
# <a name="windows-and-linux-performance-data-sources-in-log-analytics"></a><span data-ttu-id="942cd-104">Windows and Linux performance data sources in Log Analytics</span><span class="sxs-lookup"><span data-stu-id="942cd-104">Windows and Linux performance data sources in Log Analytics</span></span>
<span data-ttu-id="942cd-105">Performance counters in Windows and Linux provide insight into the performance of hardware components, operating systems, and applications.</span><span class="sxs-lookup"><span data-stu-id="942cd-105">Performance counters in Windows and Linux provide insight into the performance of hardware components, operating systems, and applications.</span></span>  <span data-ttu-id="942cd-106">Log Analytics can collect performance counters at frequent intervals for Near Real Time (NRT) analysis in addition to aggregating performance data for longer term analysis and reporting.</span><span class="sxs-lookup"><span data-stu-id="942cd-106">Log Analytics can collect performance counters at frequent intervals for Near Real Time (NRT) analysis in addition to aggregating performance data for longer term analysis and reporting.</span></span>

![Performance counters](media/log-analytics-data-sources-performance-counters/overview.png)

## <a name="configuring-performance-counters"></a><span data-ttu-id="942cd-108">Configuring Performance counters</span><span class="sxs-lookup"><span data-stu-id="942cd-108">Configuring Performance counters</span></span>
<span data-ttu-id="942cd-109">Configure Performance counters from the [Data menu in Log Analytics Settings](log-analytics-data-sources.md#configuring-data-sources).</span><span class="sxs-lookup"><span data-stu-id="942cd-109">Configure Performance counters from the [Data menu in Log Analytics Settings](log-analytics-data-sources.md#configuring-data-sources).</span></span>

<span data-ttu-id="942cd-110">When you first configure Windows or Linux Performance counters for a new Log Analytics workspace, you are given the option to quickly create several common counters.</span><span class="sxs-lookup"><span data-stu-id="942cd-110">When you first configure Windows or Linux Performance counters for a new Log Analytics workspace, you are given the option to quickly create several common counters.</span></span>  <span data-ttu-id="942cd-111">They are listed with a checkbox next to each.</span><span class="sxs-lookup"><span data-stu-id="942cd-111">They are listed with a checkbox next to each.</span></span>  <span data-ttu-id="942cd-112">Ensure that any counters you want to initially create are checked and then click **Add the selected performance counters**.</span><span class="sxs-lookup"><span data-stu-id="942cd-112">Ensure that any counters you want to initially create are checked and then click **Add the selected performance counters**.</span></span>

<span data-ttu-id="942cd-113">For Windows performance counters, you can choose a specific instance for each performance counter.</span><span class="sxs-lookup"><span data-stu-id="942cd-113">For Windows performance counters, you can choose a specific instance for each performance counter.</span></span> <span data-ttu-id="942cd-114">For Linux performance counters, the instance of each counter that you choose applies to all child counters of the parent counter.</span><span class="sxs-lookup"><span data-stu-id="942cd-114">For Linux performance counters, the instance of each counter that you choose applies to all child counters of the parent counter.</span></span> <span data-ttu-id="942cd-115">The following table shows the common instances available to both Linux and Windows performance counters.</span><span class="sxs-lookup"><span data-stu-id="942cd-115">The following table shows the common instances available to both Linux and Windows performance counters.</span></span>

| <span data-ttu-id="942cd-116">Instance name</span><span class="sxs-lookup"><span data-stu-id="942cd-116">Instance name</span></span> | <span data-ttu-id="942cd-117">Description</span><span class="sxs-lookup"><span data-stu-id="942cd-117">Description</span></span> |
| --- | --- |
| <span data-ttu-id="942cd-118">\_Total</span><span class="sxs-lookup"><span data-stu-id="942cd-118">\_Total</span></span> |<span data-ttu-id="942cd-119">Total of all the instances</span><span class="sxs-lookup"><span data-stu-id="942cd-119">Total of all the instances</span></span> |
| \* |<span data-ttu-id="942cd-120">All instances</span><span class="sxs-lookup"><span data-stu-id="942cd-120">All instances</span></span> |
| <span data-ttu-id="942cd-121">(/&#124;/var)</span><span class="sxs-lookup"><span data-stu-id="942cd-121">(/&#124;/var)</span></span> |<span data-ttu-id="942cd-122">Matches instances named: / or /var</span><span class="sxs-lookup"><span data-stu-id="942cd-122">Matches instances named: / or /var</span></span> |

### <a name="windows-performance-counters"></a><span data-ttu-id="942cd-123">Windows performance counters</span><span class="sxs-lookup"><span data-stu-id="942cd-123">Windows performance counters</span></span>

![Configure Windows Performance counters](media/log-analytics-data-sources-performance-counters/configure-windows.png)

<span data-ttu-id="942cd-125">Follow this procedure to add a new Windows performance counter to collect.</span><span class="sxs-lookup"><span data-stu-id="942cd-125">Follow this procedure to add a new Windows performance counter to collect.</span></span>

1. <span data-ttu-id="942cd-126">Type the name of the counter in the text box in the format *object(instance)\counter*.</span><span class="sxs-lookup"><span data-stu-id="942cd-126">Type the name of the counter in the text box in the format *object(instance)\counter*.</span></span>  <span data-ttu-id="942cd-127">When you start typing, you are presented with a matching list of common counters.</span><span class="sxs-lookup"><span data-stu-id="942cd-127">When you start typing, you are presented with a matching list of common counters.</span></span>  <span data-ttu-id="942cd-128">You can either select a counter from the list or type in one of your own.</span><span class="sxs-lookup"><span data-stu-id="942cd-128">You can either select a counter from the list or type in one of your own.</span></span>  <span data-ttu-id="942cd-129">You can also return all instances for a particular counter by specifying *object\counter*.</span><span class="sxs-lookup"><span data-stu-id="942cd-129">You can also return all instances for a particular counter by specifying *object\counter*.</span></span>  

    <span data-ttu-id="942cd-130">When collecting SQL Server performance counters from named instances, all named instance counters start with *MSSQL$* and followed by the name of the instance.</span><span class="sxs-lookup"><span data-stu-id="942cd-130">When collecting SQL Server performance counters from named instances, all named instance counters start with *MSSQL$* and followed by the name of the instance.</span></span>  <span data-ttu-id="942cd-131">For example, to collect the Log Cache Hit Ratio counter for all databases from the Database performance object for named SQL instance INST2, specify `MSSQL$INST2:Databases(*)\Log Cache Hit Ratio`.</span><span class="sxs-lookup"><span data-stu-id="942cd-131">For example, to collect the Log Cache Hit Ratio counter for all databases from the Database performance object for named SQL instance INST2, specify `MSSQL$INST2:Databases(*)\Log Cache Hit Ratio`.</span></span>

2. <span data-ttu-id="942cd-132">Click **+** or press **Enter** to add the counter to the list.</span><span class="sxs-lookup"><span data-stu-id="942cd-132">Click **+** or press **Enter** to add the counter to the list.</span></span>
3. <span data-ttu-id="942cd-133">When you add a counter, it uses the default of 10 seconds for its **Sample Interval**.</span><span class="sxs-lookup"><span data-stu-id="942cd-133">When you add a counter, it uses the default of 10 seconds for its **Sample Interval**.</span></span>  <span data-ttu-id="942cd-134">You can change this to a higher value of up to 1800 seconds (30 minutes) if you want to reduce the storage requirements of the collected performance data.</span><span class="sxs-lookup"><span data-stu-id="942cd-134">You can change this to a higher value of up to 1800 seconds (30 minutes) if you want to reduce the storage requirements of the collected performance data.</span></span>
4. <span data-ttu-id="942cd-135">When you're done adding counters, click the **Save** button at the top of the screen to save the configuration.</span><span class="sxs-lookup"><span data-stu-id="942cd-135">When you're done adding counters, click the **Save** button at the top of the screen to save the configuration.</span></span>

### <a name="linux-performance-counters"></a><span data-ttu-id="942cd-136">Linux performance counters</span><span class="sxs-lookup"><span data-stu-id="942cd-136">Linux performance counters</span></span>

![Configure Linux Performance counters](media/log-analytics-data-sources-performance-counters/configure-linux.png)

<span data-ttu-id="942cd-138">Follow this procedure to add a new Linux performance counter to collect.</span><span class="sxs-lookup"><span data-stu-id="942cd-138">Follow this procedure to add a new Linux performance counter to collect.</span></span>

1. <span data-ttu-id="942cd-139">By default, all configuration changes are automatically pushed to all agents.</span><span class="sxs-lookup"><span data-stu-id="942cd-139">By default, all configuration changes are automatically pushed to all agents.</span></span>  <span data-ttu-id="942cd-140">For Linux agents, a configuration file is sent to the Fluentd data collector.</span><span class="sxs-lookup"><span data-stu-id="942cd-140">For Linux agents, a configuration file is sent to the Fluentd data collector.</span></span>  <span data-ttu-id="942cd-141">If you wish to modify this file manually on each Linux agent, then uncheck the box *Apply below configuration to my Linux machines* and follow the guidance below.</span><span class="sxs-lookup"><span data-stu-id="942cd-141">If you wish to modify this file manually on each Linux agent, then uncheck the box *Apply below configuration to my Linux machines* and follow the guidance below.</span></span>
2. <span data-ttu-id="942cd-142">Type the name of the counter in the text box in the format *object(instance)\counter*.</span><span class="sxs-lookup"><span data-stu-id="942cd-142">Type the name of the counter in the text box in the format *object(instance)\counter*.</span></span>  <span data-ttu-id="942cd-143">When you start typing, you are presented with a matching list of common counters.</span><span class="sxs-lookup"><span data-stu-id="942cd-143">When you start typing, you are presented with a matching list of common counters.</span></span>  <span data-ttu-id="942cd-144">You can either select a counter from the list or type in one of your own.</span><span class="sxs-lookup"><span data-stu-id="942cd-144">You can either select a counter from the list or type in one of your own.</span></span>  
3. <span data-ttu-id="942cd-145">Click **+** or press **Enter** to add the counter to the list of other counters for the object.</span><span class="sxs-lookup"><span data-stu-id="942cd-145">Click **+** or press **Enter** to add the counter to the list of other counters for the object.</span></span>
4. <span data-ttu-id="942cd-146">All counters for an object use the same **Sample Interval**.</span><span class="sxs-lookup"><span data-stu-id="942cd-146">All counters for an object use the same **Sample Interval**.</span></span>  <span data-ttu-id="942cd-147">The default is 10 seconds.</span><span class="sxs-lookup"><span data-stu-id="942cd-147">The default is 10 seconds.</span></span>  <span data-ttu-id="942cd-148">You change this to a higher value of up to 1800 seconds (30 minutes) if you want to reduce the storage requirements of the collected performance data.</span><span class="sxs-lookup"><span data-stu-id="942cd-148">You change this to a higher value of up to 1800 seconds (30 minutes) if you want to reduce the storage requirements of the collected performance data.</span></span>
5. <span data-ttu-id="942cd-149">When you're done adding counters, click the **Save** button at the top of the screen to save the configuration.</span><span class="sxs-lookup"><span data-stu-id="942cd-149">When you're done adding counters, click the **Save** button at the top of the screen to save the configuration.</span></span>

#### <a name="configure-linux-performance-counters-in-configuration-file"></a><span data-ttu-id="942cd-150">Configure Linux performance counters in configuration file</span><span class="sxs-lookup"><span data-stu-id="942cd-150">Configure Linux performance counters in configuration file</span></span>
<span data-ttu-id="942cd-151">Instead of configuring Linux performance counters using the Azure portal, you have the option of editing configuration files on the Linux agent.</span><span class="sxs-lookup"><span data-stu-id="942cd-151">Instead of configuring Linux performance counters using the Azure portal, you have the option of editing configuration files on the Linux agent.</span></span>  <span data-ttu-id="942cd-152">Performance metrics to collect are controlled by the configuration in **/etc/opt/microsoft/omsagent/\<workspace id\>/conf/omsagent.conf**.</span><span class="sxs-lookup"><span data-stu-id="942cd-152">Performance metrics to collect are controlled by the configuration in **/etc/opt/microsoft/omsagent/\<workspace id\>/conf/omsagent.conf**.</span></span>

<span data-ttu-id="942cd-153">Each object, or category, of performance metrics to collect should be defined in the configuration file as a single `<source>` element.</span><span class="sxs-lookup"><span data-stu-id="942cd-153">Each object, or category, of performance metrics to collect should be defined in the configuration file as a single `<source>` element.</span></span> <span data-ttu-id="942cd-154">The syntax follows the pattern below.</span><span class="sxs-lookup"><span data-stu-id="942cd-154">The syntax follows the pattern below.</span></span>

    <source>
      type oms_omi  
      object_name "Processor"
      instance_regex ".*"
      counter_name_regex ".*"
      interval 30s
    </source>


<span data-ttu-id="942cd-155">The parameters in this element are described in the following table.</span><span class="sxs-lookup"><span data-stu-id="942cd-155">The parameters in this element are described in the following table.</span></span>

| <span data-ttu-id="942cd-156">Parameters</span><span class="sxs-lookup"><span data-stu-id="942cd-156">Parameters</span></span> | <span data-ttu-id="942cd-157">Description</span><span class="sxs-lookup"><span data-stu-id="942cd-157">Description</span></span> |
|:--|:--|
| <span data-ttu-id="942cd-158">object\_name</span><span class="sxs-lookup"><span data-stu-id="942cd-158">object\_name</span></span> | <span data-ttu-id="942cd-159">Object name for the collection.</span><span class="sxs-lookup"><span data-stu-id="942cd-159">Object name for the collection.</span></span> |
| <span data-ttu-id="942cd-160">instance\_regex</span><span class="sxs-lookup"><span data-stu-id="942cd-160">instance\_regex</span></span> |  <span data-ttu-id="942cd-161">A *regular expression* defining which instances to collect.</span><span class="sxs-lookup"><span data-stu-id="942cd-161">A *regular expression* defining which instances to collect.</span></span> <span data-ttu-id="942cd-162">The value: `.*` specifies all instances.</span><span class="sxs-lookup"><span data-stu-id="942cd-162">The value: `.*` specifies all instances.</span></span> <span data-ttu-id="942cd-163">To collect processor metrics for only the \_Total instance, you could specify `_Total`.</span><span class="sxs-lookup"><span data-stu-id="942cd-163">To collect processor metrics for only the \_Total instance, you could specify `_Total`.</span></span> <span data-ttu-id="942cd-164">To collect process metrics for only the crond or sshd instances, you could specify: `(crond\|sshd)`.</span><span class="sxs-lookup"><span data-stu-id="942cd-164">To collect process metrics for only the crond or sshd instances, you could specify: `(crond\|sshd)`.</span></span> |
| <span data-ttu-id="942cd-165">counter\_name\_regex</span><span class="sxs-lookup"><span data-stu-id="942cd-165">counter\_name\_regex</span></span> | <span data-ttu-id="942cd-166">A *regular expression* defining which counters (for the object) to collect.</span><span class="sxs-lookup"><span data-stu-id="942cd-166">A *regular expression* defining which counters (for the object) to collect.</span></span> <span data-ttu-id="942cd-167">To collect all counters for the object, specify: `.*`.</span><span class="sxs-lookup"><span data-stu-id="942cd-167">To collect all counters for the object, specify: `.*`.</span></span> <span data-ttu-id="942cd-168">To collect only swap space counters for the memory object, for example, you could specify: `.+Swap.+`</span><span class="sxs-lookup"><span data-stu-id="942cd-168">To collect only swap space counters for the memory object, for example, you could specify: `.+Swap.+`</span></span> |
| <span data-ttu-id="942cd-169">interval</span><span class="sxs-lookup"><span data-stu-id="942cd-169">interval</span></span> | <span data-ttu-id="942cd-170">Frequency at which the object's counters are collected.</span><span class="sxs-lookup"><span data-stu-id="942cd-170">Frequency at which the object's counters are collected.</span></span> |


<span data-ttu-id="942cd-171">The following table lists the objects and counters that you can specify in the configuration file.</span><span class="sxs-lookup"><span data-stu-id="942cd-171">The following table lists the objects and counters that you can specify in the configuration file.</span></span>  <span data-ttu-id="942cd-172">There are additional counters available for certain applications as described in [Collect performance counters for Linux applications in Log Analytics](log-analytics-data-sources-linux-applications.md).</span><span class="sxs-lookup"><span data-stu-id="942cd-172">There are additional counters available for certain applications as described in [Collect performance counters for Linux applications in Log Analytics](log-analytics-data-sources-linux-applications.md).</span></span>

| <span data-ttu-id="942cd-173">Object Name</span><span class="sxs-lookup"><span data-stu-id="942cd-173">Object Name</span></span> | <span data-ttu-id="942cd-174">Counter Name</span><span class="sxs-lookup"><span data-stu-id="942cd-174">Counter Name</span></span> |
|:--|:--|
| <span data-ttu-id="942cd-175">Logical Disk</span><span class="sxs-lookup"><span data-stu-id="942cd-175">Logical Disk</span></span> | <span data-ttu-id="942cd-176">% Free Inodes</span><span class="sxs-lookup"><span data-stu-id="942cd-176">% Free Inodes</span></span> |
| <span data-ttu-id="942cd-177">Logical Disk</span><span class="sxs-lookup"><span data-stu-id="942cd-177">Logical Disk</span></span> | <span data-ttu-id="942cd-178">% Free Space</span><span class="sxs-lookup"><span data-stu-id="942cd-178">% Free Space</span></span> |
| <span data-ttu-id="942cd-179">Logical Disk</span><span class="sxs-lookup"><span data-stu-id="942cd-179">Logical Disk</span></span> | <span data-ttu-id="942cd-180">% Used Inodes</span><span class="sxs-lookup"><span data-stu-id="942cd-180">% Used Inodes</span></span> |
| <span data-ttu-id="942cd-181">Logical Disk</span><span class="sxs-lookup"><span data-stu-id="942cd-181">Logical Disk</span></span> | <span data-ttu-id="942cd-182">% Used Space</span><span class="sxs-lookup"><span data-stu-id="942cd-182">% Used Space</span></span> |
| <span data-ttu-id="942cd-183">Logical Disk</span><span class="sxs-lookup"><span data-stu-id="942cd-183">Logical Disk</span></span> | <span data-ttu-id="942cd-184">Disk Read Bytes/sec</span><span class="sxs-lookup"><span data-stu-id="942cd-184">Disk Read Bytes/sec</span></span> |
| <span data-ttu-id="942cd-185">Logical Disk</span><span class="sxs-lookup"><span data-stu-id="942cd-185">Logical Disk</span></span> | <span data-ttu-id="942cd-186">Disk Reads/sec</span><span class="sxs-lookup"><span data-stu-id="942cd-186">Disk Reads/sec</span></span> |
| <span data-ttu-id="942cd-187">Logical Disk</span><span class="sxs-lookup"><span data-stu-id="942cd-187">Logical Disk</span></span> | <span data-ttu-id="942cd-188">Disk Transfers/sec</span><span class="sxs-lookup"><span data-stu-id="942cd-188">Disk Transfers/sec</span></span> |
| <span data-ttu-id="942cd-189">Logical Disk</span><span class="sxs-lookup"><span data-stu-id="942cd-189">Logical Disk</span></span> | <span data-ttu-id="942cd-190">Disk Write Bytes/sec</span><span class="sxs-lookup"><span data-stu-id="942cd-190">Disk Write Bytes/sec</span></span> |
| <span data-ttu-id="942cd-191">Logical Disk</span><span class="sxs-lookup"><span data-stu-id="942cd-191">Logical Disk</span></span> | <span data-ttu-id="942cd-192">Disk Writes/sec</span><span class="sxs-lookup"><span data-stu-id="942cd-192">Disk Writes/sec</span></span> |
| <span data-ttu-id="942cd-193">Logical Disk</span><span class="sxs-lookup"><span data-stu-id="942cd-193">Logical Disk</span></span> | <span data-ttu-id="942cd-194">Free Megabytes</span><span class="sxs-lookup"><span data-stu-id="942cd-194">Free Megabytes</span></span> |
| <span data-ttu-id="942cd-195">Logical Disk</span><span class="sxs-lookup"><span data-stu-id="942cd-195">Logical Disk</span></span> | <span data-ttu-id="942cd-196">Logical Disk Bytes/sec</span><span class="sxs-lookup"><span data-stu-id="942cd-196">Logical Disk Bytes/sec</span></span> |
| <span data-ttu-id="942cd-197">Memory</span><span class="sxs-lookup"><span data-stu-id="942cd-197">Memory</span></span> | <span data-ttu-id="942cd-198">% Available Memory</span><span class="sxs-lookup"><span data-stu-id="942cd-198">% Available Memory</span></span> |
| <span data-ttu-id="942cd-199">Memory</span><span class="sxs-lookup"><span data-stu-id="942cd-199">Memory</span></span> | <span data-ttu-id="942cd-200">% Available Swap Space</span><span class="sxs-lookup"><span data-stu-id="942cd-200">% Available Swap Space</span></span> |
| <span data-ttu-id="942cd-201">Memory</span><span class="sxs-lookup"><span data-stu-id="942cd-201">Memory</span></span> | <span data-ttu-id="942cd-202">% Used Memory</span><span class="sxs-lookup"><span data-stu-id="942cd-202">% Used Memory</span></span> |
| <span data-ttu-id="942cd-203">Memory</span><span class="sxs-lookup"><span data-stu-id="942cd-203">Memory</span></span> | <span data-ttu-id="942cd-204">% Used Swap Space</span><span class="sxs-lookup"><span data-stu-id="942cd-204">% Used Swap Space</span></span> |
| <span data-ttu-id="942cd-205">Memory</span><span class="sxs-lookup"><span data-stu-id="942cd-205">Memory</span></span> | <span data-ttu-id="942cd-206">Available MBytes Memory</span><span class="sxs-lookup"><span data-stu-id="942cd-206">Available MBytes Memory</span></span> |
| <span data-ttu-id="942cd-207">Memory</span><span class="sxs-lookup"><span data-stu-id="942cd-207">Memory</span></span> | <span data-ttu-id="942cd-208">Available MBytes Swap</span><span class="sxs-lookup"><span data-stu-id="942cd-208">Available MBytes Swap</span></span> |
| <span data-ttu-id="942cd-209">Memory</span><span class="sxs-lookup"><span data-stu-id="942cd-209">Memory</span></span> | <span data-ttu-id="942cd-210">Page Reads/sec</span><span class="sxs-lookup"><span data-stu-id="942cd-210">Page Reads/sec</span></span> |
| <span data-ttu-id="942cd-211">Memory</span><span class="sxs-lookup"><span data-stu-id="942cd-211">Memory</span></span> | <span data-ttu-id="942cd-212">Page Writes/sec</span><span class="sxs-lookup"><span data-stu-id="942cd-212">Page Writes/sec</span></span> |
| <span data-ttu-id="942cd-213">Memory</span><span class="sxs-lookup"><span data-stu-id="942cd-213">Memory</span></span> | <span data-ttu-id="942cd-214">Pages/sec</span><span class="sxs-lookup"><span data-stu-id="942cd-214">Pages/sec</span></span> |
| <span data-ttu-id="942cd-215">Memory</span><span class="sxs-lookup"><span data-stu-id="942cd-215">Memory</span></span> | <span data-ttu-id="942cd-216">Used MBytes Swap Space</span><span class="sxs-lookup"><span data-stu-id="942cd-216">Used MBytes Swap Space</span></span> |
| <span data-ttu-id="942cd-217">Memory</span><span class="sxs-lookup"><span data-stu-id="942cd-217">Memory</span></span> | <span data-ttu-id="942cd-218">Used Memory MBytes</span><span class="sxs-lookup"><span data-stu-id="942cd-218">Used Memory MBytes</span></span> |
| <span data-ttu-id="942cd-219">Network</span><span class="sxs-lookup"><span data-stu-id="942cd-219">Network</span></span> | <span data-ttu-id="942cd-220">Total Bytes Transmitted</span><span class="sxs-lookup"><span data-stu-id="942cd-220">Total Bytes Transmitted</span></span> |
| <span data-ttu-id="942cd-221">Network</span><span class="sxs-lookup"><span data-stu-id="942cd-221">Network</span></span> | <span data-ttu-id="942cd-222">Total Bytes Received</span><span class="sxs-lookup"><span data-stu-id="942cd-222">Total Bytes Received</span></span> |
| <span data-ttu-id="942cd-223">Network</span><span class="sxs-lookup"><span data-stu-id="942cd-223">Network</span></span> | <span data-ttu-id="942cd-224">Total Bytes</span><span class="sxs-lookup"><span data-stu-id="942cd-224">Total Bytes</span></span> |
| <span data-ttu-id="942cd-225">Network</span><span class="sxs-lookup"><span data-stu-id="942cd-225">Network</span></span> | <span data-ttu-id="942cd-226">Total Packets Transmitted</span><span class="sxs-lookup"><span data-stu-id="942cd-226">Total Packets Transmitted</span></span> |
| <span data-ttu-id="942cd-227">Network</span><span class="sxs-lookup"><span data-stu-id="942cd-227">Network</span></span> | <span data-ttu-id="942cd-228">Total Packets Received</span><span class="sxs-lookup"><span data-stu-id="942cd-228">Total Packets Received</span></span> |
| <span data-ttu-id="942cd-229">Network</span><span class="sxs-lookup"><span data-stu-id="942cd-229">Network</span></span> | <span data-ttu-id="942cd-230">Total Rx Errors</span><span class="sxs-lookup"><span data-stu-id="942cd-230">Total Rx Errors</span></span> |
| <span data-ttu-id="942cd-231">Network</span><span class="sxs-lookup"><span data-stu-id="942cd-231">Network</span></span> | <span data-ttu-id="942cd-232">Total Tx Errors</span><span class="sxs-lookup"><span data-stu-id="942cd-232">Total Tx Errors</span></span> |
| <span data-ttu-id="942cd-233">Network</span><span class="sxs-lookup"><span data-stu-id="942cd-233">Network</span></span> | <span data-ttu-id="942cd-234">Total Collisions</span><span class="sxs-lookup"><span data-stu-id="942cd-234">Total Collisions</span></span> |
| <span data-ttu-id="942cd-235">Physical Disk</span><span class="sxs-lookup"><span data-stu-id="942cd-235">Physical Disk</span></span> | <span data-ttu-id="942cd-236">Avg. Disk sec/Read</span><span class="sxs-lookup"><span data-stu-id="942cd-236">Avg. Disk sec/Read</span></span> |
| <span data-ttu-id="942cd-237">Physical Disk</span><span class="sxs-lookup"><span data-stu-id="942cd-237">Physical Disk</span></span> | <span data-ttu-id="942cd-238">Avg. Disk sec/Transfer</span><span class="sxs-lookup"><span data-stu-id="942cd-238">Avg. Disk sec/Transfer</span></span> |
| <span data-ttu-id="942cd-239">Physical Disk</span><span class="sxs-lookup"><span data-stu-id="942cd-239">Physical Disk</span></span> | <span data-ttu-id="942cd-240">Avg. Disk sec/Write</span><span class="sxs-lookup"><span data-stu-id="942cd-240">Avg. Disk sec/Write</span></span> |
| <span data-ttu-id="942cd-241">Physical Disk</span><span class="sxs-lookup"><span data-stu-id="942cd-241">Physical Disk</span></span> | <span data-ttu-id="942cd-242">Physical Disk Bytes/sec</span><span class="sxs-lookup"><span data-stu-id="942cd-242">Physical Disk Bytes/sec</span></span> |
| <span data-ttu-id="942cd-243">Process</span><span class="sxs-lookup"><span data-stu-id="942cd-243">Process</span></span> | <span data-ttu-id="942cd-244">Pct Privileged Time</span><span class="sxs-lookup"><span data-stu-id="942cd-244">Pct Privileged Time</span></span> |
| <span data-ttu-id="942cd-245">Process</span><span class="sxs-lookup"><span data-stu-id="942cd-245">Process</span></span> | <span data-ttu-id="942cd-246">Pct User Time</span><span class="sxs-lookup"><span data-stu-id="942cd-246">Pct User Time</span></span> |
| <span data-ttu-id="942cd-247">Process</span><span class="sxs-lookup"><span data-stu-id="942cd-247">Process</span></span> | <span data-ttu-id="942cd-248">Used Memory kBytes</span><span class="sxs-lookup"><span data-stu-id="942cd-248">Used Memory kBytes</span></span> |
| <span data-ttu-id="942cd-249">Process</span><span class="sxs-lookup"><span data-stu-id="942cd-249">Process</span></span> | <span data-ttu-id="942cd-250">Virtual Shared Memory</span><span class="sxs-lookup"><span data-stu-id="942cd-250">Virtual Shared Memory</span></span> |
| <span data-ttu-id="942cd-251">Processor</span><span class="sxs-lookup"><span data-stu-id="942cd-251">Processor</span></span> | <span data-ttu-id="942cd-252">% DPC Time</span><span class="sxs-lookup"><span data-stu-id="942cd-252">% DPC Time</span></span> |
| <span data-ttu-id="942cd-253">Processor</span><span class="sxs-lookup"><span data-stu-id="942cd-253">Processor</span></span> | <span data-ttu-id="942cd-254">% Idle Time</span><span class="sxs-lookup"><span data-stu-id="942cd-254">% Idle Time</span></span> |
| <span data-ttu-id="942cd-255">Processor</span><span class="sxs-lookup"><span data-stu-id="942cd-255">Processor</span></span> | <span data-ttu-id="942cd-256">% Interrupt Time</span><span class="sxs-lookup"><span data-stu-id="942cd-256">% Interrupt Time</span></span> |
| <span data-ttu-id="942cd-257">Processor</span><span class="sxs-lookup"><span data-stu-id="942cd-257">Processor</span></span> | <span data-ttu-id="942cd-258">% IO Wait Time</span><span class="sxs-lookup"><span data-stu-id="942cd-258">% IO Wait Time</span></span> |
| <span data-ttu-id="942cd-259">Processor</span><span class="sxs-lookup"><span data-stu-id="942cd-259">Processor</span></span> | <span data-ttu-id="942cd-260">% Nice Time</span><span class="sxs-lookup"><span data-stu-id="942cd-260">% Nice Time</span></span> |
| <span data-ttu-id="942cd-261">Processor</span><span class="sxs-lookup"><span data-stu-id="942cd-261">Processor</span></span> | <span data-ttu-id="942cd-262">% Privileged Time</span><span class="sxs-lookup"><span data-stu-id="942cd-262">% Privileged Time</span></span> |
| <span data-ttu-id="942cd-263">Processor</span><span class="sxs-lookup"><span data-stu-id="942cd-263">Processor</span></span> | <span data-ttu-id="942cd-264">% Processor Time</span><span class="sxs-lookup"><span data-stu-id="942cd-264">% Processor Time</span></span> |
| <span data-ttu-id="942cd-265">Processor</span><span class="sxs-lookup"><span data-stu-id="942cd-265">Processor</span></span> | <span data-ttu-id="942cd-266">% User Time</span><span class="sxs-lookup"><span data-stu-id="942cd-266">% User Time</span></span> |
| <span data-ttu-id="942cd-267">System</span><span class="sxs-lookup"><span data-stu-id="942cd-267">System</span></span> | <span data-ttu-id="942cd-268">Free Physical Memory</span><span class="sxs-lookup"><span data-stu-id="942cd-268">Free Physical Memory</span></span> |
| <span data-ttu-id="942cd-269">System</span><span class="sxs-lookup"><span data-stu-id="942cd-269">System</span></span> | <span data-ttu-id="942cd-270">Free Space in Paging Files</span><span class="sxs-lookup"><span data-stu-id="942cd-270">Free Space in Paging Files</span></span> |
| <span data-ttu-id="942cd-271">System</span><span class="sxs-lookup"><span data-stu-id="942cd-271">System</span></span> | <span data-ttu-id="942cd-272">Free Virtual Memory</span><span class="sxs-lookup"><span data-stu-id="942cd-272">Free Virtual Memory</span></span> |
| <span data-ttu-id="942cd-273">System</span><span class="sxs-lookup"><span data-stu-id="942cd-273">System</span></span> | <span data-ttu-id="942cd-274">Processes</span><span class="sxs-lookup"><span data-stu-id="942cd-274">Processes</span></span> |
| <span data-ttu-id="942cd-275">System</span><span class="sxs-lookup"><span data-stu-id="942cd-275">System</span></span> | <span data-ttu-id="942cd-276">Size Stored In Paging Files</span><span class="sxs-lookup"><span data-stu-id="942cd-276">Size Stored In Paging Files</span></span> |
| <span data-ttu-id="942cd-277">System</span><span class="sxs-lookup"><span data-stu-id="942cd-277">System</span></span> | <span data-ttu-id="942cd-278">Uptime</span><span class="sxs-lookup"><span data-stu-id="942cd-278">Uptime</span></span> |
| <span data-ttu-id="942cd-279">System</span><span class="sxs-lookup"><span data-stu-id="942cd-279">System</span></span> | <span data-ttu-id="942cd-280">Users</span><span class="sxs-lookup"><span data-stu-id="942cd-280">Users</span></span> |


<span data-ttu-id="942cd-281">Following is the default configuration for performance metrics.</span><span class="sxs-lookup"><span data-stu-id="942cd-281">Following is the default configuration for performance metrics.</span></span>

    <source>
      type oms_omi
      object_name "Physical Disk"
      instance_regex ".*"
      counter_name_regex ".*"
      interval 5m
    </source>

    <source>
      type oms_omi
      object_name "Logical Disk"
      instance_regex ".*
      counter_name_regex ".*"
      interval 5m
    </source>

    <source>
      type oms_omi
      object_name "Processor"
      instance_regex ".*
      counter_name_regex ".*"
      interval 30s
    </source>

    <source>
      type oms_omi
      object_name "Memory"
      instance_regex ".*"
      counter_name_regex ".*"
      interval 30s
    </source>

## <a name="data-collection"></a><span data-ttu-id="942cd-282">Data collection</span><span class="sxs-lookup"><span data-stu-id="942cd-282">Data collection</span></span>
<span data-ttu-id="942cd-283">Log Analytics collects all specified performance counters at their specified sample interval on all agents that have that counter installed.</span><span class="sxs-lookup"><span data-stu-id="942cd-283">Log Analytics collects all specified performance counters at their specified sample interval on all agents that have that counter installed.</span></span>  <span data-ttu-id="942cd-284">The data is not aggregated, and the raw data is available in all log search views for the duration specified by your subscription.</span><span class="sxs-lookup"><span data-stu-id="942cd-284">The data is not aggregated, and the raw data is available in all log search views for the duration specified by your subscription.</span></span>

## <a name="performance-record-properties"></a><span data-ttu-id="942cd-285">Performance record properties</span><span class="sxs-lookup"><span data-stu-id="942cd-285">Performance record properties</span></span>
<span data-ttu-id="942cd-286">Performance records have a type of **Perf** and have the properties in the following table.</span><span class="sxs-lookup"><span data-stu-id="942cd-286">Performance records have a type of **Perf** and have the properties in the following table.</span></span>

| <span data-ttu-id="942cd-287">Property</span><span class="sxs-lookup"><span data-stu-id="942cd-287">Property</span></span> | <span data-ttu-id="942cd-288">Description</span><span class="sxs-lookup"><span data-stu-id="942cd-288">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="942cd-289">Computer</span><span class="sxs-lookup"><span data-stu-id="942cd-289">Computer</span></span> |<span data-ttu-id="942cd-290">Computer that the event was collected from.</span><span class="sxs-lookup"><span data-stu-id="942cd-290">Computer that the event was collected from.</span></span> |
| <span data-ttu-id="942cd-291">CounterName</span><span class="sxs-lookup"><span data-stu-id="942cd-291">CounterName</span></span> |<span data-ttu-id="942cd-292">Name of the performance counter</span><span class="sxs-lookup"><span data-stu-id="942cd-292">Name of the performance counter</span></span> |
| <span data-ttu-id="942cd-293">CounterPath</span><span class="sxs-lookup"><span data-stu-id="942cd-293">CounterPath</span></span> |<span data-ttu-id="942cd-294">Full path of the counter in the form \\\\\<Computer>\\object(instance)\\counter.</span><span class="sxs-lookup"><span data-stu-id="942cd-294">Full path of the counter in the form \\\\\<Computer>\\object(instance)\\counter.</span></span> |
| <span data-ttu-id="942cd-295">CounterValue</span><span class="sxs-lookup"><span data-stu-id="942cd-295">CounterValue</span></span> |<span data-ttu-id="942cd-296">Numeric value of the counter.</span><span class="sxs-lookup"><span data-stu-id="942cd-296">Numeric value of the counter.</span></span> |
| <span data-ttu-id="942cd-297">InstanceName</span><span class="sxs-lookup"><span data-stu-id="942cd-297">InstanceName</span></span> |<span data-ttu-id="942cd-298">Name of the event instance.</span><span class="sxs-lookup"><span data-stu-id="942cd-298">Name of the event instance.</span></span>  <span data-ttu-id="942cd-299">Empty if no instance.</span><span class="sxs-lookup"><span data-stu-id="942cd-299">Empty if no instance.</span></span> |
| <span data-ttu-id="942cd-300">ObjectName</span><span class="sxs-lookup"><span data-stu-id="942cd-300">ObjectName</span></span> |<span data-ttu-id="942cd-301">Name of the performance object</span><span class="sxs-lookup"><span data-stu-id="942cd-301">Name of the performance object</span></span> |
| <span data-ttu-id="942cd-302">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="942cd-302">SourceSystem</span></span> |<span data-ttu-id="942cd-303">Type of agent the data was collected from.</span><span class="sxs-lookup"><span data-stu-id="942cd-303">Type of agent the data was collected from.</span></span> <br><br><span data-ttu-id="942cd-304">OpsManager – Windows agent, either direct connect or SCOM</span><span class="sxs-lookup"><span data-stu-id="942cd-304">OpsManager – Windows agent, either direct connect or SCOM</span></span> <br> <span data-ttu-id="942cd-305">Linux – All Linux agents</span><span class="sxs-lookup"><span data-stu-id="942cd-305">Linux – All Linux agents</span></span>  <br> <span data-ttu-id="942cd-306">AzureStorage – Azure Diagnostics</span><span class="sxs-lookup"><span data-stu-id="942cd-306">AzureStorage – Azure Diagnostics</span></span> |
| <span data-ttu-id="942cd-307">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="942cd-307">TimeGenerated</span></span> |<span data-ttu-id="942cd-308">Date and time the data was sampled.</span><span class="sxs-lookup"><span data-stu-id="942cd-308">Date and time the data was sampled.</span></span> |

## <a name="sizing-estimates"></a><span data-ttu-id="942cd-309">Sizing estimates</span><span class="sxs-lookup"><span data-stu-id="942cd-309">Sizing estimates</span></span>
 <span data-ttu-id="942cd-310">A rough estimate for collection of a particular counter at 10-second intervals is about 1 MB per day per instance.</span><span class="sxs-lookup"><span data-stu-id="942cd-310">A rough estimate for collection of a particular counter at 10-second intervals is about 1 MB per day per instance.</span></span>  <span data-ttu-id="942cd-311">You can estimate the storage requirements of a particular counter with the following formula.</span><span class="sxs-lookup"><span data-stu-id="942cd-311">You can estimate the storage requirements of a particular counter with the following formula.</span></span>

    1 MB x (number of counters) x (number of agents) x (number of instances)

## <a name="log-searches-with-performance-records"></a><span data-ttu-id="942cd-312">Log searches with Performance records</span><span class="sxs-lookup"><span data-stu-id="942cd-312">Log searches with Performance records</span></span>
<span data-ttu-id="942cd-313">The following table provides different examples of log searches that retrieve Performance records.</span><span class="sxs-lookup"><span data-stu-id="942cd-313">The following table provides different examples of log searches that retrieve Performance records.</span></span>

| <span data-ttu-id="942cd-314">Query</span><span class="sxs-lookup"><span data-stu-id="942cd-314">Query</span></span> | <span data-ttu-id="942cd-315">Description</span><span class="sxs-lookup"><span data-stu-id="942cd-315">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="942cd-316">Perf</span><span class="sxs-lookup"><span data-stu-id="942cd-316">Perf</span></span> |<span data-ttu-id="942cd-317">All Performance data</span><span class="sxs-lookup"><span data-stu-id="942cd-317">All Performance data</span></span> |
| <span data-ttu-id="942cd-318">Perf &#124; where Computer == "MyComputer"</span><span class="sxs-lookup"><span data-stu-id="942cd-318">Perf &#124; where Computer == "MyComputer"</span></span> |<span data-ttu-id="942cd-319">All Performance data from a particular computer</span><span class="sxs-lookup"><span data-stu-id="942cd-319">All Performance data from a particular computer</span></span> |
| <span data-ttu-id="942cd-320">Perf &#124; where CounterName == "Current Disk Queue Length"</span><span class="sxs-lookup"><span data-stu-id="942cd-320">Perf &#124; where CounterName == "Current Disk Queue Length"</span></span> |<span data-ttu-id="942cd-321">All Performance data for a particular counter</span><span class="sxs-lookup"><span data-stu-id="942cd-321">All Performance data for a particular counter</span></span> |
| <span data-ttu-id="942cd-322">Perf &#124; where ObjectName == "Processor" and CounterName == "% Processor Time" and InstanceName == "_Total" &#124; summarize AVGCPU = avg(Average) by Computer</span><span class="sxs-lookup"><span data-stu-id="942cd-322">Perf &#124; where ObjectName == "Processor" and CounterName == "% Processor Time" and InstanceName == "_Total" &#124; summarize AVGCPU = avg(Average) by Computer</span></span> |<span data-ttu-id="942cd-323">Average CPU Utilization across all computers</span><span class="sxs-lookup"><span data-stu-id="942cd-323">Average CPU Utilization across all computers</span></span> |
| <span data-ttu-id="942cd-324">Perf &#124; where CounterName == "% Processor Time" &#124; summarize AggregatedValue = max(Max) by Computer</span><span class="sxs-lookup"><span data-stu-id="942cd-324">Perf &#124; where CounterName == "% Processor Time" &#124; summarize AggregatedValue = max(Max) by Computer</span></span> |<span data-ttu-id="942cd-325">Maximum CPU Utilization across all computers</span><span class="sxs-lookup"><span data-stu-id="942cd-325">Maximum CPU Utilization across all computers</span></span> |
| <span data-ttu-id="942cd-326">Perf &#124; where ObjectName == "LogicalDisk" and CounterName == "Current Disk Queue Length" and Computer == "MyComputerName" &#124; summarize AggregatedValue = avg(Average) by InstanceName</span><span class="sxs-lookup"><span data-stu-id="942cd-326">Perf &#124; where ObjectName == "LogicalDisk" and CounterName == "Current Disk Queue Length" and Computer == "MyComputerName" &#124; summarize AggregatedValue = avg(Average) by InstanceName</span></span> |<span data-ttu-id="942cd-327">Average Current Disk Queue length across all  the instances of a given computer</span><span class="sxs-lookup"><span data-stu-id="942cd-327">Average Current Disk Queue length across all  the instances of a given computer</span></span> |
| <span data-ttu-id="942cd-328">Perf &#124; where CounterName == "DiskTransfers/sec" &#124; summarize AggregatedValue = percentile(Average, 95) by Computer</span><span class="sxs-lookup"><span data-stu-id="942cd-328">Perf &#124; where CounterName == "DiskTransfers/sec" &#124; summarize AggregatedValue = percentile(Average, 95) by Computer</span></span> |<span data-ttu-id="942cd-329">95th Percentile of Disk Transfers/Sec across all computers</span><span class="sxs-lookup"><span data-stu-id="942cd-329">95th Percentile of Disk Transfers/Sec across all computers</span></span> |
| <span data-ttu-id="942cd-330">Perf &#124; where CounterName == "% Processor Time" and InstanceName == "_Total" &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), Computer</span><span class="sxs-lookup"><span data-stu-id="942cd-330">Perf &#124; where CounterName == "% Processor Time" and InstanceName == "_Total" &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), Computer</span></span> |<span data-ttu-id="942cd-331">Hourly average of CPU usage across all computers</span><span class="sxs-lookup"><span data-stu-id="942cd-331">Hourly average of CPU usage across all computers</span></span> |
| <span data-ttu-id="942cd-332">Perf &#124; where Computer == "MyComputer" and CounterName startswith_cs "%" and InstanceName == "_Total" &#124; summarize AggregatedValue = percentile(CounterValue, 70) by bin(TimeGenerated, 1h), CounterName</span><span class="sxs-lookup"><span data-stu-id="942cd-332">Perf &#124; where Computer == "MyComputer" and CounterName startswith_cs "%" and InstanceName == "_Total" &#124; summarize AggregatedValue = percentile(CounterValue, 70) by bin(TimeGenerated, 1h), CounterName</span></span> | <span data-ttu-id="942cd-333">Hourly 70 percentile of every % percent counter for a particular computer</span><span class="sxs-lookup"><span data-stu-id="942cd-333">Hourly 70 percentile of every % percent counter for a particular computer</span></span> |
| <span data-ttu-id="942cd-334">Perf &#124; where CounterName == "% Processor Time" and InstanceName == "_Total" and Computer == "MyComputer" &#124; summarize ["min(CounterValue)"] = min(CounterValue), ["avg(CounterValue)"] = avg(CounterValue), ["percentile75(CounterValue)"] = percentile(CounterValue, 75), ["max(CounterValue)"] = max(CounterValue) by bin(TimeGenerated, 1h), Computer</span><span class="sxs-lookup"><span data-stu-id="942cd-334">Perf &#124; where CounterName == "% Processor Time" and InstanceName == "_Total" and Computer == "MyComputer" &#124; summarize ["min(CounterValue)"] = min(CounterValue), ["avg(CounterValue)"] = avg(CounterValue), ["percentile75(CounterValue)"] = percentile(CounterValue, 75), ["max(CounterValue)"] = max(CounterValue) by bin(TimeGenerated, 1h), Computer</span></span> |<span data-ttu-id="942cd-335">Hourly average, minimum, maximum, and 75-percentile CPU usage for a specific computer</span><span class="sxs-lookup"><span data-stu-id="942cd-335">Hourly average, minimum, maximum, and 75-percentile CPU usage for a specific computer</span></span> |
| <span data-ttu-id="942cd-336">Perf &#124; where ObjectName == "MSSQL$INST2:Databases" and InstanceName == "master"</span><span class="sxs-lookup"><span data-stu-id="942cd-336">Perf &#124; where ObjectName == "MSSQL$INST2:Databases" and InstanceName == "master"</span></span> | <span data-ttu-id="942cd-337">All Performance data from the Database performance object for the master database from the named SQL Server instance INST2.</span><span class="sxs-lookup"><span data-stu-id="942cd-337">All Performance data from the Database performance object for the master database from the named SQL Server instance INST2.</span></span>  




## <a name="next-steps"></a><span data-ttu-id="942cd-338">Next steps</span><span class="sxs-lookup"><span data-stu-id="942cd-338">Next steps</span></span>
* <span data-ttu-id="942cd-339">[Collect performance counters from Linux applications](log-analytics-data-sources-linux-applications.md) including MySQL and Apache HTTP Server.</span><span class="sxs-lookup"><span data-stu-id="942cd-339">[Collect performance counters from Linux applications](log-analytics-data-sources-linux-applications.md) including MySQL and Apache HTTP Server.</span></span>
* <span data-ttu-id="942cd-340">Learn about [log searches](log-analytics-log-searches.md) to analyze the data collected from data sources and solutions.</span><span class="sxs-lookup"><span data-stu-id="942cd-340">Learn about [log searches](log-analytics-log-searches.md) to analyze the data collected from data sources and solutions.</span></span>  
* <span data-ttu-id="942cd-341">Export collected data to [Power BI](log-analytics-powerbi.md) for additional visualizations and analysis.</span><span class="sxs-lookup"><span data-stu-id="942cd-341">Export collected data to [Power BI](log-analytics-powerbi.md) for additional visualizations and analysis.</span></span>
