---
title: Azure Database for MySQL Server VNet services endpoint overview | Microsoft Docs
description: Describes how VNet service endpoints work for your Azure Database for MySQL server.
services: mysql
author: mbolz
ms.author: mbolz
manager: jhubbard
editor: jasonwhowell
ms.service: mysql
ms.topic: conceptual
ms.date: 08/20/2018
ms.openlocfilehash: f18f52fc409df769d164607a128caaf02ead5e4b
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44866756"
---
# <a name="use-virtual-network-service-endpoints-and-rules-for-azure-database-for-mysql"></a><span data-ttu-id="1c238-103">Use Virtual Network service endpoints and rules for Azure Database for MySQL</span><span class="sxs-lookup"><span data-stu-id="1c238-103">Use Virtual Network service endpoints and rules for Azure Database for MySQL</span></span>

<span data-ttu-id="1c238-104">*Virtual network rules* are one firewall security feature that controls whether your Azure Database for MySQL server accepts communications that are sent from particular subnets in virtual networks.</span><span class="sxs-lookup"><span data-stu-id="1c238-104">*Virtual network rules* are one firewall security feature that controls whether your Azure Database for MySQL server accepts communications that are sent from particular subnets in virtual networks.</span></span> <span data-ttu-id="1c238-105">This article explains why the virtual network rule feature is sometimes your best option for securely allowing communication to your Azure Database for MySQL server.</span><span class="sxs-lookup"><span data-stu-id="1c238-105">This article explains why the virtual network rule feature is sometimes your best option for securely allowing communication to your Azure Database for MySQL server.</span></span>

<span data-ttu-id="1c238-106">To create a virtual network rule, there must first be a [virtual network][vm-virtual-network-overview] (VNet) and a [virtual network service endpoint][vm-virtual-network-service-endpoints-overview-649d] for the rule to reference.</span><span class="sxs-lookup"><span data-stu-id="1c238-106">To create a virtual network rule, there must first be a [virtual network][vm-virtual-network-overview] (VNet) and a [virtual network service endpoint][vm-virtual-network-service-endpoints-overview-649d] for the rule to reference.</span></span> <span data-ttu-id="1c238-107">The following picture illustrates how a Virtual Network service endpoint works with Azure Database for MySQL:</span><span class="sxs-lookup"><span data-stu-id="1c238-107">The following picture illustrates how a Virtual Network service endpoint works with Azure Database for MySQL:</span></span>

![Example of how a VNet Service Endpoint works](media/concepts-data-access-and-security-vnet/vnet-concept.png)

> [!NOTE]
> <span data-ttu-id="1c238-109">This feature is available in all regions of Azure where Azure Database for MySQL is deployed for General Purpose and Memory Optimized servers.</span><span class="sxs-lookup"><span data-stu-id="1c238-109">This feature is available in all regions of Azure where Azure Database for MySQL is deployed for General Purpose and Memory Optimized servers.</span></span>

<a name="anch-terminology-and-description-82f" />

## <a name="terminology-and-description"></a><span data-ttu-id="1c238-110">Terminology and description</span><span class="sxs-lookup"><span data-stu-id="1c238-110">Terminology and description</span></span>

<span data-ttu-id="1c238-111">**Virtual network:** You can have virtual networks associated with your Azure subscription.</span><span class="sxs-lookup"><span data-stu-id="1c238-111">**Virtual network:** You can have virtual networks associated with your Azure subscription.</span></span>

<span data-ttu-id="1c238-112">**Subnet:** A virtual network contains **subnets**.</span><span class="sxs-lookup"><span data-stu-id="1c238-112">**Subnet:** A virtual network contains **subnets**.</span></span> <span data-ttu-id="1c238-113">Any Azure virtual machines (VMs) that you have are assigned to subnets.</span><span class="sxs-lookup"><span data-stu-id="1c238-113">Any Azure virtual machines (VMs) that you have are assigned to subnets.</span></span> <span data-ttu-id="1c238-114">One subnet can contain multiple VMs or other compute nodes.</span><span class="sxs-lookup"><span data-stu-id="1c238-114">One subnet can contain multiple VMs or other compute nodes.</span></span> <span data-ttu-id="1c238-115">Compute nodes that are outside of your virtual network cannot access your virtual network unless you configure your security to allow access.</span><span class="sxs-lookup"><span data-stu-id="1c238-115">Compute nodes that are outside of your virtual network cannot access your virtual network unless you configure your security to allow access.</span></span>

<span data-ttu-id="1c238-116">**Virtual Network service endpoint:** A [Virtual Network service endpoint][vm-virtual-network-service-endpoints-overview-649d] is a subnet whose property values include one or more formal Azure service type names.</span><span class="sxs-lookup"><span data-stu-id="1c238-116">**Virtual Network service endpoint:** A [Virtual Network service endpoint][vm-virtual-network-service-endpoints-overview-649d] is a subnet whose property values include one or more formal Azure service type names.</span></span> <span data-ttu-id="1c238-117">In this article we are interested in the type name of **Microsoft.Sql**, which refers to the Azure service named SQL Database.</span><span class="sxs-lookup"><span data-stu-id="1c238-117">In this article we are interested in the type name of **Microsoft.Sql**, which refers to the Azure service named SQL Database.</span></span> <span data-ttu-id="1c238-118">This service tag also applies to the Azure Database for MySQL and PostgreSQL services.</span><span class="sxs-lookup"><span data-stu-id="1c238-118">This service tag also applies to the Azure Database for MySQL and PostgreSQL services.</span></span> <span data-ttu-id="1c238-119">It is important to note when applying the **Microsoft.Sql** service tag to a VNet service endpoint it will configure service endpoint traffic for all Azure SQL Database, Azure Database for MySQL and Azure Database for PostgreSQL servers on the subnet.</span><span class="sxs-lookup"><span data-stu-id="1c238-119">It is important to note when applying the **Microsoft.Sql** service tag to a VNet service endpoint it will configure service endpoint traffic for all Azure SQL Database, Azure Database for MySQL and Azure Database for PostgreSQL servers on the subnet.</span></span> 

<span data-ttu-id="1c238-120">**Virtual network rule:** A virtual network rule for your Azure Database for MySQL server is a subnet that is listed in the access control list (ACL) of your Azure Database for MySQL server.</span><span class="sxs-lookup"><span data-stu-id="1c238-120">**Virtual network rule:** A virtual network rule for your Azure Database for MySQL server is a subnet that is listed in the access control list (ACL) of your Azure Database for MySQL server.</span></span> <span data-ttu-id="1c238-121">To be in the ACL for your Azure Database for MySQL server, the subnet must contain the **Microsoft.Sql** type name.</span><span class="sxs-lookup"><span data-stu-id="1c238-121">To be in the ACL for your Azure Database for MySQL server, the subnet must contain the **Microsoft.Sql** type name.</span></span>

<span data-ttu-id="1c238-122">A virtual network rule tells your Azure Database for MySQL server to accept communications from every node that is on the subnet.</span><span class="sxs-lookup"><span data-stu-id="1c238-122">A virtual network rule tells your Azure Database for MySQL server to accept communications from every node that is on the subnet.</span></span>







<a name="anch-benefits-of-a-vnet-rule-68b" />

## <a name="benefits-of-a-virtual-network-rule"></a><span data-ttu-id="1c238-123">Benefits of a virtual network rule</span><span class="sxs-lookup"><span data-stu-id="1c238-123">Benefits of a virtual network rule</span></span>

<span data-ttu-id="1c238-124">Until you take action, the VMs on your subnets cannot communicate with your Azure Database for MySQL server.</span><span class="sxs-lookup"><span data-stu-id="1c238-124">Until you take action, the VMs on your subnets cannot communicate with your Azure Database for MySQL server.</span></span> <span data-ttu-id="1c238-125">One action that establishes the communication is the creation of a virtual network rule.</span><span class="sxs-lookup"><span data-stu-id="1c238-125">One action that establishes the communication is the creation of a virtual network rule.</span></span> <span data-ttu-id="1c238-126">The rationale for choosing the VNet rule approach requires a compare-and-contrast discussion involving the competing security options offered by the firewall.</span><span class="sxs-lookup"><span data-stu-id="1c238-126">The rationale for choosing the VNet rule approach requires a compare-and-contrast discussion involving the competing security options offered by the firewall.</span></span>

### <a name="a-allow-access-to-azure-services"></a><span data-ttu-id="1c238-127">A.</span><span class="sxs-lookup"><span data-stu-id="1c238-127">A.</span></span> <span data-ttu-id="1c238-128">Allow access to Azure services</span><span class="sxs-lookup"><span data-stu-id="1c238-128">Allow access to Azure services</span></span>

<span data-ttu-id="1c238-129">The Connection security pane has an **ON/OFF** button that is labeled **Allow access to Azure services**.</span><span class="sxs-lookup"><span data-stu-id="1c238-129">The Connection security pane has an **ON/OFF** button that is labeled **Allow access to Azure services**.</span></span> <span data-ttu-id="1c238-130">The **ON** setting allows communications from all Azure IP addresses and all Azure subnets.</span><span class="sxs-lookup"><span data-stu-id="1c238-130">The **ON** setting allows communications from all Azure IP addresses and all Azure subnets.</span></span> <span data-ttu-id="1c238-131">These Azure IPs or subnets might not be owned by you.</span><span class="sxs-lookup"><span data-stu-id="1c238-131">These Azure IPs or subnets might not be owned by you.</span></span> <span data-ttu-id="1c238-132">This **ON** setting is probably more open than you want your Azure Database for MySQL Database to be.</span><span class="sxs-lookup"><span data-stu-id="1c238-132">This **ON** setting is probably more open than you want your Azure Database for MySQL Database to be.</span></span> <span data-ttu-id="1c238-133">The virtual network rule feature offers much finer granular control.</span><span class="sxs-lookup"><span data-stu-id="1c238-133">The virtual network rule feature offers much finer granular control.</span></span>

### <a name="b-ip-rules"></a><span data-ttu-id="1c238-134">B.</span><span class="sxs-lookup"><span data-stu-id="1c238-134">B.</span></span> <span data-ttu-id="1c238-135">IP rules</span><span class="sxs-lookup"><span data-stu-id="1c238-135">IP rules</span></span>

<span data-ttu-id="1c238-136">The Azure Database for MySQL firewall allows you to specify IP address ranges from which communications are accepted into the Azure Database for MySQL Database.</span><span class="sxs-lookup"><span data-stu-id="1c238-136">The Azure Database for MySQL firewall allows you to specify IP address ranges from which communications are accepted into the Azure Database for MySQL Database.</span></span> <span data-ttu-id="1c238-137">This approach is fine for stable IP addresses that are outside the Azure private network.</span><span class="sxs-lookup"><span data-stu-id="1c238-137">This approach is fine for stable IP addresses that are outside the Azure private network.</span></span> <span data-ttu-id="1c238-138">But many nodes inside the Azure private network are configured with *dynamic* IP addresses.</span><span class="sxs-lookup"><span data-stu-id="1c238-138">But many nodes inside the Azure private network are configured with *dynamic* IP addresses.</span></span> <span data-ttu-id="1c238-139">Dynamic IP addresses might change, such as when your VM is restarted.</span><span class="sxs-lookup"><span data-stu-id="1c238-139">Dynamic IP addresses might change, such as when your VM is restarted.</span></span> <span data-ttu-id="1c238-140">It would be folly to specify a dynamic IP address in a firewall rule, in a production environment.</span><span class="sxs-lookup"><span data-stu-id="1c238-140">It would be folly to specify a dynamic IP address in a firewall rule, in a production environment.</span></span>

<span data-ttu-id="1c238-141">You can salvage the IP option by obtaining a *static* IP address for your VM.</span><span class="sxs-lookup"><span data-stu-id="1c238-141">You can salvage the IP option by obtaining a *static* IP address for your VM.</span></span> <span data-ttu-id="1c238-142">For details, see [Configure private IP addresses for a virtual machine by using the Azure portal][vm-configure-private-ip-addresses-for-a-virtual-machine-using-the-azure-portal-321w].</span><span class="sxs-lookup"><span data-stu-id="1c238-142">For details, see [Configure private IP addresses for a virtual machine by using the Azure portal][vm-configure-private-ip-addresses-for-a-virtual-machine-using-the-azure-portal-321w].</span></span>

<span data-ttu-id="1c238-143">However, the static IP approach can become difficult to manage, and it is costly when done at scale.</span><span class="sxs-lookup"><span data-stu-id="1c238-143">However, the static IP approach can become difficult to manage, and it is costly when done at scale.</span></span> <span data-ttu-id="1c238-144">Virtual network rules are easier to establish and to manage.</span><span class="sxs-lookup"><span data-stu-id="1c238-144">Virtual network rules are easier to establish and to manage.</span></span>

### <a name="c-cannot-yet-have-azure-database-for-mysql-on-a-subnet-without-defining-a-service-endpoint"></a><span data-ttu-id="1c238-145">C.</span><span class="sxs-lookup"><span data-stu-id="1c238-145">C.</span></span> <span data-ttu-id="1c238-146">Cannot yet have Azure Database for MySQL on a subnet without defining a service endpoint</span><span class="sxs-lookup"><span data-stu-id="1c238-146">Cannot yet have Azure Database for MySQL on a subnet without defining a service endpoint</span></span>

<span data-ttu-id="1c238-147">If your **Microsoft.Sql** server was a node on a subnet in your virtual network, all nodes within the virtual network could communicate with your Azure Database for MySQL server.</span><span class="sxs-lookup"><span data-stu-id="1c238-147">If your **Microsoft.Sql** server was a node on a subnet in your virtual network, all nodes within the virtual network could communicate with your Azure Database for MySQL server.</span></span> <span data-ttu-id="1c238-148">In this case, your VMs could communicate with Azure Database for MySQL without needing any virtual network rules or IP rules.</span><span class="sxs-lookup"><span data-stu-id="1c238-148">In this case, your VMs could communicate with Azure Database for MySQL without needing any virtual network rules or IP rules.</span></span>

<span data-ttu-id="1c238-149">However as of August 2018, the Azure Database for MySQL service is not yet among the services that can be assigned directly to a subnet.</span><span class="sxs-lookup"><span data-stu-id="1c238-149">However as of August 2018, the Azure Database for MySQL service is not yet among the services that can be assigned directly to a subnet.</span></span>

<a name="anch-details-about-vnet-rules-38q" />

## <a name="details-about-virtual-network-rules"></a><span data-ttu-id="1c238-150">Details about virtual network rules</span><span class="sxs-lookup"><span data-stu-id="1c238-150">Details about virtual network rules</span></span>

<span data-ttu-id="1c238-151">This section describes several details about virtual network rules.</span><span class="sxs-lookup"><span data-stu-id="1c238-151">This section describes several details about virtual network rules.</span></span>

### <a name="only-one-geographic-region"></a><span data-ttu-id="1c238-152">Only one geographic region</span><span class="sxs-lookup"><span data-stu-id="1c238-152">Only one geographic region</span></span>

<span data-ttu-id="1c238-153">Each Virtual Network service endpoint applies to only one Azure region.</span><span class="sxs-lookup"><span data-stu-id="1c238-153">Each Virtual Network service endpoint applies to only one Azure region.</span></span> <span data-ttu-id="1c238-154">The endpoint does not enable other regions to accept communication from the subnet.</span><span class="sxs-lookup"><span data-stu-id="1c238-154">The endpoint does not enable other regions to accept communication from the subnet.</span></span>

<span data-ttu-id="1c238-155">Any virtual network rule is limited to the region that its underlying endpoint applies to.</span><span class="sxs-lookup"><span data-stu-id="1c238-155">Any virtual network rule is limited to the region that its underlying endpoint applies to.</span></span>

### <a name="server-level-not-database-level"></a><span data-ttu-id="1c238-156">Server-level, not database-level</span><span class="sxs-lookup"><span data-stu-id="1c238-156">Server-level, not database-level</span></span>

<span data-ttu-id="1c238-157">Each virtual network rule applies to your whole Azure Database for MySQL server, not just to one particular database on the server.</span><span class="sxs-lookup"><span data-stu-id="1c238-157">Each virtual network rule applies to your whole Azure Database for MySQL server, not just to one particular database on the server.</span></span> <span data-ttu-id="1c238-158">In other words, virtual network rule applies at the server-level, not at the database-level.</span><span class="sxs-lookup"><span data-stu-id="1c238-158">In other words, virtual network rule applies at the server-level, not at the database-level.</span></span>

### <a name="security-administration-roles"></a><span data-ttu-id="1c238-159">Security administration roles</span><span class="sxs-lookup"><span data-stu-id="1c238-159">Security administration roles</span></span>

<span data-ttu-id="1c238-160">There is a separation of security roles in the administration of Virtual Network service endpoints.</span><span class="sxs-lookup"><span data-stu-id="1c238-160">There is a separation of security roles in the administration of Virtual Network service endpoints.</span></span> <span data-ttu-id="1c238-161">Action is required from each of the following roles:</span><span class="sxs-lookup"><span data-stu-id="1c238-161">Action is required from each of the following roles:</span></span>

- <span data-ttu-id="1c238-162">**Network Admin:** &nbsp; Turn on the endpoint.</span><span class="sxs-lookup"><span data-stu-id="1c238-162">**Network Admin:** &nbsp; Turn on the endpoint.</span></span>
- <span data-ttu-id="1c238-163">**Database Admin:** &nbsp; Update the access control list (ACL) to add the given subnet to the Azure Database for MySQL server.</span><span class="sxs-lookup"><span data-stu-id="1c238-163">**Database Admin:** &nbsp; Update the access control list (ACL) to add the given subnet to the Azure Database for MySQL server.</span></span>

<span data-ttu-id="1c238-164">*RBAC alternative:*</span><span class="sxs-lookup"><span data-stu-id="1c238-164">*RBAC alternative:*</span></span>

<span data-ttu-id="1c238-165">The roles of Network Admin and Database Admin have more capabilities than are needed to manage virtual network rules.</span><span class="sxs-lookup"><span data-stu-id="1c238-165">The roles of Network Admin and Database Admin have more capabilities than are needed to manage virtual network rules.</span></span> <span data-ttu-id="1c238-166">Only a subset of their capabilities is needed.</span><span class="sxs-lookup"><span data-stu-id="1c238-166">Only a subset of their capabilities is needed.</span></span>

<span data-ttu-id="1c238-167">You have the option of using [role-based access control (RBAC)][rbac-what-is-813s] in Azure to create a single custom role that has only the necessary subset of capabilities.</span><span class="sxs-lookup"><span data-stu-id="1c238-167">You have the option of using [role-based access control (RBAC)][rbac-what-is-813s] in Azure to create a single custom role that has only the necessary subset of capabilities.</span></span> <span data-ttu-id="1c238-168">The custom role could be used instead of involving either the Network Admin or the Database Admin. The surface area of your security exposure is lower if you add a user to a custom role, versus adding the user to the other two major administrator roles.</span><span class="sxs-lookup"><span data-stu-id="1c238-168">The custom role could be used instead of involving either the Network Admin or the Database Admin. The surface area of your security exposure is lower if you add a user to a custom role, versus adding the user to the other two major administrator roles.</span></span>

> [!NOTE]
> <span data-ttu-id="1c238-169">In some cases the Azure Database for MySQL and the VNet-subnet are in different subscriptions.</span><span class="sxs-lookup"><span data-stu-id="1c238-169">In some cases the Azure Database for MySQL and the VNet-subnet are in different subscriptions.</span></span> <span data-ttu-id="1c238-170">In these cases you must ensure the following configurations:</span><span class="sxs-lookup"><span data-stu-id="1c238-170">In these cases you must ensure the following configurations:</span></span>
> - <span data-ttu-id="1c238-171">Both subscriptions must be in the same Azure Active Directory tenant.</span><span class="sxs-lookup"><span data-stu-id="1c238-171">Both subscriptions must be in the same Azure Active Directory tenant.</span></span>
> - <span data-ttu-id="1c238-172">The user has the required permissions to initiate operations, such as enabling service endpoints and adding a VNet-subnet to the given Server.</span><span class="sxs-lookup"><span data-stu-id="1c238-172">The user has the required permissions to initiate operations, such as enabling service endpoints and adding a VNet-subnet to the given Server.</span></span>

## <a name="limitations"></a><span data-ttu-id="1c238-173">Limitations</span><span class="sxs-lookup"><span data-stu-id="1c238-173">Limitations</span></span>

<span data-ttu-id="1c238-174">For Azure Database for MySQL, the virtual network rules feature has the following limitations:</span><span class="sxs-lookup"><span data-stu-id="1c238-174">For Azure Database for MySQL, the virtual network rules feature has the following limitations:</span></span>

- <span data-ttu-id="1c238-175">In the firewall for your Azure Database for MySQL, each virtual network rule references a subnet.</span><span class="sxs-lookup"><span data-stu-id="1c238-175">In the firewall for your Azure Database for MySQL, each virtual network rule references a subnet.</span></span> <span data-ttu-id="1c238-176">All these referenced subnets must be hosted in the same geographic region that hosts the Azure Database for MySQL.</span><span class="sxs-lookup"><span data-stu-id="1c238-176">All these referenced subnets must be hosted in the same geographic region that hosts the Azure Database for MySQL.</span></span>

- <span data-ttu-id="1c238-177">Each Azure Database for MySQL server can have up to 128 ACL entries for any given virtual network.</span><span class="sxs-lookup"><span data-stu-id="1c238-177">Each Azure Database for MySQL server can have up to 128 ACL entries for any given virtual network.</span></span>

- <span data-ttu-id="1c238-178">Virtual network rules apply only to Azure Resource Manager virtual networks; and not to [classic deployment model][arm-deployment-model-568f] networks.</span><span class="sxs-lookup"><span data-stu-id="1c238-178">Virtual network rules apply only to Azure Resource Manager virtual networks; and not to [classic deployment model][arm-deployment-model-568f] networks.</span></span>

- <span data-ttu-id="1c238-179">Turning ON virtual network service endpoints to Azure Database for MySQL using the **Microsoft.Sql** service tag also enables the endpoints for all Azure Database services: Azure Database for MySQL, Azure Database for PostgreSQL, Azure SQL Database and Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="1c238-179">Turning ON virtual network service endpoints to Azure Database for MySQL using the **Microsoft.Sql** service tag also enables the endpoints for all Azure Database services: Azure Database for MySQL, Azure Database for PostgreSQL, Azure SQL Database and Azure SQL Data Warehouse.</span></span>

- <span data-ttu-id="1c238-180">Support for VNet service endpoints is only for General Purpose and Memory Optimized servers.</span><span class="sxs-lookup"><span data-stu-id="1c238-180">Support for VNet service endpoints is only for General Purpose and Memory Optimized servers.</span></span>

- <span data-ttu-id="1c238-181">On the firewall, IP address ranges do apply to the following networking items, but virtual network rules do not:</span><span class="sxs-lookup"><span data-stu-id="1c238-181">On the firewall, IP address ranges do apply to the following networking items, but virtual network rules do not:</span></span>
    - <span data-ttu-id="1c238-182">[Site-to-Site (S2S) virtual private network (VPN)][vpn-gateway-indexmd-608y]</span><span class="sxs-lookup"><span data-stu-id="1c238-182">[Site-to-Site (S2S) virtual private network (VPN)][vpn-gateway-indexmd-608y]</span></span>
    - <span data-ttu-id="1c238-183">On-premises via [ExpressRoute][expressroute-indexmd-744v]</span><span class="sxs-lookup"><span data-stu-id="1c238-183">On-premises via [ExpressRoute][expressroute-indexmd-744v]</span></span>

## <a name="expressroute"></a><span data-ttu-id="1c238-184">ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="1c238-184">ExpressRoute</span></span>

<span data-ttu-id="1c238-185">If your network is connected to the Azure network through use of [ExpressRoute][expressroute-indexmd-744v], each circuit is configured with two public IP addresses at the Microsoft Edge.</span><span class="sxs-lookup"><span data-stu-id="1c238-185">If your network is connected to the Azure network through use of [ExpressRoute][expressroute-indexmd-744v], each circuit is configured with two public IP addresses at the Microsoft Edge.</span></span> <span data-ttu-id="1c238-186">The two IP addresses are used to connect to Microsoft Services, such as to Azure Storage, by using Azure Public Peering.</span><span class="sxs-lookup"><span data-stu-id="1c238-186">The two IP addresses are used to connect to Microsoft Services, such as to Azure Storage, by using Azure Public Peering.</span></span>

<span data-ttu-id="1c238-187">To allow communication from your circuit to Azure Database for MySQL, you must create IP network rules for the public IP addresses of your circuits.</span><span class="sxs-lookup"><span data-stu-id="1c238-187">To allow communication from your circuit to Azure Database for MySQL, you must create IP network rules for the public IP addresses of your circuits.</span></span> <span data-ttu-id="1c238-188">In order to find the public IP addresses of your ExpressRoute circuit, open a support ticket with ExpressRoute by using the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="1c238-188">In order to find the public IP addresses of your ExpressRoute circuit, open a support ticket with ExpressRoute by using the Azure portal.</span></span>

## <a name="adding-a-vnet-firewall-rule-to-your-server-without-turning-on-vnet-service-endpoints"></a><span data-ttu-id="1c238-189">Adding a VNET Firewall rule to your server without turning On VNET Service Endpoints</span><span class="sxs-lookup"><span data-stu-id="1c238-189">Adding a VNET Firewall rule to your server without turning On VNET Service Endpoints</span></span>

<span data-ttu-id="1c238-190">Merely setting a Firewall rule does not help secure the server to the VNet.</span><span class="sxs-lookup"><span data-stu-id="1c238-190">Merely setting a Firewall rule does not help secure the server to the VNet.</span></span> <span data-ttu-id="1c238-191">You must also turn VNet service endpoints **On** for the security to take effect.</span><span class="sxs-lookup"><span data-stu-id="1c238-191">You must also turn VNet service endpoints **On** for the security to take effect.</span></span> <span data-ttu-id="1c238-192">When you turn service endpoints **On**, your VNet-subnet experiences downtime until it completes the transition from **Off** to **On**.</span><span class="sxs-lookup"><span data-stu-id="1c238-192">When you turn service endpoints **On**, your VNet-subnet experiences downtime until it completes the transition from **Off** to **On**.</span></span> <span data-ttu-id="1c238-193">This is especially true in the context of large VNets.</span><span class="sxs-lookup"><span data-stu-id="1c238-193">This is especially true in the context of large VNets.</span></span> <span data-ttu-id="1c238-194">You can use the **IgnoreMissingServiceEndpoint** flag to reduce or eliminate the downtime during transition.</span><span class="sxs-lookup"><span data-stu-id="1c238-194">You can use the **IgnoreMissingServiceEndpoint** flag to reduce or eliminate the downtime during transition.</span></span>

<span data-ttu-id="1c238-195">You can set the **IgnoreMissingServiceEndpoint** flag by using the Azure CLI or portal.</span><span class="sxs-lookup"><span data-stu-id="1c238-195">You can set the **IgnoreMissingServiceEndpoint** flag by using the Azure CLI or portal.</span></span>

## <a name="related-articles"></a><span data-ttu-id="1c238-196">Related articles</span><span class="sxs-lookup"><span data-stu-id="1c238-196">Related articles</span></span>
- <span data-ttu-id="1c238-197">[Azure virtual networks][vm-virtual-network-overview]</span><span class="sxs-lookup"><span data-stu-id="1c238-197">[Azure virtual networks][vm-virtual-network-overview]</span></span>
- <span data-ttu-id="1c238-198">[Azure virtual network service endpoints][vm-virtual-network-service-endpoints-overview-649d]</span><span class="sxs-lookup"><span data-stu-id="1c238-198">[Azure virtual network service endpoints][vm-virtual-network-service-endpoints-overview-649d]</span></span>

## <a name="next-steps"></a><span data-ttu-id="1c238-199">Next steps</span><span class="sxs-lookup"><span data-stu-id="1c238-199">Next steps</span></span>
<span data-ttu-id="1c238-200">For articles on creating VNet rules, see:</span><span class="sxs-lookup"><span data-stu-id="1c238-200">For articles on creating VNet rules, see:</span></span>
- [<span data-ttu-id="1c238-201">Create and manage Azure Database for MySQL VNet rules using the Azure portal</span><span class="sxs-lookup"><span data-stu-id="1c238-201">Create and manage Azure Database for MySQL VNet rules using the Azure portal</span></span>](howto-manage-vnet-using-portal.md)
- [<span data-ttu-id="1c238-202">Create and manage Azure Database for MySQL VNet rules using Azure CLI</span><span class="sxs-lookup"><span data-stu-id="1c238-202">Create and manage Azure Database for MySQL VNet rules using Azure CLI</span></span>](howto-manage-vnet-using-cli.md)

<!-- Link references, to text, Within this same Github repo. -->
[arm-deployment-model-568f]: ../azure-resource-manager/resource-manager-deployment-model.md

[vm-virtual-network-overview]: ../virtual-network/virtual-networks-overview.md

[vm-virtual-network-service-endpoints-overview-649d]: ../virtual-network/virtual-network-service-endpoints-overview.md

[vm-configure-private-ip-addresses-for-a-virtual-machine-using-the-azure-portal-321w]: ../virtual-network/virtual-networks-static-private-ip-arm-pportal.md

[rbac-what-is-813s]: ../active-directory/role-based-access-control-what-is.md

[vpn-gateway-indexmd-608y]: ../vpn-gateway/index.yml

[expressroute-indexmd-744v]: ../expressroute/index.yml