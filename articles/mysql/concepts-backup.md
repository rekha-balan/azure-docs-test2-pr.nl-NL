---
title: Backup and restore in Azure Database for MySQL
description: Learn about automatic backups and restoring your Azure Database for MySQL server.
services: mysql
author: ajlam
ms.author: andrela
manager: kfile
editor: jasonwhowell
ms.service: mysql
ms.topic: article
ms.date: 02/28/2018
ms.openlocfilehash: e9e02201066c5587b6ef1db59824031f46978247
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44966961"
---
# <a name="backup-and-restore-in-azure-database-for-mysql"></a><span data-ttu-id="9c5df-103">Backup and restore in Azure Database for MySQL</span><span class="sxs-lookup"><span data-stu-id="9c5df-103">Backup and restore in Azure Database for MySQL</span></span>

<span data-ttu-id="9c5df-104">Azure Database for MySQL automatically creates server backups and stores them in user configured locally redundant or geo-redundant storage.</span><span class="sxs-lookup"><span data-stu-id="9c5df-104">Azure Database for MySQL automatically creates server backups and stores them in user configured locally redundant or geo-redundant storage.</span></span> <span data-ttu-id="9c5df-105">Backups can be used to restore your server to a point-in-time.</span><span class="sxs-lookup"><span data-stu-id="9c5df-105">Backups can be used to restore your server to a point-in-time.</span></span> <span data-ttu-id="9c5df-106">Backup and restore are an essential part of any business continuity strategy because they protect your data from accidental corruption or deletion.</span><span class="sxs-lookup"><span data-stu-id="9c5df-106">Backup and restore are an essential part of any business continuity strategy because they protect your data from accidental corruption or deletion.</span></span>

## <a name="backups"></a><span data-ttu-id="9c5df-107">Backups</span><span class="sxs-lookup"><span data-stu-id="9c5df-107">Backups</span></span>

<span data-ttu-id="9c5df-108">Azure Database for MySQL takes full, differential, and transaction log backups.</span><span class="sxs-lookup"><span data-stu-id="9c5df-108">Azure Database for MySQL takes full, differential, and transaction log backups.</span></span> <span data-ttu-id="9c5df-109">These backups allow you to restore a server to any point-in-time within your configured backup retention period.</span><span class="sxs-lookup"><span data-stu-id="9c5df-109">These backups allow you to restore a server to any point-in-time within your configured backup retention period.</span></span> <span data-ttu-id="9c5df-110">The default backup retention period is seven days.</span><span class="sxs-lookup"><span data-stu-id="9c5df-110">The default backup retention period is seven days.</span></span> <span data-ttu-id="9c5df-111">You can optionally configure it up to 35 days.</span><span class="sxs-lookup"><span data-stu-id="9c5df-111">You can optionally configure it up to 35 days.</span></span> <span data-ttu-id="9c5df-112">All backups are encrypted using AES 256-bit encryption.</span><span class="sxs-lookup"><span data-stu-id="9c5df-112">All backups are encrypted using AES 256-bit encryption.</span></span>

### <a name="backup-frequency"></a><span data-ttu-id="9c5df-113">Backup frequency</span><span class="sxs-lookup"><span data-stu-id="9c5df-113">Backup frequency</span></span>

<span data-ttu-id="9c5df-114">Generally, full backups occur weekly, differential backups occur twice a day, and transaction log backups occur every five minutes.</span><span class="sxs-lookup"><span data-stu-id="9c5df-114">Generally, full backups occur weekly, differential backups occur twice a day, and transaction log backups occur every five minutes.</span></span> <span data-ttu-id="9c5df-115">The first full backup is scheduled immediately after a server is created.</span><span class="sxs-lookup"><span data-stu-id="9c5df-115">The first full backup is scheduled immediately after a server is created.</span></span> <span data-ttu-id="9c5df-116">The initial backup can take longer on a large restored server.</span><span class="sxs-lookup"><span data-stu-id="9c5df-116">The initial backup can take longer on a large restored server.</span></span> <span data-ttu-id="9c5df-117">The earliest point in time that a new server can be restored to is the time at which the initial full backup is complete.</span><span class="sxs-lookup"><span data-stu-id="9c5df-117">The earliest point in time that a new server can be restored to is the time at which the initial full backup is complete.</span></span>

### <a name="backup-redundancy-options"></a><span data-ttu-id="9c5df-118">Backup redundancy options</span><span class="sxs-lookup"><span data-stu-id="9c5df-118">Backup redundancy options</span></span>

<span data-ttu-id="9c5df-119">Azure Database for MySQL provides the flexibility to choose between locally redundant or geo-redundant backup storage in the General Purpose and Memory Optimized tiers.</span><span class="sxs-lookup"><span data-stu-id="9c5df-119">Azure Database for MySQL provides the flexibility to choose between locally redundant or geo-redundant backup storage in the General Purpose and Memory Optimized tiers.</span></span> <span data-ttu-id="9c5df-120">When the backups are stored in geo-redundant backup storage, they are not only stored within the region in which your server is hosted, but are also replicated to a [paired data center](https://docs.microsoft.com/azure/best-practices-availability-paired-regions).</span><span class="sxs-lookup"><span data-stu-id="9c5df-120">When the backups are stored in geo-redundant backup storage, they are not only stored within the region in which your server is hosted, but are also replicated to a [paired data center](https://docs.microsoft.com/azure/best-practices-availability-paired-regions).</span></span> <span data-ttu-id="9c5df-121">This provides better protection and ability to restore your server in a different region in the event of a disaster.</span><span class="sxs-lookup"><span data-stu-id="9c5df-121">This provides better protection and ability to restore your server in a different region in the event of a disaster.</span></span> <span data-ttu-id="9c5df-122">The Basic tier only offers locally redundant backup storage.</span><span class="sxs-lookup"><span data-stu-id="9c5df-122">The Basic tier only offers locally redundant backup storage.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9c5df-123">Configuring locally redundant or geo-redundant storage for backup is only allowed during server create.</span><span class="sxs-lookup"><span data-stu-id="9c5df-123">Configuring locally redundant or geo-redundant storage for backup is only allowed during server create.</span></span> <span data-ttu-id="9c5df-124">Once the server is provisioned, you cannot change the backup storage redundancy option.</span><span class="sxs-lookup"><span data-stu-id="9c5df-124">Once the server is provisioned, you cannot change the backup storage redundancy option.</span></span>

### <a name="backup-storage-cost"></a><span data-ttu-id="9c5df-125">Backup storage cost</span><span class="sxs-lookup"><span data-stu-id="9c5df-125">Backup storage cost</span></span>

<span data-ttu-id="9c5df-126">Azure Database for MySQL provides up to 100% of your provisioned server storage as backup storage at no additional cost.</span><span class="sxs-lookup"><span data-stu-id="9c5df-126">Azure Database for MySQL provides up to 100% of your provisioned server storage as backup storage at no additional cost.</span></span> <span data-ttu-id="9c5df-127">Typically, this is suitable for a backup retention of seven days.</span><span class="sxs-lookup"><span data-stu-id="9c5df-127">Typically, this is suitable for a backup retention of seven days.</span></span> <span data-ttu-id="9c5df-128">Any additional backup storage used is charged in GB-month.</span><span class="sxs-lookup"><span data-stu-id="9c5df-128">Any additional backup storage used is charged in GB-month.</span></span>

<span data-ttu-id="9c5df-129">For example, if you have provisioned a server with 250 GB, you have 250 GB of backup storage at no additional charge.</span><span class="sxs-lookup"><span data-stu-id="9c5df-129">For example, if you have provisioned a server with 250 GB, you have 250 GB of backup storage at no additional charge.</span></span> <span data-ttu-id="9c5df-130">Storage in excess of 250 GB is charged.</span><span class="sxs-lookup"><span data-stu-id="9c5df-130">Storage in excess of 250 GB is charged.</span></span>

## <a name="restore"></a><span data-ttu-id="9c5df-131">Restore</span><span class="sxs-lookup"><span data-stu-id="9c5df-131">Restore</span></span>

<span data-ttu-id="9c5df-132">In Azure Database for MySQL, performing a restore creates a new server from the original server's backups.</span><span class="sxs-lookup"><span data-stu-id="9c5df-132">In Azure Database for MySQL, performing a restore creates a new server from the original server's backups.</span></span>

<span data-ttu-id="9c5df-133">There are two types of restore available:</span><span class="sxs-lookup"><span data-stu-id="9c5df-133">There are two types of restore available:</span></span>

- <span data-ttu-id="9c5df-134">**Point-in-time restore** is available with either backup redundancy option and creates a new server in the same region as your original server.</span><span class="sxs-lookup"><span data-stu-id="9c5df-134">**Point-in-time restore** is available with either backup redundancy option and creates a new server in the same region as your original server.</span></span>
- <span data-ttu-id="9c5df-135">**Geo-restore** is available only if you configured your server for geo-redundant storage and it allows you to restore your server to a different region.</span><span class="sxs-lookup"><span data-stu-id="9c5df-135">**Geo-restore** is available only if you configured your server for geo-redundant storage and it allows you to restore your server to a different region.</span></span>

<span data-ttu-id="9c5df-136">The estimated time of recovery depends on several factors including the database sizes, the transaction log size, the network bandwidth, and the total number of databases recovering in the same region at the same time.</span><span class="sxs-lookup"><span data-stu-id="9c5df-136">The estimated time of recovery depends on several factors including the database sizes, the transaction log size, the network bandwidth, and the total number of databases recovering in the same region at the same time.</span></span> <span data-ttu-id="9c5df-137">The recovery time is usually less than 12 hours.</span><span class="sxs-lookup"><span data-stu-id="9c5df-137">The recovery time is usually less than 12 hours.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9c5df-138">Deleted servers **cannot** be restored.</span><span class="sxs-lookup"><span data-stu-id="9c5df-138">Deleted servers **cannot** be restored.</span></span> <span data-ttu-id="9c5df-139">If you delete the server, all databases that belong to the server are also deleted and cannot be recovered.</span><span class="sxs-lookup"><span data-stu-id="9c5df-139">If you delete the server, all databases that belong to the server are also deleted and cannot be recovered.</span></span> 

### <a name="point-in-time-restore"></a><span data-ttu-id="9c5df-140">Point-in-time restore</span><span class="sxs-lookup"><span data-stu-id="9c5df-140">Point-in-time restore</span></span>

<span data-ttu-id="9c5df-141">Independent of your backup redundancy option, you can perform a restore to any point in time within your backup retention period.</span><span class="sxs-lookup"><span data-stu-id="9c5df-141">Independent of your backup redundancy option, you can perform a restore to any point in time within your backup retention period.</span></span> <span data-ttu-id="9c5df-142">A new server is created in the same Azure region as the original server.</span><span class="sxs-lookup"><span data-stu-id="9c5df-142">A new server is created in the same Azure region as the original server.</span></span> <span data-ttu-id="9c5df-143">It is created with the original server's configuration for the pricing tier, compute generation, number of vCores, storage size, backup retention period, and backup redundancy option.</span><span class="sxs-lookup"><span data-stu-id="9c5df-143">It is created with the original server's configuration for the pricing tier, compute generation, number of vCores, storage size, backup retention period, and backup redundancy option.</span></span>

<span data-ttu-id="9c5df-144">Point-in-time restore is useful in multiple scenarios.</span><span class="sxs-lookup"><span data-stu-id="9c5df-144">Point-in-time restore is useful in multiple scenarios.</span></span> <span data-ttu-id="9c5df-145">For example, when a user accidentally deletes data, drops an important table or database, or if an application accidentally overwrites good data with bad data due to an application defect.</span><span class="sxs-lookup"><span data-stu-id="9c5df-145">For example, when a user accidentally deletes data, drops an important table or database, or if an application accidentally overwrites good data with bad data due to an application defect.</span></span>

<span data-ttu-id="9c5df-146">You may need to wait for the next transaction log backup to be taken before you can restore to a point in time within the last five minutes.</span><span class="sxs-lookup"><span data-stu-id="9c5df-146">You may need to wait for the next transaction log backup to be taken before you can restore to a point in time within the last five minutes.</span></span>

### <a name="geo-restore"></a><span data-ttu-id="9c5df-147">Geo-restore</span><span class="sxs-lookup"><span data-stu-id="9c5df-147">Geo-restore</span></span>

<span data-ttu-id="9c5df-148">You can restore a server to another Azure region where the service is available if you have configured your server for geo-redundant backups.</span><span class="sxs-lookup"><span data-stu-id="9c5df-148">You can restore a server to another Azure region where the service is available if you have configured your server for geo-redundant backups.</span></span> <span data-ttu-id="9c5df-149">Geo-restore is the default recovery option when your server is unavailable because of an incident in the region where the server is hosted.</span><span class="sxs-lookup"><span data-stu-id="9c5df-149">Geo-restore is the default recovery option when your server is unavailable because of an incident in the region where the server is hosted.</span></span> <span data-ttu-id="9c5df-150">If a large-scale incident in a region results in unavailability of your database application, you can restore a server from the geo-redundant backups to a server in any other region.</span><span class="sxs-lookup"><span data-stu-id="9c5df-150">If a large-scale incident in a region results in unavailability of your database application, you can restore a server from the geo-redundant backups to a server in any other region.</span></span> <span data-ttu-id="9c5df-151">There is a delay between when a backup is taken and when it is replicated to different region.</span><span class="sxs-lookup"><span data-stu-id="9c5df-151">There is a delay between when a backup is taken and when it is replicated to different region.</span></span> <span data-ttu-id="9c5df-152">This delay can be up to an hour, so, if a disaster occurs, there can be up to one hour data loss.</span><span class="sxs-lookup"><span data-stu-id="9c5df-152">This delay can be up to an hour, so, if a disaster occurs, there can be up to one hour data loss.</span></span>

### <a name="perform-post-restore-tasks"></a><span data-ttu-id="9c5df-153">Perform post-restore tasks</span><span class="sxs-lookup"><span data-stu-id="9c5df-153">Perform post-restore tasks</span></span>

<span data-ttu-id="9c5df-154">After a restore from either recovery mechanism, you should perform the following tasks to get your users and applications back up and running:</span><span class="sxs-lookup"><span data-stu-id="9c5df-154">After a restore from either recovery mechanism, you should perform the following tasks to get your users and applications back up and running:</span></span>

- <span data-ttu-id="9c5df-155">If the new server is meant to replace the original server, redirect clients and client applications to the new server</span><span class="sxs-lookup"><span data-stu-id="9c5df-155">If the new server is meant to replace the original server, redirect clients and client applications to the new server</span></span>
- <span data-ttu-id="9c5df-156">Ensure appropriate server-level firewall rules are in place for users to connect</span><span class="sxs-lookup"><span data-stu-id="9c5df-156">Ensure appropriate server-level firewall rules are in place for users to connect</span></span>
- <span data-ttu-id="9c5df-157">Ensure appropriate logins and database level permissions are in place</span><span class="sxs-lookup"><span data-stu-id="9c5df-157">Ensure appropriate logins and database level permissions are in place</span></span>
- <span data-ttu-id="9c5df-158">Configure alerts, as appropriate</span><span class="sxs-lookup"><span data-stu-id="9c5df-158">Configure alerts, as appropriate</span></span>

## <a name="next-steps"></a><span data-ttu-id="9c5df-159">Next steps</span><span class="sxs-lookup"><span data-stu-id="9c5df-159">Next steps</span></span>

- <span data-ttu-id="9c5df-160">To learn more about business continuity, see the [business continuity overview](concepts-business-continuity.md).</span><span class="sxs-lookup"><span data-stu-id="9c5df-160">To learn more about business continuity, see the [business continuity overview](concepts-business-continuity.md).</span></span>
- <span data-ttu-id="9c5df-161">To restore to a point in time using the Azure portal, see [restore database to a point in time using the Azure portal](howto-restore-server-portal.md).</span><span class="sxs-lookup"><span data-stu-id="9c5df-161">To restore to a point in time using the Azure portal, see [restore database to a point in time using the Azure portal](howto-restore-server-portal.md).</span></span>
- <span data-ttu-id="9c5df-162">To restore to a point in time using Azure CLI, see [restore database to a point in time using CLI](howto-restore-server-cli.md).</span><span class="sxs-lookup"><span data-stu-id="9c5df-162">To restore to a point in time using Azure CLI, see [restore database to a point in time using CLI](howto-restore-server-cli.md).</span></span>
