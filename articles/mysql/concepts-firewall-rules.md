---
title: Azure Database for MySQL server firewall rules
description: Describes firewall rules for your Azure Database for MySQL server.
services: mysql
author: ajlam
ms.author: andrela
manager: kfile
editor: jasonwhowell
ms.service: mysql
ms.topic: article
ms.date: 02/28/2018
ms.openlocfilehash: bd075a98e75c6fcb609103eefe260f4d7fc216b1
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44968582"
---
# <a name="azure-database-for-mysql-server-firewall-rules"></a><span data-ttu-id="f337a-103">Azure Database for MySQL server firewall rules</span><span class="sxs-lookup"><span data-stu-id="f337a-103">Azure Database for MySQL server firewall rules</span></span>
<span data-ttu-id="f337a-104">Firewalls prevent all access to your database server until you specify which computers have permission.</span><span class="sxs-lookup"><span data-stu-id="f337a-104">Firewalls prevent all access to your database server until you specify which computers have permission.</span></span> <span data-ttu-id="f337a-105">The firewall grants access to the server based on the originating IP address of each request.</span><span class="sxs-lookup"><span data-stu-id="f337a-105">The firewall grants access to the server based on the originating IP address of each request.</span></span>

<span data-ttu-id="f337a-106">To configure a firewall, create firewall rules that specify ranges of acceptable IP addresses.</span><span class="sxs-lookup"><span data-stu-id="f337a-106">To configure a firewall, create firewall rules that specify ranges of acceptable IP addresses.</span></span> <span data-ttu-id="f337a-107">You can create firewall rules at the server level.</span><span class="sxs-lookup"><span data-stu-id="f337a-107">You can create firewall rules at the server level.</span></span>

<span data-ttu-id="f337a-108">**Firewall rules:** These rules enable clients to access your entire Azure Database for MySQL server, that is, all the databases within the same logical server.</span><span class="sxs-lookup"><span data-stu-id="f337a-108">**Firewall rules:** These rules enable clients to access your entire Azure Database for MySQL server, that is, all the databases within the same logical server.</span></span> <span data-ttu-id="f337a-109">Server-level firewall rules can be configured by using the Azure portal or Azure CLI commands.</span><span class="sxs-lookup"><span data-stu-id="f337a-109">Server-level firewall rules can be configured by using the Azure portal or Azure CLI commands.</span></span> <span data-ttu-id="f337a-110">To create server-level firewall rules, you must be the subscription owner or a subscription contributor.</span><span class="sxs-lookup"><span data-stu-id="f337a-110">To create server-level firewall rules, you must be the subscription owner or a subscription contributor.</span></span>

## <a name="firewall-overview"></a><span data-ttu-id="f337a-111">Firewall overview</span><span class="sxs-lookup"><span data-stu-id="f337a-111">Firewall overview</span></span>
<span data-ttu-id="f337a-112">All database access to your Azure Database for MySQL server is by default blocked by the firewall.</span><span class="sxs-lookup"><span data-stu-id="f337a-112">All database access to your Azure Database for MySQL server is by default blocked by the firewall.</span></span> <span data-ttu-id="f337a-113">To begin using your server from another computer, you need to specify one or more server-level firewall rules to enable access to your server.</span><span class="sxs-lookup"><span data-stu-id="f337a-113">To begin using your server from another computer, you need to specify one or more server-level firewall rules to enable access to your server.</span></span> <span data-ttu-id="f337a-114">Use the firewall rules to specify which IP address ranges from the Internet to allow.</span><span class="sxs-lookup"><span data-stu-id="f337a-114">Use the firewall rules to specify which IP address ranges from the Internet to allow.</span></span> <span data-ttu-id="f337a-115">Access to the Azure portal website itself is not impacted by the firewall rules.</span><span class="sxs-lookup"><span data-stu-id="f337a-115">Access to the Azure portal website itself is not impacted by the firewall rules.</span></span>

<span data-ttu-id="f337a-116">Connection attempts from the Internet and Azure must first pass through the firewall before they can reach your Azure Database for MySQL database, as shown in the following diagram:</span><span class="sxs-lookup"><span data-stu-id="f337a-116">Connection attempts from the Internet and Azure must first pass through the firewall before they can reach your Azure Database for MySQL database, as shown in the following diagram:</span></span>

![Example flow of how the firewall works](./media/concepts-firewall-rules/1-firewall-concept.png)

## <a name="connecting-from-the-internet"></a><span data-ttu-id="f337a-118">Connecting from the Internet</span><span class="sxs-lookup"><span data-stu-id="f337a-118">Connecting from the Internet</span></span>
<span data-ttu-id="f337a-119">Server-level firewall rules apply to all databases on the Azure Database for MySQL server.</span><span class="sxs-lookup"><span data-stu-id="f337a-119">Server-level firewall rules apply to all databases on the Azure Database for MySQL server.</span></span>

<span data-ttu-id="f337a-120">If the IP address of the request is within one of the ranges specified in the server-level firewall rules, then the connection is granted.</span><span class="sxs-lookup"><span data-stu-id="f337a-120">If the IP address of the request is within one of the ranges specified in the server-level firewall rules, then the connection is granted.</span></span>

<span data-ttu-id="f337a-121">If the IP address of the request is outside the ranges specified in any of the database-level or server-level firewall rules, then the connection request fails.</span><span class="sxs-lookup"><span data-stu-id="f337a-121">If the IP address of the request is outside the ranges specified in any of the database-level or server-level firewall rules, then the connection request fails.</span></span>

## <a name="connecting-from-azure"></a><span data-ttu-id="f337a-122">Connecting from Azure</span><span class="sxs-lookup"><span data-stu-id="f337a-122">Connecting from Azure</span></span>
<span data-ttu-id="f337a-123">To allow applications from Azure to connect to your Azure Database for MySQL server, Azure connections must be enabled.</span><span class="sxs-lookup"><span data-stu-id="f337a-123">To allow applications from Azure to connect to your Azure Database for MySQL server, Azure connections must be enabled.</span></span> <span data-ttu-id="f337a-124">For example, to host an Azure Web Apps application, or an application that runs in an Azure VM, or to connect from an Azure Data Factory data management gateway.</span><span class="sxs-lookup"><span data-stu-id="f337a-124">For example, to host an Azure Web Apps application, or an application that runs in an Azure VM, or to connect from an Azure Data Factory data management gateway.</span></span> <span data-ttu-id="f337a-125">The resources do not need to be in the same Virtual Network (VNet) or Resource Group for the firewall rule to enable those connections.</span><span class="sxs-lookup"><span data-stu-id="f337a-125">The resources do not need to be in the same Virtual Network (VNet) or Resource Group for the firewall rule to enable those connections.</span></span> <span data-ttu-id="f337a-126">When an application from Azure attempts to connect to your database server, the firewall verifies that Azure connections are allowed.</span><span class="sxs-lookup"><span data-stu-id="f337a-126">When an application from Azure attempts to connect to your database server, the firewall verifies that Azure connections are allowed.</span></span> <span data-ttu-id="f337a-127">There are a couple of methods to enable these types of connections.</span><span class="sxs-lookup"><span data-stu-id="f337a-127">There are a couple of methods to enable these types of connections.</span></span> <span data-ttu-id="f337a-128">A firewall setting with starting and ending address equal to 0.0.0.0 indicates these connections are allowed.</span><span class="sxs-lookup"><span data-stu-id="f337a-128">A firewall setting with starting and ending address equal to 0.0.0.0 indicates these connections are allowed.</span></span> <span data-ttu-id="f337a-129">Alternatively, you can set the **Allow access to Azure services** option to **ON** in the portal from the **Connection security** pane and hit **Save**.</span><span class="sxs-lookup"><span data-stu-id="f337a-129">Alternatively, you can set the **Allow access to Azure services** option to **ON** in the portal from the **Connection security** pane and hit **Save**.</span></span> <span data-ttu-id="f337a-130">If the connection attempt is not allowed, the request does not reach the Azure Database for MySQL server.</span><span class="sxs-lookup"><span data-stu-id="f337a-130">If the connection attempt is not allowed, the request does not reach the Azure Database for MySQL server.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f337a-131">This option configures the firewall to allow all connections from Azure including connections from the subscriptions of other customers.</span><span class="sxs-lookup"><span data-stu-id="f337a-131">This option configures the firewall to allow all connections from Azure including connections from the subscriptions of other customers.</span></span> <span data-ttu-id="f337a-132">When selecting this option, make sure your login and user permissions limit access to only authorized users.</span><span class="sxs-lookup"><span data-stu-id="f337a-132">When selecting this option, make sure your login and user permissions limit access to only authorized users.</span></span>
> 

![Configure Allow access to Azure services in the portal](./media/concepts-firewall-rules/allow-azure-services.png)

## <a name="programmatically-managing-firewall-rules"></a><span data-ttu-id="f337a-134">Programmatically managing firewall rules</span><span class="sxs-lookup"><span data-stu-id="f337a-134">Programmatically managing firewall rules</span></span>
<span data-ttu-id="f337a-135">In addition to the Azure portal, firewall rules can be managed programmatically by using the Azure CLI.</span><span class="sxs-lookup"><span data-stu-id="f337a-135">In addition to the Azure portal, firewall rules can be managed programmatically by using the Azure CLI.</span></span> <span data-ttu-id="f337a-136">See also [Create and manage Azure Database for MySQL firewall rules using Azure CLI](./howto-manage-firewall-using-cli.md)</span><span class="sxs-lookup"><span data-stu-id="f337a-136">See also [Create and manage Azure Database for MySQL firewall rules using Azure CLI](./howto-manage-firewall-using-cli.md)</span></span>

## <a name="troubleshooting-the-database-firewall"></a><span data-ttu-id="f337a-137">Troubleshooting the database firewall</span><span class="sxs-lookup"><span data-stu-id="f337a-137">Troubleshooting the database firewall</span></span>
<span data-ttu-id="f337a-138">Consider the following points when access to the Microsoft Azure Database for MySQL server service does not behave as expected:</span><span class="sxs-lookup"><span data-stu-id="f337a-138">Consider the following points when access to the Microsoft Azure Database for MySQL server service does not behave as expected:</span></span>

* <span data-ttu-id="f337a-139">**Changes to the allow list have not taken effect yet:** There may be as much as a five-minute delay for changes to the Azure Database for MySQL Server firewall configuration to take effect.</span><span class="sxs-lookup"><span data-stu-id="f337a-139">**Changes to the allow list have not taken effect yet:** There may be as much as a five-minute delay for changes to the Azure Database for MySQL Server firewall configuration to take effect.</span></span>

* <span data-ttu-id="f337a-140">**The login is not authorized or an incorrect password was used:** If a login does not have permissions on the Azure Database for MySQL server or the password used is incorrect, the connection to the Azure Database for MySQL server is denied.</span><span class="sxs-lookup"><span data-stu-id="f337a-140">**The login is not authorized or an incorrect password was used:** If a login does not have permissions on the Azure Database for MySQL server or the password used is incorrect, the connection to the Azure Database for MySQL server is denied.</span></span> <span data-ttu-id="f337a-141">Creating a firewall setting only provides clients with an opportunity to attempt connecting to your server; each client must provide the necessary security credentials.</span><span class="sxs-lookup"><span data-stu-id="f337a-141">Creating a firewall setting only provides clients with an opportunity to attempt connecting to your server; each client must provide the necessary security credentials.</span></span>

* <span data-ttu-id="f337a-142">**Dynamic IP address:** If you have an Internet connection with dynamic IP addressing and you are having trouble getting through the firewall, you can try one of the following solutions:</span><span class="sxs-lookup"><span data-stu-id="f337a-142">**Dynamic IP address:** If you have an Internet connection with dynamic IP addressing and you are having trouble getting through the firewall, you can try one of the following solutions:</span></span>

* <span data-ttu-id="f337a-143">Ask your Internet Service Provider (ISP) for the IP address range assigned to your client computers that access the Azure Database for MySQL server, and then add the IP address range as a firewall rule.</span><span class="sxs-lookup"><span data-stu-id="f337a-143">Ask your Internet Service Provider (ISP) for the IP address range assigned to your client computers that access the Azure Database for MySQL server, and then add the IP address range as a firewall rule.</span></span>

* <span data-ttu-id="f337a-144">Get static IP addressing instead for your client computers, and then add the IP addresses as firewall rules.</span><span class="sxs-lookup"><span data-stu-id="f337a-144">Get static IP addressing instead for your client computers, and then add the IP addresses as firewall rules.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f337a-145">Next steps</span><span class="sxs-lookup"><span data-stu-id="f337a-145">Next steps</span></span>

<span data-ttu-id="f337a-146">[Create and manage Azure Database for MySQL firewall rules using the Azure portal](./howto-manage-firewall-using-portal.md)
[Create and manage Azure Database for MySQL firewall rules using Azure CLI](./howto-manage-firewall-using-cli.md)</span><span class="sxs-lookup"><span data-stu-id="f337a-146">[Create and manage Azure Database for MySQL firewall rules using the Azure portal](./howto-manage-firewall-using-portal.md)
[Create and manage Azure Database for MySQL firewall rules using Azure CLI](./howto-manage-firewall-using-cli.md)</span></span>
