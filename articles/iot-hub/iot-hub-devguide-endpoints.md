---
title: Understand Azure IoT Hub endpoints | Microsoft Docs
description: Developer guide - reference information about IoT Hub device-facing and service-facing endpoints.
services: iot-hub
documentationcenter: .net
author: dominicbetts
manager: timlt
editor: ''
ms.assetid: 57ba52ae-19c6-43e4-bc6c-d8a5c2476e95
ms.service: iot-hub
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 03/22/2017
ms.author: dobett
ms.openlocfilehash: b88641d313c091a6216eb19634a38e564b7b1671
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44556790"
---
# <a name="reference---iot-hub-endpoints"></a><span data-ttu-id="84a0e-103">Reference - IoT Hub endpoints</span><span class="sxs-lookup"><span data-stu-id="84a0e-103">Reference - IoT Hub endpoints</span></span>
## <a name="list-of-built-in-iot-hub-endpoints"></a><span data-ttu-id="84a0e-104">List of built-in IoT Hub endpoints</span><span class="sxs-lookup"><span data-stu-id="84a0e-104">List of built-in IoT Hub endpoints</span></span>
<span data-ttu-id="84a0e-105">Azure IoT Hub is a multi-tenant service that exposes its functionality to various actors.</span><span class="sxs-lookup"><span data-stu-id="84a0e-105">Azure IoT Hub is a multi-tenant service that exposes its functionality to various actors.</span></span> <span data-ttu-id="84a0e-106">The following diagram shows the various endpoints that IoT Hub exposes.</span><span class="sxs-lookup"><span data-stu-id="84a0e-106">The following diagram shows the various endpoints that IoT Hub exposes.</span></span>

![IoT Hub endpoints][img-endpoints]

<span data-ttu-id="84a0e-108">The following is a description of the endpoints:</span><span class="sxs-lookup"><span data-stu-id="84a0e-108">The following is a description of the endpoints:</span></span>

* <span data-ttu-id="84a0e-109">**Resource provider**.</span><span class="sxs-lookup"><span data-stu-id="84a0e-109">**Resource provider**.</span></span> <span data-ttu-id="84a0e-110">The IoT Hub resource provider exposes an [Azure Resource Manager][lnk-arm] interface that enables Azure subscription owners to create and delete IoT hubs, and update IoT hub properties.</span><span class="sxs-lookup"><span data-stu-id="84a0e-110">The IoT Hub resource provider exposes an [Azure Resource Manager][lnk-arm] interface that enables Azure subscription owners to create and delete IoT hubs, and update IoT hub properties.</span></span> <span data-ttu-id="84a0e-111">IoT Hub properties govern [hub-level security policies][lnk-accesscontrol], as opposed to device-level access control, and functional options for cloud-to-device and device-to-cloud messaging.</span><span class="sxs-lookup"><span data-stu-id="84a0e-111">IoT Hub properties govern [hub-level security policies][lnk-accesscontrol], as opposed to device-level access control, and functional options for cloud-to-device and device-to-cloud messaging.</span></span> <span data-ttu-id="84a0e-112">The IoT Hub resource provider also enables you to [export device identities][lnk-importexport].</span><span class="sxs-lookup"><span data-stu-id="84a0e-112">The IoT Hub resource provider also enables you to [export device identities][lnk-importexport].</span></span>
* <span data-ttu-id="84a0e-113">**Device identity management**.</span><span class="sxs-lookup"><span data-stu-id="84a0e-113">**Device identity management**.</span></span> <span data-ttu-id="84a0e-114">Each IoT hub exposes a set of HTTP REST endpoints to manage device identities (create, retrieve, update, and delete).</span><span class="sxs-lookup"><span data-stu-id="84a0e-114">Each IoT hub exposes a set of HTTP REST endpoints to manage device identities (create, retrieve, update, and delete).</span></span> <span data-ttu-id="84a0e-115">[Device identities][lnk-device-identities] are used for device authentication and access control.</span><span class="sxs-lookup"><span data-stu-id="84a0e-115">[Device identities][lnk-device-identities] are used for device authentication and access control.</span></span>
* <span data-ttu-id="84a0e-116">**Device twin management**.</span><span class="sxs-lookup"><span data-stu-id="84a0e-116">**Device twin management**.</span></span> <span data-ttu-id="84a0e-117">Each IoT hub exposes a set of service-facing HTTP REST endpoint to query and update [device twins][lnk-twins] (update tags and properties).</span><span class="sxs-lookup"><span data-stu-id="84a0e-117">Each IoT hub exposes a set of service-facing HTTP REST endpoint to query and update [device twins][lnk-twins] (update tags and properties).</span></span>
* <span data-ttu-id="84a0e-118">**Jobs management**.</span><span class="sxs-lookup"><span data-stu-id="84a0e-118">**Jobs management**.</span></span> <span data-ttu-id="84a0e-119">Each IoT hub exposes a set of service-facing HTTP REST endpoint to query and manage [jobs][lnk-jobs].</span><span class="sxs-lookup"><span data-stu-id="84a0e-119">Each IoT hub exposes a set of service-facing HTTP REST endpoint to query and manage [jobs][lnk-jobs].</span></span>
* <span data-ttu-id="84a0e-120">**Device endpoints**.</span><span class="sxs-lookup"><span data-stu-id="84a0e-120">**Device endpoints**.</span></span> <span data-ttu-id="84a0e-121">For each device provisioned in the identity registry, IoT Hub exposes a set of endpoints that a device can use to send and receive messages:</span><span class="sxs-lookup"><span data-stu-id="84a0e-121">For each device provisioned in the identity registry, IoT Hub exposes a set of endpoints that a device can use to send and receive messages:</span></span>
  
  * <span data-ttu-id="84a0e-122">*Send device-to-cloud messages*.</span><span class="sxs-lookup"><span data-stu-id="84a0e-122">*Send device-to-cloud messages*.</span></span> <span data-ttu-id="84a0e-123">Use this endpoint to [send device-to-cloud messages][lnk-d2c].</span><span class="sxs-lookup"><span data-stu-id="84a0e-123">Use this endpoint to [send device-to-cloud messages][lnk-d2c].</span></span>
  * <span data-ttu-id="84a0e-124">*Receive cloud-to-device messages*.</span><span class="sxs-lookup"><span data-stu-id="84a0e-124">*Receive cloud-to-device messages*.</span></span> <span data-ttu-id="84a0e-125">A device uses this endpoint to receive targeted [cloud-to-device messages][lnk-c2d].</span><span class="sxs-lookup"><span data-stu-id="84a0e-125">A device uses this endpoint to receive targeted [cloud-to-device messages][lnk-c2d].</span></span>
  * <span data-ttu-id="84a0e-126">*Initiate file uploads*.</span><span class="sxs-lookup"><span data-stu-id="84a0e-126">*Initiate file uploads*.</span></span> <span data-ttu-id="84a0e-127">A device uses this endpoint to receive an Azure Storage SAS URI from IoT Hub to [upload a file][lnk-upload].</span><span class="sxs-lookup"><span data-stu-id="84a0e-127">A device uses this endpoint to receive an Azure Storage SAS URI from IoT Hub to [upload a file][lnk-upload].</span></span>
  * <span data-ttu-id="84a0e-128">*Retrieve and update device twin properties*.</span><span class="sxs-lookup"><span data-stu-id="84a0e-128">*Retrieve and update device twin properties*.</span></span> <span data-ttu-id="84a0e-129">A device uses this endpoint to access its [device twin][lnk-twins]'s properties.</span><span class="sxs-lookup"><span data-stu-id="84a0e-129">A device uses this endpoint to access its [device twin][lnk-twins]'s properties.</span></span>
  * <span data-ttu-id="84a0e-130">*Receive direct method requests*.</span><span class="sxs-lookup"><span data-stu-id="84a0e-130">*Receive direct method requests*.</span></span> <span data-ttu-id="84a0e-131">A device uses this endpoint to listen for [direct method][lnk-methods]'s requests.</span><span class="sxs-lookup"><span data-stu-id="84a0e-131">A device uses this endpoint to listen for [direct method][lnk-methods]'s requests.</span></span>
    
    <span data-ttu-id="84a0e-132">These endpoints are exposed using [MQTT v3.1.1][lnk-mqtt], HTTP 1.1, and [AMQP 1.0][lnk-amqp] protocols.</span><span class="sxs-lookup"><span data-stu-id="84a0e-132">These endpoints are exposed using [MQTT v3.1.1][lnk-mqtt], HTTP 1.1, and [AMQP 1.0][lnk-amqp] protocols.</span></span> <span data-ttu-id="84a0e-133">Note that AMQP is also available over [WebSockets][lnk-websockets] on port 443.</span><span class="sxs-lookup"><span data-stu-id="84a0e-133">Note that AMQP is also available over [WebSockets][lnk-websockets] on port 443.</span></span>
    
    <span data-ttu-id="84a0e-134">The device twins and methods endpoints are available only using [MQTT v3.1.1][lnk-mqtt].</span><span class="sxs-lookup"><span data-stu-id="84a0e-134">The device twins and methods endpoints are available only using [MQTT v3.1.1][lnk-mqtt].</span></span>
* <span data-ttu-id="84a0e-135">**Service endpoints**.</span><span class="sxs-lookup"><span data-stu-id="84a0e-135">**Service endpoints**.</span></span> <span data-ttu-id="84a0e-136">Each IoT hub exposes a set of endpoints your solution back end can use to communicate with your devices.</span><span class="sxs-lookup"><span data-stu-id="84a0e-136">Each IoT hub exposes a set of endpoints your solution back end can use to communicate with your devices.</span></span> <span data-ttu-id="84a0e-137">These endpoints are currently only exposed using the [AMQP][lnk-amqp] protocol, except for the method invocation endpoint that is exposed via HTTP 1.1.</span><span class="sxs-lookup"><span data-stu-id="84a0e-137">These endpoints are currently only exposed using the [AMQP][lnk-amqp] protocol, except for the method invocation endpoint that is exposed via HTTP 1.1.</span></span>
  
  * <span data-ttu-id="84a0e-138">*Receive device-to-cloud messages*.</span><span class="sxs-lookup"><span data-stu-id="84a0e-138">*Receive device-to-cloud messages*.</span></span> <span data-ttu-id="84a0e-139">This endpoint is compatible with [Azure Event Hubs][lnk-event-hubs].</span><span class="sxs-lookup"><span data-stu-id="84a0e-139">This endpoint is compatible with [Azure Event Hubs][lnk-event-hubs].</span></span> <span data-ttu-id="84a0e-140">A back-end service can use it to read the [device-to-cloud messages][lnk-d2c] sent by your devices.</span><span class="sxs-lookup"><span data-stu-id="84a0e-140">A back-end service can use it to read the [device-to-cloud messages][lnk-d2c] sent by your devices.</span></span> <span data-ttu-id="84a0e-141">You can create custom endpoints on your IoT hub in addition to this built-in endpoint.</span><span class="sxs-lookup"><span data-stu-id="84a0e-141">You can create custom endpoints on your IoT hub in addition to this built-in endpoint.</span></span>
  * <span data-ttu-id="84a0e-142">*Send cloud-to-device messages and receive delivery acknowledgments*.</span><span class="sxs-lookup"><span data-stu-id="84a0e-142">*Send cloud-to-device messages and receive delivery acknowledgments*.</span></span> <span data-ttu-id="84a0e-143">These endpoints enable your solution back end to send reliable [cloud-to-device messages][lnk-c2d], and to receive the corresponding delivery or expiration acknowledgments.</span><span class="sxs-lookup"><span data-stu-id="84a0e-143">These endpoints enable your solution back end to send reliable [cloud-to-device messages][lnk-c2d], and to receive the corresponding delivery or expiration acknowledgments.</span></span>
  * <span data-ttu-id="84a0e-144">*Receive file notifications*.</span><span class="sxs-lookup"><span data-stu-id="84a0e-144">*Receive file notifications*.</span></span> <span data-ttu-id="84a0e-145">This messaging endpoint allows you to receive notifications of when your devices successfully upload a file.</span><span class="sxs-lookup"><span data-stu-id="84a0e-145">This messaging endpoint allows you to receive notifications of when your devices successfully upload a file.</span></span> 
  * <span data-ttu-id="84a0e-146">*Direct method invocation*.</span><span class="sxs-lookup"><span data-stu-id="84a0e-146">*Direct method invocation*.</span></span> <span data-ttu-id="84a0e-147">This endpoint allows a back-end service to invoke a [direct method][lnk-methods] on a device.</span><span class="sxs-lookup"><span data-stu-id="84a0e-147">This endpoint allows a back-end service to invoke a [direct method][lnk-methods] on a device.</span></span>
  * <span data-ttu-id="84a0e-148">*Receive operations monitoring events*.</span><span class="sxs-lookup"><span data-stu-id="84a0e-148">*Receive operations monitoring events*.</span></span> <span data-ttu-id="84a0e-149">This endpoint allows you to receive operations monitoring events if your IoT hub has been configured to emit them.</span><span class="sxs-lookup"><span data-stu-id="84a0e-149">This endpoint allows you to receive operations monitoring events if your IoT hub has been configured to emit them.</span></span> <span data-ttu-id="84a0e-150">See [IoT Hub operations monitoring][lnk-operations-mon] for more details.</span><span class="sxs-lookup"><span data-stu-id="84a0e-150">See [IoT Hub operations monitoring][lnk-operations-mon] for more details.</span></span>

<span data-ttu-id="84a0e-151">The [Azure IoT SDKs][lnk-sdks] article describes the various ways to access these endpoints.</span><span class="sxs-lookup"><span data-stu-id="84a0e-151">The [Azure IoT SDKs][lnk-sdks] article describes the various ways to access these endpoints.</span></span>

<span data-ttu-id="84a0e-152">Finally, it is important to note that all IoT Hub endpoints use the [TLS][lnk-tls] protocol, and no endpoint is ever exposed on unencrypted/unsecured channels.</span><span class="sxs-lookup"><span data-stu-id="84a0e-152">Finally, it is important to note that all IoT Hub endpoints use the [TLS][lnk-tls] protocol, and no endpoint is ever exposed on unencrypted/unsecured channels.</span></span>

## <a name="custom-endpoints"></a><span data-ttu-id="84a0e-153">Custom endpoints</span><span class="sxs-lookup"><span data-stu-id="84a0e-153">Custom endpoints</span></span>
<span data-ttu-id="84a0e-154">You can link existing Azure services in your subscription to your IoT hub to act as endpoints for message routing.</span><span class="sxs-lookup"><span data-stu-id="84a0e-154">You can link existing Azure services in your subscription to your IoT hub to act as endpoints for message routing.</span></span> <span data-ttu-id="84a0e-155">These endpoints act as service endpoints and are used as sinks for message routes.</span><span class="sxs-lookup"><span data-stu-id="84a0e-155">These endpoints act as service endpoints and are used as sinks for message routes.</span></span> <span data-ttu-id="84a0e-156">Devices cannot write directly to the additional endpoints.</span><span class="sxs-lookup"><span data-stu-id="84a0e-156">Devices cannot write directly to the additional endpoints.</span></span> <span data-ttu-id="84a0e-157">To learn more about message routes, see the developer guide entry on [sending and receiving messages with IoT hub][lnk-devguide-messaging].</span><span class="sxs-lookup"><span data-stu-id="84a0e-157">To learn more about message routes, see the developer guide entry on [sending and receiving messages with IoT hub][lnk-devguide-messaging].</span></span>

<span data-ttu-id="84a0e-158">IoT Hub currently supports the following Azure services as additional endpoints:</span><span class="sxs-lookup"><span data-stu-id="84a0e-158">IoT Hub currently supports the following Azure services as additional endpoints:</span></span>

* <span data-ttu-id="84a0e-159">Event Hubs</span><span class="sxs-lookup"><span data-stu-id="84a0e-159">Event Hubs</span></span>
* <span data-ttu-id="84a0e-160">Service Bus Queues</span><span class="sxs-lookup"><span data-stu-id="84a0e-160">Service Bus Queues</span></span>
* <span data-ttu-id="84a0e-161">Service Bus Topics</span><span class="sxs-lookup"><span data-stu-id="84a0e-161">Service Bus Topics</span></span>

<span data-ttu-id="84a0e-162">IoT Hub needs write access to these service endpoints for message routing to work.</span><span class="sxs-lookup"><span data-stu-id="84a0e-162">IoT Hub needs write access to these service endpoints for message routing to work.</span></span> <span data-ttu-id="84a0e-163">If you configure your endpoints through the Azure portal, the necessary permissions are added for you.</span><span class="sxs-lookup"><span data-stu-id="84a0e-163">If you configure your endpoints through the Azure portal, the necessary permissions are added for you.</span></span> <span data-ttu-id="84a0e-164">Make sure you configure your services to support the expected throughput.</span><span class="sxs-lookup"><span data-stu-id="84a0e-164">Make sure you configure your services to support the expected throughput.</span></span> <span data-ttu-id="84a0e-165">You may need to monitor your additional endpoints when you first configure your IoT solution and then make any necessary adjustments for the actual load.</span><span class="sxs-lookup"><span data-stu-id="84a0e-165">You may need to monitor your additional endpoints when you first configure your IoT solution and then make any necessary adjustments for the actual load.</span></span>

<span data-ttu-id="84a0e-166">If a message matches multiple routes that all point to the same endpoint, IoT Hub delivers message to that endpoint only once.</span><span class="sxs-lookup"><span data-stu-id="84a0e-166">If a message matches multiple routes that all point to the same endpoint, IoT Hub delivers message to that endpoint only once.</span></span> <span data-ttu-id="84a0e-167">Therefore, you do not need to configure deduplication on your Service Bus queue or topic.</span><span class="sxs-lookup"><span data-stu-id="84a0e-167">Therefore, you do not need to configure deduplication on your Service Bus queue or topic.</span></span> <span data-ttu-id="84a0e-168">In partitioned queues, partition affinity guarantees message ordering.</span><span class="sxs-lookup"><span data-stu-id="84a0e-168">In partitioned queues, partition affinity guarantees message ordering.</span></span> <span data-ttu-id="84a0e-169">Queues with sessions enabled are not supported as endpoints.</span><span class="sxs-lookup"><span data-stu-id="84a0e-169">Queues with sessions enabled are not supported as endpoints.</span></span> <span data-ttu-id="84a0e-170">Partitioned queues and topics with deduplication enabled are also not supported.</span><span class="sxs-lookup"><span data-stu-id="84a0e-170">Partitioned queues and topics with deduplication enabled are also not supported.</span></span>

<span data-ttu-id="84a0e-171">For the limits on the number of endpoints you can add, see [Quotas and throttling][lnk-devguide-quotas].</span><span class="sxs-lookup"><span data-stu-id="84a0e-171">For the limits on the number of endpoints you can add, see [Quotas and throttling][lnk-devguide-quotas].</span></span>

## <a name="field-gateways"></a><span data-ttu-id="84a0e-172">Field gateways</span><span class="sxs-lookup"><span data-stu-id="84a0e-172">Field gateways</span></span>
<span data-ttu-id="84a0e-173">In an IoT solution, a *field gateway* sits between your devices and your IoT Hub endpoints.</span><span class="sxs-lookup"><span data-stu-id="84a0e-173">In an IoT solution, a *field gateway* sits between your devices and your IoT Hub endpoints.</span></span> <span data-ttu-id="84a0e-174">It is typically located close to your devices.</span><span class="sxs-lookup"><span data-stu-id="84a0e-174">It is typically located close to your devices.</span></span> <span data-ttu-id="84a0e-175">Your devices communicate directly with the field gateway by using a protocol supported by the devices.</span><span class="sxs-lookup"><span data-stu-id="84a0e-175">Your devices communicate directly with the field gateway by using a protocol supported by the devices.</span></span> <span data-ttu-id="84a0e-176">The field gateway connects to an IoT Hub endpoint using a protocol that is supported by IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="84a0e-176">The field gateway connects to an IoT Hub endpoint using a protocol that is supported by IoT Hub.</span></span> <span data-ttu-id="84a0e-177">A field gateway can be highly specialized hardware or a low-power computer running software that accomplishes the end-to-end scenario for which the gateway is intended.</span><span class="sxs-lookup"><span data-stu-id="84a0e-177">A field gateway can be highly specialized hardware or a low-power computer running software that accomplishes the end-to-end scenario for which the gateway is intended.</span></span>

<span data-ttu-id="84a0e-178">You can use the [Azure IoT Gateway SDK][lnk-gateway-sdk] to implement a field gateway.</span><span class="sxs-lookup"><span data-stu-id="84a0e-178">You can use the [Azure IoT Gateway SDK][lnk-gateway-sdk] to implement a field gateway.</span></span> <span data-ttu-id="84a0e-179">This SDK offers specific functionality such as the ability to multiplex the communication from multiple devices onto the same IoT Hub connection.</span><span class="sxs-lookup"><span data-stu-id="84a0e-179">This SDK offers specific functionality such as the ability to multiplex the communication from multiple devices onto the same IoT Hub connection.</span></span>

## <a name="next-steps"></a><span data-ttu-id="84a0e-180">Next steps</span><span class="sxs-lookup"><span data-stu-id="84a0e-180">Next steps</span></span>
<span data-ttu-id="84a0e-181">Other reference topics in this IoT Hub developer guide include:</span><span class="sxs-lookup"><span data-stu-id="84a0e-181">Other reference topics in this IoT Hub developer guide include:</span></span>

* <span data-ttu-id="84a0e-182">[IoT Hub query language for device twins and jobs][lnk-devguide-query]</span><span class="sxs-lookup"><span data-stu-id="84a0e-182">[IoT Hub query language for device twins and jobs][lnk-devguide-query]</span></span>
* <span data-ttu-id="84a0e-183">[Quotas and throttling][lnk-devguide-quotas]</span><span class="sxs-lookup"><span data-stu-id="84a0e-183">[Quotas and throttling][lnk-devguide-quotas]</span></span>
* <span data-ttu-id="84a0e-184">[IoT Hub MQTT support][lnk-devguide-mqtt]</span><span class="sxs-lookup"><span data-stu-id="84a0e-184">[IoT Hub MQTT support][lnk-devguide-mqtt]</span></span>

[lnk-gateway-sdk]: https://github.com/Azure/azure-iot-gateway-sdk

[img-endpoints]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/iot-hub/media/iot-hub-devguide-endpoints/endpoints.png
[lnk-amqp]: https://www.amqp.org/
[lnk-mqtt]: http://mqtt.org/
[lnk-websockets]: https://tools.ietf.org/html/rfc6455
[lnk-arm]: ../azure-resource-manager/resource-group-overview.md
[lnk-event-hubs]: http://azure.microsoft.com/documentation/services/event-hubs/

[lnk-tls]: https://tools.ietf.org/html/rfc5246


[lnk-sdks]: iot-hub-devguide-sdks.md
[lnk-accesscontrol]: iot-hub-devguide-security.md#access-control-and-permissions
[lnk-importexport]: iot-hub-devguide-identity-registry.md#import-and-export-device-identities
[lnk-d2c]: iot-hub-devguide-messaging.md#device-to-cloud-messages
[lnk-device-identities]: iot-hub-devguide-identity-registry.md
[lnk-upload]: iot-hub-devguide-file-upload.md
[lnk-c2d]: iot-hub-devguide-messaging.md#cloud-to-device-messages
[lnk-methods]: iot-hub-devguide-direct-methods.md
[lnk-twins]: iot-hub-devguide-device-twins.md
[lnk-query]: iot-hub-devguide-query-language.md
[lnk-jobs]: iot-hub-devguide-jobs.md

[lnk-devguide-quotas]: iot-hub-devguide-quotas-throttling.md
[lnk-devguide-query]: iot-hub-devguide-query-language.md
[lnk-devguide-mqtt]: iot-hub-mqtt-support.md
[lnk-devguide-messaging]: iot-hub-devguide-messaging.md
[lnk-operations-mon]: iot-hub-operations-monitoring.md

