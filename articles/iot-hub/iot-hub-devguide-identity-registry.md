---
title: Understand the Azure IoT Hub identity registry | Microsoft Docs
description: Developer guide - description of the IoT Hub identity registry and how to use it to manage your devices. Includes information about the import and export of device identities in bulk.
author: dominicbetts
manager: timlt
ms.service: iot-hub
services: iot-hub
ms.topic: conceptual
ms.date: 08/29/2018
ms.author: dobett
ms.openlocfilehash: 78956c8e9d9248708ec326fc07d46f48e51e0f83
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44824465"
---
# <a name="understand-the-identity-registry-in-your-iot-hub"></a><span data-ttu-id="b33b5-104">Understand the identity registry in your IoT hub</span><span class="sxs-lookup"><span data-stu-id="b33b5-104">Understand the identity registry in your IoT hub</span></span>

<span data-ttu-id="b33b5-105">Every IoT hub has an identity registry that stores information about the devices and modules permitted to connect to the IoT hub.</span><span class="sxs-lookup"><span data-stu-id="b33b5-105">Every IoT hub has an identity registry that stores information about the devices and modules permitted to connect to the IoT hub.</span></span> <span data-ttu-id="b33b5-106">Before a device or module can connect to an IoT hub, there must be an entry for that device or module in the IoT hub's identity registry.</span><span class="sxs-lookup"><span data-stu-id="b33b5-106">Before a device or module can connect to an IoT hub, there must be an entry for that device or module in the IoT hub's identity registry.</span></span> <span data-ttu-id="b33b5-107">A device or module must also authenticate with the IoT hub based on credentials stored in the identity registry.</span><span class="sxs-lookup"><span data-stu-id="b33b5-107">A device or module must also authenticate with the IoT hub based on credentials stored in the identity registry.</span></span>

<span data-ttu-id="b33b5-108">The device or module ID stored in the identity registry is case-sensitive.</span><span class="sxs-lookup"><span data-stu-id="b33b5-108">The device or module ID stored in the identity registry is case-sensitive.</span></span>

<span data-ttu-id="b33b5-109">At a high level, the identity registry is a REST-capable collection of device or module identity resources.</span><span class="sxs-lookup"><span data-stu-id="b33b5-109">At a high level, the identity registry is a REST-capable collection of device or module identity resources.</span></span> <span data-ttu-id="b33b5-110">When you add an entry in the identity registry, IoT Hub creates a set of per-device resources such as the queue that contains in-flight cloud-to-device messages.</span><span class="sxs-lookup"><span data-stu-id="b33b5-110">When you add an entry in the identity registry, IoT Hub creates a set of per-device resources such as the queue that contains in-flight cloud-to-device messages.</span></span>

<span data-ttu-id="b33b5-111">Use the identity registry when you need to:</span><span class="sxs-lookup"><span data-stu-id="b33b5-111">Use the identity registry when you need to:</span></span>

* <span data-ttu-id="b33b5-112">Provision devices or modules that connect to your IoT hub.</span><span class="sxs-lookup"><span data-stu-id="b33b5-112">Provision devices or modules that connect to your IoT hub.</span></span>
* <span data-ttu-id="b33b5-113">Control per-device/per-module access to your hub's device or module-facing endpoints.</span><span class="sxs-lookup"><span data-stu-id="b33b5-113">Control per-device/per-module access to your hub's device or module-facing endpoints.</span></span>

> [!NOTE]
> <span data-ttu-id="b33b5-114">The identity registry does not contain any application-specific metadata.</span><span class="sxs-lookup"><span data-stu-id="b33b5-114">The identity registry does not contain any application-specific metadata.</span></span>

## <a name="identity-registry-operations"></a><span data-ttu-id="b33b5-115">Identity registry operations</span><span class="sxs-lookup"><span data-stu-id="b33b5-115">Identity registry operations</span></span>

<span data-ttu-id="b33b5-116">The IoT Hub identity registry exposes the following operations:</span><span class="sxs-lookup"><span data-stu-id="b33b5-116">The IoT Hub identity registry exposes the following operations:</span></span>

* <span data-ttu-id="b33b5-117">Create device or module identity</span><span class="sxs-lookup"><span data-stu-id="b33b5-117">Create device or module identity</span></span>
* <span data-ttu-id="b33b5-118">Update device or module identity</span><span class="sxs-lookup"><span data-stu-id="b33b5-118">Update device or module identity</span></span>
* <span data-ttu-id="b33b5-119">Retrieve device or module identity by ID</span><span class="sxs-lookup"><span data-stu-id="b33b5-119">Retrieve device or module identity by ID</span></span>
* <span data-ttu-id="b33b5-120">Delete device or module identity</span><span class="sxs-lookup"><span data-stu-id="b33b5-120">Delete device or module identity</span></span>
* <span data-ttu-id="b33b5-121">List up to 1000 identities</span><span class="sxs-lookup"><span data-stu-id="b33b5-121">List up to 1000 identities</span></span>
> <span data-ttu-id="b33b5-122">Module identity and module twin is in public preview.</span><span class="sxs-lookup"><span data-stu-id="b33b5-122">Module identity and module twin is in public preview.</span></span> <span data-ttu-id="b33b5-123">Below feature will be supported on module identity when it's general available.</span><span class="sxs-lookup"><span data-stu-id="b33b5-123">Below feature will be supported on module identity when it's general available.</span></span>
* <span data-ttu-id="b33b5-124">Export device identities to Azure blob storage</span><span class="sxs-lookup"><span data-stu-id="b33b5-124">Export device identities to Azure blob storage</span></span>
* <span data-ttu-id="b33b5-125">Import device identities from Azure blob storage</span><span class="sxs-lookup"><span data-stu-id="b33b5-125">Import device identities from Azure blob storage</span></span>

<span data-ttu-id="b33b5-126">All these operations can use optimistic concurrency, as specified in [RFC7232][lnk-rfc7232].</span><span class="sxs-lookup"><span data-stu-id="b33b5-126">All these operations can use optimistic concurrency, as specified in [RFC7232][lnk-rfc7232].</span></span>

> [!IMPORTANT]
> <span data-ttu-id="b33b5-127">The only way to retrieve all identities in an IoT hub's identity registry is to use the [Export][lnk-export] functionality.</span><span class="sxs-lookup"><span data-stu-id="b33b5-127">The only way to retrieve all identities in an IoT hub's identity registry is to use the [Export][lnk-export] functionality.</span></span>

<span data-ttu-id="b33b5-128">An IoT Hub identity registry:</span><span class="sxs-lookup"><span data-stu-id="b33b5-128">An IoT Hub identity registry:</span></span>

* <span data-ttu-id="b33b5-129">Does not contain any application metadata.</span><span class="sxs-lookup"><span data-stu-id="b33b5-129">Does not contain any application metadata.</span></span>
* <span data-ttu-id="b33b5-130">Can be accessed like a dictionary, by using the **deviceId** or **moduleId** as the key.</span><span class="sxs-lookup"><span data-stu-id="b33b5-130">Can be accessed like a dictionary, by using the **deviceId** or **moduleId** as the key.</span></span>
* <span data-ttu-id="b33b5-131">Does not support expressive queries.</span><span class="sxs-lookup"><span data-stu-id="b33b5-131">Does not support expressive queries.</span></span>

<span data-ttu-id="b33b5-132">An IoT solution typically has a separate solution-specific store that contains application-specific metadata.</span><span class="sxs-lookup"><span data-stu-id="b33b5-132">An IoT solution typically has a separate solution-specific store that contains application-specific metadata.</span></span> <span data-ttu-id="b33b5-133">For example, the solution-specific store in a smart building solution would record the room in which a temperature sensor is deployed.</span><span class="sxs-lookup"><span data-stu-id="b33b5-133">For example, the solution-specific store in a smart building solution would record the room in which a temperature sensor is deployed.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="b33b5-134">Only use the identity registry for device management and provisioning operations.</span><span class="sxs-lookup"><span data-stu-id="b33b5-134">Only use the identity registry for device management and provisioning operations.</span></span> <span data-ttu-id="b33b5-135">High throughput operations at run time should not depend on performing operations in the identity registry.</span><span class="sxs-lookup"><span data-stu-id="b33b5-135">High throughput operations at run time should not depend on performing operations in the identity registry.</span></span> <span data-ttu-id="b33b5-136">For example, checking the connection state of a device before sending a command is not a supported pattern.</span><span class="sxs-lookup"><span data-stu-id="b33b5-136">For example, checking the connection state of a device before sending a command is not a supported pattern.</span></span> <span data-ttu-id="b33b5-137">Make sure to check the [throttling rates][lnk-quotas] for the identity registry, and the [device heartbeat][lnk-guidance-heartbeat] pattern.</span><span class="sxs-lookup"><span data-stu-id="b33b5-137">Make sure to check the [throttling rates][lnk-quotas] for the identity registry, and the [device heartbeat][lnk-guidance-heartbeat] pattern.</span></span>

## <a name="disable-devices"></a><span data-ttu-id="b33b5-138">Disable devices</span><span class="sxs-lookup"><span data-stu-id="b33b5-138">Disable devices</span></span>

<span data-ttu-id="b33b5-139">You can disable devices by updating the **status** property of an identity in the identity registry.</span><span class="sxs-lookup"><span data-stu-id="b33b5-139">You can disable devices by updating the **status** property of an identity in the identity registry.</span></span> <span data-ttu-id="b33b5-140">Typically, you use this property in two scenarios:</span><span class="sxs-lookup"><span data-stu-id="b33b5-140">Typically, you use this property in two scenarios:</span></span>

* <span data-ttu-id="b33b5-141">During a provisioning orchestration process.</span><span class="sxs-lookup"><span data-stu-id="b33b5-141">During a provisioning orchestration process.</span></span> <span data-ttu-id="b33b5-142">For more information, see [Device Provisioning][lnk-guidance-provisioning].</span><span class="sxs-lookup"><span data-stu-id="b33b5-142">For more information, see [Device Provisioning][lnk-guidance-provisioning].</span></span>
* <span data-ttu-id="b33b5-143">If, for any reason, you think a device is compromised or has become unauthorized.</span><span class="sxs-lookup"><span data-stu-id="b33b5-143">If, for any reason, you think a device is compromised or has become unauthorized.</span></span>

<span data-ttu-id="b33b5-144">This feature is not availble for modules.</span><span class="sxs-lookup"><span data-stu-id="b33b5-144">This feature is not availble for modules.</span></span>

## <a name="import-and-export-device-identities"></a><span data-ttu-id="b33b5-145">Import and export device identities</span><span class="sxs-lookup"><span data-stu-id="b33b5-145">Import and export device identities</span></span>

<span data-ttu-id="b33b5-146">Use asynchronous operations on the [IoT Hub resource provider endpoint][lnk-endpoints] to export device identities in bulk from an IoT hub's identity registry.</span><span class="sxs-lookup"><span data-stu-id="b33b5-146">Use asynchronous operations on the [IoT Hub resource provider endpoint][lnk-endpoints] to export device identities in bulk from an IoT hub's identity registry.</span></span> <span data-ttu-id="b33b5-147">Exports are long-running jobs that use a customer-supplied blob container to save device identity data read from the identity registry.</span><span class="sxs-lookup"><span data-stu-id="b33b5-147">Exports are long-running jobs that use a customer-supplied blob container to save device identity data read from the identity registry.</span></span>

<span data-ttu-id="b33b5-148">Use asynchronous operations on the [IoT Hub resource provider endpoint][lnk-endpoints] to import device identities in bulk to an IoT hub's identity registry.</span><span class="sxs-lookup"><span data-stu-id="b33b5-148">Use asynchronous operations on the [IoT Hub resource provider endpoint][lnk-endpoints] to import device identities in bulk to an IoT hub's identity registry.</span></span> <span data-ttu-id="b33b5-149">Imports are long-running jobs that use data in a customer-supplied blob container to write device identity data into the identity registry.</span><span class="sxs-lookup"><span data-stu-id="b33b5-149">Imports are long-running jobs that use data in a customer-supplied blob container to write device identity data into the identity registry.</span></span>

<span data-ttu-id="b33b5-150">For more information about the import and export APIs, see [IoT Hub resource provider REST APIs][lnk-resource-provider-apis].</span><span class="sxs-lookup"><span data-stu-id="b33b5-150">For more information about the import and export APIs, see [IoT Hub resource provider REST APIs][lnk-resource-provider-apis].</span></span> <span data-ttu-id="b33b5-151">To learn more about running import and export jobs, see [Bulk management of IoT Hub device identities][lnk-bulk-identity].</span><span class="sxs-lookup"><span data-stu-id="b33b5-151">To learn more about running import and export jobs, see [Bulk management of IoT Hub device identities][lnk-bulk-identity].</span></span>

## <a name="device-provisioning"></a><span data-ttu-id="b33b5-152">Device provisioning</span><span class="sxs-lookup"><span data-stu-id="b33b5-152">Device provisioning</span></span>

<span data-ttu-id="b33b5-153">The device data that a given IoT solution stores depends on the specific requirements of that solution.</span><span class="sxs-lookup"><span data-stu-id="b33b5-153">The device data that a given IoT solution stores depends on the specific requirements of that solution.</span></span> <span data-ttu-id="b33b5-154">But, as a minimum, a solution must store device identities and authentication keys.</span><span class="sxs-lookup"><span data-stu-id="b33b5-154">But, as a minimum, a solution must store device identities and authentication keys.</span></span> <span data-ttu-id="b33b5-155">Azure IoT Hub includes an identity registry that can store values for each device such as IDs, authentication keys, and status codes.</span><span class="sxs-lookup"><span data-stu-id="b33b5-155">Azure IoT Hub includes an identity registry that can store values for each device such as IDs, authentication keys, and status codes.</span></span> <span data-ttu-id="b33b5-156">A solution can use other Azure services such as table storage, blob storage, or Cosmos DB to store any additional device data.</span><span class="sxs-lookup"><span data-stu-id="b33b5-156">A solution can use other Azure services such as table storage, blob storage, or Cosmos DB to store any additional device data.</span></span>

<span data-ttu-id="b33b5-157">*Device provisioning* is the process of adding the initial device data to the stores in your solution.</span><span class="sxs-lookup"><span data-stu-id="b33b5-157">*Device provisioning* is the process of adding the initial device data to the stores in your solution.</span></span> <span data-ttu-id="b33b5-158">To enable a new device to connect to your hub, you must add a device ID and keys to the IoT Hub identity registry.</span><span class="sxs-lookup"><span data-stu-id="b33b5-158">To enable a new device to connect to your hub, you must add a device ID and keys to the IoT Hub identity registry.</span></span> <span data-ttu-id="b33b5-159">As part of the provisioning process, you might need to initialize device-specific data in other solution stores.</span><span class="sxs-lookup"><span data-stu-id="b33b5-159">As part of the provisioning process, you might need to initialize device-specific data in other solution stores.</span></span> <span data-ttu-id="b33b5-160">You can also use the Azure IoT Hub Device Provisioning Service to enable zero-touch, just-in-time provisioning to one or more IoT hubs without requiring human intervention.</span><span class="sxs-lookup"><span data-stu-id="b33b5-160">You can also use the Azure IoT Hub Device Provisioning Service to enable zero-touch, just-in-time provisioning to one or more IoT hubs without requiring human intervention.</span></span> <span data-ttu-id="b33b5-161">To learn more, see the [provisioning service documentation][lnk-dps].</span><span class="sxs-lookup"><span data-stu-id="b33b5-161">To learn more, see the [provisioning service documentation][lnk-dps].</span></span>

## <a name="device-heartbeat"></a><span data-ttu-id="b33b5-162">Device heartbeat</span><span class="sxs-lookup"><span data-stu-id="b33b5-162">Device heartbeat</span></span>

<span data-ttu-id="b33b5-163">The IoT Hub identity registry contains a field called **connectionState**.</span><span class="sxs-lookup"><span data-stu-id="b33b5-163">The IoT Hub identity registry contains a field called **connectionState**.</span></span> <span data-ttu-id="b33b5-164">Only use the **connectionState** field during development and debugging.</span><span class="sxs-lookup"><span data-stu-id="b33b5-164">Only use the **connectionState** field during development and debugging.</span></span> <span data-ttu-id="b33b5-165">IoT solutions should not query the field at run time.</span><span class="sxs-lookup"><span data-stu-id="b33b5-165">IoT solutions should not query the field at run time.</span></span> <span data-ttu-id="b33b5-166">For example, do not query the **connectionState** field to check if a device is connected before you send a cloud-to-device message or an SMS.</span><span class="sxs-lookup"><span data-stu-id="b33b5-166">For example, do not query the **connectionState** field to check if a device is connected before you send a cloud-to-device message or an SMS.</span></span> <span data-ttu-id="b33b5-167">We recommend subscribing to the [**device disconnected** event][lnk-devguide-evgrid-evtype] on Event Grid to get alerts and monitor the device connection state.</span><span class="sxs-lookup"><span data-stu-id="b33b5-167">We recommend subscribing to the [**device disconnected** event][lnk-devguide-evgrid-evtype] on Event Grid to get alerts and monitor the device connection state.</span></span> <span data-ttu-id="b33b5-168">Use this [tutorial][lnk-howto-evgrid-connstate] to learn how to integrate Device Connected and Device Disconnected events from IoT Hub in your IoT solution.</span><span class="sxs-lookup"><span data-stu-id="b33b5-168">Use this [tutorial][lnk-howto-evgrid-connstate] to learn how to integrate Device Connected and Device Disconnected events from IoT Hub in your IoT solution.</span></span>

<span data-ttu-id="b33b5-169">If your IoT solution needs to know if a device is connected, you can implement the *heartbeat pattern*.</span><span class="sxs-lookup"><span data-stu-id="b33b5-169">If your IoT solution needs to know if a device is connected, you can implement the *heartbeat pattern*.</span></span>
<span data-ttu-id="b33b5-170">In the heartbeat pattern, the device sends device-to-cloud messages at least once every fixed amount of time (for example, at least once every hour).</span><span class="sxs-lookup"><span data-stu-id="b33b5-170">In the heartbeat pattern, the device sends device-to-cloud messages at least once every fixed amount of time (for example, at least once every hour).</span></span> <span data-ttu-id="b33b5-171">Therefore, even if a device does not have any data to send, it still sends an empty device-to-cloud message (usually with a property that identifies it as a heartbeat).</span><span class="sxs-lookup"><span data-stu-id="b33b5-171">Therefore, even if a device does not have any data to send, it still sends an empty device-to-cloud message (usually with a property that identifies it as a heartbeat).</span></span> <span data-ttu-id="b33b5-172">On the service side, the solution maintains a map with the last heartbeat received for each device.</span><span class="sxs-lookup"><span data-stu-id="b33b5-172">On the service side, the solution maintains a map with the last heartbeat received for each device.</span></span> <span data-ttu-id="b33b5-173">If the solution does not receive a heartbeat message within the expected time from the device, it assumes that there is a problem with the device.</span><span class="sxs-lookup"><span data-stu-id="b33b5-173">If the solution does not receive a heartbeat message within the expected time from the device, it assumes that there is a problem with the device.</span></span>

<span data-ttu-id="b33b5-174">A more complex implementation could include the information from [Azure Monitor][lnk-AM] and [Azure Resource Health][lnk-ARH] to identify devices that are trying to connect or communicate but failing, check [Monitor with diagnostics][lnk-devguide-mon] guide.</span><span class="sxs-lookup"><span data-stu-id="b33b5-174">A more complex implementation could include the information from [Azure Monitor][lnk-AM] and [Azure Resource Health][lnk-ARH] to identify devices that are trying to connect or communicate but failing, check [Monitor with diagnostics][lnk-devguide-mon] guide.</span></span> <span data-ttu-id="b33b5-175">When you implement the heartbeat pattern, make sure to check [IoT Hub Quotas and Throttles][lnk-quotas].</span><span class="sxs-lookup"><span data-stu-id="b33b5-175">When you implement the heartbeat pattern, make sure to check [IoT Hub Quotas and Throttles][lnk-quotas].</span></span>

> [!NOTE]
> <span data-ttu-id="b33b5-176">If an IoT solution uses the connection state solely to determine whether to send cloud-to-device messages, and messages are not broadcast to large sets of devices, consider using the simpler *short expiry time* pattern.</span><span class="sxs-lookup"><span data-stu-id="b33b5-176">If an IoT solution uses the connection state solely to determine whether to send cloud-to-device messages, and messages are not broadcast to large sets of devices, consider using the simpler *short expiry time* pattern.</span></span> <span data-ttu-id="b33b5-177">This pattern achieves the same result as maintaining a device connection state registry using the heartbeat pattern, while being more efficient.</span><span class="sxs-lookup"><span data-stu-id="b33b5-177">This pattern achieves the same result as maintaining a device connection state registry using the heartbeat pattern, while being more efficient.</span></span> <span data-ttu-id="b33b5-178">If you request message acknowledgements, IoT Hub can notify you about which devices are able to receive messages and which are not.</span><span class="sxs-lookup"><span data-stu-id="b33b5-178">If you request message acknowledgements, IoT Hub can notify you about which devices are able to receive messages and which are not.</span></span>

## <a name="device-and-module-lifecycle-notifications"></a><span data-ttu-id="b33b5-179">Device and module lifecycle notifications</span><span class="sxs-lookup"><span data-stu-id="b33b5-179">Device and module lifecycle notifications</span></span>

<span data-ttu-id="b33b5-180">IoT Hub can notify your IoT solution when an identity is created or deleted by sending lifecycle notifications.</span><span class="sxs-lookup"><span data-stu-id="b33b5-180">IoT Hub can notify your IoT solution when an identity is created or deleted by sending lifecycle notifications.</span></span> <span data-ttu-id="b33b5-181">To do so, your IoT solution needs to create a route and to set the Data Source equal to *DeviceLifecycleEvents* or *ModuleLifecycleEvents*.</span><span class="sxs-lookup"><span data-stu-id="b33b5-181">To do so, your IoT solution needs to create a route and to set the Data Source equal to *DeviceLifecycleEvents* or *ModuleLifecycleEvents*.</span></span> <span data-ttu-id="b33b5-182">By default, no lifecycle notifications are sent, that is, no such routes pre-exist.</span><span class="sxs-lookup"><span data-stu-id="b33b5-182">By default, no lifecycle notifications are sent, that is, no such routes pre-exist.</span></span> <span data-ttu-id="b33b5-183">The notification message includes properties, and body.</span><span class="sxs-lookup"><span data-stu-id="b33b5-183">The notification message includes properties, and body.</span></span>

<span data-ttu-id="b33b5-184">Properties: Message system properties are prefixed with the `'$'` symbol.</span><span class="sxs-lookup"><span data-stu-id="b33b5-184">Properties: Message system properties are prefixed with the `'$'` symbol.</span></span>

<span data-ttu-id="b33b5-185">Notification message for device:</span><span class="sxs-lookup"><span data-stu-id="b33b5-185">Notification message for device:</span></span>

| <span data-ttu-id="b33b5-186">Name</span><span class="sxs-lookup"><span data-stu-id="b33b5-186">Name</span></span> | <span data-ttu-id="b33b5-187">Value</span><span class="sxs-lookup"><span data-stu-id="b33b5-187">Value</span></span> |
| --- | --- |
|<span data-ttu-id="b33b5-188">$content-type</span><span class="sxs-lookup"><span data-stu-id="b33b5-188">$content-type</span></span> | <span data-ttu-id="b33b5-189">application/json</span><span class="sxs-lookup"><span data-stu-id="b33b5-189">application/json</span></span> |
|<span data-ttu-id="b33b5-190">$iothub-enqueuedtime</span><span class="sxs-lookup"><span data-stu-id="b33b5-190">$iothub-enqueuedtime</span></span> |  <span data-ttu-id="b33b5-191">Time when the notification was sent</span><span class="sxs-lookup"><span data-stu-id="b33b5-191">Time when the notification was sent</span></span> |
|<span data-ttu-id="b33b5-192">$iothub-message-source</span><span class="sxs-lookup"><span data-stu-id="b33b5-192">$iothub-message-source</span></span> | <span data-ttu-id="b33b5-193">deviceLifecycleEvents</span><span class="sxs-lookup"><span data-stu-id="b33b5-193">deviceLifecycleEvents</span></span> |
|<span data-ttu-id="b33b5-194">$content-encoding</span><span class="sxs-lookup"><span data-stu-id="b33b5-194">$content-encoding</span></span> | <span data-ttu-id="b33b5-195">utf-8</span><span class="sxs-lookup"><span data-stu-id="b33b5-195">utf-8</span></span> |
|<span data-ttu-id="b33b5-196">opType</span><span class="sxs-lookup"><span data-stu-id="b33b5-196">opType</span></span> | <span data-ttu-id="b33b5-197">**createDeviceIdentity** or **deleteDeviceIdentity**</span><span class="sxs-lookup"><span data-stu-id="b33b5-197">**createDeviceIdentity** or **deleteDeviceIdentity**</span></span> |
|<span data-ttu-id="b33b5-198">hubName</span><span class="sxs-lookup"><span data-stu-id="b33b5-198">hubName</span></span> | <span data-ttu-id="b33b5-199">Name of IoT Hub</span><span class="sxs-lookup"><span data-stu-id="b33b5-199">Name of IoT Hub</span></span> |
|<span data-ttu-id="b33b5-200">deviceId</span><span class="sxs-lookup"><span data-stu-id="b33b5-200">deviceId</span></span> | <span data-ttu-id="b33b5-201">ID of the device</span><span class="sxs-lookup"><span data-stu-id="b33b5-201">ID of the device</span></span> |
|<span data-ttu-id="b33b5-202">operationTimestamp</span><span class="sxs-lookup"><span data-stu-id="b33b5-202">operationTimestamp</span></span> | <span data-ttu-id="b33b5-203">ISO8601 timestamp of operation</span><span class="sxs-lookup"><span data-stu-id="b33b5-203">ISO8601 timestamp of operation</span></span> |
|<span data-ttu-id="b33b5-204">iothub-message-schema</span><span class="sxs-lookup"><span data-stu-id="b33b5-204">iothub-message-schema</span></span> | <span data-ttu-id="b33b5-205">deviceLifecycleNotification</span><span class="sxs-lookup"><span data-stu-id="b33b5-205">deviceLifecycleNotification</span></span> |

<span data-ttu-id="b33b5-206">Body: This section is in JSON format and represents the twin of the created device identity.</span><span class="sxs-lookup"><span data-stu-id="b33b5-206">Body: This section is in JSON format and represents the twin of the created device identity.</span></span> <span data-ttu-id="b33b5-207">For example,</span><span class="sxs-lookup"><span data-stu-id="b33b5-207">For example,</span></span>

```json
{
    "deviceId":"11576-ailn-test-0-67333793211",
    "etag":"AAAAAAAAAAE=",
    "properties": {
        "desired": {
            "$metadata": {
                "$lastUpdated": "2016-02-30T16:24:48.789Z"
            },
            "$version": 1
        },
        "reported": {
            "$metadata": {
                "$lastUpdated": "2016-02-30T16:24:48.789Z"
            },
            "$version": 1
        }
    }
}
```
<span data-ttu-id="b33b5-208">Notification message for module:</span><span class="sxs-lookup"><span data-stu-id="b33b5-208">Notification message for module:</span></span>

| <span data-ttu-id="b33b5-209">Name</span><span class="sxs-lookup"><span data-stu-id="b33b5-209">Name</span></span> | <span data-ttu-id="b33b5-210">Value</span><span class="sxs-lookup"><span data-stu-id="b33b5-210">Value</span></span> |
| --- | --- |
<span data-ttu-id="b33b5-211">$content-type</span><span class="sxs-lookup"><span data-stu-id="b33b5-211">$content-type</span></span> | <span data-ttu-id="b33b5-212">application/json</span><span class="sxs-lookup"><span data-stu-id="b33b5-212">application/json</span></span> |
<span data-ttu-id="b33b5-213">$iothub-enqueuedtime</span><span class="sxs-lookup"><span data-stu-id="b33b5-213">$iothub-enqueuedtime</span></span> |  <span data-ttu-id="b33b5-214">Time when the notification was sent</span><span class="sxs-lookup"><span data-stu-id="b33b5-214">Time when the notification was sent</span></span> |
<span data-ttu-id="b33b5-215">$iothub-message-source</span><span class="sxs-lookup"><span data-stu-id="b33b5-215">$iothub-message-source</span></span> | <span data-ttu-id="b33b5-216">moduleLifecycleEvents</span><span class="sxs-lookup"><span data-stu-id="b33b5-216">moduleLifecycleEvents</span></span> |
<span data-ttu-id="b33b5-217">$content-encoding</span><span class="sxs-lookup"><span data-stu-id="b33b5-217">$content-encoding</span></span> | <span data-ttu-id="b33b5-218">utf-8</span><span class="sxs-lookup"><span data-stu-id="b33b5-218">utf-8</span></span> |
<span data-ttu-id="b33b5-219">opType</span><span class="sxs-lookup"><span data-stu-id="b33b5-219">opType</span></span> | <span data-ttu-id="b33b5-220">**createModuleIdentity** or **deleteModuleIdentity**</span><span class="sxs-lookup"><span data-stu-id="b33b5-220">**createModuleIdentity** or **deleteModuleIdentity**</span></span> |
<span data-ttu-id="b33b5-221">hubName</span><span class="sxs-lookup"><span data-stu-id="b33b5-221">hubName</span></span> | <span data-ttu-id="b33b5-222">Name of IoT Hub</span><span class="sxs-lookup"><span data-stu-id="b33b5-222">Name of IoT Hub</span></span> |
<span data-ttu-id="b33b5-223">moduleId</span><span class="sxs-lookup"><span data-stu-id="b33b5-223">moduleId</span></span> | <span data-ttu-id="b33b5-224">ID of the module</span><span class="sxs-lookup"><span data-stu-id="b33b5-224">ID of the module</span></span> |
<span data-ttu-id="b33b5-225">operationTimestamp</span><span class="sxs-lookup"><span data-stu-id="b33b5-225">operationTimestamp</span></span> | <span data-ttu-id="b33b5-226">ISO8601 timestamp of operation</span><span class="sxs-lookup"><span data-stu-id="b33b5-226">ISO8601 timestamp of operation</span></span> |
<span data-ttu-id="b33b5-227">iothub-message-schema</span><span class="sxs-lookup"><span data-stu-id="b33b5-227">iothub-message-schema</span></span> | <span data-ttu-id="b33b5-228">moduleLifecycleNotification</span><span class="sxs-lookup"><span data-stu-id="b33b5-228">moduleLifecycleNotification</span></span> |

<span data-ttu-id="b33b5-229">Body: This section is in JSON format and represents the twin of the created module identity.</span><span class="sxs-lookup"><span data-stu-id="b33b5-229">Body: This section is in JSON format and represents the twin of the created module identity.</span></span> <span data-ttu-id="b33b5-230">For example,</span><span class="sxs-lookup"><span data-stu-id="b33b5-230">For example,</span></span>

```json
{
    "deviceId":"11576-ailn-test-0-67333793211",
    "moduleId":"tempSensor",
    "etag":"AAAAAAAAAAE=",
    "properties": {
        "desired": {
            "$metadata": {
                "$lastUpdated": "2016-02-30T16:24:48.789Z"
            },
            "$version": 1
        },
        "reported": {
            "$metadata": {
                "$lastUpdated": "2016-02-30T16:24:48.789Z"
            },
            "$version": 1
        }
    }
}
```

## <a name="device-identity-properties"></a><span data-ttu-id="b33b5-231">Device identity properties</span><span class="sxs-lookup"><span data-stu-id="b33b5-231">Device identity properties</span></span>

<span data-ttu-id="b33b5-232">Device identities are represented as JSON documents with the following properties:</span><span class="sxs-lookup"><span data-stu-id="b33b5-232">Device identities are represented as JSON documents with the following properties:</span></span>

| <span data-ttu-id="b33b5-233">Property</span><span class="sxs-lookup"><span data-stu-id="b33b5-233">Property</span></span> | <span data-ttu-id="b33b5-234">Options</span><span class="sxs-lookup"><span data-stu-id="b33b5-234">Options</span></span> | <span data-ttu-id="b33b5-235">Description</span><span class="sxs-lookup"><span data-stu-id="b33b5-235">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="b33b5-236">deviceId</span><span class="sxs-lookup"><span data-stu-id="b33b5-236">deviceId</span></span> |<span data-ttu-id="b33b5-237">required, read-only on updates</span><span class="sxs-lookup"><span data-stu-id="b33b5-237">required, read-only on updates</span></span> |<span data-ttu-id="b33b5-238">A case-sensitive string (up to 128 characters long) of ASCII 7-bit alphanumeric characters plus certain special characters: `- . + % _ # * ? ! ( ) , = @ $ '`.</span><span class="sxs-lookup"><span data-stu-id="b33b5-238">A case-sensitive string (up to 128 characters long) of ASCII 7-bit alphanumeric characters plus certain special characters: `- . + % _ # * ? ! ( ) , = @ $ '`.</span></span> |
| <span data-ttu-id="b33b5-239">generationId</span><span class="sxs-lookup"><span data-stu-id="b33b5-239">generationId</span></span> |<span data-ttu-id="b33b5-240">required, read-only</span><span class="sxs-lookup"><span data-stu-id="b33b5-240">required, read-only</span></span> |<span data-ttu-id="b33b5-241">An IoT hub-generated, case-sensitive string up to 128 characters long.</span><span class="sxs-lookup"><span data-stu-id="b33b5-241">An IoT hub-generated, case-sensitive string up to 128 characters long.</span></span> <span data-ttu-id="b33b5-242">This value is used to distinguish devices with the same **deviceId**, when they have been deleted and re-created.</span><span class="sxs-lookup"><span data-stu-id="b33b5-242">This value is used to distinguish devices with the same **deviceId**, when they have been deleted and re-created.</span></span> |
| <span data-ttu-id="b33b5-243">etag</span><span class="sxs-lookup"><span data-stu-id="b33b5-243">etag</span></span> |<span data-ttu-id="b33b5-244">required, read-only</span><span class="sxs-lookup"><span data-stu-id="b33b5-244">required, read-only</span></span> |<span data-ttu-id="b33b5-245">A string representing a weak ETag for the device identity, as per [RFC7232][lnk-rfc7232].</span><span class="sxs-lookup"><span data-stu-id="b33b5-245">A string representing a weak ETag for the device identity, as per [RFC7232][lnk-rfc7232].</span></span> |
| <span data-ttu-id="b33b5-246">auth</span><span class="sxs-lookup"><span data-stu-id="b33b5-246">auth</span></span> |<span data-ttu-id="b33b5-247">optional</span><span class="sxs-lookup"><span data-stu-id="b33b5-247">optional</span></span> |<span data-ttu-id="b33b5-248">A composite object containing authentication information and security materials.</span><span class="sxs-lookup"><span data-stu-id="b33b5-248">A composite object containing authentication information and security materials.</span></span> |
| <span data-ttu-id="b33b5-249">auth.symkey</span><span class="sxs-lookup"><span data-stu-id="b33b5-249">auth.symkey</span></span> |<span data-ttu-id="b33b5-250">optional</span><span class="sxs-lookup"><span data-stu-id="b33b5-250">optional</span></span> |<span data-ttu-id="b33b5-251">A composite object containing a primary and a secondary key, stored in base64 format.</span><span class="sxs-lookup"><span data-stu-id="b33b5-251">A composite object containing a primary and a secondary key, stored in base64 format.</span></span> |
| <span data-ttu-id="b33b5-252">status</span><span class="sxs-lookup"><span data-stu-id="b33b5-252">status</span></span> |<span data-ttu-id="b33b5-253">required</span><span class="sxs-lookup"><span data-stu-id="b33b5-253">required</span></span> |<span data-ttu-id="b33b5-254">An access indicator.</span><span class="sxs-lookup"><span data-stu-id="b33b5-254">An access indicator.</span></span> <span data-ttu-id="b33b5-255">Can be **Enabled** or **Disabled**.</span><span class="sxs-lookup"><span data-stu-id="b33b5-255">Can be **Enabled** or **Disabled**.</span></span> <span data-ttu-id="b33b5-256">If **Enabled**, the device is allowed to connect.</span><span class="sxs-lookup"><span data-stu-id="b33b5-256">If **Enabled**, the device is allowed to connect.</span></span> <span data-ttu-id="b33b5-257">If **Disabled**, this device cannot access any device-facing endpoint.</span><span class="sxs-lookup"><span data-stu-id="b33b5-257">If **Disabled**, this device cannot access any device-facing endpoint.</span></span> |
| <span data-ttu-id="b33b5-258">statusReason</span><span class="sxs-lookup"><span data-stu-id="b33b5-258">statusReason</span></span> |<span data-ttu-id="b33b5-259">optional</span><span class="sxs-lookup"><span data-stu-id="b33b5-259">optional</span></span> |<span data-ttu-id="b33b5-260">A 128 character-long string that stores the reason for the device identity status.</span><span class="sxs-lookup"><span data-stu-id="b33b5-260">A 128 character-long string that stores the reason for the device identity status.</span></span> <span data-ttu-id="b33b5-261">All UTF-8 characters are allowed.</span><span class="sxs-lookup"><span data-stu-id="b33b5-261">All UTF-8 characters are allowed.</span></span> |
| <span data-ttu-id="b33b5-262">statusUpdateTime</span><span class="sxs-lookup"><span data-stu-id="b33b5-262">statusUpdateTime</span></span> |<span data-ttu-id="b33b5-263">read-only</span><span class="sxs-lookup"><span data-stu-id="b33b5-263">read-only</span></span> |<span data-ttu-id="b33b5-264">A temporal indicator, showing the date and time of the last status update.</span><span class="sxs-lookup"><span data-stu-id="b33b5-264">A temporal indicator, showing the date and time of the last status update.</span></span> |
| <span data-ttu-id="b33b5-265">connectionState</span><span class="sxs-lookup"><span data-stu-id="b33b5-265">connectionState</span></span> |<span data-ttu-id="b33b5-266">read-only</span><span class="sxs-lookup"><span data-stu-id="b33b5-266">read-only</span></span> |<span data-ttu-id="b33b5-267">A field indicating connection status: either **Connected** or **Disconnected**.</span><span class="sxs-lookup"><span data-stu-id="b33b5-267">A field indicating connection status: either **Connected** or **Disconnected**.</span></span> <span data-ttu-id="b33b5-268">This field represents the IoT Hub view of the device connection status.</span><span class="sxs-lookup"><span data-stu-id="b33b5-268">This field represents the IoT Hub view of the device connection status.</span></span> <span data-ttu-id="b33b5-269">**Important**: This field should be used only for development/debugging purposes.</span><span class="sxs-lookup"><span data-stu-id="b33b5-269">**Important**: This field should be used only for development/debugging purposes.</span></span> <span data-ttu-id="b33b5-270">The connection state is updated only for devices using MQTT or AMQP.</span><span class="sxs-lookup"><span data-stu-id="b33b5-270">The connection state is updated only for devices using MQTT or AMQP.</span></span> <span data-ttu-id="b33b5-271">Also, it is based on protocol-level pings (MQTT pings, or AMQP pings), and it can have a maximum delay of only 5 minutes.</span><span class="sxs-lookup"><span data-stu-id="b33b5-271">Also, it is based on protocol-level pings (MQTT pings, or AMQP pings), and it can have a maximum delay of only 5 minutes.</span></span> <span data-ttu-id="b33b5-272">For these reasons, there can be false positives, such as devices reported as connected but that are disconnected.</span><span class="sxs-lookup"><span data-stu-id="b33b5-272">For these reasons, there can be false positives, such as devices reported as connected but that are disconnected.</span></span> |
| <span data-ttu-id="b33b5-273">connectionStateUpdatedTime</span><span class="sxs-lookup"><span data-stu-id="b33b5-273">connectionStateUpdatedTime</span></span> |<span data-ttu-id="b33b5-274">read-only</span><span class="sxs-lookup"><span data-stu-id="b33b5-274">read-only</span></span> |<span data-ttu-id="b33b5-275">A temporal indicator, showing the date and last time the connection state was updated.</span><span class="sxs-lookup"><span data-stu-id="b33b5-275">A temporal indicator, showing the date and last time the connection state was updated.</span></span> |
| <span data-ttu-id="b33b5-276">lastActivityTime</span><span class="sxs-lookup"><span data-stu-id="b33b5-276">lastActivityTime</span></span> |<span data-ttu-id="b33b5-277">read-only</span><span class="sxs-lookup"><span data-stu-id="b33b5-277">read-only</span></span> |<span data-ttu-id="b33b5-278">A temporal indicator, showing the date and last time the device connected, received, or sent a message.</span><span class="sxs-lookup"><span data-stu-id="b33b5-278">A temporal indicator, showing the date and last time the device connected, received, or sent a message.</span></span> |

> [!NOTE]
> <span data-ttu-id="b33b5-279">Connection state can only represent the IoT Hub view of the status of the connection.</span><span class="sxs-lookup"><span data-stu-id="b33b5-279">Connection state can only represent the IoT Hub view of the status of the connection.</span></span> <span data-ttu-id="b33b5-280">Updates to this state may be delayed, depending on network conditions and configurations.</span><span class="sxs-lookup"><span data-stu-id="b33b5-280">Updates to this state may be delayed, depending on network conditions and configurations.</span></span>

## <a name="module-identity-properties"></a><span data-ttu-id="b33b5-281">Module identity properties</span><span class="sxs-lookup"><span data-stu-id="b33b5-281">Module identity properties</span></span>

<span data-ttu-id="b33b5-282">Module identities are represented as JSON documents with the following properties:</span><span class="sxs-lookup"><span data-stu-id="b33b5-282">Module identities are represented as JSON documents with the following properties:</span></span>

| <span data-ttu-id="b33b5-283">Property</span><span class="sxs-lookup"><span data-stu-id="b33b5-283">Property</span></span> | <span data-ttu-id="b33b5-284">Options</span><span class="sxs-lookup"><span data-stu-id="b33b5-284">Options</span></span> | <span data-ttu-id="b33b5-285">Description</span><span class="sxs-lookup"><span data-stu-id="b33b5-285">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="b33b5-286">deviceId</span><span class="sxs-lookup"><span data-stu-id="b33b5-286">deviceId</span></span> |<span data-ttu-id="b33b5-287">required, read-only on updates</span><span class="sxs-lookup"><span data-stu-id="b33b5-287">required, read-only on updates</span></span> |<span data-ttu-id="b33b5-288">A case-sensitive string (up to 128 characters long) of ASCII 7-bit alphanumeric characters plus certain special characters: `- . + % _ # * ? ! ( ) , = @ $ '`.</span><span class="sxs-lookup"><span data-stu-id="b33b5-288">A case-sensitive string (up to 128 characters long) of ASCII 7-bit alphanumeric characters plus certain special characters: `- . + % _ # * ? ! ( ) , = @ $ '`.</span></span> |
| <span data-ttu-id="b33b5-289">moduleId</span><span class="sxs-lookup"><span data-stu-id="b33b5-289">moduleId</span></span> |<span data-ttu-id="b33b5-290">required, read-only on updates</span><span class="sxs-lookup"><span data-stu-id="b33b5-290">required, read-only on updates</span></span> |<span data-ttu-id="b33b5-291">A case-sensitive string (up to 128 characters long) of ASCII 7-bit alphanumeric characters plus certain special characters: `- . + % _ # * ? ! ( ) , = @ $ '`.</span><span class="sxs-lookup"><span data-stu-id="b33b5-291">A case-sensitive string (up to 128 characters long) of ASCII 7-bit alphanumeric characters plus certain special characters: `- . + % _ # * ? ! ( ) , = @ $ '`.</span></span> |
| <span data-ttu-id="b33b5-292">generationId</span><span class="sxs-lookup"><span data-stu-id="b33b5-292">generationId</span></span> |<span data-ttu-id="b33b5-293">required, read-only</span><span class="sxs-lookup"><span data-stu-id="b33b5-293">required, read-only</span></span> |<span data-ttu-id="b33b5-294">An IoT hub-generated, case-sensitive string up to 128 characters long.</span><span class="sxs-lookup"><span data-stu-id="b33b5-294">An IoT hub-generated, case-sensitive string up to 128 characters long.</span></span> <span data-ttu-id="b33b5-295">This value is used to distinguish devices with the same **deviceId**, when they have been deleted and re-created.</span><span class="sxs-lookup"><span data-stu-id="b33b5-295">This value is used to distinguish devices with the same **deviceId**, when they have been deleted and re-created.</span></span> |
| <span data-ttu-id="b33b5-296">etag</span><span class="sxs-lookup"><span data-stu-id="b33b5-296">etag</span></span> |<span data-ttu-id="b33b5-297">required, read-only</span><span class="sxs-lookup"><span data-stu-id="b33b5-297">required, read-only</span></span> |<span data-ttu-id="b33b5-298">A string representing a weak ETag for the device identity, as per [RFC7232][lnk-rfc7232].</span><span class="sxs-lookup"><span data-stu-id="b33b5-298">A string representing a weak ETag for the device identity, as per [RFC7232][lnk-rfc7232].</span></span> |
| <span data-ttu-id="b33b5-299">auth</span><span class="sxs-lookup"><span data-stu-id="b33b5-299">auth</span></span> |<span data-ttu-id="b33b5-300">optional</span><span class="sxs-lookup"><span data-stu-id="b33b5-300">optional</span></span> |<span data-ttu-id="b33b5-301">A composite object containing authentication information and security materials.</span><span class="sxs-lookup"><span data-stu-id="b33b5-301">A composite object containing authentication information and security materials.</span></span> |
| <span data-ttu-id="b33b5-302">auth.symkey</span><span class="sxs-lookup"><span data-stu-id="b33b5-302">auth.symkey</span></span> |<span data-ttu-id="b33b5-303">optional</span><span class="sxs-lookup"><span data-stu-id="b33b5-303">optional</span></span> |<span data-ttu-id="b33b5-304">A composite object containing a primary and a secondary key, stored in base64 format.</span><span class="sxs-lookup"><span data-stu-id="b33b5-304">A composite object containing a primary and a secondary key, stored in base64 format.</span></span> |
| <span data-ttu-id="b33b5-305">status</span><span class="sxs-lookup"><span data-stu-id="b33b5-305">status</span></span> |<span data-ttu-id="b33b5-306">required</span><span class="sxs-lookup"><span data-stu-id="b33b5-306">required</span></span> |<span data-ttu-id="b33b5-307">An access indicator.</span><span class="sxs-lookup"><span data-stu-id="b33b5-307">An access indicator.</span></span> <span data-ttu-id="b33b5-308">Can be **Enabled** or **Disabled**.</span><span class="sxs-lookup"><span data-stu-id="b33b5-308">Can be **Enabled** or **Disabled**.</span></span> <span data-ttu-id="b33b5-309">If **Enabled**, the device is allowed to connect.</span><span class="sxs-lookup"><span data-stu-id="b33b5-309">If **Enabled**, the device is allowed to connect.</span></span> <span data-ttu-id="b33b5-310">If **Disabled**, this device cannot access any device-facing endpoint.</span><span class="sxs-lookup"><span data-stu-id="b33b5-310">If **Disabled**, this device cannot access any device-facing endpoint.</span></span> |
| <span data-ttu-id="b33b5-311">statusReason</span><span class="sxs-lookup"><span data-stu-id="b33b5-311">statusReason</span></span> |<span data-ttu-id="b33b5-312">optional</span><span class="sxs-lookup"><span data-stu-id="b33b5-312">optional</span></span> |<span data-ttu-id="b33b5-313">A 128 character-long string that stores the reason for the device identity status.</span><span class="sxs-lookup"><span data-stu-id="b33b5-313">A 128 character-long string that stores the reason for the device identity status.</span></span> <span data-ttu-id="b33b5-314">All UTF-8 characters are allowed.</span><span class="sxs-lookup"><span data-stu-id="b33b5-314">All UTF-8 characters are allowed.</span></span> |
| <span data-ttu-id="b33b5-315">statusUpdateTime</span><span class="sxs-lookup"><span data-stu-id="b33b5-315">statusUpdateTime</span></span> |<span data-ttu-id="b33b5-316">read-only</span><span class="sxs-lookup"><span data-stu-id="b33b5-316">read-only</span></span> |<span data-ttu-id="b33b5-317">A temporal indicator, showing the date and time of the last status update.</span><span class="sxs-lookup"><span data-stu-id="b33b5-317">A temporal indicator, showing the date and time of the last status update.</span></span> |
| <span data-ttu-id="b33b5-318">connectionState</span><span class="sxs-lookup"><span data-stu-id="b33b5-318">connectionState</span></span> |<span data-ttu-id="b33b5-319">read-only</span><span class="sxs-lookup"><span data-stu-id="b33b5-319">read-only</span></span> |<span data-ttu-id="b33b5-320">A field indicating connection status: either **Connected** or **Disconnected**.</span><span class="sxs-lookup"><span data-stu-id="b33b5-320">A field indicating connection status: either **Connected** or **Disconnected**.</span></span> <span data-ttu-id="b33b5-321">This field represents the IoT Hub view of the device connection status.</span><span class="sxs-lookup"><span data-stu-id="b33b5-321">This field represents the IoT Hub view of the device connection status.</span></span> <span data-ttu-id="b33b5-322">**Important**: This field should be used only for development/debugging purposes.</span><span class="sxs-lookup"><span data-stu-id="b33b5-322">**Important**: This field should be used only for development/debugging purposes.</span></span> <span data-ttu-id="b33b5-323">The connection state is updated only for devices using MQTT or AMQP.</span><span class="sxs-lookup"><span data-stu-id="b33b5-323">The connection state is updated only for devices using MQTT or AMQP.</span></span> <span data-ttu-id="b33b5-324">Also, it is based on protocol-level pings (MQTT pings, or AMQP pings), and it can have a maximum delay of only 5 minutes.</span><span class="sxs-lookup"><span data-stu-id="b33b5-324">Also, it is based on protocol-level pings (MQTT pings, or AMQP pings), and it can have a maximum delay of only 5 minutes.</span></span> <span data-ttu-id="b33b5-325">For these reasons, there can be false positives, such as devices reported as connected but that are disconnected.</span><span class="sxs-lookup"><span data-stu-id="b33b5-325">For these reasons, there can be false positives, such as devices reported as connected but that are disconnected.</span></span> |
| <span data-ttu-id="b33b5-326">connectionStateUpdatedTime</span><span class="sxs-lookup"><span data-stu-id="b33b5-326">connectionStateUpdatedTime</span></span> |<span data-ttu-id="b33b5-327">read-only</span><span class="sxs-lookup"><span data-stu-id="b33b5-327">read-only</span></span> |<span data-ttu-id="b33b5-328">A temporal indicator, showing the date and last time the connection state was updated.</span><span class="sxs-lookup"><span data-stu-id="b33b5-328">A temporal indicator, showing the date and last time the connection state was updated.</span></span> |
| <span data-ttu-id="b33b5-329">lastActivityTime</span><span class="sxs-lookup"><span data-stu-id="b33b5-329">lastActivityTime</span></span> |<span data-ttu-id="b33b5-330">read-only</span><span class="sxs-lookup"><span data-stu-id="b33b5-330">read-only</span></span> |<span data-ttu-id="b33b5-331">A temporal indicator, showing the date and last time the device connected, received, or sent a message.</span><span class="sxs-lookup"><span data-stu-id="b33b5-331">A temporal indicator, showing the date and last time the device connected, received, or sent a message.</span></span> |

## <a name="additional-reference-material"></a><span data-ttu-id="b33b5-332">Additional reference material</span><span class="sxs-lookup"><span data-stu-id="b33b5-332">Additional reference material</span></span>

<span data-ttu-id="b33b5-333">Other reference topics in the IoT Hub developer guide include:</span><span class="sxs-lookup"><span data-stu-id="b33b5-333">Other reference topics in the IoT Hub developer guide include:</span></span>

* <span data-ttu-id="b33b5-334">[IoT Hub endpoints][lnk-endpoints] describes the various endpoints that each IoT hub exposes for run-time and management operations.</span><span class="sxs-lookup"><span data-stu-id="b33b5-334">[IoT Hub endpoints][lnk-endpoints] describes the various endpoints that each IoT hub exposes for run-time and management operations.</span></span>
* <span data-ttu-id="b33b5-335">[Throttling and quotas][lnk-quotas] describes the quotas and throttling behaviors that apply to the IoT Hub service.</span><span class="sxs-lookup"><span data-stu-id="b33b5-335">[Throttling and quotas][lnk-quotas] describes the quotas and throttling behaviors that apply to the IoT Hub service.</span></span>
* <span data-ttu-id="b33b5-336">[Azure IoT device and service SDKs][lnk-sdks] lists the various language SDKs you can use when you develop both device and service apps that interact with IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="b33b5-336">[Azure IoT device and service SDKs][lnk-sdks] lists the various language SDKs you can use when you develop both device and service apps that interact with IoT Hub.</span></span>
* <span data-ttu-id="b33b5-337">[IoT Hub query language][lnk-query] describes the query language you can use to retrieve information from IoT Hub about your device twins and jobs.</span><span class="sxs-lookup"><span data-stu-id="b33b5-337">[IoT Hub query language][lnk-query] describes the query language you can use to retrieve information from IoT Hub about your device twins and jobs.</span></span>
* <span data-ttu-id="b33b5-338">[IoT Hub MQTT support][lnk-devguide-mqtt] provides more information about IoT Hub support for the MQTT protocol.</span><span class="sxs-lookup"><span data-stu-id="b33b5-338">[IoT Hub MQTT support][lnk-devguide-mqtt] provides more information about IoT Hub support for the MQTT protocol.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b33b5-339">Next steps</span><span class="sxs-lookup"><span data-stu-id="b33b5-339">Next steps</span></span>

<span data-ttu-id="b33b5-340">Now that you have learned how to use the IoT Hub identity registry, you may be interested in the following IoT Hub developer guide topics:</span><span class="sxs-lookup"><span data-stu-id="b33b5-340">Now that you have learned how to use the IoT Hub identity registry, you may be interested in the following IoT Hub developer guide topics:</span></span>

* <span data-ttu-id="b33b5-341">[Control access to IoT Hub][lnk-devguide-security]</span><span class="sxs-lookup"><span data-stu-id="b33b5-341">[Control access to IoT Hub][lnk-devguide-security]</span></span>
* <span data-ttu-id="b33b5-342">[Use device twins to synchronize state and configurations][lnk-devguide-device-twins]</span><span class="sxs-lookup"><span data-stu-id="b33b5-342">[Use device twins to synchronize state and configurations][lnk-devguide-device-twins]</span></span>
* <span data-ttu-id="b33b5-343">[Invoke a direct method on a device][lnk-devguide-directmethods]</span><span class="sxs-lookup"><span data-stu-id="b33b5-343">[Invoke a direct method on a device][lnk-devguide-directmethods]</span></span>
* <span data-ttu-id="b33b5-344">[Schedule jobs on multiple devices][lnk-devguide-jobs]</span><span class="sxs-lookup"><span data-stu-id="b33b5-344">[Schedule jobs on multiple devices][lnk-devguide-jobs]</span></span>

<span data-ttu-id="b33b5-345">To try out some of the concepts described in this article, see the following IoT Hub tutorial:</span><span class="sxs-lookup"><span data-stu-id="b33b5-345">To try out some of the concepts described in this article, see the following IoT Hub tutorial:</span></span>

* <span data-ttu-id="b33b5-346">[Get started with Azure IoT Hub][lnk-getstarted-tutorial]</span><span class="sxs-lookup"><span data-stu-id="b33b5-346">[Get started with Azure IoT Hub][lnk-getstarted-tutorial]</span></span>

<span data-ttu-id="b33b5-347">To explore using the IoT Hub Device Provisioning Service to enable zero-touch, just-in-time provisioning, see:</span><span class="sxs-lookup"><span data-stu-id="b33b5-347">To explore using the IoT Hub Device Provisioning Service to enable zero-touch, just-in-time provisioning, see:</span></span> 

* <span data-ttu-id="b33b5-348">[Azure IoT Hub Device Provisioning Service][lnk-dps]</span><span class="sxs-lookup"><span data-stu-id="b33b5-348">[Azure IoT Hub Device Provisioning Service][lnk-dps]</span></span>


<!-- Links and images -->

[lnk-endpoints]: iot-hub-devguide-endpoints.md
[lnk-quotas]: iot-hub-devguide-quotas-throttling.md
[lnk-sdks]: iot-hub-devguide-sdks.md
[lnk-query]: iot-hub-devguide-query-language.md
[lnk-devguide-mqtt]: iot-hub-mqtt-support.md
[lnk-resource-provider-apis]: https://docs.microsoft.com/rest/api/iothub/iothubresource
[lnk-guidance-provisioning]: iot-hub-devguide-identity-registry.md#device-provisioning
[lnk-guidance-heartbeat]: iot-hub-devguide-identity-registry.md#device-heartbeat
[lnk-rfc7232]: https://tools.ietf.org/html/rfc7232
[lnk-bulk-identity]: iot-hub-bulk-identity-mgmt.md
[lnk-export]: iot-hub-devguide-identity-registry.md#import-and-export-device-identities
[lnk-devguide-mon]: iot-hub-monitor-resource-health.md

[lnk-devguide-security]: iot-hub-devguide-security.md
[lnk-devguide-device-twins]: iot-hub-devguide-device-twins.md
[lnk-devguide-directmethods]: iot-hub-devguide-direct-methods.md
[lnk-devguide-jobs]: iot-hub-devguide-jobs.md

[lnk-getstarted-tutorial]: quickstart-send-telemetry-dotnet.md
[lnk-dps]: https://azure.microsoft.com/documentation/services/iot-dps

[lnk-AM]: ../monitoring-and-diagnostics/index.yml
[lnk-ARH]: ../service-health/resource-health-overview.md
[lnk-devguide-evgrid-evtype]: iot-hub-event-grid.md#event-types
[lnk-howto-evgrid-connstate]: iot-hub-how-to-order-connection-state-events.md
