---
title: Understand the Azure IoT Hub identity registry | Microsoft Docs
description: Developer guide - description of the IoT Hub identity registry and how to use it to manage your devices. Includes information about the import and export of device identities in bulk.
services: iot-hub
documentationcenter: .net
author: dominicbetts
manager: timlt
editor: ''
ms.assetid: 0706eccd-e84c-4ae7-bbd4-2b1a22241147
ms.service: iot-hub
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 03/24/2017
ms.author: dobett
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 75a2fa16a7e33cf85746538e120ca90a389b05c5
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44661643"
---
# <a name="understand-identity-registry-in-your-iot-hub"></a><span data-ttu-id="31bf6-104">Understand identity registry in your IoT hub</span><span class="sxs-lookup"><span data-stu-id="31bf6-104">Understand identity registry in your IoT hub</span></span>

## <a name="overview"></a><span data-ttu-id="31bf6-105">Overview</span><span class="sxs-lookup"><span data-stu-id="31bf6-105">Overview</span></span>

<span data-ttu-id="31bf6-106">Every IoT hub has an identity registry that stores information about the devices that are permitted to connect to the IoT hub.</span><span class="sxs-lookup"><span data-stu-id="31bf6-106">Every IoT hub has an identity registry that stores information about the devices that are permitted to connect to the IoT hub.</span></span> <span data-ttu-id="31bf6-107">Before a device can connect to an IoT hub, there must be an entry for that device in the IoT hub's identity registry.</span><span class="sxs-lookup"><span data-stu-id="31bf6-107">Before a device can connect to an IoT hub, there must be an entry for that device in the IoT hub's identity registry.</span></span> <span data-ttu-id="31bf6-108">A device must also authenticate with the IoT hub based on credentials stored in the identity registry.</span><span class="sxs-lookup"><span data-stu-id="31bf6-108">A device must also authenticate with the IoT hub based on credentials stored in the identity registry.</span></span>

<span data-ttu-id="31bf6-109">At a high level, the identity registry is a REST-capable collection of device identity resources.</span><span class="sxs-lookup"><span data-stu-id="31bf6-109">At a high level, the identity registry is a REST-capable collection of device identity resources.</span></span> <span data-ttu-id="31bf6-110">When you add an entry to the identity registry, IoT Hub creates a set of per-device resources in the service such as the queue that contains in-flight cloud-to-device messages.</span><span class="sxs-lookup"><span data-stu-id="31bf6-110">When you add an entry to the identity registry, IoT Hub creates a set of per-device resources in the service such as the queue that contains in-flight cloud-to-device messages.</span></span>

### <a name="when-to-use"></a><span data-ttu-id="31bf6-111">When to use</span><span class="sxs-lookup"><span data-stu-id="31bf6-111">When to use</span></span>

<span data-ttu-id="31bf6-112">Use the identity registry when you need to provision devices that connect to your IoT hub and when you need to control per-device access to your hub's device-facing endpoints.</span><span class="sxs-lookup"><span data-stu-id="31bf6-112">Use the identity registry when you need to provision devices that connect to your IoT hub and when you need to control per-device access to your hub's device-facing endpoints.</span></span>

> [!NOTE]
> <span data-ttu-id="31bf6-113">The identity registry does not contain any application-specific metadata.</span><span class="sxs-lookup"><span data-stu-id="31bf6-113">The identity registry does not contain any application-specific metadata.</span></span>

## <a name="identity-registry-operations"></a><span data-ttu-id="31bf6-114">Identity registry operations</span><span class="sxs-lookup"><span data-stu-id="31bf6-114">Identity registry operations</span></span>

<span data-ttu-id="31bf6-115">The IoT Hub identity registry exposes the following operations:</span><span class="sxs-lookup"><span data-stu-id="31bf6-115">The IoT Hub identity registry exposes the following operations:</span></span>

* <span data-ttu-id="31bf6-116">Create device identity</span><span class="sxs-lookup"><span data-stu-id="31bf6-116">Create device identity</span></span>
* <span data-ttu-id="31bf6-117">Update device identity</span><span class="sxs-lookup"><span data-stu-id="31bf6-117">Update device identity</span></span>
* <span data-ttu-id="31bf6-118">Retrieve device identity by ID</span><span class="sxs-lookup"><span data-stu-id="31bf6-118">Retrieve device identity by ID</span></span>
* <span data-ttu-id="31bf6-119">Delete device identity</span><span class="sxs-lookup"><span data-stu-id="31bf6-119">Delete device identity</span></span>
* <span data-ttu-id="31bf6-120">List up to 1000 identities</span><span class="sxs-lookup"><span data-stu-id="31bf6-120">List up to 1000 identities</span></span>
* <span data-ttu-id="31bf6-121">Export all identities to Azure blob storage</span><span class="sxs-lookup"><span data-stu-id="31bf6-121">Export all identities to Azure blob storage</span></span>
* <span data-ttu-id="31bf6-122">Import identities from Azure blob storage</span><span class="sxs-lookup"><span data-stu-id="31bf6-122">Import identities from Azure blob storage</span></span>

<span data-ttu-id="31bf6-123">All these operations can use optimistic concurrency, as specified in [RFC7232][lnk-rfc7232].</span><span class="sxs-lookup"><span data-stu-id="31bf6-123">All these operations can use optimistic concurrency, as specified in [RFC7232][lnk-rfc7232].</span></span>

> [!IMPORTANT]
> <span data-ttu-id="31bf6-124">The only way to retrieve all identities in an IoT hub's identity registry is to use the [Export][lnk-export] functionality.</span><span class="sxs-lookup"><span data-stu-id="31bf6-124">The only way to retrieve all identities in an IoT hub's identity registry is to use the [Export][lnk-export] functionality.</span></span>

<span data-ttu-id="31bf6-125">An IoT Hub identity registry:</span><span class="sxs-lookup"><span data-stu-id="31bf6-125">An IoT Hub identity registry:</span></span>

* <span data-ttu-id="31bf6-126">Does not contain any application metadata.</span><span class="sxs-lookup"><span data-stu-id="31bf6-126">Does not contain any application metadata.</span></span>
* <span data-ttu-id="31bf6-127">Can be accessed like a dictionary, by using the **deviceId** as the key.</span><span class="sxs-lookup"><span data-stu-id="31bf6-127">Can be accessed like a dictionary, by using the **deviceId** as the key.</span></span>
* <span data-ttu-id="31bf6-128">Does not support expressive queries.</span><span class="sxs-lookup"><span data-stu-id="31bf6-128">Does not support expressive queries.</span></span>

<span data-ttu-id="31bf6-129">An IoT solution typically has a separate solution-specific store that contains application-specific metadata.</span><span class="sxs-lookup"><span data-stu-id="31bf6-129">An IoT solution typically has a separate solution-specific store that contains application-specific metadata.</span></span> <span data-ttu-id="31bf6-130">For example, the solution-specific store in a smart building solution would record the room in which a temperature sensor is deployed.</span><span class="sxs-lookup"><span data-stu-id="31bf6-130">For example, the solution-specific store in a smart building solution would record the room in which a temperature sensor is deployed.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="31bf6-131">Only use the identity registry for device management and provisioning operations.</span><span class="sxs-lookup"><span data-stu-id="31bf6-131">Only use the identity registry for device management and provisioning operations.</span></span> <span data-ttu-id="31bf6-132">High throughput operations at run time should not depend on performing operations in the identity registry.</span><span class="sxs-lookup"><span data-stu-id="31bf6-132">High throughput operations at run time should not depend on performing operations in the identity registry.</span></span> <span data-ttu-id="31bf6-133">For example, checking the connection state of a device before sending a command is not a supported pattern.</span><span class="sxs-lookup"><span data-stu-id="31bf6-133">For example, checking the connection state of a device before sending a command is not a supported pattern.</span></span> <span data-ttu-id="31bf6-134">Make sure to check the [throttling rates][lnk-quotas] for the identity registry, and the [device heartbeat][lnk-guidance-heartbeat] pattern.</span><span class="sxs-lookup"><span data-stu-id="31bf6-134">Make sure to check the [throttling rates][lnk-quotas] for the identity registry, and the [device heartbeat][lnk-guidance-heartbeat] pattern.</span></span>

## <a name="disable-devices"></a><span data-ttu-id="31bf6-135">Disable devices</span><span class="sxs-lookup"><span data-stu-id="31bf6-135">Disable devices</span></span>

<span data-ttu-id="31bf6-136">You can disable devices by updating the **status** property of an identity in the identity registry.</span><span class="sxs-lookup"><span data-stu-id="31bf6-136">You can disable devices by updating the **status** property of an identity in the identity registry.</span></span> <span data-ttu-id="31bf6-137">Typically, you use this property in two scenarios:</span><span class="sxs-lookup"><span data-stu-id="31bf6-137">Typically, you use this property in two scenarios:</span></span>

* <span data-ttu-id="31bf6-138">During a provisioning orchestration process.</span><span class="sxs-lookup"><span data-stu-id="31bf6-138">During a provisioning orchestration process.</span></span> <span data-ttu-id="31bf6-139">For more information, see [Device Provisioning][lnk-guidance-provisioning].</span><span class="sxs-lookup"><span data-stu-id="31bf6-139">For more information, see [Device Provisioning][lnk-guidance-provisioning].</span></span>
* <span data-ttu-id="31bf6-140">If, for any reason, you consider a device is compromised or has become unauthorized.</span><span class="sxs-lookup"><span data-stu-id="31bf6-140">If, for any reason, you consider a device is compromised or has become unauthorized.</span></span>

## <a name="import-and-export-device-identities"></a><span data-ttu-id="31bf6-141">Import and export device identities</span><span class="sxs-lookup"><span data-stu-id="31bf6-141">Import and export device identities</span></span>

<span data-ttu-id="31bf6-142">You can export device identities in bulk from an IoT hub's identity registry, by using asynchronous operations on the [IoT Hub resource provider endpoint][lnk-endpoints].</span><span class="sxs-lookup"><span data-stu-id="31bf6-142">You can export device identities in bulk from an IoT hub's identity registry, by using asynchronous operations on the [IoT Hub resource provider endpoint][lnk-endpoints].</span></span> <span data-ttu-id="31bf6-143">Exports are long-running jobs that use a customer-supplied blob container to save device identity data read from the identity registry.</span><span class="sxs-lookup"><span data-stu-id="31bf6-143">Exports are long-running jobs that use a customer-supplied blob container to save device identity data read from the identity registry.</span></span>

<span data-ttu-id="31bf6-144">You can import device identities in bulk to an IoT hub's identity registry, by using asynchronous operations on the [IoT Hub resource provider endpoint][lnk-endpoints].</span><span class="sxs-lookup"><span data-stu-id="31bf6-144">You can import device identities in bulk to an IoT hub's identity registry, by using asynchronous operations on the [IoT Hub resource provider endpoint][lnk-endpoints].</span></span> <span data-ttu-id="31bf6-145">Imports are long-running jobs that use data in a customer-supplied blob container to write device identity data into the identity registry.</span><span class="sxs-lookup"><span data-stu-id="31bf6-145">Imports are long-running jobs that use data in a customer-supplied blob container to write device identity data into the identity registry.</span></span>

* <span data-ttu-id="31bf6-146">For detailed information about the import and export APIs, see [IoT Hub resource provider REST APIs][lnk-resource-provider-apis].</span><span class="sxs-lookup"><span data-stu-id="31bf6-146">For detailed information about the import and export APIs, see [IoT Hub resource provider REST APIs][lnk-resource-provider-apis].</span></span>
* <span data-ttu-id="31bf6-147">To learn more about running import and export jobs, see [Bulk management of IoT Hub device identities][lnk-bulk-identity].</span><span class="sxs-lookup"><span data-stu-id="31bf6-147">To learn more about running import and export jobs, see [Bulk management of IoT Hub device identities][lnk-bulk-identity].</span></span>

## <a name="device-provisioning"></a><span data-ttu-id="31bf6-148">Device provisioning</span><span class="sxs-lookup"><span data-stu-id="31bf6-148">Device provisioning</span></span>

<span data-ttu-id="31bf6-149">The device data that a given IoT solution stores depends on the specific requirements of that solution.</span><span class="sxs-lookup"><span data-stu-id="31bf6-149">The device data that a given IoT solution stores depends on the specific requirements of that solution.</span></span> <span data-ttu-id="31bf6-150">But, as a minimum, a solution must store device identities and authentication keys.</span><span class="sxs-lookup"><span data-stu-id="31bf6-150">But, as a minimum, a solution must store device identities and authentication keys.</span></span> <span data-ttu-id="31bf6-151">Azure IoT Hub includes an identity registry that can store values for each device such as IDs, authentication keys, and status codes.</span><span class="sxs-lookup"><span data-stu-id="31bf6-151">Azure IoT Hub includes an identity registry that can store values for each device such as IDs, authentication keys, and status codes.</span></span> <span data-ttu-id="31bf6-152">A solution can use other Azure services such as Azure table storage, Azure blob storage, or Azure DocumentDB to store any additional device data.</span><span class="sxs-lookup"><span data-stu-id="31bf6-152">A solution can use other Azure services such as Azure table storage, Azure blob storage, or Azure DocumentDB to store any additional device data.</span></span>

<span data-ttu-id="31bf6-153">*Device provisioning* is the process of adding the initial device data to the stores in your solution.</span><span class="sxs-lookup"><span data-stu-id="31bf6-153">*Device provisioning* is the process of adding the initial device data to the stores in your solution.</span></span> <span data-ttu-id="31bf6-154">To enable a new device to connect to your hub, you must add a device ID and keys to the IoT Hub identity registry.</span><span class="sxs-lookup"><span data-stu-id="31bf6-154">To enable a new device to connect to your hub, you must add a device ID and keys to the IoT Hub identity registry.</span></span> <span data-ttu-id="31bf6-155">As part of the provisioning process, you might need to initialize device-specific data in other solution stores.</span><span class="sxs-lookup"><span data-stu-id="31bf6-155">As part of the provisioning process, you might need to initialize device-specific data in other solution stores.</span></span>

## <a name="device-heartbeat"></a><span data-ttu-id="31bf6-156">Device heartbeat</span><span class="sxs-lookup"><span data-stu-id="31bf6-156">Device heartbeat</span></span>

<span data-ttu-id="31bf6-157">The IoT Hub identity registry contains a field called **connectionState**.</span><span class="sxs-lookup"><span data-stu-id="31bf6-157">The IoT Hub identity registry contains a field called **connectionState**.</span></span> <span data-ttu-id="31bf6-158">Only use the **connectionState** field during development and debugging.</span><span class="sxs-lookup"><span data-stu-id="31bf6-158">Only use the **connectionState** field during development and debugging.</span></span> <span data-ttu-id="31bf6-159">IoT solutions should not query the field at run time (for example, to check if a device is connected to decide whether to send a cloud-to-device message or an SMS).</span><span class="sxs-lookup"><span data-stu-id="31bf6-159">IoT solutions should not query the field at run time (for example, to check if a device is connected to decide whether to send a cloud-to-device message or an SMS).</span></span>

<span data-ttu-id="31bf6-160">If your IoT solution needs to know if a device is connected (either at run time, or with more accuracy than the **connectionState** property provides), you should implement the *heartbeat pattern*.</span><span class="sxs-lookup"><span data-stu-id="31bf6-160">If your IoT solution needs to know if a device is connected (either at run time, or with more accuracy than the **connectionState** property provides), you should implement the *heartbeat pattern*.</span></span>

<span data-ttu-id="31bf6-161">In the heartbeat pattern, the device sends device-to-cloud messages at least once every fixed amount of time (for example, at least once every hour).</span><span class="sxs-lookup"><span data-stu-id="31bf6-161">In the heartbeat pattern, the device sends device-to-cloud messages at least once every fixed amount of time (for example, at least once every hour).</span></span> <span data-ttu-id="31bf6-162">Therefore, even if a device does not have any data to send, it still sends an empty device-to-cloud message (usually with a property that identifies it as a heartbeat).</span><span class="sxs-lookup"><span data-stu-id="31bf6-162">Therefore, even if a device does not have any data to send, it still sends an empty device-to-cloud message (usually with a property that identifies it as a heartbeat).</span></span> <span data-ttu-id="31bf6-163">On the service side, the solution maintains a map with the last heartbeat received for each device.</span><span class="sxs-lookup"><span data-stu-id="31bf6-163">On the service side, the solution maintains a map with the last heartbeat received for each device.</span></span> <span data-ttu-id="31bf6-164">The solution assumes that there is a problem with a device if it does not receive a heartbeat message within the expected time.</span><span class="sxs-lookup"><span data-stu-id="31bf6-164">The solution assumes that there is a problem with a device if it does not receive a heartbeat message within the expected time.</span></span>

<span data-ttu-id="31bf6-165">A more complex implementation could include the information from [operations monitoring][lnk-devguide-opmon] to identify devices that are trying to connect or communicate but failing.</span><span class="sxs-lookup"><span data-stu-id="31bf6-165">A more complex implementation could include the information from [operations monitoring][lnk-devguide-opmon] to identify devices that are trying to connect or communicate but failing.</span></span> <span data-ttu-id="31bf6-166">When you implement the heartbeat pattern, make sure to check [IoT Hub Quotas and Throttles][lnk-quotas].</span><span class="sxs-lookup"><span data-stu-id="31bf6-166">When you implement the heartbeat pattern, make sure to check [IoT Hub Quotas and Throttles][lnk-quotas].</span></span>

> [!NOTE]
> <span data-ttu-id="31bf6-167">If an IoT solution needs the device connection state solely to determine whether to send cloud-to-device messages, and messages are not broadcast to large sets of devices, a simpler pattern to consider is using a short Expiry time.</span><span class="sxs-lookup"><span data-stu-id="31bf6-167">If an IoT solution needs the device connection state solely to determine whether to send cloud-to-device messages, and messages are not broadcast to large sets of devices, a simpler pattern to consider is using a short Expiry time.</span></span> <span data-ttu-id="31bf6-168">This pattern achieves the same result as maintaining a device connection state registry using the heartbeat pattern, while being more efficient.</span><span class="sxs-lookup"><span data-stu-id="31bf6-168">This pattern achieves the same result as maintaining a device connection state registry using the heartbeat pattern, while being more efficient.</span></span> <span data-ttu-id="31bf6-169">It is also possible, by requesting message acknowledgements, to be notified by IoT Hub of which devices are able to receive messages and which are not online or are failed.</span><span class="sxs-lookup"><span data-stu-id="31bf6-169">It is also possible, by requesting message acknowledgements, to be notified by IoT Hub of which devices are able to receive messages and which are not online or are failed.</span></span>

## <a name="reference-topics"></a><span data-ttu-id="31bf6-170">Reference topics:</span><span class="sxs-lookup"><span data-stu-id="31bf6-170">Reference topics:</span></span>

<span data-ttu-id="31bf6-171">The following reference topics provide you with more information about the identity registry.</span><span class="sxs-lookup"><span data-stu-id="31bf6-171">The following reference topics provide you with more information about the identity registry.</span></span>

## <a name="device-identity-properties"></a><span data-ttu-id="31bf6-172">Device identity properties</span><span class="sxs-lookup"><span data-stu-id="31bf6-172">Device identity properties</span></span>

<span data-ttu-id="31bf6-173">Device identities are represented as JSON documents with the following properties:</span><span class="sxs-lookup"><span data-stu-id="31bf6-173">Device identities are represented as JSON documents with the following properties:</span></span>

| <span data-ttu-id="31bf6-174">Property</span><span class="sxs-lookup"><span data-stu-id="31bf6-174">Property</span></span> | <span data-ttu-id="31bf6-175">Options</span><span class="sxs-lookup"><span data-stu-id="31bf6-175">Options</span></span> | <span data-ttu-id="31bf6-176">Description</span><span class="sxs-lookup"><span data-stu-id="31bf6-176">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="31bf6-177">deviceId</span><span class="sxs-lookup"><span data-stu-id="31bf6-177">deviceId</span></span> |<span data-ttu-id="31bf6-178">required, read-only on updates</span><span class="sxs-lookup"><span data-stu-id="31bf6-178">required, read-only on updates</span></span> |<span data-ttu-id="31bf6-179">A case-sensitive string (up to 128 characters long) of ASCII 7-bit alphanumeric characters + `{'-', ':', '.', '+', '%', '_', '#', '*', '?', '!', '(', ')', ',', '=', '@', ';', '$', '''}`.</span><span class="sxs-lookup"><span data-stu-id="31bf6-179">A case-sensitive string (up to 128 characters long) of ASCII 7-bit alphanumeric characters + `{'-', ':', '.', '+', '%', '_', '#', '*', '?', '!', '(', ')', ',', '=', '@', ';', '$', '''}`.</span></span> |
| <span data-ttu-id="31bf6-180">generationId</span><span class="sxs-lookup"><span data-stu-id="31bf6-180">generationId</span></span> |<span data-ttu-id="31bf6-181">required, read-only</span><span class="sxs-lookup"><span data-stu-id="31bf6-181">required, read-only</span></span> |<span data-ttu-id="31bf6-182">An IoT hub-generated, case-sensitive string up to 128 characters long.</span><span class="sxs-lookup"><span data-stu-id="31bf6-182">An IoT hub-generated, case-sensitive string up to 128 characters long.</span></span> <span data-ttu-id="31bf6-183">This value is used to distinguish devices with the same **deviceId**, when they have been deleted and re-created.</span><span class="sxs-lookup"><span data-stu-id="31bf6-183">This value is used to distinguish devices with the same **deviceId**, when they have been deleted and re-created.</span></span> |
| <span data-ttu-id="31bf6-184">etag</span><span class="sxs-lookup"><span data-stu-id="31bf6-184">etag</span></span> |<span data-ttu-id="31bf6-185">required, read-only</span><span class="sxs-lookup"><span data-stu-id="31bf6-185">required, read-only</span></span> |<span data-ttu-id="31bf6-186">A string representing a weak ETag for the device identity, as per [RFC7232][lnk-rfc7232].</span><span class="sxs-lookup"><span data-stu-id="31bf6-186">A string representing a weak ETag for the device identity, as per [RFC7232][lnk-rfc7232].</span></span> |
| <span data-ttu-id="31bf6-187">auth</span><span class="sxs-lookup"><span data-stu-id="31bf6-187">auth</span></span> |<span data-ttu-id="31bf6-188">optional</span><span class="sxs-lookup"><span data-stu-id="31bf6-188">optional</span></span> |<span data-ttu-id="31bf6-189">A composite object containing authentication information and security materials.</span><span class="sxs-lookup"><span data-stu-id="31bf6-189">A composite object containing authentication information and security materials.</span></span> |
| <span data-ttu-id="31bf6-190">auth.symkey</span><span class="sxs-lookup"><span data-stu-id="31bf6-190">auth.symkey</span></span> |<span data-ttu-id="31bf6-191">optional</span><span class="sxs-lookup"><span data-stu-id="31bf6-191">optional</span></span> |<span data-ttu-id="31bf6-192">A composite object containing a primary and a secondary key, stored in base64 format.</span><span class="sxs-lookup"><span data-stu-id="31bf6-192">A composite object containing a primary and a secondary key, stored in base64 format.</span></span> |
| <span data-ttu-id="31bf6-193">status</span><span class="sxs-lookup"><span data-stu-id="31bf6-193">status</span></span> |<span data-ttu-id="31bf6-194">required</span><span class="sxs-lookup"><span data-stu-id="31bf6-194">required</span></span> |<span data-ttu-id="31bf6-195">An access indicator.</span><span class="sxs-lookup"><span data-stu-id="31bf6-195">An access indicator.</span></span> <span data-ttu-id="31bf6-196">Can be **Enabled** or **Disabled**.</span><span class="sxs-lookup"><span data-stu-id="31bf6-196">Can be **Enabled** or **Disabled**.</span></span> <span data-ttu-id="31bf6-197">If **Enabled**, the device is allowed to connect.</span><span class="sxs-lookup"><span data-stu-id="31bf6-197">If **Enabled**, the device is allowed to connect.</span></span> <span data-ttu-id="31bf6-198">If **Disabled**, this device cannot access any device-facing endpoint.</span><span class="sxs-lookup"><span data-stu-id="31bf6-198">If **Disabled**, this device cannot access any device-facing endpoint.</span></span> |
| <span data-ttu-id="31bf6-199">statusReason</span><span class="sxs-lookup"><span data-stu-id="31bf6-199">statusReason</span></span> |<span data-ttu-id="31bf6-200">optional</span><span class="sxs-lookup"><span data-stu-id="31bf6-200">optional</span></span> |<span data-ttu-id="31bf6-201">A 128 character-long string that stores the reason for the device identity status.</span><span class="sxs-lookup"><span data-stu-id="31bf6-201">A 128 character-long string that stores the reason for the device identity status.</span></span> <span data-ttu-id="31bf6-202">All UTF-8 characters are allowed.</span><span class="sxs-lookup"><span data-stu-id="31bf6-202">All UTF-8 characters are allowed.</span></span> |
| <span data-ttu-id="31bf6-203">statusUpdateTime</span><span class="sxs-lookup"><span data-stu-id="31bf6-203">statusUpdateTime</span></span> |<span data-ttu-id="31bf6-204">read-only</span><span class="sxs-lookup"><span data-stu-id="31bf6-204">read-only</span></span> |<span data-ttu-id="31bf6-205">A temporal indicator, showing the date and time of the last status update.</span><span class="sxs-lookup"><span data-stu-id="31bf6-205">A temporal indicator, showing the date and time of the last status update.</span></span> |
| <span data-ttu-id="31bf6-206">connectionState</span><span class="sxs-lookup"><span data-stu-id="31bf6-206">connectionState</span></span> |<span data-ttu-id="31bf6-207">read-only</span><span class="sxs-lookup"><span data-stu-id="31bf6-207">read-only</span></span> |<span data-ttu-id="31bf6-208">A field indicating connection status: either **Connected** or **Disconnected**.</span><span class="sxs-lookup"><span data-stu-id="31bf6-208">A field indicating connection status: either **Connected** or **Disconnected**.</span></span> <span data-ttu-id="31bf6-209">This field represents the IoT Hub view of the device connection status.</span><span class="sxs-lookup"><span data-stu-id="31bf6-209">This field represents the IoT Hub view of the device connection status.</span></span> <span data-ttu-id="31bf6-210">**Important**: This field should be used only for development/debugging purposes.</span><span class="sxs-lookup"><span data-stu-id="31bf6-210">**Important**: This field should be used only for development/debugging purposes.</span></span> <span data-ttu-id="31bf6-211">The connection state is updated only for devices using MQTT or AMQP.</span><span class="sxs-lookup"><span data-stu-id="31bf6-211">The connection state is updated only for devices using MQTT or AMQP.</span></span> <span data-ttu-id="31bf6-212">Also, it is based on protocol-level pings (MQTT pings, or AMQP pings), and it can have a maximum delay of only 5 minutes.</span><span class="sxs-lookup"><span data-stu-id="31bf6-212">Also, it is based on protocol-level pings (MQTT pings, or AMQP pings), and it can have a maximum delay of only 5 minutes.</span></span> <span data-ttu-id="31bf6-213">For these reasons, there can be false positives, such as devices reported as connected but that are disconnected.</span><span class="sxs-lookup"><span data-stu-id="31bf6-213">For these reasons, there can be false positives, such as devices reported as connected but that are disconnected.</span></span> |
| <span data-ttu-id="31bf6-214">connectionStateUpdatedTime</span><span class="sxs-lookup"><span data-stu-id="31bf6-214">connectionStateUpdatedTime</span></span> |<span data-ttu-id="31bf6-215">read-only</span><span class="sxs-lookup"><span data-stu-id="31bf6-215">read-only</span></span> |<span data-ttu-id="31bf6-216">A temporal indicator, showing the date and last time the connection state was updated.</span><span class="sxs-lookup"><span data-stu-id="31bf6-216">A temporal indicator, showing the date and last time the connection state was updated.</span></span> |
| <span data-ttu-id="31bf6-217">lastActivityTime</span><span class="sxs-lookup"><span data-stu-id="31bf6-217">lastActivityTime</span></span> |<span data-ttu-id="31bf6-218">read-only</span><span class="sxs-lookup"><span data-stu-id="31bf6-218">read-only</span></span> |<span data-ttu-id="31bf6-219">A temporal indicator, showing the date and last time the device connected, received, or sent a message.</span><span class="sxs-lookup"><span data-stu-id="31bf6-219">A temporal indicator, showing the date and last time the device connected, received, or sent a message.</span></span> |

> [!NOTE]
> <span data-ttu-id="31bf6-220">Connection state can only represent the IoT Hub view of the status of the connection.</span><span class="sxs-lookup"><span data-stu-id="31bf6-220">Connection state can only represent the IoT Hub view of the status of the connection.</span></span> <span data-ttu-id="31bf6-221">Updates to this state may be delayed, depending on network conditions and configurations.</span><span class="sxs-lookup"><span data-stu-id="31bf6-221">Updates to this state may be delayed, depending on network conditions and configurations.</span></span>

## <a name="additional-reference-material"></a><span data-ttu-id="31bf6-222">Additional reference material</span><span class="sxs-lookup"><span data-stu-id="31bf6-222">Additional reference material</span></span>

<span data-ttu-id="31bf6-223">Other reference topics in the IoT Hub developer guide include:</span><span class="sxs-lookup"><span data-stu-id="31bf6-223">Other reference topics in the IoT Hub developer guide include:</span></span>

* <span data-ttu-id="31bf6-224">[IoT Hub endpoints][lnk-endpoints] describes the various endpoints that each IoT hub exposes for run-time and management operations.</span><span class="sxs-lookup"><span data-stu-id="31bf6-224">[IoT Hub endpoints][lnk-endpoints] describes the various endpoints that each IoT hub exposes for run-time and management operations.</span></span>
* <span data-ttu-id="31bf6-225">[Throttling and quotas][lnk-quotas] describes the quotas that apply to the IoT Hub service and the throttling behavior to expect when you use the service.</span><span class="sxs-lookup"><span data-stu-id="31bf6-225">[Throttling and quotas][lnk-quotas] describes the quotas that apply to the IoT Hub service and the throttling behavior to expect when you use the service.</span></span>
* <span data-ttu-id="31bf6-226">[Azure IoT device and service SDKs][lnk-sdks] lists the various language SDKs you can use when you develop both device and service apps that interact with IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="31bf6-226">[Azure IoT device and service SDKs][lnk-sdks] lists the various language SDKs you can use when you develop both device and service apps that interact with IoT Hub.</span></span>
* <span data-ttu-id="31bf6-227">[IoT Hub query language for device twins and jobs][lnk-query] describes the IoT Hub query language you can use to retrieve information from IoT Hub about your device twins and jobs.</span><span class="sxs-lookup"><span data-stu-id="31bf6-227">[IoT Hub query language for device twins and jobs][lnk-query] describes the IoT Hub query language you can use to retrieve information from IoT Hub about your device twins and jobs.</span></span>
* <span data-ttu-id="31bf6-228">[IoT Hub MQTT support][lnk-devguide-mqtt] provides more information about IoT Hub support for the MQTT protocol.</span><span class="sxs-lookup"><span data-stu-id="31bf6-228">[IoT Hub MQTT support][lnk-devguide-mqtt] provides more information about IoT Hub support for the MQTT protocol.</span></span>

## <a name="next-steps"></a><span data-ttu-id="31bf6-229">Next steps</span><span class="sxs-lookup"><span data-stu-id="31bf6-229">Next steps</span></span>

<span data-ttu-id="31bf6-230">Now you have learned how to use the IoT Hub identity registry, you may be interested in the following IoT Hub developer guide topics:</span><span class="sxs-lookup"><span data-stu-id="31bf6-230">Now you have learned how to use the IoT Hub identity registry, you may be interested in the following IoT Hub developer guide topics:</span></span>

* <span data-ttu-id="31bf6-231">[Control access to IoT Hub][lnk-devguide-security]</span><span class="sxs-lookup"><span data-stu-id="31bf6-231">[Control access to IoT Hub][lnk-devguide-security]</span></span>
* <span data-ttu-id="31bf6-232">[Use device twins to synchronize state and configurations][lnk-devguide-device-twins]</span><span class="sxs-lookup"><span data-stu-id="31bf6-232">[Use device twins to synchronize state and configurations][lnk-devguide-device-twins]</span></span>
* <span data-ttu-id="31bf6-233">[Invoke a direct method on a device][lnk-devguide-directmethods]</span><span class="sxs-lookup"><span data-stu-id="31bf6-233">[Invoke a direct method on a device][lnk-devguide-directmethods]</span></span>
* <span data-ttu-id="31bf6-234">[Schedule jobs on multiple devices][lnk-devguide-jobs]</span><span class="sxs-lookup"><span data-stu-id="31bf6-234">[Schedule jobs on multiple devices][lnk-devguide-jobs]</span></span>

<span data-ttu-id="31bf6-235">If you would like to try out some of the concepts described in this article, you may be interested in the following IoT Hub tutorial:</span><span class="sxs-lookup"><span data-stu-id="31bf6-235">If you would like to try out some of the concepts described in this article, you may be interested in the following IoT Hub tutorial:</span></span>

* <span data-ttu-id="31bf6-236">[Get started with Azure IoT Hub][lnk-getstarted-tutorial]</span><span class="sxs-lookup"><span data-stu-id="31bf6-236">[Get started with Azure IoT Hub][lnk-getstarted-tutorial]</span></span>

<!-- Links and images -->

[lnk-endpoints]: iot-hub-devguide-endpoints.md
[lnk-quotas]: iot-hub-devguide-quotas-throttling.md
[lnk-sdks]: iot-hub-devguide-sdks.md
[lnk-query]: iot-hub-devguide-query-language.md
[lnk-devguide-mqtt]: iot-hub-mqtt-support.md
[lnk-resource-provider-apis]: https://msdn.microsoft.com/library/mt548492.aspx
[lnk-guidance-provisioning]: iot-hub-devguide-identity-registry.md#device-provisioning
[lnk-guidance-heartbeat]: iot-hub-devguide-identity-registry.md#device-heartbeat
[lnk-rfc7232]: https://tools.ietf.org/html/rfc7232
[lnk-bulk-identity]: iot-hub-bulk-identity-mgmt.md
[lnk-export]: iot-hub-devguide-identity-registry.md#import-and-export-device-identities
[lnk-devguide-opmon]: iot-hub-operations-monitoring.md

[lnk-devguide-security]: iot-hub-devguide-security.md
[lnk-devguide-device-twins]: iot-hub-devguide-device-twins.md
[lnk-devguide-directmethods]: iot-hub-devguide-direct-methods.md
[lnk-devguide-jobs]: iot-hub-devguide-jobs.md

[lnk-getstarted-tutorial]: iot-hub-csharp-csharp-getstarted.md
