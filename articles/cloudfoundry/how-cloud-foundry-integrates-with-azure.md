---
title: How Cloud Foundry Integrates with Azure | Microsoft Docs
description: Describes how Cloud Foundry can utlize Azure services to enhance the Enterprice experience
services: virtual-machines-linux
documentationcenter: ''
author: ningk
manager: jeconnoc
editor: ''
tags: Cloud-Foundry
ms.assetid: 00c76c49-3738-494b-b70d-344d8efc0853
ms.service: virtual-machines-linux
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure-services
ms.date: 05/11/2018
ms.author: ningk
ms.openlocfilehash: 689730edcc98a23c82373ae8d36c3b831b33c076
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44868480"
---
# <a name="integrate-cloud-foundry-with-azure"></a><span data-ttu-id="c1145-103">Integrate Cloud Foundry with Azure</span><span class="sxs-lookup"><span data-stu-id="c1145-103">Integrate Cloud Foundry with Azure</span></span>

<span data-ttu-id="c1145-104">[Cloud Foundry](https://docs.cloudfoundry.org/) is a PaaS platform running on top of cloud providers’ IaaS platform.</span><span class="sxs-lookup"><span data-stu-id="c1145-104">[Cloud Foundry](https://docs.cloudfoundry.org/) is a PaaS platform running on top of cloud providers’ IaaS platform.</span></span> <span data-ttu-id="c1145-105">It offers consistent application deployment experience across cloud providers.</span><span class="sxs-lookup"><span data-stu-id="c1145-105">It offers consistent application deployment experience across cloud providers.</span></span> <span data-ttu-id="c1145-106">In addition, it can also integrate with various Azure services, with enterprise grade HA, scalability, and cost savings.</span><span class="sxs-lookup"><span data-stu-id="c1145-106">In addition, it can also integrate with various Azure services, with enterprise grade HA, scalability, and cost savings.</span></span>
<span data-ttu-id="c1145-107">There are [6 subsystems of Cloud Foundry](https://docs.cloudfoundry.org/concepts/architecture/),  that can be flexibly scale online, including: Routing, Authentication, Application life cycle management, Service management, Messaging and Monitoring.</span><span class="sxs-lookup"><span data-stu-id="c1145-107">There are [6 subsystems of Cloud Foundry](https://docs.cloudfoundry.org/concepts/architecture/),  that can be flexibly scale online, including: Routing, Authentication, Application life cycle management, Service management, Messaging and Monitoring.</span></span> <span data-ttu-id="c1145-108">For each of the subsystems, you can configure Cloud Foundry to utilize correspondent Azure service.</span><span class="sxs-lookup"><span data-stu-id="c1145-108">For each of the subsystems, you can configure Cloud Foundry to utilize correspondent Azure service.</span></span> 

![Cloud Foundry on Azure Integration Architecture](media/CFOnAzureEcosystem-colored.png)

## <a name="1-high-availability-and-scalability"></a><span data-ttu-id="c1145-110">1. High Availability and Scalability</span><span class="sxs-lookup"><span data-stu-id="c1145-110">1. High Availability and Scalability</span></span>
### <a name="managed-disk"></a><span data-ttu-id="c1145-111">Managed Disk</span><span class="sxs-lookup"><span data-stu-id="c1145-111">Managed Disk</span></span>
<span data-ttu-id="c1145-112">Bosh utilizes Azure CPI (Cloud Provider Interface) for disk creating and deleting routines.</span><span class="sxs-lookup"><span data-stu-id="c1145-112">Bosh utilizes Azure CPI (Cloud Provider Interface) for disk creating and deleting routines.</span></span> <span data-ttu-id="c1145-113">By default, unmanaged disks are used.</span><span class="sxs-lookup"><span data-stu-id="c1145-113">By default, unmanaged disks are used.</span></span> <span data-ttu-id="c1145-114">It requires customer to manually create storage accounts,    then configure the accounts in CF manifest files.</span><span class="sxs-lookup"><span data-stu-id="c1145-114">It requires customer to manually create storage accounts,    then configure the accounts in CF manifest files.</span></span> <span data-ttu-id="c1145-115">This is due to the limitation on the number of disks per storage account.</span><span class="sxs-lookup"><span data-stu-id="c1145-115">This is due to the limitation on the number of disks per storage account.</span></span>
<span data-ttu-id="c1145-116">Now [Managed Disk](https://azure.microsoft.com/services/managed-disks/) is available, offers managed secure and reliable disk storage for virtual machines.</span><span class="sxs-lookup"><span data-stu-id="c1145-116">Now [Managed Disk](https://azure.microsoft.com/services/managed-disks/) is available, offers managed secure and reliable disk storage for virtual machines.</span></span> <span data-ttu-id="c1145-117">Customer no longer need to deal with the storage account for scale and HA.</span><span class="sxs-lookup"><span data-stu-id="c1145-117">Customer no longer need to deal with the storage account for scale and HA.</span></span> <span data-ttu-id="c1145-118">Azure arranges disks automatically.</span><span class="sxs-lookup"><span data-stu-id="c1145-118">Azure arranges disks automatically.</span></span> <span data-ttu-id="c1145-119">Whether it is a new or an existing deployment, the Azure CPI will handle the creation or migration of the managed disk during a CF deployment.</span><span class="sxs-lookup"><span data-stu-id="c1145-119">Whether it is a new or an existing deployment, the Azure CPI will handle the creation or migration of the managed disk during a CF deployment.</span></span> <span data-ttu-id="c1145-120">It is supported with PCF 1.11.</span><span class="sxs-lookup"><span data-stu-id="c1145-120">It is supported with PCF 1.11.</span></span> <span data-ttu-id="c1145-121">You can also explore the open-source Cloud Foundry [Managed Disk guidance](https://github.com/cloudfoundry-incubator/bosh-azure-cpi-release/tree/master/docs/advanced/managed-disks) for reference.</span><span class="sxs-lookup"><span data-stu-id="c1145-121">You can also explore the open-source Cloud Foundry [Managed Disk guidance](https://github.com/cloudfoundry-incubator/bosh-azure-cpi-release/tree/master/docs/advanced/managed-disks) for reference.</span></span> 
### <a name="availability-zone-"></a><span data-ttu-id="c1145-122">Availability Zone \*</span><span class="sxs-lookup"><span data-stu-id="c1145-122">Availability Zone \*</span></span>
<span data-ttu-id="c1145-123">As a cloud-native application platform, Cloud Foundry is designed with [four level of High availability](https://docs.pivotal.io/pivotalcf/2-1/concepts/high-availability.html).</span><span class="sxs-lookup"><span data-stu-id="c1145-123">As a cloud-native application platform, Cloud Foundry is designed with [four level of High availability](https://docs.pivotal.io/pivotalcf/2-1/concepts/high-availability.html).</span></span> <span data-ttu-id="c1145-124">While the first three levels of software failures can be handled by CF system itself, platform fault tolerance is provided by cloud providers.</span><span class="sxs-lookup"><span data-stu-id="c1145-124">While the first three levels of software failures can be handled by CF system itself, platform fault tolerance is provided by cloud providers.</span></span> <span data-ttu-id="c1145-125">The key CF components should be protected with a cloud provider’s platform HA solution.</span><span class="sxs-lookup"><span data-stu-id="c1145-125">The key CF components should be protected with a cloud provider’s platform HA solution.</span></span> <span data-ttu-id="c1145-126">This includes GoRouters, Diego Brains, CF database and service tiles.</span><span class="sxs-lookup"><span data-stu-id="c1145-126">This includes GoRouters, Diego Brains, CF database and service tiles.</span></span> <span data-ttu-id="c1145-127">By default, [Azure Availability Set](https://github.com/cloudfoundry-incubator/bosh-azure-cpi-release/tree/master/docs/advanced/deploy-cloudfoundry-with-availability-sets) is used for fault tolerance between clusters in a data center.</span><span class="sxs-lookup"><span data-stu-id="c1145-127">By default, [Azure Availability Set](https://github.com/cloudfoundry-incubator/bosh-azure-cpi-release/tree/master/docs/advanced/deploy-cloudfoundry-with-availability-sets) is used for fault tolerance between clusters in a data center.</span></span>
<span data-ttu-id="c1145-128">The good new is, [Azure Availability Zone](https://docs.microsoft.com/azure/availability-zones/az-overview ) is released now, bringing the fault tolerance to next level, with low latency redundancy across data centers.</span><span class="sxs-lookup"><span data-stu-id="c1145-128">The good new is, [Azure Availability Zone](https://docs.microsoft.com/azure/availability-zones/az-overview ) is released now, bringing the fault tolerance to next level, with low latency redundancy across data centers.</span></span>
<span data-ttu-id="c1145-129">Azure Availability Zone achieves HA by placing a set of VMs into 2+ data centers, each set of VMs are redundant to other sets.</span><span class="sxs-lookup"><span data-stu-id="c1145-129">Azure Availability Zone achieves HA by placing a set of VMs into 2+ data centers, each set of VMs are redundant to other sets.</span></span> <span data-ttu-id="c1145-130">If one Zone is down, the other sets are still live, isolated from the disaster.</span><span class="sxs-lookup"><span data-stu-id="c1145-130">If one Zone is down, the other sets are still live, isolated from the disaster.</span></span>
> [!NOTE] 
> <span data-ttu-id="c1145-131">Azure Availability Zone is not offered to all regions yet, check the latest [announcement for the list of supported regions](https://docs.microsoft.com/azure/availability-zones/az-overview).</span><span class="sxs-lookup"><span data-stu-id="c1145-131">Azure Availability Zone is not offered to all regions yet, check the latest [announcement for the list of supported regions](https://docs.microsoft.com/azure/availability-zones/az-overview).</span></span> <span data-ttu-id="c1145-132">For Open Source Cloud Foundry, check [Azure Availability Zone for open source Cloud Foundry guidance](https://github.com/cloudfoundry-incubator/bosh-azure-cpi-release/tree/master/docs/advanced/availability-zone).</span><span class="sxs-lookup"><span data-stu-id="c1145-132">For Open Source Cloud Foundry, check [Azure Availability Zone for open source Cloud Foundry guidance](https://github.com/cloudfoundry-incubator/bosh-azure-cpi-release/tree/master/docs/advanced/availability-zone).</span></span>

## <a name="2-network-routing"></a><span data-ttu-id="c1145-133">2. Network Routing</span><span class="sxs-lookup"><span data-stu-id="c1145-133">2. Network Routing</span></span>
<span data-ttu-id="c1145-134">By default, Azure basic load balancer is used for incoming CF API/apps requests, forwarding them to the Gorouters.</span><span class="sxs-lookup"><span data-stu-id="c1145-134">By default, Azure basic load balancer is used for incoming CF API/apps requests, forwarding them to the Gorouters.</span></span> <span data-ttu-id="c1145-135">CF components like Diego Brain, MySQL, ERT can also use the load balancer to balance the traffic for HA.</span><span class="sxs-lookup"><span data-stu-id="c1145-135">CF components like Diego Brain, MySQL, ERT can also use the load balancer to balance the traffic for HA.</span></span> <span data-ttu-id="c1145-136">In addition, Azure provides a set of fully managed load balancing solutions.</span><span class="sxs-lookup"><span data-stu-id="c1145-136">In addition, Azure provides a set of fully managed load balancing solutions.</span></span> <span data-ttu-id="c1145-137">If you are looking for TLS termination ("SSL offload") or per HTTP/HTTPS request application layer processing, consider Application Gateway.</span><span class="sxs-lookup"><span data-stu-id="c1145-137">If you are looking for TLS termination ("SSL offload") or per HTTP/HTTPS request application layer processing, consider Application Gateway.</span></span> <span data-ttu-id="c1145-138">For high availability and scalability load balancing on layer 4, consider standard load balancer.</span><span class="sxs-lookup"><span data-stu-id="c1145-138">For high availability and scalability load balancing on layer 4, consider standard load balancer.</span></span>
### <a name="azure-application-gateway-"></a><span data-ttu-id="c1145-139">Azure Application Gateway \*</span><span class="sxs-lookup"><span data-stu-id="c1145-139">Azure Application Gateway \*</span></span>
<span data-ttu-id="c1145-140">[Azure Application Gateway](https://docs.microsoft.com/azure/application-gateway/application-gateway-introduction) offers various layer 7 load balancing capabilities, including SSL offloading, end to end SSL, Web Application Firewall, cookie-based session affinity and more.</span><span class="sxs-lookup"><span data-stu-id="c1145-140">[Azure Application Gateway](https://docs.microsoft.com/azure/application-gateway/application-gateway-introduction) offers various layer 7 load balancing capabilities, including SSL offloading, end to end SSL, Web Application Firewall, cookie-based session affinity and more.</span></span> <span data-ttu-id="c1145-141">You can [configure Application Gateway in Open Source Cloud Foundry](https://github.com/cloudfoundry-incubator/bosh-azure-cpi-release/tree/master/docs/advanced/application-gateway).</span><span class="sxs-lookup"><span data-stu-id="c1145-141">You can [configure Application Gateway in Open Source Cloud Foundry](https://github.com/cloudfoundry-incubator/bosh-azure-cpi-release/tree/master/docs/advanced/application-gateway).</span></span> <span data-ttu-id="c1145-142">For PCF, check the  [PCF 2.1 release notes](https://docs.pivotal.io/pivotalcf/2-1/pcf-release-notes/opsmanager-rn.html#azure-application-gateway) for POC test.</span><span class="sxs-lookup"><span data-stu-id="c1145-142">For PCF, check the  [PCF 2.1 release notes](https://docs.pivotal.io/pivotalcf/2-1/pcf-release-notes/opsmanager-rn.html#azure-application-gateway) for POC test.</span></span>

### <a name="azure-standard-load-balancer-"></a><span data-ttu-id="c1145-143">Azure Standard Load Balancer \*</span><span class="sxs-lookup"><span data-stu-id="c1145-143">Azure Standard Load Balancer \*</span></span>
<span data-ttu-id="c1145-144">Azure Load Balancer is a Layer 4 load balancer.</span><span class="sxs-lookup"><span data-stu-id="c1145-144">Azure Load Balancer is a Layer 4 load balancer.</span></span> <span data-ttu-id="c1145-145">It is used to distribute the traffic among instances of services in a load-balanced set.</span><span class="sxs-lookup"><span data-stu-id="c1145-145">It is used to distribute the traffic among instances of services in a load-balanced set.</span></span> <span data-ttu-id="c1145-146">The standard version provides [advanced features](https://docs.microsoft.com/azure/load-balancer/load-balancer-overview) on top of the basic version.</span><span class="sxs-lookup"><span data-stu-id="c1145-146">The standard version provides [advanced features](https://docs.microsoft.com/azure/load-balancer/load-balancer-overview) on top of the basic version.</span></span> <span data-ttu-id="c1145-147">For example 1.</span><span class="sxs-lookup"><span data-stu-id="c1145-147">For example 1.</span></span> <span data-ttu-id="c1145-148">The backend pool max limit is raised from 100 to 1000 VMs.</span><span class="sxs-lookup"><span data-stu-id="c1145-148">The backend pool max limit is raised from 100 to 1000 VMs.</span></span>  <span data-ttu-id="c1145-149">2.</span><span class="sxs-lookup"><span data-stu-id="c1145-149">2.</span></span> <span data-ttu-id="c1145-150">The endpoints now support multiple availability sets instead of single availability set.</span><span class="sxs-lookup"><span data-stu-id="c1145-150">The endpoints now support multiple availability sets instead of single availability set.</span></span>  <span data-ttu-id="c1145-151">3.</span><span class="sxs-lookup"><span data-stu-id="c1145-151">3.</span></span> <span data-ttu-id="c1145-152">Additional features like HA ports, richer monitoring data, etc. If you are moving to Azure Availability Zone, standard load balancer is required.</span><span class="sxs-lookup"><span data-stu-id="c1145-152">Additional features like HA ports, richer monitoring data, etc. If you are moving to Azure Availability Zone, standard load balancer is required.</span></span> <span data-ttu-id="c1145-153">For a new deployment, we recommend you to start with Azure Standard Load Balancer.</span><span class="sxs-lookup"><span data-stu-id="c1145-153">For a new deployment, we recommend you to start with Azure Standard Load Balancer.</span></span> 

## <a name="3-authentication"></a><span data-ttu-id="c1145-154">3. Authentication</span><span class="sxs-lookup"><span data-stu-id="c1145-154">3. Authentication</span></span> 
<span data-ttu-id="c1145-155">[Cloud Foundry User Account and Authentication](https://docs.cloudfoundry.org/concepts/architecture/uaa.html) is the central identity management service for CF and its various components.</span><span class="sxs-lookup"><span data-stu-id="c1145-155">[Cloud Foundry User Account and Authentication](https://docs.cloudfoundry.org/concepts/architecture/uaa.html) is the central identity management service for CF and its various components.</span></span> <span data-ttu-id="c1145-156">[Azure Active Directory](https://docs.microsoft.com/azure/active-directory/active-directory-whatis) is Microsoft’s multi-tenant, cloud-based directory and identity management service.</span><span class="sxs-lookup"><span data-stu-id="c1145-156">[Azure Active Directory](https://docs.microsoft.com/azure/active-directory/active-directory-whatis) is Microsoft’s multi-tenant, cloud-based directory and identity management service.</span></span> <span data-ttu-id="c1145-157">By default, UAA is used for Cloud Foundry authentication.</span><span class="sxs-lookup"><span data-stu-id="c1145-157">By default, UAA is used for Cloud Foundry authentication.</span></span> <span data-ttu-id="c1145-158">As an advanced option, UAA also supports Azure AD as an external user store.</span><span class="sxs-lookup"><span data-stu-id="c1145-158">As an advanced option, UAA also supports Azure AD as an external user store.</span></span> <span data-ttu-id="c1145-159">Azure AD users can access Cloud Foundry using their LDAP identity, without a Cloud Foundry account.</span><span class="sxs-lookup"><span data-stu-id="c1145-159">Azure AD users can access Cloud Foundry using their LDAP identity, without a Cloud Foundry account.</span></span> <span data-ttu-id="c1145-160">Follow these steps to [configure the Azure AD for UAA in PCF](http://docs.pivotal.io/p-identity/1-6/azure/index.html).</span><span class="sxs-lookup"><span data-stu-id="c1145-160">Follow these steps to [configure the Azure AD for UAA in PCF](http://docs.pivotal.io/p-identity/1-6/azure/index.html).</span></span>

## <a name="4-data-storage-for-cloud-foundry-runtime-system"></a><span data-ttu-id="c1145-161">4. Data storage for Cloud Foundry Runtime System</span><span class="sxs-lookup"><span data-stu-id="c1145-161">4. Data storage for Cloud Foundry Runtime System</span></span>
<span data-ttu-id="c1145-162">Cloud Foundry offers great extensibility to use Azure blobstore or Azure MySQL/PostgreSQL services for application runtime system storage.</span><span class="sxs-lookup"><span data-stu-id="c1145-162">Cloud Foundry offers great extensibility to use Azure blobstore or Azure MySQL/PostgreSQL services for application runtime system storage.</span></span>
### <a name="azure-blobstore-for-cloud-foundry-cloud-controller-blobstore"></a><span data-ttu-id="c1145-163">Azure Blobstore for Cloud Foundry Cloud Controller blobstore</span><span class="sxs-lookup"><span data-stu-id="c1145-163">Azure Blobstore for Cloud Foundry Cloud Controller blobstore</span></span>
<span data-ttu-id="c1145-164">The Cloud Controller blobstore is a critical data store for buildpacks, droplets, packages, and resource pools.</span><span class="sxs-lookup"><span data-stu-id="c1145-164">The Cloud Controller blobstore is a critical data store for buildpacks, droplets, packages, and resource pools.</span></span> <span data-ttu-id="c1145-165">By default, NFS server is used for Cloud Controller blobstore.</span><span class="sxs-lookup"><span data-stu-id="c1145-165">By default, NFS server is used for Cloud Controller blobstore.</span></span> <span data-ttu-id="c1145-166">To avoid single point of failure, use Azure Blob Storage as external store.</span><span class="sxs-lookup"><span data-stu-id="c1145-166">To avoid single point of failure, use Azure Blob Storage as external store.</span></span> <span data-ttu-id="c1145-167">Check out the [Cloud Foundry documentation](https://docs.cloudfoundry.org/deploying/common/cc-blobstore-config.html) for background, and [options in Pivotal Cloud Foundry](https://docs.pivotal.io/pivotalcf/2-0/customizing/azure.html).</span><span class="sxs-lookup"><span data-stu-id="c1145-167">Check out the [Cloud Foundry documentation](https://docs.cloudfoundry.org/deploying/common/cc-blobstore-config.html) for background, and [options in Pivotal Cloud Foundry](https://docs.pivotal.io/pivotalcf/2-0/customizing/azure.html).</span></span>

### <a name="mysqlpostgresql-as-cloud-foundry-elastic-run-time-database-"></a><span data-ttu-id="c1145-168">MySQL/PostgreSQL as Cloud Foundry Elastic Run Time Database \*</span><span class="sxs-lookup"><span data-stu-id="c1145-168">MySQL/PostgreSQL as Cloud Foundry Elastic Run Time Database \*</span></span>
<span data-ttu-id="c1145-169">CF Elastic Runtime requires two major system databases:</span><span class="sxs-lookup"><span data-stu-id="c1145-169">CF Elastic Runtime requires two major system databases:</span></span>
#### <a name="ccdb"></a><span data-ttu-id="c1145-170">CCDB</span><span class="sxs-lookup"><span data-stu-id="c1145-170">CCDB</span></span> 
<span data-ttu-id="c1145-171">The Cloud Controller database.</span><span class="sxs-lookup"><span data-stu-id="c1145-171">The Cloud Controller database.</span></span>  <span data-ttu-id="c1145-172">Cloud Controller provides REST API endpoints for clients to access the system.</span><span class="sxs-lookup"><span data-stu-id="c1145-172">Cloud Controller provides REST API endpoints for clients to access the system.</span></span> <span data-ttu-id="c1145-173">CCDB stores tables for orgs, spaces, services, user roles, and more for Cloud controller.</span><span class="sxs-lookup"><span data-stu-id="c1145-173">CCDB stores tables for orgs, spaces, services, user roles, and more for Cloud controller.</span></span>
#### <a name="uaadb"></a><span data-ttu-id="c1145-174">UAADB</span><span class="sxs-lookup"><span data-stu-id="c1145-174">UAADB</span></span> 
<span data-ttu-id="c1145-175">The database for User Account and Authentication.</span><span class="sxs-lookup"><span data-stu-id="c1145-175">The database for User Account and Authentication.</span></span> <span data-ttu-id="c1145-176">It stores the user authentication related data, for example encrypted user names and passwords.</span><span class="sxs-lookup"><span data-stu-id="c1145-176">It stores the user authentication related data, for example encrypted user names and passwords.</span></span>

<span data-ttu-id="c1145-177">By default, a local system database (MySQL) can be used.</span><span class="sxs-lookup"><span data-stu-id="c1145-177">By default, a local system database (MySQL) can be used.</span></span> <span data-ttu-id="c1145-178">For HA and to scale, leverage Azure managed MySQL or PostgreSQL services.</span><span class="sxs-lookup"><span data-stu-id="c1145-178">For HA and to scale, leverage Azure managed MySQL or PostgreSQL services.</span></span> <span data-ttu-id="c1145-179">Here is the instruction of [enabling Azure MySQL/PostgreSQL for CCDB, UAADB and other system databases with Open Source Cloud Foundry](https://github.com/cloudfoundry-incubator/bosh-azure-cpi-release/tree/master/docs/advanced/configure-cf-external-databases-using-azure-mysql-postgres-service).</span><span class="sxs-lookup"><span data-stu-id="c1145-179">Here is the instruction of [enabling Azure MySQL/PostgreSQL for CCDB, UAADB and other system databases with Open Source Cloud Foundry](https://github.com/cloudfoundry-incubator/bosh-azure-cpi-release/tree/master/docs/advanced/configure-cf-external-databases-using-azure-mysql-postgres-service).</span></span>

## <a name="5-open-service-broker"></a><span data-ttu-id="c1145-180">5. Open Service Broker</span><span class="sxs-lookup"><span data-stu-id="c1145-180">5. Open Service Broker</span></span>
<span data-ttu-id="c1145-181">Azure service broker offers consistent interface to manage application’s access to Azure services.</span><span class="sxs-lookup"><span data-stu-id="c1145-181">Azure service broker offers consistent interface to manage application’s access to Azure services.</span></span> <span data-ttu-id="c1145-182">The new [Open Service Broker for Azure project](https://github.com/Azure/open-service-broker-azure) provides a single and simple way to deliver services to applications across Cloud Foundry, OpenShift, and Kubernetes.</span><span class="sxs-lookup"><span data-stu-id="c1145-182">The new [Open Service Broker for Azure project](https://github.com/Azure/open-service-broker-azure) provides a single and simple way to deliver services to applications across Cloud Foundry, OpenShift, and Kubernetes.</span></span> <span data-ttu-id="c1145-183">See the [Azure Open Service Broker for PCF tile](https://network.pivotal.io/products/azure-open-service-broker-pcf/) for deployment instructions on PCF.</span><span class="sxs-lookup"><span data-stu-id="c1145-183">See the [Azure Open Service Broker for PCF tile](https://network.pivotal.io/products/azure-open-service-broker-pcf/) for deployment instructions on PCF.</span></span>

## <a name="6-metrics-and-logging"></a><span data-ttu-id="c1145-184">6. Metrics and Logging</span><span class="sxs-lookup"><span data-stu-id="c1145-184">6. Metrics and Logging</span></span>
<span data-ttu-id="c1145-185">The Azure Log Analytics Nozzle is a Cloud Foundry component, that forwards metrics from the [Cloud Foundry loggregator firehose](https://docs.cloudfoundry.org/loggregator/architecture.html) to [Azure Log Analytics](https://azure.microsoft.com/services/log-analytics/).</span><span class="sxs-lookup"><span data-stu-id="c1145-185">The Azure Log Analytics Nozzle is a Cloud Foundry component, that forwards metrics from the [Cloud Foundry loggregator firehose](https://docs.cloudfoundry.org/loggregator/architecture.html) to [Azure Log Analytics](https://azure.microsoft.com/services/log-analytics/).</span></span> <span data-ttu-id="c1145-186">With the Nozzle, you can collect, view, and analyze your CF system health and performance metrics across multiple deployments.</span><span class="sxs-lookup"><span data-stu-id="c1145-186">With the Nozzle, you can collect, view, and analyze your CF system health and performance metrics across multiple deployments.</span></span>
<span data-ttu-id="c1145-187">Click [here](https://docs.microsoft.com/azure/cloudfoundry/cloudfoundry-oms-nozzle) to learn how to deploy the Azure Log Analytics Nozzle to both Open Source and Pivotal Cloud Foundry environment, and then access the data from the Azure Log Analytics OMS console.</span><span class="sxs-lookup"><span data-stu-id="c1145-187">Click [here](https://docs.microsoft.com/azure/cloudfoundry/cloudfoundry-oms-nozzle) to learn how to deploy the Azure Log Analytics Nozzle to both Open Source and Pivotal Cloud Foundry environment, and then access the data from the Azure Log Analytics OMS console.</span></span> 
> [!NOTE]
> <span data-ttu-id="c1145-188">From PCF 2.0, BOSH health metrics for VMs are forwarded to the Loggregator Firehose by default, and are integrated into Azure Log Analytics OMS console.</span><span class="sxs-lookup"><span data-stu-id="c1145-188">From PCF 2.0, BOSH health metrics for VMs are forwarded to the Loggregator Firehose by default, and are integrated into Azure Log Analytics OMS console.</span></span>

## <a name="7-cost-saving"></a><span data-ttu-id="c1145-189">7. Cost Saving</span><span class="sxs-lookup"><span data-stu-id="c1145-189">7. Cost Saving</span></span>
### <a name="cost-saving-for-devtest-environments"></a><span data-ttu-id="c1145-190">Cost Saving for Dev/Test Environments</span><span class="sxs-lookup"><span data-stu-id="c1145-190">Cost Saving for Dev/Test Environments</span></span>
#### <a name="b-series-"></a><span data-ttu-id="c1145-191">B-Series: \*</span><span class="sxs-lookup"><span data-stu-id="c1145-191">B-Series: \*</span></span>
<span data-ttu-id="c1145-192">While F and D VM series were commonly recommended for Pivotal Cloud Foundry production environment, the new “burstable” [B-series](https://azure.microsoft.com/blog/introducing-b-series-our-new-burstable-vm-size/) brings new options.</span><span class="sxs-lookup"><span data-stu-id="c1145-192">While F and D VM series were commonly recommended for Pivotal Cloud Foundry production environment, the new “burstable” [B-series](https://azure.microsoft.com/blog/introducing-b-series-our-new-burstable-vm-size/) brings new options.</span></span> <span data-ttu-id="c1145-193">The B-series burstable VMs are ideal for workloads that do not need the full performance of the CPU continuously, like web servers, small databases and development and test environments.</span><span class="sxs-lookup"><span data-stu-id="c1145-193">The B-series burstable VMs are ideal for workloads that do not need the full performance of the CPU continuously, like web servers, small databases and development and test environments.</span></span> <span data-ttu-id="c1145-194">These workloads typically have burstable performance requirements.</span><span class="sxs-lookup"><span data-stu-id="c1145-194">These workloads typically have burstable performance requirements.</span></span> <span data-ttu-id="c1145-195">It is $0.012/hour (B1) compared to $0.05/hour (F1), see the full list of [VM sizes](https://docs.microsoft.com/azure/virtual-machines/linux/sizes-general) and [prices](https://azure.microsoft.com/pricing/details/virtual-machines/linux/) for details.</span><span class="sxs-lookup"><span data-stu-id="c1145-195">It is $0.012/hour (B1) compared to $0.05/hour (F1), see the full list of [VM sizes](https://docs.microsoft.com/azure/virtual-machines/linux/sizes-general) and [prices](https://azure.microsoft.com/pricing/details/virtual-machines/linux/) for details.</span></span> 
#### <a name="managed-standard-disk"></a><span data-ttu-id="c1145-196">Managed Standard Disk:</span><span class="sxs-lookup"><span data-stu-id="c1145-196">Managed Standard Disk:</span></span> 
<span data-ttu-id="c1145-197">Premium disks were recommended for reliable performance in production.</span><span class="sxs-lookup"><span data-stu-id="c1145-197">Premium disks were recommended for reliable performance in production.</span></span>  <span data-ttu-id="c1145-198">With [Managed Disk](https://azure.microsoft.com/services/managed-disks/), standard storage can also deliver similar reliability, with different performance.</span><span class="sxs-lookup"><span data-stu-id="c1145-198">With [Managed Disk](https://azure.microsoft.com/services/managed-disks/), standard storage can also deliver similar reliability, with different performance.</span></span> <span data-ttu-id="c1145-199">For workload that is not performance-sensitive, like dev/Test or non-critical environment, managed standard disks offer an alternative option with lower cost.</span><span class="sxs-lookup"><span data-stu-id="c1145-199">For workload that is not performance-sensitive, like dev/Test or non-critical environment, managed standard disks offer an alternative option with lower cost.</span></span>  
### <a name="cost-saving-in-general"></a><span data-ttu-id="c1145-200">Cost saving in General</span><span class="sxs-lookup"><span data-stu-id="c1145-200">Cost saving in General</span></span> 
#### <a name="significant-vm-cost-saving-with-azure-reservations"></a><span data-ttu-id="c1145-201">Significant VM Cost Saving with Azure reservations:</span><span class="sxs-lookup"><span data-stu-id="c1145-201">Significant VM Cost Saving with Azure reservations:</span></span> 
<span data-ttu-id="c1145-202">Today all CF VMs are billed using “on-demand” pricing, even though the environments typically stay up indefinitely.</span><span class="sxs-lookup"><span data-stu-id="c1145-202">Today all CF VMs are billed using “on-demand” pricing, even though the environments typically stay up indefinitely.</span></span> <span data-ttu-id="c1145-203">Now you can reserve VM capacity on a 1 or 3-year term, and gain discounts of 45-65%.</span><span class="sxs-lookup"><span data-stu-id="c1145-203">Now you can reserve VM capacity on a 1 or 3-year term, and gain discounts of 45-65%.</span></span> <span data-ttu-id="c1145-204">Discounts are applied in the billing system, with no changes to your environment.</span><span class="sxs-lookup"><span data-stu-id="c1145-204">Discounts are applied in the billing system, with no changes to your environment.</span></span> <span data-ttu-id="c1145-205">For details, see [How Azure reservations works](https://azure.microsoft.com/pricing/reserved-vm-instances/).</span><span class="sxs-lookup"><span data-stu-id="c1145-205">For details, see [How Azure reservations works](https://azure.microsoft.com/pricing/reserved-vm-instances/).</span></span> 
#### <a name="managed-premium-disk-with-smaller-sizes"></a><span data-ttu-id="c1145-206">Managed Premium Disk with Smaller Sizes:</span><span class="sxs-lookup"><span data-stu-id="c1145-206">Managed Premium Disk with Smaller Sizes:</span></span> 
<span data-ttu-id="c1145-207">Managed disks support smaller disk sizes, for example P4(32 GB) and P6(64 GB) for both premium and standard disks.</span><span class="sxs-lookup"><span data-stu-id="c1145-207">Managed disks support smaller disk sizes, for example P4(32 GB) and P6(64 GB) for both premium and standard disks.</span></span> <span data-ttu-id="c1145-208">If you have small workloads, you can save cost when migrating from standard premium disks to managed premium disks.</span><span class="sxs-lookup"><span data-stu-id="c1145-208">If you have small workloads, you can save cost when migrating from standard premium disks to managed premium disks.</span></span>
#### <a name="utilizing-azure-first-party-services"></a><span data-ttu-id="c1145-209">Utilizing Azure First Party Services:</span><span class="sxs-lookup"><span data-stu-id="c1145-209">Utilizing Azure First Party Services:</span></span> 
<span data-ttu-id="c1145-210">Taking advantage of Azure’s first party service will lower the long-term administration cost, in addition to HA and reliability mentioned in above sections.</span><span class="sxs-lookup"><span data-stu-id="c1145-210">Taking advantage of Azure’s first party service will lower the long-term administration cost, in addition to HA and reliability mentioned in above sections.</span></span> 

<span data-ttu-id="c1145-211">Pivotal has launched a [Small Footprint ERT](https://docs.pivotal.io/pivotalcf/2-0/customizing/small-footprint.html) for PCF customers, the components are co-located into just 4 VMs, running up to 2500 application instances.</span><span class="sxs-lookup"><span data-stu-id="c1145-211">Pivotal has launched a [Small Footprint ERT](https://docs.pivotal.io/pivotalcf/2-0/customizing/small-footprint.html) for PCF customers, the components are co-located into just 4 VMs, running up to 2500 application instances.</span></span> <span data-ttu-id="c1145-212">The trial version is now available through [Azure Market place](https://azuremarketplace.microsoft.com/marketplace/apps/pivotal.pivotal-cloud-foundry).</span><span class="sxs-lookup"><span data-stu-id="c1145-212">The trial version is now available through [Azure Market place](https://azuremarketplace.microsoft.com/marketplace/apps/pivotal.pivotal-cloud-foundry).</span></span>

## <a name="next-steps"></a><span data-ttu-id="c1145-213">Next Steps</span><span class="sxs-lookup"><span data-stu-id="c1145-213">Next Steps</span></span>
<span data-ttu-id="c1145-214">Azure integration features are first available with [Open Source Cloud Foundry](https://github.com/cloudfoundry-incubator/bosh-azure-cpi-release/tree/master/docs/advanced/), before it is available on Pivotal Cloud Foundry.</span><span class="sxs-lookup"><span data-stu-id="c1145-214">Azure integration features are first available with [Open Source Cloud Foundry](https://github.com/cloudfoundry-incubator/bosh-azure-cpi-release/tree/master/docs/advanced/), before it is available on Pivotal Cloud Foundry.</span></span> <span data-ttu-id="c1145-215">Features marked with \* are still not available through PCF.</span><span class="sxs-lookup"><span data-stu-id="c1145-215">Features marked with \* are still not available through PCF.</span></span> <span data-ttu-id="c1145-216">Cloud Foundry integration with Azure Stack is not covered in this document either.</span><span class="sxs-lookup"><span data-stu-id="c1145-216">Cloud Foundry integration with Azure Stack is not covered in this document either.</span></span>
<span data-ttu-id="c1145-217">For PCF support on the features marked with \*, or Cloud Foundry integration with Azure Stack, contact your Pivotal and Microsoft account manager for latest status.</span><span class="sxs-lookup"><span data-stu-id="c1145-217">For PCF support on the features marked with \*, or Cloud Foundry integration with Azure Stack, contact your Pivotal and Microsoft account manager for latest status.</span></span> 

