---
title: Using age gating in Azure Active Directory B2C | Microsoft Docs
description: Learn about how to identify minors using your application.
services: active-directory-b2c
author: davidmu1
manager: mtillman
ms.service: active-directory
ms.workload: identity
ms.topic: conceptual
ms.date: 04/29/2018
ms.author: davidmu
ms.component: B2C
ms.openlocfilehash: 9d24e37642a41e4d60b33f42a60d7e56cb4b35b5
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44965888"
---
#<a name="using-age-gating-in-azure-ad-b2c"></a><span data-ttu-id="d74ad-103">Using age gating in Azure AD B2C</span><span class="sxs-lookup"><span data-stu-id="d74ad-103">Using age gating in Azure AD B2C</span></span>

>[!IMPORTANT]
><span data-ttu-id="d74ad-104">This feature is in private preview.</span><span class="sxs-lookup"><span data-stu-id="d74ad-104">This feature is in private preview.</span></span>  <span data-ttu-id="d74ad-105">Please see our [service blog](https://blogs.msdn.microsoft.com/azureadb2c/) for details as this becomes available, or contact AADB2CFeedback@microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="d74ad-105">Please see our [service blog](https://blogs.msdn.microsoft.com/azureadb2c/) for details as this becomes available, or contact AADB2CFeedback@microsoft.com.</span></span>  <span data-ttu-id="d74ad-106">Do NOT use this on production directories, using these new features can result in data loss and may have unexpected changes in behavior until we go into general availability.</span><span class="sxs-lookup"><span data-stu-id="d74ad-106">Do NOT use this on production directories, using these new features can result in data loss and may have unexpected changes in behavior until we go into general availability.</span></span>  
>

##<a name="age-gating"></a><span data-ttu-id="d74ad-107">Age gating</span><span class="sxs-lookup"><span data-stu-id="d74ad-107">Age gating</span></span>
<span data-ttu-id="d74ad-108">Age gating allows you to use Azure AD B2C to identify minors in your application.</span><span class="sxs-lookup"><span data-stu-id="d74ad-108">Age gating allows you to use Azure AD B2C to identify minors in your application.</span></span>  <span data-ttu-id="d74ad-109">You can choose to block the user from signing into the application or allow them to go back to the application with additional claims that identify the user's age group and their parental consent status.</span><span class="sxs-lookup"><span data-stu-id="d74ad-109">You can choose to block the user from signing into the application or allow them to go back to the application with additional claims that identify the user's age group and their parental consent status.</span></span>  

>[!NOTE]
><span data-ttu-id="d74ad-110">Parental consent is tracked in a user attribute called `consentProvidedForMinor`.</span><span class="sxs-lookup"><span data-stu-id="d74ad-110">Parental consent is tracked in a user attribute called `consentProvidedForMinor`.</span></span>  <span data-ttu-id="d74ad-111">You can update this property through the Graph API and it will use this field when updating `legalAgeGroupClassification`.</span><span class="sxs-lookup"><span data-stu-id="d74ad-111">You can update this property through the Graph API and it will use this field when updating `legalAgeGroupClassification`.</span></span>
>

##<a name="setting-up-your-directory-for-age-gating"></a><span data-ttu-id="d74ad-112">Setting up your directory for age gating</span><span class="sxs-lookup"><span data-stu-id="d74ad-112">Setting up your directory for age gating</span></span>
<span data-ttu-id="d74ad-113">In order to use age gating in a user flow, you need to configure your directory to have additional properties.</span><span class="sxs-lookup"><span data-stu-id="d74ad-113">In order to use age gating in a user flow, you need to configure your directory to have additional properties.</span></span> <span data-ttu-id="d74ad-114">This operation can be done through `Properties` in the menu (which will be available only if you're part of the private preview).</span><span class="sxs-lookup"><span data-stu-id="d74ad-114">This operation can be done through `Properties` in the menu (which will be available only if you're part of the private preview).</span></span>  
1. <span data-ttu-id="d74ad-115">In the Azure AD B2C extension, click on the **Properties** for your tenant in the menu on the left.</span><span class="sxs-lookup"><span data-stu-id="d74ad-115">In the Azure AD B2C extension, click on the **Properties** for your tenant in the menu on the left.</span></span>
2. <span data-ttu-id="d74ad-116">Under the **Age gating** section, click on the **Configure** button.</span><span class="sxs-lookup"><span data-stu-id="d74ad-116">Under the **Age gating** section, click on the **Configure** button.</span></span>
3. <span data-ttu-id="d74ad-117">Wait for the operation to complete and your directory will be set up for age gating.</span><span class="sxs-lookup"><span data-stu-id="d74ad-117">Wait for the operation to complete and your directory will be set up for age gating.</span></span>

##<a name="enabling-age-gating-in-your-user-flow"></a><span data-ttu-id="d74ad-118">Enabling age gating in your user flow</span><span class="sxs-lookup"><span data-stu-id="d74ad-118">Enabling age gating in your user flow</span></span>
<span data-ttu-id="d74ad-119">Once your directory is set up to use age gating, you can then use this feature in the preview version user flows.</span><span class="sxs-lookup"><span data-stu-id="d74ad-119">Once your directory is set up to use age gating, you can then use this feature in the preview version user flows.</span></span>  <span data-ttu-id="d74ad-120">This feature requires changes that make it incompatible with existing types of user flows.</span><span class="sxs-lookup"><span data-stu-id="d74ad-120">This feature requires changes that make it incompatible with existing types of user flows.</span></span>  <span data-ttu-id="d74ad-121">You enable age gating with the following steps:</span><span class="sxs-lookup"><span data-stu-id="d74ad-121">You enable age gating with the following steps:</span></span>
1. <span data-ttu-id="d74ad-122">Create a preview user flow.</span><span class="sxs-lookup"><span data-stu-id="d74ad-122">Create a preview user flow.</span></span>
2. <span data-ttu-id="d74ad-123">Once it has been created, go to **Properties** in the menu.</span><span class="sxs-lookup"><span data-stu-id="d74ad-123">Once it has been created, go to **Properties** in the menu.</span></span>
3. <span data-ttu-id="d74ad-124">In the **Age gating** section, press the toggle to enable the feature.</span><span class="sxs-lookup"><span data-stu-id="d74ad-124">In the **Age gating** section, press the toggle to enable the feature.</span></span>
4. <span data-ttu-id="d74ad-125">You can then choose how you want to manage users that identify as minors.</span><span class="sxs-lookup"><span data-stu-id="d74ad-125">You can then choose how you want to manage users that identify as minors.</span></span>

##<a name="what-does-enabling-age-gating-do"></a><span data-ttu-id="d74ad-126">What does enabling age gating do?</span><span class="sxs-lookup"><span data-stu-id="d74ad-126">What does enabling age gating do?</span></span>
<span data-ttu-id="d74ad-127">Once age gating is enabled in your user flow, the user experience changes.</span><span class="sxs-lookup"><span data-stu-id="d74ad-127">Once age gating is enabled in your user flow, the user experience changes.</span></span>  <span data-ttu-id="d74ad-128">On sign up, users will now be asked for their date of birth and country of residence along with the user attributes configured for the user flow.</span><span class="sxs-lookup"><span data-stu-id="d74ad-128">On sign up, users will now be asked for their date of birth and country of residence along with the user attributes configured for the user flow.</span></span>  <span data-ttu-id="d74ad-129">On sign in, users that haven't previously entered a date of birth and country of residence will be asked for this information the next time they sign in.</span><span class="sxs-lookup"><span data-stu-id="d74ad-129">On sign in, users that haven't previously entered a date of birth and country of residence will be asked for this information the next time they sign in.</span></span>  <span data-ttu-id="d74ad-130">From these two values, Azure AD B2C will identify whether the user is a minor and update the `ageGroup` field, the value can be `null`, `Undefined`, `Minor`, `Adult`, and `NotAdult`.</span><span class="sxs-lookup"><span data-stu-id="d74ad-130">From these two values, Azure AD B2C will identify whether the user is a minor and update the `ageGroup` field, the value can be `null`, `Undefined`, `Minor`, `Adult`, and `NotAdult`.</span></span>  <span data-ttu-id="d74ad-131">The `ageGroup` and `consentProvidedForMinor` fields are then used to calculate `legalAgeGroupClassification`.</span><span class="sxs-lookup"><span data-stu-id="d74ad-131">The `ageGroup` and `consentProvidedForMinor` fields are then used to calculate `legalAgeGroupClassification`.</span></span> 

##<a name="age-gating-options"></a><span data-ttu-id="d74ad-132">Age gating options</span><span class="sxs-lookup"><span data-stu-id="d74ad-132">Age gating options</span></span>
<span data-ttu-id="d74ad-133">You can choose to have Azure AD B2C block minors without parental consent or allow them and have the application make decisions on what to do with them.</span><span class="sxs-lookup"><span data-stu-id="d74ad-133">You can choose to have Azure AD B2C block minors without parental consent or allow them and have the application make decisions on what to do with them.</span></span>  

###<a name="allowing-minors-without-parental-consent"></a><span data-ttu-id="d74ad-134">Allowing minors without parental consent</span><span class="sxs-lookup"><span data-stu-id="d74ad-134">Allowing minors without parental consent</span></span>
<span data-ttu-id="d74ad-135">For user flows that allow either sign up, sign in or both, you can choose to allow minors without consent into your application.</span><span class="sxs-lookup"><span data-stu-id="d74ad-135">For user flows that allow either sign up, sign in or both, you can choose to allow minors without consent into your application.</span></span>  <span data-ttu-id="d74ad-136">For minors without parental consent, they're allowed to sign in or sign up as normal and Azure AD B2C issues an ID token with the `legalAgeGroupClassification` claim.</span><span class="sxs-lookup"><span data-stu-id="d74ad-136">For minors without parental consent, they're allowed to sign in or sign up as normal and Azure AD B2C issues an ID token with the `legalAgeGroupClassification` claim.</span></span>  <span data-ttu-id="d74ad-137">By using this claim you can choose the experience that these users have, such as going through an experience to collect parental consent (and update the `consentProvidedForMinor` field).</span><span class="sxs-lookup"><span data-stu-id="d74ad-137">By using this claim you can choose the experience that these users have, such as going through an experience to collect parental consent (and update the `consentProvidedForMinor` field).</span></span>

###<a name="blocking-minors-without-parental-consent"></a><span data-ttu-id="d74ad-138">Blocking minors without parental consent</span><span class="sxs-lookup"><span data-stu-id="d74ad-138">Blocking minors without parental consent</span></span>
<span data-ttu-id="d74ad-139">For user flows that allow either sign up, sign in or both, you can choose to block minors without consent from application.</span><span class="sxs-lookup"><span data-stu-id="d74ad-139">For user flows that allow either sign up, sign in or both, you can choose to block minors without consent from application.</span></span>  <span data-ttu-id="d74ad-140">There are two options for handling blocked users in Azure AD B2C:</span><span class="sxs-lookup"><span data-stu-id="d74ad-140">There are two options for handling blocked users in Azure AD B2C:</span></span>
* <span data-ttu-id="d74ad-141">Send a JSON back to the application - this option will send a response back to the application that a minor was blocked.</span><span class="sxs-lookup"><span data-stu-id="d74ad-141">Send a JSON back to the application - this option will send a response back to the application that a minor was blocked.</span></span>
* <span data-ttu-id="d74ad-142">Show an error page -  the user will be shown a page informing them that they can't access the application</span><span class="sxs-lookup"><span data-stu-id="d74ad-142">Show an error page -  the user will be shown a page informing them that they can't access the application</span></span>

##<a name="known-issues"></a><span data-ttu-id="d74ad-143">Known issues</span><span class="sxs-lookup"><span data-stu-id="d74ad-143">Known issues</span></span>
###<a name="format-for-the-response-when-a-minor-is-blocked"></a><span data-ttu-id="d74ad-144">Format for the response when a minor is blocked.</span><span class="sxs-lookup"><span data-stu-id="d74ad-144">Format for the response when a minor is blocked.</span></span>
<span data-ttu-id="d74ad-145">The response currently is not correctly formed, this bug will be addressed in a coming update.</span><span class="sxs-lookup"><span data-stu-id="d74ad-145">The response currently is not correctly formed, this bug will be addressed in a coming update.</span></span>

###<a name="deleting-specific-attributes-that-were-added-during-setup-can-make-your-directory-unable-to-use-age-gating"></a><span data-ttu-id="d74ad-146">Deleting specific attributes that were added during setup can make your directory unable to use age gating.</span><span class="sxs-lookup"><span data-stu-id="d74ad-146">Deleting specific attributes that were added during setup can make your directory unable to use age gating.</span></span>
<span data-ttu-id="d74ad-147">In the setup for age gating, you configured your directory through an option in your `Properties`.</span><span class="sxs-lookup"><span data-stu-id="d74ad-147">In the setup for age gating, you configured your directory through an option in your `Properties`.</span></span>  <span data-ttu-id="d74ad-148">If you delete either `legalCountry` or `dateOfBirth` through Graph, your directory can no longer use age gating and these properties can't be recreated.</span><span class="sxs-lookup"><span data-stu-id="d74ad-148">If you delete either `legalCountry` or `dateOfBirth` through Graph, your directory can no longer use age gating and these properties can't be recreated.</span></span>

###<a name="list-of-countries-is-incomplete"></a><span data-ttu-id="d74ad-149">List of countries is incomplete</span><span class="sxs-lookup"><span data-stu-id="d74ad-149">List of countries is incomplete</span></span>
<span data-ttu-id="d74ad-150">Currently the list of countries for legalCountry is incomplete, we will add the rest of the countries in a coming update.</span><span class="sxs-lookup"><span data-stu-id="d74ad-150">Currently the list of countries for legalCountry is incomplete, we will add the rest of the countries in a coming update.</span></span>