---
title: 'Azure Active Directory B2C: Extensible policy framework | Microsoft Docs'
description: A topic on the extensible policy framework of Azure Active Directory B2C and on how to create various policy types
services: active-directory-b2c
documentationcenter: ''
author: swkrish
manager: mbaldwin
editor: bryanla
ms.assetid: 0d453e72-7f70-4aa2-953d-938d2814d5a9
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/26/2017
ms.author: swkrish
ms.openlocfilehash: 7ad7dce6fc7025a6a6e7935d74b3b71a7bfee097
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44551178"
---
# <a name="azure-active-directory-b2c-extensible-policy-framework"></a><span data-ttu-id="3c978-103">Azure Active Directory B2C: Extensible policy framework</span><span class="sxs-lookup"><span data-stu-id="3c978-103">Azure Active Directory B2C: Extensible policy framework</span></span>
## <a name="the-basics"></a><span data-ttu-id="3c978-104">The basics</span><span class="sxs-lookup"><span data-stu-id="3c978-104">The basics</span></span>
<span data-ttu-id="3c978-105">The extensible policy framework of Azure Active Directory (Azure AD) B2C is the core strength of the service.</span><span class="sxs-lookup"><span data-stu-id="3c978-105">The extensible policy framework of Azure Active Directory (Azure AD) B2C is the core strength of the service.</span></span> <span data-ttu-id="3c978-106">Policies fully describe consumer identity experiences such as sign-up, sign-in or profile editing.</span><span class="sxs-lookup"><span data-stu-id="3c978-106">Policies fully describe consumer identity experiences such as sign-up, sign-in or profile editing.</span></span> <span data-ttu-id="3c978-107">For instance, a sign-up policy allows you to control behaviors by configuring the following settings:</span><span class="sxs-lookup"><span data-stu-id="3c978-107">For instance, a sign-up policy allows you to control behaviors by configuring the following settings:</span></span>

* <span data-ttu-id="3c978-108">Account types (social accounts such as Facebook, or local accounts such as email address) that consumers can use to sign up for the application.</span><span class="sxs-lookup"><span data-stu-id="3c978-108">Account types (social accounts such as Facebook, or local accounts such as email address) that consumers can use to sign up for the application.</span></span>
* <span data-ttu-id="3c978-109">Attributes (for example, first name, postal code, and shoe size) to be collected from the consumer during sign-up.</span><span class="sxs-lookup"><span data-stu-id="3c978-109">Attributes (for example, first name, postal code, and shoe size) to be collected from the consumer during sign-up.</span></span>
* <span data-ttu-id="3c978-110">Use of Multi-Factor Authentication.</span><span class="sxs-lookup"><span data-stu-id="3c978-110">Use of Multi-Factor Authentication.</span></span>
* <span data-ttu-id="3c978-111">The look-and-feel of all sign-up pages.</span><span class="sxs-lookup"><span data-stu-id="3c978-111">The look-and-feel of all sign-up pages.</span></span>
* <span data-ttu-id="3c978-112">Information (which manifests as claims in a token) that the application receives when the policy run finishes.</span><span class="sxs-lookup"><span data-stu-id="3c978-112">Information (which manifests as claims in a token) that the application receives when the policy run finishes.</span></span>

<span data-ttu-id="3c978-113">You can create multiple policies of different types in your tenant and use them in your applications as needed.</span><span class="sxs-lookup"><span data-stu-id="3c978-113">You can create multiple policies of different types in your tenant and use them in your applications as needed.</span></span> <span data-ttu-id="3c978-114">Policies can be reused across applications.</span><span class="sxs-lookup"><span data-stu-id="3c978-114">Policies can be reused across applications.</span></span> <span data-ttu-id="3c978-115">This allows developers to define and modify consumer identity experiences with minimal or no changes to their code.</span><span class="sxs-lookup"><span data-stu-id="3c978-115">This allows developers to define and modify consumer identity experiences with minimal or no changes to their code.</span></span>

<span data-ttu-id="3c978-116">Policies are available for use via a simple developer interface.</span><span class="sxs-lookup"><span data-stu-id="3c978-116">Policies are available for use via a simple developer interface.</span></span> <span data-ttu-id="3c978-117">Your application triggers a policy using a standard HTTP authentication request (passing a policy parameter in the request) and receives a customized token as response.</span><span class="sxs-lookup"><span data-stu-id="3c978-117">Your application triggers a policy using a standard HTTP authentication request (passing a policy parameter in the request) and receives a customized token as response.</span></span> <span data-ttu-id="3c978-118">For example, the only difference between requests invoking a sign-up policy and those invoking a sign-in policy is the policy name used in the "p" query string parameter:</span><span class="sxs-lookup"><span data-stu-id="3c978-118">For example, the only difference between requests invoking a sign-up policy and those invoking a sign-in policy is the policy name used in the "p" query string parameter:</span></span>

```

https://login.microsoftonline.com/contosob2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e      // Your registered Application ID
&redirect_uri=https%3A%2F%2Flocalhost%3A44321%2F    // Your registered Reply URL, url encoded
&response_mode=form_post                            // 'query', 'form_post' or 'fragment'
&response_type=id_token
&scope=openid
&nonce=dummy
&state=12345                                        // Any value provided by your application
&p=b2c_1_siup                                       // Your sign-up policy

```

```

https://login.microsoftonline.com/contosob2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e      // Your registered Application ID
&redirect_uri=https%3A%2F%2Flocalhost%3A44321%2F    // Your registered Reply URL, url encoded
&response_mode=form_post                            // 'query', 'form_post' or 'fragment'
&response_type=id_token
&scope=openid
&nonce=dummy
&state=12345                                        // Any value provided by your application
&p=b2c_1_siin                                       // Your sign-in policy

```

<span data-ttu-id="3c978-119">For more details about the policy framework, see this [blog post](http://blogs.technet.com/b/ad/archive/2015/11/02/a-look-inside-azuread-b2c-with-kim-cameron.aspx).</span><span class="sxs-lookup"><span data-stu-id="3c978-119">For more details about the policy framework, see this [blog post](http://blogs.technet.com/b/ad/archive/2015/11/02/a-look-inside-azuread-b2c-with-kim-cameron.aspx).</span></span>

## <a name="create-a-sign-up-policy"></a><span data-ttu-id="3c978-120">Create a sign-up policy</span><span class="sxs-lookup"><span data-stu-id="3c978-120">Create a sign-up policy</span></span>
<span data-ttu-id="3c978-121">To enable sign-up on your application, you will need to create a sign-up policy.</span><span class="sxs-lookup"><span data-stu-id="3c978-121">To enable sign-up on your application, you will need to create a sign-up policy.</span></span> <span data-ttu-id="3c978-122">This policy describes the experiences that consumers will go through during sign-up and the contents of tokens that the application will receive on successful sign-ups.</span><span class="sxs-lookup"><span data-stu-id="3c978-122">This policy describes the experiences that consumers will go through during sign-up and the contents of tokens that the application will receive on successful sign-ups.</span></span>

1. <span data-ttu-id="3c978-123">[Follow these steps to navigate to the B2C features blade on the Azure portal](active-directory-b2c-app-registration.md#navigate-to-the-b2c-features-blade).</span><span class="sxs-lookup"><span data-stu-id="3c978-123">[Follow these steps to navigate to the B2C features blade on the Azure portal](active-directory-b2c-app-registration.md#navigate-to-the-b2c-features-blade).</span></span>
2. <span data-ttu-id="3c978-124">Click **Sign-up policies**.</span><span class="sxs-lookup"><span data-stu-id="3c978-124">Click **Sign-up policies**.</span></span>
3. <span data-ttu-id="3c978-125">Click **+Add** at the top of the blade.</span><span class="sxs-lookup"><span data-stu-id="3c978-125">Click **+Add** at the top of the blade.</span></span>
4. <span data-ttu-id="3c978-126">The **Name** determines the sign-up policy name used by your application.</span><span class="sxs-lookup"><span data-stu-id="3c978-126">The **Name** determines the sign-up policy name used by your application.</span></span> <span data-ttu-id="3c978-127">For example, enter "SiUp".</span><span class="sxs-lookup"><span data-stu-id="3c978-127">For example, enter "SiUp".</span></span>
5. <span data-ttu-id="3c978-128">Click **Identity providers** and select "Email signup".</span><span class="sxs-lookup"><span data-stu-id="3c978-128">Click **Identity providers** and select "Email signup".</span></span> <span data-ttu-id="3c978-129">Optionally, you can also select social identity providers, if already configured.</span><span class="sxs-lookup"><span data-stu-id="3c978-129">Optionally, you can also select social identity providers, if already configured.</span></span> <span data-ttu-id="3c978-130">Click **OK**.</span><span class="sxs-lookup"><span data-stu-id="3c978-130">Click **OK**.</span></span>
6. <span data-ttu-id="3c978-131">Click **Sign-up attributes**.</span><span class="sxs-lookup"><span data-stu-id="3c978-131">Click **Sign-up attributes**.</span></span> <span data-ttu-id="3c978-132">Here you choose attributes that you want to collect from the consumer during sign-up.</span><span class="sxs-lookup"><span data-stu-id="3c978-132">Here you choose attributes that you want to collect from the consumer during sign-up.</span></span> <span data-ttu-id="3c978-133">For example, select "Country/Region", "Display Name" and "Postal Code".</span><span class="sxs-lookup"><span data-stu-id="3c978-133">For example, select "Country/Region", "Display Name" and "Postal Code".</span></span> <span data-ttu-id="3c978-134">Click **OK**.</span><span class="sxs-lookup"><span data-stu-id="3c978-134">Click **OK**.</span></span>
7. <span data-ttu-id="3c978-135">Click **Application claims**.</span><span class="sxs-lookup"><span data-stu-id="3c978-135">Click **Application claims**.</span></span> <span data-ttu-id="3c978-136">Here you choose claims that you want returned in the tokens sent back to your application after a successful sign-up experience.</span><span class="sxs-lookup"><span data-stu-id="3c978-136">Here you choose claims that you want returned in the tokens sent back to your application after a successful sign-up experience.</span></span> <span data-ttu-id="3c978-137">For example, select "Display Name", "Identity Provider", "Postal Code", "User is new" and "User's Object ID".</span><span class="sxs-lookup"><span data-stu-id="3c978-137">For example, select "Display Name", "Identity Provider", "Postal Code", "User is new" and "User's Object ID".</span></span>
8. <span data-ttu-id="3c978-138">Click **Create**.</span><span class="sxs-lookup"><span data-stu-id="3c978-138">Click **Create**.</span></span> <span data-ttu-id="3c978-139">Note that the policy just created appears as "**B2C_1_SiUp**" (the **B2C\_1\_** fragment is automatically added) in the **Sign-up policies** blade.</span><span class="sxs-lookup"><span data-stu-id="3c978-139">Note that the policy just created appears as "**B2C_1_SiUp**" (the **B2C\_1\_** fragment is automatically added) in the **Sign-up policies** blade.</span></span>
9. <span data-ttu-id="3c978-140">Open the policy by clicking "**B2C_1_SiUp**".</span><span class="sxs-lookup"><span data-stu-id="3c978-140">Open the policy by clicking "**B2C_1_SiUp**".</span></span>
10. <span data-ttu-id="3c978-141">Select "Contoso B2C app" in the **Applications** drop-down and `https://localhost:44321/` in the **Reply URL / Redirect URI** drop-down.</span><span class="sxs-lookup"><span data-stu-id="3c978-141">Select "Contoso B2C app" in the **Applications** drop-down and `https://localhost:44321/` in the **Reply URL / Redirect URI** drop-down.</span></span>
11. <span data-ttu-id="3c978-142">Click **Run now**.</span><span class="sxs-lookup"><span data-stu-id="3c978-142">Click **Run now**.</span></span> <span data-ttu-id="3c978-143">A new browser tab opens, and you can run through the consumer experience of signing up for your application.</span><span class="sxs-lookup"><span data-stu-id="3c978-143">A new browser tab opens, and you can run through the consumer experience of signing up for your application.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="3c978-144">It takes up to a minute for policy creation and updates to take effect.</span><span class="sxs-lookup"><span data-stu-id="3c978-144">It takes up to a minute for policy creation and updates to take effect.</span></span>
    > 
    > 

## <a name="create-a-sign-in-policy"></a><span data-ttu-id="3c978-145">Create a sign-in policy</span><span class="sxs-lookup"><span data-stu-id="3c978-145">Create a sign-in policy</span></span>
<span data-ttu-id="3c978-146">To enable sign-in on your application, you will need to create a sign-in policy.</span><span class="sxs-lookup"><span data-stu-id="3c978-146">To enable sign-in on your application, you will need to create a sign-in policy.</span></span> <span data-ttu-id="3c978-147">This policy describes the experiences that consumers will go through during sign-in and the contents of tokens that the application will receive on successful sign-ins.</span><span class="sxs-lookup"><span data-stu-id="3c978-147">This policy describes the experiences that consumers will go through during sign-in and the contents of tokens that the application will receive on successful sign-ins.</span></span>

1. <span data-ttu-id="3c978-148">[Follow these steps to navigate to the B2C features blade on the Azure portal](active-directory-b2c-app-registration.md#navigate-to-the-b2c-features-blade).</span><span class="sxs-lookup"><span data-stu-id="3c978-148">[Follow these steps to navigate to the B2C features blade on the Azure portal](active-directory-b2c-app-registration.md#navigate-to-the-b2c-features-blade).</span></span>
2. <span data-ttu-id="3c978-149">Click **Sign-in policies**.</span><span class="sxs-lookup"><span data-stu-id="3c978-149">Click **Sign-in policies**.</span></span>
3. <span data-ttu-id="3c978-150">Click **+Add** at the top of the blade.</span><span class="sxs-lookup"><span data-stu-id="3c978-150">Click **+Add** at the top of the blade.</span></span>
4. <span data-ttu-id="3c978-151">The **Name** determines the sign-in policy name used by your application.</span><span class="sxs-lookup"><span data-stu-id="3c978-151">The **Name** determines the sign-in policy name used by your application.</span></span> <span data-ttu-id="3c978-152">For example, enter "SiIn".</span><span class="sxs-lookup"><span data-stu-id="3c978-152">For example, enter "SiIn".</span></span>
5. <span data-ttu-id="3c978-153">Click **Identity providers** and select "Local Account SignIn".</span><span class="sxs-lookup"><span data-stu-id="3c978-153">Click **Identity providers** and select "Local Account SignIn".</span></span> <span data-ttu-id="3c978-154">Optionally, you can also select social identity providers, if already configured.</span><span class="sxs-lookup"><span data-stu-id="3c978-154">Optionally, you can also select social identity providers, if already configured.</span></span> <span data-ttu-id="3c978-155">Click **OK**.</span><span class="sxs-lookup"><span data-stu-id="3c978-155">Click **OK**.</span></span>
6. <span data-ttu-id="3c978-156">Click **Application claims**.</span><span class="sxs-lookup"><span data-stu-id="3c978-156">Click **Application claims**.</span></span> <span data-ttu-id="3c978-157">Here you choose claims that you want returned in the tokens sent back to your application after a successful sign-in experience.</span><span class="sxs-lookup"><span data-stu-id="3c978-157">Here you choose claims that you want returned in the tokens sent back to your application after a successful sign-in experience.</span></span> <span data-ttu-id="3c978-158">For example, select "Display Name", "Identity Provider", "Postal Code"  and "User's Object ID".</span><span class="sxs-lookup"><span data-stu-id="3c978-158">For example, select "Display Name", "Identity Provider", "Postal Code"  and "User's Object ID".</span></span> <span data-ttu-id="3c978-159">Click **OK**.</span><span class="sxs-lookup"><span data-stu-id="3c978-159">Click **OK**.</span></span>
7. <span data-ttu-id="3c978-160">Click **Create**.</span><span class="sxs-lookup"><span data-stu-id="3c978-160">Click **Create**.</span></span> <span data-ttu-id="3c978-161">Note that the policy just created appears as "**B2C_1_SiIn**" (the **B2C\_1\_** fragment is automatically added) in the **Sign-in policies** blade.</span><span class="sxs-lookup"><span data-stu-id="3c978-161">Note that the policy just created appears as "**B2C_1_SiIn**" (the **B2C\_1\_** fragment is automatically added) in the **Sign-in policies** blade.</span></span>
8. <span data-ttu-id="3c978-162">Open the policy by clicking "**B2C_1_SiIn**".</span><span class="sxs-lookup"><span data-stu-id="3c978-162">Open the policy by clicking "**B2C_1_SiIn**".</span></span>
9. <span data-ttu-id="3c978-163">Select "Contoso B2C app" in the **Applications** drop-down and `https://localhost:44321/` in the **Reply URL / Redirect URI** drop-down.</span><span class="sxs-lookup"><span data-stu-id="3c978-163">Select "Contoso B2C app" in the **Applications** drop-down and `https://localhost:44321/` in the **Reply URL / Redirect URI** drop-down.</span></span>
10. <span data-ttu-id="3c978-164">Click **Run now**.</span><span class="sxs-lookup"><span data-stu-id="3c978-164">Click **Run now**.</span></span> <span data-ttu-id="3c978-165">A new browser tab opens, and you can run through the consumer experience of signing into your application.</span><span class="sxs-lookup"><span data-stu-id="3c978-165">A new browser tab opens, and you can run through the consumer experience of signing into your application.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="3c978-166">It takes up to a minute for policy creation and updates to take effect.</span><span class="sxs-lookup"><span data-stu-id="3c978-166">It takes up to a minute for policy creation and updates to take effect.</span></span>
    > 
    > 

## <a name="create-a-sign-up-or-sign-in-policy"></a><span data-ttu-id="3c978-167">Create a sign-up or sign-in policy</span><span class="sxs-lookup"><span data-stu-id="3c978-167">Create a sign-up or sign-in policy</span></span>
<span data-ttu-id="3c978-168">This policy handles both consumer sign-up & sign-in experiences with a single configuration.</span><span class="sxs-lookup"><span data-stu-id="3c978-168">This policy handles both consumer sign-up & sign-in experiences with a single configuration.</span></span> <span data-ttu-id="3c978-169">Consumers are led down the right path (sign-up or sign-in) depending on the context.</span><span class="sxs-lookup"><span data-stu-id="3c978-169">Consumers are led down the right path (sign-up or sign-in) depending on the context.</span></span> <span data-ttu-id="3c978-170">It also describes the contents of tokens that the application will receive upon successful sign-ups or sign-ins.  A code sample for the sign-up or sign-in policy is [available here](active-directory-b2c-devquickstarts-web-dotnet-susi.md).</span><span class="sxs-lookup"><span data-stu-id="3c978-170">It also describes the contents of tokens that the application will receive upon successful sign-ups or sign-ins.  A code sample for the sign-up or sign-in policy is [available here](active-directory-b2c-devquickstarts-web-dotnet-susi.md).</span></span>

1. <span data-ttu-id="3c978-171">[Follow these steps to navigate to the B2C features blade on the Azure portal](active-directory-b2c-app-registration.md#navigate-to-the-b2c-features-blade).</span><span class="sxs-lookup"><span data-stu-id="3c978-171">[Follow these steps to navigate to the B2C features blade on the Azure portal](active-directory-b2c-app-registration.md#navigate-to-the-b2c-features-blade).</span></span>
2. <span data-ttu-id="3c978-172">Click **Sign-up or sign-in policies**.</span><span class="sxs-lookup"><span data-stu-id="3c978-172">Click **Sign-up or sign-in policies**.</span></span>
3. <span data-ttu-id="3c978-173">Click **+Add** at the top of the blade.</span><span class="sxs-lookup"><span data-stu-id="3c978-173">Click **+Add** at the top of the blade.</span></span>
4. <span data-ttu-id="3c978-174">The **Name** determines the sign-up policy name used by your application.</span><span class="sxs-lookup"><span data-stu-id="3c978-174">The **Name** determines the sign-up policy name used by your application.</span></span> <span data-ttu-id="3c978-175">For example, enter "SiUpIn".</span><span class="sxs-lookup"><span data-stu-id="3c978-175">For example, enter "SiUpIn".</span></span>
5. <span data-ttu-id="3c978-176">Click **Identity providers** and select "Email signup".</span><span class="sxs-lookup"><span data-stu-id="3c978-176">Click **Identity providers** and select "Email signup".</span></span> <span data-ttu-id="3c978-177">Optionally, you can also select social identity providers, if already configured.</span><span class="sxs-lookup"><span data-stu-id="3c978-177">Optionally, you can also select social identity providers, if already configured.</span></span> <span data-ttu-id="3c978-178">Click **OK**.</span><span class="sxs-lookup"><span data-stu-id="3c978-178">Click **OK**.</span></span>
6. <span data-ttu-id="3c978-179">Click **Sign-up attributes**.</span><span class="sxs-lookup"><span data-stu-id="3c978-179">Click **Sign-up attributes**.</span></span> <span data-ttu-id="3c978-180">Here you choose attributes that you want to collect from the consumer during sign-up.</span><span class="sxs-lookup"><span data-stu-id="3c978-180">Here you choose attributes that you want to collect from the consumer during sign-up.</span></span> <span data-ttu-id="3c978-181">For example, select "Country/Region", "Display Name" and "Postal Code".</span><span class="sxs-lookup"><span data-stu-id="3c978-181">For example, select "Country/Region", "Display Name" and "Postal Code".</span></span> <span data-ttu-id="3c978-182">Click **OK**.</span><span class="sxs-lookup"><span data-stu-id="3c978-182">Click **OK**.</span></span>
7. <span data-ttu-id="3c978-183">Click **Application claims**.</span><span class="sxs-lookup"><span data-stu-id="3c978-183">Click **Application claims**.</span></span> <span data-ttu-id="3c978-184">Here you choose claims that you want returned in the tokens sent back to your application after a successful sign-up or sign-in experience.</span><span class="sxs-lookup"><span data-stu-id="3c978-184">Here you choose claims that you want returned in the tokens sent back to your application after a successful sign-up or sign-in experience.</span></span> <span data-ttu-id="3c978-185">For example, select "Display Name", "Identity Provider", "Postal Code", "User is new" and "User's Object ID".</span><span class="sxs-lookup"><span data-stu-id="3c978-185">For example, select "Display Name", "Identity Provider", "Postal Code", "User is new" and "User's Object ID".</span></span>
8. <span data-ttu-id="3c978-186">Click **Create**.</span><span class="sxs-lookup"><span data-stu-id="3c978-186">Click **Create**.</span></span> <span data-ttu-id="3c978-187">Note that the policy just created appears as "**B2C_1_SiUpIn**" (the **B2C\_1\_** fragment is automatically added) in the **Sign-up or sign-in policies** blade.</span><span class="sxs-lookup"><span data-stu-id="3c978-187">Note that the policy just created appears as "**B2C_1_SiUpIn**" (the **B2C\_1\_** fragment is automatically added) in the **Sign-up or sign-in policies** blade.</span></span>
9. <span data-ttu-id="3c978-188">Open the policy by clicking "**B2C_1_SiUpIn**".</span><span class="sxs-lookup"><span data-stu-id="3c978-188">Open the policy by clicking "**B2C_1_SiUpIn**".</span></span>
10. <span data-ttu-id="3c978-189">Select "Contoso B2C app" in the **Applications** drop-down and `https://localhost:44321/` in the **Reply URL / Redirect URI** drop-down.</span><span class="sxs-lookup"><span data-stu-id="3c978-189">Select "Contoso B2C app" in the **Applications** drop-down and `https://localhost:44321/` in the **Reply URL / Redirect URI** drop-down.</span></span>
11. <span data-ttu-id="3c978-190">Click **Run now**.</span><span class="sxs-lookup"><span data-stu-id="3c978-190">Click **Run now**.</span></span> <span data-ttu-id="3c978-191">A new browser tab opens, and you can run through the sign-up or sign-in consumer experience as configured.</span><span class="sxs-lookup"><span data-stu-id="3c978-191">A new browser tab opens, and you can run through the sign-up or sign-in consumer experience as configured.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="3c978-192">It takes up to a minute for policy creation and updates to take effect.</span><span class="sxs-lookup"><span data-stu-id="3c978-192">It takes up to a minute for policy creation and updates to take effect.</span></span>
    > 
    > 

## <a name="create-a-profile-editing-policy"></a><span data-ttu-id="3c978-193">Create a profile editing policy</span><span class="sxs-lookup"><span data-stu-id="3c978-193">Create a profile editing policy</span></span>
<span data-ttu-id="3c978-194">To enable profile editing on your application, you will need to create a profile editing policy.</span><span class="sxs-lookup"><span data-stu-id="3c978-194">To enable profile editing on your application, you will need to create a profile editing policy.</span></span> <span data-ttu-id="3c978-195">This policy describes the experiences that consumers will go through during profile editing and the contents of tokens that the application will receive on successful completion.</span><span class="sxs-lookup"><span data-stu-id="3c978-195">This policy describes the experiences that consumers will go through during profile editing and the contents of tokens that the application will receive on successful completion.</span></span>

1. <span data-ttu-id="3c978-196">[Follow these steps to navigate to the B2C features blade on the Azure portal](active-directory-b2c-app-registration.md#navigate-to-the-b2c-features-blade).</span><span class="sxs-lookup"><span data-stu-id="3c978-196">[Follow these steps to navigate to the B2C features blade on the Azure portal](active-directory-b2c-app-registration.md#navigate-to-the-b2c-features-blade).</span></span>
2. <span data-ttu-id="3c978-197">Click **Profile editing policies**.</span><span class="sxs-lookup"><span data-stu-id="3c978-197">Click **Profile editing policies**.</span></span>
3. <span data-ttu-id="3c978-198">Click **+Add** at the top of the blade.</span><span class="sxs-lookup"><span data-stu-id="3c978-198">Click **+Add** at the top of the blade.</span></span>
4. <span data-ttu-id="3c978-199">The **Name** determines the profile editing policy name used by your application.</span><span class="sxs-lookup"><span data-stu-id="3c978-199">The **Name** determines the profile editing policy name used by your application.</span></span> <span data-ttu-id="3c978-200">For example, enter "SiPe".</span><span class="sxs-lookup"><span data-stu-id="3c978-200">For example, enter "SiPe".</span></span>
5. <span data-ttu-id="3c978-201">Click **Identity providers** and select "Local Account Signin".</span><span class="sxs-lookup"><span data-stu-id="3c978-201">Click **Identity providers** and select "Local Account Signin".</span></span> <span data-ttu-id="3c978-202">Optionally, you can also select social identity providers, if already configured.</span><span class="sxs-lookup"><span data-stu-id="3c978-202">Optionally, you can also select social identity providers, if already configured.</span></span> <span data-ttu-id="3c978-203">Click **OK**.</span><span class="sxs-lookup"><span data-stu-id="3c978-203">Click **OK**.</span></span>
6. <span data-ttu-id="3c978-204">Click **Profile attributes**.</span><span class="sxs-lookup"><span data-stu-id="3c978-204">Click **Profile attributes**.</span></span> <span data-ttu-id="3c978-205">Here you choose attributes that the consumer can view and edit.</span><span class="sxs-lookup"><span data-stu-id="3c978-205">Here you choose attributes that the consumer can view and edit.</span></span> <span data-ttu-id="3c978-206">For example, select "Country/Region", "Display Name", and "Postal Code".</span><span class="sxs-lookup"><span data-stu-id="3c978-206">For example, select "Country/Region", "Display Name", and "Postal Code".</span></span> <span data-ttu-id="3c978-207">Click **OK**.</span><span class="sxs-lookup"><span data-stu-id="3c978-207">Click **OK**.</span></span>
7. <span data-ttu-id="3c978-208">Click **Application claims**.</span><span class="sxs-lookup"><span data-stu-id="3c978-208">Click **Application claims**.</span></span> <span data-ttu-id="3c978-209">Here you choose claims that you want returned in the tokens sent back to your application after a successful profile editing experience.</span><span class="sxs-lookup"><span data-stu-id="3c978-209">Here you choose claims that you want returned in the tokens sent back to your application after a successful profile editing experience.</span></span> <span data-ttu-id="3c978-210">For example, select "Display Name" and "Postal Code".</span><span class="sxs-lookup"><span data-stu-id="3c978-210">For example, select "Display Name" and "Postal Code".</span></span>
8. <span data-ttu-id="3c978-211">Click **Create**.</span><span class="sxs-lookup"><span data-stu-id="3c978-211">Click **Create**.</span></span> <span data-ttu-id="3c978-212">Note that the policy just created appears as "**B2C_1_SiPe**" (the **B2C\_1\_** fragment is automatically added) in the **Profile editing policies** blade.</span><span class="sxs-lookup"><span data-stu-id="3c978-212">Note that the policy just created appears as "**B2C_1_SiPe**" (the **B2C\_1\_** fragment is automatically added) in the **Profile editing policies** blade.</span></span>
9. <span data-ttu-id="3c978-213">Open the policy by clicking "**B2C_1_SiPe**".</span><span class="sxs-lookup"><span data-stu-id="3c978-213">Open the policy by clicking "**B2C_1_SiPe**".</span></span>
10. <span data-ttu-id="3c978-214">Select "Contoso B2C app" in the **Applications** drop-down and `https://localhost:44321/` in the **Reply URL / Redirect URI** drop-down.</span><span class="sxs-lookup"><span data-stu-id="3c978-214">Select "Contoso B2C app" in the **Applications** drop-down and `https://localhost:44321/` in the **Reply URL / Redirect URI** drop-down.</span></span>
11. <span data-ttu-id="3c978-215">Click **Run now**.</span><span class="sxs-lookup"><span data-stu-id="3c978-215">Click **Run now**.</span></span> <span data-ttu-id="3c978-216">A new browser tab opens, and you can run through the profile editing consumer experience in your application.</span><span class="sxs-lookup"><span data-stu-id="3c978-216">A new browser tab opens, and you can run through the profile editing consumer experience in your application.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="3c978-217">It takes up to a minute for policy creation and updates to take effect.</span><span class="sxs-lookup"><span data-stu-id="3c978-217">It takes up to a minute for policy creation and updates to take effect.</span></span>
    > 
    > 

## <a name="create-a-password-reset-policy"></a><span data-ttu-id="3c978-218">Create a password reset policy</span><span class="sxs-lookup"><span data-stu-id="3c978-218">Create a password reset policy</span></span>
<span data-ttu-id="3c978-219">To enable fine-grained password reset on your application, you will need to create a password reset policy.</span><span class="sxs-lookup"><span data-stu-id="3c978-219">To enable fine-grained password reset on your application, you will need to create a password reset policy.</span></span> <span data-ttu-id="3c978-220">Note that the tenant-wide password reset option specified [here](active-directory-b2c-reference-sspr.md) is still applicable for sign-in policies.</span><span class="sxs-lookup"><span data-stu-id="3c978-220">Note that the tenant-wide password reset option specified [here](active-directory-b2c-reference-sspr.md) is still applicable for sign-in policies.</span></span> <span data-ttu-id="3c978-221">This policy describes the experiences that the consumers will go through during password reset and the contents of tokens that the application will receive on successful completion.</span><span class="sxs-lookup"><span data-stu-id="3c978-221">This policy describes the experiences that the consumers will go through during password reset and the contents of tokens that the application will receive on successful completion.</span></span>

1. <span data-ttu-id="3c978-222">[Follow these steps to navigate to the B2C features blade on the Azure portal](active-directory-b2c-app-registration.md#navigate-to-the-b2c-features-blade).</span><span class="sxs-lookup"><span data-stu-id="3c978-222">[Follow these steps to navigate to the B2C features blade on the Azure portal](active-directory-b2c-app-registration.md#navigate-to-the-b2c-features-blade).</span></span>
2. <span data-ttu-id="3c978-223">Click **Password reset policies**.</span><span class="sxs-lookup"><span data-stu-id="3c978-223">Click **Password reset policies**.</span></span>
3. <span data-ttu-id="3c978-224">Click **+Add** at the top of the blade.</span><span class="sxs-lookup"><span data-stu-id="3c978-224">Click **+Add** at the top of the blade.</span></span>
4. <span data-ttu-id="3c978-225">The **Name** determines the password reset policy name used by your application.</span><span class="sxs-lookup"><span data-stu-id="3c978-225">The **Name** determines the password reset policy name used by your application.</span></span> <span data-ttu-id="3c978-226">For example, enter "SSPR".</span><span class="sxs-lookup"><span data-stu-id="3c978-226">For example, enter "SSPR".</span></span>
5. <span data-ttu-id="3c978-227">Click **Identity providers** and select "Reset password using email address".</span><span class="sxs-lookup"><span data-stu-id="3c978-227">Click **Identity providers** and select "Reset password using email address".</span></span> <span data-ttu-id="3c978-228">Click **OK**.</span><span class="sxs-lookup"><span data-stu-id="3c978-228">Click **OK**.</span></span>
6. <span data-ttu-id="3c978-229">Click **Application claims**.</span><span class="sxs-lookup"><span data-stu-id="3c978-229">Click **Application claims**.</span></span> <span data-ttu-id="3c978-230">Here you choose claims that you want returned in the tokens sent back to your application after a successful password reset experience.</span><span class="sxs-lookup"><span data-stu-id="3c978-230">Here you choose claims that you want returned in the tokens sent back to your application after a successful password reset experience.</span></span> <span data-ttu-id="3c978-231">For example, select "User's Object ID".</span><span class="sxs-lookup"><span data-stu-id="3c978-231">For example, select "User's Object ID".</span></span>
7. <span data-ttu-id="3c978-232">Click **Create**.</span><span class="sxs-lookup"><span data-stu-id="3c978-232">Click **Create**.</span></span> <span data-ttu-id="3c978-233">Note that the policy just created appears as "**B2C_1_SSPR**" (the **B2C\_1\_** fragment is automatically added) in the **Password reset policies** blade.</span><span class="sxs-lookup"><span data-stu-id="3c978-233">Note that the policy just created appears as "**B2C_1_SSPR**" (the **B2C\_1\_** fragment is automatically added) in the **Password reset policies** blade.</span></span>
8. <span data-ttu-id="3c978-234">Open the policy by clicking "**B2C_1_SSPR**".</span><span class="sxs-lookup"><span data-stu-id="3c978-234">Open the policy by clicking "**B2C_1_SSPR**".</span></span>
9. <span data-ttu-id="3c978-235">Select "Contoso B2C app" in the **Applications** drop-down and `https://localhost:44321/` in the **Reply URL / Redirect URI** drop-down.</span><span class="sxs-lookup"><span data-stu-id="3c978-235">Select "Contoso B2C app" in the **Applications** drop-down and `https://localhost:44321/` in the **Reply URL / Redirect URI** drop-down.</span></span>
10. <span data-ttu-id="3c978-236">Click **Run now**.</span><span class="sxs-lookup"><span data-stu-id="3c978-236">Click **Run now**.</span></span> <span data-ttu-id="3c978-237">A new browser tab opens, and you can run through the password reset consumer experience in your application.</span><span class="sxs-lookup"><span data-stu-id="3c978-237">A new browser tab opens, and you can run through the password reset consumer experience in your application.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="3c978-238">It takes up to a minute for policy creation and updates to take effect.</span><span class="sxs-lookup"><span data-stu-id="3c978-238">It takes up to a minute for policy creation and updates to take effect.</span></span>
    > 
    > 

## <a name="how-to-link-a-sign-up-or-sign-in-policy-with-a-password-reset-policy"></a><span data-ttu-id="3c978-239">How to link a sign-up or sign-in policy with a password reset policy?</span><span class="sxs-lookup"><span data-stu-id="3c978-239">How to link a sign-up or sign-in policy with a password reset policy?</span></span>
<span data-ttu-id="3c978-240">When you create a sign-up or sign-in policy (with local accounts), the consumer will see a "Forgot password?"</span><span class="sxs-lookup"><span data-stu-id="3c978-240">When you create a sign-up or sign-in policy (with local accounts), the consumer will see a "Forgot password?"</span></span> <span data-ttu-id="3c978-241">link on the first page of the experience.</span><span class="sxs-lookup"><span data-stu-id="3c978-241">link on the first page of the experience.</span></span> <span data-ttu-id="3c978-242">Clicking on this link doesn't automatically trigger a password reset policy.</span><span class="sxs-lookup"><span data-stu-id="3c978-242">Clicking on this link doesn't automatically trigger a password reset policy.</span></span> <span data-ttu-id="3c978-243">Instead a specific error code `AADB2C90118` is returned back to your app.</span><span class="sxs-lookup"><span data-stu-id="3c978-243">Instead a specific error code `AADB2C90118` is returned back to your app.</span></span> <span data-ttu-id="3c978-244">Your app needs to handle this and invoke a specific password reset policy.</span><span class="sxs-lookup"><span data-stu-id="3c978-244">Your app needs to handle this and invoke a specific password reset policy.</span></span> <span data-ttu-id="3c978-245">A sample that demonstrates this approach of linking together policies is [here](https://github.com/AzureADQuickStarts/B2C-WebApp-OpenIDConnect-DotNet-SUSI).</span><span class="sxs-lookup"><span data-stu-id="3c978-245">A sample that demonstrates this approach of linking together policies is [here](https://github.com/AzureADQuickStarts/B2C-WebApp-OpenIDConnect-DotNet-SUSI).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="3c978-246">Additional resources</span><span class="sxs-lookup"><span data-stu-id="3c978-246">Additional resources</span></span>
* <span data-ttu-id="3c978-247">[Token, session and single sign-on configuration](active-directory-b2c-token-session-sso.md).</span><span class="sxs-lookup"><span data-stu-id="3c978-247">[Token, session and single sign-on configuration](active-directory-b2c-token-session-sso.md).</span></span>
* [<span data-ttu-id="3c978-248">Disable email verification during consumer sign-up</span><span class="sxs-lookup"><span data-stu-id="3c978-248">Disable email verification during consumer sign-up</span></span>](active-directory-b2c-reference-disable-ev.md)

