---
title: Azure Active Directory B2C | Microsoft Docs
description: How to build apps directly by using the protocols supported by Azure Active Directory B2C.
services: active-directory-b2c
documentationcenter: ''
author: dstrockis
manager: mbaldwin
editor: ''
ms.assetid: 5e407d0a-73a2-4d74-ac81-3aa6c31ddcee
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/07/2017
ms.author: dastrock
ms.openlocfilehash: 642d50754f7c9097bfe91b4816ef3e07667979da
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44550743"
---
# <a name="azure-ad-b2c-authentication-protocols"></a><span data-ttu-id="5bf1b-103">Azure AD B2C: Authentication protocols</span><span class="sxs-lookup"><span data-stu-id="5bf1b-103">Azure AD B2C: Authentication protocols</span></span>
<span data-ttu-id="5bf1b-104">Azure Active Directory (Azure AD) B2C provides identity as a service for your apps by supporting two industry standard protocols: OpenID Connect and OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-104">Azure Active Directory (Azure AD) B2C provides identity as a service for your apps by supporting two industry standard protocols: OpenID Connect and OAuth 2.0.</span></span> <span data-ttu-id="5bf1b-105">The service is standards-compliant, but any two implementations of these protocols can have subtle differences.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-105">The service is standards-compliant, but any two implementations of these protocols can have subtle differences.</span></span>  <span data-ttu-id="5bf1b-106">The information in this guide will be useful to you if you write your code by directly sending and handling HTTP requests, rather than by using an open source library.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-106">The information in this guide will be useful to you if you write your code by directly sending and handling HTTP requests, rather than by using an open source library.</span></span> <span data-ttu-id="5bf1b-107">We recommend that you read this page before you dive into the details of each specific protocol.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-107">We recommend that you read this page before you dive into the details of each specific protocol.</span></span> <span data-ttu-id="5bf1b-108">But if you are already familiar with Azure AD B2C, you can go straight to [the protocol reference guides](#protocols).</span><span class="sxs-lookup"><span data-stu-id="5bf1b-108">But if you are already familiar with Azure AD B2C, you can go straight to [the protocol reference guides](#protocols).</span></span>

<!-- TODO: Need link to libraries above -->

## <a name="the-basics"></a><span data-ttu-id="5bf1b-109">The basics</span><span class="sxs-lookup"><span data-stu-id="5bf1b-109">The basics</span></span>
<span data-ttu-id="5bf1b-110">Every app that uses Azure AD B2C needs to be registered in your B2C directory in the [Azure portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="5bf1b-110">Every app that uses Azure AD B2C needs to be registered in your B2C directory in the [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="5bf1b-111">The app registration process collects and assigns a few values to your app:</span><span class="sxs-lookup"><span data-stu-id="5bf1b-111">The app registration process collects and assigns a few values to your app:</span></span>

* <span data-ttu-id="5bf1b-112">An **Application ID** that uniquely identifies your app.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-112">An **Application ID** that uniquely identifies your app.</span></span>
* <span data-ttu-id="5bf1b-113">A **Redirect URI** or **package identifier** that can be used to direct responses back to your app.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-113">A **Redirect URI** or **package identifier** that can be used to direct responses back to your app.</span></span>
* <span data-ttu-id="5bf1b-114">A few other scenario-specific values.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-114">A few other scenario-specific values.</span></span> <span data-ttu-id="5bf1b-115">For more, learn [how to register your application](active-directory-b2c-app-registration.md).</span><span class="sxs-lookup"><span data-stu-id="5bf1b-115">For more, learn [how to register your application](active-directory-b2c-app-registration.md).</span></span>

<span data-ttu-id="5bf1b-116">After you register your app, it communicates with Azure AD by sending requests to the v2.0 endpoint:</span><span class="sxs-lookup"><span data-stu-id="5bf1b-116">After you register your app, it communicates with Azure AD by sending requests to the v2.0 endpoint:</span></span>

```
https://login.microsoftonline.com/{tenant}/oauth2/v2.0/authorize
https://login.microsoftonline.com/{tenant}/oauth2/v2.0/token
```

<span data-ttu-id="5bf1b-117">In nearly all OAuth and OpenID Connect flows, four parties are involved in the exchange:</span><span class="sxs-lookup"><span data-stu-id="5bf1b-117">In nearly all OAuth and OpenID Connect flows, four parties are involved in the exchange:</span></span>

![OAuth 2.0 Roles](https://docstestmedia1.blob.core.windows.net/azure-media/articles/active-directory-b2c/media/active-directory-b2c-reference-protocols/protocols_roles.png)

* <span data-ttu-id="5bf1b-119">The **authorization server** is the Azure AD v2.0 endpoint.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-119">The **authorization server** is the Azure AD v2.0 endpoint.</span></span> <span data-ttu-id="5bf1b-120">It securely handles anything related to user information and access.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-120">It securely handles anything related to user information and access.</span></span> <span data-ttu-id="5bf1b-121">It also handles the trust relationships between the parties in a flow.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-121">It also handles the trust relationships between the parties in a flow.</span></span> <span data-ttu-id="5bf1b-122">It is responsible for verifying the user's identity, granting and revoking access to resources, and issuing tokens.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-122">It is responsible for verifying the user's identity, granting and revoking access to resources, and issuing tokens.</span></span> <span data-ttu-id="5bf1b-123">It is also known as the identity provider.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-123">It is also known as the identity provider.</span></span>
* <span data-ttu-id="5bf1b-124">The **resource owner** is typically the end user.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-124">The **resource owner** is typically the end user.</span></span> <span data-ttu-id="5bf1b-125">It is the party that owns the data, and it has the power to allow third parties to access that data or resource.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-125">It is the party that owns the data, and it has the power to allow third parties to access that data or resource.</span></span>
* <span data-ttu-id="5bf1b-126">The **OAuth client** is your app.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-126">The **OAuth client** is your app.</span></span> <span data-ttu-id="5bf1b-127">It is identified by its Application ID.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-127">It is identified by its Application ID.</span></span> <span data-ttu-id="5bf1b-128">It is usually the party that end users interact with.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-128">It is usually the party that end users interact with.</span></span> <span data-ttu-id="5bf1b-129">It also requests tokens from the authorization server.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-129">It also requests tokens from the authorization server.</span></span> <span data-ttu-id="5bf1b-130">The resource owner must grant the client permission to access the resource.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-130">The resource owner must grant the client permission to access the resource.</span></span>
* <span data-ttu-id="5bf1b-131">The **resource server** is where the resource or data resides.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-131">The **resource server** is where the resource or data resides.</span></span> <span data-ttu-id="5bf1b-132">It trusts the authorization server to securely authenticate and authorize the OAuth client.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-132">It trusts the authorization server to securely authenticate and authorize the OAuth client.</span></span> <span data-ttu-id="5bf1b-133">It also uses bearer access tokens to ensure that access to a resource can be granted.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-133">It also uses bearer access tokens to ensure that access to a resource can be granted.</span></span>

## <a name="policies"></a><span data-ttu-id="5bf1b-134">Policies</span><span class="sxs-lookup"><span data-stu-id="5bf1b-134">Policies</span></span>
<span data-ttu-id="5bf1b-135">Arguably, Azure AD B2C policies are the most important features of the service.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-135">Arguably, Azure AD B2C policies are the most important features of the service.</span></span> <span data-ttu-id="5bf1b-136">Azure AD B2C extends the standard OAuth 2.0 and OpenID Connect protocols by introducing policies.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-136">Azure AD B2C extends the standard OAuth 2.0 and OpenID Connect protocols by introducing policies.</span></span> <span data-ttu-id="5bf1b-137">These allow Azure AD B2C to perform much more than simple authentication and authorization.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-137">These allow Azure AD B2C to perform much more than simple authentication and authorization.</span></span> <span data-ttu-id="5bf1b-138">Policies fully describe consumer identity experiences, including sign-up, sign-in and profile editing.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-138">Policies fully describe consumer identity experiences, including sign-up, sign-in and profile editing.</span></span> <span data-ttu-id="5bf1b-139">Policies can be defined in an administrative UI.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-139">Policies can be defined in an administrative UI.</span></span> <span data-ttu-id="5bf1b-140">They can be executed by using a special query parameter in HTTP authentication requests.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-140">They can be executed by using a special query parameter in HTTP authentication requests.</span></span> <span data-ttu-id="5bf1b-141">Policies are not standard features of OAuth 2.0 and OpenID Connect, so you should take the time to understand them.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-141">Policies are not standard features of OAuth 2.0 and OpenID Connect, so you should take the time to understand them.</span></span> <span data-ttu-id="5bf1b-142">For more information, see the [Azure AD B2C policy reference guide](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="5bf1b-142">For more information, see the [Azure AD B2C policy reference guide](active-directory-b2c-reference-policies.md).</span></span>

## <a name="tokens"></a><span data-ttu-id="5bf1b-143">Tokens</span><span class="sxs-lookup"><span data-stu-id="5bf1b-143">Tokens</span></span>
<span data-ttu-id="5bf1b-144">The Azure AD B2C implementation of OAuth 2.0 and OpenID Connect makes extensive use of bearer tokens, including bearer tokens that are represented as JSON web tokens (JWTs).</span><span class="sxs-lookup"><span data-stu-id="5bf1b-144">The Azure AD B2C implementation of OAuth 2.0 and OpenID Connect makes extensive use of bearer tokens, including bearer tokens that are represented as JSON web tokens (JWTs).</span></span> <span data-ttu-id="5bf1b-145">A bearer token is a lightweight security token that grants the "bearer" access to a protected resource.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-145">A bearer token is a lightweight security token that grants the "bearer" access to a protected resource.</span></span> <span data-ttu-id="5bf1b-146">The bearer is any party that can present the token.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-146">The bearer is any party that can present the token.</span></span> <span data-ttu-id="5bf1b-147">Azure AD must first authenticate a party before it can receive a bearer token.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-147">Azure AD must first authenticate a party before it can receive a bearer token.</span></span> <span data-ttu-id="5bf1b-148">But if the required steps are not taken to secure the token in transmission and storage, it can be intercepted and used by an unintended party.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-148">But if the required steps are not taken to secure the token in transmission and storage, it can be intercepted and used by an unintended party.</span></span>

<span data-ttu-id="5bf1b-149">Some security tokens have a built-in mechanism that prevents unauthorized parties from using them, but bearer tokens do not have this mechanism.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-149">Some security tokens have a built-in mechanism that prevents unauthorized parties from using them, but bearer tokens do not have this mechanism.</span></span> <span data-ttu-id="5bf1b-150">They must be transported in a secure channel, such as transport layer security (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="5bf1b-150">They must be transported in a secure channel, such as transport layer security (HTTPS).</span></span> <span data-ttu-id="5bf1b-151">If a bearer token is transmitted outside a secure channel, a malicious party can use a man-in-the-middle attack to acquire the token and use it to gain unauthorized access to a protected resource.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-151">If a bearer token is transmitted outside a secure channel, a malicious party can use a man-in-the-middle attack to acquire the token and use it to gain unauthorized access to a protected resource.</span></span> <span data-ttu-id="5bf1b-152">The same security principles apply when bearer tokens are stored or cached for later use.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-152">The same security principles apply when bearer tokens are stored or cached for later use.</span></span> <span data-ttu-id="5bf1b-153">Always ensure that your app transmits and stores bearer tokens in a secure manner.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-153">Always ensure that your app transmits and stores bearer tokens in a secure manner.</span></span>

<span data-ttu-id="5bf1b-154">For additional bearer token security considerations, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="5bf1b-154">For additional bearer token security considerations, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="5bf1b-155">Further details on the different types of tokens used in Azure AD B2C are available in [the Azure AD token reference](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="5bf1b-155">Further details on the different types of tokens used in Azure AD B2C are available in [the Azure AD token reference](active-directory-b2c-reference-tokens.md).</span></span>

## <a name="protocols"></a><span data-ttu-id="5bf1b-156">Protocols</span><span class="sxs-lookup"><span data-stu-id="5bf1b-156">Protocols</span></span>
<span data-ttu-id="5bf1b-157">When you're ready to review some example requests, you can start with one of the following tutorials.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-157">When you're ready to review some example requests, you can start with one of the following tutorials.</span></span> <span data-ttu-id="5bf1b-158">Each one corresponds to a particular authentication scenario.</span><span class="sxs-lookup"><span data-stu-id="5bf1b-158">Each one corresponds to a particular authentication scenario.</span></span> <span data-ttu-id="5bf1b-159">If you need help in determining which flow is right for you, check out [the types of apps you can build by using Azure AD B2C](active-directory-b2c-apps.md).</span><span class="sxs-lookup"><span data-stu-id="5bf1b-159">If you need help in determining which flow is right for you, check out [the types of apps you can build by using Azure AD B2C](active-directory-b2c-apps.md).</span></span>

* [<span data-ttu-id="5bf1b-160">Build mobile and native applications by using OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="5bf1b-160">Build mobile and native applications by using OAuth 2.0</span></span>](active-directory-b2c-reference-oauth-code.md)
* [<span data-ttu-id="5bf1b-161">Build web apps by using OpenID Connect</span><span class="sxs-lookup"><span data-stu-id="5bf1b-161">Build web apps by using OpenID Connect</span></span>](active-directory-b2c-reference-oidc.md)
* [<span data-ttu-id="5bf1b-162">Build single-page apps using the OAuth 2.0 implicit flow</span><span class="sxs-lookup"><span data-stu-id="5bf1b-162">Build single-page apps using the OAuth 2.0 implicit flow</span></span>](active-directory-b2c-reference-spa.md)


