---
title: StorSimple failover and disaster recovery | Microsoft Docs
description: Learn how to fail over your StorSimple device to itself, another physical device, or a virtual device.
services: storsimple
documentationcenter: ''
author: alkohli
manager: carmonm
editor: ''
ms.assetid: 5751598e-49c8-42b3-8121-fea5857a7d83
ms.service: storsimple
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 09/16/2016
ms.author: alkohli
ms.openlocfilehash: e5ebf9608f7405b00d148d791dcf9cf642724e22
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44549590"
---
# <a name="failover-and-disaster-recovery-for-your-storsimple-device"></a><span data-ttu-id="24320-103">Failover and disaster recovery for your StorSimple device</span><span class="sxs-lookup"><span data-stu-id="24320-103">Failover and disaster recovery for your StorSimple device</span></span>
## <a name="overview"></a><span data-ttu-id="24320-104">Overview</span><span class="sxs-lookup"><span data-stu-id="24320-104">Overview</span></span>
<span data-ttu-id="24320-105">This tutorial describes the steps required to fail over a StorSimple device in the event of a disaster.</span><span class="sxs-lookup"><span data-stu-id="24320-105">This tutorial describes the steps required to fail over a StorSimple device in the event of a disaster.</span></span> <span data-ttu-id="24320-106">A failover will allow you to migrate your data from a source device in the datacenter to another physical or even a virtual device located in the same or a different geographical location.</span><span class="sxs-lookup"><span data-stu-id="24320-106">A failover will allow you to migrate your data from a source device in the datacenter to another physical or even a virtual device located in the same or a different geographical location.</span></span> 

<span data-ttu-id="24320-107">Disaster recovery (DR) is orchestrated via the device failover feature and is initiated from the **Devices** page.</span><span class="sxs-lookup"><span data-stu-id="24320-107">Disaster recovery (DR) is orchestrated via the device failover feature and is initiated from the **Devices** page.</span></span> <span data-ttu-id="24320-108">This page tabulates all the StorSimple devices connected to your StorSimple Manager service.</span><span class="sxs-lookup"><span data-stu-id="24320-108">This page tabulates all the StorSimple devices connected to your StorSimple Manager service.</span></span> <span data-ttu-id="24320-109">For each device, the friendly name, status, provisioned and maximum capacity, type and model are displayed.</span><span class="sxs-lookup"><span data-stu-id="24320-109">For each device, the friendly name, status, provisioned and maximum capacity, type and model are displayed.</span></span>

![Devices page](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-device-failover-disaster-recovery/IC740972.png)

<span data-ttu-id="24320-111">The guidance in this tutorial applies to StorSimple physical and virtual devices across all software versions.</span><span class="sxs-lookup"><span data-stu-id="24320-111">The guidance in this tutorial applies to StorSimple physical and virtual devices across all software versions.</span></span>

## <a name="disaster-recovery-dr-and-device-failover"></a><span data-ttu-id="24320-112">Disaster recovery (DR) and device failover</span><span class="sxs-lookup"><span data-stu-id="24320-112">Disaster recovery (DR) and device failover</span></span>
<span data-ttu-id="24320-113">In a disaster recovery (DR) scenario, the primary device stops functioning.</span><span class="sxs-lookup"><span data-stu-id="24320-113">In a disaster recovery (DR) scenario, the primary device stops functioning.</span></span> <span data-ttu-id="24320-114">In this situation, you can move the cloud data associated with the failed device to another device by using the primary device as the *source* and specifying another device as the *target*.</span><span class="sxs-lookup"><span data-stu-id="24320-114">In this situation, you can move the cloud data associated with the failed device to another device by using the primary device as the *source* and specifying another device as the *target*.</span></span> <span data-ttu-id="24320-115">You can select one or more volume containers to migrate to the target device.</span><span class="sxs-lookup"><span data-stu-id="24320-115">You can select one or more volume containers to migrate to the target device.</span></span> <span data-ttu-id="24320-116">This process is referred to as the *failover*.</span><span class="sxs-lookup"><span data-stu-id="24320-116">This process is referred to as the *failover*.</span></span> 

<span data-ttu-id="24320-117">During the failover, the volume containers from the source device change ownership and are transferred to the target device.</span><span class="sxs-lookup"><span data-stu-id="24320-117">During the failover, the volume containers from the source device change ownership and are transferred to the target device.</span></span> <span data-ttu-id="24320-118">Once the volume containers change ownership, these are deleted from the source device.</span><span class="sxs-lookup"><span data-stu-id="24320-118">Once the volume containers change ownership, these are deleted from the source device.</span></span> <span data-ttu-id="24320-119">After the deletion is complete, the target device can then be failed back.</span><span class="sxs-lookup"><span data-stu-id="24320-119">After the deletion is complete, the target device can then be failed back.</span></span>

<span data-ttu-id="24320-120">Typically following a DR, the most recent backup is used to restore the data to the target device.</span><span class="sxs-lookup"><span data-stu-id="24320-120">Typically following a DR, the most recent backup is used to restore the data to the target device.</span></span> <span data-ttu-id="24320-121">However, if there are multiple backup policies for the same volume, then the backup policy with the largest number of volumes gets picked and the most recent backup from that policy is used to restore the data on the target device.</span><span class="sxs-lookup"><span data-stu-id="24320-121">However, if there are multiple backup policies for the same volume, then the backup policy with the largest number of volumes gets picked and the most recent backup from that policy is used to restore the data on the target device.</span></span>

<span data-ttu-id="24320-122">As an example, if there are two backup policies (one default and one custom) *defaultPol*, *customPol* with the following details:</span><span class="sxs-lookup"><span data-stu-id="24320-122">As an example, if there are two backup policies (one default and one custom) *defaultPol*, *customPol* with the following details:</span></span>

* <span data-ttu-id="24320-123">*defaultPol* : One volume, *vol1*, runs daily starting at 10:30 PM.</span><span class="sxs-lookup"><span data-stu-id="24320-123">*defaultPol* : One volume, *vol1*, runs daily starting at 10:30 PM.</span></span>
* <span data-ttu-id="24320-124">*customPol* : Four volumes, *vol1*, *vol2*, *vol3*, *vol4*, runs daily starting at 10:00 PM.</span><span class="sxs-lookup"><span data-stu-id="24320-124">*customPol* : Four volumes, *vol1*, *vol2*, *vol3*, *vol4*, runs daily starting at 10:00 PM.</span></span>

<span data-ttu-id="24320-125">In this case, *customPol* will be used as it has more volumes and we prioritize for crash-consistency.</span><span class="sxs-lookup"><span data-stu-id="24320-125">In this case, *customPol* will be used as it has more volumes and we prioritize for crash-consistency.</span></span> <span data-ttu-id="24320-126">The most recent backup from this policy is used to restore data.</span><span class="sxs-lookup"><span data-stu-id="24320-126">The most recent backup from this policy is used to restore data.</span></span>

## <a name="considerations-for-device-failover"></a><span data-ttu-id="24320-127">Considerations for device failover</span><span class="sxs-lookup"><span data-stu-id="24320-127">Considerations for device failover</span></span>
<span data-ttu-id="24320-128">In the event of a disaster, you may choose to fail over your StorSimple device:</span><span class="sxs-lookup"><span data-stu-id="24320-128">In the event of a disaster, you may choose to fail over your StorSimple device:</span></span>

* <span data-ttu-id="24320-129">To a physical device</span><span class="sxs-lookup"><span data-stu-id="24320-129">To a physical device</span></span> 
* <span data-ttu-id="24320-130">To itself</span><span class="sxs-lookup"><span data-stu-id="24320-130">To itself</span></span>
* <span data-ttu-id="24320-131">To a virtual device</span><span class="sxs-lookup"><span data-stu-id="24320-131">To a virtual device</span></span>

<span data-ttu-id="24320-132">For any device failover, keep in mind the following:</span><span class="sxs-lookup"><span data-stu-id="24320-132">For any device failover, keep in mind the following:</span></span>

* <span data-ttu-id="24320-133">The prerequisites for DR are that all the volumes within the volume containers are offline and the volume containers have an associated cloud snapshot.</span><span class="sxs-lookup"><span data-stu-id="24320-133">The prerequisites for DR are that all the volumes within the volume containers are offline and the volume containers have an associated cloud snapshot.</span></span> 
* <span data-ttu-id="24320-134">The available target devices for DR are devices that have sufficient space to accommodate the selected volume containers.</span><span class="sxs-lookup"><span data-stu-id="24320-134">The available target devices for DR are devices that have sufficient space to accommodate the selected volume containers.</span></span> 
* <span data-ttu-id="24320-135">The devices that are connected to your service but do not meet the criteria of sufficient space will not be available as target devices.</span><span class="sxs-lookup"><span data-stu-id="24320-135">The devices that are connected to your service but do not meet the criteria of sufficient space will not be available as target devices.</span></span>
* <span data-ttu-id="24320-136">Following a DR, for a limited duration, the data access performance can be affected significantly, as the device will need to access the data from the cloud and store it locally.</span><span class="sxs-lookup"><span data-stu-id="24320-136">Following a DR, for a limited duration, the data access performance can be affected significantly, as the device will need to access the data from the cloud and store it locally.</span></span>

#### <a name="device-failover-across-software-versions"></a><span data-ttu-id="24320-137">Device failover across software versions</span><span class="sxs-lookup"><span data-stu-id="24320-137">Device failover across software versions</span></span>
<span data-ttu-id="24320-138">A StorSimple Manager service in a deployment may have multiple devices, both physical and virtual, all running different software versions.</span><span class="sxs-lookup"><span data-stu-id="24320-138">A StorSimple Manager service in a deployment may have multiple devices, both physical and virtual, all running different software versions.</span></span> <span data-ttu-id="24320-139">Depending upon the software version, the volume types on the devices may also be different.</span><span class="sxs-lookup"><span data-stu-id="24320-139">Depending upon the software version, the volume types on the devices may also be different.</span></span> <span data-ttu-id="24320-140">For instance, a device running Update 2 or higher would have locally pinned and tiered volumes (with archival being a subset of tiered).</span><span class="sxs-lookup"><span data-stu-id="24320-140">For instance, a device running Update 2 or higher would have locally pinned and tiered volumes (with archival being a subset of tiered).</span></span> <span data-ttu-id="24320-141">A pre-Update 2 device on the other hand may have tiered and archival volumes.</span><span class="sxs-lookup"><span data-stu-id="24320-141">A pre-Update 2 device on the other hand may have tiered and archival volumes.</span></span> 

<span data-ttu-id="24320-142">Use the following table to determine if you can fail over to another device running a different software version and the behavior of volume types during DR.</span><span class="sxs-lookup"><span data-stu-id="24320-142">Use the following table to determine if you can fail over to another device running a different software version and the behavior of volume types during DR.</span></span>

| <span data-ttu-id="24320-143">Fail over from</span><span class="sxs-lookup"><span data-stu-id="24320-143">Fail over from</span></span> | <span data-ttu-id="24320-144">Allowed for physical device</span><span class="sxs-lookup"><span data-stu-id="24320-144">Allowed for physical device</span></span> | <span data-ttu-id="24320-145">Allowed for virtual device</span><span class="sxs-lookup"><span data-stu-id="24320-145">Allowed for virtual device</span></span> |
| --- | --- | --- |
| <span data-ttu-id="24320-146">Update 2 to pre-Update 1 (Release, 0.1, 0.2, 0.3)</span><span class="sxs-lookup"><span data-stu-id="24320-146">Update 2 to pre-Update 1 (Release, 0.1, 0.2, 0.3)</span></span> |<span data-ttu-id="24320-147">No</span><span class="sxs-lookup"><span data-stu-id="24320-147">No</span></span> |<span data-ttu-id="24320-148">No</span><span class="sxs-lookup"><span data-stu-id="24320-148">No</span></span> |
| <span data-ttu-id="24320-149">Update 2 to Update 1 (1, 1.1, 1.2)</span><span class="sxs-lookup"><span data-stu-id="24320-149">Update 2 to Update 1 (1, 1.1, 1.2)</span></span> |<span data-ttu-id="24320-150">Yes</span><span class="sxs-lookup"><span data-stu-id="24320-150">Yes</span></span> <br></br><span data-ttu-id="24320-151">If using locally pinned or tiered volumes or a mix of two, the volumes are always failed over as tiered.</span><span class="sxs-lookup"><span data-stu-id="24320-151">If using locally pinned or tiered volumes or a mix of two, the volumes are always failed over as tiered.</span></span> |<span data-ttu-id="24320-152">Yes</span><span class="sxs-lookup"><span data-stu-id="24320-152">Yes</span></span><br></br><span data-ttu-id="24320-153">If using locally pinned volumes, these are failed over as tiered.</span><span class="sxs-lookup"><span data-stu-id="24320-153">If using locally pinned volumes, these are failed over as tiered.</span></span> |
| <span data-ttu-id="24320-154">Update 2 to Update 2 (later version)</span><span class="sxs-lookup"><span data-stu-id="24320-154">Update 2 to Update 2 (later version)</span></span> |<span data-ttu-id="24320-155">Yes</span><span class="sxs-lookup"><span data-stu-id="24320-155">Yes</span></span><br></br><span data-ttu-id="24320-156">If using locally pinned or tiered volumes or a mix of two, the volumes are always failed over as the starting volume type; tiered as tiered and locally pinned as locally pinned.</span><span class="sxs-lookup"><span data-stu-id="24320-156">If using locally pinned or tiered volumes or a mix of two, the volumes are always failed over as the starting volume type; tiered as tiered and locally pinned as locally pinned.</span></span> |<span data-ttu-id="24320-157">Yes</span><span class="sxs-lookup"><span data-stu-id="24320-157">Yes</span></span><br></br><span data-ttu-id="24320-158">If using locally pinned volumes, these are failed over as tiered.</span><span class="sxs-lookup"><span data-stu-id="24320-158">If using locally pinned volumes, these are failed over as tiered.</span></span> |

#### <a name="partial-failover-across-software-versions"></a><span data-ttu-id="24320-159">Partial failover across software versions</span><span class="sxs-lookup"><span data-stu-id="24320-159">Partial failover across software versions</span></span>
<span data-ttu-id="24320-160">Follow this guidance if you intend to perform a partial failover using a StorSimple source device running pre-Update 1 to a target running Update 1 or later.</span><span class="sxs-lookup"><span data-stu-id="24320-160">Follow this guidance if you intend to perform a partial failover using a StorSimple source device running pre-Update 1 to a target running Update 1 or later.</span></span> 

| <span data-ttu-id="24320-161">Partial failover from</span><span class="sxs-lookup"><span data-stu-id="24320-161">Partial failover from</span></span> | <span data-ttu-id="24320-162">Allowed for physical device</span><span class="sxs-lookup"><span data-stu-id="24320-162">Allowed for physical device</span></span> | <span data-ttu-id="24320-163">Allowed for virtual device</span><span class="sxs-lookup"><span data-stu-id="24320-163">Allowed for virtual device</span></span> |
| --- | --- | --- |
| <span data-ttu-id="24320-164">Pre-Update 1 (Release, 0.1, 0.2, 0.3) to Update 1 or later</span><span class="sxs-lookup"><span data-stu-id="24320-164">Pre-Update 1 (Release, 0.1, 0.2, 0.3) to Update 1 or later</span></span> |<span data-ttu-id="24320-165">Yes, see below for the best practice tip.</span><span class="sxs-lookup"><span data-stu-id="24320-165">Yes, see below for the best practice tip.</span></span> |<span data-ttu-id="24320-166">Yes, see below for the best practice tip.</span><span class="sxs-lookup"><span data-stu-id="24320-166">Yes, see below for the best practice tip.</span></span> |

> [!TIP]
> <span data-ttu-id="24320-167">There was a cloud metadata and data format change in Update 1 and later versions.</span><span class="sxs-lookup"><span data-stu-id="24320-167">There was a cloud metadata and data format change in Update 1 and later versions.</span></span> <span data-ttu-id="24320-168">Hence, we do not recommend a partial failover from pre-Update 1 to Update 1 or later versions.</span><span class="sxs-lookup"><span data-stu-id="24320-168">Hence, we do not recommend a partial failover from pre-Update 1 to Update 1 or later versions.</span></span> <span data-ttu-id="24320-169">If you need to perform a partial failover, we recommend that you first apply Update 1 or later on both the devices (source and target) and then proceed with the failover.</span><span class="sxs-lookup"><span data-stu-id="24320-169">If you need to perform a partial failover, we recommend that you first apply Update 1 or later on both the devices (source and target) and then proceed with the failover.</span></span> 
> 
> 

## <a name="fail-over-to-another-physical-device"></a><span data-ttu-id="24320-170">Fail over to another physical device</span><span class="sxs-lookup"><span data-stu-id="24320-170">Fail over to another physical device</span></span>
<span data-ttu-id="24320-171">Perform the following steps to restore your device to a target physical device.</span><span class="sxs-lookup"><span data-stu-id="24320-171">Perform the following steps to restore your device to a target physical device.</span></span>

1. <span data-ttu-id="24320-172">Verify that the volume container you want to fail over has associated cloud snapshots.</span><span class="sxs-lookup"><span data-stu-id="24320-172">Verify that the volume container you want to fail over has associated cloud snapshots.</span></span>
2. <span data-ttu-id="24320-173">On the **Devices** page, click the **Volume Containers** tab.</span><span class="sxs-lookup"><span data-stu-id="24320-173">On the **Devices** page, click the **Volume Containers** tab.</span></span>
3. <span data-ttu-id="24320-174">Select a volume container that you would like to fail over to another device.</span><span class="sxs-lookup"><span data-stu-id="24320-174">Select a volume container that you would like to fail over to another device.</span></span> <span data-ttu-id="24320-175">Click the volume container to display the list of volumes within this container.</span><span class="sxs-lookup"><span data-stu-id="24320-175">Click the volume container to display the list of volumes within this container.</span></span> <span data-ttu-id="24320-176">Select a volume and click **Take Offline** to take the volume offline.</span><span class="sxs-lookup"><span data-stu-id="24320-176">Select a volume and click **Take Offline** to take the volume offline.</span></span> <span data-ttu-id="24320-177">Repeat this process for all the volumes in the volume container.</span><span class="sxs-lookup"><span data-stu-id="24320-177">Repeat this process for all the volumes in the volume container.</span></span>
4. <span data-ttu-id="24320-178">Repeat the previous step for all the volume containers you would like to fail over to another device.</span><span class="sxs-lookup"><span data-stu-id="24320-178">Repeat the previous step for all the volume containers you would like to fail over to another device.</span></span>
5. <span data-ttu-id="24320-179">On the **Devices** page, click **Failover**.</span><span class="sxs-lookup"><span data-stu-id="24320-179">On the **Devices** page, click **Failover**.</span></span>
6. <span data-ttu-id="24320-180">In the wizard that opens up, under **Choose volume container to fail over**:</span><span class="sxs-lookup"><span data-stu-id="24320-180">In the wizard that opens up, under **Choose volume container to fail over**:</span></span>
   
   1. <span data-ttu-id="24320-181">In the list of volume containers, select the volume containers you would like to fail over.</span><span class="sxs-lookup"><span data-stu-id="24320-181">In the list of volume containers, select the volume containers you would like to fail over.</span></span>
      <span data-ttu-id="24320-182">**Only the volume containers with associated cloud snapshots and offline volumes are displayed.**</span><span class="sxs-lookup"><span data-stu-id="24320-182">**Only the volume containers with associated cloud snapshots and offline volumes are displayed.**</span></span>
   2. <span data-ttu-id="24320-183">Under **Choose a target device** for the volumes in the selected containers, select a target device from the drop-down list of available devices.</span><span class="sxs-lookup"><span data-stu-id="24320-183">Under **Choose a target device** for the volumes in the selected containers, select a target device from the drop-down list of available devices.</span></span> <span data-ttu-id="24320-184">Only the devices that have the available capacity are displayed in the drop-down list.</span><span class="sxs-lookup"><span data-stu-id="24320-184">Only the devices that have the available capacity are displayed in the drop-down list.</span></span>
   3. <span data-ttu-id="24320-185">Finally, review all the failover settings under **Confirm failover**.</span><span class="sxs-lookup"><span data-stu-id="24320-185">Finally, review all the failover settings under **Confirm failover**.</span></span> <span data-ttu-id="24320-186">Click the check icon ![Check icon](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-device-failover-disaster-recovery/IC740895.png).</span><span class="sxs-lookup"><span data-stu-id="24320-186">Click the check icon ![Check icon](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-device-failover-disaster-recovery/IC740895.png).</span></span>
7. <span data-ttu-id="24320-187">A failover job is created that can be monitored via the **Jobs** page.</span><span class="sxs-lookup"><span data-stu-id="24320-187">A failover job is created that can be monitored via the **Jobs** page.</span></span> <span data-ttu-id="24320-188">If the volume container that you failed over has local volumes, then you will see individual restore jobs for each local volume (not for tiered volumes) in the container.</span><span class="sxs-lookup"><span data-stu-id="24320-188">If the volume container that you failed over has local volumes, then you will see individual restore jobs for each local volume (not for tiered volumes) in the container.</span></span> <span data-ttu-id="24320-189">These restore jobs may take quite some time to complete.</span><span class="sxs-lookup"><span data-stu-id="24320-189">These restore jobs may take quite some time to complete.</span></span> <span data-ttu-id="24320-190">It is likely that the failover job may complete earlier.</span><span class="sxs-lookup"><span data-stu-id="24320-190">It is likely that the failover job may complete earlier.</span></span> <span data-ttu-id="24320-191">Note that these volumes will have local guarantees only after the restore jobs are complete.</span><span class="sxs-lookup"><span data-stu-id="24320-191">Note that these volumes will have local guarantees only after the restore jobs are complete.</span></span> <span data-ttu-id="24320-192">After the failover is completed, go to the **Devices** page.</span><span class="sxs-lookup"><span data-stu-id="24320-192">After the failover is completed, go to the **Devices** page.</span></span>                                            
   
   1. <span data-ttu-id="24320-193">Select the device that was used as the target device for the failover process.</span><span class="sxs-lookup"><span data-stu-id="24320-193">Select the device that was used as the target device for the failover process.</span></span>
   2. <span data-ttu-id="24320-194">Go to the **Volume Containers** page.</span><span class="sxs-lookup"><span data-stu-id="24320-194">Go to the **Volume Containers** page.</span></span> <span data-ttu-id="24320-195">All the volume containers, along with the volumes from the old device, should be listed.</span><span class="sxs-lookup"><span data-stu-id="24320-195">All the volume containers, along with the volumes from the old device, should be listed.</span></span>

## <a name="failover-using-a-single-device"></a><span data-ttu-id="24320-196">Failover using a single device</span><span class="sxs-lookup"><span data-stu-id="24320-196">Failover using a single device</span></span>
<span data-ttu-id="24320-197">Perform the following steps if you only have a single device and need to perform a failover.</span><span class="sxs-lookup"><span data-stu-id="24320-197">Perform the following steps if you only have a single device and need to perform a failover.</span></span>

1. <span data-ttu-id="24320-198">Take cloud snapshots of all the volumes in your device.</span><span class="sxs-lookup"><span data-stu-id="24320-198">Take cloud snapshots of all the volumes in your device.</span></span>
2. <span data-ttu-id="24320-199">Reset your device to factory defaults.</span><span class="sxs-lookup"><span data-stu-id="24320-199">Reset your device to factory defaults.</span></span> <span data-ttu-id="24320-200">Follow the detailed instructions in [how to reset a StorSimple device to factory default settings](storsimple-manage-device-controller.md#reset-the-device-to-factory-default-settings).</span><span class="sxs-lookup"><span data-stu-id="24320-200">Follow the detailed instructions in [how to reset a StorSimple device to factory default settings](storsimple-manage-device-controller.md#reset-the-device-to-factory-default-settings).</span></span>
3. <span data-ttu-id="24320-201">Configure your device and register it again with your StorSimple Manager service.</span><span class="sxs-lookup"><span data-stu-id="24320-201">Configure your device and register it again with your StorSimple Manager service.</span></span>
4. <span data-ttu-id="24320-202">On the **Devices** page, the old device should show as **Offline**.</span><span class="sxs-lookup"><span data-stu-id="24320-202">On the **Devices** page, the old device should show as **Offline**.</span></span> <span data-ttu-id="24320-203">The newly registered device should show as **Online**.</span><span class="sxs-lookup"><span data-stu-id="24320-203">The newly registered device should show as **Online**.</span></span>
5. <span data-ttu-id="24320-204">For the new device, complete the minimum configuration of the device first.</span><span class="sxs-lookup"><span data-stu-id="24320-204">For the new device, complete the minimum configuration of the device first.</span></span> 
   
   > [!IMPORTANT]
   > <span data-ttu-id="24320-205">**If the minimum configuration is not completed first, your DR will fail as a result of a bug in the current implementation. This behavior will be fixed in a later release.**</span><span class="sxs-lookup"><span data-stu-id="24320-205">**If the minimum configuration is not completed first, your DR will fail as a result of a bug in the current implementation. This behavior will be fixed in a later release.**</span></span>
   > 
   > 
6. <span data-ttu-id="24320-206">Select the old device (status offline) and click **Failover**.</span><span class="sxs-lookup"><span data-stu-id="24320-206">Select the old device (status offline) and click **Failover**.</span></span> <span data-ttu-id="24320-207">In the wizard that is presented, fail over this device and specify the target device as the newly registered device.</span><span class="sxs-lookup"><span data-stu-id="24320-207">In the wizard that is presented, fail over this device and specify the target device as the newly registered device.</span></span> <span data-ttu-id="24320-208">For detailed instructions, refer to [Fail over to another physical device](#fail-over-to-another-physical-device).</span><span class="sxs-lookup"><span data-stu-id="24320-208">For detailed instructions, refer to [Fail over to another physical device](#fail-over-to-another-physical-device).</span></span>
7. <span data-ttu-id="24320-209">A device restore job will be created that you can monitor from the **Jobs** page.</span><span class="sxs-lookup"><span data-stu-id="24320-209">A device restore job will be created that you can monitor from the **Jobs** page.</span></span>
8. <span data-ttu-id="24320-210">After the job has successfully completed, access the new device and navigate to the **Volume Containers** page.</span><span class="sxs-lookup"><span data-stu-id="24320-210">After the job has successfully completed, access the new device and navigate to the **Volume Containers** page.</span></span> <span data-ttu-id="24320-211">All the volume containers from the old device should now be migrated to the new device.</span><span class="sxs-lookup"><span data-stu-id="24320-211">All the volume containers from the old device should now be migrated to the new device.</span></span>

## <a name="fail-over-to-a-storsimple-virtual-device"></a><span data-ttu-id="24320-212">Fail over to a StorSimple virtual device</span><span class="sxs-lookup"><span data-stu-id="24320-212">Fail over to a StorSimple virtual device</span></span>
<span data-ttu-id="24320-213">You must have a StorSimple virtual device created and configured prior to running this procedure.</span><span class="sxs-lookup"><span data-stu-id="24320-213">You must have a StorSimple virtual device created and configured prior to running this procedure.</span></span> <span data-ttu-id="24320-214">If running Update 2, consider using an 8020 virtual device for the DR that has 64 TB and uses Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="24320-214">If running Update 2, consider using an 8020 virtual device for the DR that has 64 TB and uses Premium Storage.</span></span> 

<span data-ttu-id="24320-215">Perform the following steps to restore the device to a target StorSimple virtual device.</span><span class="sxs-lookup"><span data-stu-id="24320-215">Perform the following steps to restore the device to a target StorSimple virtual device.</span></span>

1. <span data-ttu-id="24320-216">Verify that the volume container you want to fail over has associated cloud snapshots.</span><span class="sxs-lookup"><span data-stu-id="24320-216">Verify that the volume container you want to fail over has associated cloud snapshots.</span></span>
2. <span data-ttu-id="24320-217">On the **Devices** page, click the **Volume Containers** tab.</span><span class="sxs-lookup"><span data-stu-id="24320-217">On the **Devices** page, click the **Volume Containers** tab.</span></span>
3. <span data-ttu-id="24320-218">Select a volume container that you would like to fail over to another device.</span><span class="sxs-lookup"><span data-stu-id="24320-218">Select a volume container that you would like to fail over to another device.</span></span> <span data-ttu-id="24320-219">Click the volume container to display the list of volumes within this container.</span><span class="sxs-lookup"><span data-stu-id="24320-219">Click the volume container to display the list of volumes within this container.</span></span> <span data-ttu-id="24320-220">Select a volume and click **Take Offline** to take the volume offline.</span><span class="sxs-lookup"><span data-stu-id="24320-220">Select a volume and click **Take Offline** to take the volume offline.</span></span> <span data-ttu-id="24320-221">Repeat this process for all the volumes in the volume container.</span><span class="sxs-lookup"><span data-stu-id="24320-221">Repeat this process for all the volumes in the volume container.</span></span>
4. <span data-ttu-id="24320-222">Repeat the previous step for all the volume containers you would like to fail over to another device.</span><span class="sxs-lookup"><span data-stu-id="24320-222">Repeat the previous step for all the volume containers you would like to fail over to another device.</span></span>
5. <span data-ttu-id="24320-223">On the **Devices** page, click **Failover**.</span><span class="sxs-lookup"><span data-stu-id="24320-223">On the **Devices** page, click **Failover**.</span></span>
6. <span data-ttu-id="24320-224">In the wizard that opens up, under **Choose volume container to failover**, complete the following:</span><span class="sxs-lookup"><span data-stu-id="24320-224">In the wizard that opens up, under **Choose volume container to failover**, complete the following:</span></span>
   
    <span data-ttu-id="24320-225">a.</span><span class="sxs-lookup"><span data-stu-id="24320-225">a.</span></span> <span data-ttu-id="24320-226">In the list of volume containers, select the volume containers you would like to fail over.</span><span class="sxs-lookup"><span data-stu-id="24320-226">In the list of volume containers, select the volume containers you would like to fail over.</span></span>
   
    <span data-ttu-id="24320-227">**Only the volume containers with associated cloud snapshots and offline volumes are displayed.**</span><span class="sxs-lookup"><span data-stu-id="24320-227">**Only the volume containers with associated cloud snapshots and offline volumes are displayed.**</span></span>
   
    <span data-ttu-id="24320-228">b.</span><span class="sxs-lookup"><span data-stu-id="24320-228">b.</span></span> <span data-ttu-id="24320-229">Under **Choose a target device for the volumes in the selected containers**, select the StorSimple virtual device from the drop-down list of available devices.</span><span class="sxs-lookup"><span data-stu-id="24320-229">Under **Choose a target device for the volumes in the selected containers**, select the StorSimple virtual device from the drop-down list of available devices.</span></span> <span data-ttu-id="24320-230">**Only the devices that have sufficient capacity are displayed in the drop-down list.**</span><span class="sxs-lookup"><span data-stu-id="24320-230">**Only the devices that have sufficient capacity are displayed in the drop-down list.**</span></span>  
7. <span data-ttu-id="24320-231">Finally, review all the failover settings under **Confirm failover**.</span><span class="sxs-lookup"><span data-stu-id="24320-231">Finally, review all the failover settings under **Confirm failover**.</span></span> <span data-ttu-id="24320-232">Click the check icon ![Check icon](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-device-failover-disaster-recovery/IC740895.png).</span><span class="sxs-lookup"><span data-stu-id="24320-232">Click the check icon ![Check icon](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-device-failover-disaster-recovery/IC740895.png).</span></span>
8. <span data-ttu-id="24320-233">After the failover is completed, go to the **Devices** page.</span><span class="sxs-lookup"><span data-stu-id="24320-233">After the failover is completed, go to the **Devices** page.</span></span>
   
    <span data-ttu-id="24320-234">a.</span><span class="sxs-lookup"><span data-stu-id="24320-234">a.</span></span> <span data-ttu-id="24320-235">Select the StorSimple virtual device that was used as the target device for the failover process.</span><span class="sxs-lookup"><span data-stu-id="24320-235">Select the StorSimple virtual device that was used as the target device for the failover process.</span></span>
   
    <span data-ttu-id="24320-236">b.</span><span class="sxs-lookup"><span data-stu-id="24320-236">b.</span></span> <span data-ttu-id="24320-237">Go to the **Volume Containers** page.</span><span class="sxs-lookup"><span data-stu-id="24320-237">Go to the **Volume Containers** page.</span></span> <span data-ttu-id="24320-238">All the volume containers, along with the volumes from the old device should now be listed.</span><span class="sxs-lookup"><span data-stu-id="24320-238">All the volume containers, along with the volumes from the old device should now be listed.</span></span>

<span data-ttu-id="24320-239">![Video available](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-device-failover-disaster-recovery/Video_icon.png) **Video available**</span><span class="sxs-lookup"><span data-stu-id="24320-239">![Video available](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-device-failover-disaster-recovery/Video_icon.png) **Video available**</span></span>

<span data-ttu-id="24320-240">To watch a video that demonstrates how you can restore a failed over physical device to a virtual device in the cloud, click [here](https://azure.microsoft.com/documentation/videos/storsimple-and-disaster-recovery/).</span><span class="sxs-lookup"><span data-stu-id="24320-240">To watch a video that demonstrates how you can restore a failed over physical device to a virtual device in the cloud, click [here](https://azure.microsoft.com/documentation/videos/storsimple-and-disaster-recovery/).</span></span>

## <a name="failback"></a><span data-ttu-id="24320-241">Failback</span><span class="sxs-lookup"><span data-stu-id="24320-241">Failback</span></span>
<span data-ttu-id="24320-242">For Update 3 and later versions, StorSimple also supports failback.</span><span class="sxs-lookup"><span data-stu-id="24320-242">For Update 3 and later versions, StorSimple also supports failback.</span></span> <span data-ttu-id="24320-243">After the failover is complete, the following actions occur:</span><span class="sxs-lookup"><span data-stu-id="24320-243">After the failover is complete, the following actions occur:</span></span>

* <span data-ttu-id="24320-244">The volume containers that are failed over are cleaned from the source device.</span><span class="sxs-lookup"><span data-stu-id="24320-244">The volume containers that are failed over are cleaned from the source device.</span></span>
* <span data-ttu-id="24320-245">A background job per volume container (failed over) is initiated on the source device.</span><span class="sxs-lookup"><span data-stu-id="24320-245">A background job per volume container (failed over) is initiated on the source device.</span></span> <span data-ttu-id="24320-246">If you attempt to failback while the job is in progress, you will recieve a notification to that effect.</span><span class="sxs-lookup"><span data-stu-id="24320-246">If you attempt to failback while the job is in progress, you will recieve a notification to that effect.</span></span> <span data-ttu-id="24320-247">You will need to wait until the job is complete to start the failback.</span><span class="sxs-lookup"><span data-stu-id="24320-247">You will need to wait until the job is complete to start the failback.</span></span> 
  
    <span data-ttu-id="24320-248">The time to complete the deletion of volume containers is dependent on various factors such as amount of data, age of the data, number of backups, and the network bandwidth available for the operation.</span><span class="sxs-lookup"><span data-stu-id="24320-248">The time to complete the deletion of volume containers is dependent on various factors such as amount of data, age of the data, number of backups, and the network bandwidth available for the operation.</span></span> <span data-ttu-id="24320-249">If you are planning test failovers/failbacks, we recommend that you test volume containers with less data (Gbs).</span><span class="sxs-lookup"><span data-stu-id="24320-249">If you are planning test failovers/failbacks, we recommend that you test volume containers with less data (Gbs).</span></span> <span data-ttu-id="24320-250">In most cases, you can start the failback 24 hours after the failover is complete.</span><span class="sxs-lookup"><span data-stu-id="24320-250">In most cases, you can start the failback 24 hours after the failover is complete.</span></span> 

## <a name="frequently-asked-questions"></a><span data-ttu-id="24320-251">Frequently asked questions</span><span class="sxs-lookup"><span data-stu-id="24320-251">Frequently asked questions</span></span>
<span data-ttu-id="24320-252">Q.</span><span class="sxs-lookup"><span data-stu-id="24320-252">Q.</span></span> <span data-ttu-id="24320-253">**What happens if the DR fails or has partial success?**</span><span class="sxs-lookup"><span data-stu-id="24320-253">**What happens if the DR fails or has partial success?**</span></span>

<span data-ttu-id="24320-254">A.</span><span class="sxs-lookup"><span data-stu-id="24320-254">A.</span></span> <span data-ttu-id="24320-255">If the DR fails, we recommend that you try agian.</span><span class="sxs-lookup"><span data-stu-id="24320-255">If the DR fails, we recommend that you try agian.</span></span> <span data-ttu-id="24320-256">The second time around, DR knows what all was done and when the process stalled the first time.</span><span class="sxs-lookup"><span data-stu-id="24320-256">The second time around, DR knows what all was done and when the process stalled the first time.</span></span> <span data-ttu-id="24320-257">The DR process starts from that point onwards.</span><span class="sxs-lookup"><span data-stu-id="24320-257">The DR process starts from that point onwards.</span></span> 

<span data-ttu-id="24320-258">Q.</span><span class="sxs-lookup"><span data-stu-id="24320-258">Q.</span></span> <span data-ttu-id="24320-259">**Can I delete a device while the device failover is in progress?**</span><span class="sxs-lookup"><span data-stu-id="24320-259">**Can I delete a device while the device failover is in progress?**</span></span>

<span data-ttu-id="24320-260">A.</span><span class="sxs-lookup"><span data-stu-id="24320-260">A.</span></span> <span data-ttu-id="24320-261">You cannot delete a device while a DR is in progress.</span><span class="sxs-lookup"><span data-stu-id="24320-261">You cannot delete a device while a DR is in progress.</span></span> <span data-ttu-id="24320-262">You can only delete your device after the DR is complete.</span><span class="sxs-lookup"><span data-stu-id="24320-262">You can only delete your device after the DR is complete.</span></span>

<span data-ttu-id="24320-263">Q.</span><span class="sxs-lookup"><span data-stu-id="24320-263">Q.</span></span>    <span data-ttu-id="24320-264">**When does the garbage collection start on the source device so that the local data on source device is deleted?**</span><span class="sxs-lookup"><span data-stu-id="24320-264">**When does the garbage collection start on the source device so that the local data on source device is deleted?**</span></span>

<span data-ttu-id="24320-265">A.</span><span class="sxs-lookup"><span data-stu-id="24320-265">A.</span></span> <span data-ttu-id="24320-266">Garbage collection will be enabled on the source device only after the device is completely cleaned up.</span><span class="sxs-lookup"><span data-stu-id="24320-266">Garbage collection will be enabled on the source device only after the device is completely cleaned up.</span></span> <span data-ttu-id="24320-267">The cleanup includes cleaning up objects that have failed over from the source device such as volumes, backup objects (not data), volume containers, and policies.</span><span class="sxs-lookup"><span data-stu-id="24320-267">The cleanup includes cleaning up objects that have failed over from the source device such as volumes, backup objects (not data), volume containers, and policies.</span></span>

<span data-ttu-id="24320-268">Q.</span><span class="sxs-lookup"><span data-stu-id="24320-268">Q.</span></span> <span data-ttu-id="24320-269">**What happens if the delete job associated with the volume containers in the source device fails?**</span><span class="sxs-lookup"><span data-stu-id="24320-269">**What happens if the delete job associated with the volume containers in the source device fails?**</span></span>

<span data-ttu-id="24320-270">A.</span><span class="sxs-lookup"><span data-stu-id="24320-270">A.</span></span>  <span data-ttu-id="24320-271">If the delete job fails, then you will need to manually trigger the deletion of the volume containers.</span><span class="sxs-lookup"><span data-stu-id="24320-271">If the delete job fails, then you will need to manually trigger the deletion of the volume containers.</span></span> <span data-ttu-id="24320-272">In the **Devices** page, select your source device and click **Volume containers**.</span><span class="sxs-lookup"><span data-stu-id="24320-272">In the **Devices** page, select your source device and click **Volume containers**.</span></span> <span data-ttu-id="24320-273">Select the volume containers that you failed over and in the bottom of the page, click **Delete**.</span><span class="sxs-lookup"><span data-stu-id="24320-273">Select the volume containers that you failed over and in the bottom of the page, click **Delete**.</span></span> <span data-ttu-id="24320-274">Once you have deleted all the failed over volume containers on the source device, you can start the failback.</span><span class="sxs-lookup"><span data-stu-id="24320-274">Once you have deleted all the failed over volume containers on the source device, you can start the failback.</span></span>

## <a name="business-continuity-disaster-recovery-bcdr"></a><span data-ttu-id="24320-275">Business continuity disaster recovery (BCDR)</span><span class="sxs-lookup"><span data-stu-id="24320-275">Business continuity disaster recovery (BCDR)</span></span>
<span data-ttu-id="24320-276">A business continuity disaster recovery (BCDR) scenario occurs when the entire Azure datacenter stops functioning.</span><span class="sxs-lookup"><span data-stu-id="24320-276">A business continuity disaster recovery (BCDR) scenario occurs when the entire Azure datacenter stops functioning.</span></span> <span data-ttu-id="24320-277">This can affect your StorSimple Manager service and the associated StorSimple devices.</span><span class="sxs-lookup"><span data-stu-id="24320-277">This can affect your StorSimple Manager service and the associated StorSimple devices.</span></span>

<span data-ttu-id="24320-278">If there are StorSimple devices that were registered just before a disaster occurred, then these StorSimple devices may need to undergo a factory reset.</span><span class="sxs-lookup"><span data-stu-id="24320-278">If there are StorSimple devices that were registered just before a disaster occurred, then these StorSimple devices may need to undergo a factory reset.</span></span> <span data-ttu-id="24320-279">After the disaster, the StorSimple device will be shown as offline.</span><span class="sxs-lookup"><span data-stu-id="24320-279">After the disaster, the StorSimple device will be shown as offline.</span></span> <span data-ttu-id="24320-280">The StorSimple device must be deleted from the portal, and a factory reset should be done, followed by a fresh registration.</span><span class="sxs-lookup"><span data-stu-id="24320-280">The StorSimple device must be deleted from the portal, and a factory reset should be done, followed by a fresh registration.</span></span>

## <a name="next-steps"></a><span data-ttu-id="24320-281">Next steps</span><span class="sxs-lookup"><span data-stu-id="24320-281">Next steps</span></span>
* <span data-ttu-id="24320-282">After you have performed a failover, you may need to [deactivate or delete your StorSimple device](storsimple-deactivate-and-delete-device.md).</span><span class="sxs-lookup"><span data-stu-id="24320-282">After you have performed a failover, you may need to [deactivate or delete your StorSimple device](storsimple-deactivate-and-delete-device.md).</span></span>
* <span data-ttu-id="24320-283">For information about how to use the StorSimple Manager service, go to [Use the StorSimple Manager service to administer your StorSimple device](storsimple-manager-service-administration.md).</span><span class="sxs-lookup"><span data-stu-id="24320-283">For information about how to use the StorSimple Manager service, go to [Use the StorSimple Manager service to administer your StorSimple device](storsimple-manager-service-administration.md).</span></span>





