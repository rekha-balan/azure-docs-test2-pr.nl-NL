---
title: Best practices for StorSimple Virtual Array | Microsoft Docs
description: Describes the best practices for deploying and managing the StorSimple Virtual Array.
services: storsimple
documentationcenter: NA
author: alkohli
manager: timlt
editor: ''
ms.assetid: 57ac6eeb-c47c-442d-a5f4-b360d81a76a6
ms.service: storsimple
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 03/15/2017
ms.author: alkohli
ms.openlocfilehash: f04cf73d9cb651bf97aff855bf7d19e296796e50
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44563647"
---
# <a name="storsimple-virtual-array-best-practices"></a><span data-ttu-id="3d6ea-103">StorSimple Virtual Array best practices</span><span class="sxs-lookup"><span data-stu-id="3d6ea-103">StorSimple Virtual Array best practices</span></span>
## <a name="overview"></a><span data-ttu-id="3d6ea-104">Overview</span><span class="sxs-lookup"><span data-stu-id="3d6ea-104">Overview</span></span>
<span data-ttu-id="3d6ea-105">Microsoft Azure StorSimple Virtual Array is an integrated storage solution that manages storage tasks between an on-premises virtual device running in a hypervisor and Microsoft Azure cloud storage.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-105">Microsoft Azure StorSimple Virtual Array is an integrated storage solution that manages storage tasks between an on-premises virtual device running in a hypervisor and Microsoft Azure cloud storage.</span></span> <span data-ttu-id="3d6ea-106">StorSimple Virtual Array is an efficient, cost-effective alternative to the 8000 series physical array.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-106">StorSimple Virtual Array is an efficient, cost-effective alternative to the 8000 series physical array.</span></span> <span data-ttu-id="3d6ea-107">The virtual array can run on your existing hypervisor infrastructure, supports both the iSCSI and the SMB protocols, and is well-suited for remote office/branch office scenarios.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-107">The virtual array can run on your existing hypervisor infrastructure, supports both the iSCSI and the SMB protocols, and is well-suited for remote office/branch office scenarios.</span></span> <span data-ttu-id="3d6ea-108">For more information on the StorSimple solutions, go to [Microsoft Azure StorSimple Overview](https://www.microsoft.com/en-us/server-cloud/products/storsimple/overview.aspx).</span><span class="sxs-lookup"><span data-stu-id="3d6ea-108">For more information on the StorSimple solutions, go to [Microsoft Azure StorSimple Overview](https://www.microsoft.com/en-us/server-cloud/products/storsimple/overview.aspx).</span></span>

<span data-ttu-id="3d6ea-109">This article covers the best practices implemented during the initial setup, deployment, and management of the StorSimple Virtual Array.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-109">This article covers the best practices implemented during the initial setup, deployment, and management of the StorSimple Virtual Array.</span></span> <span data-ttu-id="3d6ea-110">These best practices provide validated guidelines for the setup and management of your virtual array.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-110">These best practices provide validated guidelines for the setup and management of your virtual array.</span></span> <span data-ttu-id="3d6ea-111">This article is targeted towards the IT administrators who deploy and manage the virtual arrays in their datacenters.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-111">This article is targeted towards the IT administrators who deploy and manage the virtual arrays in their datacenters.</span></span>

<span data-ttu-id="3d6ea-112">We recommend a periodic review of the best practices to help ensure your device is still in compliance when changes are made to the setup or operation flow.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-112">We recommend a periodic review of the best practices to help ensure your device is still in compliance when changes are made to the setup or operation flow.</span></span> <span data-ttu-id="3d6ea-113">Should you encounter any issues while implementing these best practices on your virtual array, [contact Microsoft Support](storsimple-contact-microsoft-support.md) for assistance.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-113">Should you encounter any issues while implementing these best practices on your virtual array, [contact Microsoft Support](storsimple-contact-microsoft-support.md) for assistance.</span></span>

## <a name="configuration-best-practices"></a><span data-ttu-id="3d6ea-114">Configuration best practices</span><span class="sxs-lookup"><span data-stu-id="3d6ea-114">Configuration best practices</span></span>
<span data-ttu-id="3d6ea-115">These best practices cover the guidelines that need to be followed during the initial setup and deployment of the virtual arrays.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-115">These best practices cover the guidelines that need to be followed during the initial setup and deployment of the virtual arrays.</span></span> <span data-ttu-id="3d6ea-116">These best practices include those related to the provisioning of the virtual machine, group policy settings, sizing, setting up the networking, configuring storage accounts, and creating shares and volumes for the virtual array.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-116">These best practices include those related to the provisioning of the virtual machine, group policy settings, sizing, setting up the networking, configuring storage accounts, and creating shares and volumes for the virtual array.</span></span> 

### <a name="provisioning"></a><span data-ttu-id="3d6ea-117">Provisioning</span><span class="sxs-lookup"><span data-stu-id="3d6ea-117">Provisioning</span></span>
<span data-ttu-id="3d6ea-118">StorSimple Virtual Array is a virtual machine (VM) provisioned on the hypervisor (Hyper-V or VMware) of your host server.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-118">StorSimple Virtual Array is a virtual machine (VM) provisioned on the hypervisor (Hyper-V or VMware) of your host server.</span></span> <span data-ttu-id="3d6ea-119">When provisioning the virtual machine, ensure that your host is able to dedicate sufficient resources.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-119">When provisioning the virtual machine, ensure that your host is able to dedicate sufficient resources.</span></span> <span data-ttu-id="3d6ea-120">For more information, go to [minimum resource requirements](storsimple-ova-deploy2-provision-hyperv.md#step-1-ensure-that-the-host-system-meets-minimum-virtual-device-requirements) to provision an array.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-120">For more information, go to [minimum resource requirements](storsimple-ova-deploy2-provision-hyperv.md#step-1-ensure-that-the-host-system-meets-minimum-virtual-device-requirements) to provision an array.</span></span> 

<span data-ttu-id="3d6ea-121">Implement the following best practices when provisioning the virtual array:</span><span class="sxs-lookup"><span data-stu-id="3d6ea-121">Implement the following best practices when provisioning the virtual array:</span></span>

|  | <span data-ttu-id="3d6ea-122">Hyper-V</span><span class="sxs-lookup"><span data-stu-id="3d6ea-122">Hyper-V</span></span> | <span data-ttu-id="3d6ea-123">VMware</span><span class="sxs-lookup"><span data-stu-id="3d6ea-123">VMware</span></span> |
| --- | --- | --- |
| <span data-ttu-id="3d6ea-124">**Virtual machine type**</span><span class="sxs-lookup"><span data-stu-id="3d6ea-124">**Virtual machine type**</span></span> |<span data-ttu-id="3d6ea-125">**Generation 2** VM for use with Windows Server 2012 or later and a *.vhdx* image.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-125">**Generation 2** VM for use with Windows Server 2012 or later and a *.vhdx* image.</span></span> <br></br> <span data-ttu-id="3d6ea-126">**Generation 1** VM for use with a Windows Server 2008 or later and a *.vhd* image.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-126">**Generation 1** VM for use with a Windows Server 2008 or later and a *.vhd* image.</span></span> |<span data-ttu-id="3d6ea-127">Use virtual machine version 8 - 11 when using *.vmdk* image.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-127">Use virtual machine version 8 - 11 when using *.vmdk* image.</span></span> |
| <span data-ttu-id="3d6ea-128">**Memory type**</span><span class="sxs-lookup"><span data-stu-id="3d6ea-128">**Memory type**</span></span> |<span data-ttu-id="3d6ea-129">Configure as **static memory**.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-129">Configure as **static memory**.</span></span> <br></br> <span data-ttu-id="3d6ea-130">Do not use the **dynamic memory** option.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-130">Do not use the **dynamic memory** option.</span></span> | |
| <span data-ttu-id="3d6ea-131">**Data disk type**</span><span class="sxs-lookup"><span data-stu-id="3d6ea-131">**Data disk type**</span></span> |<span data-ttu-id="3d6ea-132">Provision as **dynamically expanding**.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-132">Provision as **dynamically expanding**.</span></span><br></br> <span data-ttu-id="3d6ea-133">**Fixed size** takes a long time.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-133">**Fixed size** takes a long time.</span></span> <br></br> <span data-ttu-id="3d6ea-134">Do not use the **differencing** option.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-134">Do not use the **differencing** option.</span></span> |<span data-ttu-id="3d6ea-135">Use the **thin provision** option.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-135">Use the **thin provision** option.</span></span> |
| <span data-ttu-id="3d6ea-136">**Data disk modification**</span><span class="sxs-lookup"><span data-stu-id="3d6ea-136">**Data disk modification**</span></span> |<span data-ttu-id="3d6ea-137">Expansion or shrinking is not allowed.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-137">Expansion or shrinking is not allowed.</span></span> <span data-ttu-id="3d6ea-138">An attempt to do so results in the loss of all the local data on device.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-138">An attempt to do so results in the loss of all the local data on device.</span></span> |<span data-ttu-id="3d6ea-139">Expansion or shrinking is not allowed.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-139">Expansion or shrinking is not allowed.</span></span> <span data-ttu-id="3d6ea-140">An attempt to do so results in the loss of all the local data on device.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-140">An attempt to do so results in the loss of all the local data on device.</span></span> |

### <a name="sizing"></a><span data-ttu-id="3d6ea-141">Sizing</span><span class="sxs-lookup"><span data-stu-id="3d6ea-141">Sizing</span></span>
<span data-ttu-id="3d6ea-142">When sizing your StorSimple Virtual Array, consider the following factors:</span><span class="sxs-lookup"><span data-stu-id="3d6ea-142">When sizing your StorSimple Virtual Array, consider the following factors:</span></span>

* <span data-ttu-id="3d6ea-143">Local reservation for volumes or shares.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-143">Local reservation for volumes or shares.</span></span> <span data-ttu-id="3d6ea-144">Approximately 12% of the space is reserved on the local tier for each provisioned tiered volume or share.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-144">Approximately 12% of the space is reserved on the local tier for each provisioned tiered volume or share.</span></span> <span data-ttu-id="3d6ea-145">Roughly 10% of the space is also reserved for a locally pinned volume for file system.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-145">Roughly 10% of the space is also reserved for a locally pinned volume for file system.</span></span>
* <span data-ttu-id="3d6ea-146">Snapshot overhead.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-146">Snapshot overhead.</span></span> <span data-ttu-id="3d6ea-147">Roughly 15% space on the local tier is reserved for snapshots.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-147">Roughly 15% space on the local tier is reserved for snapshots.</span></span>
* <span data-ttu-id="3d6ea-148">Need for restores.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-148">Need for restores.</span></span> <span data-ttu-id="3d6ea-149">If doing restore as a new operation, sizing should account for the space needed for restore.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-149">If doing restore as a new operation, sizing should account for the space needed for restore.</span></span> <span data-ttu-id="3d6ea-150">Restore is done to a share or volume of the same size.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-150">Restore is done to a share or volume of the same size.</span></span>
* <span data-ttu-id="3d6ea-151">Some buffer should be allocated for any unexpected growth.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-151">Some buffer should be allocated for any unexpected growth.</span></span>

<span data-ttu-id="3d6ea-152">Based on the preceding factors, the sizing requirements can be represented by the following equation:</span><span class="sxs-lookup"><span data-stu-id="3d6ea-152">Based on the preceding factors, the sizing requirements can be represented by the following equation:</span></span>

`Total usable local disk size = (Total provisioned locally pinned volume/share size including space for file system) + (Max (local reservation for a volume/share) for all tiered volumes/share) + (Local reservation for all tiered volumes/shares)`

`Data disk size = Total usable local disk size + Snapshot overhead + buffer for unexpected growth or new share or volume`

<span data-ttu-id="3d6ea-153">The following examples illustrate how you can size a virtual array based on your requirements.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-153">The following examples illustrate how you can size a virtual array based on your requirements.</span></span>

#### <a name="example-1"></a><span data-ttu-id="3d6ea-154">Example 1:</span><span class="sxs-lookup"><span data-stu-id="3d6ea-154">Example 1:</span></span>
<span data-ttu-id="3d6ea-155">On your virtual array, you want to be able to</span><span class="sxs-lookup"><span data-stu-id="3d6ea-155">On your virtual array, you want to be able to</span></span> 

* <span data-ttu-id="3d6ea-156">provision a 2 TB tiered volume or share.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-156">provision a 2 TB tiered volume or share.</span></span>
* <span data-ttu-id="3d6ea-157">provision a 1 TB tiered volume or share.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-157">provision a 1 TB tiered volume or share.</span></span>
* <span data-ttu-id="3d6ea-158">provision a 300 GB of locally pinned volume or share.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-158">provision a 300 GB of locally pinned volume or share.</span></span>

<span data-ttu-id="3d6ea-159">For the preceding volumes or shares, let us calculate the space requirements on the local tier.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-159">For the preceding volumes or shares, let us calculate the space requirements on the local tier.</span></span> 

<span data-ttu-id="3d6ea-160">First, for each tiered volume/share, local reservation would be equal to 12% of the volume/share size.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-160">First, for each tiered volume/share, local reservation would be equal to 12% of the volume/share size.</span></span> <span data-ttu-id="3d6ea-161">For the locally pinned volume/share, local reservation is 10 % of the locally pinned volume/share size (in addition to the provisioned size).</span><span class="sxs-lookup"><span data-stu-id="3d6ea-161">For the locally pinned volume/share, local reservation is 10 % of the locally pinned volume/share size (in addition to the provisioned size).</span></span> <span data-ttu-id="3d6ea-162">In this example, you need</span><span class="sxs-lookup"><span data-stu-id="3d6ea-162">In this example, you need</span></span>

* <span data-ttu-id="3d6ea-163">240 GB local reservation (for a 2 TB tiered volume/share)</span><span class="sxs-lookup"><span data-stu-id="3d6ea-163">240 GB local reservation (for a 2 TB tiered volume/share)</span></span>
* <span data-ttu-id="3d6ea-164">120 GB local reservation (for a 1 TB tiered volume/share)</span><span class="sxs-lookup"><span data-stu-id="3d6ea-164">120 GB local reservation (for a 1 TB tiered volume/share)</span></span>
* <span data-ttu-id="3d6ea-165">330 GB for locally pinned volume or share (adding 10 % of local reservation to the 300 GB provisioned size)</span><span class="sxs-lookup"><span data-stu-id="3d6ea-165">330 GB for locally pinned volume or share (adding 10 % of local reservation to the 300 GB provisioned size)</span></span>

<span data-ttu-id="3d6ea-166">The total space required on the local tier so far is: 240 GB + 120 GB + 330 GB = 690 GB.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-166">The total space required on the local tier so far is: 240 GB + 120 GB + 330 GB = 690 GB.</span></span>

<span data-ttu-id="3d6ea-167">Second, we need at least as much space on the local tier as the largest single reservation.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-167">Second, we need at least as much space on the local tier as the largest single reservation.</span></span> <span data-ttu-id="3d6ea-168">This extra amount is used in case you need to restore from a cloud snapshot.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-168">This extra amount is used in case you need to restore from a cloud snapshot.</span></span> <span data-ttu-id="3d6ea-169">In this example, the largest local reservation is 330 GB (including reservation for file system), so you would add that to the 690 GB: 690 GB + 330 GB = 1020 GB.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-169">In this example, the largest local reservation is 330 GB (including reservation for file system), so you would add that to the 690 GB: 690 GB + 330 GB = 1020 GB.</span></span>
<span data-ttu-id="3d6ea-170">If we performed subsequent additional restores, we can always free up the space from the previous restore operation.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-170">If we performed subsequent additional restores, we can always free up the space from the previous restore operation.</span></span>

<span data-ttu-id="3d6ea-171">Third, we need 15 % of your total local space so far to store local snapshots, so that only 85% of it is available.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-171">Third, we need 15 % of your total local space so far to store local snapshots, so that only 85% of it is available.</span></span> <span data-ttu-id="3d6ea-172">In this example, that would be around 1020 GB = 0.85&ast;provisioned data disk TB.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-172">In this example, that would be around 1020 GB = 0.85&ast;provisioned data disk TB.</span></span> <span data-ttu-id="3d6ea-173">So, the provisioned data disk would be (1020&ast;(1/0.85))= 1200 GB = 1.20 TB ~ 1.25 TB (rounding off to nearest quartile)</span><span class="sxs-lookup"><span data-stu-id="3d6ea-173">So, the provisioned data disk would be (1020&ast;(1/0.85))= 1200 GB = 1.20 TB ~ 1.25 TB (rounding off to nearest quartile)</span></span>

<span data-ttu-id="3d6ea-174">Factoring in unexpected growth and new restores, you should provision a local disk of around 1.25 - 1.5 TB.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-174">Factoring in unexpected growth and new restores, you should provision a local disk of around 1.25 - 1.5 TB.</span></span>

> [!NOTE]
> <span data-ttu-id="3d6ea-175">We also recommend that the local disk is thinly provisioned.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-175">We also recommend that the local disk is thinly provisioned.</span></span> <span data-ttu-id="3d6ea-176">This recommendation is because the restore space is only needed when you want to restore data that is older than five days.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-176">This recommendation is because the restore space is only needed when you want to restore data that is older than five days.</span></span> <span data-ttu-id="3d6ea-177">Item-level recovery allows you to restore data for the last five days without requiring the extra space for restore.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-177">Item-level recovery allows you to restore data for the last five days without requiring the extra space for restore.</span></span>
> 
> 

#### <a name="example-2"></a><span data-ttu-id="3d6ea-178">Example 2:</span><span class="sxs-lookup"><span data-stu-id="3d6ea-178">Example 2:</span></span>
<span data-ttu-id="3d6ea-179">On your virtual array, you want to be able to</span><span class="sxs-lookup"><span data-stu-id="3d6ea-179">On your virtual array, you want to be able to</span></span> 

* <span data-ttu-id="3d6ea-180">provision a 2 TB tiered volume</span><span class="sxs-lookup"><span data-stu-id="3d6ea-180">provision a 2 TB tiered volume</span></span>
* <span data-ttu-id="3d6ea-181">provision a 300 GB locally pinned volume</span><span class="sxs-lookup"><span data-stu-id="3d6ea-181">provision a 300 GB locally pinned volume</span></span>

<span data-ttu-id="3d6ea-182">Based on 12 % of local space reservation for tiered volumes/shares and 10 % for locally pinned volumes/shares, we need</span><span class="sxs-lookup"><span data-stu-id="3d6ea-182">Based on 12 % of local space reservation for tiered volumes/shares and 10 % for locally pinned volumes/shares, we need</span></span>

* <span data-ttu-id="3d6ea-183">240 GB local reservation (for 2 TB tiered volume/share)</span><span class="sxs-lookup"><span data-stu-id="3d6ea-183">240 GB local reservation (for 2 TB tiered volume/share)</span></span>
* <span data-ttu-id="3d6ea-184">330 GB for locally pinned volume or share (adding 10% of local reservation to the 300 GB provisioned space)</span><span class="sxs-lookup"><span data-stu-id="3d6ea-184">330 GB for locally pinned volume or share (adding 10% of local reservation to the 300 GB provisioned space)</span></span>

<span data-ttu-id="3d6ea-185">Total space required on the local tier is: 240 GB + 330 GB = 570 GB</span><span class="sxs-lookup"><span data-stu-id="3d6ea-185">Total space required on the local tier is: 240 GB + 330 GB = 570 GB</span></span>

<span data-ttu-id="3d6ea-186">The minimum local space needed for restore is 330 GB.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-186">The minimum local space needed for restore is 330 GB.</span></span> 

<span data-ttu-id="3d6ea-187">15 % of your total disk is used to store snapshots so that only 0.85 is available.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-187">15 % of your total disk is used to store snapshots so that only 0.85 is available.</span></span> <span data-ttu-id="3d6ea-188">So, the disk size is (900&ast;(1/0.85)) = 1.06 TB ~ 1.25 TB (rounding off to nearest quartile)</span><span class="sxs-lookup"><span data-stu-id="3d6ea-188">So, the disk size is (900&ast;(1/0.85)) = 1.06 TB ~ 1.25 TB (rounding off to nearest quartile)</span></span> 

<span data-ttu-id="3d6ea-189">Factoring in any unexpected growth, you can provision a 1.25 - 1.5 TB local disk.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-189">Factoring in any unexpected growth, you can provision a 1.25 - 1.5 TB local disk.</span></span>

### <a name="group-policy"></a><span data-ttu-id="3d6ea-190">Group policy</span><span class="sxs-lookup"><span data-stu-id="3d6ea-190">Group policy</span></span>
<span data-ttu-id="3d6ea-191">Group Policy is an infrastructure that allows you to implement specific configurations for users and computers.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-191">Group Policy is an infrastructure that allows you to implement specific configurations for users and computers.</span></span> <span data-ttu-id="3d6ea-192">Group Policy settings are contained in Group Policy objects (GPOs), which are linked to the following Active Directory Domain Services (AD DS) containers: sites, domains, or organizational units (OUs).</span><span class="sxs-lookup"><span data-stu-id="3d6ea-192">Group Policy settings are contained in Group Policy objects (GPOs), which are linked to the following Active Directory Domain Services (AD DS) containers: sites, domains, or organizational units (OUs).</span></span> 

<span data-ttu-id="3d6ea-193">If your virtual array is domain-joined, GPOs can be applied to it.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-193">If your virtual array is domain-joined, GPOs can be applied to it.</span></span> <span data-ttu-id="3d6ea-194">These GPOs can install applications such as an antivirus software that can adversely impact the operation of the StorSimple Virtual Array.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-194">These GPOs can install applications such as an antivirus software that can adversely impact the operation of the StorSimple Virtual Array.</span></span>

<span data-ttu-id="3d6ea-195">Therefore, we recommend that you:</span><span class="sxs-lookup"><span data-stu-id="3d6ea-195">Therefore, we recommend that you:</span></span>

* <span data-ttu-id="3d6ea-196">Ensure that your virtual array is in its own organizational unit (OU) for Active Directory.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-196">Ensure that your virtual array is in its own organizational unit (OU) for Active Directory.</span></span> 
* <span data-ttu-id="3d6ea-197">Make sure that no group policy objects (GPOs) are applied to your virtual array.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-197">Make sure that no group policy objects (GPOs) are applied to your virtual array.</span></span> <span data-ttu-id="3d6ea-198">You can block inheritance to ensure that the virtual array (child node) does not automatically inherit any GPOs from the parent.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-198">You can block inheritance to ensure that the virtual array (child node) does not automatically inherit any GPOs from the parent.</span></span> <span data-ttu-id="3d6ea-199">For more information, go to [block inheritance](https://technet.microsoft.com/library/cc731076.aspx).</span><span class="sxs-lookup"><span data-stu-id="3d6ea-199">For more information, go to [block inheritance](https://technet.microsoft.com/library/cc731076.aspx).</span></span>

### <a name="networking"></a><span data-ttu-id="3d6ea-200">Networking</span><span class="sxs-lookup"><span data-stu-id="3d6ea-200">Networking</span></span>
<span data-ttu-id="3d6ea-201">The network configuration for your virtual array is done through the local web UI.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-201">The network configuration for your virtual array is done through the local web UI.</span></span> <span data-ttu-id="3d6ea-202">A virtual network interface is enabled through the hypervisor in which the virtual array is provisioned.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-202">A virtual network interface is enabled through the hypervisor in which the virtual array is provisioned.</span></span> <span data-ttu-id="3d6ea-203">Use the [Network Settings](storsimple-ova-deploy3-fs-setup.md) page to configure the virtual network interface IP address, subnet, and gateway.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-203">Use the [Network Settings](storsimple-ova-deploy3-fs-setup.md) page to configure the virtual network interface IP address, subnet, and gateway.</span></span>  <span data-ttu-id="3d6ea-204">You can also configure the primary and secondary DNS server, time settings, and optional proxy settings for your device.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-204">You can also configure the primary and secondary DNS server, time settings, and optional proxy settings for your device.</span></span> <span data-ttu-id="3d6ea-205">Most of the network configuration is a one-time setup.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-205">Most of the network configuration is a one-time setup.</span></span> <span data-ttu-id="3d6ea-206">Review the [StorSimple networking requirements](storsimple-ova-system-requirements.md#networking-requirements) prior to deploying the virtual array.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-206">Review the [StorSimple networking requirements](storsimple-ova-system-requirements.md#networking-requirements) prior to deploying the virtual array.</span></span>

<span data-ttu-id="3d6ea-207">When deploying your virtual array, we recommend that you follow these best practices:</span><span class="sxs-lookup"><span data-stu-id="3d6ea-207">When deploying your virtual array, we recommend that you follow these best practices:</span></span>

* <span data-ttu-id="3d6ea-208">Ensure that the network in which the virtual array is deployed always has the capacity to dedicate 5 Mbps Internet bandwidth (or more).</span><span class="sxs-lookup"><span data-stu-id="3d6ea-208">Ensure that the network in which the virtual array is deployed always has the capacity to dedicate 5 Mbps Internet bandwidth (or more).</span></span> 
  
  * <span data-ttu-id="3d6ea-209">Internet bandwidth need varies depending on your workload characteristics and the rate of data change.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-209">Internet bandwidth need varies depending on your workload characteristics and the rate of data change.</span></span>
  * <span data-ttu-id="3d6ea-210">The data change that can be handled is directly proportional to your Internet bandwidth.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-210">The data change that can be handled is directly proportional to your Internet bandwidth.</span></span> <span data-ttu-id="3d6ea-211">As an example when taking a backup, a 5 Mbps bandwidth can accommodate a data change of around 18 GB in 8 hours.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-211">As an example when taking a backup, a 5 Mbps bandwidth can accommodate a data change of around 18 GB in 8 hours.</span></span> <span data-ttu-id="3d6ea-212">With four times more bandwidth (20 Mbps), you can handle four times more data change (72 GB).</span><span class="sxs-lookup"><span data-stu-id="3d6ea-212">With four times more bandwidth (20 Mbps), you can handle four times more data change (72 GB).</span></span> 
* <span data-ttu-id="3d6ea-213">Ensure connectivity to the Internet is always available.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-213">Ensure connectivity to the Internet is always available.</span></span> <span data-ttu-id="3d6ea-214">Sporadic or unreliable Internet connections to the devices may result in a loss of access to data in the cloud and could result in an unsupported configuration.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-214">Sporadic or unreliable Internet connections to the devices may result in a loss of access to data in the cloud and could result in an unsupported configuration.</span></span>
* <span data-ttu-id="3d6ea-215">If you plan to deploy your device as an iSCSI server:</span><span class="sxs-lookup"><span data-stu-id="3d6ea-215">If you plan to deploy your device as an iSCSI server:</span></span> 
  
  * <span data-ttu-id="3d6ea-216">We recommend that you disable the **Get IP address automatically** option (DHCP).</span><span class="sxs-lookup"><span data-stu-id="3d6ea-216">We recommend that you disable the **Get IP address automatically** option (DHCP).</span></span> 
  * <span data-ttu-id="3d6ea-217">Configure static IP addresses.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-217">Configure static IP addresses.</span></span> <span data-ttu-id="3d6ea-218">You must configure a primary and a secondary DNS server.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-218">You must configure a primary and a secondary DNS server.</span></span>
  * <span data-ttu-id="3d6ea-219">If defining multiple network interfaces on your virtual array, only the first network interface (by default, this interface is **Ethernet**) can reach the cloud.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-219">If defining multiple network interfaces on your virtual array, only the first network interface (by default, this interface is **Ethernet**) can reach the cloud.</span></span> <span data-ttu-id="3d6ea-220">To control the type of traffic, you can create multiple virtual network interfaces on your virtual array (configured as an iSCSI server) and connect those interfaces to different subnets.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-220">To control the type of traffic, you can create multiple virtual network interfaces on your virtual array (configured as an iSCSI server) and connect those interfaces to different subnets.</span></span>
* <span data-ttu-id="3d6ea-221">To throttle the cloud bandwidth only (used by the virtual array), configure throttling on the router or the firewall.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-221">To throttle the cloud bandwidth only (used by the virtual array), configure throttling on the router or the firewall.</span></span> <span data-ttu-id="3d6ea-222">If you define throttling in your hypervisor, it will throttle all the protocols including iSCSI and SMB instead of just the cloud bandwidth.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-222">If you define throttling in your hypervisor, it will throttle all the protocols including iSCSI and SMB instead of just the cloud bandwidth.</span></span> 
* <span data-ttu-id="3d6ea-223">Ensure that time synchronization for hypervisors is enabled.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-223">Ensure that time synchronization for hypervisors is enabled.</span></span> <span data-ttu-id="3d6ea-224">If using Hyper-V, select your virtual array in the Hyper-V Manager, go to **Settings &gt; Integration Services**, and ensure that the **Time synchronization** is checked.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-224">If using Hyper-V, select your virtual array in the Hyper-V Manager, go to **Settings &gt; Integration Services**, and ensure that the **Time synchronization** is checked.</span></span>

### <a name="storage-accounts"></a><span data-ttu-id="3d6ea-225">Storage accounts</span><span class="sxs-lookup"><span data-stu-id="3d6ea-225">Storage accounts</span></span>
<span data-ttu-id="3d6ea-226">StorSimple Virtual Array can be associated with a single storage account.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-226">StorSimple Virtual Array can be associated with a single storage account.</span></span> <span data-ttu-id="3d6ea-227">This storage account could be an automatically generated storage account, an account in the same subscription as the service, or a storage account related to another subscription.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-227">This storage account could be an automatically generated storage account, an account in the same subscription as the service, or a storage account related to another subscription.</span></span> <span data-ttu-id="3d6ea-228">For more information, see how to [manage storage accounts for your virtual array](storsimple-ova-manage-storage-accounts.md).</span><span class="sxs-lookup"><span data-stu-id="3d6ea-228">For more information, see how to [manage storage accounts for your virtual array](storsimple-ova-manage-storage-accounts.md).</span></span>

<span data-ttu-id="3d6ea-229">Use the following recommendations for storage accounts associated with your virtual array.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-229">Use the following recommendations for storage accounts associated with your virtual array.</span></span>

* <span data-ttu-id="3d6ea-230">When linking multiple virtual arrays with a single storage account, factor in the maximum capacity (64 TB) for a virtual array and the maximum size (500 TB) for a storage account.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-230">When linking multiple virtual arrays with a single storage account, factor in the maximum capacity (64 TB) for a virtual array and the maximum size (500 TB) for a storage account.</span></span> <span data-ttu-id="3d6ea-231">This limits the number of full-sized virtual arrays that can be associated with that storage account to about 7.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-231">This limits the number of full-sized virtual arrays that can be associated with that storage account to about 7.</span></span>
* <span data-ttu-id="3d6ea-232">When creating a new storage account</span><span class="sxs-lookup"><span data-stu-id="3d6ea-232">When creating a new storage account</span></span>
  
  * <span data-ttu-id="3d6ea-233">We recommend that you create it in the region closest to the remote office/branch office where your StorSimple Virtual Array is deployed to minimize latencies.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-233">We recommend that you create it in the region closest to the remote office/branch office where your StorSimple Virtual Array is deployed to minimize latencies.</span></span>
  * <span data-ttu-id="3d6ea-234">Bear in mind that you cannot move a storage account across different regions.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-234">Bear in mind that you cannot move a storage account across different regions.</span></span> <span data-ttu-id="3d6ea-235">Also you cannot move a service across subscriptions.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-235">Also you cannot move a service across subscriptions.</span></span>
  * <span data-ttu-id="3d6ea-236">Use a storage account that implements redundancy between the datacenters.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-236">Use a storage account that implements redundancy between the datacenters.</span></span> <span data-ttu-id="3d6ea-237">Geo-Redundant Storage (GRS), Zone Redundant Storage (ZRS), and Locally Redundant Storage (LRS) are all supported for use with your virtual array.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-237">Geo-Redundant Storage (GRS), Zone Redundant Storage (ZRS), and Locally Redundant Storage (LRS) are all supported for use with your virtual array.</span></span> <span data-ttu-id="3d6ea-238">For more information on the different types of storage accounts, go to [Azure storage replication](../storage/storage-redundancy.md).</span><span class="sxs-lookup"><span data-stu-id="3d6ea-238">For more information on the different types of storage accounts, go to [Azure storage replication](../storage/storage-redundancy.md).</span></span>

### <a name="shares-and-volumes"></a><span data-ttu-id="3d6ea-239">Shares and volumes</span><span class="sxs-lookup"><span data-stu-id="3d6ea-239">Shares and volumes</span></span>
<span data-ttu-id="3d6ea-240">For your StorSimple Virtual Array, you can provision shares when it is configured as a file server and volumes when configured as an iSCSI server.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-240">For your StorSimple Virtual Array, you can provision shares when it is configured as a file server and volumes when configured as an iSCSI server.</span></span> <span data-ttu-id="3d6ea-241">The best practices for creating shares and volumes are related to the size and the type configured.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-241">The best practices for creating shares and volumes are related to the size and the type configured.</span></span>

#### <a name="volumeshare-size"></a><span data-ttu-id="3d6ea-242">Volume/Share size</span><span class="sxs-lookup"><span data-stu-id="3d6ea-242">Volume/Share size</span></span>
<span data-ttu-id="3d6ea-243">On your virtual array, you can provision shares when it is configured as a file server and volumes when configured as an iSCSI server.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-243">On your virtual array, you can provision shares when it is configured as a file server and volumes when configured as an iSCSI server.</span></span> <span data-ttu-id="3d6ea-244">The best practices for creating shares and volumes relate to the size and the type configured.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-244">The best practices for creating shares and volumes relate to the size and the type configured.</span></span> 

<span data-ttu-id="3d6ea-245">Keep in mind the following best practices when provisioning shares or volumes on your virtual device.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-245">Keep in mind the following best practices when provisioning shares or volumes on your virtual device.</span></span>

* <span data-ttu-id="3d6ea-246">The file sizes relative to the provisioned size of a tiered share can impact the tiering performance.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-246">The file sizes relative to the provisioned size of a tiered share can impact the tiering performance.</span></span> <span data-ttu-id="3d6ea-247">Working with large files could result in a slow tier out. When working with large files, we recommend that the largest file is smaller than 3% of the share size.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-247">Working with large files could result in a slow tier out. When working with large files, we recommend that the largest file is smaller than 3% of the share size.</span></span>
* <span data-ttu-id="3d6ea-248">A maximum of 16 volumes/shares can be created on the virtual array.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-248">A maximum of 16 volumes/shares can be created on the virtual array.</span></span> <span data-ttu-id="3d6ea-249">For the size limits of the locally pinned and tiered volumes/shares, always refer to the [StorSimple Virtual Array limits](storsimple-ova-limits.md).</span><span class="sxs-lookup"><span data-stu-id="3d6ea-249">For the size limits of the locally pinned and tiered volumes/shares, always refer to the [StorSimple Virtual Array limits](storsimple-ova-limits.md).</span></span>
* <span data-ttu-id="3d6ea-250">When creating a volume, factor in the expected data consumption as well as future growth.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-250">When creating a volume, factor in the expected data consumption as well as future growth.</span></span> <span data-ttu-id="3d6ea-251">The volume cannot be expanded later.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-251">The volume cannot be expanded later.</span></span>
* <span data-ttu-id="3d6ea-252">Once the volume has been created, you cannot shrink the size of the volume on StorSimple.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-252">Once the volume has been created, you cannot shrink the size of the volume on StorSimple.</span></span>
* <span data-ttu-id="3d6ea-253">When writing to a tiered volume on StorSimple, when the volume data reaches a certain threshold (relative to the local space reserved for the volume), the IO is throttled.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-253">When writing to a tiered volume on StorSimple, when the volume data reaches a certain threshold (relative to the local space reserved for the volume), the IO is throttled.</span></span> <span data-ttu-id="3d6ea-254">Continuing to write to this volume slows down the IO significantly.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-254">Continuing to write to this volume slows down the IO significantly.</span></span> <span data-ttu-id="3d6ea-255">Though you can write to a tiered volume beyond its provisioned capacity (we do not actively stop the user from writing beyond the provisioned capacity), you see an alert notification to the effect that you have oversubscribed.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-255">Though you can write to a tiered volume beyond its provisioned capacity (we do not actively stop the user from writing beyond the provisioned capacity), you see an alert notification to the effect that you have oversubscribed.</span></span> <span data-ttu-id="3d6ea-256">Once you see the alert, it is imperative that you take remedial measures such as delete the volume data (volume expansion is currently not supported).</span><span class="sxs-lookup"><span data-stu-id="3d6ea-256">Once you see the alert, it is imperative that you take remedial measures such as delete the volume data (volume expansion is currently not supported).</span></span>
* <span data-ttu-id="3d6ea-257">For disaster recovery use cases, as the number of allowable shares/volumes is 16 and the maximum number of shares/volumes that can be processed in parallel is also 16, the number of shares/volumes does not have a bearing on your RPO and RTOs.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-257">For disaster recovery use cases, as the number of allowable shares/volumes is 16 and the maximum number of shares/volumes that can be processed in parallel is also 16, the number of shares/volumes does not have a bearing on your RPO and RTOs.</span></span> 

#### <a name="volumeshare-type"></a><span data-ttu-id="3d6ea-258">Volume/Share type</span><span class="sxs-lookup"><span data-stu-id="3d6ea-258">Volume/Share type</span></span>
<span data-ttu-id="3d6ea-259">StorSimple supports two volume/share types based on the usage: locally pinned and tiered.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-259">StorSimple supports two volume/share types based on the usage: locally pinned and tiered.</span></span> <span data-ttu-id="3d6ea-260">Locally pinned volumes/shares are thickly provisioned whereas the tiered volumes/shares are thinly provisioned.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-260">Locally pinned volumes/shares are thickly provisioned whereas the tiered volumes/shares are thinly provisioned.</span></span> 

<span data-ttu-id="3d6ea-261">We recommend that you implement the following best practices when configuring StorSimple volumes/shares:</span><span class="sxs-lookup"><span data-stu-id="3d6ea-261">We recommend that you implement the following best practices when configuring StorSimple volumes/shares:</span></span>

* <span data-ttu-id="3d6ea-262">Identify the volume type based on the workloads that you intend to deploy before you create a volume.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-262">Identify the volume type based on the workloads that you intend to deploy before you create a volume.</span></span> <span data-ttu-id="3d6ea-263">Use locally pinned volumes for workloads that require local guarantees of data (even during a cloud outage) and that require low cloud latencies.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-263">Use locally pinned volumes for workloads that require local guarantees of data (even during a cloud outage) and that require low cloud latencies.</span></span> <span data-ttu-id="3d6ea-264">Once you create a volume on your virtual array, you cannot change the volume type from locally pinned to tiered or *vice-versa*.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-264">Once you create a volume on your virtual array, you cannot change the volume type from locally pinned to tiered or *vice-versa*.</span></span> <span data-ttu-id="3d6ea-265">As an example, create locally pinned volumes when deploying SQL workloads or workloads hosting virtual machines (VMs); use tiered volumes for file share workloads.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-265">As an example, create locally pinned volumes when deploying SQL workloads or workloads hosting virtual machines (VMs); use tiered volumes for file share workloads.</span></span>
* <span data-ttu-id="3d6ea-266">Check the option for less frequently used archival data when dealing with large file sizes.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-266">Check the option for less frequently used archival data when dealing with large file sizes.</span></span> <span data-ttu-id="3d6ea-267">A larger deduplication chunk size of 512 K is used when this option is enabled to expedite the data transfer to the cloud.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-267">A larger deduplication chunk size of 512 K is used when this option is enabled to expedite the data transfer to the cloud.</span></span>

#### <a name="volume-format"></a><span data-ttu-id="3d6ea-268">Volume format</span><span class="sxs-lookup"><span data-stu-id="3d6ea-268">Volume format</span></span>
<span data-ttu-id="3d6ea-269">After you create StorSimple volumes on your iSCSI server, you need to initialize, mount, and format the volumes.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-269">After you create StorSimple volumes on your iSCSI server, you need to initialize, mount, and format the volumes.</span></span> <span data-ttu-id="3d6ea-270">This operation is performed on the host connected to your StorSimple device.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-270">This operation is performed on the host connected to your StorSimple device.</span></span> <span data-ttu-id="3d6ea-271">Following best practices are recommended when mounting and formatting volumes on the StorSimple host.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-271">Following best practices are recommended when mounting and formatting volumes on the StorSimple host.</span></span>

* <span data-ttu-id="3d6ea-272">Perform a quick format on all StorSimple volumes.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-272">Perform a quick format on all StorSimple volumes.</span></span>
* <span data-ttu-id="3d6ea-273">When formatting a StorSimple volume, use an allocation unit size (AUS) of 64 KB (default is 4 KB).</span><span class="sxs-lookup"><span data-stu-id="3d6ea-273">When formatting a StorSimple volume, use an allocation unit size (AUS) of 64 KB (default is 4 KB).</span></span> <span data-ttu-id="3d6ea-274">The 64 KB AUS is based on testing done in-house for common StorSimple workloads and other workloads.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-274">The 64 KB AUS is based on testing done in-house for common StorSimple workloads and other workloads.</span></span>
* <span data-ttu-id="3d6ea-275">When using the StorSimple Virtual Array configured as an iSCSI server, do not use spanned volumes or dynamic disks as these volumes or disks are not supported by StorSimple.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-275">When using the StorSimple Virtual Array configured as an iSCSI server, do not use spanned volumes or dynamic disks as these volumes or disks are not supported by StorSimple.</span></span>

#### <a name="share-access"></a><span data-ttu-id="3d6ea-276">Share access</span><span class="sxs-lookup"><span data-stu-id="3d6ea-276">Share access</span></span>
<span data-ttu-id="3d6ea-277">When creating shares on your virtual array file server, follow these guidelines:</span><span class="sxs-lookup"><span data-stu-id="3d6ea-277">When creating shares on your virtual array file server, follow these guidelines:</span></span>

* <span data-ttu-id="3d6ea-278">When creating a share, assign a user group as a share administrator instead of a single user.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-278">When creating a share, assign a user group as a share administrator instead of a single user.</span></span>
* <span data-ttu-id="3d6ea-279">You can manage the NTFS permissions after the share is created by editing the shares through Windows Explorer.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-279">You can manage the NTFS permissions after the share is created by editing the shares through Windows Explorer.</span></span>

#### <a name="volume-access"></a><span data-ttu-id="3d6ea-280">Volume access</span><span class="sxs-lookup"><span data-stu-id="3d6ea-280">Volume access</span></span>
<span data-ttu-id="3d6ea-281">When configuring the iSCSI volumes on your StorSimple Virtual Array, it is important to control access wherever necessary.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-281">When configuring the iSCSI volumes on your StorSimple Virtual Array, it is important to control access wherever necessary.</span></span> <span data-ttu-id="3d6ea-282">To determine which host servers can access volumes, create, and associate access control records (ACRs) with StorSimple volumes.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-282">To determine which host servers can access volumes, create, and associate access control records (ACRs) with StorSimple volumes.</span></span>

<span data-ttu-id="3d6ea-283">Use the following best practices when configuring ACRs for StorSimple volumes:</span><span class="sxs-lookup"><span data-stu-id="3d6ea-283">Use the following best practices when configuring ACRs for StorSimple volumes:</span></span>

* <span data-ttu-id="3d6ea-284">Always associate at least one ACR with a volume.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-284">Always associate at least one ACR with a volume.</span></span>
* <span data-ttu-id="3d6ea-285">Define multiple ACRs only in a clustered environment.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-285">Define multiple ACRs only in a clustered environment.</span></span>
* <span data-ttu-id="3d6ea-286">When assigning more than one ACR to a volume, ensure that the volume is not exposed in a way where it can be concurrently accessed by more than one non-clustered host.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-286">When assigning more than one ACR to a volume, ensure that the volume is not exposed in a way where it can be concurrently accessed by more than one non-clustered host.</span></span> <span data-ttu-id="3d6ea-287">If you have assigned multiple ACRs to a volume, a warning message pops up for you to review your configuration.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-287">If you have assigned multiple ACRs to a volume, a warning message pops up for you to review your configuration.</span></span>

### <a name="data-security-and-encryption"></a><span data-ttu-id="3d6ea-288">Data security and encryption</span><span class="sxs-lookup"><span data-stu-id="3d6ea-288">Data security and encryption</span></span>
<span data-ttu-id="3d6ea-289">Your StorSimple Virtual Array has data security and encryption features that ensure the confidentiality and integrity of your data.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-289">Your StorSimple Virtual Array has data security and encryption features that ensure the confidentiality and integrity of your data.</span></span> <span data-ttu-id="3d6ea-290">When using these features, it is recommended that you follow these best practices:</span><span class="sxs-lookup"><span data-stu-id="3d6ea-290">When using these features, it is recommended that you follow these best practices:</span></span> 

* <span data-ttu-id="3d6ea-291">Define a cloud storage encryption key to generate AES-256 encryption before the data is sent from your virtual array to the cloud.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-291">Define a cloud storage encryption key to generate AES-256 encryption before the data is sent from your virtual array to the cloud.</span></span> <span data-ttu-id="3d6ea-292">This key is not required if your data is encrypted to begin with.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-292">This key is not required if your data is encrypted to begin with.</span></span> <span data-ttu-id="3d6ea-293">The key can be generated and kept safe using a key management system such as [Azure key vault](../key-vault/key-vault-whatis.md).</span><span class="sxs-lookup"><span data-stu-id="3d6ea-293">The key can be generated and kept safe using a key management system such as [Azure key vault](../key-vault/key-vault-whatis.md).</span></span>
* <span data-ttu-id="3d6ea-294">When configuring the storage account via the StorSimple Manager service, make sure that you enable the SSL mode to create a secure channel for network communication between your StorSimple device and the cloud.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-294">When configuring the storage account via the StorSimple Manager service, make sure that you enable the SSL mode to create a secure channel for network communication between your StorSimple device and the cloud.</span></span>
* <span data-ttu-id="3d6ea-295">Regenerate the keys for your storage accounts (by accessing the Azure Storage service) periodically to account for any changes to access based on the changed list of administrators.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-295">Regenerate the keys for your storage accounts (by accessing the Azure Storage service) periodically to account for any changes to access based on the changed list of administrators.</span></span>
* <span data-ttu-id="3d6ea-296">Data on your virtual array is compressed and deduplicated before it is sent to Azure.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-296">Data on your virtual array is compressed and deduplicated before it is sent to Azure.</span></span> <span data-ttu-id="3d6ea-297">We don't recommend using the Data Deduplication role service on your Windows Server host.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-297">We don't recommend using the Data Deduplication role service on your Windows Server host.</span></span>

## <a name="operational-best-practices"></a><span data-ttu-id="3d6ea-298">Operational best practices</span><span class="sxs-lookup"><span data-stu-id="3d6ea-298">Operational best practices</span></span>
<span data-ttu-id="3d6ea-299">The operational best practices are guidelines that should be followed during the day-to-day management or operation of the virtual array.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-299">The operational best practices are guidelines that should be followed during the day-to-day management or operation of the virtual array.</span></span> <span data-ttu-id="3d6ea-300">These practices cover specific management tasks such as taking backups, restoring from a backup set, performing a failover, deactivating and deleting the array, monitoring system usage and health, and running virus scans on your virtual array.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-300">These practices cover specific management tasks such as taking backups, restoring from a backup set, performing a failover, deactivating and deleting the array, monitoring system usage and health, and running virus scans on your virtual array.</span></span>

### <a name="backups"></a><span data-ttu-id="3d6ea-301">Backups</span><span class="sxs-lookup"><span data-stu-id="3d6ea-301">Backups</span></span>
<span data-ttu-id="3d6ea-302">The data on your virtual array is backed up to the cloud in two ways, a default automated daily backup of the entire device starting at 22:30 or via a manual on-demand backup.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-302">The data on your virtual array is backed up to the cloud in two ways, a default automated daily backup of the entire device starting at 22:30 or via a manual on-demand backup.</span></span> <span data-ttu-id="3d6ea-303">By default, the device automatically creates daily cloud snapshots of all the data residing on it.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-303">By default, the device automatically creates daily cloud snapshots of all the data residing on it.</span></span> <span data-ttu-id="3d6ea-304">For more information, go to [back up your StorSimple Virtual Array](storsimple-ova-backup.md).</span><span class="sxs-lookup"><span data-stu-id="3d6ea-304">For more information, go to [back up your StorSimple Virtual Array](storsimple-ova-backup.md).</span></span>

<span data-ttu-id="3d6ea-305">The frequency and retention associated with the default backups cannot be changed but you can configure the time at which the daily backups are initiated every day.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-305">The frequency and retention associated with the default backups cannot be changed but you can configure the time at which the daily backups are initiated every day.</span></span> <span data-ttu-id="3d6ea-306">When configuring the start time for the automated backups, we recommend that:</span><span class="sxs-lookup"><span data-stu-id="3d6ea-306">When configuring the start time for the automated backups, we recommend that:</span></span>

* <span data-ttu-id="3d6ea-307">Schedule your backups for off-peak hours.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-307">Schedule your backups for off-peak hours.</span></span> <span data-ttu-id="3d6ea-308">Backup start time should not coincide with numerous host IO.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-308">Backup start time should not coincide with numerous host IO.</span></span>
* <span data-ttu-id="3d6ea-309">Initiate a manual on-demand backup when planning to perform a device failover or prior to the maintenance window, to protect the data on your virtual array.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-309">Initiate a manual on-demand backup when planning to perform a device failover or prior to the maintenance window, to protect the data on your virtual array.</span></span>

### <a name="restore"></a><span data-ttu-id="3d6ea-310">Restore</span><span class="sxs-lookup"><span data-stu-id="3d6ea-310">Restore</span></span>
<span data-ttu-id="3d6ea-311">You can restore from a backup set in two ways: restore to another volume or share or perform an item-level recovery (available only on a virtual array configured as a file server).</span><span class="sxs-lookup"><span data-stu-id="3d6ea-311">You can restore from a backup set in two ways: restore to another volume or share or perform an item-level recovery (available only on a virtual array configured as a file server).</span></span> <span data-ttu-id="3d6ea-312">Item-level recovery allows you to do a granular recovery of files and folders from a cloud backup of all the shares on the StorSimple device.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-312">Item-level recovery allows you to do a granular recovery of files and folders from a cloud backup of all the shares on the StorSimple device.</span></span> <span data-ttu-id="3d6ea-313">For more information, go to [restore from a backup](storsimple-ova-restore.md).</span><span class="sxs-lookup"><span data-stu-id="3d6ea-313">For more information, go to [restore from a backup](storsimple-ova-restore.md).</span></span>

<span data-ttu-id="3d6ea-314">When performing a restore, keep the following guidelines in mind:</span><span class="sxs-lookup"><span data-stu-id="3d6ea-314">When performing a restore, keep the following guidelines in mind:</span></span>

* <span data-ttu-id="3d6ea-315">Your StorSimple Virtual Array does not support in-place restore.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-315">Your StorSimple Virtual Array does not support in-place restore.</span></span> <span data-ttu-id="3d6ea-316">This can however be readily achieved by a two-step process: make space on the virtual array and then restore to another volume/share.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-316">This can however be readily achieved by a two-step process: make space on the virtual array and then restore to another volume/share.</span></span>
* <span data-ttu-id="3d6ea-317">When restoring from a local volume, keep in mind the restore will be a long running operation.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-317">When restoring from a local volume, keep in mind the restore will be a long running operation.</span></span> <span data-ttu-id="3d6ea-318">Though the volume may quickly come online, the data continues to be hydrated in the background.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-318">Though the volume may quickly come online, the data continues to be hydrated in the background.</span></span>
* <span data-ttu-id="3d6ea-319">The volume type remains the same during the restore process.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-319">The volume type remains the same during the restore process.</span></span> <span data-ttu-id="3d6ea-320">A tiered volume is restored to another tiered volume and a locally pinned volume to another locally pinned volume.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-320">A tiered volume is restored to another tiered volume and a locally pinned volume to another locally pinned volume.</span></span>
* <span data-ttu-id="3d6ea-321">When trying to restore a volume or a share from a backup set, if the restore job fails, a target volume or share may still be created in the portal.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-321">When trying to restore a volume or a share from a backup set, if the restore job fails, a target volume or share may still be created in the portal.</span></span> <span data-ttu-id="3d6ea-322">It is important that you delete this unused target volume or share in the portal to minimize any future issues arising from this element.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-322">It is important that you delete this unused target volume or share in the portal to minimize any future issues arising from this element.</span></span>

### <a name="failover-and-disaster-recovery"></a><span data-ttu-id="3d6ea-323">Failover and disaster recovery</span><span class="sxs-lookup"><span data-stu-id="3d6ea-323">Failover and disaster recovery</span></span>
<span data-ttu-id="3d6ea-324">A device failover allows you to migrate your data from a *source* device in the datacenter to another *target* device located in the same or a different geographical location.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-324">A device failover allows you to migrate your data from a *source* device in the datacenter to another *target* device located in the same or a different geographical location.</span></span> <span data-ttu-id="3d6ea-325">The device failover is for the entire device.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-325">The device failover is for the entire device.</span></span> <span data-ttu-id="3d6ea-326">During failover, the cloud data for the source device changes ownership to that of the target device.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-326">During failover, the cloud data for the source device changes ownership to that of the target device.</span></span>

<span data-ttu-id="3d6ea-327">For your StorSimple Virtual Array, you can only fail over to another virtual array managed by the same StorSimple Manager service.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-327">For your StorSimple Virtual Array, you can only fail over to another virtual array managed by the same StorSimple Manager service.</span></span> <span data-ttu-id="3d6ea-328">A failover to an 8000 series device or an array managed by a different StorSimple Manager service (than the one for the source device) is not allowed.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-328">A failover to an 8000 series device or an array managed by a different StorSimple Manager service (than the one for the source device) is not allowed.</span></span> <span data-ttu-id="3d6ea-329">To learn more about the failover considerations, go to [prerequisites for the device failover](storsimple-ova-failover-dr.md).</span><span class="sxs-lookup"><span data-stu-id="3d6ea-329">To learn more about the failover considerations, go to [prerequisites for the device failover](storsimple-ova-failover-dr.md).</span></span>

<span data-ttu-id="3d6ea-330">When performing a fail over for your virtual array, keep the following in mind:</span><span class="sxs-lookup"><span data-stu-id="3d6ea-330">When performing a fail over for your virtual array, keep the following in mind:</span></span>

* <span data-ttu-id="3d6ea-331">For a planned failover, it is a recommended best practice to take all the volumes/shares offline prior to initiating the failover.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-331">For a planned failover, it is a recommended best practice to take all the volumes/shares offline prior to initiating the failover.</span></span> <span data-ttu-id="3d6ea-332">Follow the operating system-specific instructions to take the volumes/shares offline on the host first and then take those offline on your virtual device.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-332">Follow the operating system-specific instructions to take the volumes/shares offline on the host first and then take those offline on your virtual device.</span></span>
* <span data-ttu-id="3d6ea-333">For a file server disaster recovery (DR), we recommend that you join the target device to the same domain as the source so that the share permissions are automatically resolved.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-333">For a file server disaster recovery (DR), we recommend that you join the target device to the same domain as the source so that the share permissions are automatically resolved.</span></span> <span data-ttu-id="3d6ea-334">Only the failover to a target device in the same domain is supported in this release.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-334">Only the failover to a target device in the same domain is supported in this release.</span></span>
* <span data-ttu-id="3d6ea-335">Once the DR is successfully completed, the source device is automatically deleted.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-335">Once the DR is successfully completed, the source device is automatically deleted.</span></span> <span data-ttu-id="3d6ea-336">Though the device is no longer available, the virtual machine that you provisioned on the host system is still consuming resources.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-336">Though the device is no longer available, the virtual machine that you provisioned on the host system is still consuming resources.</span></span> <span data-ttu-id="3d6ea-337">We recommend that you delete this virtual machine from your host system to prevent any charges from accruing.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-337">We recommend that you delete this virtual machine from your host system to prevent any charges from accruing.</span></span>
* <span data-ttu-id="3d6ea-338">Do note that even if the failover is unsuccessful, **the data is always safe in the cloud**.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-338">Do note that even if the failover is unsuccessful, **the data is always safe in the cloud**.</span></span> <span data-ttu-id="3d6ea-339">Consider the following three scenarios in which the failover did not complete successfully:</span><span class="sxs-lookup"><span data-stu-id="3d6ea-339">Consider the following three scenarios in which the failover did not complete successfully:</span></span>
  
  * <span data-ttu-id="3d6ea-340">A failure occurred in the initial stages of the failover such as when the DR pre-checks are being performed.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-340">A failure occurred in the initial stages of the failover such as when the DR pre-checks are being performed.</span></span> <span data-ttu-id="3d6ea-341">In this situation, your target device is still usable.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-341">In this situation, your target device is still usable.</span></span> <span data-ttu-id="3d6ea-342">You can retry the failover on the same target device.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-342">You can retry the failover on the same target device.</span></span>
  * <span data-ttu-id="3d6ea-343">A failure occurred during the actual failover process.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-343">A failure occurred during the actual failover process.</span></span> <span data-ttu-id="3d6ea-344">In this case, the target device is marked unusable.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-344">In this case, the target device is marked unusable.</span></span> <span data-ttu-id="3d6ea-345">You must provision and configure another target virtual array and use that for failover.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-345">You must provision and configure another target virtual array and use that for failover.</span></span>
  * <span data-ttu-id="3d6ea-346">The failover was complete following which the source device was deleted but the target device has issues and you cannot access any data.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-346">The failover was complete following which the source device was deleted but the target device has issues and you cannot access any data.</span></span> <span data-ttu-id="3d6ea-347">The data is still safe in the cloud and can be easily retrieved by creating another virtual array and then using it as a target device for the DR.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-347">The data is still safe in the cloud and can be easily retrieved by creating another virtual array and then using it as a target device for the DR.</span></span>

### <a name="deactivate"></a><span data-ttu-id="3d6ea-348">Deactivate</span><span class="sxs-lookup"><span data-stu-id="3d6ea-348">Deactivate</span></span>
<span data-ttu-id="3d6ea-349">When you deactivate a StorSimple Virtual Array, you sever the connection between the device and the corresponding StorSimple Manager service.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-349">When you deactivate a StorSimple Virtual Array, you sever the connection between the device and the corresponding StorSimple Manager service.</span></span> <span data-ttu-id="3d6ea-350">Deactivation is a **permanent** operation and cannot be undone.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-350">Deactivation is a **permanent** operation and cannot be undone.</span></span> <span data-ttu-id="3d6ea-351">A deactivated device cannot be registered with the StorSimple Manager service again.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-351">A deactivated device cannot be registered with the StorSimple Manager service again.</span></span> <span data-ttu-id="3d6ea-352">For more information, go to [deactivate and delete your StorSimple Virtual Array](storsimple-deactivate-and-delete-device.md).</span><span class="sxs-lookup"><span data-stu-id="3d6ea-352">For more information, go to [deactivate and delete your StorSimple Virtual Array](storsimple-deactivate-and-delete-device.md).</span></span>

<span data-ttu-id="3d6ea-353">Keep the following best practices in mind when deactivating your virtual array:</span><span class="sxs-lookup"><span data-stu-id="3d6ea-353">Keep the following best practices in mind when deactivating your virtual array:</span></span>

* <span data-ttu-id="3d6ea-354">Take a cloud snapshot of all the data prior to deactivating a virtual device.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-354">Take a cloud snapshot of all the data prior to deactivating a virtual device.</span></span> <span data-ttu-id="3d6ea-355">When you deactivate a virtual array, all the local device data is lost.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-355">When you deactivate a virtual array, all the local device data is lost.</span></span> <span data-ttu-id="3d6ea-356">Taking a cloud snapshot will allow you to recover data at a later stage.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-356">Taking a cloud snapshot will allow you to recover data at a later stage.</span></span>
* <span data-ttu-id="3d6ea-357">Before you deactivate a StorSimple Virtual Array, make sure to stop or delete clients and hosts that depend on that device.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-357">Before you deactivate a StorSimple Virtual Array, make sure to stop or delete clients and hosts that depend on that device.</span></span>
* <span data-ttu-id="3d6ea-358">Delete a deactivated device if you are no longer using so that it doesn't accrue charges.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-358">Delete a deactivated device if you are no longer using so that it doesn't accrue charges.</span></span>

### <a name="monitoring"></a><span data-ttu-id="3d6ea-359">Monitoring</span><span class="sxs-lookup"><span data-stu-id="3d6ea-359">Monitoring</span></span>
<span data-ttu-id="3d6ea-360">To ensure that your StorSimple Virtual Array is in a continuous healthy state, you need to monitor the array and ensure that you receive information from the system including alerts.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-360">To ensure that your StorSimple Virtual Array is in a continuous healthy state, you need to monitor the array and ensure that you receive information from the system including alerts.</span></span> <span data-ttu-id="3d6ea-361">To monitor the overall health of the virtual array, implement the following best practices:</span><span class="sxs-lookup"><span data-stu-id="3d6ea-361">To monitor the overall health of the virtual array, implement the following best practices:</span></span>

* <span data-ttu-id="3d6ea-362">Configure monitoring to track the disk usage of your virtual array data disk as well as the OS disk.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-362">Configure monitoring to track the disk usage of your virtual array data disk as well as the OS disk.</span></span> <span data-ttu-id="3d6ea-363">If running Hyper-V, you can use a combination of System Center Virtual Machine Manager (SCVMM) and System Center Operations Manager (SCOM) to monitor your virtualization hosts.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-363">If running Hyper-V, you can use a combination of System Center Virtual Machine Manager (SCVMM) and System Center Operations Manager (SCOM) to monitor your virtualization hosts.</span></span>   
* <span data-ttu-id="3d6ea-364">Configure email notifications on your virtual array to send alerts at certain usage levels.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-364">Configure email notifications on your virtual array to send alerts at certain usage levels.</span></span>                                                                                                                                                                                                

### <a name="index-search-and-virus-scan-applications"></a><span data-ttu-id="3d6ea-365">Index search and virus scan applications</span><span class="sxs-lookup"><span data-stu-id="3d6ea-365">Index search and virus scan applications</span></span>
<span data-ttu-id="3d6ea-366">A StorSimple Virtual Array can automatically tier data from the local tier to the Microsoft Azure cloud.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-366">A StorSimple Virtual Array can automatically tier data from the local tier to the Microsoft Azure cloud.</span></span> <span data-ttu-id="3d6ea-367">When an application such as an index search or a virus scan is used to scan the data stored on StorSimple, you need to take care that the cloud data does not get accessed and pulled back to the local tier.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-367">When an application such as an index search or a virus scan is used to scan the data stored on StorSimple, you need to take care that the cloud data does not get accessed and pulled back to the local tier.</span></span>

<span data-ttu-id="3d6ea-368">We recommend that you implement the following best practices when configuring the index search or virus scan on your virtual array:</span><span class="sxs-lookup"><span data-stu-id="3d6ea-368">We recommend that you implement the following best practices when configuring the index search or virus scan on your virtual array:</span></span>

* <span data-ttu-id="3d6ea-369">Disable any automatically configured full scan operations.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-369">Disable any automatically configured full scan operations.</span></span>
* <span data-ttu-id="3d6ea-370">For tiered volumes, configure the index search or virus scan application to perform an incremental scan.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-370">For tiered volumes, configure the index search or virus scan application to perform an incremental scan.</span></span> <span data-ttu-id="3d6ea-371">This would scan only the new data likely residing on the local tier.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-371">This would scan only the new data likely residing on the local tier.</span></span> <span data-ttu-id="3d6ea-372">The data that is tiered to the cloud is not accessed during an incremental operation.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-372">The data that is tiered to the cloud is not accessed during an incremental operation.</span></span>
* <span data-ttu-id="3d6ea-373">Ensure the correct search filters and settings are configured so that only the intended types of files get scanned.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-373">Ensure the correct search filters and settings are configured so that only the intended types of files get scanned.</span></span> <span data-ttu-id="3d6ea-374">For example, image files (JPEG, GIF, and TIFF) and engineering drawings should not be scanned during the incremental or full index rebuild.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-374">For example, image files (JPEG, GIF, and TIFF) and engineering drawings should not be scanned during the incremental or full index rebuild.</span></span>

<span data-ttu-id="3d6ea-375">If using Windows indexing process, follow these guidelines:</span><span class="sxs-lookup"><span data-stu-id="3d6ea-375">If using Windows indexing process, follow these guidelines:</span></span>

* <span data-ttu-id="3d6ea-376">Do not use the Windows Indexer for tiered volumes as it recalls large amounts of data (TBs) from the cloud if the index needs to be rebuilt frequently.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-376">Do not use the Windows Indexer for tiered volumes as it recalls large amounts of data (TBs) from the cloud if the index needs to be rebuilt frequently.</span></span> <span data-ttu-id="3d6ea-377">Rebuilding the index would retrieve all file types to index their content.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-377">Rebuilding the index would retrieve all file types to index their content.</span></span>
* <span data-ttu-id="3d6ea-378">Use the Windows indexing process for locally pinned volumes as this would only access data on the local tiers to build the index (the cloud data will not be accessed).</span><span class="sxs-lookup"><span data-stu-id="3d6ea-378">Use the Windows indexing process for locally pinned volumes as this would only access data on the local tiers to build the index (the cloud data will not be accessed).</span></span>

### <a name="byte-range-locking"></a><span data-ttu-id="3d6ea-379">Byte range locking</span><span class="sxs-lookup"><span data-stu-id="3d6ea-379">Byte range locking</span></span>
<span data-ttu-id="3d6ea-380">Applications can lock a specified range of bytes within the files.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-380">Applications can lock a specified range of bytes within the files.</span></span> <span data-ttu-id="3d6ea-381">If byte range locking is enabled on the applications that are writing to your StorSimple, then tiering does not work on your virtual array.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-381">If byte range locking is enabled on the applications that are writing to your StorSimple, then tiering does not work on your virtual array.</span></span> <span data-ttu-id="3d6ea-382">For the tiering to work, all areas of the files accessed should be unlocked.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-382">For the tiering to work, all areas of the files accessed should be unlocked.</span></span> <span data-ttu-id="3d6ea-383">Byte range locking is not supported with tiered volumes on your virtual array.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-383">Byte range locking is not supported with tiered volumes on your virtual array.</span></span>

<span data-ttu-id="3d6ea-384">Recommended measures to alleviate byte range locking include:</span><span class="sxs-lookup"><span data-stu-id="3d6ea-384">Recommended measures to alleviate byte range locking include:</span></span>

* <span data-ttu-id="3d6ea-385">Turn off byte range locking in your application logic.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-385">Turn off byte range locking in your application logic.</span></span>
* <span data-ttu-id="3d6ea-386">Use locally pinned volumes (instead of tiered) for the data associated with this application.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-386">Use locally pinned volumes (instead of tiered) for the data associated with this application.</span></span> <span data-ttu-id="3d6ea-387">Locally pinned volumes do not tier into the cloud.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-387">Locally pinned volumes do not tier into the cloud.</span></span>
* <span data-ttu-id="3d6ea-388">When using locally pinned volumes with byte range locking enabled, the volume can come online before the restore is complete.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-388">When using locally pinned volumes with byte range locking enabled, the volume can come online before the restore is complete.</span></span> <span data-ttu-id="3d6ea-389">In these instances, you must wait for the restore to be complete.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-389">In these instances, you must wait for the restore to be complete.</span></span>

## <a name="multiple-arrays"></a><span data-ttu-id="3d6ea-390">Multiple arrays</span><span class="sxs-lookup"><span data-stu-id="3d6ea-390">Multiple arrays</span></span>
<span data-ttu-id="3d6ea-391">Multiple virtual arrays may need to be deployed to account for a growing working set of data that could spill onto the cloud thus affecting the performance of the device.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-391">Multiple virtual arrays may need to be deployed to account for a growing working set of data that could spill onto the cloud thus affecting the performance of the device.</span></span> <span data-ttu-id="3d6ea-392">In these instances, it is best to scale devices as the working set grows.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-392">In these instances, it is best to scale devices as the working set grows.</span></span> <span data-ttu-id="3d6ea-393">This requires one or more devices to be added in the on-premises data center.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-393">This requires one or more devices to be added in the on-premises data center.</span></span> <span data-ttu-id="3d6ea-394">When adding the devices, you could:</span><span class="sxs-lookup"><span data-stu-id="3d6ea-394">When adding the devices, you could:</span></span>

* <span data-ttu-id="3d6ea-395">Split the current set of data.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-395">Split the current set of data.</span></span>
* <span data-ttu-id="3d6ea-396">Deploy new workloads to new device(s).</span><span class="sxs-lookup"><span data-stu-id="3d6ea-396">Deploy new workloads to new device(s).</span></span>
* <span data-ttu-id="3d6ea-397">If deploying multiple virtual arrays, we recommend that from load-balancing perspective, distribute the array across different hypervisor hosts.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-397">If deploying multiple virtual arrays, we recommend that from load-balancing perspective, distribute the array across different hypervisor hosts.</span></span>
* <span data-ttu-id="3d6ea-398">Multiple virtual arrays (when configured as a file server or an iSCSI server) can be deployed in a Distributed File System Namespace.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-398">Multiple virtual arrays (when configured as a file server or an iSCSI server) can be deployed in a Distributed File System Namespace.</span></span> <span data-ttu-id="3d6ea-399">For detailed steps, go to [Distributed File System Namespace Solution with Hybrid Cloud Storage Deployment Guide](https://www.microsoft.com/download/details.aspx?id=45507).</span><span class="sxs-lookup"><span data-stu-id="3d6ea-399">For detailed steps, go to [Distributed File System Namespace Solution with Hybrid Cloud Storage Deployment Guide](https://www.microsoft.com/download/details.aspx?id=45507).</span></span> <span data-ttu-id="3d6ea-400">Distributed File System Replication is currently not recommended for use with the virtual array.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-400">Distributed File System Replication is currently not recommended for use with the virtual array.</span></span> 

## <a name="see-also"></a><span data-ttu-id="3d6ea-401">See also</span><span class="sxs-lookup"><span data-stu-id="3d6ea-401">See also</span></span>
<span data-ttu-id="3d6ea-402">Learn how to [administer your StorSimple Virtual Array](storsimple-ova-manager-service-administration.md) via the StorSimple Manager service.</span><span class="sxs-lookup"><span data-stu-id="3d6ea-402">Learn how to [administer your StorSimple Virtual Array](storsimple-ova-manager-service-administration.md) via the StorSimple Manager service.</span></span>

