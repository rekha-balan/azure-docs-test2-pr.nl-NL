---
title: Manage StorSimple device controllers | Microsoft Docs
description: Learn how to stop, restart, shut down, or reset your StorSimple device controllers.
services: storsimple
documentationcenter: ''
author: alkohli
manager: carmonm
editor: ''
ms.assetid: 4ee989d0-956f-4c14-951e-fd4e490ea09d
ms.service: storsimple
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 10/11/2016
ms.author: alkohli
ms.openlocfilehash: c49ad1653a3dac36c908acdba33dcbaa1f8ca841
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44549224"
---
# <a name="manage-your-storsimple-device-controllers"></a><span data-ttu-id="dd68e-103">Manage your StorSimple device controllers</span><span class="sxs-lookup"><span data-stu-id="dd68e-103">Manage your StorSimple device controllers</span></span>
## <a name="overview"></a><span data-ttu-id="dd68e-104">Overview</span><span class="sxs-lookup"><span data-stu-id="dd68e-104">Overview</span></span>
<span data-ttu-id="dd68e-105">This tutorial describes the different operations that can be performed on your StorSimple device controllers.</span><span class="sxs-lookup"><span data-stu-id="dd68e-105">This tutorial describes the different operations that can be performed on your StorSimple device controllers.</span></span> <span data-ttu-id="dd68e-106">The controllers in your StorSimple device are redundant (peer) controllers in an active-passive configuration.</span><span class="sxs-lookup"><span data-stu-id="dd68e-106">The controllers in your StorSimple device are redundant (peer) controllers in an active-passive configuration.</span></span> <span data-ttu-id="dd68e-107">At a given time, only one controller is active and is processing all the disk and network operations.</span><span class="sxs-lookup"><span data-stu-id="dd68e-107">At a given time, only one controller is active and is processing all the disk and network operations.</span></span> <span data-ttu-id="dd68e-108">The other controller is in a passive mode.</span><span class="sxs-lookup"><span data-stu-id="dd68e-108">The other controller is in a passive mode.</span></span> <span data-ttu-id="dd68e-109">If the active controller fails, the passive controller becomes active automatically.</span><span class="sxs-lookup"><span data-stu-id="dd68e-109">If the active controller fails, the passive controller becomes active automatically.</span></span>

<span data-ttu-id="dd68e-110">This tutorial includes step-by-step instructions to manage the device controllers by using the:</span><span class="sxs-lookup"><span data-stu-id="dd68e-110">This tutorial includes step-by-step instructions to manage the device controllers by using the:</span></span>

* <span data-ttu-id="dd68e-111">**Controllers** section of the **Maintenance** page in the StorSimple Manager service</span><span class="sxs-lookup"><span data-stu-id="dd68e-111">**Controllers** section of the **Maintenance** page in the StorSimple Manager service</span></span>
* <span data-ttu-id="dd68e-112">Windows PowerShell for StorSimple.</span><span class="sxs-lookup"><span data-stu-id="dd68e-112">Windows PowerShell for StorSimple.</span></span>

<span data-ttu-id="dd68e-113">We recommend that you manage the device controllers via the StorSimple Manager service.</span><span class="sxs-lookup"><span data-stu-id="dd68e-113">We recommend that you manage the device controllers via the StorSimple Manager service.</span></span> <span data-ttu-id="dd68e-114">If an action can only be performed by using Windows PowerShell for StorSimple, the tutorial makes a note of it.</span><span class="sxs-lookup"><span data-stu-id="dd68e-114">If an action can only be performed by using Windows PowerShell for StorSimple, the tutorial makes a note of it.</span></span>

<span data-ttu-id="dd68e-115">After reading this tutorial, you will be able to:</span><span class="sxs-lookup"><span data-stu-id="dd68e-115">After reading this tutorial, you will be able to:</span></span>

* <span data-ttu-id="dd68e-116">Restart or shut down a StorSimple device controller</span><span class="sxs-lookup"><span data-stu-id="dd68e-116">Restart or shut down a StorSimple device controller</span></span>
* <span data-ttu-id="dd68e-117">Shut down a StorSimple device</span><span class="sxs-lookup"><span data-stu-id="dd68e-117">Shut down a StorSimple device</span></span>
* <span data-ttu-id="dd68e-118">Reset your StorSimple device to factory defaults</span><span class="sxs-lookup"><span data-stu-id="dd68e-118">Reset your StorSimple device to factory defaults</span></span>

## <a name="restart-or-shut-down-a-single-controller"></a><span data-ttu-id="dd68e-119">Restart or shut down a single controller</span><span class="sxs-lookup"><span data-stu-id="dd68e-119">Restart or shut down a single controller</span></span>
<span data-ttu-id="dd68e-120">A controller restart or shutdown is not required as a part of normal system operation.</span><span class="sxs-lookup"><span data-stu-id="dd68e-120">A controller restart or shutdown is not required as a part of normal system operation.</span></span> <span data-ttu-id="dd68e-121">Shutdown operations for a single device controller are common only in cases in which a failed device hardware component requires replacement.</span><span class="sxs-lookup"><span data-stu-id="dd68e-121">Shutdown operations for a single device controller are common only in cases in which a failed device hardware component requires replacement.</span></span> <span data-ttu-id="dd68e-122">A controller restart may also be required in a situation in which performance is affected by excessive memory usage or a malfunctioning controller.</span><span class="sxs-lookup"><span data-stu-id="dd68e-122">A controller restart may also be required in a situation in which performance is affected by excessive memory usage or a malfunctioning controller.</span></span> <span data-ttu-id="dd68e-123">You may also need to restart a controller after a successful controller replacement, if you wish to enable and test the replaced controller.</span><span class="sxs-lookup"><span data-stu-id="dd68e-123">You may also need to restart a controller after a successful controller replacement, if you wish to enable and test the replaced controller.</span></span>

<span data-ttu-id="dd68e-124">Restarting a device is not disruptive to connected initiators, assuming the passive controller is available.</span><span class="sxs-lookup"><span data-stu-id="dd68e-124">Restarting a device is not disruptive to connected initiators, assuming the passive controller is available.</span></span> <span data-ttu-id="dd68e-125">If a passive controller is not available or turned off, then restarting the active controller may result in the disruption of service and downtime.</span><span class="sxs-lookup"><span data-stu-id="dd68e-125">If a passive controller is not available or turned off, then restarting the active controller may result in the disruption of service and downtime.</span></span>

> [!IMPORTANT]
> * <span data-ttu-id="dd68e-126">**A running controller should never be physically removed as this would result in a loss of redundancy and an increased risk of downtime.**</span><span class="sxs-lookup"><span data-stu-id="dd68e-126">**A running controller should never be physically removed as this would result in a loss of redundancy and an increased risk of downtime.**</span></span>
> * <span data-ttu-id="dd68e-127">The following procedure applies only to the StorSimple physical device.</span><span class="sxs-lookup"><span data-stu-id="dd68e-127">The following procedure applies only to the StorSimple physical device.</span></span> <span data-ttu-id="dd68e-128">For information about how to start, stop, and restart the virtual device, see [Work with the virtual device](storsimple-virtual-device-u2.md#work-with-the-storsimple-virtual-device).</span><span class="sxs-lookup"><span data-stu-id="dd68e-128">For information about how to start, stop, and restart the virtual device, see [Work with the virtual device](storsimple-virtual-device-u2.md#work-with-the-storsimple-virtual-device).</span></span>
> 
> 

<span data-ttu-id="dd68e-129">You can restart or shut down a single device controller by using the Azure classic portal of the StorSimple Manager service or Windows PowerShell for StorSimple</span><span class="sxs-lookup"><span data-stu-id="dd68e-129">You can restart or shut down a single device controller by using the Azure classic portal of the StorSimple Manager service or Windows PowerShell for StorSimple</span></span>

<span data-ttu-id="dd68e-130">To manage your device controllers from the Azure classic portal, perform the following steps.</span><span class="sxs-lookup"><span data-stu-id="dd68e-130">To manage your device controllers from the Azure classic portal, perform the following steps.</span></span>

#### <a name="to-restart-or-shut-down-a-controller-in-classic-portal"></a><span data-ttu-id="dd68e-131">To restart or shut down a controller in classic portal</span><span class="sxs-lookup"><span data-stu-id="dd68e-131">To restart or shut down a controller in classic portal</span></span>
1. <span data-ttu-id="dd68e-132">Navigate to **Devices > Maintenance**.</span><span class="sxs-lookup"><span data-stu-id="dd68e-132">Navigate to **Devices > Maintenance**.</span></span>
2. <span data-ttu-id="dd68e-133">Go to **Hardware Status** and verify that the status of both the controllers on your device is **Healthy**.</span><span class="sxs-lookup"><span data-stu-id="dd68e-133">Go to **Hardware Status** and verify that the status of both the controllers on your device is **Healthy**.</span></span>
   
    ![Verify StorSimple device controllers are healthy](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-manage-device-controller/IC766017.png)
3. <span data-ttu-id="dd68e-135">From the bottom of the **Maintenance** page, click **Manage Controllers**.</span><span class="sxs-lookup"><span data-stu-id="dd68e-135">From the bottom of the **Maintenance** page, click **Manage Controllers**.</span></span>
   
    ![Manage StorSimple device controllers](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-manage-device-controller/IC766018.png)</br>
   
   > [!NOTE]
   > <span data-ttu-id="dd68e-137">If you cannot see **Manage Controllers**, then you need to install updates.</span><span class="sxs-lookup"><span data-stu-id="dd68e-137">If you cannot see **Manage Controllers**, then you need to install updates.</span></span> <span data-ttu-id="dd68e-138">For more information, see [Update your StorSimple device](storsimple-update-device.md).</span><span class="sxs-lookup"><span data-stu-id="dd68e-138">For more information, see [Update your StorSimple device](storsimple-update-device.md).</span></span>
   > 
   > 
4. <span data-ttu-id="dd68e-139">In the **Change Controller Settings** dialog box, do the following:</span><span class="sxs-lookup"><span data-stu-id="dd68e-139">In the **Change Controller Settings** dialog box, do the following:</span></span>
   
   1. <span data-ttu-id="dd68e-140">From the **Select Controller** drop-down list, select the controller that you want to manage.</span><span class="sxs-lookup"><span data-stu-id="dd68e-140">From the **Select Controller** drop-down list, select the controller that you want to manage.</span></span> <span data-ttu-id="dd68e-141">The options are Controller 0 and Controller 1.</span><span class="sxs-lookup"><span data-stu-id="dd68e-141">The options are Controller 0 and Controller 1.</span></span> <span data-ttu-id="dd68e-142">These controllers are also identified as active or passive.</span><span class="sxs-lookup"><span data-stu-id="dd68e-142">These controllers are also identified as active or passive.</span></span>
      
      > [!NOTE]
      > <span data-ttu-id="dd68e-143">A controller cannot be managed if it is unavailable or turned off, and it will not appear in the drop-down list.</span><span class="sxs-lookup"><span data-stu-id="dd68e-143">A controller cannot be managed if it is unavailable or turned off, and it will not appear in the drop-down list.</span></span>
      > 
      > 
   2. <span data-ttu-id="dd68e-144">From the **Select Action** drop-down list, choose **Restart controller** or **Shut down controller**.</span><span class="sxs-lookup"><span data-stu-id="dd68e-144">From the **Select Action** drop-down list, choose **Restart controller** or **Shut down controller**.</span></span>
      
       ![Restart StorSimple device passive controller](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-manage-device-controller/IC766020.png)
   3. <span data-ttu-id="dd68e-146">Click the check icon</span><span class="sxs-lookup"><span data-stu-id="dd68e-146">Click the check icon</span></span> ![Check Icon](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-manage-device-controller/IC740895.png)<span data-ttu-id="dd68e-148">.</span><span class="sxs-lookup"><span data-stu-id="dd68e-148">.</span></span>

<span data-ttu-id="dd68e-149">This will restart or shut down the controller.</span><span class="sxs-lookup"><span data-stu-id="dd68e-149">This will restart or shut down the controller.</span></span> <span data-ttu-id="dd68e-150">The table below summarizes the details of what happens depending on the selections you have made in the **Change Controller Settings** dialog box.</span><span class="sxs-lookup"><span data-stu-id="dd68e-150">The table below summarizes the details of what happens depending on the selections you have made in the **Change Controller Settings** dialog box.</span></span>  

| <span data-ttu-id="dd68e-151">Selection #</span><span class="sxs-lookup"><span data-stu-id="dd68e-151">Selection #</span></span> | <span data-ttu-id="dd68e-152">If you choose to...</span><span class="sxs-lookup"><span data-stu-id="dd68e-152">If you choose to...</span></span> | <span data-ttu-id="dd68e-153">This will happen.</span><span class="sxs-lookup"><span data-stu-id="dd68e-153">This will happen.</span></span> |
| --- | --- | --- |
| <span data-ttu-id="dd68e-154">1.</span><span class="sxs-lookup"><span data-stu-id="dd68e-154">1.</span></span> |<span data-ttu-id="dd68e-155">Restart the passive controller.</span><span class="sxs-lookup"><span data-stu-id="dd68e-155">Restart the passive controller.</span></span> |<span data-ttu-id="dd68e-156">A job will be created to restart the controller, and you will be notified after the job is successfully created.</span><span class="sxs-lookup"><span data-stu-id="dd68e-156">A job will be created to restart the controller, and you will be notified after the job is successfully created.</span></span> <span data-ttu-id="dd68e-157">This will initiate the controller restart.</span><span class="sxs-lookup"><span data-stu-id="dd68e-157">This will initiate the controller restart.</span></span> <span data-ttu-id="dd68e-158">You can monitor the restart process by accessing **Service > Dashboard > View operation logs** and then filtering by parameters specific to your service.</span><span class="sxs-lookup"><span data-stu-id="dd68e-158">You can monitor the restart process by accessing **Service > Dashboard > View operation logs** and then filtering by parameters specific to your service.</span></span> |
| <span data-ttu-id="dd68e-159">2.</span><span class="sxs-lookup"><span data-stu-id="dd68e-159">2.</span></span> |<span data-ttu-id="dd68e-160">Restart the active controller.</span><span class="sxs-lookup"><span data-stu-id="dd68e-160">Restart the active controller.</span></span> |<span data-ttu-id="dd68e-161">You will see the following warning: "If you restart the active controller, the device will fail over to the passive controller.</span><span class="sxs-lookup"><span data-stu-id="dd68e-161">You will see the following warning: "If you restart the active controller, the device will fail over to the passive controller.</span></span> <span data-ttu-id="dd68e-162">Do you want to continue?"</span><span class="sxs-lookup"><span data-stu-id="dd68e-162">Do you want to continue?"</span></span> </br><span data-ttu-id="dd68e-163">If you choose to proceed with this operation, the next steps will be identical to those used to restart the passive controller (see selection 1).</span><span class="sxs-lookup"><span data-stu-id="dd68e-163">If you choose to proceed with this operation, the next steps will be identical to those used to restart the passive controller (see selection 1).</span></span> |
| <span data-ttu-id="dd68e-164">3.</span><span class="sxs-lookup"><span data-stu-id="dd68e-164">3.</span></span> |<span data-ttu-id="dd68e-165">Shut down the passive controller.</span><span class="sxs-lookup"><span data-stu-id="dd68e-165">Shut down the passive controller.</span></span> |<span data-ttu-id="dd68e-166">You will see the following message: "After shutdown is complete, you will need to push the power button on your controller to turn it on.</span><span class="sxs-lookup"><span data-stu-id="dd68e-166">You will see the following message: "After shutdown is complete, you will need to push the power button on your controller to turn it on.</span></span> <span data-ttu-id="dd68e-167">Are you sure you want to shut down this controller?"</span><span class="sxs-lookup"><span data-stu-id="dd68e-167">Are you sure you want to shut down this controller?"</span></span> </br><span data-ttu-id="dd68e-168">If you choose to proceed with this operation, the next steps will be identical to those used to restart the passive controller (see selection 1).</span><span class="sxs-lookup"><span data-stu-id="dd68e-168">If you choose to proceed with this operation, the next steps will be identical to those used to restart the passive controller (see selection 1).</span></span> |
| <span data-ttu-id="dd68e-169">4.</span><span class="sxs-lookup"><span data-stu-id="dd68e-169">4.</span></span> |<span data-ttu-id="dd68e-170">Shut down the active controller.</span><span class="sxs-lookup"><span data-stu-id="dd68e-170">Shut down the active controller.</span></span> |<span data-ttu-id="dd68e-171">You will see the following message: "After shutdown is complete, you will need to push the power button on your controller to turn it on.</span><span class="sxs-lookup"><span data-stu-id="dd68e-171">You will see the following message: "After shutdown is complete, you will need to push the power button on your controller to turn it on.</span></span> <span data-ttu-id="dd68e-172">Are you sure you want to shut down this controller?"</span><span class="sxs-lookup"><span data-stu-id="dd68e-172">Are you sure you want to shut down this controller?"</span></span> </br><span data-ttu-id="dd68e-173">If you choose to proceed with this operation, the next steps will be identical to those used to restart the passive controller (see selection 1).</span><span class="sxs-lookup"><span data-stu-id="dd68e-173">If you choose to proceed with this operation, the next steps will be identical to those used to restart the passive controller (see selection 1).</span></span> |

#### <a name="to-restart-or-shut-down-a-controller-in-windows-powershell-for-storsimple"></a><span data-ttu-id="dd68e-174">To restart or shut down a controller in Windows PowerShell for StorSimple</span><span class="sxs-lookup"><span data-stu-id="dd68e-174">To restart or shut down a controller in Windows PowerShell for StorSimple</span></span>
<span data-ttu-id="dd68e-175">Perform the following steps to shut down or restart a single controller on your StorSimple device from the Azure classic portal.</span><span class="sxs-lookup"><span data-stu-id="dd68e-175">Perform the following steps to shut down or restart a single controller on your StorSimple device from the Azure classic portal.</span></span>

1. <span data-ttu-id="dd68e-176">Access the device by using the serial console or a telnet session from a remote computer.</span><span class="sxs-lookup"><span data-stu-id="dd68e-176">Access the device by using the serial console or a telnet session from a remote computer.</span></span> <span data-ttu-id="dd68e-177">Connect to Controller 0 or Controller 1 by following the steps in [Use PuTTY to connect to the device serial console](storsimple-deployment-walkthrough.md#use-putty-to-connect-to-the-device-serial-console).</span><span class="sxs-lookup"><span data-stu-id="dd68e-177">Connect to Controller 0 or Controller 1 by following the steps in [Use PuTTY to connect to the device serial console](storsimple-deployment-walkthrough.md#use-putty-to-connect-to-the-device-serial-console).</span></span>
2. <span data-ttu-id="dd68e-178">In the serial console menu, choose option 1, **Log in with full access**.</span><span class="sxs-lookup"><span data-stu-id="dd68e-178">In the serial console menu, choose option 1, **Log in with full access**.</span></span>
3. <span data-ttu-id="dd68e-179">In the banner message, make a note of the controller you are connected to (Controller 0 or Controller 1) and whether it is the active or the passive (standby) controller.</span><span class="sxs-lookup"><span data-stu-id="dd68e-179">In the banner message, make a note of the controller you are connected to (Controller 0 or Controller 1) and whether it is the active or the passive (standby) controller.</span></span>
   
   * <span data-ttu-id="dd68e-180">To shut down a single controller, at the prompt, type:</span><span class="sxs-lookup"><span data-stu-id="dd68e-180">To shut down a single controller, at the prompt, type:</span></span>
     
       `Stop-HcsController`
     
       <span data-ttu-id="dd68e-181">This will shut down the controller that you are connected to.</span><span class="sxs-lookup"><span data-stu-id="dd68e-181">This will shut down the controller that you are connected to.</span></span> <span data-ttu-id="dd68e-182">If you stop the active controller, then it will fail over to the passive controller before it shuts down.</span><span class="sxs-lookup"><span data-stu-id="dd68e-182">If you stop the active controller, then it will fail over to the passive controller before it shuts down.</span></span>
   * <span data-ttu-id="dd68e-183">To restart a controller, at the prompt, type:</span><span class="sxs-lookup"><span data-stu-id="dd68e-183">To restart a controller, at the prompt, type:</span></span>
     
       `Restart-HcsController`
     
       <span data-ttu-id="dd68e-184">This will restart the controller that you are connected to.</span><span class="sxs-lookup"><span data-stu-id="dd68e-184">This will restart the controller that you are connected to.</span></span> <span data-ttu-id="dd68e-185">If you restart the active controller, it will fail over to the passive controller before the restart.</span><span class="sxs-lookup"><span data-stu-id="dd68e-185">If you restart the active controller, it will fail over to the passive controller before the restart.</span></span>

## <a name="shut-down-a-storsimple-device"></a><span data-ttu-id="dd68e-186">Shut down a StorSimple device</span><span class="sxs-lookup"><span data-stu-id="dd68e-186">Shut down a StorSimple device</span></span>
<span data-ttu-id="dd68e-187">This section explains how to shut down a running or a failed StorSimple device from a remote computer.</span><span class="sxs-lookup"><span data-stu-id="dd68e-187">This section explains how to shut down a running or a failed StorSimple device from a remote computer.</span></span> <span data-ttu-id="dd68e-188">A device is turned off after shutting down both the device controllers.</span><span class="sxs-lookup"><span data-stu-id="dd68e-188">A device is turned off after shutting down both the device controllers.</span></span> <span data-ttu-id="dd68e-189">A device shutdown is done when the device is being physically moved, or is taken out of service.</span><span class="sxs-lookup"><span data-stu-id="dd68e-189">A device shutdown is done when the device is being physically moved, or is taken out of service.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="dd68e-190">Before you shut down the device, check the health of the device components.</span><span class="sxs-lookup"><span data-stu-id="dd68e-190">Before you shut down the device, check the health of the device components.</span></span> <span data-ttu-id="dd68e-191">Navigate to **Devices > Maintenance > Hardware Status** and verify that the LED status of all the components is green.</span><span class="sxs-lookup"><span data-stu-id="dd68e-191">Navigate to **Devices > Maintenance > Hardware Status** and verify that the LED status of all the components is green.</span></span> <span data-ttu-id="dd68e-192">Only a healthy device will have a green status.</span><span class="sxs-lookup"><span data-stu-id="dd68e-192">Only a healthy device will have a green status.</span></span> <span data-ttu-id="dd68e-193">If your device is being shut down to replace a malfunctioning component, you will see a failed (red) or a degraded (yellow) status for the respective component(s).</span><span class="sxs-lookup"><span data-stu-id="dd68e-193">If your device is being shut down to replace a malfunctioning component, you will see a failed (red) or a degraded (yellow) status for the respective component(s).</span></span>
> 
> 

#### <a name="to-shut-down-a-storsimple-device"></a><span data-ttu-id="dd68e-194">To shut down a StorSimple device</span><span class="sxs-lookup"><span data-stu-id="dd68e-194">To shut down a StorSimple device</span></span>
1. <span data-ttu-id="dd68e-195">Use the [restart or shut down a controller](#restart-or-shut-down-a-single-controller) procedure to identify and shut down the passive controller on your device.</span><span class="sxs-lookup"><span data-stu-id="dd68e-195">Use the [restart or shut down a controller](#restart-or-shut-down-a-single-controller) procedure to identify and shut down the passive controller on your device.</span></span> <span data-ttu-id="dd68e-196">You can perform this operation in the Azure classic portal or in Windows PowerShell for StorSimple.</span><span class="sxs-lookup"><span data-stu-id="dd68e-196">You can perform this operation in the Azure classic portal or in Windows PowerShell for StorSimple.</span></span>
2. <span data-ttu-id="dd68e-197">Repeat the above step to shut down the active controller.</span><span class="sxs-lookup"><span data-stu-id="dd68e-197">Repeat the above step to shut down the active controller.</span></span>
3. <span data-ttu-id="dd68e-198">You will now need to look at the back plane of the device.</span><span class="sxs-lookup"><span data-stu-id="dd68e-198">You will now need to look at the back plane of the device.</span></span> <span data-ttu-id="dd68e-199">After the two controllers are completely shut down, the status LEDs on both the controllers should be blinking red.</span><span class="sxs-lookup"><span data-stu-id="dd68e-199">After the two controllers are completely shut down, the status LEDs on both the controllers should be blinking red.</span></span> <span data-ttu-id="dd68e-200">If you need to turn off the device completely at this time, flip the power switches on both Power and Cooling Modules (PCMs) to the OFF position.</span><span class="sxs-lookup"><span data-stu-id="dd68e-200">If you need to turn off the device completely at this time, flip the power switches on both Power and Cooling Modules (PCMs) to the OFF position.</span></span> <span data-ttu-id="dd68e-201">This should turn off the device.</span><span class="sxs-lookup"><span data-stu-id="dd68e-201">This should turn off the device.</span></span>

<!--#### To shut down a StorSimple device in Windows PowerShell for StorSimple

1. Connect to the serial console of the StorSimple device by following the steps in [Use PuTTY to connect to the device serial console](storsimple-deployment-walkthrough.md#use-putty-to-connect-to-the-serial-console).

1. In the serial console menu, verify from the banner message that the controller you are connected to is the passive controller. If you are connected to the active controller, disconnect from this controller and connect to the other controller.

1. In the serial console menu, choose option 1, **log in with full access**.

1. At the prompt, type:

    `Stop-HCSController`

    This should shut down the current controller. To verify whether the shutdown has finished, check the back of the device. The controller status LED should be solid red.

1. Repeat steps 1 through 4 to connect to the active controller and then shut it down.

1. After both the controllers are completely shut down, the status LEDs on both should be blinking red. If you need to turn off the device completely at this time, flip the power switches on both Power and Cooling Modules (PCMs) to the OFF position.-->

## <a name="reset-the-device-to-factory-default-settings"></a><span data-ttu-id="dd68e-202">Reset the device to factory default settings</span><span class="sxs-lookup"><span data-stu-id="dd68e-202">Reset the device to factory default settings</span></span>
> [!IMPORTANT]
> <span data-ttu-id="dd68e-203">If you need to reset your device to factory default settings, contact Microsoft Support.</span><span class="sxs-lookup"><span data-stu-id="dd68e-203">If you need to reset your device to factory default settings, contact Microsoft Support.</span></span> <span data-ttu-id="dd68e-204">The procedure described below should be used only in conjunction with Microsoft Support.</span><span class="sxs-lookup"><span data-stu-id="dd68e-204">The procedure described below should be used only in conjunction with Microsoft Support.</span></span>
> 
> 

<span data-ttu-id="dd68e-205">This procedure describes how to reset your Microsoft Azure StorSimple device to factory default settings using Windows PowerShell for StorSimple.</span><span class="sxs-lookup"><span data-stu-id="dd68e-205">This procedure describes how to reset your Microsoft Azure StorSimple device to factory default settings using Windows PowerShell for StorSimple.</span></span>
<span data-ttu-id="dd68e-206">Resetting a device removes all data and settings from the entire cluster by default.</span><span class="sxs-lookup"><span data-stu-id="dd68e-206">Resetting a device removes all data and settings from the entire cluster by default.</span></span>

<span data-ttu-id="dd68e-207">Perform the following steps to reset your Microsoft Azure StorSimple device to factory default settings:</span><span class="sxs-lookup"><span data-stu-id="dd68e-207">Perform the following steps to reset your Microsoft Azure StorSimple device to factory default settings:</span></span>

### <a name="to-reset-the-device-to-default-settings-in-windows-powershell-for-storsimple"></a><span data-ttu-id="dd68e-208">To reset the device to default settings in Windows PowerShell for StorSimple</span><span class="sxs-lookup"><span data-stu-id="dd68e-208">To reset the device to default settings in Windows PowerShell for StorSimple</span></span>
1. <span data-ttu-id="dd68e-209">Access the device through its serial console.</span><span class="sxs-lookup"><span data-stu-id="dd68e-209">Access the device through its serial console.</span></span> <span data-ttu-id="dd68e-210">Check the banner message to ensure that you are connected to the Active controller.</span><span class="sxs-lookup"><span data-stu-id="dd68e-210">Check the banner message to ensure that you are connected to the Active controller.</span></span>
2. <span data-ttu-id="dd68e-211">In the serial console menu, choose option 1, **Log in with full access**.</span><span class="sxs-lookup"><span data-stu-id="dd68e-211">In the serial console menu, choose option 1, **Log in with full access**.</span></span>
3. <span data-ttu-id="dd68e-212">At the prompt, type the following command to reset the entire cluster, removing all data, metadata, and controller settings:</span><span class="sxs-lookup"><span data-stu-id="dd68e-212">At the prompt, type the following command to reset the entire cluster, removing all data, metadata, and controller settings:</span></span>
   
    `Reset-HcsFactoryDefault`
   
    <span data-ttu-id="dd68e-213">To instead reset a single controller, use the  [Reset-HcsFactoryDefault](http://technet.microsoft.com/library/dn688132.aspx) cmdlet with the `-scope` parameter.)</span><span class="sxs-lookup"><span data-stu-id="dd68e-213">To instead reset a single controller, use the  [Reset-HcsFactoryDefault](http://technet.microsoft.com/library/dn688132.aspx) cmdlet with the `-scope` parameter.)</span></span>
   
    <span data-ttu-id="dd68e-214">The system will reboot multiple times.</span><span class="sxs-lookup"><span data-stu-id="dd68e-214">The system will reboot multiple times.</span></span> <span data-ttu-id="dd68e-215">You will be notified when the reset has successfully completed.</span><span class="sxs-lookup"><span data-stu-id="dd68e-215">You will be notified when the reset has successfully completed.</span></span> <span data-ttu-id="dd68e-216">Depending on the system model, it can take 45-60 minutes for an 8100 device and 60-90 minutes for an 8600 to finish this process.</span><span class="sxs-lookup"><span data-stu-id="dd68e-216">Depending on the system model, it can take 45-60 minutes for an 8100 device and 60-90 minutes for an 8600 to finish this process.</span></span>
   
   > [!TIP]
   > * <span data-ttu-id="dd68e-217">If you're using Update 1.2 or earlier use the `–SkipFirmwareVersionCheck` parameter to skip the firmware version check (otherwise you'll see a firmware mismatch error: Factory reset cannot continue due to a mismatch in the firmware versions.</span><span class="sxs-lookup"><span data-stu-id="dd68e-217">If you're using Update 1.2 or earlier use the `–SkipFirmwareVersionCheck` parameter to skip the firmware version check (otherwise you'll see a firmware mismatch error: Factory reset cannot continue due to a mismatch in the firmware versions.</span></span> <span data-ttu-id="dd68e-218">).</span><span class="sxs-lookup"><span data-stu-id="dd68e-218">).</span></span>
   > * <span data-ttu-id="dd68e-219">The factory reset procedure may fail for StorSimple devices that are running Update 1 or 1.1 in the Government portal and have performed a successful single or dual controller replacement (with replacement controllers that were shipped with pre-Update 1 software).</span><span class="sxs-lookup"><span data-stu-id="dd68e-219">The factory reset procedure may fail for StorSimple devices that are running Update 1 or 1.1 in the Government portal and have performed a successful single or dual controller replacement (with replacement controllers that were shipped with pre-Update 1 software).</span></span> <span data-ttu-id="dd68e-220">This happens when the factory reset image is validated for the presence of a SHA1 file on the controller that does not exist for pre-Update 1 software.</span><span class="sxs-lookup"><span data-stu-id="dd68e-220">This happens when the factory reset image is validated for the presence of a SHA1 file on the controller that does not exist for pre-Update 1 software.</span></span> <span data-ttu-id="dd68e-221">If you see this factory reset failure, contact Microsoft Support to assist you with the next steps.</span><span class="sxs-lookup"><span data-stu-id="dd68e-221">If you see this factory reset failure, contact Microsoft Support to assist you with the next steps.</span></span> <span data-ttu-id="dd68e-222">This issue is not seen with replacement controllers that were shipped from the factory with Update 1 or later software.</span><span class="sxs-lookup"><span data-stu-id="dd68e-222">This issue is not seen with replacement controllers that were shipped from the factory with Update 1 or later software.</span></span>
   > 
   > 

## <a name="questions-and-answers-about-managing-device-controllers"></a><span data-ttu-id="dd68e-223">Questions and answers about managing device controllers</span><span class="sxs-lookup"><span data-stu-id="dd68e-223">Questions and answers about managing device controllers</span></span>
<span data-ttu-id="dd68e-224">In this section, we have summarized some of the frequently asked questions regarding managing StorSimple device controllers.</span><span class="sxs-lookup"><span data-stu-id="dd68e-224">In this section, we have summarized some of the frequently asked questions regarding managing StorSimple device controllers.</span></span>

<span data-ttu-id="dd68e-225">**Q.**</span><span class="sxs-lookup"><span data-stu-id="dd68e-225">**Q.**</span></span> <span data-ttu-id="dd68e-226">What happens if both the controllers on my device are healthy and turned on and I restart or shut down the active controller?</span><span class="sxs-lookup"><span data-stu-id="dd68e-226">What happens if both the controllers on my device are healthy and turned on and I restart or shut down the active controller?</span></span>

<span data-ttu-id="dd68e-227">**A.**</span><span class="sxs-lookup"><span data-stu-id="dd68e-227">**A.**</span></span> <span data-ttu-id="dd68e-228">If both the controllers on your device are healthy and turned on, you will be prompted for confirmation.</span><span class="sxs-lookup"><span data-stu-id="dd68e-228">If both the controllers on your device are healthy and turned on, you will be prompted for confirmation.</span></span> <span data-ttu-id="dd68e-229">You may choose to:</span><span class="sxs-lookup"><span data-stu-id="dd68e-229">You may choose to:</span></span>

* <span data-ttu-id="dd68e-230">**Restart the active controller** – You will be notified that restarting an active controller will cause the device to fail over to the passive controller.</span><span class="sxs-lookup"><span data-stu-id="dd68e-230">**Restart the active controller** – You will be notified that restarting an active controller will cause the device to fail over to the passive controller.</span></span> <span data-ttu-id="dd68e-231">The controller will restart.</span><span class="sxs-lookup"><span data-stu-id="dd68e-231">The controller will restart.</span></span>
* <span data-ttu-id="dd68e-232">**Shut down an active controller** – You will be notified that shutting down an active controller will result in downtime.</span><span class="sxs-lookup"><span data-stu-id="dd68e-232">**Shut down an active controller** – You will be notified that shutting down an active controller will result in downtime.</span></span> <span data-ttu-id="dd68e-233">You will also need to push the power button on the device to turn on the controller.</span><span class="sxs-lookup"><span data-stu-id="dd68e-233">You will also need to push the power button on the device to turn on the controller.</span></span>

<span data-ttu-id="dd68e-234">**Q.**</span><span class="sxs-lookup"><span data-stu-id="dd68e-234">**Q.**</span></span> <span data-ttu-id="dd68e-235">What happens if the passive controller on my device is unavailable or turned off and I restart or shut down the active controller?</span><span class="sxs-lookup"><span data-stu-id="dd68e-235">What happens if the passive controller on my device is unavailable or turned off and I restart or shut down the active controller?</span></span>

<span data-ttu-id="dd68e-236">**A.**</span><span class="sxs-lookup"><span data-stu-id="dd68e-236">**A.**</span></span> <span data-ttu-id="dd68e-237">If the passive controller on your device is unavailable or turned off, and you choose to:</span><span class="sxs-lookup"><span data-stu-id="dd68e-237">If the passive controller on your device is unavailable or turned off, and you choose to:</span></span>

* <span data-ttu-id="dd68e-238">**Restart the active controller** – You will be notified that continuing the operation will result in a temporary disruption of the service, and you will be prompted for confirmation.</span><span class="sxs-lookup"><span data-stu-id="dd68e-238">**Restart the active controller** – You will be notified that continuing the operation will result in a temporary disruption of the service, and you will be prompted for confirmation.</span></span>
* <span data-ttu-id="dd68e-239">**Shut down an active controller** – You will be notified that continuing the operation will result in downtime, and that you will need to push the power button on one or both controllers to turn on the device.</span><span class="sxs-lookup"><span data-stu-id="dd68e-239">**Shut down an active controller** – You will be notified that continuing the operation will result in downtime, and that you will need to push the power button on one or both controllers to turn on the device.</span></span> <span data-ttu-id="dd68e-240">You will be prompted for confirmation.</span><span class="sxs-lookup"><span data-stu-id="dd68e-240">You will be prompted for confirmation.</span></span>

<span data-ttu-id="dd68e-241">**Q.**</span><span class="sxs-lookup"><span data-stu-id="dd68e-241">**Q.**</span></span> <span data-ttu-id="dd68e-242">When does the controller restart or shutdown fails to progress?</span><span class="sxs-lookup"><span data-stu-id="dd68e-242">When does the controller restart or shutdown fails to progress?</span></span>

<span data-ttu-id="dd68e-243">**A.**</span><span class="sxs-lookup"><span data-stu-id="dd68e-243">**A.**</span></span> <span data-ttu-id="dd68e-244">Restarting or shutting down a controller may fail if:</span><span class="sxs-lookup"><span data-stu-id="dd68e-244">Restarting or shutting down a controller may fail if:</span></span>

* <span data-ttu-id="dd68e-245">A device update is in progress.</span><span class="sxs-lookup"><span data-stu-id="dd68e-245">A device update is in progress.</span></span>
* <span data-ttu-id="dd68e-246">A controller restart is already in progress.</span><span class="sxs-lookup"><span data-stu-id="dd68e-246">A controller restart is already in progress.</span></span>
* <span data-ttu-id="dd68e-247">A controller shutdown is already in progress.</span><span class="sxs-lookup"><span data-stu-id="dd68e-247">A controller shutdown is already in progress.</span></span>

<span data-ttu-id="dd68e-248">**Q.**</span><span class="sxs-lookup"><span data-stu-id="dd68e-248">**Q.**</span></span> <span data-ttu-id="dd68e-249">How can you figure out if a controller was restarted or shut down?</span><span class="sxs-lookup"><span data-stu-id="dd68e-249">How can you figure out if a controller was restarted or shut down?</span></span>

<span data-ttu-id="dd68e-250">**A.**</span><span class="sxs-lookup"><span data-stu-id="dd68e-250">**A.**</span></span> <span data-ttu-id="dd68e-251">You can check the controller status on the Maintenance page.</span><span class="sxs-lookup"><span data-stu-id="dd68e-251">You can check the controller status on the Maintenance page.</span></span> <span data-ttu-id="dd68e-252">The controller status will indicate whether a controller has been restarted or shut down.</span><span class="sxs-lookup"><span data-stu-id="dd68e-252">The controller status will indicate whether a controller has been restarted or shut down.</span></span> <span data-ttu-id="dd68e-253">Additionally, the Alerts page will contain an informational alert if the controller was restarted or shut down.</span><span class="sxs-lookup"><span data-stu-id="dd68e-253">Additionally, the Alerts page will contain an informational alert if the controller was restarted or shut down.</span></span> <span data-ttu-id="dd68e-254">The controller restart and shutdown operations are also recorded in the operation logs.</span><span class="sxs-lookup"><span data-stu-id="dd68e-254">The controller restart and shutdown operations are also recorded in the operation logs.</span></span> <span data-ttu-id="dd68e-255">For more information about operation logs, go to [View the operation logs](storsimple-service-dashboard.md#view-the-operations-logs).</span><span class="sxs-lookup"><span data-stu-id="dd68e-255">For more information about operation logs, go to [View the operation logs](storsimple-service-dashboard.md#view-the-operations-logs).</span></span>

<span data-ttu-id="dd68e-256">**Q.**</span><span class="sxs-lookup"><span data-stu-id="dd68e-256">**Q.**</span></span> <span data-ttu-id="dd68e-257">Is there any impact to the I/Os as a result of controller failover?</span><span class="sxs-lookup"><span data-stu-id="dd68e-257">Is there any impact to the I/Os as a result of controller failover?</span></span>

<span data-ttu-id="dd68e-258">**A.**</span><span class="sxs-lookup"><span data-stu-id="dd68e-258">**A.**</span></span> <span data-ttu-id="dd68e-259">The TCP connections between initiators and active controller will be reset as a result of controller failover, but will be reestablished when the passive controller assumes operation.</span><span class="sxs-lookup"><span data-stu-id="dd68e-259">The TCP connections between initiators and active controller will be reset as a result of controller failover, but will be reestablished when the passive controller assumes operation.</span></span> <span data-ttu-id="dd68e-260">There may be a temporary (less than 30 seconds) pause in I/O activity between initiators and the device during the course of this operation.</span><span class="sxs-lookup"><span data-stu-id="dd68e-260">There may be a temporary (less than 30 seconds) pause in I/O activity between initiators and the device during the course of this operation.</span></span>

<span data-ttu-id="dd68e-261">**Q.**</span><span class="sxs-lookup"><span data-stu-id="dd68e-261">**Q.**</span></span> <span data-ttu-id="dd68e-262">How do I return my controller to service after it has been shut down and removed?</span><span class="sxs-lookup"><span data-stu-id="dd68e-262">How do I return my controller to service after it has been shut down and removed?</span></span>

<span data-ttu-id="dd68e-263">**A.**</span><span class="sxs-lookup"><span data-stu-id="dd68e-263">**A.**</span></span> <span data-ttu-id="dd68e-264">To return a controller to service, you must insert it into the chassis as described in [Replace a controller module on your StorSimple device](storsimple-controller-replacement.md).</span><span class="sxs-lookup"><span data-stu-id="dd68e-264">To return a controller to service, you must insert it into the chassis as described in [Replace a controller module on your StorSimple device](storsimple-controller-replacement.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="dd68e-265">Next steps</span><span class="sxs-lookup"><span data-stu-id="dd68e-265">Next steps</span></span>
* <span data-ttu-id="dd68e-266">If you encounter any issues with your StorSimple device controllers that you cannot resolve by using the procedures listed in this tutorial, [contact Microsoft Support](storsimple-contact-microsoft-support.md).</span><span class="sxs-lookup"><span data-stu-id="dd68e-266">If you encounter any issues with your StorSimple device controllers that you cannot resolve by using the procedures listed in this tutorial, [contact Microsoft Support](storsimple-contact-microsoft-support.md).</span></span>
* <span data-ttu-id="dd68e-267">To learn more about using the StorSimple Manager service, go to [Use the StorSimple Manager service to administer your StorSimple device](storsimple-manager-service-administration.md).</span><span class="sxs-lookup"><span data-stu-id="dd68e-267">To learn more about using the StorSimple Manager service, go to [Use the StorSimple Manager service to administer your StorSimple device](storsimple-manager-service-administration.md).</span></span>





