---
title: Configure MPIO for your StorSimple device | Microsoft Docs
description: Describes how to configure Multipath I/O (MPIO) for your StorSimple device connected to a host running Windows Server 2012 R2.
services: storsimple
documentationcenter: ''
author: alkohli
manager: timlt
editor: ''
ms.assetid: 879fd0f9-c763-4fa0-a5ba-f589a825b2df
ms.service: storsimple
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 04/03/2017
ms.author: alkohli
ms.openlocfilehash: 07d85a220b8414a8bcec331afac0f38e4ae21997
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44554029"
---
# <a name="configure-multipath-io-for-your-storsimple-device"></a><span data-ttu-id="eaa19-103">Configure Multipath I/O for your StorSimple device</span><span class="sxs-lookup"><span data-stu-id="eaa19-103">Configure Multipath I/O for your StorSimple device</span></span>
<span data-ttu-id="eaa19-104">Microsoft built support for the Multipath I/O (MPIO) feature in Windows Server to help build highly available, fault-tolerant SAN configurations.</span><span class="sxs-lookup"><span data-stu-id="eaa19-104">Microsoft built support for the Multipath I/O (MPIO) feature in Windows Server to help build highly available, fault-tolerant SAN configurations.</span></span> <span data-ttu-id="eaa19-105">MPIO uses redundant physical path components — adapters, cables, and switches — to create logical paths between the server and the storage device.</span><span class="sxs-lookup"><span data-stu-id="eaa19-105">MPIO uses redundant physical path components — adapters, cables, and switches — to create logical paths between the server and the storage device.</span></span> <span data-ttu-id="eaa19-106">If there is a component failure, causing a logical path to fail, multipathing logic uses an alternate path for I/O so that applications can still access their data.</span><span class="sxs-lookup"><span data-stu-id="eaa19-106">If there is a component failure, causing a logical path to fail, multipathing logic uses an alternate path for I/O so that applications can still access their data.</span></span> <span data-ttu-id="eaa19-107">Additionally depending on your configuration, MPIO can also improve performance by re-balancing the load across all these paths.</span><span class="sxs-lookup"><span data-stu-id="eaa19-107">Additionally depending on your configuration, MPIO can also improve performance by re-balancing the load across all these paths.</span></span> <span data-ttu-id="eaa19-108">For more information, see [MPIO overview](https://technet.microsoft.com/library/cc725907.aspx "MPIO overview and features").</span><span class="sxs-lookup"><span data-stu-id="eaa19-108">For more information, see [MPIO overview](https://technet.microsoft.com/library/cc725907.aspx "MPIO overview and features").</span></span>  

<span data-ttu-id="eaa19-109">For the high-availability of your StorSimple solution, MPIO should be configured on your StorSimple device.</span><span class="sxs-lookup"><span data-stu-id="eaa19-109">For the high-availability of your StorSimple solution, MPIO should be configured on your StorSimple device.</span></span> <span data-ttu-id="eaa19-110">When MPIO is installed on your host servers running Windows Server 2012 R2, the servers can then tolerate a link, network, or interface failure.</span><span class="sxs-lookup"><span data-stu-id="eaa19-110">When MPIO is installed on your host servers running Windows Server 2012 R2, the servers can then tolerate a link, network, or interface failure.</span></span> 

<span data-ttu-id="eaa19-111">MPIO is an optional feature on Windows Server and is not installed by default.</span><span class="sxs-lookup"><span data-stu-id="eaa19-111">MPIO is an optional feature on Windows Server and is not installed by default.</span></span> <span data-ttu-id="eaa19-112">It should be installed as a feature through Server Manager.</span><span class="sxs-lookup"><span data-stu-id="eaa19-112">It should be installed as a feature through Server Manager.</span></span> <span data-ttu-id="eaa19-113">This topic describes the steps you should follow to install and use the MPIO feature on a host running Windows Server 2012 R2 and connected to a StorSimple physical device.</span><span class="sxs-lookup"><span data-stu-id="eaa19-113">This topic describes the steps you should follow to install and use the MPIO feature on a host running Windows Server 2012 R2 and connected to a StorSimple physical device.</span></span>

> [!NOTE]
> <span data-ttu-id="eaa19-114">**This procedure is applicable for StorSimple 8000 series only. MPIO is currently not supported on a StorSimple virtual device.**</span><span class="sxs-lookup"><span data-stu-id="eaa19-114">**This procedure is applicable for StorSimple 8000 series only. MPIO is currently not supported on a StorSimple virtual device.**</span></span>
> 
> 

<span data-ttu-id="eaa19-115">You will need to follow these steps to configure MPIO on your StorSimple device:</span><span class="sxs-lookup"><span data-stu-id="eaa19-115">You will need to follow these steps to configure MPIO on your StorSimple device:</span></span>

* <span data-ttu-id="eaa19-116">Step 1: Install MPIO on the Windows Server host</span><span class="sxs-lookup"><span data-stu-id="eaa19-116">Step 1: Install MPIO on the Windows Server host</span></span>
* <span data-ttu-id="eaa19-117">Step 2: Configure MPIO for StorSimple volumes</span><span class="sxs-lookup"><span data-stu-id="eaa19-117">Step 2: Configure MPIO for StorSimple volumes</span></span>
* <span data-ttu-id="eaa19-118">Step 3: Mount StorSimple volumes on the host</span><span class="sxs-lookup"><span data-stu-id="eaa19-118">Step 3: Mount StorSimple volumes on the host</span></span>
* <span data-ttu-id="eaa19-119">Step 4: Configure MPIO for high availability and load balancing</span><span class="sxs-lookup"><span data-stu-id="eaa19-119">Step 4: Configure MPIO for high availability and load balancing</span></span>

<span data-ttu-id="eaa19-120">Each of the above steps is discussed in the following sections.</span><span class="sxs-lookup"><span data-stu-id="eaa19-120">Each of the above steps is discussed in the following sections.</span></span>

## <a name="step-1-install-mpio-on-the-windows-server-host"></a><span data-ttu-id="eaa19-121">Step 1: Install MPIO on the Windows Server host</span><span class="sxs-lookup"><span data-stu-id="eaa19-121">Step 1: Install MPIO on the Windows Server host</span></span>
<span data-ttu-id="eaa19-122">To install this feature on your Windows Server host, complete the following procedure.</span><span class="sxs-lookup"><span data-stu-id="eaa19-122">To install this feature on your Windows Server host, complete the following procedure.</span></span>

#### <a name="to-install-mpio-on-the-host"></a><span data-ttu-id="eaa19-123">To install MPIO on the host</span><span class="sxs-lookup"><span data-stu-id="eaa19-123">To install MPIO on the host</span></span>
1. <span data-ttu-id="eaa19-124">Open Server Manager on your Windows Server host.</span><span class="sxs-lookup"><span data-stu-id="eaa19-124">Open Server Manager on your Windows Server host.</span></span> <span data-ttu-id="eaa19-125">By default, Server Manager starts when a member of the Administrators group logs on to a computer that is running Windows Server 2012 R2 or Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="eaa19-125">By default, Server Manager starts when a member of the Administrators group logs on to a computer that is running Windows Server 2012 R2 or Windows Server 2012.</span></span> <span data-ttu-id="eaa19-126">If the Server Manager is not already open, click **Start > Server Manager**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-126">If the Server Manager is not already open, click **Start > Server Manager**.</span></span>
   <span data-ttu-id="eaa19-127">![Server Manager](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-configure-mpio-windows-server/IC740997.png)</span><span class="sxs-lookup"><span data-stu-id="eaa19-127">![Server Manager](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-configure-mpio-windows-server/IC740997.png)</span></span>
2. <span data-ttu-id="eaa19-128">Click **Server Manager > Dashboard > Add roles and features**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-128">Click **Server Manager > Dashboard > Add roles and features**.</span></span> <span data-ttu-id="eaa19-129">This starts the **Add Roles and Features** wizard.</span><span class="sxs-lookup"><span data-stu-id="eaa19-129">This starts the **Add Roles and Features** wizard.</span></span>
   <span data-ttu-id="eaa19-130">![Add Roles And Features Wizard 1](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-configure-mpio-windows-server/IC740998.png)</span><span class="sxs-lookup"><span data-stu-id="eaa19-130">![Add Roles And Features Wizard 1](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-configure-mpio-windows-server/IC740998.png)</span></span>
3. <span data-ttu-id="eaa19-131">In the **Add Roles and Features** wizard, do the following:</span><span class="sxs-lookup"><span data-stu-id="eaa19-131">In the **Add Roles and Features** wizard, do the following:</span></span>
   
   * <span data-ttu-id="eaa19-132">On the **Before you begin** page, click **Next**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-132">On the **Before you begin** page, click **Next**.</span></span>
   * <span data-ttu-id="eaa19-133">On the **Select installation type** page, accept the default setting of **Role-based or feature-based** installation.</span><span class="sxs-lookup"><span data-stu-id="eaa19-133">On the **Select installation type** page, accept the default setting of **Role-based or feature-based** installation.</span></span> <span data-ttu-id="eaa19-134">Click **Next**.![Add Roles And Features Wizard 2](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-configure-mpio-windows-server/IC740999.png)</span><span class="sxs-lookup"><span data-stu-id="eaa19-134">Click **Next**.![Add Roles And Features Wizard 2](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-configure-mpio-windows-server/IC740999.png)</span></span>
   * <span data-ttu-id="eaa19-135">On the **Select destination server** page, choose **Select a server from the server pool**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-135">On the **Select destination server** page, choose **Select a server from the server pool**.</span></span> <span data-ttu-id="eaa19-136">Your host server should be discovered automatically.</span><span class="sxs-lookup"><span data-stu-id="eaa19-136">Your host server should be discovered automatically.</span></span> <span data-ttu-id="eaa19-137">Click **Next**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-137">Click **Next**.</span></span>
   * <span data-ttu-id="eaa19-138">On the **Select server roles** page, click **Next**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-138">On the **Select server roles** page, click **Next**.</span></span>
   * <span data-ttu-id="eaa19-139">On the **Select features** page, select **Multipath I/O**, and click **Next**.![Add Roles And Features Wizard 5](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-configure-mpio-windows-server/IC741000.png)</span><span class="sxs-lookup"><span data-stu-id="eaa19-139">On the **Select features** page, select **Multipath I/O**, and click **Next**.![Add Roles And Features Wizard 5](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-configure-mpio-windows-server/IC741000.png)</span></span>
   * <span data-ttu-id="eaa19-140">On the **Confirm installation selections** page, confirm the selection and then select **Restart the destination server automatically if required**, as shown below.</span><span class="sxs-lookup"><span data-stu-id="eaa19-140">On the **Confirm installation selections** page, confirm the selection and then select **Restart the destination server automatically if required**, as shown below.</span></span> <span data-ttu-id="eaa19-141">Click **Install**.![Add Roles And Features Wizard 8](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-configure-mpio-windows-server/IC741001.png)</span><span class="sxs-lookup"><span data-stu-id="eaa19-141">Click **Install**.![Add Roles And Features Wizard 8](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-configure-mpio-windows-server/IC741001.png)</span></span>
   * <span data-ttu-id="eaa19-142">You will be notified when the installation is complete.</span><span class="sxs-lookup"><span data-stu-id="eaa19-142">You will be notified when the installation is complete.</span></span> <span data-ttu-id="eaa19-143">Click **Close** to close the wizard.![Add Roles And Features Wizard 9](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-configure-mpio-windows-server/IC741002.png)</span><span class="sxs-lookup"><span data-stu-id="eaa19-143">Click **Close** to close the wizard.![Add Roles And Features Wizard 9](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-configure-mpio-windows-server/IC741002.png)</span></span>

## <a name="step-2-configure-mpio-for-storsimple-volumes"></a><span data-ttu-id="eaa19-144">Step 2: Configure MPIO for StorSimple volumes</span><span class="sxs-lookup"><span data-stu-id="eaa19-144">Step 2: Configure MPIO for StorSimple volumes</span></span>
<span data-ttu-id="eaa19-145">MPIO needs to be configured to identify StorSimple volumes.</span><span class="sxs-lookup"><span data-stu-id="eaa19-145">MPIO needs to be configured to identify StorSimple volumes.</span></span> <span data-ttu-id="eaa19-146">To configure MPIO to recognize StorSimple volumes, perform the following steps.</span><span class="sxs-lookup"><span data-stu-id="eaa19-146">To configure MPIO to recognize StorSimple volumes, perform the following steps.</span></span>

#### <a name="to-configure-mpio-for-storsimple-volumes"></a><span data-ttu-id="eaa19-147">To configure MPIO for StorSimple volumes</span><span class="sxs-lookup"><span data-stu-id="eaa19-147">To configure MPIO for StorSimple volumes</span></span>
1. <span data-ttu-id="eaa19-148">Open the **MPIO configuration**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-148">Open the **MPIO configuration**.</span></span> <span data-ttu-id="eaa19-149">Click **Server Manager > Dashboard > Tools > MPIO**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-149">Click **Server Manager > Dashboard > Tools > MPIO**.</span></span>
2. <span data-ttu-id="eaa19-150">In the **MPIO Properties** dialog box, select the **Discover Multi-Paths** tab.</span><span class="sxs-lookup"><span data-stu-id="eaa19-150">In the **MPIO Properties** dialog box, select the **Discover Multi-Paths** tab.</span></span>
3. <span data-ttu-id="eaa19-151">Select **Add support for iSCSI devices**, and then click **Add**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-151">Select **Add support for iSCSI devices**, and then click **Add**.</span></span>  
   <span data-ttu-id="eaa19-152">![MPIO Properties Discover Multi Paths](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-configure-mpio-windows-server/IC741003.png)</span><span class="sxs-lookup"><span data-stu-id="eaa19-152">![MPIO Properties Discover Multi Paths](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-configure-mpio-windows-server/IC741003.png)</span></span>
4. <span data-ttu-id="eaa19-153">Reboot the server when prompted.</span><span class="sxs-lookup"><span data-stu-id="eaa19-153">Reboot the server when prompted.</span></span>
5. <span data-ttu-id="eaa19-154">In the **MPIO Properties** dialog box, click the **MPIO Devices** tab. Click **Add**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-154">In the **MPIO Properties** dialog box, click the **MPIO Devices** tab. Click **Add**.</span></span>
    </br><span data-ttu-id="eaa19-155">![MPIO Properties MPIO Devices](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-configure-mpio-windows-server/IC741004.png)</span><span class="sxs-lookup"><span data-stu-id="eaa19-155">![MPIO Properties MPIO Devices](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-configure-mpio-windows-server/IC741004.png)</span></span>
6. <span data-ttu-id="eaa19-156">In the **Add MPIO Support** dialog box, under **Device Hardware ID**, enter your device serial number.You can get the device serial number by accessing your StorSimple Manager service and navigating to **Devices > Dashboard**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-156">In the **Add MPIO Support** dialog box, under **Device Hardware ID**, enter your device serial number.You can get the device serial number by accessing your StorSimple Manager service and navigating to **Devices > Dashboard**.</span></span> <span data-ttu-id="eaa19-157">The device serial number is displayed in the right **Quick Glance** pane of the device dashboard.</span><span class="sxs-lookup"><span data-stu-id="eaa19-157">The device serial number is displayed in the right **Quick Glance** pane of the device dashboard.</span></span>
    </br><span data-ttu-id="eaa19-158">![Add MPIO Support](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-configure-mpio-windows-server/IC741005.png)</span><span class="sxs-lookup"><span data-stu-id="eaa19-158">![Add MPIO Support](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-configure-mpio-windows-server/IC741005.png)</span></span>
7. <span data-ttu-id="eaa19-159">Reboot the server when prompted.</span><span class="sxs-lookup"><span data-stu-id="eaa19-159">Reboot the server when prompted.</span></span>

## <a name="step-3-mount-storsimple-volumes-on-the-host"></a><span data-ttu-id="eaa19-160">Step 3: Mount StorSimple volumes on the host</span><span class="sxs-lookup"><span data-stu-id="eaa19-160">Step 3: Mount StorSimple volumes on the host</span></span>
<span data-ttu-id="eaa19-161">After MPIO is configured on Windows Server, volume(s) created on the StorSimple device can be mounted and can then take advantage of MPIO for redundancy.</span><span class="sxs-lookup"><span data-stu-id="eaa19-161">After MPIO is configured on Windows Server, volume(s) created on the StorSimple device can be mounted and can then take advantage of MPIO for redundancy.</span></span> <span data-ttu-id="eaa19-162">To mount a volume, perform the following steps.</span><span class="sxs-lookup"><span data-stu-id="eaa19-162">To mount a volume, perform the following steps.</span></span>

#### <a name="to-mount-volumes-on-the-host"></a><span data-ttu-id="eaa19-163">To mount volumes on the host</span><span class="sxs-lookup"><span data-stu-id="eaa19-163">To mount volumes on the host</span></span>
1. <span data-ttu-id="eaa19-164">Open the **iSCSI Initiator Properties** window on the Windows Server host.</span><span class="sxs-lookup"><span data-stu-id="eaa19-164">Open the **iSCSI Initiator Properties** window on the Windows Server host.</span></span> <span data-ttu-id="eaa19-165">Click **Server Manager > Dashboard > Tools > iSCSI Initiator**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-165">Click **Server Manager > Dashboard > Tools > iSCSI Initiator**.</span></span>
2. <span data-ttu-id="eaa19-166">In the **iSCSI Initiator Properties** dialog box, click the Discovery tab, and then click **Discover Target Portal**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-166">In the **iSCSI Initiator Properties** dialog box, click the Discovery tab, and then click **Discover Target Portal**.</span></span>
3. <span data-ttu-id="eaa19-167">In the **Discover Target Portal** dialog box, do the following:</span><span class="sxs-lookup"><span data-stu-id="eaa19-167">In the **Discover Target Portal** dialog box, do the following:</span></span>
   
   * <span data-ttu-id="eaa19-168">Enter the IP address of the DATA port of your StorSimple device (for example, enter DATA 0).</span><span class="sxs-lookup"><span data-stu-id="eaa19-168">Enter the IP address of the DATA port of your StorSimple device (for example, enter DATA 0).</span></span>
   * <span data-ttu-id="eaa19-169">Click **OK** to return to the **iSCSI Initiator Properties** dialog box.</span><span class="sxs-lookup"><span data-stu-id="eaa19-169">Click **OK** to return to the **iSCSI Initiator Properties** dialog box.</span></span>
     
     > [!IMPORTANT]
     > <span data-ttu-id="eaa19-170">**If you are using a private network for iSCSI connections, enter the IP address of the DATA port that is connected to the private network.**</span><span class="sxs-lookup"><span data-stu-id="eaa19-170">**If you are using a private network for iSCSI connections, enter the IP address of the DATA port that is connected to the private network.**</span></span>
     > 
     > 
4. <span data-ttu-id="eaa19-171">Repeat steps 2-3 for a second network interface (for example, DATA 1) on your device.</span><span class="sxs-lookup"><span data-stu-id="eaa19-171">Repeat steps 2-3 for a second network interface (for example, DATA 1) on your device.</span></span> <span data-ttu-id="eaa19-172">Keep in mind that these interfaces should be enabled for iSCSI.</span><span class="sxs-lookup"><span data-stu-id="eaa19-172">Keep in mind that these interfaces should be enabled for iSCSI.</span></span> <span data-ttu-id="eaa19-173">To learn more about this, see [Modify network interfaces](storsimple-modify-device-config.md#modify-network-interfaces).</span><span class="sxs-lookup"><span data-stu-id="eaa19-173">To learn more about this, see [Modify network interfaces](storsimple-modify-device-config.md#modify-network-interfaces).</span></span>
5. <span data-ttu-id="eaa19-174">Select the **Targets** tab in the **iSCSI Initiator Properties** dialog box.</span><span class="sxs-lookup"><span data-stu-id="eaa19-174">Select the **Targets** tab in the **iSCSI Initiator Properties** dialog box.</span></span> <span data-ttu-id="eaa19-175">You should see the StorSimple device target IQN under **Discovered Targets**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-175">You should see the StorSimple device target IQN under **Discovered Targets**.</span></span>

   ![iSCSI Initiator Properties Targets Tab](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-configure-mpio-windows-server/IC741007.png)
   
6. <span data-ttu-id="eaa19-177">Click **Connect** to establish an iSCSI session with your StorSimple device.</span><span class="sxs-lookup"><span data-stu-id="eaa19-177">Click **Connect** to establish an iSCSI session with your StorSimple device.</span></span> <span data-ttu-id="eaa19-178">A **Connect to Target** dialog box will appear.</span><span class="sxs-lookup"><span data-stu-id="eaa19-178">A **Connect to Target** dialog box will appear.</span></span>
7. <span data-ttu-id="eaa19-179">In the **Connect to Target** dialog box, select the **Enable multi-path** check box.</span><span class="sxs-lookup"><span data-stu-id="eaa19-179">In the **Connect to Target** dialog box, select the **Enable multi-path** check box.</span></span> <span data-ttu-id="eaa19-180">Click **Advanced**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-180">Click **Advanced**.</span></span>
8. <span data-ttu-id="eaa19-181">In the **Advanced Settings** dialog box, do the following:</span><span class="sxs-lookup"><span data-stu-id="eaa19-181">In the **Advanced Settings** dialog box, do the following:</span></span>                                        
   
   * <span data-ttu-id="eaa19-182">On the **Local Adapter** drop-down list, select **Microsoft iSCSI Initiator**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-182">On the **Local Adapter** drop-down list, select **Microsoft iSCSI Initiator**.</span></span>
   * <span data-ttu-id="eaa19-183">On the **Initiator IP** drop-down list, select the IP address of the host.</span><span class="sxs-lookup"><span data-stu-id="eaa19-183">On the **Initiator IP** drop-down list, select the IP address of the host.</span></span>
   * <span data-ttu-id="eaa19-184">On the **Target Portal** IP drop-down list, select the IP of device interface.</span><span class="sxs-lookup"><span data-stu-id="eaa19-184">On the **Target Portal** IP drop-down list, select the IP of device interface.</span></span>
   * <span data-ttu-id="eaa19-185">Click **OK** to return to the **iSCSI Initiator Properties** dialog box.</span><span class="sxs-lookup"><span data-stu-id="eaa19-185">Click **OK** to return to the **iSCSI Initiator Properties** dialog box.</span></span>
9. <span data-ttu-id="eaa19-186">Click **Properties**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-186">Click **Properties**.</span></span> <span data-ttu-id="eaa19-187">In the **Properties** dialog box, click **Add Session**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-187">In the **Properties** dialog box, click **Add Session**.</span></span>
10. <span data-ttu-id="eaa19-188">In the **Connect to Target** dialog box, select the **Enable multi-path** check box.</span><span class="sxs-lookup"><span data-stu-id="eaa19-188">In the **Connect to Target** dialog box, select the **Enable multi-path** check box.</span></span> <span data-ttu-id="eaa19-189">Click **Advanced**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-189">Click **Advanced**.</span></span>
11. <span data-ttu-id="eaa19-190">In the **Advanced Settings** dialog box:</span><span class="sxs-lookup"><span data-stu-id="eaa19-190">In the **Advanced Settings** dialog box:</span></span>                                        
    
    * <span data-ttu-id="eaa19-191">On the **Local adapter** drop-down list, select Microsoft iSCSI Initiator.</span><span class="sxs-lookup"><span data-stu-id="eaa19-191">On the **Local adapter** drop-down list, select Microsoft iSCSI Initiator.</span></span>
    * <span data-ttu-id="eaa19-192">On the **Initiator IP** drop-down list, select the IP address corresponding to the host.</span><span class="sxs-lookup"><span data-stu-id="eaa19-192">On the **Initiator IP** drop-down list, select the IP address corresponding to the host.</span></span> <span data-ttu-id="eaa19-193">In this case, you are connecting two network interfaces on the device to a single network interface on the host.</span><span class="sxs-lookup"><span data-stu-id="eaa19-193">In this case, you are connecting two network interfaces on the device to a single network interface on the host.</span></span> <span data-ttu-id="eaa19-194">Therefore, this interface is the same as that provided for the first session.</span><span class="sxs-lookup"><span data-stu-id="eaa19-194">Therefore, this interface is the same as that provided for the first session.</span></span>
    * <span data-ttu-id="eaa19-195">On the **Target Portal IP** drop-down list, select the IP address for the second data interface enabled on the device.</span><span class="sxs-lookup"><span data-stu-id="eaa19-195">On the **Target Portal IP** drop-down list, select the IP address for the second data interface enabled on the device.</span></span>
    * <span data-ttu-id="eaa19-196">Click **OK** to return to the iSCSI Initiator Properties dialog box.</span><span class="sxs-lookup"><span data-stu-id="eaa19-196">Click **OK** to return to the iSCSI Initiator Properties dialog box.</span></span> <span data-ttu-id="eaa19-197">You have added a second session to the target.</span><span class="sxs-lookup"><span data-stu-id="eaa19-197">You have added a second session to the target.</span></span>
12. <span data-ttu-id="eaa19-198">Open **Computer Management** by navigating to **Server Manager > Dashboard > Computer Management**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-198">Open **Computer Management** by navigating to **Server Manager > Dashboard > Computer Management**.</span></span> <span data-ttu-id="eaa19-199">In the left pane, click **Storage > Disk Management**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-199">In the left pane, click **Storage > Disk Management**.</span></span> <span data-ttu-id="eaa19-200">The volume(s) created on the StorSimple device that are visible to this host will appear under **Disk Management** as new disk(s).</span><span class="sxs-lookup"><span data-stu-id="eaa19-200">The volume(s) created on the StorSimple device that are visible to this host will appear under **Disk Management** as new disk(s).</span></span>
13. <span data-ttu-id="eaa19-201">Initialize the disk and create a new volume.</span><span class="sxs-lookup"><span data-stu-id="eaa19-201">Initialize the disk and create a new volume.</span></span> <span data-ttu-id="eaa19-202">During the format process, select a block size of 64 KB.</span><span class="sxs-lookup"><span data-stu-id="eaa19-202">During the format process, select a block size of 64 KB.</span></span>
    <span data-ttu-id="eaa19-203">![Disk Management](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-configure-mpio-windows-server/IC741008.png)</span><span class="sxs-lookup"><span data-stu-id="eaa19-203">![Disk Management](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-configure-mpio-windows-server/IC741008.png)</span></span>
14. <span data-ttu-id="eaa19-204">Under **Disk Management**, right-click the **Disk** and select **Properties**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-204">Under **Disk Management**, right-click the **Disk** and select **Properties**.</span></span>
15. <span data-ttu-id="eaa19-205">In the StorSimple Model #### **Multi-Path Disk Device Properties** dialog box, click the **MPIO** tab. ![StorSimple 8100 Multi-Path Disk DeviceProp.](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-configure-mpio-windows-server/IC741009.png)</span><span class="sxs-lookup"><span data-stu-id="eaa19-205">In the StorSimple Model #### **Multi-Path Disk Device Properties** dialog box, click the **MPIO** tab. ![StorSimple 8100 Multi-Path Disk DeviceProp.](https://docstestmedia1.blob.core.windows.net/azure-media/articles/storsimple/media/storsimple-configure-mpio-windows-server/IC741009.png)</span></span>
16. <span data-ttu-id="eaa19-206">In the **DSM Name** section, click **Details** and verify that the parameters are set to the default parameters.</span><span class="sxs-lookup"><span data-stu-id="eaa19-206">In the **DSM Name** section, click **Details** and verify that the parameters are set to the default parameters.</span></span> <span data-ttu-id="eaa19-207">The default parameters are:</span><span class="sxs-lookup"><span data-stu-id="eaa19-207">The default parameters are:</span></span>
    
    * <span data-ttu-id="eaa19-208">Path Verify Period = 30</span><span class="sxs-lookup"><span data-stu-id="eaa19-208">Path Verify Period = 30</span></span>
    * <span data-ttu-id="eaa19-209">Retry Count = 3</span><span class="sxs-lookup"><span data-stu-id="eaa19-209">Retry Count = 3</span></span>
    * <span data-ttu-id="eaa19-210">PDO Remove Period = 20</span><span class="sxs-lookup"><span data-stu-id="eaa19-210">PDO Remove Period = 20</span></span>
    * <span data-ttu-id="eaa19-211">Retry Interval = 1</span><span class="sxs-lookup"><span data-stu-id="eaa19-211">Retry Interval = 1</span></span>
    * <span data-ttu-id="eaa19-212">Path Verify Enabled = Unchecked.</span><span class="sxs-lookup"><span data-stu-id="eaa19-212">Path Verify Enabled = Unchecked.</span></span>

> [!NOTE]
> <span data-ttu-id="eaa19-213">**Do not modify the default parameters.**</span><span class="sxs-lookup"><span data-stu-id="eaa19-213">**Do not modify the default parameters.**</span></span>


## <a name="step-4-configure-mpio-for-high-availability-and-load-balancing"></a><span data-ttu-id="eaa19-214">Step 4: Configure MPIO for high availability and load balancing</span><span class="sxs-lookup"><span data-stu-id="eaa19-214">Step 4: Configure MPIO for high availability and load balancing</span></span>
<span data-ttu-id="eaa19-215">For multi-path based high availability and load balancing, multiple sessions must be manually added to declare the different paths available.</span><span class="sxs-lookup"><span data-stu-id="eaa19-215">For multi-path based high availability and load balancing, multiple sessions must be manually added to declare the different paths available.</span></span> <span data-ttu-id="eaa19-216">For example, if the host has two interfaces connected to SAN and the device has two interfaces connected to SAN, then you need four sessions configured with proper path permutations (only two sessions will be required if each DATA interface and host interface is on a different IP subnet and is not routable).</span><span class="sxs-lookup"><span data-stu-id="eaa19-216">For example, if the host has two interfaces connected to SAN and the device has two interfaces connected to SAN, then you need four sessions configured with proper path permutations (only two sessions will be required if each DATA interface and host interface is on a different IP subnet and is not routable).</span></span>

<span data-ttu-id="eaa19-217">**We recommend that you have at least 8 active parallel sessions between the device and your application host.**</span><span class="sxs-lookup"><span data-stu-id="eaa19-217">**We recommend that you have at least 8 active parallel sessions between the device and your application host.**</span></span> <span data-ttu-id="eaa19-218">This can be achieved by enabling 4 network interfaces on your Windows Server system.</span><span class="sxs-lookup"><span data-stu-id="eaa19-218">This can be achieved by enabling 4 network interfaces on your Windows Server system.</span></span> <span data-ttu-id="eaa19-219">Use physical network interfaces or virtual interfaces via network virtualization technologies on the hardware or operating system level on your Windows Server host.</span><span class="sxs-lookup"><span data-stu-id="eaa19-219">Use physical network interfaces or virtual interfaces via network virtualization technologies on the hardware or operating system level on your Windows Server host.</span></span> <span data-ttu-id="eaa19-220">With the two network interfaces on the device, this configuration would result in 8 active sessions.</span><span class="sxs-lookup"><span data-stu-id="eaa19-220">With the two network interfaces on the device, this configuration would result in 8 active sessions.</span></span> <span data-ttu-id="eaa19-221">This configuration helps optimize the device and cloud throughput.</span><span class="sxs-lookup"><span data-stu-id="eaa19-221">This configuration helps optimize the device and cloud throughput.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="eaa19-222">**We recommend that you do not mix 1 GbE and 10 GbE network interfaces. If you use two network interfaces, both interfaces should be the identical type.**</span><span class="sxs-lookup"><span data-stu-id="eaa19-222">**We recommend that you do not mix 1 GbE and 10 GbE network interfaces. If you use two network interfaces, both interfaces should be the identical type.**</span></span>

<span data-ttu-id="eaa19-223">The following procedure describes how to add sessions when a StorSimple device with two network interfaces is connected to a host with two network interfaces.</span><span class="sxs-lookup"><span data-stu-id="eaa19-223">The following procedure describes how to add sessions when a StorSimple device with two network interfaces is connected to a host with two network interfaces.</span></span> <span data-ttu-id="eaa19-224">This gives you only 2 active sessions.</span><span class="sxs-lookup"><span data-stu-id="eaa19-224">This gives you only 2 active sessions.</span></span> <span data-ttu-id="eaa19-225">Use this same procedure with a StorSimple device with two network interfaces connected to a host with four network interfaces.</span><span class="sxs-lookup"><span data-stu-id="eaa19-225">Use this same procedure with a StorSimple device with two network interfaces connected to a host with four network interfaces.</span></span> <span data-ttu-id="eaa19-226">You will need to configure 8 instead of the 4 sessions described here.</span><span class="sxs-lookup"><span data-stu-id="eaa19-226">You will need to configure 8 instead of the 4 sessions described here.</span></span>

### <a name="to-configure-mpio-for-high-availability-and-load-balancing"></a><span data-ttu-id="eaa19-227">To configure MPIO for high availability and load balancing</span><span class="sxs-lookup"><span data-stu-id="eaa19-227">To configure MPIO for high availability and load balancing</span></span>
1. <span data-ttu-id="eaa19-228">Perform a discovery of the target: in the **iSCSI Initiator Properties** dialog box, on the **Discovery** tab, click **Discover Portal**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-228">Perform a discovery of the target: in the **iSCSI Initiator Properties** dialog box, on the **Discovery** tab, click **Discover Portal**.</span></span>
2. <span data-ttu-id="eaa19-229">In the **Connect to Target** dialog box, enter the IP address of one of the device network interfaces.</span><span class="sxs-lookup"><span data-stu-id="eaa19-229">In the **Connect to Target** dialog box, enter the IP address of one of the device network interfaces.</span></span>
3. <span data-ttu-id="eaa19-230">Click **OK** to return to the **iSCSI Initiator Properties** dialog box.</span><span class="sxs-lookup"><span data-stu-id="eaa19-230">Click **OK** to return to the **iSCSI Initiator Properties** dialog box.</span></span>
4. <span data-ttu-id="eaa19-231">In the **iSCSI Initiator Properties** dialog box, select the **Targets** tab, highlight the discovered target, and then click **Connect**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-231">In the **iSCSI Initiator Properties** dialog box, select the **Targets** tab, highlight the discovered target, and then click **Connect**.</span></span> <span data-ttu-id="eaa19-232">The **Connect to Target** dialog box appears.</span><span class="sxs-lookup"><span data-stu-id="eaa19-232">The **Connect to Target** dialog box appears.</span></span>
5. <span data-ttu-id="eaa19-233">In the **Connect to Target** dialog box:</span><span class="sxs-lookup"><span data-stu-id="eaa19-233">In the **Connect to Target** dialog box:</span></span>
   
   * <span data-ttu-id="eaa19-234">Leave the default selected target setting for **Add this connection** to the list of favorite targets.</span><span class="sxs-lookup"><span data-stu-id="eaa19-234">Leave the default selected target setting for **Add this connection** to the list of favorite targets.</span></span> <span data-ttu-id="eaa19-235">This will make the device automatically attempt to restart the connection every time this computer restarts.</span><span class="sxs-lookup"><span data-stu-id="eaa19-235">This will make the device automatically attempt to restart the connection every time this computer restarts.</span></span>
   * <span data-ttu-id="eaa19-236">Select the **Enable multi-path** check box.</span><span class="sxs-lookup"><span data-stu-id="eaa19-236">Select the **Enable multi-path** check box.</span></span>
   * <span data-ttu-id="eaa19-237">Click **Advanced**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-237">Click **Advanced**.</span></span>
6. <span data-ttu-id="eaa19-238">In the **Advanced Settings** dialog box:</span><span class="sxs-lookup"><span data-stu-id="eaa19-238">In the **Advanced Settings** dialog box:</span></span>
   
   * <span data-ttu-id="eaa19-239">On the **Local Adapter** drop-down list, select **Microsoft iSCSI Initiator**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-239">On the **Local Adapter** drop-down list, select **Microsoft iSCSI Initiator**.</span></span>
   * <span data-ttu-id="eaa19-240">On the **Initiator IP** drop-down list, select the IP address of the host.</span><span class="sxs-lookup"><span data-stu-id="eaa19-240">On the **Initiator IP** drop-down list, select the IP address of the host.</span></span>
   * <span data-ttu-id="eaa19-241">On the **Target Portal IP** drop-down list, select the IP address of the data interface enabled on the device.</span><span class="sxs-lookup"><span data-stu-id="eaa19-241">On the **Target Portal IP** drop-down list, select the IP address of the data interface enabled on the device.</span></span>
   * <span data-ttu-id="eaa19-242">Click **OK** to return to the iSCSI Initiator Properties dialog box.</span><span class="sxs-lookup"><span data-stu-id="eaa19-242">Click **OK** to return to the iSCSI Initiator Properties dialog box.</span></span>
7. <span data-ttu-id="eaa19-243">Click **Properties**, and in the **Properties** dialog box, click **Add Session**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-243">Click **Properties**, and in the **Properties** dialog box, click **Add Session**.</span></span>
8. <span data-ttu-id="eaa19-244">In the **Connect to Target** dialog box, select the **Enable multi-path** check box, and then click **Advanced**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-244">In the **Connect to Target** dialog box, select the **Enable multi-path** check box, and then click **Advanced**.</span></span>
9. <span data-ttu-id="eaa19-245">In the **Advanced Settings** dialog box:</span><span class="sxs-lookup"><span data-stu-id="eaa19-245">In the **Advanced Settings** dialog box:</span></span>
   
   1. <span data-ttu-id="eaa19-246">On the **Local adapter** drop-down list, select **Microsoft iSCSI Initiator**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-246">On the **Local adapter** drop-down list, select **Microsoft iSCSI Initiator**.</span></span>
   2. <span data-ttu-id="eaa19-247">On the **Initiator IP** drop-down list, select the IP address corresponding to the second interface on the host.</span><span class="sxs-lookup"><span data-stu-id="eaa19-247">On the **Initiator IP** drop-down list, select the IP address corresponding to the second interface on the host.</span></span>
   3. <span data-ttu-id="eaa19-248">On the **Target Portal IP** drop-down list, select the IP address for the second data interface enabled on the device.</span><span class="sxs-lookup"><span data-stu-id="eaa19-248">On the **Target Portal IP** drop-down list, select the IP address for the second data interface enabled on the device.</span></span>
   4. <span data-ttu-id="eaa19-249">Click **OK** to return to the **iSCSI Initiator Properties** dialog box.</span><span class="sxs-lookup"><span data-stu-id="eaa19-249">Click **OK** to return to the **iSCSI Initiator Properties** dialog box.</span></span> <span data-ttu-id="eaa19-250">You have now added a second session to the target.</span><span class="sxs-lookup"><span data-stu-id="eaa19-250">You have now added a second session to the target.</span></span>
10. <span data-ttu-id="eaa19-251">Repeat Steps 8-10 to add additional sessions (paths) to the target.</span><span class="sxs-lookup"><span data-stu-id="eaa19-251">Repeat Steps 8-10 to add additional sessions (paths) to the target.</span></span> <span data-ttu-id="eaa19-252">With two interfaces on the host and two on the device, you can add a total of four sessions.</span><span class="sxs-lookup"><span data-stu-id="eaa19-252">With two interfaces on the host and two on the device, you can add a total of four sessions.</span></span>
11. <span data-ttu-id="eaa19-253">After adding the desired sessions (paths), in the **iSCSI Initiator Properties** dialog box, select the target and click **Properties**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-253">After adding the desired sessions (paths), in the **iSCSI Initiator Properties** dialog box, select the target and click **Properties**.</span></span> <span data-ttu-id="eaa19-254">On the Sessions tab of the **Properties** dialog box, note the four session identifiers that correspond to the possible path permutations.</span><span class="sxs-lookup"><span data-stu-id="eaa19-254">On the Sessions tab of the **Properties** dialog box, note the four session identifiers that correspond to the possible path permutations.</span></span> <span data-ttu-id="eaa19-255">To cancel a session, select the check box next to a session identifier, and then click **Disconnect**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-255">To cancel a session, select the check box next to a session identifier, and then click **Disconnect**.</span></span>
12. <span data-ttu-id="eaa19-256">To view devices presented within sessions, select the **Devices** tab. To configure the MPIO policy for a selected device, click **MPIO**.</span><span class="sxs-lookup"><span data-stu-id="eaa19-256">To view devices presented within sessions, select the **Devices** tab. To configure the MPIO policy for a selected device, click **MPIO**.</span></span> <span data-ttu-id="eaa19-257">The **Device Details** dialog box will appear.</span><span class="sxs-lookup"><span data-stu-id="eaa19-257">The **Device Details** dialog box will appear.</span></span> <span data-ttu-id="eaa19-258">On the **MPIO** tab, you can select the appropriate **Load Balance Policy** settings.</span><span class="sxs-lookup"><span data-stu-id="eaa19-258">On the **MPIO** tab, you can select the appropriate **Load Balance Policy** settings.</span></span> <span data-ttu-id="eaa19-259">You can also view the **Active** or **Standby** path type.</span><span class="sxs-lookup"><span data-stu-id="eaa19-259">You can also view the **Active** or **Standby** path type.</span></span>

## <a name="next-steps"></a><span data-ttu-id="eaa19-260">Next steps</span><span class="sxs-lookup"><span data-stu-id="eaa19-260">Next steps</span></span>
<span data-ttu-id="eaa19-261">Learn more about [using the StorSimple Manager service to modify your StorSimple device configuration](storsimple-modify-device-config.md).</span><span class="sxs-lookup"><span data-stu-id="eaa19-261">Learn more about [using the StorSimple Manager service to modify your StorSimple device configuration](storsimple-modify-device-config.md).</span></span>













