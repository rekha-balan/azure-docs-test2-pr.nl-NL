---
title: Service administration for Azure Search in the Azure portal
description: Manage Azure Search, a hosted cloud search service on Microsoft Azure, using the Azure portal.
services: search
documentationcenter: ''
author: HeidiSteen
manager: jhubbard
editor: ''
tags: azure-portal
ms.assetid: c87d1fdd-b3b8-4702-a753-6d7e29dbe0a2
ms.service: search
ms.devlang: rest-api
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 04/05/2017
ms.author: heidist
ms.openlocfilehash: d8f0d38f7cfb6131ab956574148adae0e7405a84
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44556257"
---
# <a name="service-administration-for-azure-search-in-the-azure-portal"></a><span data-ttu-id="05a04-103">Service administration for Azure Search in the Azure portal</span><span class="sxs-lookup"><span data-stu-id="05a04-103">Service administration for Azure Search in the Azure portal</span></span>
> [!div class="op_single_selector"]
> * [Portal](search-manage.md)
> * [PowerShell](search-manage-powershell.md)
> * [.NET SDK](https://docs.microsoft.com/dotnet/api/microsoft.azure.management.search)
> * [Python](https://pypi.python.org/pypi/azure-mgmt-search/0.1.0)> 

<span data-ttu-id="05a04-108">Azure Search is a fully managed, cloud-based search service used for building a rich search experience into custom apps.</span><span class="sxs-lookup"><span data-stu-id="05a04-108">Azure Search is a fully managed, cloud-based search service used for building a rich search experience into custom apps.</span></span> <span data-ttu-id="05a04-109">This article covers the *service administration* tasks that you can perform in the [Azure portal](https://portal.azure.com) for a search service that you've already provisioned.</span><span class="sxs-lookup"><span data-stu-id="05a04-109">This article covers the *service administration* tasks that you can perform in the [Azure portal](https://portal.azure.com) for a search service that you've already provisioned.</span></span> <span data-ttu-id="05a04-110">*Service administration* is lightweight by design, limited to the following tasks:</span><span class="sxs-lookup"><span data-stu-id="05a04-110">*Service administration* is lightweight by design, limited to the following tasks:</span></span>

* <span data-ttu-id="05a04-111">Manage and secure access to the *api-keys* used for read or write access to your service.</span><span class="sxs-lookup"><span data-stu-id="05a04-111">Manage and secure access to the *api-keys* used for read or write access to your service.</span></span>
* <span data-ttu-id="05a04-112">Adjust service capacity by changing the allocation of partitions and replicas.</span><span class="sxs-lookup"><span data-stu-id="05a04-112">Adjust service capacity by changing the allocation of partitions and replicas.</span></span>
* <span data-ttu-id="05a04-113">Monitor resource usage, relative to maximum limits of your service tier.</span><span class="sxs-lookup"><span data-stu-id="05a04-113">Monitor resource usage, relative to maximum limits of your service tier.</span></span>

<span data-ttu-id="05a04-114">**Not in scope**</span><span class="sxs-lookup"><span data-stu-id="05a04-114">**Not in scope**</span></span> 

<span data-ttu-id="05a04-115">*Content management* (or index management) refers to operations such as analyzing search traffic to understand query volume, discover which terms people search for, and how successful search results are in guiding customers to specific documents in your index.</span><span class="sxs-lookup"><span data-stu-id="05a04-115">*Content management* (or index management) refers to operations such as analyzing search traffic to understand query volume, discover which terms people search for, and how successful search results are in guiding customers to specific documents in your index.</span></span> <span data-ttu-id="05a04-116">Content management is beyond the scope of this article.</span><span class="sxs-lookup"><span data-stu-id="05a04-116">Content management is beyond the scope of this article.</span></span> <span data-ttu-id="05a04-117">For instructions on how to gain insights into internal operations at the index level, see [Search Traffic Analytics for Azure Search](search-traffic-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="05a04-117">For instructions on how to gain insights into internal operations at the index level, see [Search Traffic Analytics for Azure Search](search-traffic-analytics.md).</span></span>

<span data-ttu-id="05a04-118">*Query performance* is also beyond the scope of this article.</span><span class="sxs-lookup"><span data-stu-id="05a04-118">*Query performance* is also beyond the scope of this article.</span></span> <span data-ttu-id="05a04-119">For more information, see [Monitor usage and query metrics](search-monitor-usage.md) and [Performance and optimization](search-performance-optimization.md).</span><span class="sxs-lookup"><span data-stu-id="05a04-119">For more information, see [Monitor usage and query metrics](search-monitor-usage.md) and [Performance and optimization](search-performance-optimization.md).</span></span>


<a id="admin-rights"></a>

## <a name="administrator-rights"></a><span data-ttu-id="05a04-120">Administrator rights</span><span class="sxs-lookup"><span data-stu-id="05a04-120">Administrator rights</span></span>
<span data-ttu-id="05a04-121">Provisioning or decommissioning the service itself can be done by an Azure subscription administrator or co-administrator.</span><span class="sxs-lookup"><span data-stu-id="05a04-121">Provisioning or decommissioning the service itself can be done by an Azure subscription administrator or co-administrator.</span></span>

<span data-ttu-id="05a04-122">Within a service, anyone with access to the service URL and an admin api-key has read-write access to the service, with commensurate ability to add, delete, or modify server objects such as api-keys, indexes, indexers, data sources, schedules, and role assignments as implemented through [RBAC-defined roles](#rbac).</span><span class="sxs-lookup"><span data-stu-id="05a04-122">Within a service, anyone with access to the service URL and an admin api-key has read-write access to the service, with commensurate ability to add, delete, or modify server objects such as api-keys, indexes, indexers, data sources, schedules, and role assignments as implemented through [RBAC-defined roles](#rbac).</span></span>

<span data-ttu-id="05a04-123">All user interaction with Azure Search falls within one of these modes: read-write access to the service (administrator rights), or read-only access to the service (query rights).</span><span class="sxs-lookup"><span data-stu-id="05a04-123">All user interaction with Azure Search falls within one of these modes: read-write access to the service (administrator rights), or read-only access to the service (query rights).</span></span> <span data-ttu-id="05a04-124">For more information, see [Manage the api-keys](#manage-keys).</span><span class="sxs-lookup"><span data-stu-id="05a04-124">For more information, see [Manage the api-keys](#manage-keys).</span></span>

<a id="sys-info"></a>

## <a name="set-rbac-roles-for-administrative-access"></a><span data-ttu-id="05a04-125">Set RBAC roles for administrative access</span><span class="sxs-lookup"><span data-stu-id="05a04-125">Set RBAC roles for administrative access</span></span>
<span data-ttu-id="05a04-126">Azure provides a [global role-based authorization model](../active-directory/role-based-access-control-configure.md) for all services managed through the portal or Resource Manager APIs.</span><span class="sxs-lookup"><span data-stu-id="05a04-126">Azure provides a [global role-based authorization model](../active-directory/role-based-access-control-configure.md) for all services managed through the portal or Resource Manager APIs.</span></span> <span data-ttu-id="05a04-127">Owner, Contributor, and Reader roles determine the level of service administration for Active Directory users, groups, and security principals assigned to each role.</span><span class="sxs-lookup"><span data-stu-id="05a04-127">Owner, Contributor, and Reader roles determine the level of service administration for Active Directory users, groups, and security principals assigned to each role.</span></span> 

<span data-ttu-id="05a04-128">For Azure Search, RBAC permissions determine the following administrative tasks:</span><span class="sxs-lookup"><span data-stu-id="05a04-128">For Azure Search, RBAC permissions determine the following administrative tasks:</span></span>

| <span data-ttu-id="05a04-129">Role</span><span class="sxs-lookup"><span data-stu-id="05a04-129">Role</span></span> | <span data-ttu-id="05a04-130">Task</span><span class="sxs-lookup"><span data-stu-id="05a04-130">Task</span></span> |
| --- | --- |
| <span data-ttu-id="05a04-131">Owner</span><span class="sxs-lookup"><span data-stu-id="05a04-131">Owner</span></span> |<span data-ttu-id="05a04-132">Create or delete the service or any object on the service, including api-keys, indexes, indexers, indexer data sources, and indexer schedules.</span><span class="sxs-lookup"><span data-stu-id="05a04-132">Create or delete the service or any object on the service, including api-keys, indexes, indexers, indexer data sources, and indexer schedules.</span></span><p><span data-ttu-id="05a04-133">View service status, including counts and storage size.</span><span class="sxs-lookup"><span data-stu-id="05a04-133">View service status, including counts and storage size.</span></span><p><span data-ttu-id="05a04-134">Add or delete role membership (only an Owner can manage role membership).</span><span class="sxs-lookup"><span data-stu-id="05a04-134">Add or delete role membership (only an Owner can manage role membership).</span></span><p><span data-ttu-id="05a04-135">Subscription administrators and service owners have automatic membership in the Owners role.</span><span class="sxs-lookup"><span data-stu-id="05a04-135">Subscription administrators and service owners have automatic membership in the Owners role.</span></span> |
| <span data-ttu-id="05a04-136">Contributor</span><span class="sxs-lookup"><span data-stu-id="05a04-136">Contributor</span></span> |<span data-ttu-id="05a04-137">Same level of access as Owner, minus RBAC role management.</span><span class="sxs-lookup"><span data-stu-id="05a04-137">Same level of access as Owner, minus RBAC role management.</span></span> <span data-ttu-id="05a04-138">For example, a Contributor can view and regenerate `api-key`, but cannot modify role memberships.</span><span class="sxs-lookup"><span data-stu-id="05a04-138">For example, a Contributor can view and regenerate `api-key`, but cannot modify role memberships.</span></span> |
| <span data-ttu-id="05a04-139">Reader</span><span class="sxs-lookup"><span data-stu-id="05a04-139">Reader</span></span> |<span data-ttu-id="05a04-140">View service status and query keys.</span><span class="sxs-lookup"><span data-stu-id="05a04-140">View service status and query keys.</span></span> <span data-ttu-id="05a04-141">Members of this role cannot change service configuration, nor can they view admin keys.</span><span class="sxs-lookup"><span data-stu-id="05a04-141">Members of this role cannot change service configuration, nor can they view admin keys.</span></span> |

<span data-ttu-id="05a04-142">Note that roles do not grant access rights to the service endpoint.</span><span class="sxs-lookup"><span data-stu-id="05a04-142">Note that roles do not grant access rights to the service endpoint.</span></span> <span data-ttu-id="05a04-143">Search service operations, such as index management, index population, and queries on search data, are controlled through api-keys, not roles.</span><span class="sxs-lookup"><span data-stu-id="05a04-143">Search service operations, such as index management, index population, and queries on search data, are controlled through api-keys, not roles.</span></span> <span data-ttu-id="05a04-144">For more information, see "Authorization for management versus data operations" in [What is Role-based access control](../active-directory/role-based-access-control-what-is.md).</span><span class="sxs-lookup"><span data-stu-id="05a04-144">For more information, see "Authorization for management versus data operations" in [What is Role-based access control](../active-directory/role-based-access-control-what-is.md).</span></span>

<a id="secure-keys"></a>
## <a name="logging-and-system-information"></a><span data-ttu-id="05a04-145">Logging and system information</span><span class="sxs-lookup"><span data-stu-id="05a04-145">Logging and system information</span></span>
<span data-ttu-id="05a04-146">Azure Search does not expose log files for an individual service either through the portal or programmatic interfaces.</span><span class="sxs-lookup"><span data-stu-id="05a04-146">Azure Search does not expose log files for an individual service either through the portal or programmatic interfaces.</span></span> <span data-ttu-id="05a04-147">At the Basic tier and above, Microsoft monitors all Azure Search services for 99.9% availability per service level agreements (SLA).</span><span class="sxs-lookup"><span data-stu-id="05a04-147">At the Basic tier and above, Microsoft monitors all Azure Search services for 99.9% availability per service level agreements (SLA).</span></span> <span data-ttu-id="05a04-148">If the service is slow or request throughput falls below SLA thresholds, support teams review the log files available to them and address the issue.</span><span class="sxs-lookup"><span data-stu-id="05a04-148">If the service is slow or request throughput falls below SLA thresholds, support teams review the log files available to them and address the issue.</span></span>

<span data-ttu-id="05a04-149">In terms of general information about your service, you can obtain information in the following ways:</span><span class="sxs-lookup"><span data-stu-id="05a04-149">In terms of general information about your service, you can obtain information in the following ways:</span></span>

* <span data-ttu-id="05a04-150">In the portal, on the service dashboard, through notifications, properties, and status messages.</span><span class="sxs-lookup"><span data-stu-id="05a04-150">In the portal, on the service dashboard, through notifications, properties, and status messages.</span></span>
* <span data-ttu-id="05a04-151">Using [PowerShell](search-manage-powershell.md) or the [Management REST API](https://docs.microsoft.com/rest/api/searchmanagement/) to [get service properties](https://docs.microsoft.com/rest/api/searchmanagement/services), or status on index resource usage.</span><span class="sxs-lookup"><span data-stu-id="05a04-151">Using [PowerShell](search-manage-powershell.md) or the [Management REST API](https://docs.microsoft.com/rest/api/searchmanagement/) to [get service properties](https://docs.microsoft.com/rest/api/searchmanagement/services), or status on index resource usage.</span></span>
* <span data-ttu-id="05a04-152">Via [search traffic analytics](search-traffic-analytics.md), as noted previously.</span><span class="sxs-lookup"><span data-stu-id="05a04-152">Via [search traffic analytics](search-traffic-analytics.md), as noted previously.</span></span>

<a id="manage-keys"></a>

## <a name="manage-api-keys"></a><span data-ttu-id="05a04-153">Manage api-keys</span><span class="sxs-lookup"><span data-stu-id="05a04-153">Manage api-keys</span></span>
<span data-ttu-id="05a04-154">All requests to a search service need an api-key that was generated specifically for your service.</span><span class="sxs-lookup"><span data-stu-id="05a04-154">All requests to a search service need an api-key that was generated specifically for your service.</span></span> <span data-ttu-id="05a04-155">This api-key is the sole mechanism for authenticating access to your search service endpoint.</span><span class="sxs-lookup"><span data-stu-id="05a04-155">This api-key is the sole mechanism for authenticating access to your search service endpoint.</span></span> 

<span data-ttu-id="05a04-156">An api-key is a string composed of randomly generated numbers and letters.</span><span class="sxs-lookup"><span data-stu-id="05a04-156">An api-key is a string composed of randomly generated numbers and letters.</span></span> <span data-ttu-id="05a04-157">It is generated exclusively by your service.</span><span class="sxs-lookup"><span data-stu-id="05a04-157">It is generated exclusively by your service.</span></span> <span data-ttu-id="05a04-158">Through [RBAC permissions](#rbac), you can delete or read the keys, but you can't override a generated key with a user-defined string (specifically, if you have passwords that you routinely use, you can't substitute an api-key with a user-defined password).</span><span class="sxs-lookup"><span data-stu-id="05a04-158">Through [RBAC permissions](#rbac), you can delete or read the keys, but you can't override a generated key with a user-defined string (specifically, if you have passwords that you routinely use, you can't substitute an api-key with a user-defined password).</span></span> 

<span data-ttu-id="05a04-159">Two types of keys are used to access your search service:</span><span class="sxs-lookup"><span data-stu-id="05a04-159">Two types of keys are used to access your search service:</span></span>

* <span data-ttu-id="05a04-160">Admin (valid for any read-write operation against the service)</span><span class="sxs-lookup"><span data-stu-id="05a04-160">Admin (valid for any read-write operation against the service)</span></span>
* <span data-ttu-id="05a04-161">Query (valid for read-only operations such as queries against an index)</span><span class="sxs-lookup"><span data-stu-id="05a04-161">Query (valid for read-only operations such as queries against an index)</span></span>

<span data-ttu-id="05a04-162">An admin api-key is created when the service is provisioned.</span><span class="sxs-lookup"><span data-stu-id="05a04-162">An admin api-key is created when the service is provisioned.</span></span> <span data-ttu-id="05a04-163">There are two admin keys, designated as *primary* and *secondary* to keep them straight, but in fact they are interchangeable.</span><span class="sxs-lookup"><span data-stu-id="05a04-163">There are two admin keys, designated as *primary* and *secondary* to keep them straight, but in fact they are interchangeable.</span></span> <span data-ttu-id="05a04-164">Each service has two admin keys so that you can roll one over without losing access to your service.</span><span class="sxs-lookup"><span data-stu-id="05a04-164">Each service has two admin keys so that you can roll one over without losing access to your service.</span></span> <span data-ttu-id="05a04-165">You can regenerate either admin key, but you cannot add to the total admin key count.</span><span class="sxs-lookup"><span data-stu-id="05a04-165">You can regenerate either admin key, but you cannot add to the total admin key count.</span></span> <span data-ttu-id="05a04-166">There is a maximum of two admin keys per search service.</span><span class="sxs-lookup"><span data-stu-id="05a04-166">There is a maximum of two admin keys per search service.</span></span>

<span data-ttu-id="05a04-167">Query keys are designed for client applications that call Search directly.</span><span class="sxs-lookup"><span data-stu-id="05a04-167">Query keys are designed for client applications that call Search directly.</span></span> <span data-ttu-id="05a04-168">You can create up to 50 query keys.</span><span class="sxs-lookup"><span data-stu-id="05a04-168">You can create up to 50 query keys.</span></span> <span data-ttu-id="05a04-169">In application code, you specify the search URL and a query api-key to allow read-only access to the service.</span><span class="sxs-lookup"><span data-stu-id="05a04-169">In application code, you specify the search URL and a query api-key to allow read-only access to the service.</span></span> <span data-ttu-id="05a04-170">Your application code also specifies the index used by your application.</span><span class="sxs-lookup"><span data-stu-id="05a04-170">Your application code also specifies the index used by your application.</span></span> <span data-ttu-id="05a04-171">Together, the endpoint, an api-key for read-only access, and a target index define the scope and access level of the connection from your client application.</span><span class="sxs-lookup"><span data-stu-id="05a04-171">Together, the endpoint, an api-key for read-only access, and a target index define the scope and access level of the connection from your client application.</span></span>

<span data-ttu-id="05a04-172">To get or regenerate api-keys, open the service dashboard.</span><span class="sxs-lookup"><span data-stu-id="05a04-172">To get or regenerate api-keys, open the service dashboard.</span></span> <span data-ttu-id="05a04-173">Click **KEYS** to slide open the key management page.</span><span class="sxs-lookup"><span data-stu-id="05a04-173">Click **KEYS** to slide open the key management page.</span></span> <span data-ttu-id="05a04-174">Commands for regenerating or creating keys are at the top of the page.</span><span class="sxs-lookup"><span data-stu-id="05a04-174">Commands for regenerating or creating keys are at the top of the page.</span></span> <span data-ttu-id="05a04-175">By default, only admin keys are created.</span><span class="sxs-lookup"><span data-stu-id="05a04-175">By default, only admin keys are created.</span></span> <span data-ttu-id="05a04-176">Query api-keys must be created manually.</span><span class="sxs-lookup"><span data-stu-id="05a04-176">Query api-keys must be created manually.</span></span>

 ![][9]

<a id="rbac"></a>

## <a name="secure-api-keys"></a><span data-ttu-id="05a04-177">Secure api-keys</span><span class="sxs-lookup"><span data-stu-id="05a04-177">Secure api-keys</span></span>
<span data-ttu-id="05a04-178">Key security is ensured by restricting access via the portal or Resource Manager interfaces (PowerShell or command-line interface).</span><span class="sxs-lookup"><span data-stu-id="05a04-178">Key security is ensured by restricting access via the portal or Resource Manager interfaces (PowerShell or command-line interface).</span></span> <span data-ttu-id="05a04-179">As noted, subscription administrators can view and regenerate all api-keys.</span><span class="sxs-lookup"><span data-stu-id="05a04-179">As noted, subscription administrators can view and regenerate all api-keys.</span></span> <span data-ttu-id="05a04-180">As a precaution, review role assignments to understand who has access to the admin keys.</span><span class="sxs-lookup"><span data-stu-id="05a04-180">As a precaution, review role assignments to understand who has access to the admin keys.</span></span>

1. <span data-ttu-id="05a04-181">In the service dashboard, click the Access icon to slide open the Users blade.</span><span class="sxs-lookup"><span data-stu-id="05a04-181">In the service dashboard, click the Access icon to slide open the Users blade.</span></span>
   ![][7]
2. <span data-ttu-id="05a04-182">In Users, review existing role assignments.</span><span class="sxs-lookup"><span data-stu-id="05a04-182">In Users, review existing role assignments.</span></span> <span data-ttu-id="05a04-183">As expected, Subscription admins already have full access to the service via the Owner role.</span><span class="sxs-lookup"><span data-stu-id="05a04-183">As expected, Subscription admins already have full access to the service via the Owner role.</span></span>
3. <span data-ttu-id="05a04-184">To drill further, click **Subscription admins** and then expand the role assignment list to see who has co-administration rights on your search service.</span><span class="sxs-lookup"><span data-stu-id="05a04-184">To drill further, click **Subscription admins** and then expand the role assignment list to see who has co-administration rights on your search service.</span></span>

<span data-ttu-id="05a04-185">Another way to view access permissions is to click **Roles** on the Users blade.</span><span class="sxs-lookup"><span data-stu-id="05a04-185">Another way to view access permissions is to click **Roles** on the Users blade.</span></span> <span data-ttu-id="05a04-186">Doing so displays available roles and the number of users or groups assigned to each role.</span><span class="sxs-lookup"><span data-stu-id="05a04-186">Doing so displays available roles and the number of users or groups assigned to each role.</span></span>

<a id="sub-5"></a>

## <a name="monitor-resource-usage"></a><span data-ttu-id="05a04-187">Monitor resource usage</span><span class="sxs-lookup"><span data-stu-id="05a04-187">Monitor resource usage</span></span>
<span data-ttu-id="05a04-188">In the dashboard, resource monitoring is limited to the information shown in the service dashboard and a few metrics that you can obtain by querying the service.</span><span class="sxs-lookup"><span data-stu-id="05a04-188">In the dashboard, resource monitoring is limited to the information shown in the service dashboard and a few metrics that you can obtain by querying the service.</span></span> <span data-ttu-id="05a04-189">On the service dashboard, in the Usage section, you can quickly determine whether partition resource levels are adequate for your application.</span><span class="sxs-lookup"><span data-stu-id="05a04-189">On the service dashboard, in the Usage section, you can quickly determine whether partition resource levels are adequate for your application.</span></span>

<span data-ttu-id="05a04-190">Using the Search Service API, you can get a count on documents and indexes.</span><span class="sxs-lookup"><span data-stu-id="05a04-190">Using the Search Service API, you can get a count on documents and indexes.</span></span> <span data-ttu-id="05a04-191">There are hard limits associated with these counts based on the pricing tier.</span><span class="sxs-lookup"><span data-stu-id="05a04-191">There are hard limits associated with these counts based on the pricing tier.</span></span> <span data-ttu-id="05a04-192">For more information, see [Search service limits](search-limits-quotas-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="05a04-192">For more information, see [Search service limits](search-limits-quotas-capacity.md).</span></span> 

* [<span data-ttu-id="05a04-193">Get Index Statistics</span><span class="sxs-lookup"><span data-stu-id="05a04-193">Get Index Statistics</span></span>](https://docs.microsoft.com/rest/api/searchservice/Get-Index-Statistics)
* [<span data-ttu-id="05a04-194">Count Documents</span><span class="sxs-lookup"><span data-stu-id="05a04-194">Count Documents</span></span>](https://docs.microsoft.com/rest/api/searchservice/count-documents)

> [!NOTE]
> Caching behaviors can temporarily overstate a limit. For example, when using the shared service, you might see a document count over the hard limit of 10,000 documents. The overstatement is temporary and will be detected on the next limit enforcement check. 
> 
> 

## <a name="disaster-recovery-and-service-outages"></a><span data-ttu-id="05a04-198">Disaster recovery and service outages</span><span class="sxs-lookup"><span data-stu-id="05a04-198">Disaster recovery and service outages</span></span>

<span data-ttu-id="05a04-199">Although we can salvage your data, Azure Search does not provide instant failover of the service if there is an outage at the cluster or data center level.</span><span class="sxs-lookup"><span data-stu-id="05a04-199">Although we can salvage your data, Azure Search does not provide instant failover of the service if there is an outage at the cluster or data center level.</span></span> <span data-ttu-id="05a04-200">If a cluster fails in the data center, the operations team will detect and work to restore service.</span><span class="sxs-lookup"><span data-stu-id="05a04-200">If a cluster fails in the data center, the operations team will detect and work to restore service.</span></span> <span data-ttu-id="05a04-201">You will experience downtime during service restoration.</span><span class="sxs-lookup"><span data-stu-id="05a04-201">You will experience downtime during service restoration.</span></span> <span data-ttu-id="05a04-202">You can request service credits to compensate for service unavailability per the [Service Level Agreement (SLA)](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span><span class="sxs-lookup"><span data-stu-id="05a04-202">You can request service credits to compensate for service unavailability per the [Service Level Agreement (SLA)](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span></span> 

<span data-ttu-id="05a04-203">To ensure continuous service, including catastrophic failures outside of Microsoft’s control, you should [provision an additional service](search-create-service-portal.md) in a different region and implement a geo-replication strategy to ensure indexes are fully redundant across all services.</span><span class="sxs-lookup"><span data-stu-id="05a04-203">To ensure continuous service, including catastrophic failures outside of Microsoft’s control, you should [provision an additional service](search-create-service-portal.md) in a different region and implement a geo-replication strategy to ensure indexes are fully redundant across all services.</span></span>

<span data-ttu-id="05a04-204">Customers who use indexers to populate and refresh indexes handle disaster recovery through geo-specific indexers leveraging the same data source.</span><span class="sxs-lookup"><span data-stu-id="05a04-204">Customers who use indexers to populate and refresh indexes handle disaster recovery through geo-specific indexers leveraging the same data source.</span></span> <span data-ttu-id="05a04-205">In lieu of indexers, you would use your application code to push objects and data to different services in parallel.</span><span class="sxs-lookup"><span data-stu-id="05a04-205">In lieu of indexers, you would use your application code to push objects and data to different services in parallel.</span></span> <span data-ttu-id="05a04-206">For more information, see [Performance and optimization in Azure Search](search-performance-optimization.md).</span><span class="sxs-lookup"><span data-stu-id="05a04-206">For more information, see [Performance and optimization in Azure Search](search-performance-optimization.md).</span></span>

## <a name="backup-and-restore"></a><span data-ttu-id="05a04-207">Backup and restore</span><span class="sxs-lookup"><span data-stu-id="05a04-207">Backup and restore</span></span>

<span data-ttu-id="05a04-208">Because Azure Search is not a primary data storage solution, we do not provide a formal mechanism for self-service backup and restore.</span><span class="sxs-lookup"><span data-stu-id="05a04-208">Because Azure Search is not a primary data storage solution, we do not provide a formal mechanism for self-service backup and restore.</span></span> <span data-ttu-id="05a04-209">Your application code used for creating and populating an index is the de facto restore option if you delete an index by mistake.</span><span class="sxs-lookup"><span data-stu-id="05a04-209">Your application code used for creating and populating an index is the de facto restore option if you delete an index by mistake.</span></span> 

<span data-ttu-id="05a04-210">To rebuild an index, you would delete it (assuming it exists), recreate the index in the service, and reload by retrieving data from your primary data store.</span><span class="sxs-lookup"><span data-stu-id="05a04-210">To rebuild an index, you would delete it (assuming it exists), recreate the index in the service, and reload by retrieving data from your primary data store.</span></span> <span data-ttu-id="05a04-211">Alternatively, you can reach out to [customer support]() to salvage indexes if there is a regional outage.</span><span class="sxs-lookup"><span data-stu-id="05a04-211">Alternatively, you can reach out to [customer support]() to salvage indexes if there is a regional outage.</span></span>


<a id="scale"></a>

## <a name="scale-up-or-down"></a><span data-ttu-id="05a04-212">Scale up or down</span><span class="sxs-lookup"><span data-stu-id="05a04-212">Scale up or down</span></span>
<span data-ttu-id="05a04-213">Every search service starts with a minimum of one replica and one partition.</span><span class="sxs-lookup"><span data-stu-id="05a04-213">Every search service starts with a minimum of one replica and one partition.</span></span> <span data-ttu-id="05a04-214">If you signed up for dedicated resources using the [Basic or Standard pricing tiers](search-limits-quotas-capacity.md), you can click the **SCALE** tile in the service dashboard to adjust the number of partitions and replicas used by your service.</span><span class="sxs-lookup"><span data-stu-id="05a04-214">If you signed up for dedicated resources using the [Basic or Standard pricing tiers](search-limits-quotas-capacity.md), you can click the **SCALE** tile in the service dashboard to adjust the number of partitions and replicas used by your service.</span></span>

<span data-ttu-id="05a04-215">When you add capacity through either resource, the service uses them automatically.</span><span class="sxs-lookup"><span data-stu-id="05a04-215">When you add capacity through either resource, the service uses them automatically.</span></span> <span data-ttu-id="05a04-216">No further action is required on your part, but there will be a slight delay before the impact of the new resource is realized.</span><span class="sxs-lookup"><span data-stu-id="05a04-216">No further action is required on your part, but there will be a slight delay before the impact of the new resource is realized.</span></span> <span data-ttu-id="05a04-217">It can take 15 minutes or more to provision additional resources.</span><span class="sxs-lookup"><span data-stu-id="05a04-217">It can take 15 minutes or more to provision additional resources.</span></span>

 ![][10]

### <a name="add-replicas"></a><span data-ttu-id="05a04-218">Add replicas</span><span class="sxs-lookup"><span data-stu-id="05a04-218">Add replicas</span></span>
<span data-ttu-id="05a04-219">Increasing queries per second (QPS) or achieving high availability is done by adding replicas.</span><span class="sxs-lookup"><span data-stu-id="05a04-219">Increasing queries per second (QPS) or achieving high availability is done by adding replicas.</span></span> <span data-ttu-id="05a04-220">Each replica has one copy of an index, so adding one more replica translates to one more index available for handling service query requests.</span><span class="sxs-lookup"><span data-stu-id="05a04-220">Each replica has one copy of an index, so adding one more replica translates to one more index available for handling service query requests.</span></span> <span data-ttu-id="05a04-221">A minimum of 3 replicas are required for high availability (see [Capacity Planning](search-capacity-planning.md) for details).</span><span class="sxs-lookup"><span data-stu-id="05a04-221">A minimum of 3 replicas are required for high availability (see [Capacity Planning](search-capacity-planning.md) for details).</span></span>

<span data-ttu-id="05a04-222">A search service having more replicas can load balance query requests over a larger number of indexes.</span><span class="sxs-lookup"><span data-stu-id="05a04-222">A search service having more replicas can load balance query requests over a larger number of indexes.</span></span> <span data-ttu-id="05a04-223">Given a level of query volume, query throughput is going to be faster when there are more copies of the index available to service the request.</span><span class="sxs-lookup"><span data-stu-id="05a04-223">Given a level of query volume, query throughput is going to be faster when there are more copies of the index available to service the request.</span></span> <span data-ttu-id="05a04-224">If you are experiencing query latency, you can expect a positive impact on performance once the additional replicas are online.</span><span class="sxs-lookup"><span data-stu-id="05a04-224">If you are experiencing query latency, you can expect a positive impact on performance once the additional replicas are online.</span></span>

<span data-ttu-id="05a04-225">Although query throughput goes up as you add replicas, it does not precisely double or triple as you add replicas to your service.</span><span class="sxs-lookup"><span data-stu-id="05a04-225">Although query throughput goes up as you add replicas, it does not precisely double or triple as you add replicas to your service.</span></span> <span data-ttu-id="05a04-226">All search applications are subject to external factors that can impinge on query performance.</span><span class="sxs-lookup"><span data-stu-id="05a04-226">All search applications are subject to external factors that can impinge on query performance.</span></span> <span data-ttu-id="05a04-227">Complex queries and network latency are two factors that contribute to variations in query response times.</span><span class="sxs-lookup"><span data-stu-id="05a04-227">Complex queries and network latency are two factors that contribute to variations in query response times.</span></span>

### <a name="add-partitions"></a><span data-ttu-id="05a04-228">Add partitions</span><span class="sxs-lookup"><span data-stu-id="05a04-228">Add partitions</span></span>
<span data-ttu-id="05a04-229">Most service applications have a built-in need for more replicas rather than partitions.</span><span class="sxs-lookup"><span data-stu-id="05a04-229">Most service applications have a built-in need for more replicas rather than partitions.</span></span> <span data-ttu-id="05a04-230">For those cases where an increased document count is required, you can add partitions if you signed up for Standard service.</span><span class="sxs-lookup"><span data-stu-id="05a04-230">For those cases where an increased document count is required, you can add partitions if you signed up for Standard service.</span></span> <span data-ttu-id="05a04-231">Basic tier does not provide for additional partitions.</span><span class="sxs-lookup"><span data-stu-id="05a04-231">Basic tier does not provide for additional partitions.</span></span>

<span data-ttu-id="05a04-232">At the Standard tier, partitions are added in multiples of 12 (specifically, 1, 2, 3, 4, 6, or 12).</span><span class="sxs-lookup"><span data-stu-id="05a04-232">At the Standard tier, partitions are added in multiples of 12 (specifically, 1, 2, 3, 4, 6, or 12).</span></span> <span data-ttu-id="05a04-233">This is an artifact of sharding.</span><span class="sxs-lookup"><span data-stu-id="05a04-233">This is an artifact of sharding.</span></span> <span data-ttu-id="05a04-234">An index is created in 12 shards, which can all be stored on 1 partition or equally divided into 2, 3, 4, 6, or 12 partitions (one shard per partition).</span><span class="sxs-lookup"><span data-stu-id="05a04-234">An index is created in 12 shards, which can all be stored on 1 partition or equally divided into 2, 3, 4, 6, or 12 partitions (one shard per partition).</span></span>

### <a name="remove-replicas"></a><span data-ttu-id="05a04-235">Remove replicas</span><span class="sxs-lookup"><span data-stu-id="05a04-235">Remove replicas</span></span>
<span data-ttu-id="05a04-236">After periods of high query volumes, you will most likely reduce replicas after search query loads have normalized (for example, after holiday sales are over).</span><span class="sxs-lookup"><span data-stu-id="05a04-236">After periods of high query volumes, you will most likely reduce replicas after search query loads have normalized (for example, after holiday sales are over).</span></span>

<span data-ttu-id="05a04-237">To do this, move the replica slider back to a lower number.</span><span class="sxs-lookup"><span data-stu-id="05a04-237">To do this, move the replica slider back to a lower number.</span></span> <span data-ttu-id="05a04-238">There are no further steps required on your part.</span><span class="sxs-lookup"><span data-stu-id="05a04-238">There are no further steps required on your part.</span></span> <span data-ttu-id="05a04-239">Lowering the replica count relinquishes virtual machines in the data center.</span><span class="sxs-lookup"><span data-stu-id="05a04-239">Lowering the replica count relinquishes virtual machines in the data center.</span></span> <span data-ttu-id="05a04-240">Your query and data ingestion operations will now run on fewer VMs than before.</span><span class="sxs-lookup"><span data-stu-id="05a04-240">Your query and data ingestion operations will now run on fewer VMs than before.</span></span> <span data-ttu-id="05a04-241">The minimum limit is one replica.</span><span class="sxs-lookup"><span data-stu-id="05a04-241">The minimum limit is one replica.</span></span>

### <a name="remove-partitions"></a><span data-ttu-id="05a04-242">Remove partitions</span><span class="sxs-lookup"><span data-stu-id="05a04-242">Remove partitions</span></span>
<span data-ttu-id="05a04-243">In contrast with removing replicas, which requires no extra effort on your part, you might have some work to do if you are using more storage than can be reduced.</span><span class="sxs-lookup"><span data-stu-id="05a04-243">In contrast with removing replicas, which requires no extra effort on your part, you might have some work to do if you are using more storage than can be reduced.</span></span> <span data-ttu-id="05a04-244">For example, if your solution is using three partitions, downsizing to one or two partitions will generate an error if the new storage space is less than required.</span><span class="sxs-lookup"><span data-stu-id="05a04-244">For example, if your solution is using three partitions, downsizing to one or two partitions will generate an error if the new storage space is less than required.</span></span> <span data-ttu-id="05a04-245">As you might expect, your choices are to delete indexes or documents within an associated index to free up space, or keep the current configuration.</span><span class="sxs-lookup"><span data-stu-id="05a04-245">As you might expect, your choices are to delete indexes or documents within an associated index to free up space, or keep the current configuration.</span></span>

<span data-ttu-id="05a04-246">There is no detection method that tells you which index shards are stored on specific partitions.</span><span class="sxs-lookup"><span data-stu-id="05a04-246">There is no detection method that tells you which index shards are stored on specific partitions.</span></span> <span data-ttu-id="05a04-247">Each partition provides approximately 25 GB in storage, so you will need to reduce storage to a size that can be accommodated by the number of partitions you have.</span><span class="sxs-lookup"><span data-stu-id="05a04-247">Each partition provides approximately 25 GB in storage, so you will need to reduce storage to a size that can be accommodated by the number of partitions you have.</span></span> <span data-ttu-id="05a04-248">If you want to revert to one partition, all 12 shards will need to fit.</span><span class="sxs-lookup"><span data-stu-id="05a04-248">If you want to revert to one partition, all 12 shards will need to fit.</span></span>

<span data-ttu-id="05a04-249">To help with future planning, you might want to check storage (using [Get Index Statistics](https://docs.microsoft.com/rest/api/searchservice/Get-Index-Statistics)) to see how much you actually used.</span><span class="sxs-lookup"><span data-stu-id="05a04-249">To help with future planning, you might want to check storage (using [Get Index Statistics](https://docs.microsoft.com/rest/api/searchservice/Get-Index-Statistics)) to see how much you actually used.</span></span> 

<a id="advanced-deployment"></a>

## <a name="best-practices-on-scale-and-deployment"></a><span data-ttu-id="05a04-250">Best practices on scale and deployment</span><span class="sxs-lookup"><span data-stu-id="05a04-250">Best practices on scale and deployment</span></span>
<span data-ttu-id="05a04-251">This 30-minute video reviews best practices for advanced deployment scenarios, including geo-distributed workloads.</span><span class="sxs-lookup"><span data-stu-id="05a04-251">This 30-minute video reviews best practices for advanced deployment scenarios, including geo-distributed workloads.</span></span> <span data-ttu-id="05a04-252">You can also see [Performance and optimization in Azure Search](search-performance-optimization.md) for help pages that cover the same points.</span><span class="sxs-lookup"><span data-stu-id="05a04-252">You can also see [Performance and optimization in Azure Search](search-performance-optimization.md) for help pages that cover the same points.</span></span>

> [!VIDEO https://channel9.msdn.com/Events/Microsoft-Azure/AzureCon-2015/ACON319/player]
> 
> 

<a id="next-steps"></a>

## <a name="next-steps"></a><span data-ttu-id="05a04-253">Next steps</span><span class="sxs-lookup"><span data-stu-id="05a04-253">Next steps</span></span>
<span data-ttu-id="05a04-254">Once you understand the kinds of operations pertaining to service administration, consider the various approaches for service management:</span><span class="sxs-lookup"><span data-stu-id="05a04-254">Once you understand the kinds of operations pertaining to service administration, consider the various approaches for service management:</span></span>

* [<span data-ttu-id="05a04-255">PowerShell</span><span class="sxs-lookup"><span data-stu-id="05a04-255">PowerShell</span></span>](search-manage-powershell.md)

<span data-ttu-id="05a04-256">Also, if you haven't done so already, look at the [performance and optimization article](search-performance-optimization.md), and optionally watch the video noted in the previous section for more depth and demonstrations of recommended techniques.</span><span class="sxs-lookup"><span data-stu-id="05a04-256">Also, if you haven't done so already, look at the [performance and optimization article](search-performance-optimization.md), and optionally watch the video noted in the previous section for more depth and demonstrations of recommended techniques.</span></span>

<!--Image references-->
[7]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/search/media/search-manage/rbac-icon.png
[8]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/search/media/search-manage/Azure-Search-Manage-1-URL.png
[9]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/search/media/search-manage/Azure-Search-Manage-2-Keys.png
[10]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/search/media/search-manage/Azure-Search-Manage-3-ScaleUp.png







