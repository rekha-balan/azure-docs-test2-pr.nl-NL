---
title: Securing PaaS web and mobile applications using SQL Database and SQL Data Warehouse | Microsoft Docs
description: " Learn about Azure SQL Database and SQL Data Warehouse security best practices for securing your PaaS web and mobile applications. "
services: security
documentationcenter: na
author: techlake
manager: MBaldwin
editor: ''
ms.assetid: ''
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 03/21/2017
ms.author: terrylan
ms.openlocfilehash: be00c1427d57b96506ec8b0ac881b7c1bd09e4de
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44671325"
---
# <a name="securing-paas-web-and-mobile-applications-using-sql-database-and-sql-data-warehouse"></a><span data-ttu-id="0595e-103">Securing PaaS web and mobile applications using SQL Database and SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="0595e-103">Securing PaaS web and mobile applications using SQL Database and SQL Data Warehouse</span></span>

<span data-ttu-id="0595e-104">In this article, we discuss a collection of [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) and [SQL Data Warehouse](https://azure.microsoft.com/services/sql-data-warehouse/) security best practices for securing your PaaS web and mobile applications.</span><span class="sxs-lookup"><span data-stu-id="0595e-104">In this article, we discuss a collection of [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) and [SQL Data Warehouse](https://azure.microsoft.com/services/sql-data-warehouse/) security best practices for securing your PaaS web and mobile applications.</span></span> <span data-ttu-id="0595e-105">These best practices are derived from our experience with Azure and the experiences of customers like yourself.</span><span class="sxs-lookup"><span data-stu-id="0595e-105">These best practices are derived from our experience with Azure and the experiences of customers like yourself.</span></span>

## <a name="azure-sql-database-and-sql-data-warehouse"></a><span data-ttu-id="0595e-106">Azure SQL Database and SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="0595e-106">Azure SQL Database and SQL Data Warehouse</span></span>
<span data-ttu-id="0595e-107">[Azure SQL Database](../sql-database/sql-database-technical-overview.md) and [SQL Data Warehouse](../sql-data-warehouse/sql-data-warehouse-overview-what-is.md) provide a relational database service for your Internet-based applications.</span><span class="sxs-lookup"><span data-stu-id="0595e-107">[Azure SQL Database](../sql-database/sql-database-technical-overview.md) and [SQL Data Warehouse](../sql-data-warehouse/sql-data-warehouse-overview-what-is.md) provide a relational database service for your Internet-based applications.</span></span> <span data-ttu-id="0595e-108">Let’s look at services that help protect your applications and data when using Azure SQL Database and SQL Data Warehouse in a PaaS deployment:</span><span class="sxs-lookup"><span data-stu-id="0595e-108">Let’s look at services that help protect your applications and data when using Azure SQL Database and SQL Data Warehouse in a PaaS deployment:</span></span>

- <span data-ttu-id="0595e-109">Azure Active Directory authentication (instead of SQL Server authentication)</span><span class="sxs-lookup"><span data-stu-id="0595e-109">Azure Active Directory authentication (instead of SQL Server authentication)</span></span>
- <span data-ttu-id="0595e-110">Azure SQL firewall</span><span class="sxs-lookup"><span data-stu-id="0595e-110">Azure SQL firewall</span></span>
- <span data-ttu-id="0595e-111">Transparent Data Encryption (TDE)</span><span class="sxs-lookup"><span data-stu-id="0595e-111">Transparent Data Encryption (TDE)</span></span>

## <a name="best-practices"></a><span data-ttu-id="0595e-112">Best practices</span><span class="sxs-lookup"><span data-stu-id="0595e-112">Best practices</span></span>

### <a name="use-a-centralized-identity-repository-for-authentication-and-authorization"></a><span data-ttu-id="0595e-113">Use a centralized identity repository for authentication and authorization</span><span class="sxs-lookup"><span data-stu-id="0595e-113">Use a centralized identity repository for authentication and authorization</span></span>

<span data-ttu-id="0595e-114">Azure SQL databases can be configured to use one of two types of authentication:</span><span class="sxs-lookup"><span data-stu-id="0595e-114">Azure SQL databases can be configured to use one of two types of authentication:</span></span>

- <span data-ttu-id="0595e-115">**SQL Authentication** uses a username and password.</span><span class="sxs-lookup"><span data-stu-id="0595e-115">**SQL Authentication** uses a username and password.</span></span> <span data-ttu-id="0595e-116">When you created the logical server for your database, you specified a "server admin" login with a username and password.</span><span class="sxs-lookup"><span data-stu-id="0595e-116">When you created the logical server for your database, you specified a "server admin" login with a username and password.</span></span> <span data-ttu-id="0595e-117">Using these credentials, you can authenticate to any database on that server as the database owner.</span><span class="sxs-lookup"><span data-stu-id="0595e-117">Using these credentials, you can authenticate to any database on that server as the database owner.</span></span>

- <span data-ttu-id="0595e-118">**Azure Active Directory Authentication** uses identities managed by Azure Active Directory and is supported for managed and integrated domains.</span><span class="sxs-lookup"><span data-stu-id="0595e-118">**Azure Active Directory Authentication** uses identities managed by Azure Active Directory and is supported for managed and integrated domains.</span></span> <span data-ttu-id="0595e-119">To use Azure Active Directory Authentication, you must create another server admin called the "Azure AD admin," which is allowed to administer Azure AD users and groups.</span><span class="sxs-lookup"><span data-stu-id="0595e-119">To use Azure Active Directory Authentication, you must create another server admin called the "Azure AD admin," which is allowed to administer Azure AD users and groups.</span></span> <span data-ttu-id="0595e-120">This admin can also perform all operations that a regular server admin can.</span><span class="sxs-lookup"><span data-stu-id="0595e-120">This admin can also perform all operations that a regular server admin can.</span></span>

<span data-ttu-id="0595e-121">[Azure Active Directory authentication](../active-directory/develop/active-directory-authentication-scenarios.md) is a mechanism of connecting to Azure SQL Database and SQL Data Warehouse by using identities in Azure Active Directory (AD).</span><span class="sxs-lookup"><span data-stu-id="0595e-121">[Azure Active Directory authentication](../active-directory/develop/active-directory-authentication-scenarios.md) is a mechanism of connecting to Azure SQL Database and SQL Data Warehouse by using identities in Azure Active Directory (AD).</span></span> <span data-ttu-id="0595e-122">Azure AD provides an alternative to SQL Server authentication so you can stop the proliferation of user identities across database servers.</span><span class="sxs-lookup"><span data-stu-id="0595e-122">Azure AD provides an alternative to SQL Server authentication so you can stop the proliferation of user identities across database servers.</span></span> <span data-ttu-id="0595e-123">Azure AD authentication enables you to centrally manage the identities of database users and other Microsoft services in one central location.</span><span class="sxs-lookup"><span data-stu-id="0595e-123">Azure AD authentication enables you to centrally manage the identities of database users and other Microsoft services in one central location.</span></span> <span data-ttu-id="0595e-124">Central ID management provides a single place to manage database users and simplifies permission management.</span><span class="sxs-lookup"><span data-stu-id="0595e-124">Central ID management provides a single place to manage database users and simplifies permission management.</span></span>  

<span data-ttu-id="0595e-125">Benefits of using Azure AD authentication instead of SQL authentication include:</span><span class="sxs-lookup"><span data-stu-id="0595e-125">Benefits of using Azure AD authentication instead of SQL authentication include:</span></span>

- <span data-ttu-id="0595e-126">Allows password rotation in a single place.</span><span class="sxs-lookup"><span data-stu-id="0595e-126">Allows password rotation in a single place.</span></span>
- <span data-ttu-id="0595e-127">Manages database permissions using external Azure AD groups.</span><span class="sxs-lookup"><span data-stu-id="0595e-127">Manages database permissions using external Azure AD groups.</span></span>
- <span data-ttu-id="0595e-128">Eliminates storing passwords by enabling integrated Windows authentication and other forms of authentication supported by Azure AD.</span><span class="sxs-lookup"><span data-stu-id="0595e-128">Eliminates storing passwords by enabling integrated Windows authentication and other forms of authentication supported by Azure AD.</span></span>
- <span data-ttu-id="0595e-129">Uses contained database users to authenticate identities at the database level.</span><span class="sxs-lookup"><span data-stu-id="0595e-129">Uses contained database users to authenticate identities at the database level.</span></span>
- <span data-ttu-id="0595e-130">Supports token-based authentication for applications connecting to SQL Database.</span><span class="sxs-lookup"><span data-stu-id="0595e-130">Supports token-based authentication for applications connecting to SQL Database.</span></span>
- <span data-ttu-id="0595e-131">Supports ADFS (domain federation) or native user/password authentication for a local Azure AD without domain synchronization.</span><span class="sxs-lookup"><span data-stu-id="0595e-131">Supports ADFS (domain federation) or native user/password authentication for a local Azure AD without domain synchronization.</span></span>
- <span data-ttu-id="0595e-132">Supports connections from SQL Server Management Studio that use Active Directory Universal Authentication, which includes [Multi-Factor Authentication (MFA)](../multi-factor-authentication/multi-factor-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="0595e-132">Supports connections from SQL Server Management Studio that use Active Directory Universal Authentication, which includes [Multi-Factor Authentication (MFA)](../multi-factor-authentication/multi-factor-authentication.md).</span></span> <span data-ttu-id="0595e-133">MFA includes strong authentication with a range of easy verification options — phone call, text message, smart cards with pin, or mobile app notification.</span><span class="sxs-lookup"><span data-stu-id="0595e-133">MFA includes strong authentication with a range of easy verification options — phone call, text message, smart cards with pin, or mobile app notification.</span></span> <span data-ttu-id="0595e-134">For more information, see [SSMS support for Azure AD MFA with SQL Database and SQL Data Warehouse](../sql-database/sql-database-ssms-mfa-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="0595e-134">For more information, see [SSMS support for Azure AD MFA with SQL Database and SQL Data Warehouse](../sql-database/sql-database-ssms-mfa-authentication.md).</span></span>

<span data-ttu-id="0595e-135">To learn more about Azure AD authentication, see:</span><span class="sxs-lookup"><span data-stu-id="0595e-135">To learn more about Azure AD authentication, see:</span></span>

- [<span data-ttu-id="0595e-136">Connecting to SQL Database or SQL Data Warehouse By Using Azure Active Directory Authentication</span><span class="sxs-lookup"><span data-stu-id="0595e-136">Connecting to SQL Database or SQL Data Warehouse By Using Azure Active Directory Authentication</span></span>](../sql-database/sql-database-aad-authentication.md)
- [<span data-ttu-id="0595e-137">Authentication to Azure SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="0595e-137">Authentication to Azure SQL Data Warehouse</span></span>](../sql-data-warehouse/sql-data-warehouse-authentication.md)
- [<span data-ttu-id="0595e-138">Token-based authentication support for Azure SQL DB using Azure AD authentication</span><span class="sxs-lookup"><span data-stu-id="0595e-138">Token-based authentication support for Azure SQL DB using Azure AD authentication</span></span>](https://blogs.msdn.microsoft.com/sqlsecurity/2016/02/09/token-based-authentication-support-for-azure-sql-db-using-azure-ad-auth/)

> [!NOTE]
> <span data-ttu-id="0595e-139">To ensure that Azure Active Directory is a good fit for your environment, see [Azure AD features and limitations](../sql-database/sql-database-aad-authentication.md#azure-ad-features-and-limitations), specifically the additional considerations.</span><span class="sxs-lookup"><span data-stu-id="0595e-139">To ensure that Azure Active Directory is a good fit for your environment, see [Azure AD features and limitations](../sql-database/sql-database-aad-authentication.md#azure-ad-features-and-limitations), specifically the additional considerations.</span></span>
>
>

### <a name="restrict-access-based-on-ip-address"></a><span data-ttu-id="0595e-140">Restrict Access based on IP Address</span><span class="sxs-lookup"><span data-stu-id="0595e-140">Restrict Access based on IP Address</span></span>
<span data-ttu-id="0595e-141">You can create firewall rules that specify ranges of acceptable IP addresses.</span><span class="sxs-lookup"><span data-stu-id="0595e-141">You can create firewall rules that specify ranges of acceptable IP addresses.</span></span> <span data-ttu-id="0595e-142">These rules can be targeted at both the server and database levels.</span><span class="sxs-lookup"><span data-stu-id="0595e-142">These rules can be targeted at both the server and database levels.</span></span> <span data-ttu-id="0595e-143">We recommend using database-level firewall rules whenever possible to enhance security and to make your database more portable.</span><span class="sxs-lookup"><span data-stu-id="0595e-143">We recommend using database-level firewall rules whenever possible to enhance security and to make your database more portable.</span></span> <span data-ttu-id="0595e-144">Server-level firewall rules are best used for administrators and when you have many databases that have the same access requirements but you don't want to spend time configuring each database individually.</span><span class="sxs-lookup"><span data-stu-id="0595e-144">Server-level firewall rules are best used for administrators and when you have many databases that have the same access requirements but you don't want to spend time configuring each database individually.</span></span>

<span data-ttu-id="0595e-145">SQL Database’s default source IP address restrictions allow access from any Azure address (including other subscriptions and tenants).</span><span class="sxs-lookup"><span data-stu-id="0595e-145">SQL Database’s default source IP address restrictions allow access from any Azure address (including other subscriptions and tenants).</span></span> <span data-ttu-id="0595e-146">You can restrict this to only allow your IP addresses to access the instance.</span><span class="sxs-lookup"><span data-stu-id="0595e-146">You can restrict this to only allow your IP addresses to access the instance.</span></span> <span data-ttu-id="0595e-147">Even with your SQL firewall and IP address restrictions, strong authentication is still needed.</span><span class="sxs-lookup"><span data-stu-id="0595e-147">Even with your SQL firewall and IP address restrictions, strong authentication is still needed.</span></span> <span data-ttu-id="0595e-148">See the recommendations made earlier in this article.</span><span class="sxs-lookup"><span data-stu-id="0595e-148">See the recommendations made earlier in this article.</span></span>

<span data-ttu-id="0595e-149">To learn more about Azure SQL Firewall and IP restrictions, see:</span><span class="sxs-lookup"><span data-stu-id="0595e-149">To learn more about Azure SQL Firewall and IP restrictions, see:</span></span>

- [<span data-ttu-id="0595e-150">Azure SQL Database access control</span><span class="sxs-lookup"><span data-stu-id="0595e-150">Azure SQL Database access control</span></span>](../sql-database/sql-database-control-access.md)
- [<span data-ttu-id="0595e-151">Configure Azure SQL Database firewall rules - overview</span><span class="sxs-lookup"><span data-stu-id="0595e-151">Configure Azure SQL Database firewall rules - overview</span></span>](../sql-database/sql-database-firewall-configure.md)
- [<span data-ttu-id="0595e-152">Configure an Azure SQL Database server-level firewall rule using the Azure portal</span><span class="sxs-lookup"><span data-stu-id="0595e-152">Configure an Azure SQL Database server-level firewall rule using the Azure portal</span></span>](../sql-database/sql-database-configure-firewall-settings.md)

### <a name="encryption-of-data-at-rest"></a><span data-ttu-id="0595e-153">Encryption of data at rest</span><span class="sxs-lookup"><span data-stu-id="0595e-153">Encryption of data at rest</span></span>
<span data-ttu-id="0595e-154">[Transparent Data Encryption (TDE)](https://msdn.microsoft.com/library/azure/bb934049) encrypts SQL Server, Azure SQL Database, and Azure SQL Data Warehouse data files, known as encrypting data at rest.</span><span class="sxs-lookup"><span data-stu-id="0595e-154">[Transparent Data Encryption (TDE)](https://msdn.microsoft.com/library/azure/bb934049) encrypts SQL Server, Azure SQL Database, and Azure SQL Data Warehouse data files, known as encrypting data at rest.</span></span> <span data-ttu-id="0595e-155">You can take several precautions to help secure the database such as designing a secure system, encrypting confidential assets, and building a firewall around the database servers.</span><span class="sxs-lookup"><span data-stu-id="0595e-155">You can take several precautions to help secure the database such as designing a secure system, encrypting confidential assets, and building a firewall around the database servers.</span></span> <span data-ttu-id="0595e-156">However, in a scenario where the physical media (such as drives or backup tapes) are stolen, a malicious party can restore or attach the database and browse the data.</span><span class="sxs-lookup"><span data-stu-id="0595e-156">However, in a scenario where the physical media (such as drives or backup tapes) are stolen, a malicious party can restore or attach the database and browse the data.</span></span> <span data-ttu-id="0595e-157">One solution is to encrypt the sensitive data in the database and protect the keys that are used to encrypt the data with a certificate.</span><span class="sxs-lookup"><span data-stu-id="0595e-157">One solution is to encrypt the sensitive data in the database and protect the keys that are used to encrypt the data with a certificate.</span></span> <span data-ttu-id="0595e-158">This prevents anyone without the keys from using the data but this kind of protection must be planned in advance.</span><span class="sxs-lookup"><span data-stu-id="0595e-158">This prevents anyone without the keys from using the data but this kind of protection must be planned in advance.</span></span>

<span data-ttu-id="0595e-159">TDE protects data at rest, meaning the data and log files.</span><span class="sxs-lookup"><span data-stu-id="0595e-159">TDE protects data at rest, meaning the data and log files.</span></span> <span data-ttu-id="0595e-160">It provides the ability to comply with many laws, regulations, and guidelines established in various industries.</span><span class="sxs-lookup"><span data-stu-id="0595e-160">It provides the ability to comply with many laws, regulations, and guidelines established in various industries.</span></span> <span data-ttu-id="0595e-161">This enables software developers to encrypt data by using industry standard encryption algorithms without changing existing applications.</span><span class="sxs-lookup"><span data-stu-id="0595e-161">This enables software developers to encrypt data by using industry standard encryption algorithms without changing existing applications.</span></span>

<span data-ttu-id="0595e-162">TDE should be used if regulations explicitly specify such encryption.</span><span class="sxs-lookup"><span data-stu-id="0595e-162">TDE should be used if regulations explicitly specify such encryption.</span></span> <span data-ttu-id="0595e-163">Be aware, though, that this will not stop an attacker using the normal access path.</span><span class="sxs-lookup"><span data-stu-id="0595e-163">Be aware, though, that this will not stop an attacker using the normal access path.</span></span> <span data-ttu-id="0595e-164">TDE is used to protect against the highly unlikely case that you might need to use additional application level encryption, either through Azure SQL provided encryption against rows and columns or through application level encryption.</span><span class="sxs-lookup"><span data-stu-id="0595e-164">TDE is used to protect against the highly unlikely case that you might need to use additional application level encryption, either through Azure SQL provided encryption against rows and columns or through application level encryption.</span></span>

<span data-ttu-id="0595e-165">Application level encryption should also be used for selective data.</span><span class="sxs-lookup"><span data-stu-id="0595e-165">Application level encryption should also be used for selective data.</span></span> <span data-ttu-id="0595e-166">Data sovereignty concerns can be mitigated by encrypting data with a key that is kept in the correct country.</span><span class="sxs-lookup"><span data-stu-id="0595e-166">Data sovereignty concerns can be mitigated by encrypting data with a key that is kept in the correct country.</span></span> <span data-ttu-id="0595e-167">This prevents even accidental data transfer from causing an issue since it will be impossible to decrypt the data without the key, assuming a strong algorithm is used (such as AES 256).</span><span class="sxs-lookup"><span data-stu-id="0595e-167">This prevents even accidental data transfer from causing an issue since it will be impossible to decrypt the data without the key, assuming a strong algorithm is used (such as AES 256).</span></span>

<span data-ttu-id="0595e-168">Azure SQL provided encryption against rows and columns can be done to only allow authorized ([RBAC](../active-directory/role-based-access-built-in-roles.md)) users access and prevents lower privileged users to see the columns or rows.</span><span class="sxs-lookup"><span data-stu-id="0595e-168">Azure SQL provided encryption against rows and columns can be done to only allow authorized ([RBAC](../active-directory/role-based-access-built-in-roles.md)) users access and prevents lower privileged users to see the columns or rows.</span></span>

## <a name="next-steps"></a><span data-ttu-id="0595e-169">Next steps</span><span class="sxs-lookup"><span data-stu-id="0595e-169">Next steps</span></span>
<span data-ttu-id="0595e-170">This article introduced you to a collection of SQL Database and SQL Data Warehouse security best practices for securing your PaaS web and mobile applications.</span><span class="sxs-lookup"><span data-stu-id="0595e-170">This article introduced you to a collection of SQL Database and SQL Data Warehouse security best practices for securing your PaaS web and mobile applications.</span></span> <span data-ttu-id="0595e-171">To learn more about securing your PaaS deployments, see:</span><span class="sxs-lookup"><span data-stu-id="0595e-171">To learn more about securing your PaaS deployments, see:</span></span>

- [<span data-ttu-id="0595e-172">Securing PaaS deployments</span><span class="sxs-lookup"><span data-stu-id="0595e-172">Securing PaaS deployments</span></span>](security-paas-deployments.md)
- [<span data-ttu-id="0595e-173">Securing PaaS web and mobile applications using Azure App Services</span><span class="sxs-lookup"><span data-stu-id="0595e-173">Securing PaaS web and mobile applications using Azure App Services</span></span>](security-paas-applications-using-app-services.md)
