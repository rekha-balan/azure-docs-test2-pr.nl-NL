---
title: Directory integration between Azure Multi-Factor Authentication and Active Directory
description: This is the Azure Multi-factor authentication page that describes how to integrate the Azure Multi-Factor Authentication Server with Active Directory so you can synchronize the directories.
services: multi-factor-authentication
documentationcenter: ''
author: kgremban
manager: femila
editor: yossib
ms.assetid: def7a534-cfb2-492a-9124-87fb1148ab1f
ms.service: multi-factor-authentication
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 02/16/2017
ms.author: kgremban
ms.openlocfilehash: 6bf0e2ad2e004d32f09c4b6138dbe807303ca8fb
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44553237"
---
# <a name="directory-integration-between-azure-mfa-server-and-active-directory"></a><span data-ttu-id="565cf-103">Directory integration between Azure MFA Server and Active Directory</span><span class="sxs-lookup"><span data-stu-id="565cf-103">Directory integration between Azure MFA Server and Active Directory</span></span>
<span data-ttu-id="565cf-104">Use the Directory Integration section of the Azure MFA Server to integrate with Active Directory or another LDAP directory.</span><span class="sxs-lookup"><span data-stu-id="565cf-104">Use the Directory Integration section of the Azure MFA Server to integrate with Active Directory or another LDAP directory.</span></span> <span data-ttu-id="565cf-105">You can configure attributes to match the directory schema and set up automatic user synchronization.</span><span class="sxs-lookup"><span data-stu-id="565cf-105">You can configure attributes to match the directory schema and set up automatic user synchronization.</span></span>

## <a name="settings"></a><span data-ttu-id="565cf-106">Settings</span><span class="sxs-lookup"><span data-stu-id="565cf-106">Settings</span></span>
<span data-ttu-id="565cf-107">By default, the Azure Multi-Factor Authentication (MFA) Server is configured to import or synchronize users from Active Directory.</span><span class="sxs-lookup"><span data-stu-id="565cf-107">By default, the Azure Multi-Factor Authentication (MFA) Server is configured to import or synchronize users from Active Directory.</span></span>  <span data-ttu-id="565cf-108">The Directory Integration tab allows you to override the default behavior and to bind to a different LDAP directory, an ADAM directory, or specific Active Directory domain controller.</span><span class="sxs-lookup"><span data-stu-id="565cf-108">The Directory Integration tab allows you to override the default behavior and to bind to a different LDAP directory, an ADAM directory, or specific Active Directory domain controller.</span></span>  <span data-ttu-id="565cf-109">It also provides for the use of LDAP Authentication to proxy LDAP or for LDAP Bind as a RADIUS target, pre-authentication for IIS Authentication, or primary authentication for User Portal.</span><span class="sxs-lookup"><span data-stu-id="565cf-109">It also provides for the use of LDAP Authentication to proxy LDAP or for LDAP Bind as a RADIUS target, pre-authentication for IIS Authentication, or primary authentication for User Portal.</span></span>  <span data-ttu-id="565cf-110">The following table describes the individual settings.</span><span class="sxs-lookup"><span data-stu-id="565cf-110">The following table describes the individual settings.</span></span>

![Settings](https://docstestmedia1.blob.core.windows.net/azure-media/articles/multi-factor-authentication/media/multi-factor-authentication-get-started-server-dirint/dirint.png)

| <span data-ttu-id="565cf-112">Feature</span><span class="sxs-lookup"><span data-stu-id="565cf-112">Feature</span></span> | <span data-ttu-id="565cf-113">Description</span><span class="sxs-lookup"><span data-stu-id="565cf-113">Description</span></span> |
| --- | --- |
| <span data-ttu-id="565cf-114">Use Active Directory</span><span class="sxs-lookup"><span data-stu-id="565cf-114">Use Active Directory</span></span> |<span data-ttu-id="565cf-115">Select the Use Active Directory option to use Active Directory for importing and synchronization.</span><span class="sxs-lookup"><span data-stu-id="565cf-115">Select the Use Active Directory option to use Active Directory for importing and synchronization.</span></span>  <span data-ttu-id="565cf-116">This is the default setting.</span><span class="sxs-lookup"><span data-stu-id="565cf-116">This is the default setting.</span></span> <br><span data-ttu-id="565cf-117">Note: For Active Directory integration to work properly,join the computer to a domain and sign in with a domain account.</span><span class="sxs-lookup"><span data-stu-id="565cf-117">Note: For Active Directory integration to work properly,join the computer to a domain and sign in with a domain account.</span></span> |
| <span data-ttu-id="565cf-118">Include trusted domains</span><span class="sxs-lookup"><span data-stu-id="565cf-118">Include trusted domains</span></span> |<span data-ttu-id="565cf-119">Check **Include Trusted Domains** to have the agent attempt to connect to domains trusted by the current domain, another domain in the forest, or domains involved in a forest trust.</span><span class="sxs-lookup"><span data-stu-id="565cf-119">Check **Include Trusted Domains** to have the agent attempt to connect to domains trusted by the current domain, another domain in the forest, or domains involved in a forest trust.</span></span>  <span data-ttu-id="565cf-120">When not importing or synchronizing users from any of the trusted domains, uncheck the checkbox to improve performance.</span><span class="sxs-lookup"><span data-stu-id="565cf-120">When not importing or synchronizing users from any of the trusted domains, uncheck the checkbox to improve performance.</span></span>  <span data-ttu-id="565cf-121">The default is checked.</span><span class="sxs-lookup"><span data-stu-id="565cf-121">The default is checked.</span></span> |
| <span data-ttu-id="565cf-122">Use specific LDAP configuration</span><span class="sxs-lookup"><span data-stu-id="565cf-122">Use specific LDAP configuration</span></span> |<span data-ttu-id="565cf-123">Select the Use LDAP option to use the LDAP settings specified for importing and synchronization.</span><span class="sxs-lookup"><span data-stu-id="565cf-123">Select the Use LDAP option to use the LDAP settings specified for importing and synchronization.</span></span> <span data-ttu-id="565cf-124">Note: When Use LDAP is selected, the user interface changes references from Active Directory to LDAP.</span><span class="sxs-lookup"><span data-stu-id="565cf-124">Note: When Use LDAP is selected, the user interface changes references from Active Directory to LDAP.</span></span> |
| <span data-ttu-id="565cf-125">Edit button</span><span class="sxs-lookup"><span data-stu-id="565cf-125">Edit button</span></span> |<span data-ttu-id="565cf-126">The Edit button allows the current LDAP configuration settings to modified.</span><span class="sxs-lookup"><span data-stu-id="565cf-126">The Edit button allows the current LDAP configuration settings to modified.</span></span> |
| <span data-ttu-id="565cf-127">Use attribute scope queries</span><span class="sxs-lookup"><span data-stu-id="565cf-127">Use attribute scope queries</span></span> |<span data-ttu-id="565cf-128">Indicates whether attribute scope queries should be used.</span><span class="sxs-lookup"><span data-stu-id="565cf-128">Indicates whether attribute scope queries should be used.</span></span>  <span data-ttu-id="565cf-129">Attribute scope queries allow for efficient directory searches qualifying records based on the entries in another record's attribute.</span><span class="sxs-lookup"><span data-stu-id="565cf-129">Attribute scope queries allow for efficient directory searches qualifying records based on the entries in another record's attribute.</span></span>  <span data-ttu-id="565cf-130">The Azure Multi-Factor Authentication Server uses attribute scope queries to efficiently query the users that are a member of a security group.</span><span class="sxs-lookup"><span data-stu-id="565cf-130">The Azure Multi-Factor Authentication Server uses attribute scope queries to efficiently query the users that are a member of a security group.</span></span>   <br><span data-ttu-id="565cf-131">Note:  There are some cases where attribute scope queries are supported, but shouldn't be used.</span><span class="sxs-lookup"><span data-stu-id="565cf-131">Note:  There are some cases where attribute scope queries are supported, but shouldn't be used.</span></span>  <span data-ttu-id="565cf-132">For example, Active Directory can have issues with attribute scope queries when a security group contains members from more than one domain.</span><span class="sxs-lookup"><span data-stu-id="565cf-132">For example, Active Directory can have issues with attribute scope queries when a security group contains members from more than one domain.</span></span> <span data-ttu-id="565cf-133">In this case, unselect the checkbox.</span><span class="sxs-lookup"><span data-stu-id="565cf-133">In this case, unselect the checkbox.</span></span> |

<span data-ttu-id="565cf-134">The following table describes the LDAP configuration settings.</span><span class="sxs-lookup"><span data-stu-id="565cf-134">The following table describes the LDAP configuration settings.</span></span>

| <span data-ttu-id="565cf-135">Feature</span><span class="sxs-lookup"><span data-stu-id="565cf-135">Feature</span></span> | <span data-ttu-id="565cf-136">Description</span><span class="sxs-lookup"><span data-stu-id="565cf-136">Description</span></span> |
| --- | --- |
| <span data-ttu-id="565cf-137">Server</span><span class="sxs-lookup"><span data-stu-id="565cf-137">Server</span></span> |<span data-ttu-id="565cf-138">Enter the hostname or IP address of the server running the LDAP directory.</span><span class="sxs-lookup"><span data-stu-id="565cf-138">Enter the hostname or IP address of the server running the LDAP directory.</span></span>  <span data-ttu-id="565cf-139">A backup server may also be specified separated by a semi-colon.</span><span class="sxs-lookup"><span data-stu-id="565cf-139">A backup server may also be specified separated by a semi-colon.</span></span> <br><span data-ttu-id="565cf-140">Note: When Bind Type is SSL, a fully qualified hostname is required.</span><span class="sxs-lookup"><span data-stu-id="565cf-140">Note: When Bind Type is SSL, a fully qualified hostname is required.</span></span> |
| <span data-ttu-id="565cf-141">Base DN</span><span class="sxs-lookup"><span data-stu-id="565cf-141">Base DN</span></span> |<span data-ttu-id="565cf-142">Enter the distinguished name of the base directory object from which all directory queries start.</span><span class="sxs-lookup"><span data-stu-id="565cf-142">Enter the distinguished name of the base directory object from which all directory queries start.</span></span>  <span data-ttu-id="565cf-143">For example, dc=abc,dc=com.</span><span class="sxs-lookup"><span data-stu-id="565cf-143">For example, dc=abc,dc=com.</span></span> |
| <span data-ttu-id="565cf-144">Bind type - Queries</span><span class="sxs-lookup"><span data-stu-id="565cf-144">Bind type - Queries</span></span> |<span data-ttu-id="565cf-145">Select the appropriate bind type for use when binding to search the LDAP directory.</span><span class="sxs-lookup"><span data-stu-id="565cf-145">Select the appropriate bind type for use when binding to search the LDAP directory.</span></span>  <span data-ttu-id="565cf-146">This is used for imports, synchronization, and username resolution.</span><span class="sxs-lookup"><span data-stu-id="565cf-146">This is used for imports, synchronization, and username resolution.</span></span> <br><br>  <span data-ttu-id="565cf-147">Anonymous - An anonymous bind is performed.</span><span class="sxs-lookup"><span data-stu-id="565cf-147">Anonymous - An anonymous bind is performed.</span></span>  <span data-ttu-id="565cf-148">Bind DN and Bind Password are not used.</span><span class="sxs-lookup"><span data-stu-id="565cf-148">Bind DN and Bind Password are not used.</span></span>  <span data-ttu-id="565cf-149">This only works if the LDAP directory allows anonymous binding and permissions allow the querying of the appropriate records and attributes.</span><span class="sxs-lookup"><span data-stu-id="565cf-149">This only works if the LDAP directory allows anonymous binding and permissions allow the querying of the appropriate records and attributes.</span></span>  <br><br> <span data-ttu-id="565cf-150">Simple - Bind DN and Bind Password are passed as plain text to bind to the LDAP directory.</span><span class="sxs-lookup"><span data-stu-id="565cf-150">Simple - Bind DN and Bind Password are passed as plain text to bind to the LDAP directory.</span></span>  <span data-ttu-id="565cf-151">This is for testing purposes, to verify that the server can be reached and that the bind account has the appropriate access.</span><span class="sxs-lookup"><span data-stu-id="565cf-151">This is for testing purposes, to verify that the server can be reached and that the bind account has the appropriate access.</span></span> <span data-ttu-id="565cf-152">After the appropriate cert has been installed, use SSL instead.</span><span class="sxs-lookup"><span data-stu-id="565cf-152">After the appropriate cert has been installed, use SSL instead.</span></span>  <br><br> <span data-ttu-id="565cf-153">SSL - Bind DN and Bind Password are encrypted using SSL to bind to the LDAP directory.</span><span class="sxs-lookup"><span data-stu-id="565cf-153">SSL - Bind DN and Bind Password are encrypted using SSL to bind to the LDAP directory.</span></span>  <span data-ttu-id="565cf-154">Install a cert locally that the LDAP directory trusts.</span><span class="sxs-lookup"><span data-stu-id="565cf-154">Install a cert locally that the LDAP directory trusts.</span></span>  <br><br> <span data-ttu-id="565cf-155">Windows - Bind Username and Bind Password are used to securely connect to an Active Directory domain controller or ADAM directory.</span><span class="sxs-lookup"><span data-stu-id="565cf-155">Windows - Bind Username and Bind Password are used to securely connect to an Active Directory domain controller or ADAM directory.</span></span>  <span data-ttu-id="565cf-156">If Bind Username is left blank, the logged-on user's account is used to bind.</span><span class="sxs-lookup"><span data-stu-id="565cf-156">If Bind Username is left blank, the logged-on user's account is used to bind.</span></span> |
| <span data-ttu-id="565cf-157">Bind type - Authentications</span><span class="sxs-lookup"><span data-stu-id="565cf-157">Bind type - Authentications</span></span> |<span data-ttu-id="565cf-158">Select the appropriate bind type for use when performing LDAP bind authentication.</span><span class="sxs-lookup"><span data-stu-id="565cf-158">Select the appropriate bind type for use when performing LDAP bind authentication.</span></span>  <span data-ttu-id="565cf-159">See the bind type descriptions under Bind type - Queries.</span><span class="sxs-lookup"><span data-stu-id="565cf-159">See the bind type descriptions under Bind type - Queries.</span></span>  <span data-ttu-id="565cf-160">For example, this allows for Anonymous bind to be used for queries while SSL bind is used to secure LDAP bind authentications.</span><span class="sxs-lookup"><span data-stu-id="565cf-160">For example, this allows for Anonymous bind to be used for queries while SSL bind is used to secure LDAP bind authentications.</span></span> |
| <span data-ttu-id="565cf-161">Bind DN or Bind username</span><span class="sxs-lookup"><span data-stu-id="565cf-161">Bind DN or Bind username</span></span> |<span data-ttu-id="565cf-162">Enter the distinguished name of the user record for the account to use when binding to the LDAP directory.</span><span class="sxs-lookup"><span data-stu-id="565cf-162">Enter the distinguished name of the user record for the account to use when binding to the LDAP directory.</span></span><br><br><span data-ttu-id="565cf-163">The bind distinguished name is only used when Bind Type is Simple or SSL.</span><span class="sxs-lookup"><span data-stu-id="565cf-163">The bind distinguished name is only used when Bind Type is Simple or SSL.</span></span>  <br><br><span data-ttu-id="565cf-164">Enter the username of the Windows account to use when binding to the LDAP directory when Bind Type is Windows.</span><span class="sxs-lookup"><span data-stu-id="565cf-164">Enter the username of the Windows account to use when binding to the LDAP directory when Bind Type is Windows.</span></span>  <span data-ttu-id="565cf-165">If left blank, the logged-on user's account is used to bind.</span><span class="sxs-lookup"><span data-stu-id="565cf-165">If left blank, the logged-on user's account is used to bind.</span></span> |
| <span data-ttu-id="565cf-166">Bind Password</span><span class="sxs-lookup"><span data-stu-id="565cf-166">Bind Password</span></span> |<span data-ttu-id="565cf-167">Enter the bind password for the Bind DN or username being used to bind to the LDAP directory.</span><span class="sxs-lookup"><span data-stu-id="565cf-167">Enter the bind password for the Bind DN or username being used to bind to the LDAP directory.</span></span>  <span data-ttu-id="565cf-168">To configure the password for the Multi-Factor Auth Server AdSync Service, enable synchronization and ensure that the service is running on the local machine.</span><span class="sxs-lookup"><span data-stu-id="565cf-168">To configure the password for the Multi-Factor Auth Server AdSync Service, enable synchronization and ensure that the service is running on the local machine.</span></span>  <span data-ttu-id="565cf-169">The password is saved in the Windows Stored Usernames and Passwords under the account the Multi-Factor Auth Server AdSync Service is running as.</span><span class="sxs-lookup"><span data-stu-id="565cf-169">The password is saved in the Windows Stored Usernames and Passwords under the account the Multi-Factor Auth Server AdSync Service is running as.</span></span>  <span data-ttu-id="565cf-170">The password is also saved under the account the Multi-Factor Auth Server user interface is running as and under the account the Multi-Factor Auth Server Service is running as.</span><span class="sxs-lookup"><span data-stu-id="565cf-170">The password is also saved under the account the Multi-Factor Auth Server user interface is running as and under the account the Multi-Factor Auth Server Service is running as.</span></span>  <br><br><span data-ttu-id="565cf-171">Since the password is only stored in the local server's Windows Stored Usernames and Passwords, repeat this step on each Multi-Factor Auth Server that needs access to the password.</span><span class="sxs-lookup"><span data-stu-id="565cf-171">Since the password is only stored in the local server's Windows Stored Usernames and Passwords, repeat this step on each Multi-Factor Auth Server that needs access to the password.</span></span> |
| <span data-ttu-id="565cf-172">Query size limit</span><span class="sxs-lookup"><span data-stu-id="565cf-172">Query size limit</span></span> |<span data-ttu-id="565cf-173">Specify the size limit for the maximum number of users that a directory search returns.</span><span class="sxs-lookup"><span data-stu-id="565cf-173">Specify the size limit for the maximum number of users that a directory search returns.</span></span>  <span data-ttu-id="565cf-174">This limit should match the configuration on the LDAP directory.</span><span class="sxs-lookup"><span data-stu-id="565cf-174">This limit should match the configuration on the LDAP directory.</span></span>  <span data-ttu-id="565cf-175">For large searches where paging is not supported, import and synchronization attempts to retrieve users in batches.</span><span class="sxs-lookup"><span data-stu-id="565cf-175">For large searches where paging is not supported, import and synchronization attempts to retrieve users in batches.</span></span>  <span data-ttu-id="565cf-176">If the size limit specified here is larger than the limit configured on the LDAP directory, some users may be missed.</span><span class="sxs-lookup"><span data-stu-id="565cf-176">If the size limit specified here is larger than the limit configured on the LDAP directory, some users may be missed.</span></span> |
| <span data-ttu-id="565cf-177">Test button</span><span class="sxs-lookup"><span data-stu-id="565cf-177">Test button</span></span> |<span data-ttu-id="565cf-178">Click **Test** to test binding to the LDAP server.</span><span class="sxs-lookup"><span data-stu-id="565cf-178">Click **Test** to test binding to the LDAP server.</span></span>  <br><br><span data-ttu-id="565cf-179">You don't need to select the **Use LDAP** option to test binding.</span><span class="sxs-lookup"><span data-stu-id="565cf-179">You don't need to select the **Use LDAP** option to test binding.</span></span> <span data-ttu-id="565cf-180">This allows the binding to be tested before you use the LDAP configuration.</span><span class="sxs-lookup"><span data-stu-id="565cf-180">This allows the binding to be tested before you use the LDAP configuration.</span></span> |

## <a name="filters"></a><span data-ttu-id="565cf-181">Filters</span><span class="sxs-lookup"><span data-stu-id="565cf-181">Filters</span></span>
<span data-ttu-id="565cf-182">Filters allow you to set criteria to qualify records when performing a directory search.</span><span class="sxs-lookup"><span data-stu-id="565cf-182">Filters allow you to set criteria to qualify records when performing a directory search.</span></span>  <span data-ttu-id="565cf-183">By setting the filter, you can scope the objects you want to synchronize.</span><span class="sxs-lookup"><span data-stu-id="565cf-183">By setting the filter, you can scope the objects you want to synchronize.</span></span>  

![Filters](https://docstestmedia1.blob.core.windows.net/azure-media/articles/multi-factor-authentication/media/multi-factor-authentication-get-started-server-dirint/dirint2.png)

<span data-ttu-id="565cf-185">Azure Multi-Factor Authentication has the following three filter options:</span><span class="sxs-lookup"><span data-stu-id="565cf-185">Azure Multi-Factor Authentication has the following three filter options:</span></span>

* <span data-ttu-id="565cf-186">**Container filter** - Specify the filter criteria used to qualify container records when performing a directory search.</span><span class="sxs-lookup"><span data-stu-id="565cf-186">**Container filter** - Specify the filter criteria used to qualify container records when performing a directory search.</span></span>  <span data-ttu-id="565cf-187">For Active Directory and ADAM, (|(objectClass=organizationalUnit)(objectClass=container)) is commonly used.</span><span class="sxs-lookup"><span data-stu-id="565cf-187">For Active Directory and ADAM, (|(objectClass=organizationalUnit)(objectClass=container)) is commonly used.</span></span>  <span data-ttu-id="565cf-188">For other LDAP directories, use filter criteria that qualifies each type of container object, depending on the directory schema.</span><span class="sxs-lookup"><span data-stu-id="565cf-188">For other LDAP directories, use filter criteria that qualifies each type of container object, depending on the directory schema.</span></span>  <br><span data-ttu-id="565cf-189">Note:  If left blank, ((objectClass=organizationalUnit)(objectClass=container)) is used by default.</span><span class="sxs-lookup"><span data-stu-id="565cf-189">Note:  If left blank, ((objectClass=organizationalUnit)(objectClass=container)) is used by default.</span></span>
* <span data-ttu-id="565cf-190">**Security group filter** - Specify the filter criteria used to qualify security group records when performing a directory search.</span><span class="sxs-lookup"><span data-stu-id="565cf-190">**Security group filter** - Specify the filter criteria used to qualify security group records when performing a directory search.</span></span>  <span data-ttu-id="565cf-191">For Active Directory and ADAM, (&(objectCategory=group)(groupType:1.2.840.113556.1.4.804:=-2147483648)) is commonly used.</span><span class="sxs-lookup"><span data-stu-id="565cf-191">For Active Directory and ADAM, (&(objectCategory=group)(groupType:1.2.840.113556.1.4.804:=-2147483648)) is commonly used.</span></span>  <span data-ttu-id="565cf-192">For other LDAP directories, use filter criteria that qualifies each type of security group object, depending on the directory schema.</span><span class="sxs-lookup"><span data-stu-id="565cf-192">For other LDAP directories, use filter criteria that qualifies each type of security group object, depending on the directory schema.</span></span>  <br><span data-ttu-id="565cf-193">Note:  If left blank, (&(objectCategory=group)(groupType:1.2.840.113556.1.4.804:=-2147483648)) is used by default.</span><span class="sxs-lookup"><span data-stu-id="565cf-193">Note:  If left blank, (&(objectCategory=group)(groupType:1.2.840.113556.1.4.804:=-2147483648)) is used by default.</span></span>
* <span data-ttu-id="565cf-194">**User filter** - Specify the filter criteria used to qualify user records when performing a directory search.</span><span class="sxs-lookup"><span data-stu-id="565cf-194">**User filter** - Specify the filter criteria used to qualify user records when performing a directory search.</span></span>  <span data-ttu-id="565cf-195">For Active Directory and ADAM, (&(objectClass=user)(objectCategory=person)) is commonly used.</span><span class="sxs-lookup"><span data-stu-id="565cf-195">For Active Directory and ADAM, (&(objectClass=user)(objectCategory=person)) is commonly used.</span></span>  <span data-ttu-id="565cf-196">For other LDAP directories, use (objectClass=inetOrgPerson) or something similar, depending on the directory schema.</span><span class="sxs-lookup"><span data-stu-id="565cf-196">For other LDAP directories, use (objectClass=inetOrgPerson) or something similar, depending on the directory schema.</span></span> <br><span data-ttu-id="565cf-197">Note:  If left blank, (&(objectCategory=person)(objectClass=user)) is used by default.</span><span class="sxs-lookup"><span data-stu-id="565cf-197">Note:  If left blank, (&(objectCategory=person)(objectClass=user)) is used by default.</span></span>

## <a name="attributes"></a><span data-ttu-id="565cf-198">Attributes</span><span class="sxs-lookup"><span data-stu-id="565cf-198">Attributes</span></span>
<span data-ttu-id="565cf-199">You can customize attributes as necessary for a specific directory.</span><span class="sxs-lookup"><span data-stu-id="565cf-199">You can customize attributes as necessary for a specific directory.</span></span>  <span data-ttu-id="565cf-200">This allows you to add custom attributes and fine-tune the synchronization to only the attributes that you need.</span><span class="sxs-lookup"><span data-stu-id="565cf-200">This allows you to add custom attributes and fine-tune the synchronization to only the attributes that you need.</span></span> <span data-ttu-id="565cf-201">Use the name of the attricute as defined in the directory schema for the value of each attribute field.</span><span class="sxs-lookup"><span data-stu-id="565cf-201">Use the name of the attricute as defined in the directory schema for the value of each attribute field.</span></span> <span data-ttu-id="565cf-202">The following table provides additional information about each feature.</span><span class="sxs-lookup"><span data-stu-id="565cf-202">The following table provides additional information about each feature.</span></span>

<span data-ttu-id="565cf-203">Attributes may be entered manually and are not required to match an attribute in the attribute list.</span><span class="sxs-lookup"><span data-stu-id="565cf-203">Attributes may be entered manually and are not required to match an attribute in the attribute list.</span></span>

![Attributes](https://docstestmedia1.blob.core.windows.net/azure-media/articles/multi-factor-authentication/media/multi-factor-authentication-get-started-server-dirint/dirint3.png)

| <span data-ttu-id="565cf-205">Feature</span><span class="sxs-lookup"><span data-stu-id="565cf-205">Feature</span></span> | <span data-ttu-id="565cf-206">Description</span><span class="sxs-lookup"><span data-stu-id="565cf-206">Description</span></span> |
| --- | --- |
| <span data-ttu-id="565cf-207">Unique identifier</span><span class="sxs-lookup"><span data-stu-id="565cf-207">Unique identifier</span></span> |<span data-ttu-id="565cf-208">Enter the attribute name of the attribute that serves as the unique identifier of container, security group, and user records.</span><span class="sxs-lookup"><span data-stu-id="565cf-208">Enter the attribute name of the attribute that serves as the unique identifier of container, security group, and user records.</span></span>  <span data-ttu-id="565cf-209">In Active Directory, this is usually objectGUID.</span><span class="sxs-lookup"><span data-stu-id="565cf-209">In Active Directory, this is usually objectGUID.</span></span> <span data-ttu-id="565cf-210">Other LDAP implementations may use entryUUID or something similar.</span><span class="sxs-lookup"><span data-stu-id="565cf-210">Other LDAP implementations may use entryUUID or something similar.</span></span>  <span data-ttu-id="565cf-211">The default is objectGUID.</span><span class="sxs-lookup"><span data-stu-id="565cf-211">The default is objectGUID.</span></span> |
| <span data-ttu-id="565cf-212">Unique identifier type</span><span class="sxs-lookup"><span data-stu-id="565cf-212">Unique identifier type</span></span> |<span data-ttu-id="565cf-213">Select the type of the unique identifier attribute.</span><span class="sxs-lookup"><span data-stu-id="565cf-213">Select the type of the unique identifier attribute.</span></span>  <span data-ttu-id="565cf-214">In Active Directory, the objectGUID attribute is of type GUID.</span><span class="sxs-lookup"><span data-stu-id="565cf-214">In Active Directory, the objectGUID attribute is of type GUID.</span></span> <span data-ttu-id="565cf-215">Other LDAP implementations may use type ASCII Byte Array or String.</span><span class="sxs-lookup"><span data-stu-id="565cf-215">Other LDAP implementations may use type ASCII Byte Array or String.</span></span>  <span data-ttu-id="565cf-216">The default is GUID.</span><span class="sxs-lookup"><span data-stu-id="565cf-216">The default is GUID.</span></span> <br><br><span data-ttu-id="565cf-217">It is important to set this type correctly since Synchronization Items are referenced by their Unique Identifier.</span><span class="sxs-lookup"><span data-stu-id="565cf-217">It is important to set this type correctly since Synchronization Items are referenced by their Unique Identifier.</span></span> <span data-ttu-id="565cf-218">The Unique Identifier Type is used to directly find the object in the directory.</span><span class="sxs-lookup"><span data-stu-id="565cf-218">The Unique Identifier Type is used to directly find the object in the directory.</span></span>  <span data-ttu-id="565cf-219">Setting this type to String when the directory actually stores the value as a byte array of ASCII characters prevents synchronization from functioning properly.</span><span class="sxs-lookup"><span data-stu-id="565cf-219">Setting this type to String when the directory actually stores the value as a byte array of ASCII characters prevents synchronization from functioning properly.</span></span> |
| <span data-ttu-id="565cf-220">Distinguished name</span><span class="sxs-lookup"><span data-stu-id="565cf-220">Distinguished name</span></span> |<span data-ttu-id="565cf-221">Enter the attribute name of the attribute that contains the distinguished name for each record.</span><span class="sxs-lookup"><span data-stu-id="565cf-221">Enter the attribute name of the attribute that contains the distinguished name for each record.</span></span>  <span data-ttu-id="565cf-222">In Active Directory, this is usually distinguishedName.</span><span class="sxs-lookup"><span data-stu-id="565cf-222">In Active Directory, this is usually distinguishedName.</span></span> <span data-ttu-id="565cf-223">Other LDAP implementations may use entryDN or something similar.</span><span class="sxs-lookup"><span data-stu-id="565cf-223">Other LDAP implementations may use entryDN or something similar.</span></span>  <span data-ttu-id="565cf-224">The default is distinguishedName.</span><span class="sxs-lookup"><span data-stu-id="565cf-224">The default is distinguishedName.</span></span> <br><br><span data-ttu-id="565cf-225">If an attribute containing just the distinguished name doesn't exist, the adspath attribute may be used.</span><span class="sxs-lookup"><span data-stu-id="565cf-225">If an attribute containing just the distinguished name doesn't exist, the adspath attribute may be used.</span></span>  <span data-ttu-id="565cf-226">The "LDAP://\<server\>/" portion of the path is automatically stripped off, leaving just the distinguished name of the object.</span><span class="sxs-lookup"><span data-stu-id="565cf-226">The "LDAP://\<server\>/" portion of the path is automatically stripped off, leaving just the distinguished name of the object.</span></span> |
| <span data-ttu-id="565cf-227">Container name</span><span class="sxs-lookup"><span data-stu-id="565cf-227">Container name</span></span> |<span data-ttu-id="565cf-228">Enter the attribute name of the attribute that contains the name in a container record.</span><span class="sxs-lookup"><span data-stu-id="565cf-228">Enter the attribute name of the attribute that contains the name in a container record.</span></span>  <span data-ttu-id="565cf-229">The value of this attribute is displayed in the Container Hierarchy when importing from Active Directory or adding synchronization items.</span><span class="sxs-lookup"><span data-stu-id="565cf-229">The value of this attribute is displayed in the Container Hierarchy when importing from Active Directory or adding synchronization items.</span></span>  <span data-ttu-id="565cf-230">The default is name.</span><span class="sxs-lookup"><span data-stu-id="565cf-230">The default is name.</span></span> <br><br><span data-ttu-id="565cf-231">If different containers use different attributes for their names, use semi-colons to separate multiple container name attributes.</span><span class="sxs-lookup"><span data-stu-id="565cf-231">If different containers use different attributes for their names, use semi-colons to separate multiple container name attributes.</span></span>  <span data-ttu-id="565cf-232">The first container name attribute found on a container object is used to display its name.</span><span class="sxs-lookup"><span data-stu-id="565cf-232">The first container name attribute found on a container object is used to display its name.</span></span> |
| <span data-ttu-id="565cf-233">Security group name</span><span class="sxs-lookup"><span data-stu-id="565cf-233">Security group name</span></span> |<span data-ttu-id="565cf-234">Enter the attribute name of the attribute that contains the name in a security group record.</span><span class="sxs-lookup"><span data-stu-id="565cf-234">Enter the attribute name of the attribute that contains the name in a security group record.</span></span>  <span data-ttu-id="565cf-235">The value of this attribute is displayed in the Security Group list when importing from Active Directory or adding synchronization items.</span><span class="sxs-lookup"><span data-stu-id="565cf-235">The value of this attribute is displayed in the Security Group list when importing from Active Directory or adding synchronization items.</span></span>  <span data-ttu-id="565cf-236">The default is name.</span><span class="sxs-lookup"><span data-stu-id="565cf-236">The default is name.</span></span> |
| <span data-ttu-id="565cf-237">Username</span><span class="sxs-lookup"><span data-stu-id="565cf-237">Username</span></span> |<span data-ttu-id="565cf-238">Enter the attribute name of the attribute that contains the username in a user record.</span><span class="sxs-lookup"><span data-stu-id="565cf-238">Enter the attribute name of the attribute that contains the username in a user record.</span></span>  <span data-ttu-id="565cf-239">The value of this attribute is used as the Multi-Factor Auth Server username.</span><span class="sxs-lookup"><span data-stu-id="565cf-239">The value of this attribute is used as the Multi-Factor Auth Server username.</span></span>  <span data-ttu-id="565cf-240">A second attribute may be specified as a backup to the first.</span><span class="sxs-lookup"><span data-stu-id="565cf-240">A second attribute may be specified as a backup to the first.</span></span>  <span data-ttu-id="565cf-241">The second attribute is only used if the first attribute does not contain a value for the user.</span><span class="sxs-lookup"><span data-stu-id="565cf-241">The second attribute is only used if the first attribute does not contain a value for the user.</span></span>  <span data-ttu-id="565cf-242">The defaults are userPrincipalName and sAMAccountName.</span><span class="sxs-lookup"><span data-stu-id="565cf-242">The defaults are userPrincipalName and sAMAccountName.</span></span> |
| <span data-ttu-id="565cf-243">First name</span><span class="sxs-lookup"><span data-stu-id="565cf-243">First name</span></span> |<span data-ttu-id="565cf-244">Enter the attribute name of the attribute that contains the first name in a user record.</span><span class="sxs-lookup"><span data-stu-id="565cf-244">Enter the attribute name of the attribute that contains the first name in a user record.</span></span>  <span data-ttu-id="565cf-245">The default is givenName.</span><span class="sxs-lookup"><span data-stu-id="565cf-245">The default is givenName.</span></span> |
| <span data-ttu-id="565cf-246">Last name</span><span class="sxs-lookup"><span data-stu-id="565cf-246">Last name</span></span> |<span data-ttu-id="565cf-247">Enter the attribute name of the attribute that contains the last name in a user record.</span><span class="sxs-lookup"><span data-stu-id="565cf-247">Enter the attribute name of the attribute that contains the last name in a user record.</span></span>  <span data-ttu-id="565cf-248">The default is sn.</span><span class="sxs-lookup"><span data-stu-id="565cf-248">The default is sn.</span></span> |
| <span data-ttu-id="565cf-249">Email address</span><span class="sxs-lookup"><span data-stu-id="565cf-249">Email address</span></span> |<span data-ttu-id="565cf-250">Enter the attribute name of the attribute that contains the email address in a user record.</span><span class="sxs-lookup"><span data-stu-id="565cf-250">Enter the attribute name of the attribute that contains the email address in a user record.</span></span>  <span data-ttu-id="565cf-251">Email address is used to send welcome and update emails to the user.</span><span class="sxs-lookup"><span data-stu-id="565cf-251">Email address is used to send welcome and update emails to the user.</span></span>  <span data-ttu-id="565cf-252">The default is mail.</span><span class="sxs-lookup"><span data-stu-id="565cf-252">The default is mail.</span></span> |
| <span data-ttu-id="565cf-253">User group</span><span class="sxs-lookup"><span data-stu-id="565cf-253">User group</span></span> |<span data-ttu-id="565cf-254">Enter the attribute name of the attribute that contains the user group in a user record.</span><span class="sxs-lookup"><span data-stu-id="565cf-254">Enter the attribute name of the attribute that contains the user group in a user record.</span></span>  <span data-ttu-id="565cf-255">User group can be used to filter users in the agent and on reports in the Multi-Factor Auth Server Management Portal.</span><span class="sxs-lookup"><span data-stu-id="565cf-255">User group can be used to filter users in the agent and on reports in the Multi-Factor Auth Server Management Portal.</span></span> |
| <span data-ttu-id="565cf-256">Description</span><span class="sxs-lookup"><span data-stu-id="565cf-256">Description</span></span> |<span data-ttu-id="565cf-257">Enter the attribute name of the attribute that contains the description in a user record.</span><span class="sxs-lookup"><span data-stu-id="565cf-257">Enter the attribute name of the attribute that contains the description in a user record.</span></span>  <span data-ttu-id="565cf-258">Description is only used for searching.</span><span class="sxs-lookup"><span data-stu-id="565cf-258">Description is only used for searching.</span></span>  <span data-ttu-id="565cf-259">The default is description.</span><span class="sxs-lookup"><span data-stu-id="565cf-259">The default is description.</span></span> |
| <span data-ttu-id="565cf-260">Phone call language</span><span class="sxs-lookup"><span data-stu-id="565cf-260">Phone call language</span></span> |<span data-ttu-id="565cf-261">Enter the attribute name of the attribute that contains the short name of the language to use for voice calls for the user.</span><span class="sxs-lookup"><span data-stu-id="565cf-261">Enter the attribute name of the attribute that contains the short name of the language to use for voice calls for the user.</span></span> |
| <span data-ttu-id="565cf-262">Text message language</span><span class="sxs-lookup"><span data-stu-id="565cf-262">Text message language</span></span> |<span data-ttu-id="565cf-263">Enter the attribute name of the attribute that contains the short name of the language to use for SMS text messages for the user.</span><span class="sxs-lookup"><span data-stu-id="565cf-263">Enter the attribute name of the attribute that contains the short name of the language to use for SMS text messages for the user.</span></span> |
| <span data-ttu-id="565cf-264">Mobile app language</span><span class="sxs-lookup"><span data-stu-id="565cf-264">Mobile app language</span></span> |<span data-ttu-id="565cf-265">Enter the attribute name of the attribute that contains the short name of the language to use for phone app text messages for the user.</span><span class="sxs-lookup"><span data-stu-id="565cf-265">Enter the attribute name of the attribute that contains the short name of the language to use for phone app text messages for the user.</span></span> |
| <span data-ttu-id="565cf-266">OATH token language</span><span class="sxs-lookup"><span data-stu-id="565cf-266">OATH token language</span></span> |<span data-ttu-id="565cf-267">Enter the attribute name of the attribute that contains the short name of the language to use for OATH token text messages for the user.</span><span class="sxs-lookup"><span data-stu-id="565cf-267">Enter the attribute name of the attribute that contains the short name of the language to use for OATH token text messages for the user.</span></span> |
| <span data-ttu-id="565cf-268">Business phone</span><span class="sxs-lookup"><span data-stu-id="565cf-268">Business phone</span></span> |<span data-ttu-id="565cf-269">Enter the attribute name of the attribute that contains the business phone number in a user record.</span><span class="sxs-lookup"><span data-stu-id="565cf-269">Enter the attribute name of the attribute that contains the business phone number in a user record.</span></span>  <span data-ttu-id="565cf-270">The default is telephoneNumber.</span><span class="sxs-lookup"><span data-stu-id="565cf-270">The default is telephoneNumber.</span></span> |
| <span data-ttu-id="565cf-271">Home phone</span><span class="sxs-lookup"><span data-stu-id="565cf-271">Home phone</span></span> |<span data-ttu-id="565cf-272">Enter the attribute name of the attribute that contains the home phone number in a user record.</span><span class="sxs-lookup"><span data-stu-id="565cf-272">Enter the attribute name of the attribute that contains the home phone number in a user record.</span></span>  <span data-ttu-id="565cf-273">The default is homePhone.</span><span class="sxs-lookup"><span data-stu-id="565cf-273">The default is homePhone.</span></span> |
| <span data-ttu-id="565cf-274">Pager</span><span class="sxs-lookup"><span data-stu-id="565cf-274">Pager</span></span> |<span data-ttu-id="565cf-275">Enter the attribute name of the attribute that contains the pager number in a user record.</span><span class="sxs-lookup"><span data-stu-id="565cf-275">Enter the attribute name of the attribute that contains the pager number in a user record.</span></span>  <span data-ttu-id="565cf-276">The default is pager.</span><span class="sxs-lookup"><span data-stu-id="565cf-276">The default is pager.</span></span> |
| <span data-ttu-id="565cf-277">Mobile phone</span><span class="sxs-lookup"><span data-stu-id="565cf-277">Mobile phone</span></span> |<span data-ttu-id="565cf-278">Enter the attribute name of the attribute that contains the mobile phone number in a user record.</span><span class="sxs-lookup"><span data-stu-id="565cf-278">Enter the attribute name of the attribute that contains the mobile phone number in a user record.</span></span>  <span data-ttu-id="565cf-279">The default is mobile.</span><span class="sxs-lookup"><span data-stu-id="565cf-279">The default is mobile.</span></span> |
| <span data-ttu-id="565cf-280">Fax</span><span class="sxs-lookup"><span data-stu-id="565cf-280">Fax</span></span> |<span data-ttu-id="565cf-281">Enter the attribute name of the attribute that contains the fax number in a user record.</span><span class="sxs-lookup"><span data-stu-id="565cf-281">Enter the attribute name of the attribute that contains the fax number in a user record.</span></span>  <span data-ttu-id="565cf-282">The default is facsimileTelephoneNumber.</span><span class="sxs-lookup"><span data-stu-id="565cf-282">The default is facsimileTelephoneNumber.</span></span> |
| <span data-ttu-id="565cf-283">IP phone</span><span class="sxs-lookup"><span data-stu-id="565cf-283">IP phone</span></span> |<span data-ttu-id="565cf-284">Enter the attribute name of the attribute that contains the IP phone number in a user record.</span><span class="sxs-lookup"><span data-stu-id="565cf-284">Enter the attribute name of the attribute that contains the IP phone number in a user record.</span></span>  <span data-ttu-id="565cf-285">The default is ipPhone.</span><span class="sxs-lookup"><span data-stu-id="565cf-285">The default is ipPhone.</span></span> |
| <span data-ttu-id="565cf-286">Custom</span><span class="sxs-lookup"><span data-stu-id="565cf-286">Custom</span></span> |<span data-ttu-id="565cf-287">Enter the attribute name of the attribute that contains a custom phone number in a user record.</span><span class="sxs-lookup"><span data-stu-id="565cf-287">Enter the attribute name of the attribute that contains a custom phone number in a user record.</span></span>  <span data-ttu-id="565cf-288">The default is blank.</span><span class="sxs-lookup"><span data-stu-id="565cf-288">The default is blank.</span></span> |
| <span data-ttu-id="565cf-289">Extension</span><span class="sxs-lookup"><span data-stu-id="565cf-289">Extension</span></span> |<span data-ttu-id="565cf-290">Enter the attribute name of the attribute that contains the phone number extension in a user record.</span><span class="sxs-lookup"><span data-stu-id="565cf-290">Enter the attribute name of the attribute that contains the phone number extension in a user record.</span></span>  <span data-ttu-id="565cf-291">The value of the extension field is used as the extension to the primary phone number only.</span><span class="sxs-lookup"><span data-stu-id="565cf-291">The value of the extension field is used as the extension to the primary phone number only.</span></span>  <span data-ttu-id="565cf-292">The default is blank.</span><span class="sxs-lookup"><span data-stu-id="565cf-292">The default is blank.</span></span> <br><br><span data-ttu-id="565cf-293">If the Extension attribute is not specified, extensions can be included as part of the phone attribute.</span><span class="sxs-lookup"><span data-stu-id="565cf-293">If the Extension attribute is not specified, extensions can be included as part of the phone attribute.</span></span> <span data-ttu-id="565cf-294">In this case, precede the extension with an 'x' so that it gets parsed correctly.</span><span class="sxs-lookup"><span data-stu-id="565cf-294">In this case, precede the extension with an 'x' so that it gets parsed correctly.</span></span>  <span data-ttu-id="565cf-295">For example, 555-123-4567 x890 would result in 555-123-4567 as the phone number and 890 as the extension.</span><span class="sxs-lookup"><span data-stu-id="565cf-295">For example, 555-123-4567 x890 would result in 555-123-4567 as the phone number and 890 as the extension.</span></span> |
| <span data-ttu-id="565cf-296">Restore Defaults button</span><span class="sxs-lookup"><span data-stu-id="565cf-296">Restore Defaults button</span></span> |<span data-ttu-id="565cf-297">Click **Restore Defaults** to return all attributes back to their default value.</span><span class="sxs-lookup"><span data-stu-id="565cf-297">Click **Restore Defaults** to return all attributes back to their default value.</span></span>  <span data-ttu-id="565cf-298">The defaults should work properly with the normal Active Directory or ADAM schema.</span><span class="sxs-lookup"><span data-stu-id="565cf-298">The defaults should work properly with the normal Active Directory or ADAM schema.</span></span> |

<span data-ttu-id="565cf-299">To edit attributes, click **Edit** on the Attributes tab.  This brings up a window where you can edit the attributes.</span><span class="sxs-lookup"><span data-stu-id="565cf-299">To edit attributes, click **Edit** on the Attributes tab.  This brings up a window where you can edit the attributes.</span></span> <span data-ttu-id="565cf-300">Select the **...** next to any attribute to open a window where you can choose which attributes to display.</span><span class="sxs-lookup"><span data-stu-id="565cf-300">Select the **...** next to any attribute to open a window where you can choose which attributes to display.</span></span> 

![Edit Attributes](https://docstestmedia1.blob.core.windows.net/azure-media/articles/multi-factor-authentication/media/multi-factor-authentication-get-started-server-dirint/dirint4.png)

## <a name="synchronization"></a><span data-ttu-id="565cf-302">Synchronization</span><span class="sxs-lookup"><span data-stu-id="565cf-302">Synchronization</span></span>
<span data-ttu-id="565cf-303">Synchronization keeps the Azure MFA user database synchronized with the users in Active Directory or another Lightweight Directory Access Protocol (LDAP) directory.</span><span class="sxs-lookup"><span data-stu-id="565cf-303">Synchronization keeps the Azure MFA user database synchronized with the users in Active Directory or another Lightweight Directory Access Protocol (LDAP) directory.</span></span> <span data-ttu-id="565cf-304">The process is similar to importing users manually from Active Directory, but periodically polls for Active Directory user and security group changes to process.</span><span class="sxs-lookup"><span data-stu-id="565cf-304">The process is similar to importing users manually from Active Directory, but periodically polls for Active Directory user and security group changes to process.</span></span>  <span data-ttu-id="565cf-305">It also disables or removes users that were removed from a container, security group, or Active Directory.</span><span class="sxs-lookup"><span data-stu-id="565cf-305">It also disables or removes users that were removed from a container, security group, or Active Directory.</span></span>

<span data-ttu-id="565cf-306">The Multi-Factor Auth ADSync service is a Windows service that performs the periodic polling of Active Directory.</span><span class="sxs-lookup"><span data-stu-id="565cf-306">The Multi-Factor Auth ADSync service is a Windows service that performs the periodic polling of Active Directory.</span></span>  <span data-ttu-id="565cf-307">This is not to be confused with Azure AD Sync or Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="565cf-307">This is not to be confused with Azure AD Sync or Azure AD Connect.</span></span>  <span data-ttu-id="565cf-308">the Multi-Factor Auth ADSync, although built on a similar code base, is specific to the Azure Multi-Factor Authentication Server.</span><span class="sxs-lookup"><span data-stu-id="565cf-308">the Multi-Factor Auth ADSync, although built on a similar code base, is specific to the Azure Multi-Factor Authentication Server.</span></span>  <span data-ttu-id="565cf-309">It is installed in a Stopped state and is started by the Multi-Factor Auth Server service when configured to run.</span><span class="sxs-lookup"><span data-stu-id="565cf-309">It is installed in a Stopped state and is started by the Multi-Factor Auth Server service when configured to run.</span></span>  <span data-ttu-id="565cf-310">If you have a multi-server Multi-Factor Auth Server configuration, the Multi-Factor Auth ADSync may only be run on a single server.</span><span class="sxs-lookup"><span data-stu-id="565cf-310">If you have a multi-server Multi-Factor Auth Server configuration, the Multi-Factor Auth ADSync may only be run on a single server.</span></span>

<span data-ttu-id="565cf-311">The Multi-Factor Auth ADSync service uses the DirSync LDAP server extension provided by Microsoft to efficiently poll for changes.</span><span class="sxs-lookup"><span data-stu-id="565cf-311">The Multi-Factor Auth ADSync service uses the DirSync LDAP server extension provided by Microsoft to efficiently poll for changes.</span></span>  <span data-ttu-id="565cf-312">This DirSync control caller must have the "directory get changes" right and DS-Replication-Get-Changes extended control access right.</span><span class="sxs-lookup"><span data-stu-id="565cf-312">This DirSync control caller must have the "directory get changes" right and DS-Replication-Get-Changes extended control access right.</span></span>  <span data-ttu-id="565cf-313">By default, these rights are assigned to the Administrator and LocalSystem accounts on domain controllers.</span><span class="sxs-lookup"><span data-stu-id="565cf-313">By default, these rights are assigned to the Administrator and LocalSystem accounts on domain controllers.</span></span>  <span data-ttu-id="565cf-314">The Multi-Factor Auth AdSync service is configured to run as LocalSystem by default.</span><span class="sxs-lookup"><span data-stu-id="565cf-314">The Multi-Factor Auth AdSync service is configured to run as LocalSystem by default.</span></span>  <span data-ttu-id="565cf-315">Therefore it is simplest to run the service on a domain controller.</span><span class="sxs-lookup"><span data-stu-id="565cf-315">Therefore it is simplest to run the service on a domain controller.</span></span>  <span data-ttu-id="565cf-316">If you configure the service to always perform a full synchronization, it can run as an account with lesser permissions.</span><span class="sxs-lookup"><span data-stu-id="565cf-316">If you configure the service to always perform a full synchronization, it can run as an account with lesser permissions.</span></span>  <span data-ttu-id="565cf-317">This is less efficient, but requires fewer account privileges.</span><span class="sxs-lookup"><span data-stu-id="565cf-317">This is less efficient, but requires fewer account privileges.</span></span>

<span data-ttu-id="565cf-318">If the LDAP directory supports and is configured for DirSync, then polling for user and security group changes will work the same as it does with Active Directory.</span><span class="sxs-lookup"><span data-stu-id="565cf-318">If the LDAP directory supports and is configured for DirSync, then polling for user and security group changes will work the same as it does with Active Directory.</span></span>  <span data-ttu-id="565cf-319">If the LDAP directory does not support the DirSync control, then a full synchronization is performed during each cycle.</span><span class="sxs-lookup"><span data-stu-id="565cf-319">If the LDAP directory does not support the DirSync control, then a full synchronization is performed during each cycle.</span></span>

![Synchronization](https://docstestmedia1.blob.core.windows.net/azure-media/articles/multi-factor-authentication/media/multi-factor-authentication-get-started-server-dirint/dirint5.png)

<span data-ttu-id="565cf-321">The following table contains additional information on each of the Synchronization tab settings.</span><span class="sxs-lookup"><span data-stu-id="565cf-321">The following table contains additional information on each of the Synchronization tab settings.</span></span>

| <span data-ttu-id="565cf-322">Feature</span><span class="sxs-lookup"><span data-stu-id="565cf-322">Feature</span></span> | <span data-ttu-id="565cf-323">Description</span><span class="sxs-lookup"><span data-stu-id="565cf-323">Description</span></span> |
| --- | --- |
| <span data-ttu-id="565cf-324">Enable synchronization with Active Directory</span><span class="sxs-lookup"><span data-stu-id="565cf-324">Enable synchronization with Active Directory</span></span> |<span data-ttu-id="565cf-325">When checked, the Multi-Factor Auth Server service periodically polls Active Directory for changes.</span><span class="sxs-lookup"><span data-stu-id="565cf-325">When checked, the Multi-Factor Auth Server service periodically polls Active Directory for changes.</span></span> <br><br><span data-ttu-id="565cf-326">Note: At least one Synchronization Item must be added and a Synchronize Now must be performed before the Multi-Factor Auth Server service will start processing changes.</span><span class="sxs-lookup"><span data-stu-id="565cf-326">Note: At least one Synchronization Item must be added and a Synchronize Now must be performed before the Multi-Factor Auth Server service will start processing changes.</span></span> |
| <span data-ttu-id="565cf-327">Synchronize every</span><span class="sxs-lookup"><span data-stu-id="565cf-327">Synchronize every</span></span> |<span data-ttu-id="565cf-328">Specify the time interval the Multi-Factor Auth Server service will wait between polling and processing changes.</span><span class="sxs-lookup"><span data-stu-id="565cf-328">Specify the time interval the Multi-Factor Auth Server service will wait between polling and processing changes.</span></span> <br><br> <span data-ttu-id="565cf-329">Note: The interval specified is the time between the beginning of each cycle.</span><span class="sxs-lookup"><span data-stu-id="565cf-329">Note: The interval specified is the time between the beginning of each cycle.</span></span>  <span data-ttu-id="565cf-330">If the time processing changes exceed the interval, the service will poll again immediately.</span><span class="sxs-lookup"><span data-stu-id="565cf-330">If the time processing changes exceed the interval, the service will poll again immediately.</span></span> |
| <span data-ttu-id="565cf-331">Remove users no longer in Active Directory</span><span class="sxs-lookup"><span data-stu-id="565cf-331">Remove users no longer in Active Directory</span></span> |<span data-ttu-id="565cf-332">When checked, the Multi-Factor Auth Server service will process Active Directory deleted user tombstones and remove the related Multi-Factor Auth Server user.</span><span class="sxs-lookup"><span data-stu-id="565cf-332">When checked, the Multi-Factor Auth Server service will process Active Directory deleted user tombstones and remove the related Multi-Factor Auth Server user.</span></span> |
| <span data-ttu-id="565cf-333">Always perform a full synchronization</span><span class="sxs-lookup"><span data-stu-id="565cf-333">Always perform a full synchronization</span></span> |<span data-ttu-id="565cf-334">When checked, the Multi-Factor Auth Server service will always perform a full synchronization.</span><span class="sxs-lookup"><span data-stu-id="565cf-334">When checked, the Multi-Factor Auth Server service will always perform a full synchronization.</span></span>  <span data-ttu-id="565cf-335">When unchecked, the Multi-Factor Auth Server service will perform an incremental synchronization by only querying users that have changed.</span><span class="sxs-lookup"><span data-stu-id="565cf-335">When unchecked, the Multi-Factor Auth Server service will perform an incremental synchronization by only querying users that have changed.</span></span>  <span data-ttu-id="565cf-336">The default is unchecked.</span><span class="sxs-lookup"><span data-stu-id="565cf-336">The default is unchecked.</span></span> <br><br><span data-ttu-id="565cf-337">When unchecked, Azure MFA Server performs incremental synchronization only when the directory supports the DirSync control and the account binding to the directory has permissions to perform DirSync incremental queries.</span><span class="sxs-lookup"><span data-stu-id="565cf-337">When unchecked, Azure MFA Server performs incremental synchronization only when the directory supports the DirSync control and the account binding to the directory has permissions to perform DirSync incremental queries.</span></span>  <span data-ttu-id="565cf-338">If the account does not have the appropriate permissions or multiple domains are involved in the synchronization, Azure MFA Server performs a full synchronization.</span><span class="sxs-lookup"><span data-stu-id="565cf-338">If the account does not have the appropriate permissions or multiple domains are involved in the synchronization, Azure MFA Server performs a full synchronization.</span></span> |
| <span data-ttu-id="565cf-339">Require administrator approval when more than X users will be disabled or removed</span><span class="sxs-lookup"><span data-stu-id="565cf-339">Require administrator approval when more than X users will be disabled or removed</span></span> |<span data-ttu-id="565cf-340">Synchronization items can be configured to disable or remove users who are no longer a member of the item's container or security group.</span><span class="sxs-lookup"><span data-stu-id="565cf-340">Synchronization items can be configured to disable or remove users who are no longer a member of the item's container or security group.</span></span>  <span data-ttu-id="565cf-341">As a safeguard, administrator approval can be required when the number of users to disable or remove exceeds a threshold.</span><span class="sxs-lookup"><span data-stu-id="565cf-341">As a safeguard, administrator approval can be required when the number of users to disable or remove exceeds a threshold.</span></span>  <span data-ttu-id="565cf-342">When checked, approval is required for specified threshold.</span><span class="sxs-lookup"><span data-stu-id="565cf-342">When checked, approval is required for specified threshold.</span></span>  <span data-ttu-id="565cf-343">The default is 5 and the range is 1 to 999.</span><span class="sxs-lookup"><span data-stu-id="565cf-343">The default is 5 and the range is 1 to 999.</span></span> <br><br> <span data-ttu-id="565cf-344">Approval is facilitated by first sending an email notification to administrators.</span><span class="sxs-lookup"><span data-stu-id="565cf-344">Approval is facilitated by first sending an email notification to administrators.</span></span> <span data-ttu-id="565cf-345">The email notification gives instructions for reviewing and approving the disabling and removal of users.</span><span class="sxs-lookup"><span data-stu-id="565cf-345">The email notification gives instructions for reviewing and approving the disabling and removal of users.</span></span>  <span data-ttu-id="565cf-346">When the Multi-Factor Auth Server user interface is launched, it will prompt for approval.</span><span class="sxs-lookup"><span data-stu-id="565cf-346">When the Multi-Factor Auth Server user interface is launched, it will prompt for approval.</span></span> |

<span data-ttu-id="565cf-347">The **Synchronize Now** button allows you to run a full synchronization for the synchronization items specified.</span><span class="sxs-lookup"><span data-stu-id="565cf-347">The **Synchronize Now** button allows you to run a full synchronization for the synchronization items specified.</span></span>  <span data-ttu-id="565cf-348">A full synchronization is required whenever synchronization items are added, modified, removed, or reordered.</span><span class="sxs-lookup"><span data-stu-id="565cf-348">A full synchronization is required whenever synchronization items are added, modified, removed, or reordered.</span></span>  <span data-ttu-id="565cf-349">It is also required before the Multi-Factor Auth AdSync service is operational since it sets the starting point from which the service will poll for incremental changes.</span><span class="sxs-lookup"><span data-stu-id="565cf-349">It is also required before the Multi-Factor Auth AdSync service is operational since it sets the starting point from which the service will poll for incremental changes.</span></span>  <span data-ttu-id="565cf-350">If changes have been made to synchronization items but a full synchronization hasn't been performed, you will be prompted to Synchronize Now.</span><span class="sxs-lookup"><span data-stu-id="565cf-350">If changes have been made to synchronization items but a full synchronization hasn't been performed, you will be prompted to Synchronize Now.</span></span>

<span data-ttu-id="565cf-351">The **Remove** button allows the administrator to delete one or more synchronization items from the Multi-Factor Auth Server synchronization item list.</span><span class="sxs-lookup"><span data-stu-id="565cf-351">The **Remove** button allows the administrator to delete one or more synchronization items from the Multi-Factor Auth Server synchronization item list.</span></span>

> [!WARNING]
> <span data-ttu-id="565cf-352">Once a synchronization item record has been removed, it cannot be recovered.</span><span class="sxs-lookup"><span data-stu-id="565cf-352">Once a synchronization item record has been removed, it cannot be recovered.</span></span> <span data-ttu-id="565cf-353">You will need to add the synchronization item record again if you deleted it by mistake.</span><span class="sxs-lookup"><span data-stu-id="565cf-353">You will need to add the synchronization item record again if you deleted it by mistake.</span></span>

<span data-ttu-id="565cf-354">The synchronization item or synchronization items have been removed from Multi-Factor Auth Server.</span><span class="sxs-lookup"><span data-stu-id="565cf-354">The synchronization item or synchronization items have been removed from Multi-Factor Auth Server.</span></span>  <span data-ttu-id="565cf-355">The Multi-Factor Auth Server service will no longer process the synchronization items.</span><span class="sxs-lookup"><span data-stu-id="565cf-355">The Multi-Factor Auth Server service will no longer process the synchronization items.</span></span>

<span data-ttu-id="565cf-356">The Move Up and Move Down buttons allow the administrator to change the order of the synchronization items.</span><span class="sxs-lookup"><span data-stu-id="565cf-356">The Move Up and Move Down buttons allow the administrator to change the order of the synchronization items.</span></span>  <span data-ttu-id="565cf-357">The order is important since the same user may be a member of more than one synchronization item (e.g. a container and a security group).</span><span class="sxs-lookup"><span data-stu-id="565cf-357">The order is important since the same user may be a member of more than one synchronization item (e.g. a container and a security group).</span></span>  <span data-ttu-id="565cf-358">The settings applied to the user during synchronization will come from the first synchronization item in the list to which the user is associated.</span><span class="sxs-lookup"><span data-stu-id="565cf-358">The settings applied to the user during synchronization will come from the first synchronization item in the list to which the user is associated.</span></span>  <span data-ttu-id="565cf-359">Therefore, the synchronization items should be put in priority order.</span><span class="sxs-lookup"><span data-stu-id="565cf-359">Therefore, the synchronization items should be put in priority order.</span></span>

> [!TIP]
> <span data-ttu-id="565cf-360">A full synchronization should be performed after removing synchronization items.</span><span class="sxs-lookup"><span data-stu-id="565cf-360">A full synchronization should be performed after removing synchronization items.</span></span>  <span data-ttu-id="565cf-361">A full synchronization should be performed after ordering synchronization items.</span><span class="sxs-lookup"><span data-stu-id="565cf-361">A full synchronization should be performed after ordering synchronization items.</span></span>  <span data-ttu-id="565cf-362">Click **Synchronize Now** to perform a full synchronization.</span><span class="sxs-lookup"><span data-stu-id="565cf-362">Click **Synchronize Now** to perform a full synchronization.</span></span>

## <a name="multi-factor-auth-servers"></a><span data-ttu-id="565cf-363">Multi-Factor Auth Servers</span><span class="sxs-lookup"><span data-stu-id="565cf-363">Multi-Factor Auth Servers</span></span>
<span data-ttu-id="565cf-364">Additional Multi-Factor Auth Servers may be set up to serve as a backup RADIUS proxy, LDAP proxy, or for IIS Authentication.</span><span class="sxs-lookup"><span data-stu-id="565cf-364">Additional Multi-Factor Auth Servers may be set up to serve as a backup RADIUS proxy, LDAP proxy, or for IIS Authentication.</span></span> <span data-ttu-id="565cf-365">The Synchronization configuration is shared among all the agents.</span><span class="sxs-lookup"><span data-stu-id="565cf-365">The Synchronization configuration is shared among all the agents.</span></span> <span data-ttu-id="565cf-366">However, only one of these agents may have the Multi-Factor Auth Server service running.</span><span class="sxs-lookup"><span data-stu-id="565cf-366">However, only one of these agents may have the Multi-Factor Auth Server service running.</span></span> <span data-ttu-id="565cf-367">This tab allows you to select the Multi-Factor Auth Server that should be enabled for synchronization.</span><span class="sxs-lookup"><span data-stu-id="565cf-367">This tab allows you to select the Multi-Factor Auth Server that should be enabled for synchronization.</span></span>

![Multi-Factor-Auth Servers](https://docstestmedia1.blob.core.windows.net/azure-media/articles/multi-factor-authentication/media/multi-factor-authentication-get-started-server-dirint/dirint6.png)







