---
title: 'Create a self-signed certificates for Point-to-Site: PowerShell: Azure | Microsoft Docs'
description: This article contains steps to create a self-signed root certificate, export the public key, and generate client certificates using PowerShell on Windows 10.
services: vpn-gateway
documentationcenter: na
author: cherylmc
manager: timlt
editor: ''
tags: azure-resource-manager
ms.assetid: 27b99f7c-50dc-4f88-8a6e-d60080819a43
ms.service: vpn-gateway
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/10/2017
ms.author: cherylmc
ms.openlocfilehash: 5e63eb6bbbcd130d5ccd87f3155aba8cac518392
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44553952"
---
# <a name="create-a-self-signed-root-certificate-for-point-to-site-connections-using-powershell"></a><span data-ttu-id="da8e5-103">Create a self-signed root certificate for Point-to-Site connections using PowerShell</span><span class="sxs-lookup"><span data-stu-id="da8e5-103">Create a self-signed root certificate for Point-to-Site connections using PowerShell</span></span>

<span data-ttu-id="da8e5-104">Point-to-Site connections use certificates to authenticate.</span><span class="sxs-lookup"><span data-stu-id="da8e5-104">Point-to-Site connections use certificates to authenticate.</span></span> <span data-ttu-id="da8e5-105">When you configure a Point-to-Site connection, you need to upload the public key (.cer file) of a root certificate to Azure.</span><span class="sxs-lookup"><span data-stu-id="da8e5-105">When you configure a Point-to-Site connection, you need to upload the public key (.cer file) of a root certificate to Azure.</span></span> <span data-ttu-id="da8e5-106">This article helps you create a self-signed root certificate, export the public key, and generate and install client certificates.</span><span class="sxs-lookup"><span data-stu-id="da8e5-106">This article helps you create a self-signed root certificate, export the public key, and generate and install client certificates.</span></span>

> [!NOTE]
> <span data-ttu-id="da8e5-107">Previously, makecert was the recommended method to create self-signed root certificates and generate client certificates for Point-to-Site connections.</span><span class="sxs-lookup"><span data-stu-id="da8e5-107">Previously, makecert was the recommended method to create self-signed root certificates and generate client certificates for Point-to-Site connections.</span></span> <span data-ttu-id="da8e5-108">You can now use PowerShell to create these certificates.</span><span class="sxs-lookup"><span data-stu-id="da8e5-108">You can now use PowerShell to create these certificates.</span></span> <span data-ttu-id="da8e5-109">One benefit of using PowerShell is the ability to create SHA-2 certificates.</span><span class="sxs-lookup"><span data-stu-id="da8e5-109">One benefit of using PowerShell is the ability to create SHA-2 certificates.</span></span> 
>
>

## <a name="rootcert"></a><span data-ttu-id="da8e5-110">Create a self-signed root certificate</span><span class="sxs-lookup"><span data-stu-id="da8e5-110">Create a self-signed root certificate</span></span>

<span data-ttu-id="da8e5-111">The following steps walk you through creating a self-signed root certificate using PowerShell.</span><span class="sxs-lookup"><span data-stu-id="da8e5-111">The following steps walk you through creating a self-signed root certificate using PowerShell.</span></span> <span data-ttu-id="da8e5-112">Windows 10 is required to complete the following steps.</span><span class="sxs-lookup"><span data-stu-id="da8e5-112">Windows 10 is required to complete the following steps.</span></span> <span data-ttu-id="da8e5-113">The cmdlets and parameters that are used in these steps are part of the Windows 10 operating system, not a part of a PowerShell version.</span><span class="sxs-lookup"><span data-stu-id="da8e5-113">The cmdlets and parameters that are used in these steps are part of the Windows 10 operating system, not a part of a PowerShell version.</span></span>

1. <span data-ttu-id="da8e5-114">From a computer running Windows 10, open a Windows PowerShell console with elevated privileges.</span><span class="sxs-lookup"><span data-stu-id="da8e5-114">From a computer running Windows 10, open a Windows PowerShell console with elevated privileges.</span></span>
2. <span data-ttu-id="da8e5-115">Use the following example to create the self-signed root certificate.</span><span class="sxs-lookup"><span data-stu-id="da8e5-115">Use the following example to create the self-signed root certificate.</span></span> <span data-ttu-id="da8e5-116">The following example creates a self-signed root certificate named 'P2SRootCert' that is automatically installed in 'Certificates-Current User\Personal\Certificates'.</span><span class="sxs-lookup"><span data-stu-id="da8e5-116">The following example creates a self-signed root certificate named 'P2SRootCert' that is automatically installed in 'Certificates-Current User\Personal\Certificates'.</span></span> <span data-ttu-id="da8e5-117">You can view the certificate by opening *certmgr.msc*.</span><span class="sxs-lookup"><span data-stu-id="da8e5-117">You can view the certificate by opening *certmgr.msc*.</span></span>

  ```powershell
  $cert = New-SelfSignedCertificate -Type Custom -KeySpec Signature `
  -Subject "CN=P2SRootCert" -KeyExportPolicy Exportable `
  -HashAlgorithm sha256 -KeyLength 2048 `
  -CertStoreLocation "Cert:\CurrentUser\My" -KeyUsageProperty Sign -KeyUsage CertSign
  ```


### <a name="cer"></a><span data-ttu-id="da8e5-118">To obtain the public key</span><span class="sxs-lookup"><span data-stu-id="da8e5-118">To obtain the public key</span></span>

<span data-ttu-id="da8e5-119">Point-to-Site connections require the public key (.cer) to be uploaded to Azure.</span><span class="sxs-lookup"><span data-stu-id="da8e5-119">Point-to-Site connections require the public key (.cer) to be uploaded to Azure.</span></span> <span data-ttu-id="da8e5-120">The following steps help you export the .cer file for your self-signed root certificate.</span><span class="sxs-lookup"><span data-stu-id="da8e5-120">The following steps help you export the .cer file for your self-signed root certificate.</span></span>

1. <span data-ttu-id="da8e5-121">To obtain a .cer file from the certificate, open **Manage user certificates**.</span><span class="sxs-lookup"><span data-stu-id="da8e5-121">To obtain a .cer file from the certificate, open **Manage user certificates**.</span></span> <span data-ttu-id="da8e5-122">Locate the self-signed root certificate, typically in 'Certificates - Current User\Personal\Certificates', and right-click.</span><span class="sxs-lookup"><span data-stu-id="da8e5-122">Locate the self-signed root certificate, typically in 'Certificates - Current User\Personal\Certificates', and right-click.</span></span> <span data-ttu-id="da8e5-123">Click **All Tasks**, and then click **Export**.</span><span class="sxs-lookup"><span data-stu-id="da8e5-123">Click **All Tasks**, and then click **Export**.</span></span> <span data-ttu-id="da8e5-124">This opens the **Certificate Export Wizard**.</span><span class="sxs-lookup"><span data-stu-id="da8e5-124">This opens the **Certificate Export Wizard**.</span></span>
2. <span data-ttu-id="da8e5-125">In the Wizard, click **Next**.</span><span class="sxs-lookup"><span data-stu-id="da8e5-125">In the Wizard, click **Next**.</span></span> <span data-ttu-id="da8e5-126">Select **No, do not export the private key**, and then click **Next**.</span><span class="sxs-lookup"><span data-stu-id="da8e5-126">Select **No, do not export the private key**, and then click **Next**.</span></span>
3. <span data-ttu-id="da8e5-127">On the **Export File Format** page, select **Base-64 encoded X.509 (.CER).**, and then click **Next**.</span><span class="sxs-lookup"><span data-stu-id="da8e5-127">On the **Export File Format** page, select **Base-64 encoded X.509 (.CER).**, and then click **Next**.</span></span> 
4. <span data-ttu-id="da8e5-128">On the **File to Export**, **Browse** to the location to which you want to export the certificate.</span><span class="sxs-lookup"><span data-stu-id="da8e5-128">On the **File to Export**, **Browse** to the location to which you want to export the certificate.</span></span> <span data-ttu-id="da8e5-129">For **File name**, name the certificate file.</span><span class="sxs-lookup"><span data-stu-id="da8e5-129">For **File name**, name the certificate file.</span></span> <span data-ttu-id="da8e5-130">Then, click **Next**.</span><span class="sxs-lookup"><span data-stu-id="da8e5-130">Then, click **Next**.</span></span>
5. <span data-ttu-id="da8e5-131">Click **Finish** to export the certificate.</span><span class="sxs-lookup"><span data-stu-id="da8e5-131">Click **Finish** to export the certificate.</span></span> <span data-ttu-id="da8e5-132">You see **The export was successful**.</span><span class="sxs-lookup"><span data-stu-id="da8e5-132">You see **The export was successful**.</span></span> <span data-ttu-id="da8e5-133">Click **OK** to close the wizard.</span><span class="sxs-lookup"><span data-stu-id="da8e5-133">Click **OK** to close the wizard.</span></span>

### <a name="to-export-a-self-signed-root-certificate-optional"></a><span data-ttu-id="da8e5-134">To export a self-signed root certificate (optional)</span><span class="sxs-lookup"><span data-stu-id="da8e5-134">To export a self-signed root certificate (optional)</span></span>
<span data-ttu-id="da8e5-135">You may want to export the self-signed root certificate and store it safely.</span><span class="sxs-lookup"><span data-stu-id="da8e5-135">You may want to export the self-signed root certificate and store it safely.</span></span> <span data-ttu-id="da8e5-136">If need be, you can later install it on another computer and generate more client certificates, or export another .cer file.</span><span class="sxs-lookup"><span data-stu-id="da8e5-136">If need be, you can later install it on another computer and generate more client certificates, or export another .cer file.</span></span>

<span data-ttu-id="da8e5-137">To export the self-signed root certificate as a .pfx, select the root certificate and use the same steps as described in [Export a client certificate](#clientexport) to export.</span><span class="sxs-lookup"><span data-stu-id="da8e5-137">To export the self-signed root certificate as a .pfx, select the root certificate and use the same steps as described in [Export a client certificate](#clientexport) to export.</span></span>

## <a name="clientcert"></a><span data-ttu-id="da8e5-138">Generate a client certificate</span><span class="sxs-lookup"><span data-stu-id="da8e5-138">Generate a client certificate</span></span>

<span data-ttu-id="da8e5-139">Each client computer that connects to a VNet using Point-to-Site must have a client certificate installed.</span><span class="sxs-lookup"><span data-stu-id="da8e5-139">Each client computer that connects to a VNet using Point-to-Site must have a client certificate installed.</span></span> <span data-ttu-id="da8e5-140">You generate a client certificate from the self-signed root certificate, and then export and install the client certificate.</span><span class="sxs-lookup"><span data-stu-id="da8e5-140">You generate a client certificate from the self-signed root certificate, and then export and install the client certificate.</span></span> <span data-ttu-id="da8e5-141">If the client certificate is not installed, authentication fails.</span><span class="sxs-lookup"><span data-stu-id="da8e5-141">If the client certificate is not installed, authentication fails.</span></span> 

<span data-ttu-id="da8e5-142">The following steps walk you through generating a client certificate from a self-signed root certificate.</span><span class="sxs-lookup"><span data-stu-id="da8e5-142">The following steps walk you through generating a client certificate from a self-signed root certificate.</span></span> <span data-ttu-id="da8e5-143">You may generate multiple client certificates from the same root certificate.</span><span class="sxs-lookup"><span data-stu-id="da8e5-143">You may generate multiple client certificates from the same root certificate.</span></span> <span data-ttu-id="da8e5-144">When you generate client certificates using the steps below, the client certificate is automatically installed on the computer that you used to generate the certificate.</span><span class="sxs-lookup"><span data-stu-id="da8e5-144">When you generate client certificates using the steps below, the client certificate is automatically installed on the computer that you used to generate the certificate.</span></span> <span data-ttu-id="da8e5-145">If you want to install a client certificate on another client computer, you can export the certificate.</span><span class="sxs-lookup"><span data-stu-id="da8e5-145">If you want to install a client certificate on another client computer, you can export the certificate.</span></span>

<span data-ttu-id="da8e5-146">Windows 10 is required to complete the following steps.</span><span class="sxs-lookup"><span data-stu-id="da8e5-146">Windows 10 is required to complete the following steps.</span></span> <span data-ttu-id="da8e5-147">The cmdlets and parameters that are used in these steps are part of the Windows 10 operating system, not a part of a PowerShell version.</span><span class="sxs-lookup"><span data-stu-id="da8e5-147">The cmdlets and parameters that are used in these steps are part of the Windows 10 operating system, not a part of a PowerShell version.</span></span>

### <a name="example-1"></a><span data-ttu-id="da8e5-148">Example 1</span><span class="sxs-lookup"><span data-stu-id="da8e5-148">Example 1</span></span>

<span data-ttu-id="da8e5-149">This example uses the declared '$cert' variable from the previous section.</span><span class="sxs-lookup"><span data-stu-id="da8e5-149">This example uses the declared '$cert' variable from the previous section.</span></span> <span data-ttu-id="da8e5-150">If you closed the PowerShell console after creating the self-signed root certificate, or are creating additional client certificates in a new PowerShell console session, use the steps in Example 2.</span><span class="sxs-lookup"><span data-stu-id="da8e5-150">If you closed the PowerShell console after creating the self-signed root certificate, or are creating additional client certificates in a new PowerShell console session, use the steps in Example 2.</span></span>

<span data-ttu-id="da8e5-151">Modify and run the example to generate a client certificate.</span><span class="sxs-lookup"><span data-stu-id="da8e5-151">Modify and run the example to generate a client certificate.</span></span> <span data-ttu-id="da8e5-152">If you run the following example without modifying it, the result is a client certificate named 'P2SChildCert'.</span><span class="sxs-lookup"><span data-stu-id="da8e5-152">If you run the following example without modifying it, the result is a client certificate named 'P2SChildCert'.</span></span>  <span data-ttu-id="da8e5-153">If you want to name the child certificate something else, modify the CN value.</span><span class="sxs-lookup"><span data-stu-id="da8e5-153">If you want to name the child certificate something else, modify the CN value.</span></span> <span data-ttu-id="da8e5-154">Do not change the TextExtension when running this example.</span><span class="sxs-lookup"><span data-stu-id="da8e5-154">Do not change the TextExtension when running this example.</span></span> <span data-ttu-id="da8e5-155">The client certificate that you generate is automatically installed in 'Certificates - Current User\Personal\Certificates' on your computer.</span><span class="sxs-lookup"><span data-stu-id="da8e5-155">The client certificate that you generate is automatically installed in 'Certificates - Current User\Personal\Certificates' on your computer.</span></span>

```powershell
New-SelfSignedCertificate -Type Custom -KeySpec Signature `
-Subject "CN=P2SChildCert" -KeyExportPolicy Exportable `
-HashAlgorithm sha256 -KeyLength 2048 `
-CertStoreLocation "Cert:\CurrentUser\My" `
-Signer $cert -TextExtension @("2.5.29.37={text}1.3.6.1.5.5.7.3.2")
```

### <a name="example-2"></a><span data-ttu-id="da8e5-156">Example 2</span><span class="sxs-lookup"><span data-stu-id="da8e5-156">Example 2</span></span>

<span data-ttu-id="da8e5-157">If you are creating additional client certificates, or are not using the same PowerShell session that you used to create your self-signed root certificate, use the following steps:</span><span class="sxs-lookup"><span data-stu-id="da8e5-157">If you are creating additional client certificates, or are not using the same PowerShell session that you used to create your self-signed root certificate, use the following steps:</span></span>

1. <span data-ttu-id="da8e5-158">Identify the self-signed root certificate that is installed on the computer.</span><span class="sxs-lookup"><span data-stu-id="da8e5-158">Identify the self-signed root certificate that is installed on the computer.</span></span> <span data-ttu-id="da8e5-159">This cmdlet returns a list of certificates that are installed on your computer.</span><span class="sxs-lookup"><span data-stu-id="da8e5-159">This cmdlet returns a list of certificates that are installed on your computer.</span></span>

  ```powershell
  Get-ChildItem -Path “Cert:\CurrentUser\My”
  ```
2. <span data-ttu-id="da8e5-160">Locate the subject name from the returned list, then copy the thumbprint that is located next to it to a text file.</span><span class="sxs-lookup"><span data-stu-id="da8e5-160">Locate the subject name from the returned list, then copy the thumbprint that is located next to it to a text file.</span></span> <span data-ttu-id="da8e5-161">In the following example, there are two certificates.</span><span class="sxs-lookup"><span data-stu-id="da8e5-161">In the following example, there are two certificates.</span></span> <span data-ttu-id="da8e5-162">The CN name is the name of the self-signed root certificate from which you want to generate a child certificate.</span><span class="sxs-lookup"><span data-stu-id="da8e5-162">The CN name is the name of the self-signed root certificate from which you want to generate a child certificate.</span></span> <span data-ttu-id="da8e5-163">In this case, 'P2SRootCert'.</span><span class="sxs-lookup"><span data-stu-id="da8e5-163">In this case, 'P2SRootCert'.</span></span>

        Thumbprint                                Subject

        AED812AD883826FF76B4D1D5A77B3C08EFA79F3F  CN=P2SChildCert4
        7181AA8C1B4D34EEDB2F3D3BEC5839F3FE52D655  CN=P2SRootCert


3. <span data-ttu-id="da8e5-164">Declare a variable for the root certificate using the thumbprint from the previous step.</span><span class="sxs-lookup"><span data-stu-id="da8e5-164">Declare a variable for the root certificate using the thumbprint from the previous step.</span></span> <span data-ttu-id="da8e5-165">Replace THUMBPRINT with the thumbprint of the root certificate from which you want to generate a child certificate.</span><span class="sxs-lookup"><span data-stu-id="da8e5-165">Replace THUMBPRINT with the thumbprint of the root certificate from which you want to generate a child certificate.</span></span>

  ```powershell
  $cert = Get-ChildItem -Path "Cert:\CurrentUser\My\THUMBPRINT"
  ```

  <span data-ttu-id="da8e5-166">For example, using the thumbprint for P2SRootCert in the previous step, the variable looks like this:</span><span class="sxs-lookup"><span data-stu-id="da8e5-166">For example, using the thumbprint for P2SRootCert in the previous step, the variable looks like this:</span></span>

  ```powershell
  $cert = Get-ChildItem -Path "Cert:\CurrentUser\My\7181AA8C1B4D34EEDB2F3D3BEC5839F3FE52D655"
  ```   

4.  <span data-ttu-id="da8e5-167">Modify and run the example to generate a client certificate.</span><span class="sxs-lookup"><span data-stu-id="da8e5-167">Modify and run the example to generate a client certificate.</span></span> <span data-ttu-id="da8e5-168">If you run the following example without modifying it, the result is a client certificate named 'P2SChildCert'.</span><span class="sxs-lookup"><span data-stu-id="da8e5-168">If you run the following example without modifying it, the result is a client certificate named 'P2SChildCert'.</span></span> <span data-ttu-id="da8e5-169">If you want to name the child certificate something else, modify the CN value.</span><span class="sxs-lookup"><span data-stu-id="da8e5-169">If you want to name the child certificate something else, modify the CN value.</span></span> <span data-ttu-id="da8e5-170">Do not change the TextExtension when running this example.</span><span class="sxs-lookup"><span data-stu-id="da8e5-170">Do not change the TextExtension when running this example.</span></span> <span data-ttu-id="da8e5-171">The client certificate that you generate is automatically installed in 'Certificates - Current User\Personal\Certificates' on your computer.</span><span class="sxs-lookup"><span data-stu-id="da8e5-171">The client certificate that you generate is automatically installed in 'Certificates - Current User\Personal\Certificates' on your computer.</span></span>

  ```powershell
  New-SelfSignedCertificate -Type Custom -KeySpec Signature `
  -Subject "CN=P2SChildCert" -KeyExportPolicy Exportable `
  -HashAlgorithm sha256 -KeyLength 2048 `
  -CertStoreLocation "Cert:\CurrentUser\My" `
  -Signer $cert -TextExtension @("2.5.29.37={text}1.3.6.1.5.5.7.3.2")
  ```

## <a name="clientexport"></a><span data-ttu-id="da8e5-172">Export a client certificate</span><span class="sxs-lookup"><span data-stu-id="da8e5-172">Export a client certificate</span></span>   

<span data-ttu-id="da8e5-173">When you generate a client certificate, it's automatically installed on the computer that you used to generate it.</span><span class="sxs-lookup"><span data-stu-id="da8e5-173">When you generate a client certificate, it's automatically installed on the computer that you used to generate it.</span></span> <span data-ttu-id="da8e5-174">If you want to install the client certificate on another client computer, you need to export the client certificate that you generated.</span><span class="sxs-lookup"><span data-stu-id="da8e5-174">If you want to install the client certificate on another client computer, you need to export the client certificate that you generated.</span></span>                              

1. <span data-ttu-id="da8e5-175">To export a client certificate, open **Manage user certificates**.</span><span class="sxs-lookup"><span data-stu-id="da8e5-175">To export a client certificate, open **Manage user certificates**.</span></span> <span data-ttu-id="da8e5-176">The client certificates that you generated are, by default, located in 'Certificates - Current User\Personal\Certificates'.</span><span class="sxs-lookup"><span data-stu-id="da8e5-176">The client certificates that you generated are, by default, located in 'Certificates - Current User\Personal\Certificates'.</span></span> <span data-ttu-id="da8e5-177">Right-click the client certificate that you want to export, click **all tasks**, and then click **Export**.</span><span class="sxs-lookup"><span data-stu-id="da8e5-177">Right-click the client certificate that you want to export, click **all tasks**, and then click **Export**.</span></span> <span data-ttu-id="da8e5-178">This opens the **Certificate Export Wizard**.</span><span class="sxs-lookup"><span data-stu-id="da8e5-178">This opens the **Certificate Export Wizard**.</span></span>
2. <span data-ttu-id="da8e5-179">In the Wizard, click **Next**, then select **Yes, export the private key**, and then click **Next**.</span><span class="sxs-lookup"><span data-stu-id="da8e5-179">In the Wizard, click **Next**, then select **Yes, export the private key**, and then click **Next**.</span></span>
3. <span data-ttu-id="da8e5-180">On the **Export File Format** page, leave the defaults selected.</span><span class="sxs-lookup"><span data-stu-id="da8e5-180">On the **Export File Format** page, leave the defaults selected.</span></span> <span data-ttu-id="da8e5-181">Make sure that **Include all certificates in the certification path if possible** is selected.</span><span class="sxs-lookup"><span data-stu-id="da8e5-181">Make sure that **Include all certificates in the certification path if possible** is selected.</span></span> <span data-ttu-id="da8e5-182">Selecting this also exports the root certificate information that is required for successful authentication.</span><span class="sxs-lookup"><span data-stu-id="da8e5-182">Selecting this also exports the root certificate information that is required for successful authentication.</span></span> <span data-ttu-id="da8e5-183">Then, click **Next**.</span><span class="sxs-lookup"><span data-stu-id="da8e5-183">Then, click **Next**.</span></span>
4. <span data-ttu-id="da8e5-184">On the **Security** page, you must protect the private key.</span><span class="sxs-lookup"><span data-stu-id="da8e5-184">On the **Security** page, you must protect the private key.</span></span> <span data-ttu-id="da8e5-185">If you select to use a password, make sure to record or remember the password that you set for this certificate.</span><span class="sxs-lookup"><span data-stu-id="da8e5-185">If you select to use a password, make sure to record or remember the password that you set for this certificate.</span></span> <span data-ttu-id="da8e5-186">Then, click **Next**.</span><span class="sxs-lookup"><span data-stu-id="da8e5-186">Then, click **Next**.</span></span>
5. <span data-ttu-id="da8e5-187">On the **File to Export**, **Browse** to the location to which you want to export the certificate.</span><span class="sxs-lookup"><span data-stu-id="da8e5-187">On the **File to Export**, **Browse** to the location to which you want to export the certificate.</span></span> <span data-ttu-id="da8e5-188">For **File name**, name the certificate file.</span><span class="sxs-lookup"><span data-stu-id="da8e5-188">For **File name**, name the certificate file.</span></span> <span data-ttu-id="da8e5-189">Then, click **Next**.</span><span class="sxs-lookup"><span data-stu-id="da8e5-189">Then, click **Next**.</span></span>
6. <span data-ttu-id="da8e5-190">Click **Finish** to export the certificate.</span><span class="sxs-lookup"><span data-stu-id="da8e5-190">Click **Finish** to export the certificate.</span></span>    

## <a name="install"></a><span data-ttu-id="da8e5-191">Install an exported client certificate</span><span class="sxs-lookup"><span data-stu-id="da8e5-191">Install an exported client certificate</span></span>

<span data-ttu-id="da8e5-192">If you want to create a P2S connection from a client computer other than the one you used to generate the client certificates, you need to install a client certificate.</span><span class="sxs-lookup"><span data-stu-id="da8e5-192">If you want to create a P2S connection from a client computer other than the one you used to generate the client certificates, you need to install a client certificate.</span></span> <span data-ttu-id="da8e5-193">When installing a client certificate, you need the password that was created when the client certificate was exported.</span><span class="sxs-lookup"><span data-stu-id="da8e5-193">When installing a client certificate, you need the password that was created when the client certificate was exported.</span></span>

1. <span data-ttu-id="da8e5-194">Locate and copy the *.pfx* file to the client computer.</span><span class="sxs-lookup"><span data-stu-id="da8e5-194">Locate and copy the *.pfx* file to the client computer.</span></span> <span data-ttu-id="da8e5-195">On the client computer, double-click the *.pfx* file to install.</span><span class="sxs-lookup"><span data-stu-id="da8e5-195">On the client computer, double-click the *.pfx* file to install.</span></span> <span data-ttu-id="da8e5-196">Leave the **Store Location** as **Current User**, and then click **Next**.</span><span class="sxs-lookup"><span data-stu-id="da8e5-196">Leave the **Store Location** as **Current User**, and then click **Next**.</span></span>
2. <span data-ttu-id="da8e5-197">On the **File** to import page, don't make any changes.</span><span class="sxs-lookup"><span data-stu-id="da8e5-197">On the **File** to import page, don't make any changes.</span></span> <span data-ttu-id="da8e5-198">Click **Next**.</span><span class="sxs-lookup"><span data-stu-id="da8e5-198">Click **Next**.</span></span>
3. <span data-ttu-id="da8e5-199">On the **Private key protection** page, input the password for the certificate, or verify that the security principal is correct, then click **Next**.</span><span class="sxs-lookup"><span data-stu-id="da8e5-199">On the **Private key protection** page, input the password for the certificate, or verify that the security principal is correct, then click **Next**.</span></span>
4. <span data-ttu-id="da8e5-200">On the **Certificate Store** page, leave the default location, and then click **Next**.</span><span class="sxs-lookup"><span data-stu-id="da8e5-200">On the **Certificate Store** page, leave the default location, and then click **Next**.</span></span>
5. <span data-ttu-id="da8e5-201">Click **Finish**.</span><span class="sxs-lookup"><span data-stu-id="da8e5-201">Click **Finish**.</span></span> <span data-ttu-id="da8e5-202">On the **Security Warning** for the certificate installation, click **Yes**.</span><span class="sxs-lookup"><span data-stu-id="da8e5-202">On the **Security Warning** for the certificate installation, click **Yes**.</span></span> <span data-ttu-id="da8e5-203">You can feel comfortable clicking 'Yes' because you generated the certificate.</span><span class="sxs-lookup"><span data-stu-id="da8e5-203">You can feel comfortable clicking 'Yes' because you generated the certificate.</span></span> <span data-ttu-id="da8e5-204">The certificate is now successfully imported.</span><span class="sxs-lookup"><span data-stu-id="da8e5-204">The certificate is now successfully imported.</span></span>

## <a name="next-steps"></a><span data-ttu-id="da8e5-205">Next steps</span><span class="sxs-lookup"><span data-stu-id="da8e5-205">Next steps</span></span>
<span data-ttu-id="da8e5-206">Continue with your Point-to-Site configuration.</span><span class="sxs-lookup"><span data-stu-id="da8e5-206">Continue with your Point-to-Site configuration.</span></span> 

* <span data-ttu-id="da8e5-207">For **Resource Manager** deployment model steps, see [Configure a Point-to-Site connection to a VNet](vpn-gateway-howto-point-to-site-resource-manager-portal.md).</span><span class="sxs-lookup"><span data-stu-id="da8e5-207">For **Resource Manager** deployment model steps, see [Configure a Point-to-Site connection to a VNet](vpn-gateway-howto-point-to-site-resource-manager-portal.md).</span></span> 
* <span data-ttu-id="da8e5-208">For **classic** deployment model steps, see [Configure a Point-to-Site VPN connection to a VNet (classic)](vpn-gateway-howto-point-to-site-classic-azure-portal.md).</span><span class="sxs-lookup"><span data-stu-id="da8e5-208">For **classic** deployment model steps, see [Configure a Point-to-Site VPN connection to a VNet (classic)](vpn-gateway-howto-point-to-site-classic-azure-portal.md).</span></span>