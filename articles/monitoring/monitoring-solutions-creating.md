---
title: Build a management solution in Azure | Microsoft Docs
description: Management solutions include packaged management scenarios in Azure that customers can add to their Log Analytics workspace.  This article provides details on how you can create management solutions to be used in your own environment or made available to your customers.
services: monitoring
documentationcenter: ''
author: bwren
manager: carmonm
editor: tysonn
ms.assetid: 1915e204-ba7e-431b-9718-9eb6b4213ad8
ms.service: monitoring
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 03/20/2017
ms.author: bwren
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: a07a17105b4d84b51689e9636cfacc7a3b5428ad
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44857980"
---
# <a name="design-and-build-a-management-solution-in-azure-preview"></a><span data-ttu-id="daeec-104">Design and build a management solution in Azure (Preview)</span><span class="sxs-lookup"><span data-stu-id="daeec-104">Design and build a management solution in Azure (Preview)</span></span>
> [!NOTE]
> <span data-ttu-id="daeec-105">This is preliminary documentation for creating management solutions in Azure which are currently in preview.</span><span class="sxs-lookup"><span data-stu-id="daeec-105">This is preliminary documentation for creating management solutions in Azure which are currently in preview.</span></span> <span data-ttu-id="daeec-106">Any schema described below is subject to change.</span><span class="sxs-lookup"><span data-stu-id="daeec-106">Any schema described below is subject to change.</span></span>

<span data-ttu-id="daeec-107">[Management solutions]( monitoring-solutions.md) provide packaged management scenarios that customers can add to their Log Analytics workspace.</span><span class="sxs-lookup"><span data-stu-id="daeec-107">[Management solutions]( monitoring-solutions.md) provide packaged management scenarios that customers can add to their Log Analytics workspace.</span></span>  <span data-ttu-id="daeec-108">This article presents a basic process to design and build a management solution that is suitable for most common requirements.</span><span class="sxs-lookup"><span data-stu-id="daeec-108">This article presents a basic process to design and build a management solution that is suitable for most common requirements.</span></span>  <span data-ttu-id="daeec-109">If you are new to building management solutions then you can use this process as a starting point and then leverage the concepts for more complex solutions as your requirements evolve.</span><span class="sxs-lookup"><span data-stu-id="daeec-109">If you are new to building management solutions then you can use this process as a starting point and then leverage the concepts for more complex solutions as your requirements evolve.</span></span>

## <a name="what-is-a-management-solution"></a><span data-ttu-id="daeec-110">What is a management solution?</span><span class="sxs-lookup"><span data-stu-id="daeec-110">What is a management solution?</span></span>

<span data-ttu-id="daeec-111">Management solutions contain Azure resources that work together to achieve a particular management scenario.</span><span class="sxs-lookup"><span data-stu-id="daeec-111">Management solutions contain Azure resources that work together to achieve a particular management scenario.</span></span>  <span data-ttu-id="daeec-112">They are implemented as [Resource Management templates](../azure-resource-manager/resource-manager-template-walkthrough.md) that contain details of how to install and configure their contained resources when the solution is installed.</span><span class="sxs-lookup"><span data-stu-id="daeec-112">They are implemented as [Resource Management templates](../azure-resource-manager/resource-manager-template-walkthrough.md) that contain details of how to install and configure their contained resources when the solution is installed.</span></span>

<span data-ttu-id="daeec-113">The basic strategy is to start your management solution by building the individual components in your Azure environment.</span><span class="sxs-lookup"><span data-stu-id="daeec-113">The basic strategy is to start your management solution by building the individual components in your Azure environment.</span></span>  <span data-ttu-id="daeec-114">Once you have the functionality working properly, then you can start packaging them into a [management solution file]( monitoring-solutions-solution-file.md).</span><span class="sxs-lookup"><span data-stu-id="daeec-114">Once you have the functionality working properly, then you can start packaging them into a [management solution file]( monitoring-solutions-solution-file.md).</span></span> 


## <a name="design-your-solution"></a><span data-ttu-id="daeec-115">Design your solution</span><span class="sxs-lookup"><span data-stu-id="daeec-115">Design your solution</span></span>
<span data-ttu-id="daeec-116">The most common pattern for a management solution is shown in the following diagram.</span><span class="sxs-lookup"><span data-stu-id="daeec-116">The most common pattern for a management solution is shown in the following diagram.</span></span>  <span data-ttu-id="daeec-117">The different components in this pattern are discussed in the below.</span><span class="sxs-lookup"><span data-stu-id="daeec-117">The different components in this pattern are discussed in the below.</span></span>

![Management solution overview](media/monitoring-solutions-creating/solution-overview.png)


### <a name="data-sources"></a><span data-ttu-id="daeec-119">Data sources</span><span class="sxs-lookup"><span data-stu-id="daeec-119">Data sources</span></span>
<span data-ttu-id="daeec-120">The first step in designing a solution is determining the data that you require from the Log Analytics repository.</span><span class="sxs-lookup"><span data-stu-id="daeec-120">The first step in designing a solution is determining the data that you require from the Log Analytics repository.</span></span>  <span data-ttu-id="daeec-121">This data may be collected by a [data source](../log-analytics/log-analytics-data-sources.md) or [another solution]( monitoring-solutions.md), or your solution may need to provide the process to collect it.</span><span class="sxs-lookup"><span data-stu-id="daeec-121">This data may be collected by a [data source](../log-analytics/log-analytics-data-sources.md) or [another solution]( monitoring-solutions.md), or your solution may need to provide the process to collect it.</span></span>

<span data-ttu-id="daeec-122">There are a number of ways data sources that can be collected in the Log Analytics repository as described in [Data sources in Log Analytics](../log-analytics/log-analytics-data-sources.md).</span><span class="sxs-lookup"><span data-stu-id="daeec-122">There are a number of ways data sources that can be collected in the Log Analytics repository as described in [Data sources in Log Analytics](../log-analytics/log-analytics-data-sources.md).</span></span>  <span data-ttu-id="daeec-123">This includes events in the Windows Event Log or generated by Syslog in addition to performance counters for both Windows and Linux clients.</span><span class="sxs-lookup"><span data-stu-id="daeec-123">This includes events in the Windows Event Log or generated by Syslog in addition to performance counters for both Windows and Linux clients.</span></span>  <span data-ttu-id="daeec-124">You can also gather data from Azure resources collected by Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="daeec-124">You can also gather data from Azure resources collected by Azure Monitor.</span></span>  

<span data-ttu-id="daeec-125">If you require data that's not accessible through any of the available data sources, then you can use the [HTTP Data Collector API](../log-analytics/log-analytics-data-collector-api.md) which allows you to write data to the Log Analytics repository from any client that can call a REST API.</span><span class="sxs-lookup"><span data-stu-id="daeec-125">If you require data that's not accessible through any of the available data sources, then you can use the [HTTP Data Collector API](../log-analytics/log-analytics-data-collector-api.md) which allows you to write data to the Log Analytics repository from any client that can call a REST API.</span></span>  <span data-ttu-id="daeec-126">The most common means of custom data collection in a management solution is to create a [runbook in Azure Automation](../automation/automation-runbook-types.md) that collects the required data from Azure or external resources and uses the Data Collector API to write to the repository.</span><span class="sxs-lookup"><span data-stu-id="daeec-126">The most common means of custom data collection in a management solution is to create a [runbook in Azure Automation](../automation/automation-runbook-types.md) that collects the required data from Azure or external resources and uses the Data Collector API to write to the repository.</span></span>  

### <a name="log-searches"></a><span data-ttu-id="daeec-127">Log searches</span><span class="sxs-lookup"><span data-stu-id="daeec-127">Log searches</span></span>
<span data-ttu-id="daeec-128">[Log searches](../log-analytics/log-analytics-log-searches.md) are used to extract and analyze data in the Log Analytics repository.</span><span class="sxs-lookup"><span data-stu-id="daeec-128">[Log searches](../log-analytics/log-analytics-log-searches.md) are used to extract and analyze data in the Log Analytics repository.</span></span>  <span data-ttu-id="daeec-129">They are used by views and alerts in addition to allowing the user to perform ad hoc analysis of data in the repository.</span><span class="sxs-lookup"><span data-stu-id="daeec-129">They are used by views and alerts in addition to allowing the user to perform ad hoc analysis of data in the repository.</span></span>  

<span data-ttu-id="daeec-130">You should define any queries that you think will be helpful to the user even if they aren't used by any views or alerts.</span><span class="sxs-lookup"><span data-stu-id="daeec-130">You should define any queries that you think will be helpful to the user even if they aren't used by any views or alerts.</span></span>  <span data-ttu-id="daeec-131">These will be available to them as Saved Searches in the portal, and you can also include them in a [List of Queries visualization part](../log-analytics/log-analytics-view-designer-parts.md#list-of-queries-part) in your custom view.</span><span class="sxs-lookup"><span data-stu-id="daeec-131">These will be available to them as Saved Searches in the portal, and you can also include them in a [List of Queries visualization part](../log-analytics/log-analytics-view-designer-parts.md#list-of-queries-part) in your custom view.</span></span>

### <a name="alerts"></a><span data-ttu-id="daeec-132">Alerts</span><span class="sxs-lookup"><span data-stu-id="daeec-132">Alerts</span></span>
<span data-ttu-id="daeec-133">[Alerts in Log Analytics](../log-analytics/log-analytics-alerts.md) identify issues through [log searches](#log-searches) against the data in the repository.</span><span class="sxs-lookup"><span data-stu-id="daeec-133">[Alerts in Log Analytics](../log-analytics/log-analytics-alerts.md) identify issues through [log searches](#log-searches) against the data in the repository.</span></span>  <span data-ttu-id="daeec-134">They either notify the user or automatically run an action in response.</span><span class="sxs-lookup"><span data-stu-id="daeec-134">They either notify the user or automatically run an action in response.</span></span> <span data-ttu-id="daeec-135">You should identify different alert conditions for your application and include corresponding alert rules in your solution file.</span><span class="sxs-lookup"><span data-stu-id="daeec-135">You should identify different alert conditions for your application and include corresponding alert rules in your solution file.</span></span>

<span data-ttu-id="daeec-136">If the issue can potentially be corrected with an automated process, then you'll typically create a runbook in Azure Automation to perform this remediation.</span><span class="sxs-lookup"><span data-stu-id="daeec-136">If the issue can potentially be corrected with an automated process, then you'll typically create a runbook in Azure Automation to perform this remediation.</span></span>  <span data-ttu-id="daeec-137">Most Azure services can be managed with [cmdlets](/powershell/azure/overview) which the runbook would leverage to perform such functionality.</span><span class="sxs-lookup"><span data-stu-id="daeec-137">Most Azure services can be managed with [cmdlets](/powershell/azure/overview) which the runbook would leverage to perform such functionality.</span></span>

<span data-ttu-id="daeec-138">If your solution requires external functionality in response to an alert, then you can use a [webhook response](../log-analytics/log-analytics-alerts-actions.md).</span><span class="sxs-lookup"><span data-stu-id="daeec-138">If your solution requires external functionality in response to an alert, then you can use a [webhook response](../log-analytics/log-analytics-alerts-actions.md).</span></span>  <span data-ttu-id="daeec-139">This allows you to call an external web service sending information from the alert.</span><span class="sxs-lookup"><span data-stu-id="daeec-139">This allows you to call an external web service sending information from the alert.</span></span>

### <a name="views"></a><span data-ttu-id="daeec-140">Views</span><span class="sxs-lookup"><span data-stu-id="daeec-140">Views</span></span>
<span data-ttu-id="daeec-141">Views in Log Analytics are used to visualize data from the Log Analytics repository.</span><span class="sxs-lookup"><span data-stu-id="daeec-141">Views in Log Analytics are used to visualize data from the Log Analytics repository.</span></span>  <span data-ttu-id="daeec-142">Each solution will typically contain a single view with a [tile](../log-analytics/log-analytics-view-designer-tiles.md) that is displayed on the user's main dashboard.</span><span class="sxs-lookup"><span data-stu-id="daeec-142">Each solution will typically contain a single view with a [tile](../log-analytics/log-analytics-view-designer-tiles.md) that is displayed on the user's main dashboard.</span></span>  <span data-ttu-id="daeec-143">The view can contain any number of [visualization parts](../log-analytics/log-analytics-view-designer-parts.md) to provide different visualizations of the collected data to the user.</span><span class="sxs-lookup"><span data-stu-id="daeec-143">The view can contain any number of [visualization parts](../log-analytics/log-analytics-view-designer-parts.md) to provide different visualizations of the collected data to the user.</span></span>

<span data-ttu-id="daeec-144">You [create custom views using the View Designer](../log-analytics/log-analytics-view-designer.md) which you can later export for inclusion in your solution file.</span><span class="sxs-lookup"><span data-stu-id="daeec-144">You [create custom views using the View Designer](../log-analytics/log-analytics-view-designer.md) which you can later export for inclusion in your solution file.</span></span>  


## <a name="create-solution-file"></a><span data-ttu-id="daeec-145">Create solution file</span><span class="sxs-lookup"><span data-stu-id="daeec-145">Create solution file</span></span>
<span data-ttu-id="daeec-146">Once you've configured and tested the components that will be part of your solution, you can [create your solution file]( monitoring-solutions-solution-file.md).</span><span class="sxs-lookup"><span data-stu-id="daeec-146">Once you've configured and tested the components that will be part of your solution, you can [create your solution file]( monitoring-solutions-solution-file.md).</span></span>  <span data-ttu-id="daeec-147">You will implement the solution components in a [Resource Manager template](../azure-resource-manager/resource-group-authoring-templates.md) that includes a [solution resource]( monitoring-solutions-solution-file.md#solution-resource) with relationships to the other resources in the file.</span><span class="sxs-lookup"><span data-stu-id="daeec-147">You will implement the solution components in a [Resource Manager template](../azure-resource-manager/resource-group-authoring-templates.md) that includes a [solution resource]( monitoring-solutions-solution-file.md#solution-resource) with relationships to the other resources in the file.</span></span>  


## <a name="test-your-solution"></a><span data-ttu-id="daeec-148">Test your solution</span><span class="sxs-lookup"><span data-stu-id="daeec-148">Test your solution</span></span>
<span data-ttu-id="daeec-149">While you are developing your solution, you will need to install and test it in your workspace.</span><span class="sxs-lookup"><span data-stu-id="daeec-149">While you are developing your solution, you will need to install and test it in your workspace.</span></span>  <span data-ttu-id="daeec-150">You can do this using any of the available methods to [test and install Resource Manager templates](../azure-resource-manager/resource-group-template-deploy.md).</span><span class="sxs-lookup"><span data-stu-id="daeec-150">You can do this using any of the available methods to [test and install Resource Manager templates](../azure-resource-manager/resource-group-template-deploy.md).</span></span>

## <a name="publish-your-solution"></a><span data-ttu-id="daeec-151">Publish your solution</span><span class="sxs-lookup"><span data-stu-id="daeec-151">Publish your solution</span></span>
<span data-ttu-id="daeec-152">Once you have completed and tested your solution, you can make it available to customers through either the following sources.</span><span class="sxs-lookup"><span data-stu-id="daeec-152">Once you have completed and tested your solution, you can make it available to customers through either the following sources.</span></span>

- <span data-ttu-id="daeec-153">**Azure Quickstart templates**.</span><span class="sxs-lookup"><span data-stu-id="daeec-153">**Azure Quickstart templates**.</span></span>  <span data-ttu-id="daeec-154">[Azure Quickstart templates](https://azure.microsoft.com/resources/templates/) is a set of Resource Manager templates contributed by the community through GitHub.</span><span class="sxs-lookup"><span data-stu-id="daeec-154">[Azure Quickstart templates](https://azure.microsoft.com/resources/templates/) is a set of Resource Manager templates contributed by the community through GitHub.</span></span>  <span data-ttu-id="daeec-155">You can make your solution available by following information in the [contribution guide](https://github.com/Azure/azure-quickstart-templates/tree/master/1-CONTRIBUTION-GUIDE).</span><span class="sxs-lookup"><span data-stu-id="daeec-155">You can make your solution available by following information in the [contribution guide](https://github.com/Azure/azure-quickstart-templates/tree/master/1-CONTRIBUTION-GUIDE).</span></span>
- <span data-ttu-id="daeec-156">**Azure Marketplace**.</span><span class="sxs-lookup"><span data-stu-id="daeec-156">**Azure Marketplace**.</span></span>  <span data-ttu-id="daeec-157">The [Azure Marketplace](https://azuremarketplace.microsoft.com/marketplace/) allows you to distribute and sell your solution to other developers, ISVs, and IT professionals.</span><span class="sxs-lookup"><span data-stu-id="daeec-157">The [Azure Marketplace](https://azuremarketplace.microsoft.com/marketplace/) allows you to distribute and sell your solution to other developers, ISVs, and IT professionals.</span></span>  <span data-ttu-id="daeec-158">You can learn how to publish your solution to Azure Marketplace at [How to publish and manage an offer in the Azure Marketplace](../marketplace/marketplace-publishers-guide.md).</span><span class="sxs-lookup"><span data-stu-id="daeec-158">You can learn how to publish your solution to Azure Marketplace at [How to publish and manage an offer in the Azure Marketplace](../marketplace/marketplace-publishers-guide.md).</span></span>



## <a name="next-steps"></a><span data-ttu-id="daeec-159">Next steps</span><span class="sxs-lookup"><span data-stu-id="daeec-159">Next steps</span></span>
* <span data-ttu-id="daeec-160">Learn how to [create a solution file]( monitoring-solutions-solution-file.md) for your management solution.</span><span class="sxs-lookup"><span data-stu-id="daeec-160">Learn how to [create a solution file]( monitoring-solutions-solution-file.md) for your management solution.</span></span>
* <span data-ttu-id="daeec-161">Learn the details of [Authoring Azure Resource Manager templates](../azure-resource-manager/resource-group-authoring-templates.md).</span><span class="sxs-lookup"><span data-stu-id="daeec-161">Learn the details of [Authoring Azure Resource Manager templates](../azure-resource-manager/resource-group-authoring-templates.md).</span></span>
* <span data-ttu-id="daeec-162">Search [Azure Quickstart Templates](https://azure.microsoft.com/documentation/templates) for samples of different Resource Manager templates.</span><span class="sxs-lookup"><span data-stu-id="daeec-162">Search [Azure Quickstart Templates](https://azure.microsoft.com/documentation/templates) for samples of different Resource Manager templates.</span></span>