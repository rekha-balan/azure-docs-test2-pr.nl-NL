---
title: Protect your content with Azure Media Services | Microsoft Docs
description: This articles give an overview of content protection with Media Services.
services: media-services
documentationcenter: ''
author: Juliako
manager: cfowler
editor: ''
ms.assetid: 81bc00e1-dcda-4d69-b9ab-8768b793422b
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/01/2018
ms.author: juliako
ms.openlocfilehash: 63cf7633a2280682b3a3da7e8939e71e83ee8f3b
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44869684"
---
# <a name="content-protection-overview"></a><span data-ttu-id="bce46-103">Content protection overview</span><span class="sxs-lookup"><span data-stu-id="bce46-103">Content protection overview</span></span>
 <span data-ttu-id="bce46-104">You can use Azure Media Services to secure your media from the time it leaves your computer through storage, processing, and delivery.</span><span class="sxs-lookup"><span data-stu-id="bce46-104">You can use Azure Media Services to secure your media from the time it leaves your computer through storage, processing, and delivery.</span></span> <span data-ttu-id="bce46-105">With Media Services, you can deliver your live and on-demand content encrypted dynamically with Advanced Encryption Standard (AES-128) or any of the three major digital rights management (DRM) systems: Microsoft PlayReady, Google Widevine, and Apple FairPlay.</span><span class="sxs-lookup"><span data-stu-id="bce46-105">With Media Services, you can deliver your live and on-demand content encrypted dynamically with Advanced Encryption Standard (AES-128) or any of the three major digital rights management (DRM) systems: Microsoft PlayReady, Google Widevine, and Apple FairPlay.</span></span> <span data-ttu-id="bce46-106">Media Services also provides a service for delivering AES keys and DRM (PlayReady, Widevine, and FairPlay) licenses to authorized clients.</span><span class="sxs-lookup"><span data-stu-id="bce46-106">Media Services also provides a service for delivering AES keys and DRM (PlayReady, Widevine, and FairPlay) licenses to authorized clients.</span></span> 

<span data-ttu-id="bce46-107">The following image illustrates the Media Services content protection workflow:</span><span class="sxs-lookup"><span data-stu-id="bce46-107">The following image illustrates the Media Services content protection workflow:</span></span> 

![Protect with PlayReady](./media/media-services-content-protection-overview/media-services-content-protection-with-multi-drm.png)

<span data-ttu-id="bce46-109">This article explains concepts and terminology relevant to understanding content protection with Media Services.</span><span class="sxs-lookup"><span data-stu-id="bce46-109">This article explains concepts and terminology relevant to understanding content protection with Media Services.</span></span> <span data-ttu-id="bce46-110">The article also provides links to articles that discuss how to protect content.</span><span class="sxs-lookup"><span data-stu-id="bce46-110">The article also provides links to articles that discuss how to protect content.</span></span> 

## <a name="dynamic-encryption"></a><span data-ttu-id="bce46-111">Dynamic encryption</span><span class="sxs-lookup"><span data-stu-id="bce46-111">Dynamic encryption</span></span>
 <span data-ttu-id="bce46-112">You can use Media Services to deliver your content encrypted dynamically with AES clear key or DRM encryption by using PlayReady, Widevine, or FairPlay.</span><span class="sxs-lookup"><span data-stu-id="bce46-112">You can use Media Services to deliver your content encrypted dynamically with AES clear key or DRM encryption by using PlayReady, Widevine, or FairPlay.</span></span> <span data-ttu-id="bce46-113">Currently, you can encrypt the HTTP Live Streaming (HLS), MPEG DASH, and Smooth Streaming formats.</span><span class="sxs-lookup"><span data-stu-id="bce46-113">Currently, you can encrypt the HTTP Live Streaming (HLS), MPEG DASH, and Smooth Streaming formats.</span></span> <span data-ttu-id="bce46-114">Encryption on progressive downloads is not supported.</span><span class="sxs-lookup"><span data-stu-id="bce46-114">Encryption on progressive downloads is not supported.</span></span> <span data-ttu-id="bce46-115">Each encryption method supports the following streaming protocols:</span><span class="sxs-lookup"><span data-stu-id="bce46-115">Each encryption method supports the following streaming protocols:</span></span>

- <span data-ttu-id="bce46-116">AES: MPEG-DASH, Smooth Streaming, and HLS</span><span class="sxs-lookup"><span data-stu-id="bce46-116">AES: MPEG-DASH, Smooth Streaming, and HLS</span></span>
- <span data-ttu-id="bce46-117">PlayReady: MPEG-DASH, Smooth Streaming, and HLS</span><span class="sxs-lookup"><span data-stu-id="bce46-117">PlayReady: MPEG-DASH, Smooth Streaming, and HLS</span></span>
- <span data-ttu-id="bce46-118">Widevine: MPEG-DASH</span><span class="sxs-lookup"><span data-stu-id="bce46-118">Widevine: MPEG-DASH</span></span>
- <span data-ttu-id="bce46-119">FairPlay: HLS</span><span class="sxs-lookup"><span data-stu-id="bce46-119">FairPlay: HLS</span></span>

<span data-ttu-id="bce46-120">To encrypt an asset, you need to associate an encryption content key with your asset and also configure an authorization policy for the key.</span><span class="sxs-lookup"><span data-stu-id="bce46-120">To encrypt an asset, you need to associate an encryption content key with your asset and also configure an authorization policy for the key.</span></span> <span data-ttu-id="bce46-121">Content keys can be specified or automatically generated by Media Services.</span><span class="sxs-lookup"><span data-stu-id="bce46-121">Content keys can be specified or automatically generated by Media Services.</span></span>

<span data-ttu-id="bce46-122">You also need to configure the asset's delivery policy.</span><span class="sxs-lookup"><span data-stu-id="bce46-122">You also need to configure the asset's delivery policy.</span></span> <span data-ttu-id="bce46-123">If you want to stream a storage-encrypted asset, make sure to specify how you want to deliver it by configuring the asset delivery policy.</span><span class="sxs-lookup"><span data-stu-id="bce46-123">If you want to stream a storage-encrypted asset, make sure to specify how you want to deliver it by configuring the asset delivery policy.</span></span>

<span data-ttu-id="bce46-124">When a stream is requested by a player, Media Services uses the specified key to dynamically encrypt your content by using AES clear key or DRM encryption.</span><span class="sxs-lookup"><span data-stu-id="bce46-124">When a stream is requested by a player, Media Services uses the specified key to dynamically encrypt your content by using AES clear key or DRM encryption.</span></span> <span data-ttu-id="bce46-125">To decrypt the stream, the player requests the key from Media Services key delivery service.</span><span class="sxs-lookup"><span data-stu-id="bce46-125">To decrypt the stream, the player requests the key from Media Services key delivery service.</span></span> <span data-ttu-id="bce46-126">To decide whether or not the user is authorized to get the key, the service evaluates the authorization policies that you specified for the key.</span><span class="sxs-lookup"><span data-stu-id="bce46-126">To decide whether or not the user is authorized to get the key, the service evaluates the authorization policies that you specified for the key.</span></span>

## <a name="aes-128-clear-key-vs-drm"></a><span data-ttu-id="bce46-127">AES-128 clear key vs. DRM</span><span class="sxs-lookup"><span data-stu-id="bce46-127">AES-128 clear key vs. DRM</span></span>
<span data-ttu-id="bce46-128">Customers often wonder whether they should use AES encryption or a DRM system.</span><span class="sxs-lookup"><span data-stu-id="bce46-128">Customers often wonder whether they should use AES encryption or a DRM system.</span></span> <span data-ttu-id="bce46-129">The primary difference between the two systems is that with AES encryption the content key is transmitted to the client in an unencrypted format ("in the clear").</span><span class="sxs-lookup"><span data-stu-id="bce46-129">The primary difference between the two systems is that with AES encryption the content key is transmitted to the client in an unencrypted format ("in the clear").</span></span> <span data-ttu-id="bce46-130">As a result, the key used to encrypt the content can be viewed in a network trace on the client in plain text.</span><span class="sxs-lookup"><span data-stu-id="bce46-130">As a result, the key used to encrypt the content can be viewed in a network trace on the client in plain text.</span></span> <span data-ttu-id="bce46-131">AES-128 clear key encryption is suitable for use cases where the viewer is a trusted party (for example, encrypting corporate videos distributed within a company to be viewed by employees).</span><span class="sxs-lookup"><span data-stu-id="bce46-131">AES-128 clear key encryption is suitable for use cases where the viewer is a trusted party (for example, encrypting corporate videos distributed within a company to be viewed by employees).</span></span>

<span data-ttu-id="bce46-132">PlayReady, Widevine, and FairPlay all provide a higher level of encryption compared to AES-128 clear key encryption.</span><span class="sxs-lookup"><span data-stu-id="bce46-132">PlayReady, Widevine, and FairPlay all provide a higher level of encryption compared to AES-128 clear key encryption.</span></span> <span data-ttu-id="bce46-133">The content key is transmitted in an encrypted format.</span><span class="sxs-lookup"><span data-stu-id="bce46-133">The content key is transmitted in an encrypted format.</span></span> <span data-ttu-id="bce46-134">Additionally, decryption is handled in a secure environment at the operating system level, where it's more difficult for a malicious user to attack.</span><span class="sxs-lookup"><span data-stu-id="bce46-134">Additionally, decryption is handled in a secure environment at the operating system level, where it's more difficult for a malicious user to attack.</span></span> <span data-ttu-id="bce46-135">DRM is recommended for use cases where the viewer might not be a trusted party and you require the highest level of security.</span><span class="sxs-lookup"><span data-stu-id="bce46-135">DRM is recommended for use cases where the viewer might not be a trusted party and you require the highest level of security.</span></span>

## <a name="storage-encryption"></a><span data-ttu-id="bce46-136">Storage encryption</span><span class="sxs-lookup"><span data-stu-id="bce46-136">Storage encryption</span></span>
<span data-ttu-id="bce46-137">You can use storage encryption to encrypt your clear content locally by using AES 256-bit encryption.</span><span class="sxs-lookup"><span data-stu-id="bce46-137">You can use storage encryption to encrypt your clear content locally by using AES 256-bit encryption.</span></span> <span data-ttu-id="bce46-138">You then can upload it to Azure Storage, where it's stored encrypted at rest.</span><span class="sxs-lookup"><span data-stu-id="bce46-138">You then can upload it to Azure Storage, where it's stored encrypted at rest.</span></span> <span data-ttu-id="bce46-139">Assets protected with storage encryption are automatically unencrypted and placed in an encrypted file system prior to encoding.</span><span class="sxs-lookup"><span data-stu-id="bce46-139">Assets protected with storage encryption are automatically unencrypted and placed in an encrypted file system prior to encoding.</span></span> <span data-ttu-id="bce46-140">The assets are optionally re-encrypted prior to uploading back as a new output asset.</span><span class="sxs-lookup"><span data-stu-id="bce46-140">The assets are optionally re-encrypted prior to uploading back as a new output asset.</span></span> <span data-ttu-id="bce46-141">The primary use case for storage encryption is when you want to secure your high-quality input media files with strong encryption at rest on disk.</span><span class="sxs-lookup"><span data-stu-id="bce46-141">The primary use case for storage encryption is when you want to secure your high-quality input media files with strong encryption at rest on disk.</span></span>

<span data-ttu-id="bce46-142">To deliver a storage-encrypted asset, you must configure the asset's delivery policy so that Media Services knows how you want to deliver your content.</span><span class="sxs-lookup"><span data-stu-id="bce46-142">To deliver a storage-encrypted asset, you must configure the asset's delivery policy so that Media Services knows how you want to deliver your content.</span></span> <span data-ttu-id="bce46-143">Before your asset can be streamed, the streaming server decrypts and streams your content by using the specified delivery policy (for example, AES, common encryption, or no encryption).</span><span class="sxs-lookup"><span data-stu-id="bce46-143">Before your asset can be streamed, the streaming server decrypts and streams your content by using the specified delivery policy (for example, AES, common encryption, or no encryption).</span></span>

## <a name="types-of-encryption"></a><span data-ttu-id="bce46-144">Types of encryption</span><span class="sxs-lookup"><span data-stu-id="bce46-144">Types of encryption</span></span>
<span data-ttu-id="bce46-145">PlayReady and Widevine utilize common encryption (AES CTR mode).</span><span class="sxs-lookup"><span data-stu-id="bce46-145">PlayReady and Widevine utilize common encryption (AES CTR mode).</span></span> <span data-ttu-id="bce46-146">FairPlay utilizes AES CBC-mode encryption.</span><span class="sxs-lookup"><span data-stu-id="bce46-146">FairPlay utilizes AES CBC-mode encryption.</span></span> <span data-ttu-id="bce46-147">AES-128 clear key encryption utilizes envelope encryption.</span><span class="sxs-lookup"><span data-stu-id="bce46-147">AES-128 clear key encryption utilizes envelope encryption.</span></span>

## <a name="licenses-and-keys-delivery-service"></a><span data-ttu-id="bce46-148">Licenses and keys delivery service</span><span class="sxs-lookup"><span data-stu-id="bce46-148">Licenses and keys delivery service</span></span>
<span data-ttu-id="bce46-149">Media Services provides a key delivery service for delivering DRM (PlayReady, Widevine, FairPlay) licenses and AES keys to authorized clients.</span><span class="sxs-lookup"><span data-stu-id="bce46-149">Media Services provides a key delivery service for delivering DRM (PlayReady, Widevine, FairPlay) licenses and AES keys to authorized clients.</span></span> <span data-ttu-id="bce46-150">You can use [the Azure portal](media-services-portal-protect-content.md), the REST API, or the Media Services SDK for .NET to configure authorization and authentication policies for your licenses and keys.</span><span class="sxs-lookup"><span data-stu-id="bce46-150">You can use [the Azure portal](media-services-portal-protect-content.md), the REST API, or the Media Services SDK for .NET to configure authorization and authentication policies for your licenses and keys.</span></span>

## <a name="control-content-access"></a><span data-ttu-id="bce46-151">Control content access</span><span class="sxs-lookup"><span data-stu-id="bce46-151">Control content access</span></span>
<span data-ttu-id="bce46-152">You can control who has access to your content by configuring the content key authorization policy.</span><span class="sxs-lookup"><span data-stu-id="bce46-152">You can control who has access to your content by configuring the content key authorization policy.</span></span> <span data-ttu-id="bce46-153">The content key authorization policy supports either open or token restriction.</span><span class="sxs-lookup"><span data-stu-id="bce46-153">The content key authorization policy supports either open or token restriction.</span></span>

### <a name="open-authorization"></a><span data-ttu-id="bce46-154">Open authorization</span><span class="sxs-lookup"><span data-stu-id="bce46-154">Open authorization</span></span>
<span data-ttu-id="bce46-155">With an open authorization policy, the content key is sent to any client (no restriction).</span><span class="sxs-lookup"><span data-stu-id="bce46-155">With an open authorization policy, the content key is sent to any client (no restriction).</span></span>

### <a name="token-authorization"></a><span data-ttu-id="bce46-156">Token authorization</span><span class="sxs-lookup"><span data-stu-id="bce46-156">Token authorization</span></span>
<span data-ttu-id="bce46-157">With a token-restricted authorization policy, the content key is sent only to a client that presents a valid JSON Web Token (JWT) or simple web token (SWT) in the key/license request.</span><span class="sxs-lookup"><span data-stu-id="bce46-157">With a token-restricted authorization policy, the content key is sent only to a client that presents a valid JSON Web Token (JWT) or simple web token (SWT) in the key/license request.</span></span> <span data-ttu-id="bce46-158">This token must be issued by a security token service (STS).</span><span class="sxs-lookup"><span data-stu-id="bce46-158">This token must be issued by a security token service (STS).</span></span> <span data-ttu-id="bce46-159">You can use Azure Active Directory as an STS or deploy a custom STS.</span><span class="sxs-lookup"><span data-stu-id="bce46-159">You can use Azure Active Directory as an STS or deploy a custom STS.</span></span> <span data-ttu-id="bce46-160">The STS must be configured to create a token signed with the specified key and issue claims that you specified in the token restriction configuration.</span><span class="sxs-lookup"><span data-stu-id="bce46-160">The STS must be configured to create a token signed with the specified key and issue claims that you specified in the token restriction configuration.</span></span> <span data-ttu-id="bce46-161">The Media Services key delivery service returns the requested key/license to the client if the token is valid and the claims in the token match those configured for the key/license.</span><span class="sxs-lookup"><span data-stu-id="bce46-161">The Media Services key delivery service returns the requested key/license to the client if the token is valid and the claims in the token match those configured for the key/license.</span></span>

<span data-ttu-id="bce46-162">When you configure the token restricted policy, you must specify the primary verification key, issuer, and audience parameters.</span><span class="sxs-lookup"><span data-stu-id="bce46-162">When you configure the token restricted policy, you must specify the primary verification key, issuer, and audience parameters.</span></span> <span data-ttu-id="bce46-163">The primary verification key contains the key that the token was signed with.</span><span class="sxs-lookup"><span data-stu-id="bce46-163">The primary verification key contains the key that the token was signed with.</span></span> <span data-ttu-id="bce46-164">The issuer is the secure token service that issues the token.</span><span class="sxs-lookup"><span data-stu-id="bce46-164">The issuer is the secure token service that issues the token.</span></span> <span data-ttu-id="bce46-165">The audience, sometimes called scope, describes the intent of the token or the resource the token authorizes access to.</span><span class="sxs-lookup"><span data-stu-id="bce46-165">The audience, sometimes called scope, describes the intent of the token or the resource the token authorizes access to.</span></span> <span data-ttu-id="bce46-166">The Media Services key delivery service validates that these values in the token match the values in the template.</span><span class="sxs-lookup"><span data-stu-id="bce46-166">The Media Services key delivery service validates that these values in the token match the values in the template.</span></span>

## <a name="streaming-urls"></a><span data-ttu-id="bce46-167">Streaming URLs</span><span class="sxs-lookup"><span data-stu-id="bce46-167">Streaming URLs</span></span>
<span data-ttu-id="bce46-168">If your asset was encrypted with more than one DRM, use an encryption tag in the streaming URL: (format='m3u8-aapl', encryption='xxx').</span><span class="sxs-lookup"><span data-stu-id="bce46-168">If your asset was encrypted with more than one DRM, use an encryption tag in the streaming URL: (format='m3u8-aapl', encryption='xxx').</span></span>

<span data-ttu-id="bce46-169">The following considerations apply:</span><span class="sxs-lookup"><span data-stu-id="bce46-169">The following considerations apply:</span></span>

* <span data-ttu-id="bce46-170">No more than one encryption type can be specified.</span><span class="sxs-lookup"><span data-stu-id="bce46-170">No more than one encryption type can be specified.</span></span>
* <span data-ttu-id="bce46-171">Encryption type doesn't have to be specified in the URL if only one encryption was applied to the asset.</span><span class="sxs-lookup"><span data-stu-id="bce46-171">Encryption type doesn't have to be specified in the URL if only one encryption was applied to the asset.</span></span>
* <span data-ttu-id="bce46-172">Encryption type is case insensitive.</span><span class="sxs-lookup"><span data-stu-id="bce46-172">Encryption type is case insensitive.</span></span>
* <span data-ttu-id="bce46-173">The following encryption types can be specified:</span><span class="sxs-lookup"><span data-stu-id="bce46-173">The following encryption types can be specified:</span></span>
  * <span data-ttu-id="bce46-174">**cenc**: For PlayReady or Widevine (common encryption)</span><span class="sxs-lookup"><span data-stu-id="bce46-174">**cenc**: For PlayReady or Widevine (common encryption)</span></span>
  * <span data-ttu-id="bce46-175">**cbcs-aapl**: For FairPlay (AES CBC encryption)</span><span class="sxs-lookup"><span data-stu-id="bce46-175">**cbcs-aapl**: For FairPlay (AES CBC encryption)</span></span>
  * <span data-ttu-id="bce46-176">**cbc**: For AES envelope encryption</span><span class="sxs-lookup"><span data-stu-id="bce46-176">**cbc**: For AES envelope encryption</span></span>

## <a name="next-steps"></a><span data-ttu-id="bce46-177">Next steps</span><span class="sxs-lookup"><span data-stu-id="bce46-177">Next steps</span></span>
<span data-ttu-id="bce46-178">The following articles describe next steps to help you get started with content protection:</span><span class="sxs-lookup"><span data-stu-id="bce46-178">The following articles describe next steps to help you get started with content protection:</span></span>

* [<span data-ttu-id="bce46-179">Protect with storage encryption</span><span class="sxs-lookup"><span data-stu-id="bce46-179">Protect with storage encryption</span></span>](media-services-rest-storage-encryption.md)
* [<span data-ttu-id="bce46-180">Protect with AES encryption</span><span class="sxs-lookup"><span data-stu-id="bce46-180">Protect with AES encryption</span></span>](media-services-protect-with-aes128.md)
* [<span data-ttu-id="bce46-181">Protect with PlayReady and/or Widevine</span><span class="sxs-lookup"><span data-stu-id="bce46-181">Protect with PlayReady and/or Widevine</span></span>](media-services-protect-with-playready-widevine.md)
* [<span data-ttu-id="bce46-182">Protect with FairPlay</span><span class="sxs-lookup"><span data-stu-id="bce46-182">Protect with FairPlay</span></span>](media-services-protect-hls-with-FairPlay.md)

## <a name="related-links"></a><span data-ttu-id="bce46-183">Related links</span><span class="sxs-lookup"><span data-stu-id="bce46-183">Related links</span></span>

* [<span data-ttu-id="bce46-184">JWT token authentication</span><span class="sxs-lookup"><span data-stu-id="bce46-184">JWT token authentication</span></span>](http://www.gtrifonov.com/2015/01/03/jwt-token-authentication-in-azure-media-services-and-dynamic-encryption/)
* [<span data-ttu-id="bce46-185">Integrate Azure Media Services OWIN MVC-based app with Azure Active Directory and restrict content key delivery based on JWT claims</span><span class="sxs-lookup"><span data-stu-id="bce46-185">Integrate Azure Media Services OWIN MVC-based app with Azure Active Directory and restrict content key delivery based on JWT claims</span></span>](http://www.gtrifonov.com/2015/01/24/mvc-owin-azure-media-services-ad-integration/)

[content-protection]: ./media/media-services-content-protection-overview/media-services-content-protection.png
