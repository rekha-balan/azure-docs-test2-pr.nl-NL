---
title: Filters and dynamic manifests | Microsoft Docs
description: This topic describes how to create filters so your client can use them to stream specific sections of a stream. Media Services creates dynamic manifests to archive this selective streaming.
services: media-services
documentationcenter: ''
author: cenkdin
manager: cfowler
editor: ''
ms.assetid: ff102765-8cee-4c08-a6da-b603db9e2054
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: ne
ms.topic: article
ms.date: 01/22/2018
ms.author: cenkd;juliako
ms.openlocfilehash: 982af37a866f73292192b0c889e9eeb1e1291030
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44856206"
---
# <a name="filters-and-dynamic-manifests"></a><span data-ttu-id="3b829-104">Filters and dynamic manifests</span><span class="sxs-lookup"><span data-stu-id="3b829-104">Filters and dynamic manifests</span></span>
<span data-ttu-id="3b829-105">Starting with 2.17 release, Media Services enables you to define filters for your assets.</span><span class="sxs-lookup"><span data-stu-id="3b829-105">Starting with 2.17 release, Media Services enables you to define filters for your assets.</span></span> <span data-ttu-id="3b829-106">These filters are server side rules that will allow your customers to choose to do things like: playback only a section of a video (instead of playing the whole video), or specify only a subset of audio and video renditions that your customer's device can handle (instead of all the renditions that are associated with the asset).</span><span class="sxs-lookup"><span data-stu-id="3b829-106">These filters are server side rules that will allow your customers to choose to do things like: playback only a section of a video (instead of playing the whole video), or specify only a subset of audio and video renditions that your customer's device can handle (instead of all the renditions that are associated with the asset).</span></span> <span data-ttu-id="3b829-107">This filtering of your assets is archived through **Dynamic Manifest**s that are created upon your customer's request to stream a video based on specified filter(s).</span><span class="sxs-lookup"><span data-stu-id="3b829-107">This filtering of your assets is archived through **Dynamic Manifest**s that are created upon your customer's request to stream a video based on specified filter(s).</span></span>

<span data-ttu-id="3b829-108">This topics discusses common scenarios in which using filters would be very beneficial to your customers and links to topics that demonstrate how to create filters programmatically.</span><span class="sxs-lookup"><span data-stu-id="3b829-108">This topics discusses common scenarios in which using filters would be very beneficial to your customers and links to topics that demonstrate how to create filters programmatically.</span></span>

## <a name="overview"></a><span data-ttu-id="3b829-109">Overview</span><span class="sxs-lookup"><span data-stu-id="3b829-109">Overview</span></span>
<span data-ttu-id="3b829-110">When delivering your content to customers (streaming live events or video-on-demand) your goal is to deliver a high quality video to various devices under different network conditions.</span><span class="sxs-lookup"><span data-stu-id="3b829-110">When delivering your content to customers (streaming live events or video-on-demand) your goal is to deliver a high quality video to various devices under different network conditions.</span></span> <span data-ttu-id="3b829-111">To achieve this goal do the following:</span><span class="sxs-lookup"><span data-stu-id="3b829-111">To achieve this goal do the following:</span></span>

* <span data-ttu-id="3b829-112">encode your stream to multi-bitrate ([adaptive bitrate](http://en.wikipedia.org/wiki/Adaptive_bitrate_streaming)) video stream (this will take care of quality and network conditions) and</span><span class="sxs-lookup"><span data-stu-id="3b829-112">encode your stream to multi-bitrate ([adaptive bitrate](http://en.wikipedia.org/wiki/Adaptive_bitrate_streaming)) video stream (this will take care of quality and network conditions) and</span></span> 
* <span data-ttu-id="3b829-113">use Media Services [Dynamic Packaging](media-services-dynamic-packaging-overview.md) to dynamically re-package your stream into different protocols (this will take care of streaming on different devices).</span><span class="sxs-lookup"><span data-stu-id="3b829-113">use Media Services [Dynamic Packaging](media-services-dynamic-packaging-overview.md) to dynamically re-package your stream into different protocols (this will take care of streaming on different devices).</span></span> <span data-ttu-id="3b829-114">Media Services supports delivery of the following adaptive bitrate streaming technologies: HTTP Live Streaming (HLS), Smooth Streaming, and MPEG DASH.</span><span class="sxs-lookup"><span data-stu-id="3b829-114">Media Services supports delivery of the following adaptive bitrate streaming technologies: HTTP Live Streaming (HLS), Smooth Streaming, and MPEG DASH.</span></span> 

### <a name="manifest-files"></a><span data-ttu-id="3b829-115">Manifest files</span><span class="sxs-lookup"><span data-stu-id="3b829-115">Manifest files</span></span>
<span data-ttu-id="3b829-116">When you encode an asset for adaptive bitrate streaming, a **manifest** (playlist) file is created (the file is text-based or XML-based).</span><span class="sxs-lookup"><span data-stu-id="3b829-116">When you encode an asset for adaptive bitrate streaming, a **manifest** (playlist) file is created (the file is text-based or XML-based).</span></span> <span data-ttu-id="3b829-117">The **manifest** file includes streaming metadata such as: track type (audio, video, or text), track name, start and end time, bitrate (qualities), track languages, presentation window (sliding window of fixed duration), video codec (FourCC).</span><span class="sxs-lookup"><span data-stu-id="3b829-117">The **manifest** file includes streaming metadata such as: track type (audio, video, or text), track name, start and end time, bitrate (qualities), track languages, presentation window (sliding window of fixed duration), video codec (FourCC).</span></span> <span data-ttu-id="3b829-118">It also instructs the player to retrieve the next fragment by providing information about the next playable video fragments available and their location.</span><span class="sxs-lookup"><span data-stu-id="3b829-118">It also instructs the player to retrieve the next fragment by providing information about the next playable video fragments available and their location.</span></span> <span data-ttu-id="3b829-119">Fragments (or segments) are the actual “chunks” of a video content.</span><span class="sxs-lookup"><span data-stu-id="3b829-119">Fragments (or segments) are the actual “chunks” of a video content.</span></span>

<span data-ttu-id="3b829-120">Here is an example of a manifest file:</span><span class="sxs-lookup"><span data-stu-id="3b829-120">Here is an example of a manifest file:</span></span> 

    <?xml version="1.0" encoding="UTF-8"?>    
    <SmoothStreamingMedia MajorVersion="2" MinorVersion="0" Duration="330187755" TimeScale="10000000">

    <StreamIndex Chunks="17" Type="video" Url="QualityLevels({bitrate})/Fragments(video={start time})" QualityLevels="8">
    <QualityLevel Index="0" Bitrate="5860941" FourCC="H264" MaxWidth="1920" MaxHeight="1080" CodecPrivateData="0000000167640028AC2CA501E0089F97015202020280000003008000001931300016E360000E4E1FF8C7076850A4580000000168E9093525" />
    <QualityLevel Index="1" Bitrate="4602724" FourCC="H264" MaxWidth="1920" MaxHeight="1080" CodecPrivateData="0000000167640028AC2CA501E0089F97015202020280000003008000001931100011EDC00002CD29FF8C7076850A45800000000168E9093525" />
    <QualityLevel Index="2" Bitrate="3319311" FourCC="H264" MaxWidth="1280" MaxHeight="720" CodecPrivateData="000000016764001FAC2CA5014016EC054808080A00000300020000030064C0800067C28000103667F8C7076850A4580000000168E9093525" />
    <QualityLevel Index="3" Bitrate="2195119" FourCC="H264" MaxWidth="960" MaxHeight="540" CodecPrivateData="000000016764001FAC2CA503C045FBC054808080A000000300200000064C1000044AA0000ABA9FE31C1DA14291600000000168E9093525" />
    <QualityLevel Index="4" Bitrate="1469881" FourCC="H264" MaxWidth="960" MaxHeight="540" CodecPrivateData="000000016764001FAC2CA503C045FBC054808080A000000300200000064C04000B71A0000E4E1FF8C7076850A4580000000168E9093525" />
    <QualityLevel Index="5" Bitrate="978815" FourCC="H264" MaxWidth="640" MaxHeight="360" CodecPrivateData="000000016764001EAC2CA50280BFE5C0548303032000000300200000064C08001E8480004C4B7F8C7076850A45800000000168E9093525" />
    <QualityLevel Index="6" Bitrate="638374" FourCC="H264" MaxWidth="640" MaxHeight="360" CodecPrivateData="000000016764001EAC2CA50280BFE5C0548303032000000300200000064C080013D60000C65DFE31C1DA1429160000000168E9093525" />
    <QualityLevel Index="7" Bitrate="388851" FourCC="H264" MaxWidth="320" MaxHeight="180" CodecPrivateData="000000016764000DAC2CA505067E7C054830303200000300020000030064C040030D40003D093F8C7076850A45800000000168E9093525" />

    <c t="0" d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="9600000"/>
    </StreamIndex>


    <StreamIndex Chunks="17" Type="audio" Url="QualityLevels({bitrate})/Fragments(AAC_und_ch2_128kbps={start time})" QualityLevels="1" Name="AAC_und_ch2_128kbps">
    <QualityLevel AudioTag="255" Index="0" BitsPerSample="16" Bitrate="125658" FourCC="AACL" CodecPrivateData="1210" Channels="2" PacketSize="4" SamplingRate="44100" />

    <c t="0" d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="6965987" /></StreamIndex>


    <StreamIndex Chunks="17" Type="audio" Url="QualityLevels({bitrate})/Fragments(AAC_und_ch2_56kbps={start time})" QualityLevels="1" Name="AAC_und_ch2_56kbps">
    <QualityLevel AudioTag="255" Index="0" BitsPerSample="16" Bitrate="53655" FourCC="AACL" CodecPrivateData="1210" Channels="2" PacketSize="4" SamplingRate="44100" />

    <c t="0" d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="6965987" /></StreamIndex>

    </SmoothStreamingMedia>

### <a name="dynamic-manifests"></a><span data-ttu-id="3b829-121">Dynamic manifests</span><span class="sxs-lookup"><span data-stu-id="3b829-121">Dynamic manifests</span></span>
<span data-ttu-id="3b829-122">There are [scenarios](media-services-dynamic-manifest-overview.md#scenarios) when your client needs more flexibility than what's described in the default asset's manifest file.</span><span class="sxs-lookup"><span data-stu-id="3b829-122">There are [scenarios](media-services-dynamic-manifest-overview.md#scenarios) when your client needs more flexibility than what's described in the default asset's manifest file.</span></span> <span data-ttu-id="3b829-123">For example:</span><span class="sxs-lookup"><span data-stu-id="3b829-123">For example:</span></span>

* <span data-ttu-id="3b829-124">Device specific: deliver only the specified renditions and\or specified language tracks that are supported by the device that is used to playback the content ("rendition filtering").</span><span class="sxs-lookup"><span data-stu-id="3b829-124">Device specific: deliver only the specified renditions and\or specified language tracks that are supported by the device that is used to playback the content ("rendition filtering").</span></span> 
* <span data-ttu-id="3b829-125">Reduce the manifest to show a sub-clip of a live event ("sub-clip filtering").</span><span class="sxs-lookup"><span data-stu-id="3b829-125">Reduce the manifest to show a sub-clip of a live event ("sub-clip filtering").</span></span>
* <span data-ttu-id="3b829-126">Trim the start of a video ("trimming a video").</span><span class="sxs-lookup"><span data-stu-id="3b829-126">Trim the start of a video ("trimming a video").</span></span>
* <span data-ttu-id="3b829-127">Adjust Presentation Window (DVR) in order to provide a limited length of the DVR window in the player ("adjusting presentation window") .</span><span class="sxs-lookup"><span data-stu-id="3b829-127">Adjust Presentation Window (DVR) in order to provide a limited length of the DVR window in the player ("adjusting presentation window") .</span></span>

<span data-ttu-id="3b829-128">To achieve this flexibility, Media Services offers **Dynamic Manifests** based on pre-defined [filters](media-services-dynamic-manifest-overview.md#filters).</span><span class="sxs-lookup"><span data-stu-id="3b829-128">To achieve this flexibility, Media Services offers **Dynamic Manifests** based on pre-defined [filters](media-services-dynamic-manifest-overview.md#filters).</span></span>  <span data-ttu-id="3b829-129">Once you define the filters, your clients could use them to stream a specific rendition or sub-clips of your video.</span><span class="sxs-lookup"><span data-stu-id="3b829-129">Once you define the filters, your clients could use them to stream a specific rendition or sub-clips of your video.</span></span> <span data-ttu-id="3b829-130">They would specify filter(s) in the streaming URL.</span><span class="sxs-lookup"><span data-stu-id="3b829-130">They would specify filter(s) in the streaming URL.</span></span> <span data-ttu-id="3b829-131">Filters could be applied to adaptive bitrate streaming protocols supported by [Dynamic Packaging](media-services-dynamic-packaging-overview.md): HLS, MPEG-DASH, and Smooth Streaming.</span><span class="sxs-lookup"><span data-stu-id="3b829-131">Filters could be applied to adaptive bitrate streaming protocols supported by [Dynamic Packaging](media-services-dynamic-packaging-overview.md): HLS, MPEG-DASH, and Smooth Streaming.</span></span> <span data-ttu-id="3b829-132">For example:</span><span class="sxs-lookup"><span data-stu-id="3b829-132">For example:</span></span>

<span data-ttu-id="3b829-133">MPEG DASH URL with filter</span><span class="sxs-lookup"><span data-stu-id="3b829-133">MPEG DASH URL with filter</span></span>

    http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=mpd-time-csf,filter=MyLocalFilter)

<span data-ttu-id="3b829-134">Smooth Streaming URL with filter</span><span class="sxs-lookup"><span data-stu-id="3b829-134">Smooth Streaming URL with filter</span></span>

    http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(filter=MyLocalFilter)


<span data-ttu-id="3b829-135">For more information about how to deliver your content and build streaming URLs, see [Delivering content overview](media-services-deliver-content-overview.md).</span><span class="sxs-lookup"><span data-stu-id="3b829-135">For more information about how to deliver your content and build streaming URLs, see [Delivering content overview](media-services-deliver-content-overview.md).</span></span>

> [!NOTE]
> <span data-ttu-id="3b829-136">Note that Dynamic Manifests do not change the asset and the default manifest for that asset.</span><span class="sxs-lookup"><span data-stu-id="3b829-136">Note that Dynamic Manifests do not change the asset and the default manifest for that asset.</span></span> <span data-ttu-id="3b829-137">Your client can choose to request a stream with or without filters.</span><span class="sxs-lookup"><span data-stu-id="3b829-137">Your client can choose to request a stream with or without filters.</span></span> 
> 
> 

### <a id="filters"></a><span data-ttu-id="3b829-138">Filters</span><span class="sxs-lookup"><span data-stu-id="3b829-138">Filters</span></span>
<span data-ttu-id="3b829-139">There are two types of asset filters:</span><span class="sxs-lookup"><span data-stu-id="3b829-139">There are two types of asset filters:</span></span> 

* <span data-ttu-id="3b829-140">Global filters (can be applied to any asset in the Azure Media Services account, have a lifetime of the account) and</span><span class="sxs-lookup"><span data-stu-id="3b829-140">Global filters (can be applied to any asset in the Azure Media Services account, have a lifetime of the account) and</span></span> 
* <span data-ttu-id="3b829-141">Local filters (can only be applied to an asset with which the filter was associated upon creation, have a lifetime of the asset).</span><span class="sxs-lookup"><span data-stu-id="3b829-141">Local filters (can only be applied to an asset with which the filter was associated upon creation, have a lifetime of the asset).</span></span> 

<span data-ttu-id="3b829-142">Global and local filter types have exactly the same properties.</span><span class="sxs-lookup"><span data-stu-id="3b829-142">Global and local filter types have exactly the same properties.</span></span> <span data-ttu-id="3b829-143">The main difference between the two is for which scenarios what type of a filer is more suitable.</span><span class="sxs-lookup"><span data-stu-id="3b829-143">The main difference between the two is for which scenarios what type of a filer is more suitable.</span></span> <span data-ttu-id="3b829-144">Global filters are generally suitable for device profiles (rendition filtering) where local filters could be used to trim a specific asset.</span><span class="sxs-lookup"><span data-stu-id="3b829-144">Global filters are generally suitable for device profiles (rendition filtering) where local filters could be used to trim a specific asset.</span></span>

## <a id="scenarios"></a><span data-ttu-id="3b829-145">Common scenarios</span><span class="sxs-lookup"><span data-stu-id="3b829-145">Common scenarios</span></span>
<span data-ttu-id="3b829-146">As was mentioned before, when delivering your content to customers (streaming live events or video-on-demand) your goal is to deliver a high quality video to various devices under different network conditions.</span><span class="sxs-lookup"><span data-stu-id="3b829-146">As was mentioned before, when delivering your content to customers (streaming live events or video-on-demand) your goal is to deliver a high quality video to various devices under different network conditions.</span></span> <span data-ttu-id="3b829-147">In addition, your might have other requirements that involve filtering your assets and using of **Dynamic Manifest**s.</span><span class="sxs-lookup"><span data-stu-id="3b829-147">In addition, your might have other requirements that involve filtering your assets and using of **Dynamic Manifest**s.</span></span> <span data-ttu-id="3b829-148">The following sections give a short overview of different filtering scenarios.</span><span class="sxs-lookup"><span data-stu-id="3b829-148">The following sections give a short overview of different filtering scenarios.</span></span>

* <span data-ttu-id="3b829-149">Specify only a subset of audio and video renditions that certain devices can handle (instead of all the renditions that are associated with the asset).</span><span class="sxs-lookup"><span data-stu-id="3b829-149">Specify only a subset of audio and video renditions that certain devices can handle (instead of all the renditions that are associated with the asset).</span></span> 
* <span data-ttu-id="3b829-150">Playing back only a section of a video (instead of playing the whole video).</span><span class="sxs-lookup"><span data-stu-id="3b829-150">Playing back only a section of a video (instead of playing the whole video).</span></span>
* <span data-ttu-id="3b829-151">Adjust DVR presentation window.</span><span class="sxs-lookup"><span data-stu-id="3b829-151">Adjust DVR presentation window.</span></span>

## <a name="rendition-filtering"></a><span data-ttu-id="3b829-152">Rendition filtering</span><span class="sxs-lookup"><span data-stu-id="3b829-152">Rendition filtering</span></span>
<span data-ttu-id="3b829-153">You may choose to encode your asset to multiple encoding profiles (H.264 Baseline, H.264 High, AACL, AACH, Dolby Digital Plus) and multiple quality bitrates.</span><span class="sxs-lookup"><span data-stu-id="3b829-153">You may choose to encode your asset to multiple encoding profiles (H.264 Baseline, H.264 High, AACL, AACH, Dolby Digital Plus) and multiple quality bitrates.</span></span> <span data-ttu-id="3b829-154">However, not all client devices will support all your asset's profiles and bitrates.</span><span class="sxs-lookup"><span data-stu-id="3b829-154">However, not all client devices will support all your asset's profiles and bitrates.</span></span> <span data-ttu-id="3b829-155">For example, older Android devices only supports H.264 Baseline+AACL.</span><span class="sxs-lookup"><span data-stu-id="3b829-155">For example, older Android devices only supports H.264 Baseline+AACL.</span></span> <span data-ttu-id="3b829-156">Sending higher bitrates to a device which cannot get the benefits, wastes bandwidth and device computation.</span><span class="sxs-lookup"><span data-stu-id="3b829-156">Sending higher bitrates to a device which cannot get the benefits, wastes bandwidth and device computation.</span></span> <span data-ttu-id="3b829-157">Such device must decode all the given information, only to scale it down for display.</span><span class="sxs-lookup"><span data-stu-id="3b829-157">Such device must decode all the given information, only to scale it down for display.</span></span>

<span data-ttu-id="3b829-158">With Dynamic Manifest, you can create device profiles such as mobile, console, HD/SD, etc. and include the tracks and qualities which you want to be a part of each profile.</span><span class="sxs-lookup"><span data-stu-id="3b829-158">With Dynamic Manifest, you can create device profiles such as mobile, console, HD/SD, etc. and include the tracks and qualities which you want to be a part of each profile.</span></span>

![Rendition filtering example][renditions2]

<span data-ttu-id="3b829-160">In the following example, an encoder was used to encode a mezzanine asset into seven ISO MP4s video renditions (from 180p to 1080p).</span><span class="sxs-lookup"><span data-stu-id="3b829-160">In the following example, an encoder was used to encode a mezzanine asset into seven ISO MP4s video renditions (from 180p to 1080p).</span></span> <span data-ttu-id="3b829-161">The encoded asset can be dynamically packaged into any of the following streaming protocols: HLS, Smooth, and MPEG DASH.</span><span class="sxs-lookup"><span data-stu-id="3b829-161">The encoded asset can be dynamically packaged into any of the following streaming protocols: HLS, Smooth, and MPEG DASH.</span></span>  <span data-ttu-id="3b829-162">At the top of the diagram, the HLS manifest for the asset with no filters is shown (it contains all seven renditions).</span><span class="sxs-lookup"><span data-stu-id="3b829-162">At the top of the diagram, the HLS manifest for the asset with no filters is shown (it contains all seven renditions).</span></span>  <span data-ttu-id="3b829-163">In the bottom left, the HLS manifest to which a filter named "ott" was applied is shown.</span><span class="sxs-lookup"><span data-stu-id="3b829-163">In the bottom left, the HLS manifest to which a filter named "ott" was applied is shown.</span></span> <span data-ttu-id="3b829-164">The "ott" filter specifies to remove all bitrates below 1Mbps, which resulted in the bottom two quality levels being stripped off in the response.</span><span class="sxs-lookup"><span data-stu-id="3b829-164">The "ott" filter specifies to remove all bitrates below 1Mbps, which resulted in the bottom two quality levels being stripped off in the response.</span></span>  <span data-ttu-id="3b829-165">In the bottom right,   the HLS manifest to which a filter named "mobile" was applied is shown.</span><span class="sxs-lookup"><span data-stu-id="3b829-165">In the bottom right,   the HLS manifest to which a filter named "mobile" was applied is shown.</span></span> <span data-ttu-id="3b829-166">The "mobile" filter specifies to remove renditions where the resolution is larger than 720p, which resulted in the two 1080p renditions being stripped off.</span><span class="sxs-lookup"><span data-stu-id="3b829-166">The "mobile" filter specifies to remove renditions where the resolution is larger than 720p, which resulted in the two 1080p renditions being stripped off.</span></span>

![Rendition filtering][renditions1]

## <a name="removing-language-tracks"></a><span data-ttu-id="3b829-168">Removing language tracks</span><span class="sxs-lookup"><span data-stu-id="3b829-168">Removing language tracks</span></span>
<span data-ttu-id="3b829-169">Your assets might include multiple audio languages such as English, Spanish, French, etc. Usually, the Player SDK managers default audio track selection and available audio tracks per user selection.</span><span class="sxs-lookup"><span data-stu-id="3b829-169">Your assets might include multiple audio languages such as English, Spanish, French, etc. Usually, the Player SDK managers default audio track selection and available audio tracks per user selection.</span></span> <span data-ttu-id="3b829-170">It is challenging to develop such Player SDKs, it requires different implementations across device-specific player-frameworks.</span><span class="sxs-lookup"><span data-stu-id="3b829-170">It is challenging to develop such Player SDKs, it requires different implementations across device-specific player-frameworks.</span></span> <span data-ttu-id="3b829-171">Also, on some platforms, Player APIs are limited and do not include audio selection feature where users cannot select or change the default audio track. With asset filters, you can control the behavior by creating filters that only include desired audio languages.</span><span class="sxs-lookup"><span data-stu-id="3b829-171">Also, on some platforms, Player APIs are limited and do not include audio selection feature where users cannot select or change the default audio track. With asset filters, you can control the behavior by creating filters that only include desired audio languages.</span></span>

![Language tracks filtering][language_filter]

## <a name="trimming-start-of-an-asset"></a><span data-ttu-id="3b829-173">Trimming start of an asset</span><span class="sxs-lookup"><span data-stu-id="3b829-173">Trimming start of an asset</span></span>
<span data-ttu-id="3b829-174">In most live streaming events, operators run some tests before the actual event.</span><span class="sxs-lookup"><span data-stu-id="3b829-174">In most live streaming events, operators run some tests before the actual event.</span></span> <span data-ttu-id="3b829-175">For example, they might include a slate like this before the start of the event: "Program will begin momentarily".</span><span class="sxs-lookup"><span data-stu-id="3b829-175">For example, they might include a slate like this before the start of the event: "Program will begin momentarily".</span></span> <span data-ttu-id="3b829-176">If the program is archiving, the test and slate data are also archived and included in the presentation.</span><span class="sxs-lookup"><span data-stu-id="3b829-176">If the program is archiving, the test and slate data are also archived and included in the presentation.</span></span> <span data-ttu-id="3b829-177">However, this information should not be shown to the clients.</span><span class="sxs-lookup"><span data-stu-id="3b829-177">However, this information should not be shown to the clients.</span></span> <span data-ttu-id="3b829-178">With Dynamic Manifest, you can create a start time filter and remove the unwanted data from the manifest.</span><span class="sxs-lookup"><span data-stu-id="3b829-178">With Dynamic Manifest, you can create a start time filter and remove the unwanted data from the manifest.</span></span>

![Trimming start][trim_filter]

## <a name="creating-subclips-views-from-a-live-archive"></a><span data-ttu-id="3b829-180">Creating subclips (views) from a live archive</span><span class="sxs-lookup"><span data-stu-id="3b829-180">Creating subclips (views) from a live archive</span></span>
<span data-ttu-id="3b829-181">Many live events are long running and live archive might include multiple events.</span><span class="sxs-lookup"><span data-stu-id="3b829-181">Many live events are long running and live archive might include multiple events.</span></span> <span data-ttu-id="3b829-182">After the live event ends, broadcasters may want to break up the live archive into logical program start and stop sequences.</span><span class="sxs-lookup"><span data-stu-id="3b829-182">After the live event ends, broadcasters may want to break up the live archive into logical program start and stop sequences.</span></span> <span data-ttu-id="3b829-183">Next, publish these virtual programs separately without post processing the live archive and not creating separate assets (which does not get the benefit of the existing cached fragments in the CDNs).</span><span class="sxs-lookup"><span data-stu-id="3b829-183">Next, publish these virtual programs separately without post processing the live archive and not creating separate assets (which does not get the benefit of the existing cached fragments in the CDNs).</span></span> <span data-ttu-id="3b829-184">Examples of such virtual programs are the quarters of a football or basketball game, innings in baseball, or individual events of any sports program.</span><span class="sxs-lookup"><span data-stu-id="3b829-184">Examples of such virtual programs are the quarters of a football or basketball game, innings in baseball, or individual events of any sports program.</span></span>

<span data-ttu-id="3b829-185">With Dynamic Manifest, you can create filters using start/end times and create virtual views over the top of your live archive.</span><span class="sxs-lookup"><span data-stu-id="3b829-185">With Dynamic Manifest, you can create filters using start/end times and create virtual views over the top of your live archive.</span></span> 

![Subclip filter][subclip_filter]

<span data-ttu-id="3b829-187">Filtered Asset:</span><span class="sxs-lookup"><span data-stu-id="3b829-187">Filtered Asset:</span></span>

![Skiing][skiing]

## <a name="adjusting-presentation-window-dvr"></a><span data-ttu-id="3b829-189">Adjusting Presentation Window (DVR)</span><span class="sxs-lookup"><span data-stu-id="3b829-189">Adjusting Presentation Window (DVR)</span></span>
<span data-ttu-id="3b829-190">Currently, Azure Media Services offers circular archive where the duration can be configured between 5 minutes - 25 hours.</span><span class="sxs-lookup"><span data-stu-id="3b829-190">Currently, Azure Media Services offers circular archive where the duration can be configured between 5 minutes - 25 hours.</span></span> <span data-ttu-id="3b829-191">Manifest filtering can be used to create a rolling DVR window over the top of the archive, without deleting media.</span><span class="sxs-lookup"><span data-stu-id="3b829-191">Manifest filtering can be used to create a rolling DVR window over the top of the archive, without deleting media.</span></span> <span data-ttu-id="3b829-192">There are many scenarios where broadcasters want to provide a limited DVR window to move with the live edge and at the same time keep a bigger archiving window.</span><span class="sxs-lookup"><span data-stu-id="3b829-192">There are many scenarios where broadcasters want to provide a limited DVR window to move with the live edge and at the same time keep a bigger archiving window.</span></span> <span data-ttu-id="3b829-193">A broadcaster may want to use the data that is out of the DVR window to highlight clips, or he\she may want to provide different DVR windows for different devices.</span><span class="sxs-lookup"><span data-stu-id="3b829-193">A broadcaster may want to use the data that is out of the DVR window to highlight clips, or he\she may want to provide different DVR windows for different devices.</span></span> <span data-ttu-id="3b829-194">For example, most of the mobile devices don’t handle large DVR windows (you can have a 2-minute DVR window for mobile devices and one hour for desktop clients).</span><span class="sxs-lookup"><span data-stu-id="3b829-194">For example, most of the mobile devices don’t handle large DVR windows (you can have a 2-minute DVR window for mobile devices and one hour for desktop clients).</span></span>

![DVR window][dvr_filter]

## <a name="adjusting-livebackoff-live-position"></a><span data-ttu-id="3b829-196">Adjusting LiveBackoff (live position)</span><span class="sxs-lookup"><span data-stu-id="3b829-196">Adjusting LiveBackoff (live position)</span></span>
<span data-ttu-id="3b829-197">Manifest filtering can be used to remove several seconds from the live edge of a live program.</span><span class="sxs-lookup"><span data-stu-id="3b829-197">Manifest filtering can be used to remove several seconds from the live edge of a live program.</span></span> <span data-ttu-id="3b829-198">Filtering allows broadcasters to watch the presentation on the preview publication point and create advertisement insertion points before the viewers receive the stream (backed-off by 30 seconds).</span><span class="sxs-lookup"><span data-stu-id="3b829-198">Filtering allows broadcasters to watch the presentation on the preview publication point and create advertisement insertion points before the viewers receive the stream (backed-off by 30 seconds).</span></span> <span data-ttu-id="3b829-199">Broadcasters can then push these advertisements to their client frameworks in time for them to received and process the information before the advertisement opportunity.</span><span class="sxs-lookup"><span data-stu-id="3b829-199">Broadcasters can then push these advertisements to their client frameworks in time for them to received and process the information before the advertisement opportunity.</span></span>

<span data-ttu-id="3b829-200">In addition to the advertisement support, the LiveBackoff setting can be used to adjusting the viewers position so that when clients drift and hit the live edge they can still get fragments from server instead of getting an HTTP 404 or 412 error.</span><span class="sxs-lookup"><span data-stu-id="3b829-200">In addition to the advertisement support, the LiveBackoff setting can be used to adjusting the viewers position so that when clients drift and hit the live edge they can still get fragments from server instead of getting an HTTP 404 or 412 error.</span></span>

![livebackoff_filter][livebackoff_filter]

## <a name="combining-multiple-rules-in-a-single-filter"></a><span data-ttu-id="3b829-202">Combining multiple rules in a single filter</span><span class="sxs-lookup"><span data-stu-id="3b829-202">Combining multiple rules in a single filter</span></span>
<span data-ttu-id="3b829-203">You can combine multiple filtering rules in a single filter.</span><span class="sxs-lookup"><span data-stu-id="3b829-203">You can combine multiple filtering rules in a single filter.</span></span> <span data-ttu-id="3b829-204">As an example you can define a "range rule" to remove slates from a live archive and also filter out available bitrates.</span><span class="sxs-lookup"><span data-stu-id="3b829-204">As an example you can define a "range rule" to remove slates from a live archive and also filter out available bitrates.</span></span> <span data-ttu-id="3b829-205">When applying multiple filtering rules, the end result is the intersection of all rules.</span><span class="sxs-lookup"><span data-stu-id="3b829-205">When applying multiple filtering rules, the end result is the intersection of all rules.</span></span>

![multiple-rules][multiple-rules]

## <a name="create-filters-programmatically"></a><span data-ttu-id="3b829-207">Create filters programmatically</span><span class="sxs-lookup"><span data-stu-id="3b829-207">Create filters programmatically</span></span>
<span data-ttu-id="3b829-208">The following article discusses Media Services entities that are related to filters.</span><span class="sxs-lookup"><span data-stu-id="3b829-208">The following article discusses Media Services entities that are related to filters.</span></span> <span data-ttu-id="3b829-209">The article also shows how to programmatically create filters.</span><span class="sxs-lookup"><span data-stu-id="3b829-209">The article also shows how to programmatically create filters.</span></span>  

<span data-ttu-id="3b829-210">[Create filters with REST APIs](media-services-rest-dynamic-manifest.md).</span><span class="sxs-lookup"><span data-stu-id="3b829-210">[Create filters with REST APIs](media-services-rest-dynamic-manifest.md).</span></span>

## <a name="combining-multiple-filters-filter-composition"></a><span data-ttu-id="3b829-211">Combining multiple filters (filter composition)</span><span class="sxs-lookup"><span data-stu-id="3b829-211">Combining multiple filters (filter composition)</span></span>
<span data-ttu-id="3b829-212">You can also combine multiple filters in a single URL.</span><span class="sxs-lookup"><span data-stu-id="3b829-212">You can also combine multiple filters in a single URL.</span></span> 

<span data-ttu-id="3b829-213">The following scenario demonstrates why you might want to combine filters:</span><span class="sxs-lookup"><span data-stu-id="3b829-213">The following scenario demonstrates why you might want to combine filters:</span></span>

1. <span data-ttu-id="3b829-214">You need to filter your video qualities for mobile devices such as Android or iPAD (in order to limit video qualities).</span><span class="sxs-lookup"><span data-stu-id="3b829-214">You need to filter your video qualities for mobile devices such as Android or iPAD (in order to limit video qualities).</span></span> <span data-ttu-id="3b829-215">To remove the unwanted qualities, you would create a global filter suitable for the device profiles.</span><span class="sxs-lookup"><span data-stu-id="3b829-215">To remove the unwanted qualities, you would create a global filter suitable for the device profiles.</span></span> <span data-ttu-id="3b829-216">As mentioned earlier in this article, global filters can be used for all your assets under the same media services account without any further association.</span><span class="sxs-lookup"><span data-stu-id="3b829-216">As mentioned earlier in this article, global filters can be used for all your assets under the same media services account without any further association.</span></span> 
2. <span data-ttu-id="3b829-217">You also want to trim the start and end time of an asset.</span><span class="sxs-lookup"><span data-stu-id="3b829-217">You also want to trim the start and end time of an asset.</span></span> <span data-ttu-id="3b829-218">To achieve this, you would create a local filter and set the start/end time.</span><span class="sxs-lookup"><span data-stu-id="3b829-218">To achieve this, you would create a local filter and set the start/end time.</span></span> 
3. <span data-ttu-id="3b829-219">You want to combine both of these filters (without combination, you need to add quality filtering to the trimming filter which makes filter usage more difficult).</span><span class="sxs-lookup"><span data-stu-id="3b829-219">You want to combine both of these filters (without combination, you need to add quality filtering to the trimming filter which makes filter usage more difficult).</span></span>

<span data-ttu-id="3b829-220">To combine filters, you need to set the filter names to the manifest/playlist URL with semicolon delimited.</span><span class="sxs-lookup"><span data-stu-id="3b829-220">To combine filters, you need to set the filter names to the manifest/playlist URL with semicolon delimited.</span></span> <span data-ttu-id="3b829-221">Let’s assume you have a filter named *MyMobileDevice* that filters qualities and you have another named *MyStartTime* to set a specific start time.</span><span class="sxs-lookup"><span data-stu-id="3b829-221">Let’s assume you have a filter named *MyMobileDevice* that filters qualities and you have another named *MyStartTime* to set a specific start time.</span></span> <span data-ttu-id="3b829-222">You can combine them like this:</span><span class="sxs-lookup"><span data-stu-id="3b829-222">You can combine them like this:</span></span>

    http://teststreaming.streaming.mediaservices.windows.net/3d56a4d-b71d-489b-854f-1d67c0596966/64ff1f89-b430-43f8-87dd-56c87b7bd9e2.ism/Manifest(filter=MyMobileDevice;MyStartTime)

<span data-ttu-id="3b829-223">You can combine up to three filters.</span><span class="sxs-lookup"><span data-stu-id="3b829-223">You can combine up to three filters.</span></span> 

<span data-ttu-id="3b829-224">For more information, see [this](https://azure.microsoft.com/blog/azure-media-services-release-dynamic-manifest-composition-remove-hls-audio-only-track-and-hls-i-frame-track-support/) blog.</span><span class="sxs-lookup"><span data-stu-id="3b829-224">For more information, see [this](https://azure.microsoft.com/blog/azure-media-services-release-dynamic-manifest-composition-remove-hls-audio-only-track-and-hls-i-frame-track-support/) blog.</span></span>

## <a name="know-issues-and-limitations"></a><span data-ttu-id="3b829-225">Know issues and limitations</span><span class="sxs-lookup"><span data-stu-id="3b829-225">Know issues and limitations</span></span>
* <span data-ttu-id="3b829-226">Dynamic manifest operates in GOP boundaries (Key Frames) hence trimming has GOP accuracy.</span><span class="sxs-lookup"><span data-stu-id="3b829-226">Dynamic manifest operates in GOP boundaries (Key Frames) hence trimming has GOP accuracy.</span></span> 
* <span data-ttu-id="3b829-227">You can use same filter name for local and global filters.</span><span class="sxs-lookup"><span data-stu-id="3b829-227">You can use same filter name for local and global filters.</span></span> <span data-ttu-id="3b829-228">Note that local filter have higher precedence and will override global filters.</span><span class="sxs-lookup"><span data-stu-id="3b829-228">Note that local filter have higher precedence and will override global filters.</span></span>
* <span data-ttu-id="3b829-229">If you update a filter, it can take up to 2 minutes for streaming endpoint to refresh the rules.</span><span class="sxs-lookup"><span data-stu-id="3b829-229">If you update a filter, it can take up to 2 minutes for streaming endpoint to refresh the rules.</span></span> <span data-ttu-id="3b829-230">If the content was served using some filters (and cached in proxies and CDN caches), updating these filters can result in player failures.</span><span class="sxs-lookup"><span data-stu-id="3b829-230">If the content was served using some filters (and cached in proxies and CDN caches), updating these filters can result in player failures.</span></span> <span data-ttu-id="3b829-231">It is recommend to clear the cache after updating the filter.</span><span class="sxs-lookup"><span data-stu-id="3b829-231">It is recommend to clear the cache after updating the filter.</span></span> <span data-ttu-id="3b829-232">If this option is not possible, consider using a different filter.</span><span class="sxs-lookup"><span data-stu-id="3b829-232">If this option is not possible, consider using a different filter.</span></span>

## <a name="media-services-learning-paths"></a><span data-ttu-id="3b829-233">Media Services learning paths</span><span class="sxs-lookup"><span data-stu-id="3b829-233">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a><span data-ttu-id="3b829-234">Provide feedback</span><span class="sxs-lookup"><span data-stu-id="3b829-234">Provide feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../../includes/media-services-user-voice-include.md)]

## <a name="see-also"></a><span data-ttu-id="3b829-235">See Also</span><span class="sxs-lookup"><span data-stu-id="3b829-235">See Also</span></span>
[<span data-ttu-id="3b829-236">Delivering Content to Customers Overview</span><span class="sxs-lookup"><span data-stu-id="3b829-236">Delivering Content to Customers Overview</span></span>](media-services-deliver-content-overview.md)

[renditions1]: ./media/media-services-dynamic-manifest-overview/media-services-rendition-filter.png
[renditions2]: ./media/media-services-dynamic-manifest-overview/media-services-rendition-filter2.png

[rendered_subclip]: ./media/media-services-dynamic-manifests/media-services-rendered-subclip.png
[timeline_trim_event]: ./media/media-services-dynamic-manifests/media-services-timeline-trim-event.png
[timeline_trim_subclip]: ./media/media-services-dynamic-manifests/media-services-timeline-trim-subclip.png

[multiple-rules]:./media/media-services-dynamic-manifest-overview/media-services-multiple-rules-filters.png

[subclip_filter]: ./media/media-services-dynamic-manifest-overview/media-services-subclips-filter.png
[trim_event]: ./media/media-services-dynamic-manifests/media-services-timeline-trim-event.png
[trim_subclip]: ./media/media-services-dynamic-manifests/media-services-timeline-trim-subclip.png
[trim_filter]: ./media/media-services-dynamic-manifest-overview/media-services-trim-filter.png
[redered_subclip]: ./media/media-services-dynamic-manifests/media-services-rendered-subclip.png
[livebackoff_filter]: ./media/media-services-dynamic-manifest-overview/media-services-livebackoff-filter.png
[language_filter]: ./media/media-services-dynamic-manifest-overview/media-services-language-filter.png
[dvr_filter]: ./media/media-services-dynamic-manifest-overview/media-services-dvr-filter.png
[skiing]: ./media/media-services-dynamic-manifest-overview/media-services-skiing.png
