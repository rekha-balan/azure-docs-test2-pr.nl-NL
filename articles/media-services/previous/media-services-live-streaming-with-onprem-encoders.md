---
title: Stream live with on-premises encoders that create multi-bitrate streams - Azure | Microsoft Docs
description: 'This topic describes how to set up a channel that receives a multi-bitrate live stream from an on-premises encoder. The stream can then be delivered to client playback applications through one or more streaming endpoints, using one of the following adaptive streaming protocols: HLS, Smooth Streaming, DASH.'
services: media-services
documentationcenter: ''
author: Juliako
manager: cfowler
editor: ''
ms.assetid: d9f0912d-39ec-4c9c-817b-e5d9fcf1f7ea
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: ne
ms.topic: article
ms.date: 04/12/2017
ms.author: cenkd;juliako
ms.openlocfilehash: d08ac9f2cbdf98493b3132fa9dd3a3e973576451
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44868306"
---
# <a name="live-streaming-with-on-premises-encoders-that-create-multi-bitrate-streams"></a><span data-ttu-id="9b7d1-104">Live streaming with on-premises encoders that create multi-bitrate streams</span><span class="sxs-lookup"><span data-stu-id="9b7d1-104">Live streaming with on-premises encoders that create multi-bitrate streams</span></span>

> [!NOTE]
> <span data-ttu-id="9b7d1-105">Starting May 12, 2018, live channels will no longer support the RTP/MPEG-2 transport stream ingest protocol.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-105">Starting May 12, 2018, live channels will no longer support the RTP/MPEG-2 transport stream ingest protocol.</span></span> <span data-ttu-id="9b7d1-106">Please migrate from RTP/MPEG-2 to RTMP or fragmented MP4 (Smooth Streaming) ingest protocols.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-106">Please migrate from RTP/MPEG-2 to RTMP or fragmented MP4 (Smooth Streaming) ingest protocols.</span></span>

## <a name="overview"></a><span data-ttu-id="9b7d1-107">Overview</span><span class="sxs-lookup"><span data-stu-id="9b7d1-107">Overview</span></span>
<span data-ttu-id="9b7d1-108">In Azure Media Services, a *channel* represents a pipeline for processing live-streaming content.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-108">In Azure Media Services, a *channel* represents a pipeline for processing live-streaming content.</span></span> <span data-ttu-id="9b7d1-109">A channel receives live input streams in one of two ways:</span><span class="sxs-lookup"><span data-stu-id="9b7d1-109">A channel receives live input streams in one of two ways:</span></span>

* <span data-ttu-id="9b7d1-110">An on-premises live encoder sends a multi-bitrate RTMP or Smooth Streaming (fragmented MP4) stream to the channel that is not enabled to perform live encoding with Media Services.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-110">An on-premises live encoder sends a multi-bitrate RTMP or Smooth Streaming (fragmented MP4) stream to the channel that is not enabled to perform live encoding with Media Services.</span></span> <span data-ttu-id="9b7d1-111">The ingested streams pass through channels without any further processing.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-111">The ingested streams pass through channels without any further processing.</span></span> <span data-ttu-id="9b7d1-112">This method is called *pass-through*.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-112">This method is called *pass-through*.</span></span> <span data-ttu-id="9b7d1-113">A live encoder can also send a single-bitrate stream to a channel that is not enabled for live encoding, but we don't recommend that.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-113">A live encoder can also send a single-bitrate stream to a channel that is not enabled for live encoding, but we don't recommend that.</span></span> <span data-ttu-id="9b7d1-114">Media Services delivers the stream to customers who request it.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-114">Media Services delivers the stream to customers who request it.</span></span>

  > [!NOTE]
  > <span data-ttu-id="9b7d1-115">Using a pass-through method is the most economical way to do live streaming.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-115">Using a pass-through method is the most economical way to do live streaming.</span></span>


* <span data-ttu-id="9b7d1-116">An on-premises live encoder sends a single-bitrate stream to the channel that is enabled to perform live encoding with Media Services in one of the following formats: RTMP or Smooth Streaming (fragmented MP4).</span><span class="sxs-lookup"><span data-stu-id="9b7d1-116">An on-premises live encoder sends a single-bitrate stream to the channel that is enabled to perform live encoding with Media Services in one of the following formats: RTMP or Smooth Streaming (fragmented MP4).</span></span> <span data-ttu-id="9b7d1-117">The channel then performs live encoding of the incoming single-bitrate stream to a multi-bitrate (adaptive) video stream.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-117">The channel then performs live encoding of the incoming single-bitrate stream to a multi-bitrate (adaptive) video stream.</span></span> <span data-ttu-id="9b7d1-118">Media Services delivers the stream to customers who request it.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-118">Media Services delivers the stream to customers who request it.</span></span>

<span data-ttu-id="9b7d1-119">Starting with the Media Services 2.10 release, when you create a channel, you can specify how you want your channel to receive the input stream.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-119">Starting with the Media Services 2.10 release, when you create a channel, you can specify how you want your channel to receive the input stream.</span></span> <span data-ttu-id="9b7d1-120">You can also specify whether you want the channel to perform live encoding of your stream.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-120">You can also specify whether you want the channel to perform live encoding of your stream.</span></span> <span data-ttu-id="9b7d1-121">You have two options:</span><span class="sxs-lookup"><span data-stu-id="9b7d1-121">You have two options:</span></span>

* <span data-ttu-id="9b7d1-122">**Pass Through**: Specify this value if you plan to use an on-premises live encoder that has a multi-bitrate stream (a pass-through stream) as output.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-122">**Pass Through**: Specify this value if you plan to use an on-premises live encoder that has a multi-bitrate stream (a pass-through stream) as output.</span></span> <span data-ttu-id="9b7d1-123">In this case, the incoming stream passes through to the output without any encoding.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-123">In this case, the incoming stream passes through to the output without any encoding.</span></span> <span data-ttu-id="9b7d1-124">This is the behavior of a channel before the 2.10 release.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-124">This is the behavior of a channel before the 2.10 release.</span></span> <span data-ttu-id="9b7d1-125">This article gives details about working with channels of this type.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-125">This article gives details about working with channels of this type.</span></span>
* <span data-ttu-id="9b7d1-126">**Live Encoding**: Choose this value if you plan to use Media Services to encode your single-bitrate live stream to a multi-bitrate stream.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-126">**Live Encoding**: Choose this value if you plan to use Media Services to encode your single-bitrate live stream to a multi-bitrate stream.</span></span> <span data-ttu-id="9b7d1-127">Leaving a live encoding channel in a **Running** state incurs billing charges.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-127">Leaving a live encoding channel in a **Running** state incurs billing charges.</span></span> <span data-ttu-id="9b7d1-128">We recommend that you immediately stop your running channels after your live-streaming event is complete to avoid extra hourly charges.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-128">We recommend that you immediately stop your running channels after your live-streaming event is complete to avoid extra hourly charges.</span></span> <span data-ttu-id="9b7d1-129">Media Services delivers the stream to customers who request it.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-129">Media Services delivers the stream to customers who request it.</span></span>

> [!NOTE]
> <span data-ttu-id="9b7d1-130">This article discusses attributes of channels that are not enabled to perform live encoding.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-130">This article discusses attributes of channels that are not enabled to perform live encoding.</span></span> <span data-ttu-id="9b7d1-131">For information about working with channels that are enabled to perform live encoding, see [Live streaming using Azure Media Services to create multi-bitrate streams](media-services-manage-live-encoder-enabled-channels.md).</span><span class="sxs-lookup"><span data-stu-id="9b7d1-131">For information about working with channels that are enabled to perform live encoding, see [Live streaming using Azure Media Services to create multi-bitrate streams](media-services-manage-live-encoder-enabled-channels.md).</span></span>
>
><span data-ttu-id="9b7d1-132">For information about recommended on-prem encoders, see [Recommended on-prem encoders](media-services-recommended-encoders.md).</span><span class="sxs-lookup"><span data-stu-id="9b7d1-132">For information about recommended on-prem encoders, see [Recommended on-prem encoders](media-services-recommended-encoders.md).</span></span>

<span data-ttu-id="9b7d1-133">The following diagram represents a live-streaming workflow that uses an on-premises live encoder to have multi-bitrate RTMP or fragmented MP4 (Smooth Streaming) streams as output.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-133">The following diagram represents a live-streaming workflow that uses an on-premises live encoder to have multi-bitrate RTMP or fragmented MP4 (Smooth Streaming) streams as output.</span></span>

![Live workflow][live-overview]

## <a id="scenario"></a><span data-ttu-id="9b7d1-135">Common live-streaming scenario</span><span class="sxs-lookup"><span data-stu-id="9b7d1-135">Common live-streaming scenario</span></span>
<span data-ttu-id="9b7d1-136">The following steps describe tasks involved in creating common live-streaming applications.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-136">The following steps describe tasks involved in creating common live-streaming applications.</span></span>

1. <span data-ttu-id="9b7d1-137">Connect a video camera to a computer.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-137">Connect a video camera to a computer.</span></span> <span data-ttu-id="9b7d1-138">Start and configure an on-premises live encoder that has a multi-bitrate RTMP or fragmented MP4 (Smooth Streaming) stream as output.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-138">Start and configure an on-premises live encoder that has a multi-bitrate RTMP or fragmented MP4 (Smooth Streaming) stream as output.</span></span> <span data-ttu-id="9b7d1-139">For more information, see [Azure Media Services RTMP Support and Live Encoders](http://go.microsoft.com/fwlink/?LinkId=532824).</span><span class="sxs-lookup"><span data-stu-id="9b7d1-139">For more information, see [Azure Media Services RTMP Support and Live Encoders](http://go.microsoft.com/fwlink/?LinkId=532824).</span></span>

    <span data-ttu-id="9b7d1-140">You can also perform this step after you create your channel.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-140">You can also perform this step after you create your channel.</span></span>
2. <span data-ttu-id="9b7d1-141">Create and start a channel.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-141">Create and start a channel.</span></span>

3. <span data-ttu-id="9b7d1-142">Retrieve the channel ingest URL.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-142">Retrieve the channel ingest URL.</span></span>

    <span data-ttu-id="9b7d1-143">The live encoder uses the ingest URL to send the stream to the channel.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-143">The live encoder uses the ingest URL to send the stream to the channel.</span></span>
4. <span data-ttu-id="9b7d1-144">Retrieve the channel preview URL.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-144">Retrieve the channel preview URL.</span></span>

    <span data-ttu-id="9b7d1-145">Use this URL to verify that your channel is properly receiving the live stream.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-145">Use this URL to verify that your channel is properly receiving the live stream.</span></span>
5. <span data-ttu-id="9b7d1-146">Create a program.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-146">Create a program.</span></span>

    <span data-ttu-id="9b7d1-147">When you use the Azure portal, creating a program also creates an asset.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-147">When you use the Azure portal, creating a program also creates an asset.</span></span>

    <span data-ttu-id="9b7d1-148">When you use the .NET SDK or REST, you need to create an asset and specify to use this asset when creating a program.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-148">When you use the .NET SDK or REST, you need to create an asset and specify to use this asset when creating a program.</span></span>
6. <span data-ttu-id="9b7d1-149">Publish the asset that's associated with the program.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-149">Publish the asset that's associated with the program.</span></span>   

    >[!NOTE]
    ><span data-ttu-id="9b7d1-150">When your Azure Media Services account is created, a **default** streaming endpoint is added to your account in the **Stopped** state.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-150">When your Azure Media Services account is created, a **default** streaming endpoint is added to your account in the **Stopped** state.</span></span> <span data-ttu-id="9b7d1-151">The streaming endpoint from which you want to stream content has to be in the **Running** state.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-151">The streaming endpoint from which you want to stream content has to be in the **Running** state.</span></span>

7. <span data-ttu-id="9b7d1-152">Start the program when you're ready to start streaming and archiving.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-152">Start the program when you're ready to start streaming and archiving.</span></span>

8. <span data-ttu-id="9b7d1-153">Optionally, the live encoder can be signaled to start an advertisement.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-153">Optionally, the live encoder can be signaled to start an advertisement.</span></span> <span data-ttu-id="9b7d1-154">The advertisement is inserted in the output stream.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-154">The advertisement is inserted in the output stream.</span></span>

9. <span data-ttu-id="9b7d1-155">Stop the program whenever you want to stop streaming and archiving the event.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-155">Stop the program whenever you want to stop streaming and archiving the event.</span></span>

10. <span data-ttu-id="9b7d1-156">Delete the program (and optionally delete the asset).</span><span class="sxs-lookup"><span data-stu-id="9b7d1-156">Delete the program (and optionally delete the asset).</span></span>     

## <a id="channel"></a><span data-ttu-id="9b7d1-157">Description of a channel and its related components</span><span class="sxs-lookup"><span data-stu-id="9b7d1-157">Description of a channel and its related components</span></span>
### <a id="channel_input"></a><span data-ttu-id="9b7d1-158">Channel input (ingest) configurations</span><span class="sxs-lookup"><span data-stu-id="9b7d1-158">Channel input (ingest) configurations</span></span>
#### <a id="ingest_protocols"></a><span data-ttu-id="9b7d1-159">Ingest streaming protocol</span><span class="sxs-lookup"><span data-stu-id="9b7d1-159">Ingest streaming protocol</span></span>
<span data-ttu-id="9b7d1-160">Media Services supports ingesting live feeds by using multi-bitrate fragmented MP4 and multi-bitrate RTMP as streaming protocols.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-160">Media Services supports ingesting live feeds by using multi-bitrate fragmented MP4 and multi-bitrate RTMP as streaming protocols.</span></span> <span data-ttu-id="9b7d1-161">When the RTMP ingest streaming protocol is selected, two ingest (input) endpoints are created for the channel:</span><span class="sxs-lookup"><span data-stu-id="9b7d1-161">When the RTMP ingest streaming protocol is selected, two ingest (input) endpoints are created for the channel:</span></span>

* <span data-ttu-id="9b7d1-162">**Primary URL**: Specifies the fully qualified URL of the channel's primary RTMP ingest endpoint.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-162">**Primary URL**: Specifies the fully qualified URL of the channel's primary RTMP ingest endpoint.</span></span>
* <span data-ttu-id="9b7d1-163">**Secondary URL** (optional): Specifies the fully qualified URL of the channel's secondary RTMP ingest endpoint.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-163">**Secondary URL** (optional): Specifies the fully qualified URL of the channel's secondary RTMP ingest endpoint.</span></span>

<span data-ttu-id="9b7d1-164">Use the secondary URL if you want to improve the durability and fault tolerance of your ingest stream (as well as encoder failover and fault tolerance), especially for the following scenarios:</span><span class="sxs-lookup"><span data-stu-id="9b7d1-164">Use the secondary URL if you want to improve the durability and fault tolerance of your ingest stream (as well as encoder failover and fault tolerance), especially for the following scenarios:</span></span>

- <span data-ttu-id="9b7d1-165">Single encoder double-pushing to both primary and secondary URLs:</span><span class="sxs-lookup"><span data-stu-id="9b7d1-165">Single encoder double-pushing to both primary and secondary URLs:</span></span>

    <span data-ttu-id="9b7d1-166">The main purpose of this scenario is to provide more resiliency to network fluctuations and jitters.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-166">The main purpose of this scenario is to provide more resiliency to network fluctuations and jitters.</span></span> <span data-ttu-id="9b7d1-167">Some RTMP encoders don't handle network disconnects well.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-167">Some RTMP encoders don't handle network disconnects well.</span></span> <span data-ttu-id="9b7d1-168">When a network disconnect happens, an encoder might stop encoding and then not send the buffered data when a reconnect happens.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-168">When a network disconnect happens, an encoder might stop encoding and then not send the buffered data when a reconnect happens.</span></span> <span data-ttu-id="9b7d1-169">This causes discontinuities and data loss.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-169">This causes discontinuities and data loss.</span></span> <span data-ttu-id="9b7d1-170">Network disconnects can happen because of a bad network or maintenance on the Azure side.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-170">Network disconnects can happen because of a bad network or maintenance on the Azure side.</span></span> <span data-ttu-id="9b7d1-171">Primary/secondary URLs reduce the network problems and provide a controlled upgrade process.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-171">Primary/secondary URLs reduce the network problems and provide a controlled upgrade process.</span></span> <span data-ttu-id="9b7d1-172">Each time a scheduled network disconnect happens, Media Services manages the primary and secondary disconnects and provides a delayed disconnect between the two.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-172">Each time a scheduled network disconnect happens, Media Services manages the primary and secondary disconnects and provides a delayed disconnect between the two.</span></span> <span data-ttu-id="9b7d1-173">Encoders then have time to keep sending data and reconnect again.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-173">Encoders then have time to keep sending data and reconnect again.</span></span> <span data-ttu-id="9b7d1-174">The order of the disconnects can be random, but there will always be a delay between primary/secondary or secondary/primary URLs.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-174">The order of the disconnects can be random, but there will always be a delay between primary/secondary or secondary/primary URLs.</span></span> <span data-ttu-id="9b7d1-175">In this scenario, the encoder is still the single point of failure.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-175">In this scenario, the encoder is still the single point of failure.</span></span>

- <span data-ttu-id="9b7d1-176">Multiple encoders, with each encoder pushing to a dedicated point:</span><span class="sxs-lookup"><span data-stu-id="9b7d1-176">Multiple encoders, with each encoder pushing to a dedicated point:</span></span>

    <span data-ttu-id="9b7d1-177">This scenario provides both encoder and ingests redundancy.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-177">This scenario provides both encoder and ingests redundancy.</span></span> <span data-ttu-id="9b7d1-178">In this scenario, encoder1 pushes to the primary URL, and encoder2 pushes to the secondary URL.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-178">In this scenario, encoder1 pushes to the primary URL, and encoder2 pushes to the secondary URL.</span></span> <span data-ttu-id="9b7d1-179">When an encoder fails, the other encoder can keep sending data.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-179">When an encoder fails, the other encoder can keep sending data.</span></span> <span data-ttu-id="9b7d1-180">Data redundancy can be maintained because Media Services does not disconnect primary and secondary URLs at the same time.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-180">Data redundancy can be maintained because Media Services does not disconnect primary and secondary URLs at the same time.</span></span> <span data-ttu-id="9b7d1-181">This scenario assumes that encoders are time synced and provide exactly the same data.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-181">This scenario assumes that encoders are time synced and provide exactly the same data.</span></span>  

- <span data-ttu-id="9b7d1-182">Multiple encoders double-pushing to both primary and secondary URLs:</span><span class="sxs-lookup"><span data-stu-id="9b7d1-182">Multiple encoders double-pushing to both primary and secondary URLs:</span></span>

    <span data-ttu-id="9b7d1-183">In this scenario, both encoders push data to both primary and secondary URLs.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-183">In this scenario, both encoders push data to both primary and secondary URLs.</span></span> <span data-ttu-id="9b7d1-184">This provides the best reliability and fault tolerance, as well as data redundancy.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-184">This provides the best reliability and fault tolerance, as well as data redundancy.</span></span> <span data-ttu-id="9b7d1-185">This scenario can tolerate both encoder failures and disconnects, even if one encoder stops working.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-185">This scenario can tolerate both encoder failures and disconnects, even if one encoder stops working.</span></span> <span data-ttu-id="9b7d1-186">It assumes that encoders are time synced and provide exactly the same data.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-186">It assumes that encoders are time synced and provide exactly the same data.</span></span>  

<span data-ttu-id="9b7d1-187">For information about RTMP live encoders, see [Azure Media Services RTMP Support and Live Encoders](http://go.microsoft.com/fwlink/?LinkId=532824).</span><span class="sxs-lookup"><span data-stu-id="9b7d1-187">For information about RTMP live encoders, see [Azure Media Services RTMP Support and Live Encoders](http://go.microsoft.com/fwlink/?LinkId=532824).</span></span>

#### <a name="ingest-urls-endpoints"></a><span data-ttu-id="9b7d1-188">Ingest URLs (endpoints)</span><span class="sxs-lookup"><span data-stu-id="9b7d1-188">Ingest URLs (endpoints)</span></span>
<span data-ttu-id="9b7d1-189">A channel provides an input endpoint (ingest URL) that you specify in the live encoder, so the encoder can push streams to your channels.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-189">A channel provides an input endpoint (ingest URL) that you specify in the live encoder, so the encoder can push streams to your channels.</span></span>   

<span data-ttu-id="9b7d1-190">You can get the ingest URLs when you create the channel.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-190">You can get the ingest URLs when you create the channel.</span></span> <span data-ttu-id="9b7d1-191">For you to get these URLs, the channel does not have to be in the **Running** state.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-191">For you to get these URLs, the channel does not have to be in the **Running** state.</span></span> <span data-ttu-id="9b7d1-192">When you're ready to start pushing data to the channel, the channel must be in the **Running** state.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-192">When you're ready to start pushing data to the channel, the channel must be in the **Running** state.</span></span> <span data-ttu-id="9b7d1-193">After the channel starts ingesting data, you can preview your stream through the preview URL.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-193">After the channel starts ingesting data, you can preview your stream through the preview URL.</span></span>

<span data-ttu-id="9b7d1-194">You have an option of ingesting a fragmented MP4 (Smooth Streaming) live stream over an SSL connection.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-194">You have an option of ingesting a fragmented MP4 (Smooth Streaming) live stream over an SSL connection.</span></span> <span data-ttu-id="9b7d1-195">To ingest over SSL, make sure to update the ingest URL to HTTPS.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-195">To ingest over SSL, make sure to update the ingest URL to HTTPS.</span></span> <span data-ttu-id="9b7d1-196">Currently, you cannot ingest RTMP over SSL.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-196">Currently, you cannot ingest RTMP over SSL.</span></span>

#### <a id="keyframe_interval"></a><span data-ttu-id="9b7d1-197">Keyframe interval</span><span class="sxs-lookup"><span data-stu-id="9b7d1-197">Keyframe interval</span></span>
<span data-ttu-id="9b7d1-198">When you're using an on-premises live encoder to generate multi-bitrate stream, the keyframe interval specifies the duration of the group of pictures (GOP) as used by that external encoder.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-198">When you're using an on-premises live encoder to generate multi-bitrate stream, the keyframe interval specifies the duration of the group of pictures (GOP) as used by that external encoder.</span></span> <span data-ttu-id="9b7d1-199">After the channel receives this incoming stream, you can deliver your live stream to client playback applications in any of the following formats: Smooth Streaming, Dynamic Adaptive Streaming over HTTP (DASH), and HTTP Live Streaming (HLS).</span><span class="sxs-lookup"><span data-stu-id="9b7d1-199">After the channel receives this incoming stream, you can deliver your live stream to client playback applications in any of the following formats: Smooth Streaming, Dynamic Adaptive Streaming over HTTP (DASH), and HTTP Live Streaming (HLS).</span></span> <span data-ttu-id="9b7d1-200">When you're doing live streaming, HLS is always packaged dynamically.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-200">When you're doing live streaming, HLS is always packaged dynamically.</span></span> <span data-ttu-id="9b7d1-201">By default, Media Services automatically calculates the HLS segment packaging ratio (fragments per segment) based on the keyframe interval that's received from the live encoder.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-201">By default, Media Services automatically calculates the HLS segment packaging ratio (fragments per segment) based on the keyframe interval that's received from the live encoder.</span></span>

<span data-ttu-id="9b7d1-202">The following table shows how the segment duration is calculated:</span><span class="sxs-lookup"><span data-stu-id="9b7d1-202">The following table shows how the segment duration is calculated:</span></span>

| <span data-ttu-id="9b7d1-203">Keyframe interval</span><span class="sxs-lookup"><span data-stu-id="9b7d1-203">Keyframe interval</span></span> | <span data-ttu-id="9b7d1-204">HLS segment packaging ratio (FragmentsPerSegment)</span><span class="sxs-lookup"><span data-stu-id="9b7d1-204">HLS segment packaging ratio (FragmentsPerSegment)</span></span> | <span data-ttu-id="9b7d1-205">Example</span><span class="sxs-lookup"><span data-stu-id="9b7d1-205">Example</span></span> |
| --- | --- | --- |
| <span data-ttu-id="9b7d1-206">Less than or equal to 3 seconds</span><span class="sxs-lookup"><span data-stu-id="9b7d1-206">Less than or equal to 3 seconds</span></span> |<span data-ttu-id="9b7d1-207">3:1</span><span class="sxs-lookup"><span data-stu-id="9b7d1-207">3:1</span></span> |<span data-ttu-id="9b7d1-208">If KeyFrameInterval (or GOP) is 2 seconds, the default HLS segment packaging ratio is 3 to 1.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-208">If KeyFrameInterval (or GOP) is 2 seconds, the default HLS segment packaging ratio is 3 to 1.</span></span> <span data-ttu-id="9b7d1-209">This creates a 6-second HLS segment.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-209">This creates a 6-second HLS segment.</span></span> |
| <span data-ttu-id="9b7d1-210">3 to 5 seconds</span><span class="sxs-lookup"><span data-stu-id="9b7d1-210">3 to 5 seconds</span></span> |<span data-ttu-id="9b7d1-211">2:1</span><span class="sxs-lookup"><span data-stu-id="9b7d1-211">2:1</span></span> |<span data-ttu-id="9b7d1-212">If KeyFrameInterval (or GOP) is 4 seconds, the default HLS segment packaging ratio is 2 to 1.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-212">If KeyFrameInterval (or GOP) is 4 seconds, the default HLS segment packaging ratio is 2 to 1.</span></span> <span data-ttu-id="9b7d1-213">This creates an 8-second HLS segment.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-213">This creates an 8-second HLS segment.</span></span> |
| <span data-ttu-id="9b7d1-214">Greater than 5 seconds</span><span class="sxs-lookup"><span data-stu-id="9b7d1-214">Greater than 5 seconds</span></span> |<span data-ttu-id="9b7d1-215">1:1</span><span class="sxs-lookup"><span data-stu-id="9b7d1-215">1:1</span></span> |<span data-ttu-id="9b7d1-216">If KeyFrameInterval (or GOP) is 6 seconds, the default HLS segment packaging ratio is 1 to 1.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-216">If KeyFrameInterval (or GOP) is 6 seconds, the default HLS segment packaging ratio is 1 to 1.</span></span> <span data-ttu-id="9b7d1-217">This creates a 6-second HLS segment.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-217">This creates a 6-second HLS segment.</span></span> |

<span data-ttu-id="9b7d1-218">You can change the fragments-per-segment ratio by configuring the channel’s output and setting FragmentsPerSegment on ChannelOutputHls.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-218">You can change the fragments-per-segment ratio by configuring the channel’s output and setting FragmentsPerSegment on ChannelOutputHls.</span></span>

<span data-ttu-id="9b7d1-219">You can also change the keyframe interval value by setting the KeyFrameInterval property on ChanneInput.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-219">You can also change the keyframe interval value by setting the KeyFrameInterval property on ChanneInput.</span></span> <span data-ttu-id="9b7d1-220">If you explicitly set KeyFrameInterval, the HLS segment packaging ratio FragmentsPerSegment is calculated via the rules described previously.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-220">If you explicitly set KeyFrameInterval, the HLS segment packaging ratio FragmentsPerSegment is calculated via the rules described previously.</span></span>  

<span data-ttu-id="9b7d1-221">If you explicitly set both KeyFrameInterval and FragmentsPerSegment, Media Services uses the values that you set.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-221">If you explicitly set both KeyFrameInterval and FragmentsPerSegment, Media Services uses the values that you set.</span></span>

#### <a name="allowed-ip-addresses"></a><span data-ttu-id="9b7d1-222">Allowed IP addresses</span><span class="sxs-lookup"><span data-stu-id="9b7d1-222">Allowed IP addresses</span></span>
<span data-ttu-id="9b7d1-223">You can define the IP addresses that are allowed to publish video to this channel.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-223">You can define the IP addresses that are allowed to publish video to this channel.</span></span> <span data-ttu-id="9b7d1-224">An allowed IP address can be specified as one of the following:</span><span class="sxs-lookup"><span data-stu-id="9b7d1-224">An allowed IP address can be specified as one of the following:</span></span>

* <span data-ttu-id="9b7d1-225">A single IP address (for example, 10.0.0.1)</span><span class="sxs-lookup"><span data-stu-id="9b7d1-225">A single IP address (for example, 10.0.0.1)</span></span>
* <span data-ttu-id="9b7d1-226">An IP range that uses an IP address and a CIDR subnet mask (for example, 10.0.0.1/22)</span><span class="sxs-lookup"><span data-stu-id="9b7d1-226">An IP range that uses an IP address and a CIDR subnet mask (for example, 10.0.0.1/22)</span></span>
* <span data-ttu-id="9b7d1-227">An IP range that uses an IP address and a dotted decimal subnet mask (for example, 10.0.0.1(255.255.252.0))</span><span class="sxs-lookup"><span data-stu-id="9b7d1-227">An IP range that uses an IP address and a dotted decimal subnet mask (for example, 10.0.0.1(255.255.252.0))</span></span>

<span data-ttu-id="9b7d1-228">If no IP addresses are specified and there's no rule definition, then no IP address is allowed.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-228">If no IP addresses are specified and there's no rule definition, then no IP address is allowed.</span></span> <span data-ttu-id="9b7d1-229">To allow any IP address, create a rule and set 0.0.0.0/0.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-229">To allow any IP address, create a rule and set 0.0.0.0/0.</span></span>

### <a name="channel-preview"></a><span data-ttu-id="9b7d1-230">Channel preview</span><span class="sxs-lookup"><span data-stu-id="9b7d1-230">Channel preview</span></span>
#### <a name="preview-urls"></a><span data-ttu-id="9b7d1-231">Preview URLs</span><span class="sxs-lookup"><span data-stu-id="9b7d1-231">Preview URLs</span></span>
<span data-ttu-id="9b7d1-232">Channels provide a preview endpoint (preview URL) that you use to preview and validate your stream before further processing and delivery.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-232">Channels provide a preview endpoint (preview URL) that you use to preview and validate your stream before further processing and delivery.</span></span>

<span data-ttu-id="9b7d1-233">You can get the preview URL when you create the channel.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-233">You can get the preview URL when you create the channel.</span></span> <span data-ttu-id="9b7d1-234">For you to get the URL, the channel does not have to be in the **Running** state.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-234">For you to get the URL, the channel does not have to be in the **Running** state.</span></span> <span data-ttu-id="9b7d1-235">After the channel starts ingesting data, you can preview your stream.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-235">After the channel starts ingesting data, you can preview your stream.</span></span>

<span data-ttu-id="9b7d1-236">Currently, the preview stream can be delivered only in fragmented MP4 (Smooth Streaming) format, regardless of the specified input type.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-236">Currently, the preview stream can be delivered only in fragmented MP4 (Smooth Streaming) format, regardless of the specified input type.</span></span> <span data-ttu-id="9b7d1-237">You can use the [Smooth Streaming Health Monitor](http://playready.directtaps.net/smoothstreaming/) player to test the smooth stream.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-237">You can use the [Smooth Streaming Health Monitor](http://playready.directtaps.net/smoothstreaming/) player to test the smooth stream.</span></span> <span data-ttu-id="9b7d1-238">You can also use a player that's hosted in the Azure portal to view your stream.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-238">You can also use a player that's hosted in the Azure portal to view your stream.</span></span>

#### <a name="allowed-ip-addresses"></a><span data-ttu-id="9b7d1-239">Allowed IP addresses</span><span class="sxs-lookup"><span data-stu-id="9b7d1-239">Allowed IP addresses</span></span>
<span data-ttu-id="9b7d1-240">You can define the IP addresses that are allowed to connect to the preview endpoint.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-240">You can define the IP addresses that are allowed to connect to the preview endpoint.</span></span> <span data-ttu-id="9b7d1-241">If no IP addresses are specified, any IP address is allowed.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-241">If no IP addresses are specified, any IP address is allowed.</span></span> <span data-ttu-id="9b7d1-242">An allowed IP address can be specified as one of the following:</span><span class="sxs-lookup"><span data-stu-id="9b7d1-242">An allowed IP address can be specified as one of the following:</span></span>

* <span data-ttu-id="9b7d1-243">A single IP address (for example, 10.0.0.1)</span><span class="sxs-lookup"><span data-stu-id="9b7d1-243">A single IP address (for example, 10.0.0.1)</span></span>
* <span data-ttu-id="9b7d1-244">An IP range that uses an IP address and a CIDR subnet mask (for example, 10.0.0.1/22)</span><span class="sxs-lookup"><span data-stu-id="9b7d1-244">An IP range that uses an IP address and a CIDR subnet mask (for example, 10.0.0.1/22)</span></span>
* <span data-ttu-id="9b7d1-245">An IP range that uses an IP address and a dotted decimal subnet mask (for example, 10.0.0.1(255.255.252.0))</span><span class="sxs-lookup"><span data-stu-id="9b7d1-245">An IP range that uses an IP address and a dotted decimal subnet mask (for example, 10.0.0.1(255.255.252.0))</span></span>

### <a name="channel-output"></a><span data-ttu-id="9b7d1-246">Channel output</span><span class="sxs-lookup"><span data-stu-id="9b7d1-246">Channel output</span></span>
<span data-ttu-id="9b7d1-247">For information about channel output, see the [Keyframe interval](#keyframe_interval) section.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-247">For information about channel output, see the [Keyframe interval](#keyframe_interval) section.</span></span>

### <a name="channel-managed-programs"></a><span data-ttu-id="9b7d1-248">Channel-managed programs</span><span class="sxs-lookup"><span data-stu-id="9b7d1-248">Channel-managed programs</span></span>
<span data-ttu-id="9b7d1-249">A channel is associated with programs that you can use to control the publishing and storage of segments in a live stream.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-249">A channel is associated with programs that you can use to control the publishing and storage of segments in a live stream.</span></span> <span data-ttu-id="9b7d1-250">Channels manage programs.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-250">Channels manage programs.</span></span> <span data-ttu-id="9b7d1-251">The channel and program relationship is similar to traditional media, where a channel has a constant stream of content and a program is scoped to some timed event on that channel.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-251">The channel and program relationship is similar to traditional media, where a channel has a constant stream of content and a program is scoped to some timed event on that channel.</span></span>

<span data-ttu-id="9b7d1-252">You can specify the number of hours you want to retain the recorded content for the program by setting the **Archive Window** length.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-252">You can specify the number of hours you want to retain the recorded content for the program by setting the **Archive Window** length.</span></span> <span data-ttu-id="9b7d1-253">This value can be set from a minimum of 5 minutes to a maximum of 25 hours.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-253">This value can be set from a minimum of 5 minutes to a maximum of 25 hours.</span></span> <span data-ttu-id="9b7d1-254">Archive window length also dictates the maximum number of time clients can seek back in time from the current live position.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-254">Archive window length also dictates the maximum number of time clients can seek back in time from the current live position.</span></span> <span data-ttu-id="9b7d1-255">Programs can run over the specified amount of time, but content that falls behind the window length is continuously discarded.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-255">Programs can run over the specified amount of time, but content that falls behind the window length is continuously discarded.</span></span> <span data-ttu-id="9b7d1-256">This value of this property also determines how long the client manifests can grow.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-256">This value of this property also determines how long the client manifests can grow.</span></span>

<span data-ttu-id="9b7d1-257">Each program is associated with an asset that stores the streamed content.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-257">Each program is associated with an asset that stores the streamed content.</span></span> <span data-ttu-id="9b7d1-258">An asset is mapped to a block blob container in the Azure storage account, and the files in the asset are stored as blobs in that container.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-258">An asset is mapped to a block blob container in the Azure storage account, and the files in the asset are stored as blobs in that container.</span></span> <span data-ttu-id="9b7d1-259">To publish the program so your customers can view the stream, you must create an OnDemand locator for the associated asset.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-259">To publish the program so your customers can view the stream, you must create an OnDemand locator for the associated asset.</span></span> <span data-ttu-id="9b7d1-260">You can use this locator to build a streaming URL that you can provide to your clients.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-260">You can use this locator to build a streaming URL that you can provide to your clients.</span></span>

<span data-ttu-id="9b7d1-261">A channel supports up to three concurrently running programs, so you can create multiple archives of the same incoming stream.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-261">A channel supports up to three concurrently running programs, so you can create multiple archives of the same incoming stream.</span></span> <span data-ttu-id="9b7d1-262">You can publish and archive different parts of an event as needed.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-262">You can publish and archive different parts of an event as needed.</span></span> <span data-ttu-id="9b7d1-263">For example, imagine that your business requirement is to archive 6 hours of a program, but to broadcast only the last 10 minutes.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-263">For example, imagine that your business requirement is to archive 6 hours of a program, but to broadcast only the last 10 minutes.</span></span> <span data-ttu-id="9b7d1-264">To accomplish this, you need to create two concurrently running programs.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-264">To accomplish this, you need to create two concurrently running programs.</span></span> <span data-ttu-id="9b7d1-265">One program is set to archive six hours of the event, but the program is not published.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-265">One program is set to archive six hours of the event, but the program is not published.</span></span> <span data-ttu-id="9b7d1-266">The other program is set to archive for 10 minutes, and this program is published.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-266">The other program is set to archive for 10 minutes, and this program is published.</span></span>

<span data-ttu-id="9b7d1-267">You should not reuse existing programs for new events.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-267">You should not reuse existing programs for new events.</span></span> <span data-ttu-id="9b7d1-268">Instead, create a new program for each event.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-268">Instead, create a new program for each event.</span></span> <span data-ttu-id="9b7d1-269">Start the program when you're ready to start streaming and archiving.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-269">Start the program when you're ready to start streaming and archiving.</span></span> <span data-ttu-id="9b7d1-270">Stop the program whenever you want to stop streaming and archiving the event.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-270">Stop the program whenever you want to stop streaming and archiving the event.</span></span>

<span data-ttu-id="9b7d1-271">To delete archived content, stop and delete the program, and then delete the associated asset.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-271">To delete archived content, stop and delete the program, and then delete the associated asset.</span></span> <span data-ttu-id="9b7d1-272">An asset cannot be deleted if a program uses it.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-272">An asset cannot be deleted if a program uses it.</span></span> <span data-ttu-id="9b7d1-273">The program must be deleted first.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-273">The program must be deleted first.</span></span>

<span data-ttu-id="9b7d1-274">Even after you stop and delete the program, users can stream your archived content as a video on demand, until you delete the asset.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-274">Even after you stop and delete the program, users can stream your archived content as a video on demand, until you delete the asset.</span></span> <span data-ttu-id="9b7d1-275">If you want to retain the archived content but not have it available for streaming, delete the streaming locator.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-275">If you want to retain the archived content but not have it available for streaming, delete the streaming locator.</span></span>

## <a id="states"></a><span data-ttu-id="9b7d1-276">Channel states and billing</span><span class="sxs-lookup"><span data-stu-id="9b7d1-276">Channel states and billing</span></span>
<span data-ttu-id="9b7d1-277">Possible values for the current state of a channel include:</span><span class="sxs-lookup"><span data-stu-id="9b7d1-277">Possible values for the current state of a channel include:</span></span>

* <span data-ttu-id="9b7d1-278">**Stopped**: This is the initial state of the channel after its creation.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-278">**Stopped**: This is the initial state of the channel after its creation.</span></span> <span data-ttu-id="9b7d1-279">In this state, the channel properties can be updated but streaming is not allowed.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-279">In this state, the channel properties can be updated but streaming is not allowed.</span></span>
* <span data-ttu-id="9b7d1-280">**Starting**: The channel is being started.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-280">**Starting**: The channel is being started.</span></span> <span data-ttu-id="9b7d1-281">No updates or streaming is allowed during this state.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-281">No updates or streaming is allowed during this state.</span></span> <span data-ttu-id="9b7d1-282">If an error occurs, the channel returns to the **Stopped** state.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-282">If an error occurs, the channel returns to the **Stopped** state.</span></span>
* <span data-ttu-id="9b7d1-283">**Running**: The channel can process live streams.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-283">**Running**: The channel can process live streams.</span></span>
* <span data-ttu-id="9b7d1-284">**Stopping**: The channel is being stopped.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-284">**Stopping**: The channel is being stopped.</span></span> <span data-ttu-id="9b7d1-285">No updates or streaming is allowed during this state.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-285">No updates or streaming is allowed during this state.</span></span>
* <span data-ttu-id="9b7d1-286">**Deleting**: The channel is being deleted.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-286">**Deleting**: The channel is being deleted.</span></span> <span data-ttu-id="9b7d1-287">No updates or streaming is allowed during this state.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-287">No updates or streaming is allowed during this state.</span></span>

<span data-ttu-id="9b7d1-288">The following table shows how channel states map to the billing mode.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-288">The following table shows how channel states map to the billing mode.</span></span>

| <span data-ttu-id="9b7d1-289">Channel state</span><span class="sxs-lookup"><span data-stu-id="9b7d1-289">Channel state</span></span> | <span data-ttu-id="9b7d1-290">Portal UI indicators</span><span class="sxs-lookup"><span data-stu-id="9b7d1-290">Portal UI indicators</span></span> | <span data-ttu-id="9b7d1-291">Billed?</span><span class="sxs-lookup"><span data-stu-id="9b7d1-291">Billed?</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="9b7d1-292">**Starting**</span><span class="sxs-lookup"><span data-stu-id="9b7d1-292">**Starting**</span></span> |<span data-ttu-id="9b7d1-293">**Starting**</span><span class="sxs-lookup"><span data-stu-id="9b7d1-293">**Starting**</span></span> |<span data-ttu-id="9b7d1-294">No (transient state)</span><span class="sxs-lookup"><span data-stu-id="9b7d1-294">No (transient state)</span></span> |
| <span data-ttu-id="9b7d1-295">**Running**</span><span class="sxs-lookup"><span data-stu-id="9b7d1-295">**Running**</span></span> |<span data-ttu-id="9b7d1-296">**Ready** (no running programs)</span><span class="sxs-lookup"><span data-stu-id="9b7d1-296">**Ready** (no running programs)</span></span><p><p><span data-ttu-id="9b7d1-297">or</span><span class="sxs-lookup"><span data-stu-id="9b7d1-297">or</span></span><p><span data-ttu-id="9b7d1-298">**Streaming** (at least one running program)</span><span class="sxs-lookup"><span data-stu-id="9b7d1-298">**Streaming** (at least one running program)</span></span> |<span data-ttu-id="9b7d1-299">Yes</span><span class="sxs-lookup"><span data-stu-id="9b7d1-299">Yes</span></span> |
| <span data-ttu-id="9b7d1-300">**Stopping**</span><span class="sxs-lookup"><span data-stu-id="9b7d1-300">**Stopping**</span></span> |<span data-ttu-id="9b7d1-301">**Stopping**</span><span class="sxs-lookup"><span data-stu-id="9b7d1-301">**Stopping**</span></span> |<span data-ttu-id="9b7d1-302">No (transient state)</span><span class="sxs-lookup"><span data-stu-id="9b7d1-302">No (transient state)</span></span> |
| <span data-ttu-id="9b7d1-303">**Stopped**</span><span class="sxs-lookup"><span data-stu-id="9b7d1-303">**Stopped**</span></span> |<span data-ttu-id="9b7d1-304">**Stopped**</span><span class="sxs-lookup"><span data-stu-id="9b7d1-304">**Stopped**</span></span> |<span data-ttu-id="9b7d1-305">No</span><span class="sxs-lookup"><span data-stu-id="9b7d1-305">No</span></span> |

## <a id="cc_and_ads"></a><span data-ttu-id="9b7d1-306">Closed captioning and ad insertion</span><span class="sxs-lookup"><span data-stu-id="9b7d1-306">Closed captioning and ad insertion</span></span>
<span data-ttu-id="9b7d1-307">The following table demonstrates supported standards for closed captioning and ad insertion.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-307">The following table demonstrates supported standards for closed captioning and ad insertion.</span></span>

| <span data-ttu-id="9b7d1-308">Standard</span><span class="sxs-lookup"><span data-stu-id="9b7d1-308">Standard</span></span> | <span data-ttu-id="9b7d1-309">Notes</span><span class="sxs-lookup"><span data-stu-id="9b7d1-309">Notes</span></span> |
| --- | --- |
| <span data-ttu-id="9b7d1-310">CEA-708 and EIA-608 (708/608)</span><span class="sxs-lookup"><span data-stu-id="9b7d1-310">CEA-708 and EIA-608 (708/608)</span></span> |<span data-ttu-id="9b7d1-311">CEA-708 and EIA-608 are closed-captioning standards for the United States and Canada.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-311">CEA-708 and EIA-608 are closed-captioning standards for the United States and Canada.</span></span><p><p><span data-ttu-id="9b7d1-312">Currently, captioning is supported only if carried in the encoded input stream.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-312">Currently, captioning is supported only if carried in the encoded input stream.</span></span> <span data-ttu-id="9b7d1-313">You need to use a live media encoder that can insert 608 or 708 captions in the encoded stream that's sent to Media Services.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-313">You need to use a live media encoder that can insert 608 or 708 captions in the encoded stream that's sent to Media Services.</span></span> <span data-ttu-id="9b7d1-314">Media Services delivers the content with inserted captions to your viewers.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-314">Media Services delivers the content with inserted captions to your viewers.</span></span> |
| <span data-ttu-id="9b7d1-315">TTML inside .ismt (Smooth Streaming text tracks)</span><span class="sxs-lookup"><span data-stu-id="9b7d1-315">TTML inside .ismt (Smooth Streaming text tracks)</span></span> |<span data-ttu-id="9b7d1-316">Media Services dynamic packaging enables your clients to stream content in any of the following formats: DASH, HLS, or Smooth Streaming.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-316">Media Services dynamic packaging enables your clients to stream content in any of the following formats: DASH, HLS, or Smooth Streaming.</span></span> <span data-ttu-id="9b7d1-317">However, if you ingest fragmented MP4 (Smooth Streaming) with captions inside .ismt (Smooth Streaming text tracks), you can deliver the stream to only Smooth Streaming clients.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-317">However, if you ingest fragmented MP4 (Smooth Streaming) with captions inside .ismt (Smooth Streaming text tracks), you can deliver the stream to only Smooth Streaming clients.</span></span> |
| <span data-ttu-id="9b7d1-318">SCTE-35</span><span class="sxs-lookup"><span data-stu-id="9b7d1-318">SCTE-35</span></span> |<span data-ttu-id="9b7d1-319">SCTE-35 is a digital signaling system that's used to cue advertising insertion.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-319">SCTE-35 is a digital signaling system that's used to cue advertising insertion.</span></span> <span data-ttu-id="9b7d1-320">Downstream receivers use the signal to splice advertising into the stream for the allotted time.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-320">Downstream receivers use the signal to splice advertising into the stream for the allotted time.</span></span> <span data-ttu-id="9b7d1-321">SCTE-35 must be sent as a sparse track in the input stream.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-321">SCTE-35 must be sent as a sparse track in the input stream.</span></span><p><p><span data-ttu-id="9b7d1-322">Currently, the only supported input stream format that carries ad signals is fragmented MP4 (Smooth Streaming).</span><span class="sxs-lookup"><span data-stu-id="9b7d1-322">Currently, the only supported input stream format that carries ad signals is fragmented MP4 (Smooth Streaming).</span></span> <span data-ttu-id="9b7d1-323">The only supported output format is also Smooth Streaming.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-323">The only supported output format is also Smooth Streaming.</span></span> |

## <a id="considerations"></a><span data-ttu-id="9b7d1-324">Considerations</span><span class="sxs-lookup"><span data-stu-id="9b7d1-324">Considerations</span></span>
<span data-ttu-id="9b7d1-325">When you're using an on-premises live encoder to send a multi-bitrate stream to a channel, the following constraints apply:</span><span class="sxs-lookup"><span data-stu-id="9b7d1-325">When you're using an on-premises live encoder to send a multi-bitrate stream to a channel, the following constraints apply:</span></span>

* <span data-ttu-id="9b7d1-326">Make sure you have sufficient free Internet connectivity to send data to the ingest points.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-326">Make sure you have sufficient free Internet connectivity to send data to the ingest points.</span></span>
* <span data-ttu-id="9b7d1-327">Using a secondary ingest URL requires additional bandwidth.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-327">Using a secondary ingest URL requires additional bandwidth.</span></span>
* <span data-ttu-id="9b7d1-328">The incoming multi-bitrate stream can have a maximum of 10 video quality levels (layers) and a maximum of 5 audio tracks.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-328">The incoming multi-bitrate stream can have a maximum of 10 video quality levels (layers) and a maximum of 5 audio tracks.</span></span>
* <span data-ttu-id="9b7d1-329">The highest average bitrate for any of the video quality levels should be below 10 Mbps.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-329">The highest average bitrate for any of the video quality levels should be below 10 Mbps.</span></span>
* <span data-ttu-id="9b7d1-330">The aggregate of the average bitrates for all the video and audio streams should be below 25 Mbps.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-330">The aggregate of the average bitrates for all the video and audio streams should be below 25 Mbps.</span></span>
* <span data-ttu-id="9b7d1-331">You cannot change the input protocol while the channel or its associated programs are running.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-331">You cannot change the input protocol while the channel or its associated programs are running.</span></span> <span data-ttu-id="9b7d1-332">If you require different protocols, you should create separate channels for each input protocol.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-332">If you require different protocols, you should create separate channels for each input protocol.</span></span>
* <span data-ttu-id="9b7d1-333">You can ingest a single bitrate in your channel.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-333">You can ingest a single bitrate in your channel.</span></span> <span data-ttu-id="9b7d1-334">But because the channel does not process the stream, the client applications will also receive a single bitrate stream.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-334">But because the channel does not process the stream, the client applications will also receive a single bitrate stream.</span></span> <span data-ttu-id="9b7d1-335">(We don't recommend this option.)</span><span class="sxs-lookup"><span data-stu-id="9b7d1-335">(We don't recommend this option.)</span></span>

<span data-ttu-id="9b7d1-336">Here are other considerations related to working with channels and related components:</span><span class="sxs-lookup"><span data-stu-id="9b7d1-336">Here are other considerations related to working with channels and related components:</span></span>

* <span data-ttu-id="9b7d1-337">Every time you reconfigure the live encoder, call the **Reset** method on the channel.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-337">Every time you reconfigure the live encoder, call the **Reset** method on the channel.</span></span> <span data-ttu-id="9b7d1-338">Before you reset the channel, you have to stop the program.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-338">Before you reset the channel, you have to stop the program.</span></span> <span data-ttu-id="9b7d1-339">After you reset the channel, restart the program.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-339">After you reset the channel, restart the program.</span></span>

  > [!NOTE]
  > <span data-ttu-id="9b7d1-340">When you restart the program, you need to associate it with a new asset and create a new locator.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-340">When you restart the program, you need to associate it with a new asset and create a new locator.</span></span> 
  
* <span data-ttu-id="9b7d1-341">A channel can be stopped only when it's in the **Running** state and all programs on the channel have been stopped.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-341">A channel can be stopped only when it's in the **Running** state and all programs on the channel have been stopped.</span></span>
* <span data-ttu-id="9b7d1-342">By default, you can add only five channels to your Media Services account.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-342">By default, you can add only five channels to your Media Services account.</span></span> <span data-ttu-id="9b7d1-343">For more information, see [Quotas and limitations](media-services-quotas-and-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="9b7d1-343">For more information, see [Quotas and limitations](media-services-quotas-and-limitations.md).</span></span>
* <span data-ttu-id="9b7d1-344">You are billed only when your channel is in the **Running** state.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-344">You are billed only when your channel is in the **Running** state.</span></span> <span data-ttu-id="9b7d1-345">For more information, see the [Channel states and billing](media-services-live-streaming-with-onprem-encoders.md#states) section.</span><span class="sxs-lookup"><span data-stu-id="9b7d1-345">For more information, see the [Channel states and billing](media-services-live-streaming-with-onprem-encoders.md#states) section.</span></span>

## <a name="media-services-learning-paths"></a><span data-ttu-id="9b7d1-346">Media Services learning paths</span><span class="sxs-lookup"><span data-stu-id="9b7d1-346">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../../includes/media-services-learning-paths-include.md)]

## <a name="feedback"></a><span data-ttu-id="9b7d1-347">Feedback</span><span class="sxs-lookup"><span data-stu-id="9b7d1-347">Feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../../includes/media-services-user-voice-include.md)]

## <a name="related-topics"></a><span data-ttu-id="9b7d1-348">Related topics</span><span class="sxs-lookup"><span data-stu-id="9b7d1-348">Related topics</span></span>
[<span data-ttu-id="9b7d1-349">Recommended on-prem encoders</span><span class="sxs-lookup"><span data-stu-id="9b7d1-349">Recommended on-prem encoders</span></span>](media-services-recommended-encoders.md)

[<span data-ttu-id="9b7d1-350">Azure Media Services fragmented MP4 lives ingest specification</span><span class="sxs-lookup"><span data-stu-id="9b7d1-350">Azure Media Services fragmented MP4 lives ingest specification</span></span>](media-services-fmp4-live-ingest-overview.md)

[<span data-ttu-id="9b7d1-351">Azure Media Services overview and common scenarios</span><span class="sxs-lookup"><span data-stu-id="9b7d1-351">Azure Media Services overview and common scenarios</span></span>](media-services-overview.md)

[<span data-ttu-id="9b7d1-352">Media Services concepts</span><span class="sxs-lookup"><span data-stu-id="9b7d1-352">Media Services concepts</span></span>](media-services-concepts.md)

[live-overview]: ./media/media-services-manage-channels-overview/media-services-live-streaming-current.png
