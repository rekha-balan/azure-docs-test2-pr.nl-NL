---
title: Deploy Azure Stack - PowerShell | Microsoft Docs
description: In this article, you install the ASDK from the command line using PowerShell.
services: azure-stack
documentationcenter: ''
author: jeffgilb
manager: femila
editor: ''
ms.assetid: ''
ms.service: azure-stack
ms.workload: na
pms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.custom: ''
ms.date: 06/07/2018
ms.author: jeffgilb
ms.reviewer: misainat
ms.openlocfilehash: f0d7daa479f6e6ea345e010962488c1ecad5b7e2
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44866000"
---
# <a name="deploy-the-asdk-from-the-command-line"></a><span data-ttu-id="2466b-103">Deploy the ASDK from the command line</span><span class="sxs-lookup"><span data-stu-id="2466b-103">Deploy the ASDK from the command line</span></span>
<span data-ttu-id="2466b-104">The ASDK is a testing and development environment that you can deploy to evaluate and demonstrate Azure Stack features and services.</span><span class="sxs-lookup"><span data-stu-id="2466b-104">The ASDK is a testing and development environment that you can deploy to evaluate and demonstrate Azure Stack features and services.</span></span> <span data-ttu-id="2466b-105">To get it up and running, you need to prepare the environment hardware and run some scripts (this will take several hours).</span><span class="sxs-lookup"><span data-stu-id="2466b-105">To get it up and running, you need to prepare the environment hardware and run some scripts (this will take several hours).</span></span> <span data-ttu-id="2466b-106">After that, you can sign in to the admin and user portals to start using Azure Stack.</span><span class="sxs-lookup"><span data-stu-id="2466b-106">After that, you can sign in to the admin and user portals to start using Azure Stack.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="2466b-107">Prerequisites</span><span class="sxs-lookup"><span data-stu-id="2466b-107">Prerequisites</span></span> 
<span data-ttu-id="2466b-108">Prepare the development kit host computer.</span><span class="sxs-lookup"><span data-stu-id="2466b-108">Prepare the development kit host computer.</span></span> <span data-ttu-id="2466b-109">Plan your hardware, software, and network.</span><span class="sxs-lookup"><span data-stu-id="2466b-109">Plan your hardware, software, and network.</span></span> <span data-ttu-id="2466b-110">The computer that hosts the development kit (the development kit host) must meet hardware, software, and network requirements.</span><span class="sxs-lookup"><span data-stu-id="2466b-110">The computer that hosts the development kit (the development kit host) must meet hardware, software, and network requirements.</span></span> <span data-ttu-id="2466b-111">You must also choose between using Azure Active Directory (Azure AD) or Active Directory Federation Services (AD FS).</span><span class="sxs-lookup"><span data-stu-id="2466b-111">You must also choose between using Azure Active Directory (Azure AD) or Active Directory Federation Services (AD FS).</span></span> <span data-ttu-id="2466b-112">Be sure to comply with these prerequisites before starting your deployment so that the installation process runs smoothly.</span><span class="sxs-lookup"><span data-stu-id="2466b-112">Be sure to comply with these prerequisites before starting your deployment so that the installation process runs smoothly.</span></span> 

<span data-ttu-id="2466b-113">Before you deploy the ASDK, make sure your planned development kit host computer's hardware, operating system, account, and network configurations meet the minimum requirements for installing the ASDK.</span><span class="sxs-lookup"><span data-stu-id="2466b-113">Before you deploy the ASDK, make sure your planned development kit host computer's hardware, operating system, account, and network configurations meet the minimum requirements for installing the ASDK.</span></span>

<span data-ttu-id="2466b-114">**[Review the ASDK deployment planning considerations](asdk-deploy-considerations.md)**</span><span class="sxs-lookup"><span data-stu-id="2466b-114">**[Review the ASDK deployment planning considerations](asdk-deploy-considerations.md)**</span></span>

> [!TIP]
> <span data-ttu-id="2466b-115">You can use the [Azure Stack deployment requirements check tool](https://gallery.technet.microsoft.com/Deployment-Checker-for-50e0f51b) after installing the operating system to confirm that your hardware meets all requirements.</span><span class="sxs-lookup"><span data-stu-id="2466b-115">You can use the [Azure Stack deployment requirements check tool](https://gallery.technet.microsoft.com/Deployment-Checker-for-50e0f51b) after installing the operating system to confirm that your hardware meets all requirements.</span></span>

## <a name="download-and-extract-the-deployment-package"></a><span data-ttu-id="2466b-116">Download and extract the deployment package</span><span class="sxs-lookup"><span data-stu-id="2466b-116">Download and extract the deployment package</span></span>
<span data-ttu-id="2466b-117">After ensuring that your development kit host computer meets the basic requirements for installing the ASDK, the next step is to download and extract the ASDK deployment package.</span><span class="sxs-lookup"><span data-stu-id="2466b-117">After ensuring that your development kit host computer meets the basic requirements for installing the ASDK, the next step is to download and extract the ASDK deployment package.</span></span> <span data-ttu-id="2466b-118">The deployment package includes the Cloudbuilder.vhdx file, which is a virtual hard drive that includes a bootable operating system and the Azure Stack installation files.</span><span class="sxs-lookup"><span data-stu-id="2466b-118">The deployment package includes the Cloudbuilder.vhdx file, which is a virtual hard drive that includes a bootable operating system and the Azure Stack installation files.</span></span>

<span data-ttu-id="2466b-119">You can download the deployment package to the development kit host or to another computer.</span><span class="sxs-lookup"><span data-stu-id="2466b-119">You can download the deployment package to the development kit host or to another computer.</span></span> <span data-ttu-id="2466b-120">The extracted deployment files take up 60 GB of free disk space, so using another computer can help reduce the hardware requirements for the development kit host.</span><span class="sxs-lookup"><span data-stu-id="2466b-120">The extracted deployment files take up 60 GB of free disk space, so using another computer can help reduce the hardware requirements for the development kit host.</span></span>

<span data-ttu-id="2466b-121">**[Download and extract the Azure Stack Development Kit (ASDK)](asdk-download.md)**</span><span class="sxs-lookup"><span data-stu-id="2466b-121">**[Download and extract the Azure Stack Development Kit (ASDK)](asdk-download.md)**</span></span>

## <a name="prepare-the-development-kit-host-computer"></a><span data-ttu-id="2466b-122">Prepare the development kit host computer</span><span class="sxs-lookup"><span data-stu-id="2466b-122">Prepare the development kit host computer</span></span>
<span data-ttu-id="2466b-123">Before you can install the ASDK on the host computer, the environment must be prepared and the system configured to boot from VHD.</span><span class="sxs-lookup"><span data-stu-id="2466b-123">Before you can install the ASDK on the host computer, the environment must be prepared and the system configured to boot from VHD.</span></span> <span data-ttu-id="2466b-124">After this step, the development kit host will boot to the Cloudbuilder.vhdx (a virtual hard drive that includes a bootable operating system and the Azure Stack installation files).</span><span class="sxs-lookup"><span data-stu-id="2466b-124">After this step, the development kit host will boot to the Cloudbuilder.vhdx (a virtual hard drive that includes a bootable operating system and the Azure Stack installation files).</span></span>

<span data-ttu-id="2466b-125">Use PowerShell to configure the ASDK host computer to boot from CloudBuilder.vhdx.</span><span class="sxs-lookup"><span data-stu-id="2466b-125">Use PowerShell to configure the ASDK host computer to boot from CloudBuilder.vhdx.</span></span> <span data-ttu-id="2466b-126">These commands configure your ASDK host computer to boot from the downloaded and extracted Azure Stack virtual harddisk (CloudBuilder.vhdx).</span><span class="sxs-lookup"><span data-stu-id="2466b-126">These commands configure your ASDK host computer to boot from the downloaded and extracted Azure Stack virtual harddisk (CloudBuilder.vhdx).</span></span> <span data-ttu-id="2466b-127">After completing these steps, restart the ASDK host computer.</span><span class="sxs-lookup"><span data-stu-id="2466b-127">After completing these steps, restart the ASDK host computer.</span></span>

<span data-ttu-id="2466b-128">To configure the ASDK host computer to boot from CloudBuilder.vhdx:</span><span class="sxs-lookup"><span data-stu-id="2466b-128">To configure the ASDK host computer to boot from CloudBuilder.vhdx:</span></span>

  1. <span data-ttu-id="2466b-129">Launch a command prompt as administrator.</span><span class="sxs-lookup"><span data-stu-id="2466b-129">Launch a command prompt as administrator.</span></span>
  2. <span data-ttu-id="2466b-130">Run `bcdedit /copy {current} /d "Azure Stack"`</span><span class="sxs-lookup"><span data-stu-id="2466b-130">Run `bcdedit /copy {current} /d "Azure Stack"`</span></span>
  3. <span data-ttu-id="2466b-131">Copy (CTRL+C) the CLSID value returned, including the required {}'s.</span><span class="sxs-lookup"><span data-stu-id="2466b-131">Copy (CTRL+C) the CLSID value returned, including the required {}'s.</span></span> <span data-ttu-id="2466b-132">This value is referred to as {CLSID} and will need to be pasted in (CTRL+V or right-click) in the remaining steps.</span><span class="sxs-lookup"><span data-stu-id="2466b-132">This value is referred to as {CLSID} and will need to be pasted in (CTRL+V or right-click) in the remaining steps.</span></span>
  4. <span data-ttu-id="2466b-133">Run `bcdedit /set {CLSID} device vhd=[C:]\CloudBuilder.vhdx`</span><span class="sxs-lookup"><span data-stu-id="2466b-133">Run `bcdedit /set {CLSID} device vhd=[C:]\CloudBuilder.vhdx`</span></span> 
  5. <span data-ttu-id="2466b-134">Run `bcdedit /set {CLSID} osdevice vhd=[C:]\CloudBuilder.vhdx`</span><span class="sxs-lookup"><span data-stu-id="2466b-134">Run `bcdedit /set {CLSID} osdevice vhd=[C:]\CloudBuilder.vhdx`</span></span> 
  6. <span data-ttu-id="2466b-135">Run `bcdedit /set {CLSID} detecthal on`</span><span class="sxs-lookup"><span data-stu-id="2466b-135">Run `bcdedit /set {CLSID} detecthal on`</span></span> 
  7. <span data-ttu-id="2466b-136">Run `bcdedit /default {CLSID}`</span><span class="sxs-lookup"><span data-stu-id="2466b-136">Run `bcdedit /default {CLSID}`</span></span>
  8. <span data-ttu-id="2466b-137">To verify boot settings, run `bcdedit`.</span><span class="sxs-lookup"><span data-stu-id="2466b-137">To verify boot settings, run `bcdedit`.</span></span> 
  9. <span data-ttu-id="2466b-138">Ensure that the CloudBuilder.vhdx file has been moved to the root of the C:\ drive (C:\CloudBuilder.vhdx) and restart the development kit host computer.</span><span class="sxs-lookup"><span data-stu-id="2466b-138">Ensure that the CloudBuilder.vhdx file has been moved to the root of the C:\ drive (C:\CloudBuilder.vhdx) and restart the development kit host computer.</span></span> <span data-ttu-id="2466b-139">When the ASDK host computer is restarted, it should boot from the CloudBuilder.vhdx virtual machine hard drive to begin ASDK deployment.</span><span class="sxs-lookup"><span data-stu-id="2466b-139">When the ASDK host computer is restarted, it should boot from the CloudBuilder.vhdx virtual machine hard drive to begin ASDK deployment.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="2466b-140">Ensure that you have direct physical or KVM access to the development kit host computer before restarting it.</span><span class="sxs-lookup"><span data-stu-id="2466b-140">Ensure that you have direct physical or KVM access to the development kit host computer before restarting it.</span></span> <span data-ttu-id="2466b-141">When the VM first starts, it prompts you to complete Windows Server Setup.</span><span class="sxs-lookup"><span data-stu-id="2466b-141">When the VM first starts, it prompts you to complete Windows Server Setup.</span></span> <span data-ttu-id="2466b-142">Provide the same administrator credentials you used to log into the development kit host computer.</span><span class="sxs-lookup"><span data-stu-id="2466b-142">Provide the same administrator credentials you used to log into the development kit host computer.</span></span> 

### <a name="prepare-the-development-kit-host-using-powershell"></a><span data-ttu-id="2466b-143">Prepare the development kit host using PowerShell</span><span class="sxs-lookup"><span data-stu-id="2466b-143">Prepare the development kit host using PowerShell</span></span> 
<span data-ttu-id="2466b-144">After the development kit host computer successfully boots into the CloudBuilder.vhdx image, log in with the same local administrator credentials you used to log into the development kit host computer (and that you provided as part of finalizing Windows Server Setup when the host computer booted from VHD).</span><span class="sxs-lookup"><span data-stu-id="2466b-144">After the development kit host computer successfully boots into the CloudBuilder.vhdx image, log in with the same local administrator credentials you used to log into the development kit host computer (and that you provided as part of finalizing Windows Server Setup when the host computer booted from VHD).</span></span> 

> [!NOTE]
> <span data-ttu-id="2466b-145">Optionally, you can also configure [Azure Stack telemetry settings](asdk-telemetry.md#set-telemetry-level-in-the-windows-registry) *before* installing the ASDK.</span><span class="sxs-lookup"><span data-stu-id="2466b-145">Optionally, you can also configure [Azure Stack telemetry settings](asdk-telemetry.md#set-telemetry-level-in-the-windows-registry) *before* installing the ASDK.</span></span>

<span data-ttu-id="2466b-146">Open an elevated PowerShell console and run the commands in this section to deploy the ASDK on the development kit host.</span><span class="sxs-lookup"><span data-stu-id="2466b-146">Open an elevated PowerShell console and run the commands in this section to deploy the ASDK on the development kit host.</span></span>

> [!IMPORTANT] 
> <span data-ttu-id="2466b-147">ASDK installation supports exactly one network interface card (NIC) for networking.</span><span class="sxs-lookup"><span data-stu-id="2466b-147">ASDK installation supports exactly one network interface card (NIC) for networking.</span></span> <span data-ttu-id="2466b-148">If you have multiple NICs, make sure that only one is enabled (and all others are disabled) before running the deployment script.</span><span class="sxs-lookup"><span data-stu-id="2466b-148">If you have multiple NICs, make sure that only one is enabled (and all others are disabled) before running the deployment script.</span></span>

<span data-ttu-id="2466b-149">You can deploy Azure Stack with Azure AD or Windows Server AD FS as the identity provider.</span><span class="sxs-lookup"><span data-stu-id="2466b-149">You can deploy Azure Stack with Azure AD or Windows Server AD FS as the identity provider.</span></span> <span data-ttu-id="2466b-150">Azure Stack, resource providers, and other applications work the same way with both.</span><span class="sxs-lookup"><span data-stu-id="2466b-150">Azure Stack, resource providers, and other applications work the same way with both.</span></span>

> [!TIP]
> <span data-ttu-id="2466b-151">If you don't supply any setup parameters (see InstallAzureStackPOC.ps1 optional parameters and examples below), you are prompted for the required parameters.</span><span class="sxs-lookup"><span data-stu-id="2466b-151">If you don't supply any setup parameters (see InstallAzureStackPOC.ps1 optional parameters and examples below), you are prompted for the required parameters.</span></span>

### <a name="deploy-azure-stack-using-azure-ad"></a><span data-ttu-id="2466b-152">Deploy Azure Stack using Azure AD</span><span class="sxs-lookup"><span data-stu-id="2466b-152">Deploy Azure Stack using Azure AD</span></span> 
<span data-ttu-id="2466b-153">To deploy Azure Stack **using Azure AD as the identity provider**, you must have internet connectivity either directly or through a transparent proxy.</span><span class="sxs-lookup"><span data-stu-id="2466b-153">To deploy Azure Stack **using Azure AD as the identity provider**, you must have internet connectivity either directly or through a transparent proxy.</span></span> 

<span data-ttu-id="2466b-154">Run the following PowerShell commands to deploy the development kit using Azure AD:</span><span class="sxs-lookup"><span data-stu-id="2466b-154">Run the following PowerShell commands to deploy the development kit using Azure AD:</span></span>

  ```powershell
  cd C:\CloudDeployment\Setup     
  $adminpass = Get-Credential Administrator     
  .\InstallAzureStackPOC.ps1 -AdminPassword $adminpass.Password
  ```

<span data-ttu-id="2466b-155">A few minutes into ASDK installation you will be prompted for Azure AD credentials.</span><span class="sxs-lookup"><span data-stu-id="2466b-155">A few minutes into ASDK installation you will be prompted for Azure AD credentials.</span></span> <span data-ttu-id="2466b-156">You must provide global administrator credentials for your Azure AD tenant.</span><span class="sxs-lookup"><span data-stu-id="2466b-156">You must provide global administrator credentials for your Azure AD tenant.</span></span> 

### <a name="deploy-azure-stack-using-ad-fs"></a><span data-ttu-id="2466b-157">Deploy Azure Stack using AD FS</span><span class="sxs-lookup"><span data-stu-id="2466b-157">Deploy Azure Stack using AD FS</span></span> 
<span data-ttu-id="2466b-158">To deploy the development kit **using AD FS as the identity provider**, run the following PowerShell commands (you just need to add the -UseADFS parameter):</span><span class="sxs-lookup"><span data-stu-id="2466b-158">To deploy the development kit **using AD FS as the identity provider**, run the following PowerShell commands (you just need to add the -UseADFS parameter):</span></span> 

  ```powershell
  cd C:\CloudDeployment\Setup     
  $adminpass = Get-Credential Administrator 
  .\InstallAzureStackPOC.ps1 -AdminPassword $adminpass.Password -UseADFS
  ```

<span data-ttu-id="2466b-159">In AD FS deployments, the default stamp Directory Service is used as the identity provider.</span><span class="sxs-lookup"><span data-stu-id="2466b-159">In AD FS deployments, the default stamp Directory Service is used as the identity provider.</span></span> <span data-ttu-id="2466b-160">The default account to sign in with is azurestackadmin@azurestack.local, and the password will be set to what you provided as part of the PowerShell setup commands.</span><span class="sxs-lookup"><span data-stu-id="2466b-160">The default account to sign in with is azurestackadmin@azurestack.local, and the password will be set to what you provided as part of the PowerShell setup commands.</span></span>

<span data-ttu-id="2466b-161">The deployment process can take a few hours, during which time the system automatically reboots once.</span><span class="sxs-lookup"><span data-stu-id="2466b-161">The deployment process can take a few hours, during which time the system automatically reboots once.</span></span> <span data-ttu-id="2466b-162">When the deployment succeeds, the PowerShell console displays: **COMPLETE: Action ‘Deployment’**.</span><span class="sxs-lookup"><span data-stu-id="2466b-162">When the deployment succeeds, the PowerShell console displays: **COMPLETE: Action ‘Deployment’**.</span></span> <span data-ttu-id="2466b-163">If the deployment fails, you can try running the script again using the -rerun parameter.</span><span class="sxs-lookup"><span data-stu-id="2466b-163">If the deployment fails, you can try running the script again using the -rerun parameter.</span></span> <span data-ttu-id="2466b-164">Or, you can [redeploy ASDK](asdk-redeploy.md) from scratch.</span><span class="sxs-lookup"><span data-stu-id="2466b-164">Or, you can [redeploy ASDK](asdk-redeploy.md) from scratch.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="2466b-165">If you want to monitor the deployment progress after the ASDK host reboots, you must sign in as AzureStack\AzureStackAdmin.</span><span class="sxs-lookup"><span data-stu-id="2466b-165">If you want to monitor the deployment progress after the ASDK host reboots, you must sign in as AzureStack\AzureStackAdmin.</span></span> <span data-ttu-id="2466b-166">If you sign in as a local administrator after the host computer is restarted (and joined to the azurestack.local domain), you won't see the deployment progress.</span><span class="sxs-lookup"><span data-stu-id="2466b-166">If you sign in as a local administrator after the host computer is restarted (and joined to the azurestack.local domain), you won't see the deployment progress.</span></span> <span data-ttu-id="2466b-167">Do not rerun deployment, instead sign in as azurestack to validate that it's running.</span><span class="sxs-lookup"><span data-stu-id="2466b-167">Do not rerun deployment, instead sign in as azurestack to validate that it's running.</span></span>


#### <a name="azure-ad-deployment-script-examples"></a><span data-ttu-id="2466b-168">Azure AD deployment script examples</span><span class="sxs-lookup"><span data-stu-id="2466b-168">Azure AD deployment script examples</span></span>
<span data-ttu-id="2466b-169">You can script the entire Azure AD deployment.</span><span class="sxs-lookup"><span data-stu-id="2466b-169">You can script the entire Azure AD deployment.</span></span> <span data-ttu-id="2466b-170">Here are a few commented examples that include some optional parameters.</span><span class="sxs-lookup"><span data-stu-id="2466b-170">Here are a few commented examples that include some optional parameters.</span></span>

<span data-ttu-id="2466b-171">If your Azure AD identity is only associated with **one** Azure AD directory:</span><span class="sxs-lookup"><span data-stu-id="2466b-171">If your Azure AD identity is only associated with **one** Azure AD directory:</span></span>
```powershell
cd C:\CloudDeployment\Setup 
$adminpass = Get-Credential Administrator 
$aadcred = Get-Credential "<Azure AD global administrator account name>" 
.\InstallAzureStackPOC.ps1 -AdminPassword $adminpass.Password -InfraAzureDirectoryTenantAdminCredential $aadcred -TimeServer 52.168.138.145 #Example time server IP address.
```

<span data-ttu-id="2466b-172">If your Azure AD identity is associated with **greater than one** Azure AD directory:</span><span class="sxs-lookup"><span data-stu-id="2466b-172">If your Azure AD identity is associated with **greater than one** Azure AD directory:</span></span>
```powershell
cd C:\CloudDeployment\Setup 
$adminpass = Get-Credential Administrator 
$aadcred = Get-Credential "<Azure AD global administrator account name>" #Example: user@AADDirName.onmicrosoft.com 
.\InstallAzureStackPOC.ps1 -AdminPassword $adminpass.Password -InfraAzureDirectoryTenantAdminCredential $aadcred -InfraAzureDirectoryTenantName "<Azure AD directory in the form of domainname.onmicrosoft.com or an Azure AD verified custom domain name>" -TimeServer 52.168.138.145 #Example time server IP address.
```

<span data-ttu-id="2466b-173">If your environment does not have DHCP enabled, then you must include the following additional parameters to one of the options above (example usage provided):</span><span class="sxs-lookup"><span data-stu-id="2466b-173">If your environment does not have DHCP enabled, then you must include the following additional parameters to one of the options above (example usage provided):</span></span> 

```powershell
.\InstallAzureStackPOC.ps1 -AdminPassword $adminpass.Password -InfraAzureDirectoryTenantAdminCredential $aadcred -NatIPv4Subnet 10.10.10.0/24 -NatIPv4Address 10.10.10.3 -NatIPv4DefaultGateway 10.10.10.1 -TimeServer 10.222.112.26
```

### <a name="asdk-installazurestackpocps1-optional-parameters"></a><span data-ttu-id="2466b-174">ASDK InstallAzureStackPOC.ps1 optional parameters</span><span class="sxs-lookup"><span data-stu-id="2466b-174">ASDK InstallAzureStackPOC.ps1 optional parameters</span></span>
|<span data-ttu-id="2466b-175">Parameter</span><span class="sxs-lookup"><span data-stu-id="2466b-175">Parameter</span></span>|<span data-ttu-id="2466b-176">Required/Optional</span><span class="sxs-lookup"><span data-stu-id="2466b-176">Required/Optional</span></span>|<span data-ttu-id="2466b-177">Description</span><span class="sxs-lookup"><span data-stu-id="2466b-177">Description</span></span>|
|-----|-----|-----|
|<span data-ttu-id="2466b-178">AdminPassword</span><span class="sxs-lookup"><span data-stu-id="2466b-178">AdminPassword</span></span>|<span data-ttu-id="2466b-179">Required</span><span class="sxs-lookup"><span data-stu-id="2466b-179">Required</span></span>|<span data-ttu-id="2466b-180">Sets the local administrator account and all other user accounts on all the virtual machines created as part of development kit deployment.</span><span class="sxs-lookup"><span data-stu-id="2466b-180">Sets the local administrator account and all other user accounts on all the virtual machines created as part of development kit deployment.</span></span> <span data-ttu-id="2466b-181">This password must match the current local administrator password on the host.</span><span class="sxs-lookup"><span data-stu-id="2466b-181">This password must match the current local administrator password on the host.</span></span>|
|<span data-ttu-id="2466b-182">InfraAzureDirectoryTenantName</span><span class="sxs-lookup"><span data-stu-id="2466b-182">InfraAzureDirectoryTenantName</span></span>|<span data-ttu-id="2466b-183">Required</span><span class="sxs-lookup"><span data-stu-id="2466b-183">Required</span></span>|<span data-ttu-id="2466b-184">Sets the tenant directory.</span><span class="sxs-lookup"><span data-stu-id="2466b-184">Sets the tenant directory.</span></span> <span data-ttu-id="2466b-185">Use this parameter to specify a specific directory where the AAD account has permissions to manage multiple directories.</span><span class="sxs-lookup"><span data-stu-id="2466b-185">Use this parameter to specify a specific directory where the AAD account has permissions to manage multiple directories.</span></span> <span data-ttu-id="2466b-186">Full Name of an AAD Directory Tenant in the format of .onmicrosoft.com or an Azure AD verified custom domain name.</span><span class="sxs-lookup"><span data-stu-id="2466b-186">Full Name of an AAD Directory Tenant in the format of .onmicrosoft.com or an Azure AD verified custom domain name.</span></span>|
|<span data-ttu-id="2466b-187">TimeServer</span><span class="sxs-lookup"><span data-stu-id="2466b-187">TimeServer</span></span>|<span data-ttu-id="2466b-188">Required</span><span class="sxs-lookup"><span data-stu-id="2466b-188">Required</span></span>|<span data-ttu-id="2466b-189">Use this parameter to specify a specific time server.</span><span class="sxs-lookup"><span data-stu-id="2466b-189">Use this parameter to specify a specific time server.</span></span> <span data-ttu-id="2466b-190">This parameter must be provided as a valid time server IP address.</span><span class="sxs-lookup"><span data-stu-id="2466b-190">This parameter must be provided as a valid time server IP address.</span></span> <span data-ttu-id="2466b-191">Server names are not supported.</span><span class="sxs-lookup"><span data-stu-id="2466b-191">Server names are not supported.</span></span>|
|<span data-ttu-id="2466b-192">InfraAzureDirectoryTenantAdminCredential</span><span class="sxs-lookup"><span data-stu-id="2466b-192">InfraAzureDirectoryTenantAdminCredential</span></span>|<span data-ttu-id="2466b-193">Optional</span><span class="sxs-lookup"><span data-stu-id="2466b-193">Optional</span></span>|<span data-ttu-id="2466b-194">Sets the Azure Active Directory user name and password.</span><span class="sxs-lookup"><span data-stu-id="2466b-194">Sets the Azure Active Directory user name and password.</span></span> <span data-ttu-id="2466b-195">These Azure credentials must be an Org ID.</span><span class="sxs-lookup"><span data-stu-id="2466b-195">These Azure credentials must be an Org ID.</span></span>|
|<span data-ttu-id="2466b-196">InfraAzureEnvironment</span><span class="sxs-lookup"><span data-stu-id="2466b-196">InfraAzureEnvironment</span></span>|<span data-ttu-id="2466b-197">Optional</span><span class="sxs-lookup"><span data-stu-id="2466b-197">Optional</span></span>|<span data-ttu-id="2466b-198">Select the Azure Environment with which you want to register this Azure Stack deployment.</span><span class="sxs-lookup"><span data-stu-id="2466b-198">Select the Azure Environment with which you want to register this Azure Stack deployment.</span></span> <span data-ttu-id="2466b-199">Options include Public Azure, Azure - China, Azure - US Government.</span><span class="sxs-lookup"><span data-stu-id="2466b-199">Options include Public Azure, Azure - China, Azure - US Government.</span></span>|
|<span data-ttu-id="2466b-200">DNSForwarder</span><span class="sxs-lookup"><span data-stu-id="2466b-200">DNSForwarder</span></span>|<span data-ttu-id="2466b-201">Optional</span><span class="sxs-lookup"><span data-stu-id="2466b-201">Optional</span></span>|<span data-ttu-id="2466b-202">A DNS server is created as part of the Azure Stack deployment.</span><span class="sxs-lookup"><span data-stu-id="2466b-202">A DNS server is created as part of the Azure Stack deployment.</span></span> <span data-ttu-id="2466b-203">To allow computers inside the solution to resolve names outside of the stamp, provide your existing infrastructure DNS server.</span><span class="sxs-lookup"><span data-stu-id="2466b-203">To allow computers inside the solution to resolve names outside of the stamp, provide your existing infrastructure DNS server.</span></span> <span data-ttu-id="2466b-204">The in-stamp DNS server forwards unknown name resolution requests to this server.</span><span class="sxs-lookup"><span data-stu-id="2466b-204">The in-stamp DNS server forwards unknown name resolution requests to this server.</span></span>|
|<span data-ttu-id="2466b-205">NatIPv4Address</span><span class="sxs-lookup"><span data-stu-id="2466b-205">NatIPv4Address</span></span>|<span data-ttu-id="2466b-206">Required for DHCP NAT support</span><span class="sxs-lookup"><span data-stu-id="2466b-206">Required for DHCP NAT support</span></span>|<span data-ttu-id="2466b-207">Sets a static IP address for MAS-BGPNAT01.</span><span class="sxs-lookup"><span data-stu-id="2466b-207">Sets a static IP address for MAS-BGPNAT01.</span></span> <span data-ttu-id="2466b-208">Only use this parameter if the DHCP can’t assign a valid IP address to access the Internet.</span><span class="sxs-lookup"><span data-stu-id="2466b-208">Only use this parameter if the DHCP can’t assign a valid IP address to access the Internet.</span></span>|
|<span data-ttu-id="2466b-209">NatIPv4Subnet</span><span class="sxs-lookup"><span data-stu-id="2466b-209">NatIPv4Subnet</span></span>|<span data-ttu-id="2466b-210">Required for DHCP NAT support</span><span class="sxs-lookup"><span data-stu-id="2466b-210">Required for DHCP NAT support</span></span>|<span data-ttu-id="2466b-211">IP Subnet prefix used for DHCP over NAT support.</span><span class="sxs-lookup"><span data-stu-id="2466b-211">IP Subnet prefix used for DHCP over NAT support.</span></span> <span data-ttu-id="2466b-212">Only use this parameter if the DHCP can’t assign a valid IP address to access the Internet.</span><span class="sxs-lookup"><span data-stu-id="2466b-212">Only use this parameter if the DHCP can’t assign a valid IP address to access the Internet.</span></span>|
|<span data-ttu-id="2466b-213">PublicVlanId</span><span class="sxs-lookup"><span data-stu-id="2466b-213">PublicVlanId</span></span>|<span data-ttu-id="2466b-214">Optional</span><span class="sxs-lookup"><span data-stu-id="2466b-214">Optional</span></span>|<span data-ttu-id="2466b-215">Sets the VLAN ID.</span><span class="sxs-lookup"><span data-stu-id="2466b-215">Sets the VLAN ID.</span></span> <span data-ttu-id="2466b-216">Only use this parameter if the host and MAS-BGPNAT01 must configure VLAN ID to access the physical network (and Internet).</span><span class="sxs-lookup"><span data-stu-id="2466b-216">Only use this parameter if the host and MAS-BGPNAT01 must configure VLAN ID to access the physical network (and Internet).</span></span> <span data-ttu-id="2466b-217">For example, .\InstallAzureStackPOC.ps1 -Verbose -PublicVLan 305</span><span class="sxs-lookup"><span data-stu-id="2466b-217">For example, .\InstallAzureStackPOC.ps1 -Verbose -PublicVLan 305</span></span>|
|<span data-ttu-id="2466b-218">Rerun</span><span class="sxs-lookup"><span data-stu-id="2466b-218">Rerun</span></span>|<span data-ttu-id="2466b-219">Optional</span><span class="sxs-lookup"><span data-stu-id="2466b-219">Optional</span></span>|<span data-ttu-id="2466b-220">Use this flag to rerun deployment.</span><span class="sxs-lookup"><span data-stu-id="2466b-220">Use this flag to rerun deployment.</span></span> <span data-ttu-id="2466b-221">All previous input is used.</span><span class="sxs-lookup"><span data-stu-id="2466b-221">All previous input is used.</span></span> <span data-ttu-id="2466b-222">Re-entering data previously provided is not supported because several unique values are generated and used for deployment.</span><span class="sxs-lookup"><span data-stu-id="2466b-222">Re-entering data previously provided is not supported because several unique values are generated and used for deployment.</span></span>|


## <a name="perform-post-deployment-configurations"></a><span data-ttu-id="2466b-223">Perform post-deployment configurations</span><span class="sxs-lookup"><span data-stu-id="2466b-223">Perform post-deployment configurations</span></span>
<span data-ttu-id="2466b-224">After installing the ASDK, there are a few recommended post-installation checks and configuration changes that should be made.</span><span class="sxs-lookup"><span data-stu-id="2466b-224">After installing the ASDK, there are a few recommended post-installation checks and configuration changes that should be made.</span></span> <span data-ttu-id="2466b-225">You can validate your installation was installed successfully using the test-AzureStack cmdlet, and install Azure Stack PowerShell and GitHub tools.</span><span class="sxs-lookup"><span data-stu-id="2466b-225">You can validate your installation was installed successfully using the test-AzureStack cmdlet, and install Azure Stack PowerShell and GitHub tools.</span></span> 

<span data-ttu-id="2466b-226">You should also reset the password expiration policy to make sure that the password for the development kit host doesn't expire before your evaluation period ends.</span><span class="sxs-lookup"><span data-stu-id="2466b-226">You should also reset the password expiration policy to make sure that the password for the development kit host doesn't expire before your evaluation period ends.</span></span>

> [!NOTE]
> <span data-ttu-id="2466b-227">Optionally, you can also configure [Azure Stack telemetry settings](asdk-telemetry.md#enable-or-disable-telemetry-after-deployment) *after* installing the ASDK.</span><span class="sxs-lookup"><span data-stu-id="2466b-227">Optionally, you can also configure [Azure Stack telemetry settings](asdk-telemetry.md#enable-or-disable-telemetry-after-deployment) *after* installing the ASDK.</span></span>

<span data-ttu-id="2466b-228">**[Post ASDK deployment tasks](asdk-post-deploy.md)**</span><span class="sxs-lookup"><span data-stu-id="2466b-228">**[Post ASDK deployment tasks](asdk-post-deploy.md)**</span></span>

## <a name="register-with-azure"></a><span data-ttu-id="2466b-229">Register with Azure</span><span class="sxs-lookup"><span data-stu-id="2466b-229">Register with Azure</span></span>
<span data-ttu-id="2466b-230">You must register Azure Stack with Azure so that you can [download Azure marketplace items](asdk-marketplace-item.md) to Azure Stack.</span><span class="sxs-lookup"><span data-stu-id="2466b-230">You must register Azure Stack with Azure so that you can [download Azure marketplace items](asdk-marketplace-item.md) to Azure Stack.</span></span>

<span data-ttu-id="2466b-231">**[Register Azure Stack with Azure](asdk-register.md)**</span><span class="sxs-lookup"><span data-stu-id="2466b-231">**[Register Azure Stack with Azure](asdk-register.md)**</span></span>

## <a name="next-steps"></a><span data-ttu-id="2466b-232">Next steps</span><span class="sxs-lookup"><span data-stu-id="2466b-232">Next steps</span></span>
<span data-ttu-id="2466b-233">Congratulations!</span><span class="sxs-lookup"><span data-stu-id="2466b-233">Congratulations!</span></span> <span data-ttu-id="2466b-234">After completing these steps, you’ll have a development kit environment with both [administrator](https://adminportal.local.azurestack.external) and [user](https://portal.local.azurestack.external) portals.</span><span class="sxs-lookup"><span data-stu-id="2466b-234">After completing these steps, you’ll have a development kit environment with both [administrator](https://adminportal.local.azurestack.external) and [user](https://portal.local.azurestack.external) portals.</span></span> 

[<span data-ttu-id="2466b-235">Post ASDK installation configuration tasks</span><span class="sxs-lookup"><span data-stu-id="2466b-235">Post ASDK installation configuration tasks</span></span>](asdk-post-deploy.md)

