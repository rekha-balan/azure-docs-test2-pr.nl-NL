---
title: Deploy App Services - Azure Stack | Microsoft Docs
description: Detailed guidance for deploying App Service in Azure Stack
services: azure-stack
documentationcenter: ''
author: apwestgarth
manager: stefsch
editor: ''
ms.assetid: ''
ms.service: azure-stack
ms.workload: app-service
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 4/6/2017
ms.author: anwestg
ms.openlocfilehash: 7285285939a63df2b389f60963511322f7a81eb4
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44554938"
---
# <a name="add-an-app-service-resource-provider-to-azure-stack"></a><span data-ttu-id="bef97-103">Add an App Service resource provider to Azure Stack</span><span class="sxs-lookup"><span data-stu-id="bef97-103">Add an App Service resource provider to Azure Stack</span></span>

<span data-ttu-id="bef97-104">If you want to give your tenants the ability to create Web, Mobile, and API applications with their Azure Stack subscription, you must add an [App Service Resource Provider](azure-stack-app-service-overview.md) to your Azure Stack deployment.</span><span class="sxs-lookup"><span data-stu-id="bef97-104">If you want to give your tenants the ability to create Web, Mobile, and API applications with their Azure Stack subscription, you must add an [App Service Resource Provider](azure-stack-app-service-overview.md) to your Azure Stack deployment.</span></span> <span data-ttu-id="bef97-105">To do so, follow these steps:</span><span class="sxs-lookup"><span data-stu-id="bef97-105">To do so, follow these steps:</span></span>

1. <span data-ttu-id="bef97-106">Download required components.</span><span class="sxs-lookup"><span data-stu-id="bef97-106">Download required components.</span></span>
2. <span data-ttu-id="bef97-107">Create certificates to be used by App Service on Azure Stack.</span><span class="sxs-lookup"><span data-stu-id="bef97-107">Create certificates to be used by App Service on Azure Stack.</span></span>
3. <span data-ttu-id="bef97-108">Use the installer to download, stage and, install App Service.</span><span class="sxs-lookup"><span data-stu-id="bef97-108">Use the installer to download, stage and, install App Service.</span></span>
4. <span data-ttu-id="bef97-109">Validate App Service Installation.</span><span class="sxs-lookup"><span data-stu-id="bef97-109">Validate App Service Installation.</span></span>
5. <span data-ttu-id="bef97-110">Configure Single Sign On for Kudu and the Azure Functions Portal.</span><span class="sxs-lookup"><span data-stu-id="bef97-110">Configure Single Sign On for Kudu and the Azure Functions Portal.</span></span>
6. <span data-ttu-id="bef97-111">Test Drive the App Service Resource Provider.</span><span class="sxs-lookup"><span data-stu-id="bef97-111">Test Drive the App Service Resource Provider.</span></span>

## <a name="download-the-required-components"></a><span data-ttu-id="bef97-112">Download the required components</span><span class="sxs-lookup"><span data-stu-id="bef97-112">Download the required components</span></span>

1. <span data-ttu-id="bef97-113">Download the [App Service on Azure Stack preview installer](http://aka.ms/appsvconmastp3installer).</span><span class="sxs-lookup"><span data-stu-id="bef97-113">Download the [App Service on Azure Stack preview installer](http://aka.ms/appsvconmastp3installer).</span></span>
2. <span data-ttu-id="bef97-114">Download the [App Service on Azure Stack deployment helper scripts](http://aka.ms/appsvconmastp3helper).</span><span class="sxs-lookup"><span data-stu-id="bef97-114">Download the [App Service on Azure Stack deployment helper scripts](http://aka.ms/appsvconmastp3helper).</span></span>
3. <span data-ttu-id="bef97-115">Extract the files from the helper scripts zip file.</span><span class="sxs-lookup"><span data-stu-id="bef97-115">Extract the files from the helper scripts zip file.</span></span>  <span data-ttu-id="bef97-116">Once extracted the following files and folder structure</span><span class="sxs-lookup"><span data-stu-id="bef97-116">Once extracted the following files and folder structure</span></span>
   - <span data-ttu-id="bef97-117">Create-AppServiceCerts.ps1</span><span class="sxs-lookup"><span data-stu-id="bef97-117">Create-AppServiceCerts.ps1</span></span>
   - <span data-ttu-id="bef97-118">Create-IdentityApp.ps1</span><span class="sxs-lookup"><span data-stu-id="bef97-118">Create-IdentityApp.ps1</span></span>
   - <span data-ttu-id="bef97-119">Modules</span><span class="sxs-lookup"><span data-stu-id="bef97-119">Modules</span></span>
      - <span data-ttu-id="bef97-120">GraphAPI.psm1</span><span class="sxs-lookup"><span data-stu-id="bef97-120">GraphAPI.psm1</span></span>
   
## <a name="create-certificates-required-by-app-service-on-azure-stack"></a><span data-ttu-id="bef97-121">Create certificates required by App Service on Azure Stack</span><span class="sxs-lookup"><span data-stu-id="bef97-121">Create certificates required by App Service on Azure Stack</span></span>

<span data-ttu-id="bef97-122">This first script works with the Azure Stack certificate authority to create three certificates that are needed by App Service.</span><span class="sxs-lookup"><span data-stu-id="bef97-122">This first script works with the Azure Stack certificate authority to create three certificates that are needed by App Service.</span></span> <span data-ttu-id="bef97-123">Run the script on the ClientVM ensuring you are running PowerShell as azurestack\administrator:</span><span class="sxs-lookup"><span data-stu-id="bef97-123">Run the script on the ClientVM ensuring you are running PowerShell as azurestack\administrator:</span></span>

1. <span data-ttu-id="bef97-124">In a PowerShell session running as **azurestack\administrator**, execute the **Create-AppServiceCerts.ps1** script from the folder that you extracted the helper scripts into.</span><span class="sxs-lookup"><span data-stu-id="bef97-124">In a PowerShell session running as **azurestack\administrator**, execute the **Create-AppServiceCerts.ps1** script from the folder that you extracted the helper scripts into.</span></span>  <span data-ttu-id="bef97-125">The script creates three certificates, in the same folder as the create certificates script, that are needed by App Service.</span><span class="sxs-lookup"><span data-stu-id="bef97-125">The script creates three certificates, in the same folder as the create certificates script, that are needed by App Service.</span></span>
2. <span data-ttu-id="bef97-126">Enter a password to secure the pfx files and make a note of it as you need to enter it in the App Service on Azure Stack Installer.</span><span class="sxs-lookup"><span data-stu-id="bef97-126">Enter a password to secure the pfx files and make a note of it as you need to enter it in the App Service on Azure Stack Installer.</span></span>

### <a name="create-appservicecertsps1-parameters"></a><span data-ttu-id="bef97-127">Create-AppServiceCerts.ps1 Parameters</span><span class="sxs-lookup"><span data-stu-id="bef97-127">Create-AppServiceCerts.ps1 Parameters</span></span>

| <span data-ttu-id="bef97-128">Parameter</span><span class="sxs-lookup"><span data-stu-id="bef97-128">Parameter</span></span> | <span data-ttu-id="bef97-129">Required/Optional</span><span class="sxs-lookup"><span data-stu-id="bef97-129">Required/Optional</span></span> | <span data-ttu-id="bef97-130">Default Value</span><span class="sxs-lookup"><span data-stu-id="bef97-130">Default Value</span></span> | <span data-ttu-id="bef97-131">Description</span><span class="sxs-lookup"><span data-stu-id="bef97-131">Description</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="bef97-132">pfxPassword</span><span class="sxs-lookup"><span data-stu-id="bef97-132">pfxPassword</span></span> | <span data-ttu-id="bef97-133">Required</span><span class="sxs-lookup"><span data-stu-id="bef97-133">Required</span></span> | <span data-ttu-id="bef97-134">null</span><span class="sxs-lookup"><span data-stu-id="bef97-134">null</span></span> | <span data-ttu-id="bef97-135">Password used to protect the certificate private key</span><span class="sxs-lookup"><span data-stu-id="bef97-135">Password used to protect the certificate private key</span></span> |
| <span data-ttu-id="bef97-136">DomainName</span><span class="sxs-lookup"><span data-stu-id="bef97-136">DomainName</span></span> | <span data-ttu-id="bef97-137">Required</span><span class="sxs-lookup"><span data-stu-id="bef97-137">Required</span></span> | <span data-ttu-id="bef97-138">local.azurestack.external</span><span class="sxs-lookup"><span data-stu-id="bef97-138">local.azurestack.external</span></span> | <span data-ttu-id="bef97-139">Azure Stack Region and Domain Suffix</span><span class="sxs-lookup"><span data-stu-id="bef97-139">Azure Stack Region and Domain Suffix</span></span> |
| <span data-ttu-id="bef97-140">CertificateAuthority</span><span class="sxs-lookup"><span data-stu-id="bef97-140">CertificateAuthority</span></span> | <span data-ttu-id="bef97-141">Required</span><span class="sxs-lookup"><span data-stu-id="bef97-141">Required</span></span> | <span data-ttu-id="bef97-142">MAS-CA01.azurestack.local</span><span class="sxs-lookup"><span data-stu-id="bef97-142">MAS-CA01.azurestack.local</span></span> | <span data-ttu-id="bef97-143">Certificate Authority Endpoint</span><span class="sxs-lookup"><span data-stu-id="bef97-143">Certificate Authority Endpoint</span></span> |

## <a name="use-the-installer-to-download-and-install-app-service-on-azure-stack"></a><span data-ttu-id="bef97-144">Use the installer to download and install App Service on Azure Stack</span><span class="sxs-lookup"><span data-stu-id="bef97-144">Use the installer to download and install App Service on Azure Stack</span></span>

<span data-ttu-id="bef97-145">The appservice.exe installer will:</span><span class="sxs-lookup"><span data-stu-id="bef97-145">The appservice.exe installer will:</span></span>

1. <span data-ttu-id="bef97-146">Prompt you to accept the Microsoft and third-party EULAs.</span><span class="sxs-lookup"><span data-stu-id="bef97-146">Prompt you to accept the Microsoft and third-party EULAs.</span></span>
2. <span data-ttu-id="bef97-147">Collect Azure Stack deployment information.</span><span class="sxs-lookup"><span data-stu-id="bef97-147">Collect Azure Stack deployment information.</span></span>
3. <span data-ttu-id="bef97-148">Create a blob container in the Azure Stack storage account specified.</span><span class="sxs-lookup"><span data-stu-id="bef97-148">Create a blob container in the Azure Stack storage account specified.</span></span>
4. <span data-ttu-id="bef97-149">Download the files needed to install the App Service resource provider.</span><span class="sxs-lookup"><span data-stu-id="bef97-149">Download the files needed to install the App Service resource provider.</span></span>
5. <span data-ttu-id="bef97-150">Prepare the install to deploy the App Service resource provider in the Azure Stack environment.</span><span class="sxs-lookup"><span data-stu-id="bef97-150">Prepare the install to deploy the App Service resource provider in the Azure Stack environment.</span></span>
6. <span data-ttu-id="bef97-151">Upload the files to the App Service storage account.</span><span class="sxs-lookup"><span data-stu-id="bef97-151">Upload the files to the App Service storage account.</span></span>
7. <span data-ttu-id="bef97-152">Deploy the App Service Resource Provider.</span><span class="sxs-lookup"><span data-stu-id="bef97-152">Deploy the App Service Resource Provider.</span></span>
8. <span data-ttu-id="bef97-153">Create DNS Zone and Entries for App Service.</span><span class="sxs-lookup"><span data-stu-id="bef97-153">Create DNS Zone and Entries for App Service.</span></span>
9. <span data-ttu-id="bef97-154">Register the App Service Resource Provider.</span><span class="sxs-lookup"><span data-stu-id="bef97-154">Register the App Service Resource Provider.</span></span>
10. <span data-ttu-id="bef97-155">Register the App Service Gallery Items.</span><span class="sxs-lookup"><span data-stu-id="bef97-155">Register the App Service Gallery Items.</span></span>

<span data-ttu-id="bef97-156">The following steps guide you through the installation stages:</span><span class="sxs-lookup"><span data-stu-id="bef97-156">The following steps guide you through the installation stages:</span></span>

> [!NOTE]
> <span data-ttu-id="bef97-157">You MUST use an elevated account (local or domain administrator) to execute the installer.</span><span class="sxs-lookup"><span data-stu-id="bef97-157">You MUST use an elevated account (local or domain administrator) to execute the installer.</span></span> <span data-ttu-id="bef97-158">If you sign in as azurestack\azurestackuser, you will be prompted for elevated credentials.</span><span class="sxs-lookup"><span data-stu-id="bef97-158">If you sign in as azurestack\azurestackuser, you will be prompted for elevated credentials.</span></span>

1. <span data-ttu-id="bef97-159">Run appservice.exe as **azurestack\administrator**.</span><span class="sxs-lookup"><span data-stu-id="bef97-159">Run appservice.exe as **azurestack\administrator**.</span></span>
2. <span data-ttu-id="bef97-160">Click **Deploy App Service on your Azure Stack cloud**.</span><span class="sxs-lookup"><span data-stu-id="bef97-160">Click **Deploy App Service on your Azure Stack cloud**.</span></span>
<span data-ttu-id="bef97-161">![App Service on Azure Stack Technical Preview 3 Installer][1]</span><span class="sxs-lookup"><span data-stu-id="bef97-161">![App Service on Azure Stack Technical Preview 3 Installer][1]</span></span>
3. <span data-ttu-id="bef97-162">Review and accept the Microsoft Software Pre-Release License Terms, and then click **Next**.</span><span class="sxs-lookup"><span data-stu-id="bef97-162">Review and accept the Microsoft Software Pre-Release License Terms, and then click **Next**.</span></span>
4. <span data-ttu-id="bef97-163">Review and accept the third-party license terms, and then click **Next**.</span><span class="sxs-lookup"><span data-stu-id="bef97-163">Review and accept the third-party license terms, and then click **Next**.</span></span>
5. <span data-ttu-id="bef97-164">Review the App Cloud Service configuration information and click **Next**.</span><span class="sxs-lookup"><span data-stu-id="bef97-164">Review the App Cloud Service configuration information and click **Next**.</span></span>
<span data-ttu-id="bef97-165">![App Service on Azure Stack Technical Preview 3 App Service Cloud Configuration][2]</span><span class="sxs-lookup"><span data-stu-id="bef97-165">![App Service on Azure Stack Technical Preview 3 App Service Cloud Configuration][2]</span></span>

    > [!NOTE]
    > <span data-ttu-id="bef97-166">The App Service on Azure Stack Installer provides the default values for a One Node Azure Stack Installation.</span><span class="sxs-lookup"><span data-stu-id="bef97-166">The App Service on Azure Stack Installer provides the default values for a One Node Azure Stack Installation.</span></span>  <span data-ttu-id="bef97-167">If you have customized any of the options when you deployed Azure Stack, for example domain suffix, you need to edit the values in this window accordingly.</span><span class="sxs-lookup"><span data-stu-id="bef97-167">If you have customized any of the options when you deployed Azure Stack, for example domain suffix, you need to edit the values in this window accordingly.</span></span>  <span data-ttu-id="bef97-168">For example, if you are using the domain suffix mycloud.com your Admin ARM endpoint would need to change to adminmanagement.[region].mycloud.com</span><span class="sxs-lookup"><span data-stu-id="bef97-168">For example, if you are using the domain suffix mycloud.com your Admin ARM endpoint would need to change to adminmanagement.[region].mycloud.com</span></span>

6. <span data-ttu-id="bef97-169">Click **Connect** (Next to the Azure Stack Subscriptions box).</span><span class="sxs-lookup"><span data-stu-id="bef97-169">Click **Connect** (Next to the Azure Stack Subscriptions box).</span></span>
   - <span data-ttu-id="bef97-170">If you are using AAD, then you must provide your **Azure Active Directory Service Admin account** and **password**, and then Click **Sign In**.</span><span class="sxs-lookup"><span data-stu-id="bef97-170">If you are using AAD, then you must provide your **Azure Active Directory Service Admin account** and **password**, and then Click **Sign In**.</span></span>  <span data-ttu-id="bef97-171">You **must** enter the Azure Active Directory account that you provided when you deployed Azure Stack.</span><span class="sxs-lookup"><span data-stu-id="bef97-171">You **must** enter the Azure Active Directory account that you provided when you deployed Azure Stack.</span></span>
   - <span data-ttu-id="bef97-172">If you are using ADFS, then you must provide your **Admin Account (for example azurestackadmin@azurestack.local)** and **password** and then Click **Sign In**.</span><span class="sxs-lookup"><span data-stu-id="bef97-172">If you are using ADFS, then you must provide your **Admin Account (for example azurestackadmin@azurestack.local)** and **password** and then Click **Sign In**.</span></span>
7. <span data-ttu-id="bef97-173">Click the **Down Arrow** on the right side of the box next to **Azure Stack Subscriptions** and then select your subscription.</span><span class="sxs-lookup"><span data-stu-id="bef97-173">Click the **Down Arrow** on the right side of the box next to **Azure Stack Subscriptions** and then select your subscription.</span></span>
8. <span data-ttu-id="bef97-174">Click the **Down Arrow** on the right side of the box next to **Azure Stack Locations**, select the location corresponding to the region you are deploying (for example, **Local**), and then click **Next**.</span><span class="sxs-lookup"><span data-stu-id="bef97-174">Click the **Down Arrow** on the right side of the box next to **Azure Stack Locations**, select the location corresponding to the region you are deploying (for example, **Local**), and then click **Next**.</span></span> 
    <span data-ttu-id="bef97-175">![App Service on Azure Stack Technical Preview 3 Subscription Selection][3]</span><span class="sxs-lookup"><span data-stu-id="bef97-175">![App Service on Azure Stack Technical Preview 3 Subscription Selection][3]</span></span>
9. <span data-ttu-id="bef97-176">Enter the **Resource Group Name** for your App Service deployment, by default thisv is set to **APPSERVICE-LOCAL**.</span><span class="sxs-lookup"><span data-stu-id="bef97-176">Enter the **Resource Group Name** for your App Service deployment, by default thisv is set to **APPSERVICE-LOCAL**.</span></span>
10. <span data-ttu-id="bef97-177">Enter the **Storage Account Name** you would like App Service to create as part of the installation.</span><span class="sxs-lookup"><span data-stu-id="bef97-177">Enter the **Storage Account Name** you would like App Service to create as part of the installation.</span></span>  <span data-ttu-id="bef97-178">By default this is set to **appsvclocalstor**.</span><span class="sxs-lookup"><span data-stu-id="bef97-178">By default this is set to **appsvclocalstor**.</span></span>
11. <span data-ttu-id="bef97-179">Review the **SQL Server details** and make changes if necessary.</span><span class="sxs-lookup"><span data-stu-id="bef97-179">Review the **SQL Server details** and make changes if necessary.</span></span>  <span data-ttu-id="bef97-180">By default the SQL Server name, is populated with the default SQL RP information, but you can change the location of the SQL Server for App Service to suit your needs.</span><span class="sxs-lookup"><span data-stu-id="bef97-180">By default the SQL Server name, is populated with the default SQL RP information, but you can change the location of the SQL Server for App Service to suit your needs.</span></span>  <span data-ttu-id="bef97-181">Click **Next** and the installer will validate the SQL connection properties and move to the next step.</span><span class="sxs-lookup"><span data-stu-id="bef97-181">Click **Next** and the installer will validate the SQL connection properties and move to the next step.</span></span>
<span data-ttu-id="bef97-182">![App Service on Azure Stack Technical Preview 3 Resource Group, Storage, and SQL Server information][4]</span><span class="sxs-lookup"><span data-stu-id="bef97-182">![App Service on Azure Stack Technical Preview 3 Resource Group, Storage, and SQL Server information][4]</span></span>
12. <span data-ttu-id="bef97-183">Click **Browse** next to the **App Service Default SSL Certificate File** and navigate to the **_.appservice.local.AzureStack.external** certificate [created earlier](#Create-Certificates-To-Be-Used-By-Azure-Stack-Web-Apps).</span><span class="sxs-lookup"><span data-stu-id="bef97-183">Click **Browse** next to the **App Service Default SSL Certificate File** and navigate to the **_.appservice.local.AzureStack.external** certificate [created earlier](#Create-Certificates-To-Be-Used-By-Azure-Stack-Web-Apps).</span></span>  <span data-ttu-id="bef97-184">If you specified a different location and domain suffix when creating certificates then select the corresponding certificate.</span><span class="sxs-lookup"><span data-stu-id="bef97-184">If you specified a different location and domain suffix when creating certificates then select the corresponding certificate.</span></span>
13. <span data-ttu-id="bef97-185">Enter the **certificate password** that you set when you created the certificates.</span><span class="sxs-lookup"><span data-stu-id="bef97-185">Enter the **certificate password** that you set when you created the certificates.</span></span>
14. <span data-ttu-id="bef97-186">Click **Browse** next to the **Resource Provider SSL Certificate File** and navigate to the **api.appservice.local.AzureStack.external** certificate [created earlier](#Create-Certificates-To-Be-Used-By-Azure-Stack-Web-Apps).</span><span class="sxs-lookup"><span data-stu-id="bef97-186">Click **Browse** next to the **Resource Provider SSL Certificate File** and navigate to the **api.appservice.local.AzureStack.external** certificate [created earlier](#Create-Certificates-To-Be-Used-By-Azure-Stack-Web-Apps).</span></span>  <span data-ttu-id="bef97-187">If you specified a different location and domain suffix when creating certificates then select the corresponding certificate.</span><span class="sxs-lookup"><span data-stu-id="bef97-187">If you specified a different location and domain suffix when creating certificates then select the corresponding certificate.</span></span>
15. <span data-ttu-id="bef97-188">Enter the **certificate password** that you set when you created the certificates.</span><span class="sxs-lookup"><span data-stu-id="bef97-188">Enter the **certificate password** that you set when you created the certificates.</span></span>
16. <span data-ttu-id="bef97-189">Click **Browse** next to the **Resource Provider Root Certificate File** and navigate to the **AzureStackCertificationAuthority** certificate [created earlier](#Create-Certificates-To-Be-Used-By-Azure-Stack-Web-Apps).</span><span class="sxs-lookup"><span data-stu-id="bef97-189">Click **Browse** next to the **Resource Provider Root Certificate File** and navigate to the **AzureStackCertificationAuthority** certificate [created earlier](#Create-Certificates-To-Be-Used-By-Azure-Stack-Web-Apps).</span></span>
17. <span data-ttu-id="bef97-190">Click **Next** the installer verifies the certificate password provided.</span><span class="sxs-lookup"><span data-stu-id="bef97-190">Click **Next** the installer verifies the certificate password provided.</span></span>
<span data-ttu-id="bef97-191">![App Service on Azure Stack Technical Preview 3 Certificate Details][5]</span><span class="sxs-lookup"><span data-stu-id="bef97-191">![App Service on Azure Stack Technical Preview 3 Certificate Details][5]</span></span>
18. <span data-ttu-id="bef97-192">Review the **App Service Role Configuration**.</span><span class="sxs-lookup"><span data-stu-id="bef97-192">Review the **App Service Role Configuration**.</span></span>  <span data-ttu-id="bef97-193">The defaults are populated with the minimum recommended instance SKUs for each role.</span><span class="sxs-lookup"><span data-stu-id="bef97-193">The defaults are populated with the minimum recommended instance SKUs for each role.</span></span>  <span data-ttu-id="bef97-194">A summary of core and memory requirements is provided to help plan your deployment.</span><span class="sxs-lookup"><span data-stu-id="bef97-194">A summary of core and memory requirements is provided to help plan your deployment.</span></span>  <span data-ttu-id="bef97-195">Once you have made your selections, click **Next** to advance.</span><span class="sxs-lookup"><span data-stu-id="bef97-195">Once you have made your selections, click **Next** to advance.</span></span>
  - <span data-ttu-id="bef97-196">**Controller**: By default 1 Standard A1 instance is selected.</span><span class="sxs-lookup"><span data-stu-id="bef97-196">**Controller**: By default 1 Standard A1 instance is selected.</span></span>  <span data-ttu-id="bef97-197">This is the minimum we recommend.</span><span class="sxs-lookup"><span data-stu-id="bef97-197">This is the minimum we recommend.</span></span>  <span data-ttu-id="bef97-198">The Controller role is responsible for managing and maintaining the health of the App Service cloud.</span><span class="sxs-lookup"><span data-stu-id="bef97-198">The Controller role is responsible for managing and maintaining the health of the App Service cloud.</span></span>
  - <span data-ttu-id="bef97-199">**Management**: By default 1 Standard A2 instance is selected.</span><span class="sxs-lookup"><span data-stu-id="bef97-199">**Management**: By default 1 Standard A2 instance is selected.</span></span>  <span data-ttu-id="bef97-200">To provide failover we recommend two instances.</span><span class="sxs-lookup"><span data-stu-id="bef97-200">To provide failover we recommend two instances.</span></span>  <span data-ttu-id="bef97-201">The Management role is responsible for the App Service ARM and API endpoints, Portal Extensions (Admin, Tenant, Functions Portal), and the Data Service.</span><span class="sxs-lookup"><span data-stu-id="bef97-201">The Management role is responsible for the App Service ARM and API endpoints, Portal Extensions (Admin, Tenant, Functions Portal), and the Data Service.</span></span>
  - <span data-ttu-id="bef97-202">**Publisher**: By default 1 Standard A1 instance is selected.</span><span class="sxs-lookup"><span data-stu-id="bef97-202">**Publisher**: By default 1 Standard A1 instance is selected.</span></span>  <span data-ttu-id="bef97-203">This is the minimum we recommend.</span><span class="sxs-lookup"><span data-stu-id="bef97-203">This is the minimum we recommend.</span></span>  <span data-ttu-id="bef97-204">The Publisher role is responsible for publishing content via FTP and Web Deploy.</span><span class="sxs-lookup"><span data-stu-id="bef97-204">The Publisher role is responsible for publishing content via FTP and Web Deploy.</span></span>
  - <span data-ttu-id="bef97-205">**FrontEnd**: By default 1 Standard A1 instance is selected.</span><span class="sxs-lookup"><span data-stu-id="bef97-205">**FrontEnd**: By default 1 Standard A1 instance is selected.</span></span>  <span data-ttu-id="bef97-206">This is the minimum we recommend.</span><span class="sxs-lookup"><span data-stu-id="bef97-206">This is the minimum we recommend.</span></span>  <span data-ttu-id="bef97-207">The Frontend role is responsible for routing requests to App Service Applications.</span><span class="sxs-lookup"><span data-stu-id="bef97-207">The Frontend role is responsible for routing requests to App Service Applications.</span></span>
  - <span data-ttu-id="bef97-208">**Shared Worker**: By default 1 Standard A1 instance is selected but you may wish to add more.</span><span class="sxs-lookup"><span data-stu-id="bef97-208">**Shared Worker**: By default 1 Standard A1 instance is selected but you may wish to add more.</span></span>  <span data-ttu-id="bef97-209">You as an administrator can define your offering and as such can choose any tier of SKU but they must have a minimum of one core.</span><span class="sxs-lookup"><span data-stu-id="bef97-209">You as an administrator can define your offering and as such can choose any tier of SKU but they must have a minimum of one core.</span></span>  <span data-ttu-id="bef97-210">The Shared Worker is responsible for hosting Web/Mobile/API applications and Azure Function Apps.</span><span class="sxs-lookup"><span data-stu-id="bef97-210">The Shared Worker is responsible for hosting Web/Mobile/API applications and Azure Function Apps.</span></span>
<span data-ttu-id="bef97-211">![App Service on Azure Stack Technical Preview 3 Role Configuration][6]</span><span class="sxs-lookup"><span data-stu-id="bef97-211">![App Service on Azure Stack Technical Preview 3 Role Configuration][6]</span></span>

    > [!NOTE]
    > <span data-ttu-id="bef97-212">In the technical previews the App Service RP installer also deploys a Standard A1 instance to operate as a simple File Server to support the farm.</span><span class="sxs-lookup"><span data-stu-id="bef97-212">In the technical previews the App Service RP installer also deploys a Standard A1 instance to operate as a simple File Server to support the farm.</span></span>  <span data-ttu-id="bef97-213">This will remain for single node PoC but for Production workloads at GA the App Service installer will enable the use of a HA File Server.</span><span class="sxs-lookup"><span data-stu-id="bef97-213">This will remain for single node PoC but for Production workloads at GA the App Service installer will enable the use of a HA File Server.</span></span>

19. <span data-ttu-id="bef97-214">Choose your chosen deployment **Windows Server 2016** VM Image, from those available in the Compute Resource Provider, for the App Service Cloud and click **Next**.</span><span class="sxs-lookup"><span data-stu-id="bef97-214">Choose your chosen deployment **Windows Server 2016** VM Image, from those available in the Compute Resource Provider, for the App Service Cloud and click **Next**.</span></span>
   <span data-ttu-id="bef97-215">![App Service on Azure Stack Technical Preview 3 VM Image Selection][7]</span><span class="sxs-lookup"><span data-stu-id="bef97-215">![App Service on Azure Stack Technical Preview 3 VM Image Selection][7]</span></span>
20. <span data-ttu-id="bef97-216">Provide the **Username and Password** you would like to configure for the **Worker Roles** within the App Service Cloud, and then provide the **Username and Password** you would like to configure for all other **App Service** roles and click **Next**.</span><span class="sxs-lookup"><span data-stu-id="bef97-216">Provide the **Username and Password** you would like to configure for the **Worker Roles** within the App Service Cloud, and then provide the **Username and Password** you would like to configure for all other **App Service** roles and click **Next**.</span></span>
   <span data-ttu-id="bef97-217">![App Service on Azure Stack Technical Preview 3 Credential Entry][8]</span><span class="sxs-lookup"><span data-stu-id="bef97-217">![App Service on Azure Stack Technical Preview 3 Credential Entry][8]</span></span>
21. <span data-ttu-id="bef97-218">The summary listing displays the result of all of the selections you have made for verification.</span><span class="sxs-lookup"><span data-stu-id="bef97-218">The summary listing displays the result of all of the selections you have made for verification.</span></span>   <span data-ttu-id="bef97-219">If you wish to make any changes navigate back through the screens and amend the selections.</span><span class="sxs-lookup"><span data-stu-id="bef97-219">If you wish to make any changes navigate back through the screens and amend the selections.</span></span>  <span data-ttu-id="bef97-220">If the configuration is as desired **check the checkbox** and click **Next**.</span><span class="sxs-lookup"><span data-stu-id="bef97-220">If the configuration is as desired **check the checkbox** and click **Next**.</span></span> 
   <span data-ttu-id="bef97-221">![App Service on Azure Stack Technical Preview 3 Selection Summary][9]</span><span class="sxs-lookup"><span data-stu-id="bef97-221">![App Service on Azure Stack Technical Preview 3 Selection Summary][9]</span></span>
22. <span data-ttu-id="bef97-222">The installer begins the deployment of App Service on Azure Stack.</span><span class="sxs-lookup"><span data-stu-id="bef97-222">The installer begins the deployment of App Service on Azure Stack.</span></span>
23. <span data-ttu-id="bef97-223">The final step of deploying App Service on Azure Stack will take about 45-60 minutes to complete based on the default selections.</span><span class="sxs-lookup"><span data-stu-id="bef97-223">The final step of deploying App Service on Azure Stack will take about 45-60 minutes to complete based on the default selections.</span></span>
   <span data-ttu-id="bef97-224">![App Service on Azure Stack Technical Preview 3 Installation Progress][10]</span><span class="sxs-lookup"><span data-stu-id="bef97-224">![App Service on Azure Stack Technical Preview 3 Installation Progress][10]</span></span>
24. <span data-ttu-id="bef97-225">After the installer successfully completes, click **Exit**.</span><span class="sxs-lookup"><span data-stu-id="bef97-225">After the installer successfully completes, click **Exit**.</span></span>

## <a name="validate-app-service-on-azure-stack-installation"></a><span data-ttu-id="bef97-226">Validate App Service on Azure Stack Installation</span><span class="sxs-lookup"><span data-stu-id="bef97-226">Validate App Service on Azure Stack Installation</span></span>

1. <span data-ttu-id="bef97-227">In the Azure Stack Admin portal, browse to the Resource Group created by the installer, by default this is **APPSERVICE-LOCAL**.</span><span class="sxs-lookup"><span data-stu-id="bef97-227">In the Azure Stack Admin portal, browse to the Resource Group created by the installer, by default this is **APPSERVICE-LOCAL**.</span></span>
2. <span data-ttu-id="bef97-228">Locate the **CN0-VM** and **connect** to the VM by clicking connect in the Virtual Machine blade.</span><span class="sxs-lookup"><span data-stu-id="bef97-228">Locate the **CN0-VM** and **connect** to the VM by clicking connect in the Virtual Machine blade.</span></span>
3. <span data-ttu-id="bef97-229">On the desktop of this VM, double-click the **Web Cloud Management Console**.</span><span class="sxs-lookup"><span data-stu-id="bef97-229">On the desktop of this VM, double-click the **Web Cloud Management Console**.</span></span>
4. <span data-ttu-id="bef97-230">Navigate to **Managed Servers**.</span><span class="sxs-lookup"><span data-stu-id="bef97-230">Navigate to **Managed Servers**.</span></span>
5. <span data-ttu-id="bef97-231">When all the machines except one or more Workers are **Ready**, proceed to the next step.</span><span class="sxs-lookup"><span data-stu-id="bef97-231">When all the machines except one or more Workers are **Ready**, proceed to the next step.</span></span>
6. <span data-ttu-id="bef97-232">Close the remote desktop machine and return to the machine you executed the App Service installer from.</span><span class="sxs-lookup"><span data-stu-id="bef97-232">Close the remote desktop machine and return to the machine you executed the App Service installer from.</span></span>
> [!NOTE]
> <span data-ttu-id="bef97-233">You do not need to wait for one or more Workers to be marked as Ready to complete the installation of App Service on Azure Stack, however you need a minimum of one worker ready to deploy a Web/Mobile/API App or Azure Function.</span><span class="sxs-lookup"><span data-stu-id="bef97-233">You do not need to wait for one or more Workers to be marked as Ready to complete the installation of App Service on Azure Stack, however you need a minimum of one worker ready to deploy a Web/Mobile/API App or Azure Function.</span></span>
<span data-ttu-id="bef97-234">![App Service on Azure Stack Technical Preview 3 Managed Servers Status][11]</span><span class="sxs-lookup"><span data-stu-id="bef97-234">![App Service on Azure Stack Technical Preview 3 Managed Servers Status][11]</span></span>

## <a name="configure-single-sign-on-sso-for-the-azure-functions-portal-and-advanced-developer-tools"></a><span data-ttu-id="bef97-235">Configure Single-Sign-On (SSO) for the Azure Functions Portal and Advanced Developer Tools</span><span class="sxs-lookup"><span data-stu-id="bef97-235">Configure Single-Sign-On (SSO) for the Azure Functions Portal and Advanced Developer Tools</span></span>

>[!NOTE]
> <span data-ttu-id="bef97-236">These steps are only applicable to AAD secured Azure Stack Environments.</span><span class="sxs-lookup"><span data-stu-id="bef97-236">These steps are only applicable to AAD secured Azure Stack Environments.</span></span>  <span data-ttu-id="bef97-237">It is not possible to enable SSO or the Azure Functions Portal in ADFS-based environments at present.</span><span class="sxs-lookup"><span data-stu-id="bef97-237">It is not possible to enable SSO or the Azure Functions Portal in ADFS-based environments at present.</span></span>

<span data-ttu-id="bef97-238">To enable the advanced developer tools within App Service - Kudu - and to enable the use of the Azure Functions Portal experience, administrators need to configure SSO.</span><span class="sxs-lookup"><span data-stu-id="bef97-238">To enable the advanced developer tools within App Service - Kudu - and to enable the use of the Azure Functions Portal experience, administrators need to configure SSO.</span></span>

1. <span data-ttu-id="bef97-239">Open a PowerShell instance as **azurestack\administrator**.</span><span class="sxs-lookup"><span data-stu-id="bef97-239">Open a PowerShell instance as **azurestack\administrator**.</span></span>
2. <span data-ttu-id="bef97-240">Navigate to the location of the scripts downloaded and extracted in the [prerequisite step](#Download-Required-Components).</span><span class="sxs-lookup"><span data-stu-id="bef97-240">Navigate to the location of the scripts downloaded and extracted in the [prerequisite step](#Download-Required-Components).</span></span>
3. <span data-ttu-id="bef97-241">Run the **CreateIdentityApp.ps1** script.</span><span class="sxs-lookup"><span data-stu-id="bef97-241">Run the **CreateIdentityApp.ps1** script.</span></span>  <span data-ttu-id="bef97-242">When prompted for your AAD Tenant ID - enter the AAD Tenant ID you are using for your Azure Stack deployment, for example **myazurestack.onmicrosoft.com**.</span><span class="sxs-lookup"><span data-stu-id="bef97-242">When prompted for your AAD Tenant ID - enter the AAD Tenant ID you are using for your Azure Stack deployment, for example **myazurestack.onmicrosoft.com**.</span></span>
4. <span data-ttu-id="bef97-243">In the Credential window provide your **Azure Active Directory Service Admin account** and **password**, and then Click **Ok**.</span><span class="sxs-lookup"><span data-stu-id="bef97-243">In the Credential window provide your **Azure Active Directory Service Admin account** and **password**, and then Click **Ok**.</span></span>
5. <span data-ttu-id="bef97-244">Provide the **certificate file path** and **certificate password** for the [certificate created earlier](# Create certificates to be used by App Service on Azure Stack).</span><span class="sxs-lookup"><span data-stu-id="bef97-244">Provide the **certificate file path** and **certificate password** for the [certificate created earlier](# Create certificates to be used by App Service on Azure Stack).</span></span>  <span data-ttu-id="bef97-245">The certificate created for this step by default is **sso.appservice.local.azurestack.external.pfx**</span><span class="sxs-lookup"><span data-stu-id="bef97-245">The certificate created for this step by default is **sso.appservice.local.azurestack.external.pfx**</span></span>
6. <span data-ttu-id="bef97-246">The script creates a new application in the Tenant Azure Active Directory and generate a new PowerShell Script.</span><span class="sxs-lookup"><span data-stu-id="bef97-246">The script creates a new application in the Tenant Azure Active Directory and generate a new PowerShell Script.</span></span>
7. <span data-ttu-id="bef97-247">Copy the identity app certificate file and the generated script to the **CN0-VM** (use a remote desktop session).</span><span class="sxs-lookup"><span data-stu-id="bef97-247">Copy the identity app certificate file and the generated script to the **CN0-VM** (use a remote desktop session).</span></span>
8. <span data-ttu-id="bef97-248">On the CN0-VM machine, open an **Administrator PowerShell window** and browse to the directory where the script file and certificate were copied to.</span><span class="sxs-lookup"><span data-stu-id="bef97-248">On the CN0-VM machine, open an **Administrator PowerShell window** and browse to the directory where the script file and certificate were copied to.</span></span>
9. <span data-ttu-id="bef97-249">Now run the script file.</span><span class="sxs-lookup"><span data-stu-id="bef97-249">Now run the script file.</span></span>  <span data-ttu-id="bef97-250">This script file enters the properties in the App Service on Azure Stack configuration and initiates a repair operation on all Front-End and Management roles.</span><span class="sxs-lookup"><span data-stu-id="bef97-250">This script file enters the properties in the App Service on Azure Stack configuration and initiates a repair operation on all Front-End and Management roles.</span></span>
10. <span data-ttu-id="bef97-251">Open a new browser window and login to the **Azure portal (portal.azure.com)** as the **Azure Active Directory Service Admin**.</span><span class="sxs-lookup"><span data-stu-id="bef97-251">Open a new browser window and login to the **Azure portal (portal.azure.com)** as the **Azure Active Directory Service Admin**.</span></span>
11. <span data-ttu-id="bef97-252">Open the **Azure Active Directory resource provider**.</span><span class="sxs-lookup"><span data-stu-id="bef97-252">Open the **Azure Active Directory resource provider**.</span></span>
12. <span data-ttu-id="bef97-253">Click **App Registrations**.</span><span class="sxs-lookup"><span data-stu-id="bef97-253">Click **App Registrations**.</span></span>
13. <span data-ttu-id="bef97-254">Search for the **Application ID** returned as part of step 6.</span><span class="sxs-lookup"><span data-stu-id="bef97-254">Search for the **Application ID** returned as part of step 6.</span></span> <span data-ttu-id="bef97-255">An App Service application is listed.</span><span class="sxs-lookup"><span data-stu-id="bef97-255">An App Service application is listed.</span></span>
14. <span data-ttu-id="bef97-256">Click the **Application** in the list and open the **Keys** blade</span><span class="sxs-lookup"><span data-stu-id="bef97-256">Click the **Application** in the list and open the **Keys** blade</span></span>
15. <span data-ttu-id="bef97-257">Add a new key with **Description - FunctionsPortal** and set the **Expiration Date to NeverExpires**</span><span class="sxs-lookup"><span data-stu-id="bef97-257">Add a new key with **Description - FunctionsPortal** and set the **Expiration Date to NeverExpires**</span></span>
16. <span data-ttu-id="bef97-258">Click Save and then copy the key generated.</span><span class="sxs-lookup"><span data-stu-id="bef97-258">Click Save and then copy the key generated.</span></span>
>[!NOTE]
> <span data-ttu-id="bef97-259">Before sure to note or copy the key when generated.</span><span class="sxs-lookup"><span data-stu-id="bef97-259">Before sure to note or copy the key when generated.</span></span>  <span data-ttu-id="bef97-260">Once saved it can't be viewed again and you need to regenerate a new key.</span><span class="sxs-lookup"><span data-stu-id="bef97-260">Once saved it can't be viewed again and you need to regenerate a new key.</span></span>
<span data-ttu-id="bef97-261">![App Service on Azure Stack Technical Preview 3 Application Keys][12]</span><span class="sxs-lookup"><span data-stu-id="bef97-261">![App Service on Azure Stack Technical Preview 3 Application Keys][12]</span></span>
17. <span data-ttu-id="bef97-262">Return to **CN0-VM** and open the **Web Cloud Management Console** once more.</span><span class="sxs-lookup"><span data-stu-id="bef97-262">Return to **CN0-VM** and open the **Web Cloud Management Console** once more.</span></span>
18. <span data-ttu-id="bef97-263">Select the **Settings** node on the left-hand pane and look for the **ApplicationClientSecret** Setting.</span><span class="sxs-lookup"><span data-stu-id="bef97-263">Select the **Settings** node on the left-hand pane and look for the **ApplicationClientSecret** Setting.</span></span>
19. <span data-ttu-id="bef97-264">**Right click and select Edit**.</span><span class="sxs-lookup"><span data-stu-id="bef97-264">**Right click and select Edit**.</span></span>  <span data-ttu-id="bef97-265">**Paste the key** generated in step 15 and click **OK**.</span><span class="sxs-lookup"><span data-stu-id="bef97-265">**Paste the key** generated in step 15 and click **OK**.</span></span>
20. <span data-ttu-id="bef97-266">Select the **Managed Servers** node under **Web Cloud**.</span><span class="sxs-lookup"><span data-stu-id="bef97-266">Select the **Managed Servers** node under **Web Cloud**.</span></span>
21. <span data-ttu-id="bef97-267">In the **Actions** pane, on the right-hand side, click **Repair all servers in role..**</span><span class="sxs-lookup"><span data-stu-id="bef97-267">In the **Actions** pane, on the right-hand side, click **Repair all servers in role..**</span></span>
22. <span data-ttu-id="bef97-268">In the dropdownlist, select **Management** and click **OK**.</span><span class="sxs-lookup"><span data-stu-id="bef97-268">In the dropdownlist, select **Management** and click **OK**.</span></span>  <span data-ttu-id="bef97-269">This applies the setting to all Management Roles.</span><span class="sxs-lookup"><span data-stu-id="bef97-269">This applies the setting to all Management Roles.</span></span>
23. <span data-ttu-id="bef97-270">Return to the **Application Registration** in the **Azure Active Directory** within the **Azure portal (portal.azure.com)**.</span><span class="sxs-lookup"><span data-stu-id="bef97-270">Return to the **Application Registration** in the **Azure Active Directory** within the **Azure portal (portal.azure.com)**.</span></span>
24. <span data-ttu-id="bef97-271">Click **Required Permissions** and then click **Grant Permissions** and click **Yes**.</span><span class="sxs-lookup"><span data-stu-id="bef97-271">Click **Required Permissions** and then click **Grant Permissions** and click **Yes**.</span></span>
<span data-ttu-id="bef97-272">![App Service on Azure Stack Technical Preview 3 SSO Grant][13]</span><span class="sxs-lookup"><span data-stu-id="bef97-272">![App Service on Azure Stack Technical Preview 3 SSO Grant][13]</span></span>


| <span data-ttu-id="bef97-273">Parameter</span><span class="sxs-lookup"><span data-stu-id="bef97-273">Parameter</span></span> | <span data-ttu-id="bef97-274">Required/Optional</span><span class="sxs-lookup"><span data-stu-id="bef97-274">Required/Optional</span></span> | <span data-ttu-id="bef97-275">Default Value</span><span class="sxs-lookup"><span data-stu-id="bef97-275">Default Value</span></span> | <span data-ttu-id="bef97-276">Description</span><span class="sxs-lookup"><span data-stu-id="bef97-276">Description</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="bef97-277">AadTenantId</span><span class="sxs-lookup"><span data-stu-id="bef97-277">AadTenantId</span></span> | <span data-ttu-id="bef97-278">Mandatory</span><span class="sxs-lookup"><span data-stu-id="bef97-278">Mandatory</span></span> | <span data-ttu-id="bef97-279">null</span><span class="sxs-lookup"><span data-stu-id="bef97-279">null</span></span> | <span data-ttu-id="bef97-280">Azure Active Directory Tenant Id, provide the GUID or string, for example, myazureaaddirectory.onmicrosoft.com</span><span class="sxs-lookup"><span data-stu-id="bef97-280">Azure Active Directory Tenant Id, provide the GUID or string, for example, myazureaaddirectory.onmicrosoft.com</span></span> |
| <span data-ttu-id="bef97-281">TenantArmEndpoint</span><span class="sxs-lookup"><span data-stu-id="bef97-281">TenantArmEndpoint</span></span> | <span data-ttu-id="bef97-282">Mandatory</span><span class="sxs-lookup"><span data-stu-id="bef97-282">Mandatory</span></span> | <span data-ttu-id="bef97-283">management.local.azurestack.external</span><span class="sxs-lookup"><span data-stu-id="bef97-283">management.local.azurestack.external</span></span> | <span data-ttu-id="bef97-284">The Tenant ARM Endpoint</span><span class="sxs-lookup"><span data-stu-id="bef97-284">The Tenant ARM Endpoint</span></span> |
| <span data-ttu-id="bef97-285">AzureStackCredential</span><span class="sxs-lookup"><span data-stu-id="bef97-285">AzureStackCredential</span></span> | <span data-ttu-id="bef97-286">Mandatory</span><span class="sxs-lookup"><span data-stu-id="bef97-286">Mandatory</span></span> | <span data-ttu-id="bef97-287">api.appservice.local.azurestack.external</span><span class="sxs-lookup"><span data-stu-id="bef97-287">api.appservice.local.azurestack.external</span></span> | <span data-ttu-id="bef97-288">AAD Administrator</span><span class="sxs-lookup"><span data-stu-id="bef97-288">AAD Administrator</span></span> |
| <span data-ttu-id="bef97-289">CertificateFilePath</span><span class="sxs-lookup"><span data-stu-id="bef97-289">CertificateFilePath</span></span> | <span data-ttu-id="bef97-290">Mandatory</span><span class="sxs-lookup"><span data-stu-id="bef97-290">Mandatory</span></span> | <span data-ttu-id="bef97-291">null</span><span class="sxs-lookup"><span data-stu-id="bef97-291">null</span></span> | <span data-ttu-id="bef97-292">Path to the identity application certificate file generated earlier</span><span class="sxs-lookup"><span data-stu-id="bef97-292">Path to the identity application certificate file generated earlier</span></span> |
| <span data-ttu-id="bef97-293">CertificatePassword</span><span class="sxs-lookup"><span data-stu-id="bef97-293">CertificatePassword</span></span> | <span data-ttu-id="bef97-294">Mandatory</span><span class="sxs-lookup"><span data-stu-id="bef97-294">Mandatory</span></span> | <span data-ttu-id="bef97-295">null</span><span class="sxs-lookup"><span data-stu-id="bef97-295">null</span></span> | <span data-ttu-id="bef97-296">Password used to protect the certificate private key</span><span class="sxs-lookup"><span data-stu-id="bef97-296">Password used to protect the certificate private key</span></span> |
| <span data-ttu-id="bef97-297">$DomainName</span><span class="sxs-lookup"><span data-stu-id="bef97-297">$DomainName</span></span> | <span data-ttu-id="bef97-298">Required</span><span class="sxs-lookup"><span data-stu-id="bef97-298">Required</span></span> | <span data-ttu-id="bef97-299">local.azurestack.external</span><span class="sxs-lookup"><span data-stu-id="bef97-299">local.azurestack.external</span></span> | <span data-ttu-id="bef97-300">Azure Stack Region and Domain Suffix</span><span class="sxs-lookup"><span data-stu-id="bef97-300">Azure Stack Region and Domain Suffix</span></span> |

## <a name="test-drive-app-service-on-azure-stack"></a><span data-ttu-id="bef97-301">Test Drive App Service on Azure Stack</span><span class="sxs-lookup"><span data-stu-id="bef97-301">Test Drive App Service on Azure Stack</span></span>

<span data-ttu-id="bef97-302">Now that you have deployed and registered the App Service resource provider, you can test it to make sure that tenants can deploy Web, Mobile, and API apps.</span><span class="sxs-lookup"><span data-stu-id="bef97-302">Now that you have deployed and registered the App Service resource provider, you can test it to make sure that tenants can deploy Web, Mobile, and API apps.</span></span>

> [!NOTE]
> <span data-ttu-id="bef97-303">You need to create an offer that has the Microsoft.Web namespace within the plan and then you need to have a tenant subscription that has subscribed to this offer.</span><span class="sxs-lookup"><span data-stu-id="bef97-303">You need to create an offer that has the Microsoft.Web namespace within the plan and then you need to have a tenant subscription that has subscribed to this offer.</span></span>  <span data-ttu-id="bef97-304">For more information, see the following articles - [Create Offer](azure-stack-create-offer.md) and [Create Plan](azure-stack-create-plan.md)</span><span class="sxs-lookup"><span data-stu-id="bef97-304">For more information, see the following articles - [Create Offer](azure-stack-create-offer.md) and [Create Plan](azure-stack-create-plan.md)</span></span>
>
><span data-ttu-id="bef97-305">You **must** have a **Tenant Subscription** to create applications using App Service on Azure Stack.</span><span class="sxs-lookup"><span data-stu-id="bef97-305">You **must** have a **Tenant Subscription** to create applications using App Service on Azure Stack.</span></span>  <span data-ttu-id="bef97-306">The only capabilities that a Service Admin can complete within the Admin Portal are related to the resource provider administration of App Service such as adding capacity, configuring deployment sources, adding worker tiers and SKUs.</span><span class="sxs-lookup"><span data-stu-id="bef97-306">The only capabilities that a Service Admin can complete within the Admin Portal are related to the resource provider administration of App Service such as adding capacity, configuring deployment sources, adding worker tiers and SKUs.</span></span>
>
> <span data-ttu-id="bef97-307">As of TP3 to **create Web/Mobile/API/Function Apps** you must use the **Tenant portal** and have a **tenant subscription**.</span><span class="sxs-lookup"><span data-stu-id="bef97-307">As of TP3 to **create Web/Mobile/API/Function Apps** you must use the **Tenant portal** and have a **tenant subscription**.</span></span>  

1. <span data-ttu-id="bef97-308">In the Azure Stack Tenant portal, click New, click Web + Mobile, and click Web App.</span><span class="sxs-lookup"><span data-stu-id="bef97-308">In the Azure Stack Tenant portal, click New, click Web + Mobile, and click Web App.</span></span>
2. <span data-ttu-id="bef97-309">In the Web App blade, type a name in the Web app box.</span><span class="sxs-lookup"><span data-stu-id="bef97-309">In the Web App blade, type a name in the Web app box.</span></span>
3. <span data-ttu-id="bef97-310">Under Resource Group, click New, and then type a name in the Resource Group box.</span><span class="sxs-lookup"><span data-stu-id="bef97-310">Under Resource Group, click New, and then type a name in the Resource Group box.</span></span>
4. <span data-ttu-id="bef97-311">Click App Service plan/Location and click Create New.</span><span class="sxs-lookup"><span data-stu-id="bef97-311">Click App Service plan/Location and click Create New.</span></span>
5. <span data-ttu-id="bef97-312">In the App Service plan blade, type a name in the App Service plan box.</span><span class="sxs-lookup"><span data-stu-id="bef97-312">In the App Service plan blade, type a name in the App Service plan box.</span></span>
6. <span data-ttu-id="bef97-313">Click Pricing tier, click Free-Shared or Shared-Shared, click Select, click OK, and then click Create.</span><span class="sxs-lookup"><span data-stu-id="bef97-313">Click Pricing tier, click Free-Shared or Shared-Shared, click Select, click OK, and then click Create.</span></span>
7. <span data-ttu-id="bef97-314">In under a minute, a tile for the new web app appears on the Dashboard.</span><span class="sxs-lookup"><span data-stu-id="bef97-314">In under a minute, a tile for the new web app appears on the Dashboard.</span></span> <span data-ttu-id="bef97-315">Click the tile.</span><span class="sxs-lookup"><span data-stu-id="bef97-315">Click the tile.</span></span>
8. <span data-ttu-id="bef97-316">In the web app blade, click Browse to view the default website for this app.</span><span class="sxs-lookup"><span data-stu-id="bef97-316">In the web app blade, click Browse to view the default website for this app.</span></span>

## <a name="deploy-a-wordpress-dnn-or-django-website-optional"></a><span data-ttu-id="bef97-317">Deploy a WordPress, DNN, or Django website (optional)\*\*</span><span class="sxs-lookup"><span data-stu-id="bef97-317">Deploy a WordPress, DNN, or Django website (optional)\*\*</span></span>

1. <span data-ttu-id="bef97-318">In the **Azure Stack tenant portal**, click “+”, go to the Azure Marketplace, deploy a Django website, and wait for successful completion.</span><span class="sxs-lookup"><span data-stu-id="bef97-318">In the **Azure Stack tenant portal**, click “+”, go to the Azure Marketplace, deploy a Django website, and wait for successful completion.</span></span> <span data-ttu-id="bef97-319">The Django web platform uses a file system-based database and doesn’t require any additional resource providers like SQL or MySQL.</span><span class="sxs-lookup"><span data-stu-id="bef97-319">The Django web platform uses a file system-based database and doesn’t require any additional resource providers like SQL or MySQL.</span></span>
2. <span data-ttu-id="bef97-320">If you also deployed a MySQL resource provider, you can deploy a WordPress website from the Marketplace.</span><span class="sxs-lookup"><span data-stu-id="bef97-320">If you also deployed a MySQL resource provider, you can deploy a WordPress website from the Marketplace.</span></span> <span data-ttu-id="bef97-321">When you're prompted for database parameters, input the user name as *User1@Server1* (with the user name and server name of your choice).</span><span class="sxs-lookup"><span data-stu-id="bef97-321">When you're prompted for database parameters, input the user name as *User1@Server1* (with the user name and server name of your choice).</span></span>
3. <span data-ttu-id="bef97-322">If you also deployed a SQL Server resource provider, you can deploy a DNN website from the Marketplace.</span><span class="sxs-lookup"><span data-stu-id="bef97-322">If you also deployed a SQL Server resource provider, you can deploy a DNN website from the Marketplace.</span></span> <span data-ttu-id="bef97-323">When you're prompted for database parameters, pick a database in the computer running SQL Server that is connected to your resource provider.</span><span class="sxs-lookup"><span data-stu-id="bef97-323">When you're prompted for database parameters, pick a database in the computer running SQL Server that is connected to your resource provider.</span></span>

## <a name="next-steps"></a><span data-ttu-id="bef97-324">Next steps</span><span class="sxs-lookup"><span data-stu-id="bef97-324">Next steps</span></span>

<span data-ttu-id="bef97-325">You can also try out other [platform as a service (PaaS) services](azure-stack-tools-paas-services.md)</span><span class="sxs-lookup"><span data-stu-id="bef97-325">You can also try out other [platform as a service (PaaS) services](azure-stack-tools-paas-services.md)</span></span>

- [<span data-ttu-id="bef97-326">SQL Server resource provider</span><span class="sxs-lookup"><span data-stu-id="bef97-326">SQL Server resource provider</span></span>](azure-stack-sql-resource-provider-deploy.md)
- [<span data-ttu-id="bef97-327">MySQL resource provider</span><span class="sxs-lookup"><span data-stu-id="bef97-327">MySQL resource provider</span></span>](azure-stack-mysql-resource-provider-deploy.md)

<!--Image references-->
[1]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/azure-stack/media/azure-stack-app-service-deploy/app-service-exe-start.png
[2]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/azure-stack/media/azure-stack-app-service-deploy/app-service-exe-default-entries-step-cloud-configuration.png
[3]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/azure-stack/media/azure-stack-app-service-deploy/app-service-exe-default-entries-step-subscription-location-populated.png
[4]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/azure-stack/media/azure-stack-app-service-deploy/app-service-exe-default-entries-step-resource-group-sql.png
[5]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/azure-stack/media/azure-stack-app-service-deploy/app-service-exe-default-entries-step-certificates.png
[6]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/azure-stack/media/azure-stack-app-service-deploy/app-service-exe-default-entries-step-role-configuration.png
[7]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/azure-stack/media/azure-stack-app-service-deploy/app-service-exe-default-entries-step-vm-image-selection.png
[8]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/azure-stack/media/azure-stack-app-service-deploy/app-service-exe-default-entries-step-role-credentials.png
[9]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/azure-stack/media/azure-stack-app-service-deploy/app-service-exe-selection-summary.png
[10]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/azure-stack/media/azure-stack-app-service-deploy/app-service-exe-installation-progress.png
[11]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/azure-stack/media/azure-stack-app-service-deploy/managed-servers.png
[12]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/azure-stack/media/azure-stack-app-service-deploy/app-service-sso-keys.png
[13]: https://docstestmedia1.blob.core.windows.net/azure-media/articles/azure-stack/media/azure-stack-app-service-deploy/app-service-sso-grant.png

<!--Links-->
[Azure_Stack_App_Service_preview_installer]: http://go.microsoft.com/fwlink/?LinkID=717531
[App_Service_Deployment]: http://go.microsoft.com/fwlink/?LinkId=723982
[AppServiceHelperScripts]: http://go.microsoft.com/fwlink/?LinkId=733525













