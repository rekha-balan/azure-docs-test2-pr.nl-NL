---
title: Azure Stack Public Key Infrastructure certificate requirements for Azure Stack integrated systems | Microsoft Docs
description: Describes the Azure Stack PKI certificate deployment requirements for Azure Stack integrated systems.
services: azure-stack
documentationcenter: ''
author: mattbriggs
manager: femila
editor: ''
ms.assetid: ''
ms.service: azure-stack
ms.workload: na
pms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/05/2018
ms.author: mabrigg
ms.reviewer: ppacent
ms.openlocfilehash: d4322e5a7f9d587049e9225c3adde08d04325afc
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44868133"
---
# <a name="azure-stack-public-key-infrastructure-certificate-requirements"></a><span data-ttu-id="7fdff-103">Azure Stack public key infrastructure certificate requirements</span><span class="sxs-lookup"><span data-stu-id="7fdff-103">Azure Stack public key infrastructure certificate requirements</span></span>

<span data-ttu-id="7fdff-104">Azure Stack has a public infrastructure network using externally accessible public IP addresses assigned to a small set of Azure Stack services and possibly tenant VMs.</span><span class="sxs-lookup"><span data-stu-id="7fdff-104">Azure Stack has a public infrastructure network using externally accessible public IP addresses assigned to a small set of Azure Stack services and possibly tenant VMs.</span></span> <span data-ttu-id="7fdff-105">PKI certificates with the appropriate DNS names for these Azure Stack public infrastructure endpoints are required during Azure Stack deployment.</span><span class="sxs-lookup"><span data-stu-id="7fdff-105">PKI certificates with the appropriate DNS names for these Azure Stack public infrastructure endpoints are required during Azure Stack deployment.</span></span> <span data-ttu-id="7fdff-106">This article provides information about:</span><span class="sxs-lookup"><span data-stu-id="7fdff-106">This article provides information about:</span></span>

- <span data-ttu-id="7fdff-107">What certificates are required to deploy Azure Stack</span><span class="sxs-lookup"><span data-stu-id="7fdff-107">What certificates are required to deploy Azure Stack</span></span>
- <span data-ttu-id="7fdff-108">The process of obtaining certificates matching those specifications</span><span class="sxs-lookup"><span data-stu-id="7fdff-108">The process of obtaining certificates matching those specifications</span></span>
- <span data-ttu-id="7fdff-109">How to prepare, validate, and use those certificates during deployment</span><span class="sxs-lookup"><span data-stu-id="7fdff-109">How to prepare, validate, and use those certificates during deployment</span></span>

> [!Note]  
> <span data-ttu-id="7fdff-110">During deployment you must copy certificates to the deployment folder that matches the identity provider you are deploying against (Azure AD or AD FS).</span><span class="sxs-lookup"><span data-stu-id="7fdff-110">During deployment you must copy certificates to the deployment folder that matches the identity provider you are deploying against (Azure AD or AD FS).</span></span> <span data-ttu-id="7fdff-111">If you use a single certificate for all endpoints, you must copy that certificate file into each deployment folder as outlined in the tables below.</span><span class="sxs-lookup"><span data-stu-id="7fdff-111">If you use a single certificate for all endpoints, you must copy that certificate file into each deployment folder as outlined in the tables below.</span></span><span data-ttu-id="7fdff-112"> The folder structure is pre-built in the deployment virtual machine and can be found at: C:\CloudDeployment\Setup\Certificates.</span><span class="sxs-lookup"><span data-stu-id="7fdff-112"> The folder structure is pre-built in the deployment virtual machine and can be found at: C:\CloudDeployment\Setup\Certificates.</span></span> 

## <a name="certificate-requirements"></a><span data-ttu-id="7fdff-113">Certificate requirements</span><span class="sxs-lookup"><span data-stu-id="7fdff-113">Certificate requirements</span></span>
<span data-ttu-id="7fdff-114">The following list describes the certificate requirements that are needed to deploy Azure Stack:</span><span class="sxs-lookup"><span data-stu-id="7fdff-114">The following list describes the certificate requirements that are needed to deploy Azure Stack:</span></span> 
- <span data-ttu-id="7fdff-115">Certificates must be issued from either an internal Certificate Authority or a Public Certificate Authority.</span><span class="sxs-lookup"><span data-stu-id="7fdff-115">Certificates must be issued from either an internal Certificate Authority or a Public Certificate Authority.</span></span> <span data-ttu-id="7fdff-116">If a public certificate authority is used, it must be included in the base operating system image as part of the Microsoft Trusted Root Authority Program.</span><span class="sxs-lookup"><span data-stu-id="7fdff-116">If a public certificate authority is used, it must be included in the base operating system image as part of the Microsoft Trusted Root Authority Program.</span></span> <span data-ttu-id="7fdff-117">You can find the full list here: https://gallery.technet.microsoft.com/Trusted-Root-Certificate-123665ca</span><span class="sxs-lookup"><span data-stu-id="7fdff-117">You can find the full list here: https://gallery.technet.microsoft.com/Trusted-Root-Certificate-123665ca</span></span> 
- <span data-ttu-id="7fdff-118">Your Azure Stack infrastructure must have network access to the certificate authority's Certificate Revocation List (CRL) location published in the certificate.</span><span class="sxs-lookup"><span data-stu-id="7fdff-118">Your Azure Stack infrastructure must have network access to the certificate authority's Certificate Revocation List (CRL) location published in the certificate.</span></span> <span data-ttu-id="7fdff-119">This CRL must be an http endpoint</span><span class="sxs-lookup"><span data-stu-id="7fdff-119">This CRL must be an http endpoint</span></span>
- <span data-ttu-id="7fdff-120">When rotating certificates, certificates must be either issued from the same internal certificate authority used to sign certificates provided at deployment or any public certificate authority from above</span><span class="sxs-lookup"><span data-stu-id="7fdff-120">When rotating certificates, certificates must be either issued from the same internal certificate authority used to sign certificates provided at deployment or any public certificate authority from above</span></span>
- <span data-ttu-id="7fdff-121">The use of self-signed certificates are not supported</span><span class="sxs-lookup"><span data-stu-id="7fdff-121">The use of self-signed certificates are not supported</span></span>
- <span data-ttu-id="7fdff-122">For deployment and rotation you can either use a single certificate covering all name spaces in the certificate's Subject Name and Subject Alternative Name (SAN) fields OR you can use individual certificates for each of the namespaces below that the Azure Stack services you plan to utilize require.</span><span class="sxs-lookup"><span data-stu-id="7fdff-122">For deployment and rotation you can either use a single certificate covering all name spaces in the certificate's Subject Name and Subject Alternative Name (SAN) fields OR you can use individual certificates for each of the namespaces below that the Azure Stack services you plan to utilize require.</span></span> <span data-ttu-id="7fdff-123">Note: both approaches require using wild cards for endpoints where they are required, such as **KeyVault** and **KeyVaultInternal**.</span><span class="sxs-lookup"><span data-stu-id="7fdff-123">Note: both approaches require using wild cards for endpoints where they are required, such as **KeyVault** and **KeyVaultInternal**.</span></span> 
- <span data-ttu-id="7fdff-124">The certificate signature algorithm cannot be SHA1, as it must be stronger.</span><span class="sxs-lookup"><span data-stu-id="7fdff-124">The certificate signature algorithm cannot be SHA1, as it must be stronger.</span></span> 
- <span data-ttu-id="7fdff-125">The certificate format must be PFX, as both the public and private keys are required for Azure Stack installation.</span><span class="sxs-lookup"><span data-stu-id="7fdff-125">The certificate format must be PFX, as both the public and private keys are required for Azure Stack installation.</span></span> 
- <span data-ttu-id="7fdff-126">The certificate pfx files must have a value "Digital Signature" and "KeyEncipherment" in its “Key Usage" field.</span><span class="sxs-lookup"><span data-stu-id="7fdff-126">The certificate pfx files must have a value "Digital Signature" and "KeyEncipherment" in its “Key Usage" field.</span></span>
- <span data-ttu-id="7fdff-127">The certificate pfx files must have the values “Server Authentication (1.3.6.1.5.5.7.3.1)” and “Client Authentication (1.3.6.1.5.5.7.3.2)” in the "Enhanced Key Usage" field.</span><span class="sxs-lookup"><span data-stu-id="7fdff-127">The certificate pfx files must have the values “Server Authentication (1.3.6.1.5.5.7.3.1)” and “Client Authentication (1.3.6.1.5.5.7.3.2)” in the "Enhanced Key Usage" field.</span></span>
- <span data-ttu-id="7fdff-128">The certificate's "Issued to:" field must not be the same as its "Issued by:" field.</span><span class="sxs-lookup"><span data-stu-id="7fdff-128">The certificate's "Issued to:" field must not be the same as its "Issued by:" field.</span></span>
- <span data-ttu-id="7fdff-129">The passwords to all certificate pfx files must be the same at the time of deployment</span><span class="sxs-lookup"><span data-stu-id="7fdff-129">The passwords to all certificate pfx files must be the same at the time of deployment</span></span>
- <span data-ttu-id="7fdff-130">Password to the certificate pfx has to be a complex password.</span><span class="sxs-lookup"><span data-stu-id="7fdff-130">Password to the certificate pfx has to be a complex password.</span></span>
- <span data-ttu-id="7fdff-131">Ensure that the subject names and subject alternative names in the subject alternative name extension (x509v3_config) match.</span><span class="sxs-lookup"><span data-stu-id="7fdff-131">Ensure that the subject names and subject alternative names in the subject alternative name extension (x509v3_config) match.</span></span> <span data-ttu-id="7fdff-132">The subject alternative name field lets you specify additional host names (websites, IP addresses, common names) to be protected by a single SSL Certificate.</span><span class="sxs-lookup"><span data-stu-id="7fdff-132">The subject alternative name field lets you specify additional host names (websites, IP addresses, common names) to be protected by a single SSL Certificate.</span></span>

> [!NOTE]  
> <span data-ttu-id="7fdff-133">Self Signed certificates are not supported.</span><span class="sxs-lookup"><span data-stu-id="7fdff-133">Self Signed certificates are not supported.</span></span>

> [!NOTE]  
> <span data-ttu-id="7fdff-134">The presence of Intermediary Certificate Authorities in a certificate's chain-of-trusts IS supported.</span><span class="sxs-lookup"><span data-stu-id="7fdff-134">The presence of Intermediary Certificate Authorities in a certificate's chain-of-trusts IS supported.</span></span> 

## <a name="mandatory-certificates"></a><span data-ttu-id="7fdff-135">Mandatory certificates</span><span class="sxs-lookup"><span data-stu-id="7fdff-135">Mandatory certificates</span></span>
<span data-ttu-id="7fdff-136">The table in this section describes the Azure Stack public endpoint PKI certificates that are required for both Azure AD and AD FS Azure Stack deployments.</span><span class="sxs-lookup"><span data-stu-id="7fdff-136">The table in this section describes the Azure Stack public endpoint PKI certificates that are required for both Azure AD and AD FS Azure Stack deployments.</span></span> <span data-ttu-id="7fdff-137">Certificate requirements are grouped by area, as well as the namespaces used and the certificates that are required for each namespace.</span><span class="sxs-lookup"><span data-stu-id="7fdff-137">Certificate requirements are grouped by area, as well as the namespaces used and the certificates that are required for each namespace.</span></span> <span data-ttu-id="7fdff-138">The table also describes the folder in which your solution provider copies the different certificates per public endpoint.</span><span class="sxs-lookup"><span data-stu-id="7fdff-138">The table also describes the folder in which your solution provider copies the different certificates per public endpoint.</span></span> 

<span data-ttu-id="7fdff-139">Certificates with the appropriate DNS names for each Azure Stack public infrastructure endpoint are required.</span><span class="sxs-lookup"><span data-stu-id="7fdff-139">Certificates with the appropriate DNS names for each Azure Stack public infrastructure endpoint are required.</span></span> <span data-ttu-id="7fdff-140">Each endpoint’s DNS name is expressed in the format: *&lt;prefix>.&lt;region>.&lt;fqdn>*.</span><span class="sxs-lookup"><span data-stu-id="7fdff-140">Each endpoint’s DNS name is expressed in the format: *&lt;prefix>.&lt;region>.&lt;fqdn>*.</span></span> 

<span data-ttu-id="7fdff-141">For your deployment, the [region] and [externalfqdn] values must match the region and external domain names that you chose for your Azure Stack system.</span><span class="sxs-lookup"><span data-stu-id="7fdff-141">For your deployment, the [region] and [externalfqdn] values must match the region and external domain names that you chose for your Azure Stack system.</span></span> <span data-ttu-id="7fdff-142">As an example, if the region name was *Redmond* and the external domain name was *contoso.com*, the DNS names would have the format *&lt;prefix>.redmond.contoso.com*.</span><span class="sxs-lookup"><span data-stu-id="7fdff-142">As an example, if the region name was *Redmond* and the external domain name was *contoso.com*, the DNS names would have the format *&lt;prefix>.redmond.contoso.com*.</span></span> <span data-ttu-id="7fdff-143">The *&lt;prefix>* values are predesignated by Microsoft to describe the endpoint secured by the certificate.</span><span class="sxs-lookup"><span data-stu-id="7fdff-143">The *&lt;prefix>* values are predesignated by Microsoft to describe the endpoint secured by the certificate.</span></span> <span data-ttu-id="7fdff-144">In addition, the *&lt;prefix>* values of the external infrastructure endpoints depend on the Azure Stack service that uses the specific endpoint.</span><span class="sxs-lookup"><span data-stu-id="7fdff-144">In addition, the *&lt;prefix>* values of the external infrastructure endpoints depend on the Azure Stack service that uses the specific endpoint.</span></span> 

> [!note]  
> <span data-ttu-id="7fdff-145">Certificates can be provided as a single wild card certificate covering all namespaces in the Subject and Subject Alternative Name (SAN) fields copied into all directories, or as individual certificates for each endpoint copied into the corresponding directory.</span><span class="sxs-lookup"><span data-stu-id="7fdff-145">Certificates can be provided as a single wild card certificate covering all namespaces in the Subject and Subject Alternative Name (SAN) fields copied into all directories, or as individual certificates for each endpoint copied into the corresponding directory.</span></span> <span data-ttu-id="7fdff-146">Remember, both options require you to use wildcard certificates for endpoints such as **acs** and Key Vault where they are required.</span><span class="sxs-lookup"><span data-stu-id="7fdff-146">Remember, both options require you to use wildcard certificates for endpoints such as **acs** and Key Vault where they are required.</span></span> 

| <span data-ttu-id="7fdff-147">Deployment folder</span><span class="sxs-lookup"><span data-stu-id="7fdff-147">Deployment folder</span></span> | <span data-ttu-id="7fdff-148">Required certificate subject and subject alternative names (SAN)</span><span class="sxs-lookup"><span data-stu-id="7fdff-148">Required certificate subject and subject alternative names (SAN)</span></span> | <span data-ttu-id="7fdff-149">Scope (per region)</span><span class="sxs-lookup"><span data-stu-id="7fdff-149">Scope (per region)</span></span> | <span data-ttu-id="7fdff-150">SubDomain namespace</span><span class="sxs-lookup"><span data-stu-id="7fdff-150">SubDomain namespace</span></span> |
|-------------------------------|------------------------------------------------------------------|----------------------------------|-----------------------------|
| <span data-ttu-id="7fdff-151">Public Portal</span><span class="sxs-lookup"><span data-stu-id="7fdff-151">Public Portal</span></span> | <span data-ttu-id="7fdff-152">portal.&lt;region>.&lt;fqdn></span><span class="sxs-lookup"><span data-stu-id="7fdff-152">portal.&lt;region>.&lt;fqdn></span></span> | <span data-ttu-id="7fdff-153">Portals</span><span class="sxs-lookup"><span data-stu-id="7fdff-153">Portals</span></span> | <span data-ttu-id="7fdff-154">&lt;region>.&lt;fqdn></span><span class="sxs-lookup"><span data-stu-id="7fdff-154">&lt;region>.&lt;fqdn></span></span> |
| <span data-ttu-id="7fdff-155">Admin Portal</span><span class="sxs-lookup"><span data-stu-id="7fdff-155">Admin Portal</span></span> | <span data-ttu-id="7fdff-156">adminportal.&lt;region>.&lt;fqdn></span><span class="sxs-lookup"><span data-stu-id="7fdff-156">adminportal.&lt;region>.&lt;fqdn></span></span> | <span data-ttu-id="7fdff-157">Portals</span><span class="sxs-lookup"><span data-stu-id="7fdff-157">Portals</span></span> | <span data-ttu-id="7fdff-158">&lt;region>.&lt;fqdn></span><span class="sxs-lookup"><span data-stu-id="7fdff-158">&lt;region>.&lt;fqdn></span></span> |
| <span data-ttu-id="7fdff-159">Azure Resource Manager Public</span><span class="sxs-lookup"><span data-stu-id="7fdff-159">Azure Resource Manager Public</span></span> | <span data-ttu-id="7fdff-160">management.&lt;region>.&lt;fqdn></span><span class="sxs-lookup"><span data-stu-id="7fdff-160">management.&lt;region>.&lt;fqdn></span></span> | <span data-ttu-id="7fdff-161">Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="7fdff-161">Azure Resource Manager</span></span> | <span data-ttu-id="7fdff-162">&lt;region>.&lt;fqdn></span><span class="sxs-lookup"><span data-stu-id="7fdff-162">&lt;region>.&lt;fqdn></span></span> |
| <span data-ttu-id="7fdff-163">Azure Resource Manager Admin</span><span class="sxs-lookup"><span data-stu-id="7fdff-163">Azure Resource Manager Admin</span></span> | <span data-ttu-id="7fdff-164">adminmanagement.&lt;region>.&lt;fqdn></span><span class="sxs-lookup"><span data-stu-id="7fdff-164">adminmanagement.&lt;region>.&lt;fqdn></span></span> | <span data-ttu-id="7fdff-165">Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="7fdff-165">Azure Resource Manager</span></span> | <span data-ttu-id="7fdff-166">&lt;region>.&lt;fqdn></span><span class="sxs-lookup"><span data-stu-id="7fdff-166">&lt;region>.&lt;fqdn></span></span> |
| <span data-ttu-id="7fdff-167">ACSBlob</span><span class="sxs-lookup"><span data-stu-id="7fdff-167">ACSBlob</span></span> | <span data-ttu-id="7fdff-168">\*.blob.&lt;region>.&lt;fqdn></span><span class="sxs-lookup"><span data-stu-id="7fdff-168">\*.blob.&lt;region>.&lt;fqdn></span></span><br><span data-ttu-id="7fdff-169">(Wildcard SSL Certificate)</span><span class="sxs-lookup"><span data-stu-id="7fdff-169">(Wildcard SSL Certificate)</span></span> | <span data-ttu-id="7fdff-170">Blob Storage</span><span class="sxs-lookup"><span data-stu-id="7fdff-170">Blob Storage</span></span> | <span data-ttu-id="7fdff-171">blob.&lt;region>.&lt;fqdn></span><span class="sxs-lookup"><span data-stu-id="7fdff-171">blob.&lt;region>.&lt;fqdn></span></span> |
| <span data-ttu-id="7fdff-172">ACSTable</span><span class="sxs-lookup"><span data-stu-id="7fdff-172">ACSTable</span></span> | <span data-ttu-id="7fdff-173">\*.table.&lt;region>.&lt;fqdn></span><span class="sxs-lookup"><span data-stu-id="7fdff-173">\*.table.&lt;region>.&lt;fqdn></span></span><br><span data-ttu-id="7fdff-174">(Wildcard SSL Certificate)</span><span class="sxs-lookup"><span data-stu-id="7fdff-174">(Wildcard SSL Certificate)</span></span> | <span data-ttu-id="7fdff-175">Table Storage</span><span class="sxs-lookup"><span data-stu-id="7fdff-175">Table Storage</span></span> | <span data-ttu-id="7fdff-176">table.&lt;region>.&lt;fqdn></span><span class="sxs-lookup"><span data-stu-id="7fdff-176">table.&lt;region>.&lt;fqdn></span></span> |
| <span data-ttu-id="7fdff-177">ACSQueue</span><span class="sxs-lookup"><span data-stu-id="7fdff-177">ACSQueue</span></span> | <span data-ttu-id="7fdff-178">\*.queue.&lt;region>.&lt;fqdn></span><span class="sxs-lookup"><span data-stu-id="7fdff-178">\*.queue.&lt;region>.&lt;fqdn></span></span><br><span data-ttu-id="7fdff-179">(Wildcard SSL Certificate)</span><span class="sxs-lookup"><span data-stu-id="7fdff-179">(Wildcard SSL Certificate)</span></span> | <span data-ttu-id="7fdff-180">Queue Storage</span><span class="sxs-lookup"><span data-stu-id="7fdff-180">Queue Storage</span></span> | <span data-ttu-id="7fdff-181">queue.&lt;region>.&lt;fqdn></span><span class="sxs-lookup"><span data-stu-id="7fdff-181">queue.&lt;region>.&lt;fqdn></span></span> |
| <span data-ttu-id="7fdff-182">KeyVault</span><span class="sxs-lookup"><span data-stu-id="7fdff-182">KeyVault</span></span> | <span data-ttu-id="7fdff-183">\*.vault.&lt;region>.&lt;fqdn></span><span class="sxs-lookup"><span data-stu-id="7fdff-183">\*.vault.&lt;region>.&lt;fqdn></span></span><br><span data-ttu-id="7fdff-184">(Wildcard SSL Certificate)</span><span class="sxs-lookup"><span data-stu-id="7fdff-184">(Wildcard SSL Certificate)</span></span> | <span data-ttu-id="7fdff-185">Key Vault</span><span class="sxs-lookup"><span data-stu-id="7fdff-185">Key Vault</span></span> | <span data-ttu-id="7fdff-186">vault.&lt;region>.&lt;fqdn></span><span class="sxs-lookup"><span data-stu-id="7fdff-186">vault.&lt;region>.&lt;fqdn></span></span> |
| <span data-ttu-id="7fdff-187">KeyVaultInternal</span><span class="sxs-lookup"><span data-stu-id="7fdff-187">KeyVaultInternal</span></span> | <span data-ttu-id="7fdff-188">\*.adminvault.&lt;region>.&lt;fqdn></span><span class="sxs-lookup"><span data-stu-id="7fdff-188">\*.adminvault.&lt;region>.&lt;fqdn></span></span><br><span data-ttu-id="7fdff-189">(Wildcard SSL Certificate)</span><span class="sxs-lookup"><span data-stu-id="7fdff-189">(Wildcard SSL Certificate)</span></span> |  <span data-ttu-id="7fdff-190">Internal Keyvault</span><span class="sxs-lookup"><span data-stu-id="7fdff-190">Internal Keyvault</span></span> |  <span data-ttu-id="7fdff-191">adminvault.&lt;region>.&lt;fqdn></span><span class="sxs-lookup"><span data-stu-id="7fdff-191">adminvault.&lt;region>.&lt;fqdn></span></span> |
| <span data-ttu-id="7fdff-192">Admin Extension Host</span><span class="sxs-lookup"><span data-stu-id="7fdff-192">Admin Extension Host</span></span> | <span data-ttu-id="7fdff-193">\*.adminhosting.\<region>.\<fqdn> (Wildcard SSL Certificates)</span><span class="sxs-lookup"><span data-stu-id="7fdff-193">\*.adminhosting.\<region>.\<fqdn> (Wildcard SSL Certificates)</span></span> | <span data-ttu-id="7fdff-194">Admin Extension Host</span><span class="sxs-lookup"><span data-stu-id="7fdff-194">Admin Extension Host</span></span> | <span data-ttu-id="7fdff-195">adminhosting.\<region>.\<fqdn></span><span class="sxs-lookup"><span data-stu-id="7fdff-195">adminhosting.\<region>.\<fqdn></span></span> |
| <span data-ttu-id="7fdff-196">Public Extension Host</span><span class="sxs-lookup"><span data-stu-id="7fdff-196">Public Extension Host</span></span> | <span data-ttu-id="7fdff-197">\*.hosting.\<region>.\<fqdn> (Wildcard SSL Certificates)</span><span class="sxs-lookup"><span data-stu-id="7fdff-197">\*.hosting.\<region>.\<fqdn> (Wildcard SSL Certificates)</span></span> | <span data-ttu-id="7fdff-198">Public Extension Host</span><span class="sxs-lookup"><span data-stu-id="7fdff-198">Public Extension Host</span></span> | <span data-ttu-id="7fdff-199">hosting.\<region>.\<fqdn></span><span class="sxs-lookup"><span data-stu-id="7fdff-199">hosting.\<region>.\<fqdn></span></span> |

<span data-ttu-id="7fdff-200">If you deploy Azure Stack using the Azure AD deployment mode, you only need to request the certificates listed in previous table.</span><span class="sxs-lookup"><span data-stu-id="7fdff-200">If you deploy Azure Stack using the Azure AD deployment mode, you only need to request the certificates listed in previous table.</span></span> <span data-ttu-id="7fdff-201">However, if you deploy Azure Stack using the AD FS deployment mode, you must also request the certificates described in the following table:</span><span class="sxs-lookup"><span data-stu-id="7fdff-201">However, if you deploy Azure Stack using the AD FS deployment mode, you must also request the certificates described in the following table:</span></span>

|<span data-ttu-id="7fdff-202">Deployment folder</span><span class="sxs-lookup"><span data-stu-id="7fdff-202">Deployment folder</span></span>|<span data-ttu-id="7fdff-203">Required certificate subject and subject alternative names (SAN)</span><span class="sxs-lookup"><span data-stu-id="7fdff-203">Required certificate subject and subject alternative names (SAN)</span></span>|<span data-ttu-id="7fdff-204">Scope (per region)</span><span class="sxs-lookup"><span data-stu-id="7fdff-204">Scope (per region)</span></span>|<span data-ttu-id="7fdff-205">SubDomain namespace</span><span class="sxs-lookup"><span data-stu-id="7fdff-205">SubDomain namespace</span></span>|
|-----|-----|-----|-----|
|<span data-ttu-id="7fdff-206">ADFS</span><span class="sxs-lookup"><span data-stu-id="7fdff-206">ADFS</span></span>|<span data-ttu-id="7fdff-207">adfs.*&lt;region>.&lt;fqdn>*</span><span class="sxs-lookup"><span data-stu-id="7fdff-207">adfs.*&lt;region>.&lt;fqdn>*</span></span><br><span data-ttu-id="7fdff-208">(SSL Certificate)</span><span class="sxs-lookup"><span data-stu-id="7fdff-208">(SSL Certificate)</span></span>|<span data-ttu-id="7fdff-209">ADFS</span><span class="sxs-lookup"><span data-stu-id="7fdff-209">ADFS</span></span>|<span data-ttu-id="7fdff-210">*&lt;region>.&lt;fqdn>*</span><span class="sxs-lookup"><span data-stu-id="7fdff-210">*&lt;region>.&lt;fqdn>*</span></span>|
|<span data-ttu-id="7fdff-211">Graph</span><span class="sxs-lookup"><span data-stu-id="7fdff-211">Graph</span></span>|<span data-ttu-id="7fdff-212">graph.*&lt;region>.&lt;fqdn>*</span><span class="sxs-lookup"><span data-stu-id="7fdff-212">graph.*&lt;region>.&lt;fqdn>*</span></span><br><span data-ttu-id="7fdff-213">(SSL Certificate)</span><span class="sxs-lookup"><span data-stu-id="7fdff-213">(SSL Certificate)</span></span>|<span data-ttu-id="7fdff-214">Graph</span><span class="sxs-lookup"><span data-stu-id="7fdff-214">Graph</span></span>|<span data-ttu-id="7fdff-215">*&lt;region>.&lt;fqdn>*</span><span class="sxs-lookup"><span data-stu-id="7fdff-215">*&lt;region>.&lt;fqdn>*</span></span>|
|

> [!IMPORTANT]
> <span data-ttu-id="7fdff-216">All the certificates listed in this section must have the same password.</span><span class="sxs-lookup"><span data-stu-id="7fdff-216">All the certificates listed in this section must have the same password.</span></span> 

## <a name="optional-paas-certificates"></a><span data-ttu-id="7fdff-217">Optional PaaS certificates</span><span class="sxs-lookup"><span data-stu-id="7fdff-217">Optional PaaS certificates</span></span>
<span data-ttu-id="7fdff-218">If you are planning to deploy the additional Azure Stack PaaS services (SQL, MySQL, and App Service) after Azure Stack has been deployed and configured, you will need to request additional certificates to cover the endpoints of the PaaS services.</span><span class="sxs-lookup"><span data-stu-id="7fdff-218">If you are planning to deploy the additional Azure Stack PaaS services (SQL, MySQL, and App Service) after Azure Stack has been deployed and configured, you will need to request additional certificates to cover the endpoints of the PaaS services.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="7fdff-219">The certificates that you use for App Service, SQL, and MySQL resource providers need to have the same root authority as those used for the global Azure Stack endpoints.</span><span class="sxs-lookup"><span data-stu-id="7fdff-219">The certificates that you use for App Service, SQL, and MySQL resource providers need to have the same root authority as those used for the global Azure Stack endpoints.</span></span> 

<span data-ttu-id="7fdff-220">The following table describes the endpoints and certificates required for the SQL and MySQL adapters and for App Service.</span><span class="sxs-lookup"><span data-stu-id="7fdff-220">The following table describes the endpoints and certificates required for the SQL and MySQL adapters and for App Service.</span></span> <span data-ttu-id="7fdff-221">You don’t need to copy these certificates to the Azure Stack deployment folder.</span><span class="sxs-lookup"><span data-stu-id="7fdff-221">You don’t need to copy these certificates to the Azure Stack deployment folder.</span></span> <span data-ttu-id="7fdff-222">Instead, you provide these certificates when you install the additional resource providers.</span><span class="sxs-lookup"><span data-stu-id="7fdff-222">Instead, you provide these certificates when you install the additional resource providers.</span></span> 

|<span data-ttu-id="7fdff-223">Scope (per region)</span><span class="sxs-lookup"><span data-stu-id="7fdff-223">Scope (per region)</span></span>|<span data-ttu-id="7fdff-224">Certificate</span><span class="sxs-lookup"><span data-stu-id="7fdff-224">Certificate</span></span>|<span data-ttu-id="7fdff-225">Required certificate subject and Subject Alternative Names (SANs)</span><span class="sxs-lookup"><span data-stu-id="7fdff-225">Required certificate subject and Subject Alternative Names (SANs)</span></span>|<span data-ttu-id="7fdff-226">SubDomain namespace</span><span class="sxs-lookup"><span data-stu-id="7fdff-226">SubDomain namespace</span></span>|
|-----|-----|-----|-----|
|<span data-ttu-id="7fdff-227">SQL, MySQL</span><span class="sxs-lookup"><span data-stu-id="7fdff-227">SQL, MySQL</span></span>|<span data-ttu-id="7fdff-228">SQL and MySQL</span><span class="sxs-lookup"><span data-stu-id="7fdff-228">SQL and MySQL</span></span>|<span data-ttu-id="7fdff-229">&#42;.dbadapter.*&lt;region>.&lt;fqdn>*</span><span class="sxs-lookup"><span data-stu-id="7fdff-229">&#42;.dbadapter.*&lt;region>.&lt;fqdn>*</span></span><br><span data-ttu-id="7fdff-230">(Wildcard SSL Certificate)</span><span class="sxs-lookup"><span data-stu-id="7fdff-230">(Wildcard SSL Certificate)</span></span>|<span data-ttu-id="7fdff-231">dbadapter.*&lt;region>.&lt;fqdn>*</span><span class="sxs-lookup"><span data-stu-id="7fdff-231">dbadapter.*&lt;region>.&lt;fqdn>*</span></span>|
|<span data-ttu-id="7fdff-232">App Service</span><span class="sxs-lookup"><span data-stu-id="7fdff-232">App Service</span></span>|<span data-ttu-id="7fdff-233">Web Traffic Default SSL Cert</span><span class="sxs-lookup"><span data-stu-id="7fdff-233">Web Traffic Default SSL Cert</span></span>|<span data-ttu-id="7fdff-234">&#42;.appservice.*&lt;region>.&lt;fqdn>*</span><span class="sxs-lookup"><span data-stu-id="7fdff-234">&#42;.appservice.*&lt;region>.&lt;fqdn>*</span></span><br><span data-ttu-id="7fdff-235">&#42;.scm.appservice.*&lt;region>.&lt;fqdn>*</span><span class="sxs-lookup"><span data-stu-id="7fdff-235">&#42;.scm.appservice.*&lt;region>.&lt;fqdn>*</span></span><br><span data-ttu-id="7fdff-236">&#42;.sso.appservice.*&lt;region>.&lt;fqdn>*</span><span class="sxs-lookup"><span data-stu-id="7fdff-236">&#42;.sso.appservice.*&lt;region>.&lt;fqdn>*</span></span><br><span data-ttu-id="7fdff-237">(Multi Domain Wildcard SSL Certificate<sup>1</sup>)</span><span class="sxs-lookup"><span data-stu-id="7fdff-237">(Multi Domain Wildcard SSL Certificate<sup>1</sup>)</span></span>|<span data-ttu-id="7fdff-238">appservice.*&lt;region>.&lt;fqdn>*</span><span class="sxs-lookup"><span data-stu-id="7fdff-238">appservice.*&lt;region>.&lt;fqdn>*</span></span><br><span data-ttu-id="7fdff-239">scm.appservice.*&lt;region>.&lt;fqdn>*</span><span class="sxs-lookup"><span data-stu-id="7fdff-239">scm.appservice.*&lt;region>.&lt;fqdn>*</span></span>|
|<span data-ttu-id="7fdff-240">App Service</span><span class="sxs-lookup"><span data-stu-id="7fdff-240">App Service</span></span>|<span data-ttu-id="7fdff-241">API</span><span class="sxs-lookup"><span data-stu-id="7fdff-241">API</span></span>|<span data-ttu-id="7fdff-242">api.appservice.*&lt;region>.&lt;fqdn>*</span><span class="sxs-lookup"><span data-stu-id="7fdff-242">api.appservice.*&lt;region>.&lt;fqdn>*</span></span><br><span data-ttu-id="7fdff-243">(SSL Certificate<sup>2</sup>)</span><span class="sxs-lookup"><span data-stu-id="7fdff-243">(SSL Certificate<sup>2</sup>)</span></span>|<span data-ttu-id="7fdff-244">appservice.*&lt;region>.&lt;fqdn>*</span><span class="sxs-lookup"><span data-stu-id="7fdff-244">appservice.*&lt;region>.&lt;fqdn>*</span></span><br><span data-ttu-id="7fdff-245">scm.appservice.*&lt;region>.&lt;fqdn>*</span><span class="sxs-lookup"><span data-stu-id="7fdff-245">scm.appservice.*&lt;region>.&lt;fqdn>*</span></span>|
|<span data-ttu-id="7fdff-246">App Service</span><span class="sxs-lookup"><span data-stu-id="7fdff-246">App Service</span></span>|<span data-ttu-id="7fdff-247">FTP</span><span class="sxs-lookup"><span data-stu-id="7fdff-247">FTP</span></span>|<span data-ttu-id="7fdff-248">ftp.appservice.*&lt;region>.&lt;fqdn>*</span><span class="sxs-lookup"><span data-stu-id="7fdff-248">ftp.appservice.*&lt;region>.&lt;fqdn>*</span></span><br><span data-ttu-id="7fdff-249">(SSL Certificate<sup>2</sup>)</span><span class="sxs-lookup"><span data-stu-id="7fdff-249">(SSL Certificate<sup>2</sup>)</span></span>|<span data-ttu-id="7fdff-250">appservice.*&lt;region>.&lt;fqdn>*</span><span class="sxs-lookup"><span data-stu-id="7fdff-250">appservice.*&lt;region>.&lt;fqdn>*</span></span><br><span data-ttu-id="7fdff-251">scm.appservice.*&lt;region>.&lt;fqdn>*</span><span class="sxs-lookup"><span data-stu-id="7fdff-251">scm.appservice.*&lt;region>.&lt;fqdn>*</span></span>|
|<span data-ttu-id="7fdff-252">App Service</span><span class="sxs-lookup"><span data-stu-id="7fdff-252">App Service</span></span>|<span data-ttu-id="7fdff-253">SSO</span><span class="sxs-lookup"><span data-stu-id="7fdff-253">SSO</span></span>|<span data-ttu-id="7fdff-254">sso.appservice.*&lt;region>.&lt;fqdn>*</span><span class="sxs-lookup"><span data-stu-id="7fdff-254">sso.appservice.*&lt;region>.&lt;fqdn>*</span></span><br><span data-ttu-id="7fdff-255">(SSL Certificate<sup>2</sup>)</span><span class="sxs-lookup"><span data-stu-id="7fdff-255">(SSL Certificate<sup>2</sup>)</span></span>|<span data-ttu-id="7fdff-256">appservice.*&lt;region>.&lt;fqdn>*</span><span class="sxs-lookup"><span data-stu-id="7fdff-256">appservice.*&lt;region>.&lt;fqdn>*</span></span><br><span data-ttu-id="7fdff-257">scm.appservice.*&lt;region>.&lt;fqdn>*</span><span class="sxs-lookup"><span data-stu-id="7fdff-257">scm.appservice.*&lt;region>.&lt;fqdn>*</span></span>|

<span data-ttu-id="7fdff-258"><sup>1</sup> Requires one certificate with multiple wildcard subject alternative names.</span><span class="sxs-lookup"><span data-stu-id="7fdff-258"><sup>1</sup> Requires one certificate with multiple wildcard subject alternative names.</span></span> <span data-ttu-id="7fdff-259">Multiple wildcard SANs on a single certificate might not be supported by all Public Certificate Authorities</span><span class="sxs-lookup"><span data-stu-id="7fdff-259">Multiple wildcard SANs on a single certificate might not be supported by all Public Certificate Authorities</span></span> 

<span data-ttu-id="7fdff-260"><sup>2</sup> A &#42;.appservice.*&lt;region>.&lt;fqdn>* wild card certificate cannot be used in place of these three certificates (api.appservice.*&lt;region>.&lt;fqdn>*, ftp.appservice.*&lt;region>.&lt;fqdn>*, and sso.appservice.*&lt;region>.&lt;fqdn>*.</span><span class="sxs-lookup"><span data-stu-id="7fdff-260"><sup>2</sup> A &#42;.appservice.*&lt;region>.&lt;fqdn>* wild card certificate cannot be used in place of these three certificates (api.appservice.*&lt;region>.&lt;fqdn>*, ftp.appservice.*&lt;region>.&lt;fqdn>*, and sso.appservice.*&lt;region>.&lt;fqdn>*.</span></span> <span data-ttu-id="7fdff-261">Appservice explicitly requires the use of separate certificates for these endpoints.</span><span class="sxs-lookup"><span data-stu-id="7fdff-261">Appservice explicitly requires the use of separate certificates for these endpoints.</span></span> 

## <a name="learn-more"></a><span data-ttu-id="7fdff-262">Learn more</span><span class="sxs-lookup"><span data-stu-id="7fdff-262">Learn more</span></span>
<span data-ttu-id="7fdff-263">Learn how to [generate PKI certificates for Azure Stack deployment](azure-stack-get-pki-certs.md).</span><span class="sxs-lookup"><span data-stu-id="7fdff-263">Learn how to [generate PKI certificates for Azure Stack deployment](azure-stack-get-pki-certs.md).</span></span> 

## <a name="next-steps"></a><span data-ttu-id="7fdff-264">Next steps</span><span class="sxs-lookup"><span data-stu-id="7fdff-264">Next steps</span></span>
[<span data-ttu-id="7fdff-265">Identity integration</span><span class="sxs-lookup"><span data-stu-id="7fdff-265">Identity integration</span></span>](azure-stack-integrate-identity.md)

