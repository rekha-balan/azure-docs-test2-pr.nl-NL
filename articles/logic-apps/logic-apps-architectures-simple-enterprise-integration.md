---
title: Simple enterprise integration architecture pattern - Azure Integration Services
description: This architecture reference shows how you can implement a simple enterprise integration pattern by using Azure Logic Apps and Azure API Management
services: logic-apps
ms.service: logic-apps
ms.suite: integration
author: mattfarm
ms.author: mattfarm
ms.reviewer: jonfan, estfan, LADocs
ms.topic: article
ms.date: 06/15/2018
ms.openlocfilehash: 7081c9e4f6e6deee196255f04180a8f2cc792876
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44856585"
---
# <a name="simple-enterprise-integration-architecture"></a><span data-ttu-id="7cef3-103">Simple enterprise integration architecture</span><span class="sxs-lookup"><span data-stu-id="7cef3-103">Simple enterprise integration architecture</span></span>

<span data-ttu-id="7cef3-104">This article describes an enterprise integration architecture that uses proven practices you can apply to an integration application when using Azure Integration Services.</span><span class="sxs-lookup"><span data-stu-id="7cef3-104">This article describes an enterprise integration architecture that uses proven practices you can apply to an integration application when using Azure Integration Services.</span></span> <span data-ttu-id="7cef3-105">You can use this architecture as the basis for many different application patterns that require HTTP APIs, workflow, and orchestration.</span><span class="sxs-lookup"><span data-stu-id="7cef3-105">You can use this architecture as the basis for many different application patterns that require HTTP APIs, workflow, and orchestration.</span></span>

![Architecture diagram - Simple enterprise integration](./media/logic-apps-architectures-simple-enterprise-integration/simple_arch_diagram.png)

<span data-ttu-id="7cef3-107">This series describes the reusable component parts that might apply to building a generic integration application.</span><span class="sxs-lookup"><span data-stu-id="7cef3-107">This series describes the reusable component parts that might apply to building a generic integration application.</span></span> <span data-ttu-id="7cef3-108">Because integration technology has many possible applications, ranging from simple point-to-point apps to full enterprise Azure Service Bus apps, consider which components you need to implement for your apps and infrastructure.</span><span class="sxs-lookup"><span data-stu-id="7cef3-108">Because integration technology has many possible applications, ranging from simple point-to-point apps to full enterprise Azure Service Bus apps, consider which components you need to implement for your apps and infrastructure.</span></span>

## <a name="architecture-components"></a><span data-ttu-id="7cef3-109">Architecture components</span><span class="sxs-lookup"><span data-stu-id="7cef3-109">Architecture components</span></span>

<span data-ttu-id="7cef3-110">This enterprise integration architecture includes these components:</span><span class="sxs-lookup"><span data-stu-id="7cef3-110">This enterprise integration architecture includes these components:</span></span>

- <span data-ttu-id="7cef3-111">**Resource group**: A [resource group](../azure-resource-manager/resource-group-overview.md) is a logical container for Azure resources.</span><span class="sxs-lookup"><span data-stu-id="7cef3-111">**Resource group**: A [resource group](../azure-resource-manager/resource-group-overview.md) is a logical container for Azure resources.</span></span>

- <span data-ttu-id="7cef3-112">**Azure API Management**: The [API Management](https://docs.microsoft.com/azure/api-management/) service is a fully managed platform for publishing, securing, and transforming HTTP APIs.</span><span class="sxs-lookup"><span data-stu-id="7cef3-112">**Azure API Management**: The [API Management](https://docs.microsoft.com/azure/api-management/) service is a fully managed platform for publishing, securing, and transforming HTTP APIs.</span></span>

- <span data-ttu-id="7cef3-113">**Azure API Management Developer portal**: Each instance of Azure API Management provides access to the [Developer portal](../api-management/api-management-customize-styles.md).</span><span class="sxs-lookup"><span data-stu-id="7cef3-113">**Azure API Management Developer portal**: Each instance of Azure API Management provides access to the [Developer portal](../api-management/api-management-customize-styles.md).</span></span> <span data-ttu-id="7cef3-114">This portal gives you access to documentation and code samples.</span><span class="sxs-lookup"><span data-stu-id="7cef3-114">This portal gives you access to documentation and code samples.</span></span> <span data-ttu-id="7cef3-115">You can also test APIs in the Developer portal.</span><span class="sxs-lookup"><span data-stu-id="7cef3-115">You can also test APIs in the Developer portal.</span></span>

- <span data-ttu-id="7cef3-116">**Azure Logic Apps**: [Logic Apps](../logic-apps/logic-apps-overview.md) is a serverless platform for building enterprise workflows and integrations.</span><span class="sxs-lookup"><span data-stu-id="7cef3-116">**Azure Logic Apps**: [Logic Apps](../logic-apps/logic-apps-overview.md) is a serverless platform for building enterprise workflows and integrations.</span></span>

- <span data-ttu-id="7cef3-117">**Connectors**: Logic Apps uses [connectors](../connectors/apis-list.md) for connecting to commonly used services.</span><span class="sxs-lookup"><span data-stu-id="7cef3-117">**Connectors**: Logic Apps uses [connectors](../connectors/apis-list.md) for connecting to commonly used services.</span></span> <span data-ttu-id="7cef3-118">Logic Apps offers hundreds of connectors, but you can also create a custom connector.</span><span class="sxs-lookup"><span data-stu-id="7cef3-118">Logic Apps offers hundreds of connectors, but you can also create a custom connector.</span></span>

- <span data-ttu-id="7cef3-119">**IP address**: The Azure API Management service has a fixed public [IP address](../virtual-network/virtual-network-ip-addresses-overview-arm.md) and a domain name.</span><span class="sxs-lookup"><span data-stu-id="7cef3-119">**IP address**: The Azure API Management service has a fixed public [IP address](../virtual-network/virtual-network-ip-addresses-overview-arm.md) and a domain name.</span></span> <span data-ttu-id="7cef3-120">The default domain name is a subdomain of azure-api.net, for example, contoso.azure-api.net, but you can also configure [custom domains](../api-management/configure-custom-domain.md).</span><span class="sxs-lookup"><span data-stu-id="7cef3-120">The default domain name is a subdomain of azure-api.net, for example, contoso.azure-api.net, but you can also configure [custom domains](../api-management/configure-custom-domain.md).</span></span> <span data-ttu-id="7cef3-121">Logic Apps and Service Bus also have a public IP address.</span><span class="sxs-lookup"><span data-stu-id="7cef3-121">Logic Apps and Service Bus also have a public IP address.</span></span> <span data-ttu-id="7cef3-122">However, for security, this architecture restricts access for calling Logic Apps endpoints to only the IP address of API Management.</span><span class="sxs-lookup"><span data-stu-id="7cef3-122">However, for security, this architecture restricts access for calling Logic Apps endpoints to only the IP address of API Management.</span></span> <span data-ttu-id="7cef3-123">Calls to Service Bus are secured by a shared access signature (SAS).</span><span class="sxs-lookup"><span data-stu-id="7cef3-123">Calls to Service Bus are secured by a shared access signature (SAS).</span></span>

- <span data-ttu-id="7cef3-124">**Azure DNS**: [Azure DNS](https://docs.microsoft.com/azure/dns/) is a hosting service for DNS domains.</span><span class="sxs-lookup"><span data-stu-id="7cef3-124">**Azure DNS**: [Azure DNS](https://docs.microsoft.com/azure/dns/) is a hosting service for DNS domains.</span></span> <span data-ttu-id="7cef3-125">Azure DNS provides name resolution by using the Microsoft Azure infrastructure.</span><span class="sxs-lookup"><span data-stu-id="7cef3-125">Azure DNS provides name resolution by using the Microsoft Azure infrastructure.</span></span> <span data-ttu-id="7cef3-126">By hosting your domains in Azure, you can manage your DNS records by using the same credentials, APIs, tools, and billing that you use for your other Azure services.</span><span class="sxs-lookup"><span data-stu-id="7cef3-126">By hosting your domains in Azure, you can manage your DNS records by using the same credentials, APIs, tools, and billing that you use for your other Azure services.</span></span> <span data-ttu-id="7cef3-127">To use a custom domain name, such as contoso.com, create DNS records that map the custom domain name to the IP address.</span><span class="sxs-lookup"><span data-stu-id="7cef3-127">To use a custom domain name, such as contoso.com, create DNS records that map the custom domain name to the IP address.</span></span> <span data-ttu-id="7cef3-128">For more information, see [Configure a custom domain name in API Management](../api-management/configure-custom-domain.md).</span><span class="sxs-lookup"><span data-stu-id="7cef3-128">For more information, see [Configure a custom domain name in API Management](../api-management/configure-custom-domain.md).</span></span>

- <span data-ttu-id="7cef3-129">**Azure Active Directory (Azure AD)**: You can use [Azure AD](https://docs.microsoft.com/azure/active-directory/) or another identity provider for authentication.</span><span class="sxs-lookup"><span data-stu-id="7cef3-129">**Azure Active Directory (Azure AD)**: You can use [Azure AD](https://docs.microsoft.com/azure/active-directory/) or another identity provider for authentication.</span></span> <span data-ttu-id="7cef3-130">Azure AD provides authentication for accessing API endpoints by passing a [JSON Web Token for API Management](../api-management/policies/authorize-request-based-on-jwt-claims.md) to validate.</span><span class="sxs-lookup"><span data-stu-id="7cef3-130">Azure AD provides authentication for accessing API endpoints by passing a [JSON Web Token for API Management](../api-management/policies/authorize-request-based-on-jwt-claims.md) to validate.</span></span> <span data-ttu-id="7cef3-131">For Standard and Premium tiers, Azure AD can secure access to the API Management Developer portal.</span><span class="sxs-lookup"><span data-stu-id="7cef3-131">For Standard and Premium tiers, Azure AD can secure access to the API Management Developer portal.</span></span>

## <a name="patterns"></a><span data-ttu-id="7cef3-132">Patterns</span><span class="sxs-lookup"><span data-stu-id="7cef3-132">Patterns</span></span> 

<span data-ttu-id="7cef3-133">This architecture uses some patterns that are fundamental to operation:</span><span class="sxs-lookup"><span data-stu-id="7cef3-133">This architecture uses some patterns that are fundamental to operation:</span></span>

* <span data-ttu-id="7cef3-134">Composite APIs are built by using logic apps, which orchestrate calls to software as a service (SaaS) systems, Azure services, and any APIs that are published to API Management.</span><span class="sxs-lookup"><span data-stu-id="7cef3-134">Composite APIs are built by using logic apps, which orchestrate calls to software as a service (SaaS) systems, Azure services, and any APIs that are published to API Management.</span></span> <span data-ttu-id="7cef3-135">Logic apps are also [published through the API Management Developer portal](../api-management/import-logic-app-as-api.md).</span><span class="sxs-lookup"><span data-stu-id="7cef3-135">Logic apps are also [published through the API Management Developer portal](../api-management/import-logic-app-as-api.md).</span></span>

* <span data-ttu-id="7cef3-136">Applications use Azure AD for [acquiring an OAuth 2.0 security token](../api-management/api-management-howto-protect-backend-with-aad.md) that's required to gain access to an API.</span><span class="sxs-lookup"><span data-stu-id="7cef3-136">Applications use Azure AD for [acquiring an OAuth 2.0 security token](../api-management/api-management-howto-protect-backend-with-aad.md) that's required to gain access to an API.</span></span>

* <span data-ttu-id="7cef3-137">Azure API Management [validates the security token](../api-management/api-management-howto-protect-backend-with-aad.md) and then passes the request to the back-end API or logic app.</span><span class="sxs-lookup"><span data-stu-id="7cef3-137">Azure API Management [validates the security token](../api-management/api-management-howto-protect-backend-with-aad.md) and then passes the request to the back-end API or logic app.</span></span>

## <a name="recommendations"></a><span data-ttu-id="7cef3-138">Recommendations</span><span class="sxs-lookup"><span data-stu-id="7cef3-138">Recommendations</span></span>

<span data-ttu-id="7cef3-139">Your specific requirements might differ from the generic architecture that's described by this article.</span><span class="sxs-lookup"><span data-stu-id="7cef3-139">Your specific requirements might differ from the generic architecture that's described by this article.</span></span> <span data-ttu-id="7cef3-140">Use the recommendations in this section as a starting point.</span><span class="sxs-lookup"><span data-stu-id="7cef3-140">Use the recommendations in this section as a starting point.</span></span>

### <a name="azure-api-management-tier"></a><span data-ttu-id="7cef3-141">Azure API Management tier</span><span class="sxs-lookup"><span data-stu-id="7cef3-141">Azure API Management tier</span></span>

<span data-ttu-id="7cef3-142">Use the API Management Basic, Standard, or Premium tiers.</span><span class="sxs-lookup"><span data-stu-id="7cef3-142">Use the API Management Basic, Standard, or Premium tiers.</span></span> <span data-ttu-id="7cef3-143">These tiers offer a production service level agreement (SLA) and support scaleout within the Azure region.</span><span class="sxs-lookup"><span data-stu-id="7cef3-143">These tiers offer a production service level agreement (SLA) and support scaleout within the Azure region.</span></span> <span data-ttu-id="7cef3-144">The number of units varies by tier.</span><span class="sxs-lookup"><span data-stu-id="7cef3-144">The number of units varies by tier.</span></span> <span data-ttu-id="7cef3-145">The Premium tier also supports scaleout across multiple Azure regions.</span><span class="sxs-lookup"><span data-stu-id="7cef3-145">The Premium tier also supports scaleout across multiple Azure regions.</span></span> <span data-ttu-id="7cef3-146">Choose your tier based on your feature set and the level of required throughput.</span><span class="sxs-lookup"><span data-stu-id="7cef3-146">Choose your tier based on your feature set and the level of required throughput.</span></span> <span data-ttu-id="7cef3-147">For more information, see [API Management pricing](https://azure.microsoft.com/pricing/details/api-management/).</span><span class="sxs-lookup"><span data-stu-id="7cef3-147">For more information, see [API Management pricing](https://azure.microsoft.com/pricing/details/api-management/).</span></span>

<span data-ttu-id="7cef3-148">You are charged for all API Management instances when they are running.</span><span class="sxs-lookup"><span data-stu-id="7cef3-148">You are charged for all API Management instances when they are running.</span></span> <span data-ttu-id="7cef3-149">If you have scaled up and don't need that level of performance all the time, consider taking advantage of the API Management hourly billing and scale down.</span><span class="sxs-lookup"><span data-stu-id="7cef3-149">If you have scaled up and don't need that level of performance all the time, consider taking advantage of the API Management hourly billing and scale down.</span></span>

### <a name="logic-apps-pricing"></a><span data-ttu-id="7cef3-150">Logic Apps pricing</span><span class="sxs-lookup"><span data-stu-id="7cef3-150">Logic Apps pricing</span></span>

<span data-ttu-id="7cef3-151">Logic Apps uses a [serverless](../logic-apps/logic-apps-serverless-overview.md) model.</span><span class="sxs-lookup"><span data-stu-id="7cef3-151">Logic Apps uses a [serverless](../logic-apps/logic-apps-serverless-overview.md) model.</span></span> <span data-ttu-id="7cef3-152">Billing is calculated based on action and connector execution.</span><span class="sxs-lookup"><span data-stu-id="7cef3-152">Billing is calculated based on action and connector execution.</span></span> <span data-ttu-id="7cef3-153">For more information, see [Logic Apps pricing](https://azure.microsoft.com/pricing/details/logic-apps/).</span><span class="sxs-lookup"><span data-stu-id="7cef3-153">For more information, see [Logic Apps pricing](https://azure.microsoft.com/pricing/details/logic-apps/).</span></span> <span data-ttu-id="7cef3-154">Currently, there are no tier considerations for Logic Apps.</span><span class="sxs-lookup"><span data-stu-id="7cef3-154">Currently, there are no tier considerations for Logic Apps.</span></span>

### <a name="logic-apps-for-asynchronous-api-calls"></a><span data-ttu-id="7cef3-155">Logic Apps for asynchronous API calls</span><span class="sxs-lookup"><span data-stu-id="7cef3-155">Logic Apps for asynchronous API calls</span></span>

<span data-ttu-id="7cef3-156">Logic Apps works best in scenarios that don't require low latency.</span><span class="sxs-lookup"><span data-stu-id="7cef3-156">Logic Apps works best in scenarios that don't require low latency.</span></span> <span data-ttu-id="7cef3-157">For example, Logic Apps works best for asynchronous or semi long-running API calls.</span><span class="sxs-lookup"><span data-stu-id="7cef3-157">For example, Logic Apps works best for asynchronous or semi long-running API calls.</span></span> <span data-ttu-id="7cef3-158">If low latency is required, for example, a call that blocks a user interface, implement your API or operation by using a different technology.</span><span class="sxs-lookup"><span data-stu-id="7cef3-158">If low latency is required, for example, a call that blocks a user interface, implement your API or operation by using a different technology.</span></span> <span data-ttu-id="7cef3-159">For example, use Azure Functions or a Web API that you deploy by using Azure App Service.</span><span class="sxs-lookup"><span data-stu-id="7cef3-159">For example, use Azure Functions or a Web API that you deploy by using Azure App Service.</span></span> <span data-ttu-id="7cef3-160">Use API Management to front the API to your API consumers.</span><span class="sxs-lookup"><span data-stu-id="7cef3-160">Use API Management to front the API to your API consumers.</span></span>

### <a name="region"></a><span data-ttu-id="7cef3-161">Region</span><span class="sxs-lookup"><span data-stu-id="7cef3-161">Region</span></span>

<span data-ttu-id="7cef3-162">To minimize network latency, choose the same region for API Management, Logic Apps, and Service Bus.</span><span class="sxs-lookup"><span data-stu-id="7cef3-162">To minimize network latency, choose the same region for API Management, Logic Apps, and Service Bus.</span></span> <span data-ttu-id="7cef3-163">In general, choose the region that's closest to your users.</span><span class="sxs-lookup"><span data-stu-id="7cef3-163">In general, choose the region that's closest to your users.</span></span>

<span data-ttu-id="7cef3-164">The resource group also has a region.</span><span class="sxs-lookup"><span data-stu-id="7cef3-164">The resource group also has a region.</span></span> <span data-ttu-id="7cef3-165">This region specifies where to store deployment metadata and where to execute the deployment template.</span><span class="sxs-lookup"><span data-stu-id="7cef3-165">This region specifies where to store deployment metadata and where to execute the deployment template.</span></span> <span data-ttu-id="7cef3-166">To improve availability during deployment, put the resource group and resources in the same region.</span><span class="sxs-lookup"><span data-stu-id="7cef3-166">To improve availability during deployment, put the resource group and resources in the same region.</span></span>

## <a name="scalability"></a><span data-ttu-id="7cef3-167">Scalability</span><span class="sxs-lookup"><span data-stu-id="7cef3-167">Scalability</span></span>

<span data-ttu-id="7cef3-168">To increase the scalability when administering an API Management service, add [caching policies](../api-management/api-management-howto-cache.md) where appropriate.</span><span class="sxs-lookup"><span data-stu-id="7cef3-168">To increase the scalability when administering an API Management service, add [caching policies](../api-management/api-management-howto-cache.md) where appropriate.</span></span> <span data-ttu-id="7cef3-169">Caching also helps reduce the load on back-end services.</span><span class="sxs-lookup"><span data-stu-id="7cef3-169">Caching also helps reduce the load on back-end services.</span></span>

<span data-ttu-id="7cef3-170">To offer greater capacity, you can scale out Azure API Management Basic, Standard, and Premium tiers in an Azure region.</span><span class="sxs-lookup"><span data-stu-id="7cef3-170">To offer greater capacity, you can scale out Azure API Management Basic, Standard, and Premium tiers in an Azure region.</span></span> <span data-ttu-id="7cef3-171">To analyze the usage for your service, on the **Metrics** menu, select the **Capacity Metric** option and then scale up or scale down as appropriate.</span><span class="sxs-lookup"><span data-stu-id="7cef3-171">To analyze the usage for your service, on the **Metrics** menu, select the **Capacity Metric** option and then scale up or scale down as appropriate.</span></span>

<span data-ttu-id="7cef3-172">Recommendations for scaling an API Management service:</span><span class="sxs-lookup"><span data-stu-id="7cef3-172">Recommendations for scaling an API Management service:</span></span>

- <span data-ttu-id="7cef3-173">Consider traffic patterns when scaling.</span><span class="sxs-lookup"><span data-stu-id="7cef3-173">Consider traffic patterns when scaling.</span></span> <span data-ttu-id="7cef3-174">Customers with more volatile traffic patterns need more capacity.</span><span class="sxs-lookup"><span data-stu-id="7cef3-174">Customers with more volatile traffic patterns need more capacity.</span></span>

- <span data-ttu-id="7cef3-175">Consistent capacity that's greater than 66% might indicate a need to scale up.</span><span class="sxs-lookup"><span data-stu-id="7cef3-175">Consistent capacity that's greater than 66% might indicate a need to scale up.</span></span>

- <span data-ttu-id="7cef3-176">Consistent capacity that's under 20% might indicate an opportunity to scale down.</span><span class="sxs-lookup"><span data-stu-id="7cef3-176">Consistent capacity that's under 20% might indicate an opportunity to scale down.</span></span>

- <span data-ttu-id="7cef3-177">Before you enable the load in production, always load-test your API Management service with a representative load.</span><span class="sxs-lookup"><span data-stu-id="7cef3-177">Before you enable the load in production, always load-test your API Management service with a representative load.</span></span>

<span data-ttu-id="7cef3-178">You can scale out Premium tier services across multiple Azure regions.</span><span class="sxs-lookup"><span data-stu-id="7cef3-178">You can scale out Premium tier services across multiple Azure regions.</span></span> <span data-ttu-id="7cef3-179">If you deploy by scaling services across multiple Azure regions, you can gain a higher SLA (99.95% versus 99.9%) and provision services near users in multiple regions.</span><span class="sxs-lookup"><span data-stu-id="7cef3-179">If you deploy by scaling services across multiple Azure regions, you can gain a higher SLA (99.95% versus 99.9%) and provision services near users in multiple regions.</span></span>

<span data-ttu-id="7cef3-180">The Logic Apps serverless model means administrators don't have to plan for service scalability.</span><span class="sxs-lookup"><span data-stu-id="7cef3-180">The Logic Apps serverless model means administrators don't have to plan for service scalability.</span></span> <span data-ttu-id="7cef3-181">The service automatically scales to meet demand.</span><span class="sxs-lookup"><span data-stu-id="7cef3-181">The service automatically scales to meet demand.</span></span>

## <a name="availability"></a><span data-ttu-id="7cef3-182">Availability</span><span class="sxs-lookup"><span data-stu-id="7cef3-182">Availability</span></span>

* <span data-ttu-id="7cef3-183">For Basic, Standard, and Premium tiers, the service level agreement (SLA) for Azure API Management is currently 99.9%.</span><span class="sxs-lookup"><span data-stu-id="7cef3-183">For Basic, Standard, and Premium tiers, the service level agreement (SLA) for Azure API Management is currently 99.9%.</span></span> <span data-ttu-id="7cef3-184">For premium tier configurations with a deployment that has least one unit in two or more regions, the SLA is 99.95%.</span><span class="sxs-lookup"><span data-stu-id="7cef3-184">For premium tier configurations with a deployment that has least one unit in two or more regions, the SLA is 99.95%.</span></span>

* <span data-ttu-id="7cef3-185">The SLA for Azure Logic Apps is currently 99.9%.</span><span class="sxs-lookup"><span data-stu-id="7cef3-185">The SLA for Azure Logic Apps is currently 99.9%.</span></span>

### <a name="backups"></a><span data-ttu-id="7cef3-186">Backups</span><span class="sxs-lookup"><span data-stu-id="7cef3-186">Backups</span></span>

<span data-ttu-id="7cef3-187">Based on regularity of change, [regularly back up](../api-management/api-management-howto-disaster-recovery-backup-restore.md) your Azure API Management configuration.</span><span class="sxs-lookup"><span data-stu-id="7cef3-187">Based on regularity of change, [regularly back up](../api-management/api-management-howto-disaster-recovery-backup-restore.md) your Azure API Management configuration.</span></span> <span data-ttu-id="7cef3-188">Store your backup files in a location or Azure region that differs from where your service resides.</span><span class="sxs-lookup"><span data-stu-id="7cef3-188">Store your backup files in a location or Azure region that differs from where your service resides.</span></span> <span data-ttu-id="7cef3-189">You can then choose either option as your disaster recovery strategy:</span><span class="sxs-lookup"><span data-stu-id="7cef3-189">You can then choose either option as your disaster recovery strategy:</span></span>

* <span data-ttu-id="7cef3-190">In a disaster recovery event, provision a new API Management instance, restore the backup to the new instance, and repoint the DNS records.</span><span class="sxs-lookup"><span data-stu-id="7cef3-190">In a disaster recovery event, provision a new API Management instance, restore the backup to the new instance, and repoint the DNS records.</span></span>

* <span data-ttu-id="7cef3-191">Keep a passive copy of your service in another Azure region, which incurs additional cost.</span><span class="sxs-lookup"><span data-stu-id="7cef3-191">Keep a passive copy of your service in another Azure region, which incurs additional cost.</span></span> <span data-ttu-id="7cef3-192">Regularly restore backups to that copy.</span><span class="sxs-lookup"><span data-stu-id="7cef3-192">Regularly restore backups to that copy.</span></span> <span data-ttu-id="7cef3-193">To restore the service during a disaster recovery event, you need only repoint the DNS records.</span><span class="sxs-lookup"><span data-stu-id="7cef3-193">To restore the service during a disaster recovery event, you need only repoint the DNS records.</span></span>

<span data-ttu-id="7cef3-194">Because you can quickly recreate logic apps, which are serverless, back them up by saving a copy of the associated Azure Resource Manager template.</span><span class="sxs-lookup"><span data-stu-id="7cef3-194">Because you can quickly recreate logic apps, which are serverless, back them up by saving a copy of the associated Azure Resource Manager template.</span></span> <span data-ttu-id="7cef3-195">You can save templates in source control, and you can integrate templates with your continuous integration/continuous deployment (CI/CD) process.</span><span class="sxs-lookup"><span data-stu-id="7cef3-195">You can save templates in source control, and you can integrate templates with your continuous integration/continuous deployment (CI/CD) process.</span></span>

<span data-ttu-id="7cef3-196">If you published a logic app through Azure API Management, and that logic app moves to a different datacenter, update the app's location.</span><span class="sxs-lookup"><span data-stu-id="7cef3-196">If you published a logic app through Azure API Management, and that logic app moves to a different datacenter, update the app's location.</span></span> <span data-ttu-id="7cef3-197">You can update your API's **Backend** property by using a basic PowerShell script.</span><span class="sxs-lookup"><span data-stu-id="7cef3-197">You can update your API's **Backend** property by using a basic PowerShell script.</span></span>

## <a name="manageability"></a><span data-ttu-id="7cef3-198">Manageability</span><span class="sxs-lookup"><span data-stu-id="7cef3-198">Manageability</span></span>

<span data-ttu-id="7cef3-199">Create separate resource groups for production, development, and test environments.</span><span class="sxs-lookup"><span data-stu-id="7cef3-199">Create separate resource groups for production, development, and test environments.</span></span> <span data-ttu-id="7cef3-200">Separate resource groups make it easier to manage deployments, delete test deployments, and assign access rights.</span><span class="sxs-lookup"><span data-stu-id="7cef3-200">Separate resource groups make it easier to manage deployments, delete test deployments, and assign access rights.</span></span>

<span data-ttu-id="7cef3-201">When you assign resources to resource groups, consider these factors:</span><span class="sxs-lookup"><span data-stu-id="7cef3-201">When you assign resources to resource groups, consider these factors:</span></span>

* <span data-ttu-id="7cef3-202">**Lifecycle**: In general, put resources that have the same lifecycle in the same resource group.</span><span class="sxs-lookup"><span data-stu-id="7cef3-202">**Lifecycle**: In general, put resources that have the same lifecycle in the same resource group.</span></span>

* <span data-ttu-id="7cef3-203">**Access**: To apply access policies to the resources in a group, you can use [role-based access control (RBAC)](../role-based-access-control/overview.md).</span><span class="sxs-lookup"><span data-stu-id="7cef3-203">**Access**: To apply access policies to the resources in a group, you can use [role-based access control (RBAC)](../role-based-access-control/overview.md).</span></span>

* <span data-ttu-id="7cef3-204">**Billing**: You can view rollup costs for the resource group.</span><span class="sxs-lookup"><span data-stu-id="7cef3-204">**Billing**: You can view rollup costs for the resource group.</span></span>

* <span data-ttu-id="7cef3-205">**Pricing tier for API Management**: Use the Developer tier for your development and test environments.</span><span class="sxs-lookup"><span data-stu-id="7cef3-205">**Pricing tier for API Management**: Use the Developer tier for your development and test environments.</span></span> <span data-ttu-id="7cef3-206">To minimize costs during preproduction, deploy a replica of your production environment, run your tests, and then shut down.</span><span class="sxs-lookup"><span data-stu-id="7cef3-206">To minimize costs during preproduction, deploy a replica of your production environment, run your tests, and then shut down.</span></span>

<span data-ttu-id="7cef3-207">For more information, see [Azure Resource Manager overview](../azure-resource-manager/resource-group-overview.md).</span><span class="sxs-lookup"><span data-stu-id="7cef3-207">For more information, see [Azure Resource Manager overview](../azure-resource-manager/resource-group-overview.md).</span></span>

## <a name="deployment"></a><span data-ttu-id="7cef3-208">Deployment</span><span class="sxs-lookup"><span data-stu-id="7cef3-208">Deployment</span></span>

* <span data-ttu-id="7cef3-209">To deploy API Management and Logic Apps, use the [Azure Resource Manager templates](../azure-resource-manager/resource-group-authoring-templates.md).</span><span class="sxs-lookup"><span data-stu-id="7cef3-209">To deploy API Management and Logic Apps, use the [Azure Resource Manager templates](../azure-resource-manager/resource-group-authoring-templates.md).</span></span> <span data-ttu-id="7cef3-210">Templates make automating deployments easier by using PowerShell or the Azure CLI.</span><span class="sxs-lookup"><span data-stu-id="7cef3-210">Templates make automating deployments easier by using PowerShell or the Azure CLI.</span></span>

* <span data-ttu-id="7cef3-211">Put API Management and any individual logic apps in their own separate Resource Manager templates.</span><span class="sxs-lookup"><span data-stu-id="7cef3-211">Put API Management and any individual logic apps in their own separate Resource Manager templates.</span></span> <span data-ttu-id="7cef3-212">By using separate templates, you can store the resources in source control systems.</span><span class="sxs-lookup"><span data-stu-id="7cef3-212">By using separate templates, you can store the resources in source control systems.</span></span> <span data-ttu-id="7cef3-213">You can then deploy these templates together or individually as part of a continuous integration/continuous deployment (CI/CD) process.</span><span class="sxs-lookup"><span data-stu-id="7cef3-213">You can then deploy these templates together or individually as part of a continuous integration/continuous deployment (CI/CD) process.</span></span>

### <a name="versions"></a><span data-ttu-id="7cef3-214">Versions</span><span class="sxs-lookup"><span data-stu-id="7cef3-214">Versions</span></span>

<span data-ttu-id="7cef3-215">Each time you change a logic app's configuration or deploy an update through a Resource Manager template, Azure keeps a copy of that version for your convenience and keeps all versions that have a run history.</span><span class="sxs-lookup"><span data-stu-id="7cef3-215">Each time you change a logic app's configuration or deploy an update through a Resource Manager template, Azure keeps a copy of that version for your convenience and keeps all versions that have a run history.</span></span> <span data-ttu-id="7cef3-216">You can use these versions for tracking historical changes or promoting a version as the logic app's current configuration.</span><span class="sxs-lookup"><span data-stu-id="7cef3-216">You can use these versions for tracking historical changes or promoting a version as the logic app's current configuration.</span></span> <span data-ttu-id="7cef3-217">For example, you can effectively roll back a logic app.</span><span class="sxs-lookup"><span data-stu-id="7cef3-217">For example, you can effectively roll back a logic app.</span></span>

<span data-ttu-id="7cef3-218">Azure API Management has these distinct but complementary [versioning concepts](https://blogs.msdn.microsoft.com/apimanagement/2018/01/11/versions-revisions-general-availibility/):</span><span class="sxs-lookup"><span data-stu-id="7cef3-218">Azure API Management has these distinct but complementary [versioning concepts](https://blogs.msdn.microsoft.com/apimanagement/2018/01/11/versions-revisions-general-availibility/):</span></span>

* <span data-ttu-id="7cef3-219">Versions that provide your API consumers the capability to choose an API version based on their needs, for example, v1, v2, beta, or production</span><span class="sxs-lookup"><span data-stu-id="7cef3-219">Versions that provide your API consumers the capability to choose an API version based on their needs, for example, v1, v2, beta, or production</span></span>

* <span data-ttu-id="7cef3-220">Revisions that let API administrators to safely make changes in an API and then deploy those changes to users with optional commentary</span><span class="sxs-lookup"><span data-stu-id="7cef3-220">Revisions that let API administrators to safely make changes in an API and then deploy those changes to users with optional commentary</span></span>

<span data-ttu-id="7cef3-221">For deployment, consider API Management revisions as a way to safely make changes, keep a change history, and communicate those changes to your API's consumers.</span><span class="sxs-lookup"><span data-stu-id="7cef3-221">For deployment, consider API Management revisions as a way to safely make changes, keep a change history, and communicate those changes to your API's consumers.</span></span> <span data-ttu-id="7cef3-222">You can make a revision in a development environment and deploy that change in other environments by using Resource Manager templates.</span><span class="sxs-lookup"><span data-stu-id="7cef3-222">You can make a revision in a development environment and deploy that change in other environments by using Resource Manager templates.</span></span>

<span data-ttu-id="7cef3-223">Although you can use revisions for testing an API before you make those changes "current" and accessible to users, this method isn't recommended for load or integration testing.</span><span class="sxs-lookup"><span data-stu-id="7cef3-223">Although you can use revisions for testing an API before you make those changes "current" and accessible to users, this method isn't recommended for load or integration testing.</span></span> <span data-ttu-id="7cef3-224">Instead, use separate test or preproduction environments.</span><span class="sxs-lookup"><span data-stu-id="7cef3-224">Instead, use separate test or preproduction environments.</span></span>

### <a name="configuration-and-sensitive-information"></a><span data-ttu-id="7cef3-225">Configuration and sensitive information</span><span class="sxs-lookup"><span data-stu-id="7cef3-225">Configuration and sensitive information</span></span>

<span data-ttu-id="7cef3-226">Never check passwords, access keys, or connection strings into source control.</span><span class="sxs-lookup"><span data-stu-id="7cef3-226">Never check passwords, access keys, or connection strings into source control.</span></span> <span data-ttu-id="7cef3-227">If these values are required, secure and deploy these values by using the appropriate techniques.</span><span class="sxs-lookup"><span data-stu-id="7cef3-227">If these values are required, secure and deploy these values by using the appropriate techniques.</span></span> 

<span data-ttu-id="7cef3-228">In Logic Apps, if a logic app requires any sensitive values that you can't create within a connection, store those values in Azure Key Vault and reference them from a Resource Manager template.</span><span class="sxs-lookup"><span data-stu-id="7cef3-228">In Logic Apps, if a logic app requires any sensitive values that you can't create within a connection, store those values in Azure Key Vault and reference them from a Resource Manager template.</span></span> <span data-ttu-id="7cef3-229">Use deployment template parameters and parameter files for each environment.</span><span class="sxs-lookup"><span data-stu-id="7cef3-229">Use deployment template parameters and parameter files for each environment.</span></span> <span data-ttu-id="7cef3-230">For more information, see [Securing parameters and inputs within a workflow](../logic-apps/logic-apps-securing-a-logic-app.md#secure-parameters-and-inputs-within-a-workflow).</span><span class="sxs-lookup"><span data-stu-id="7cef3-230">For more information, see [Securing parameters and inputs within a workflow](../logic-apps/logic-apps-securing-a-logic-app.md#secure-parameters-and-inputs-within-a-workflow).</span></span>

<span data-ttu-id="7cef3-231">API Management manages secrets by using objects called *named values* or *properties*.</span><span class="sxs-lookup"><span data-stu-id="7cef3-231">API Management manages secrets by using objects called *named values* or *properties*.</span></span> <span data-ttu-id="7cef3-232">These objects securely store values that you can access through API Management policies.</span><span class="sxs-lookup"><span data-stu-id="7cef3-232">These objects securely store values that you can access through API Management policies.</span></span> <span data-ttu-id="7cef3-233">For more information, see [Manage secrets in API Management](../api-management/api-management-howto-properties.md).</span><span class="sxs-lookup"><span data-stu-id="7cef3-233">For more information, see [Manage secrets in API Management](../api-management/api-management-howto-properties.md).</span></span>

## <a name="diagnostics-and-monitoring"></a><span data-ttu-id="7cef3-234">Diagnostics and monitoring</span><span class="sxs-lookup"><span data-stu-id="7cef3-234">Diagnostics and monitoring</span></span>

<span data-ttu-id="7cef3-235">You can use [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview-azure-monitor.md) for operational monitoring in both [API Management](../api-management/api-management-howto-use-azure-monitor.md) and [Logic Apps](../logic-apps/logic-apps-monitor-your-logic-apps.md).</span><span class="sxs-lookup"><span data-stu-id="7cef3-235">You can use [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview-azure-monitor.md) for operational monitoring in both [API Management](../api-management/api-management-howto-use-azure-monitor.md) and [Logic Apps](../logic-apps/logic-apps-monitor-your-logic-apps.md).</span></span> <span data-ttu-id="7cef3-236">Azure Monitor provides information based on the metrics configured for each service and is enabled by default.</span><span class="sxs-lookup"><span data-stu-id="7cef3-236">Azure Monitor provides information based on the metrics configured for each service and is enabled by default.</span></span>

<span data-ttu-id="7cef3-237">Each service also has these options:</span><span class="sxs-lookup"><span data-stu-id="7cef3-237">Each service also has these options:</span></span>

* <span data-ttu-id="7cef3-238">For deeper analysis and dashboarding, you can send Logic Apps logs to [Azure Log Analytics](logic-apps-monitor-your-logic-apps-oms.md).</span><span class="sxs-lookup"><span data-stu-id="7cef3-238">For deeper analysis and dashboarding, you can send Logic Apps logs to [Azure Log Analytics](logic-apps-monitor-your-logic-apps-oms.md).</span></span>

* <span data-ttu-id="7cef3-239">For DevOps monitoring, you can configure Azure Application Insights for API Management.</span><span class="sxs-lookup"><span data-stu-id="7cef3-239">For DevOps monitoring, you can configure Azure Application Insights for API Management.</span></span>

* <span data-ttu-id="7cef3-240">API Management supports the [Power BI solution template for custom API analytics](http://aka.ms/apimpbi).</span><span class="sxs-lookup"><span data-stu-id="7cef3-240">API Management supports the [Power BI solution template for custom API analytics](http://aka.ms/apimpbi).</span></span> <span data-ttu-id="7cef3-241">You can use this solution template for creating your own analytics solution.</span><span class="sxs-lookup"><span data-stu-id="7cef3-241">You can use this solution template for creating your own analytics solution.</span></span> <span data-ttu-id="7cef3-242">For business users, Power BI makes reports available.</span><span class="sxs-lookup"><span data-stu-id="7cef3-242">For business users, Power BI makes reports available.</span></span>

## <a name="security"></a><span data-ttu-id="7cef3-243">Security</span><span class="sxs-lookup"><span data-stu-id="7cef3-243">Security</span></span>

<span data-ttu-id="7cef3-244">Although this list doesn't completely describe all security best practices, here are some security considerations that apply specifically to the Azure services deployed in the architecture that's described by this article:</span><span class="sxs-lookup"><span data-stu-id="7cef3-244">Although this list doesn't completely describe all security best practices, here are some security considerations that apply specifically to the Azure services deployed in the architecture that's described by this article:</span></span>

* <span data-ttu-id="7cef3-245">To make sure users have appropriate access levels, use role-based access control (RBAC).</span><span class="sxs-lookup"><span data-stu-id="7cef3-245">To make sure users have appropriate access levels, use role-based access control (RBAC).</span></span>

* <span data-ttu-id="7cef3-246">Secure public API endpoints in API Management by using OAuth or OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="7cef3-246">Secure public API endpoints in API Management by using OAuth or OpenID Connect.</span></span> <span data-ttu-id="7cef3-247">To secure public API endpoints, configure an identity provider, and add a JSON Web Token (JWT) validation policy.</span><span class="sxs-lookup"><span data-stu-id="7cef3-247">To secure public API endpoints, configure an identity provider, and add a JSON Web Token (JWT) validation policy.</span></span>

* <span data-ttu-id="7cef3-248">Connect to back-end services from API Management by using mutual certificates.</span><span class="sxs-lookup"><span data-stu-id="7cef3-248">Connect to back-end services from API Management by using mutual certificates.</span></span>

* <span data-ttu-id="7cef3-249">Secure HTTP trigger-based logic apps by creating an IP address whitelist that points to the API Management IP address.</span><span class="sxs-lookup"><span data-stu-id="7cef3-249">Secure HTTP trigger-based logic apps by creating an IP address whitelist that points to the API Management IP address.</span></span> <span data-ttu-id="7cef3-250">A whitelisted IP address prevents calling the logic app from the public internet without first going through API Management.</span><span class="sxs-lookup"><span data-stu-id="7cef3-250">A whitelisted IP address prevents calling the logic app from the public internet without first going through API Management.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7cef3-251">Next steps</span><span class="sxs-lookup"><span data-stu-id="7cef3-251">Next steps</span></span>

* <span data-ttu-id="7cef3-252">Learn about [enterprise integration with queues and events](../logic-apps/logic-apps-architectures-enterprise-integration-with-queues-events.md)</span><span class="sxs-lookup"><span data-stu-id="7cef3-252">Learn about [enterprise integration with queues and events](../logic-apps/logic-apps-architectures-enterprise-integration-with-queues-events.md)</span></span>
