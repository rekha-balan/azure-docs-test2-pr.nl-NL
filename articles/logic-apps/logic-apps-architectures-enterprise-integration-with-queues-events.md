---
title: Enterprise integration architecture pattern - Azure Integration Services
description: This architecture reference shows how you can implement an enterprise integration pattern with Azure Logic Apps, Azure API Management, Azure Service Bus, and Azure Event Grid
services: logic-apps
ms.service: logic-apps
ms.suite: integration
author: mattfarm
ms.author: mattfarm
ms.reviewer: jonfan, estfan, LADocs
ms.topic: article
ms.date: 06/15/2018
ms.openlocfilehash: 2ffb1f7edef0cf92cbbf7adc4314967858bcfeb1
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44865732"
---
# <a name="enterprise-integration-architecture-with-queues-and-events"></a><span data-ttu-id="e2546-103">Enterprise integration architecture with queues and events</span><span class="sxs-lookup"><span data-stu-id="e2546-103">Enterprise integration architecture with queues and events</span></span>

<span data-ttu-id="e2546-104">This article describes an enterprise integration architecture that uses proven practices you can apply to an integration application when using Azure Integration Services.</span><span class="sxs-lookup"><span data-stu-id="e2546-104">This article describes an enterprise integration architecture that uses proven practices you can apply to an integration application when using Azure Integration Services.</span></span> <span data-ttu-id="e2546-105">You can use this architecture as the basis for many different application patterns that require HTTP APIs, workflow, and orchestration.</span><span class="sxs-lookup"><span data-stu-id="e2546-105">You can use this architecture as the basis for many different application patterns that require HTTP APIs, workflow, and orchestration.</span></span>

![Architecture diagram - Enterprise integration with queues and events](media/logic-apps-architectures-enterprise-integration-with-queues-events/integr_queues_events_arch_diagram.png)

<span data-ttu-id="e2546-107">This series describes the reusable component parts that might apply to building a generic integration application.</span><span class="sxs-lookup"><span data-stu-id="e2546-107">This series describes the reusable component parts that might apply to building a generic integration application.</span></span> <span data-ttu-id="e2546-108">Because integration technology has many possible applications, ranging from simple point-to-point apps to full enterprise Azure Service Bus apps, consider which components you need to implement for your apps and infrastructure.</span><span class="sxs-lookup"><span data-stu-id="e2546-108">Because integration technology has many possible applications, ranging from simple point-to-point apps to full enterprise Azure Service Bus apps, consider which components you need to implement for your apps and infrastructure.</span></span>

## <a name="architecture-components"></a><span data-ttu-id="e2546-109">Architecture components</span><span class="sxs-lookup"><span data-stu-id="e2546-109">Architecture components</span></span>

<span data-ttu-id="e2546-110">This architecture builds on the architecture described in the article, [Architecture reference: Simple enterprise integration](../logic-apps/logic-apps-architectures-simple-enterprise-integration.md).</span><span class="sxs-lookup"><span data-stu-id="e2546-110">This architecture builds on the architecture described in the article, [Architecture reference: Simple enterprise integration](../logic-apps/logic-apps-architectures-simple-enterprise-integration.md).</span></span> <span data-ttu-id="e2546-111">That architecture's [recommendations](../logic-apps/logic-apps-architectures-simple-enterprise-integration.md#recommendations) also apply here, but for brevity, this article omits those recommendations from the [Recommendations](#recommendations) section.</span><span class="sxs-lookup"><span data-stu-id="e2546-111">That architecture's [recommendations](../logic-apps/logic-apps-architectures-simple-enterprise-integration.md#recommendations) also apply here, but for brevity, this article omits those recommendations from the [Recommendations](#recommendations) section.</span></span> <span data-ttu-id="e2546-112">This enterprise integration architecture includes these components:</span><span class="sxs-lookup"><span data-stu-id="e2546-112">This enterprise integration architecture includes these components:</span></span>

- <span data-ttu-id="e2546-113">**Resource group**: A [resource group](../azure-resource-manager/resource-group-overview.md) is a logical container for Azure resources.</span><span class="sxs-lookup"><span data-stu-id="e2546-113">**Resource group**: A [resource group](../azure-resource-manager/resource-group-overview.md) is a logical container for Azure resources.</span></span>

- <span data-ttu-id="e2546-114">**Azure API Management**: The [API Management](https://docs.microsoft.com/azure/api-management/) service is a fully managed platform for publishing, securing, and transforming HTTP APIs.</span><span class="sxs-lookup"><span data-stu-id="e2546-114">**Azure API Management**: The [API Management](https://docs.microsoft.com/azure/api-management/) service is a fully managed platform for publishing, securing, and transforming HTTP APIs.</span></span>

- <span data-ttu-id="e2546-115">**Azure API Management Developer portal**: Each instance of Azure API Management provides access to the [Developer portal](../api-management/api-management-customize-styles.md).</span><span class="sxs-lookup"><span data-stu-id="e2546-115">**Azure API Management Developer portal**: Each instance of Azure API Management provides access to the [Developer portal](../api-management/api-management-customize-styles.md).</span></span> <span data-ttu-id="e2546-116">This portal gives you access to documentation and code samples.</span><span class="sxs-lookup"><span data-stu-id="e2546-116">This portal gives you access to documentation and code samples.</span></span> <span data-ttu-id="e2546-117">You can also test APIs in the Developer portal.</span><span class="sxs-lookup"><span data-stu-id="e2546-117">You can also test APIs in the Developer portal.</span></span>

- <span data-ttu-id="e2546-118">**Azure Logic Apps**: [Logic Apps](../logic-apps/logic-apps-overview.md) is a serverless platform for building enterprise workflows and integrations.</span><span class="sxs-lookup"><span data-stu-id="e2546-118">**Azure Logic Apps**: [Logic Apps](../logic-apps/logic-apps-overview.md) is a serverless platform for building enterprise workflows and integrations.</span></span>

- <span data-ttu-id="e2546-119">**Connectors**: Logic Apps uses [connectors](../connectors/apis-list.md) for connecting to commonly used services.</span><span class="sxs-lookup"><span data-stu-id="e2546-119">**Connectors**: Logic Apps uses [connectors](../connectors/apis-list.md) for connecting to commonly used services.</span></span> <span data-ttu-id="e2546-120">Logic Apps offers hundreds of connectors, but you can also create a custom connector.</span><span class="sxs-lookup"><span data-stu-id="e2546-120">Logic Apps offers hundreds of connectors, but you can also create a custom connector.</span></span>

- <span data-ttu-id="e2546-121">**Azure Service Bus**: [Service Bus](../service-bus-messaging/service-bus-messaging-overview.md) provides secure and reliable messaging.</span><span class="sxs-lookup"><span data-stu-id="e2546-121">**Azure Service Bus**: [Service Bus](../service-bus-messaging/service-bus-messaging-overview.md) provides secure and reliable messaging.</span></span> <span data-ttu-id="e2546-122">You can use messaging for decoupling applications and integrating with other message-based systems.</span><span class="sxs-lookup"><span data-stu-id="e2546-122">You can use messaging for decoupling applications and integrating with other message-based systems.</span></span>

- <span data-ttu-id="e2546-123">**Azure Event Grid**: [Event Grid](../event-grid/overview.md) is a serverless platform for publishing and delivering application events.</span><span class="sxs-lookup"><span data-stu-id="e2546-123">**Azure Event Grid**: [Event Grid](../event-grid/overview.md) is a serverless platform for publishing and delivering application events.</span></span>

- <span data-ttu-id="e2546-124">**IP address**: The Azure API Management service has a fixed public [IP address](../virtual-network/virtual-network-ip-addresses-overview-arm.md) and a domain name.</span><span class="sxs-lookup"><span data-stu-id="e2546-124">**IP address**: The Azure API Management service has a fixed public [IP address](../virtual-network/virtual-network-ip-addresses-overview-arm.md) and a domain name.</span></span> <span data-ttu-id="e2546-125">The default domain name is a subdomain of azure-api.net, for example, contoso.azure-api.net, but you can also configure [custom domains](../api-management/configure-custom-domain.md).</span><span class="sxs-lookup"><span data-stu-id="e2546-125">The default domain name is a subdomain of azure-api.net, for example, contoso.azure-api.net, but you can also configure [custom domains](../api-management/configure-custom-domain.md).</span></span> <span data-ttu-id="e2546-126">Logic Apps and Service Bus also have a public IP address.</span><span class="sxs-lookup"><span data-stu-id="e2546-126">Logic Apps and Service Bus also have a public IP address.</span></span> <span data-ttu-id="e2546-127">However, for security, this architecture restricts access for calling Logic Apps endpoints to only the IP address of API Management.</span><span class="sxs-lookup"><span data-stu-id="e2546-127">However, for security, this architecture restricts access for calling Logic Apps endpoints to only the IP address of API Management.</span></span> <span data-ttu-id="e2546-128">Calls to Service Bus are secured by a shared access signature (SAS).</span><span class="sxs-lookup"><span data-stu-id="e2546-128">Calls to Service Bus are secured by a shared access signature (SAS).</span></span>

- <span data-ttu-id="e2546-129">**Azure DNS**: [Azure DNS](https://docs.microsoft.com/azure/dns/) is a hosting service for DNS domains.</span><span class="sxs-lookup"><span data-stu-id="e2546-129">**Azure DNS**: [Azure DNS](https://docs.microsoft.com/azure/dns/) is a hosting service for DNS domains.</span></span> <span data-ttu-id="e2546-130">Azure DNS provides name resolution by using the Microsoft Azure infrastructure.</span><span class="sxs-lookup"><span data-stu-id="e2546-130">Azure DNS provides name resolution by using the Microsoft Azure infrastructure.</span></span> <span data-ttu-id="e2546-131">By hosting your domains in Azure, you can manage your DNS records by using the same credentials, APIs, tools, and billing that you use for your other Azure services.</span><span class="sxs-lookup"><span data-stu-id="e2546-131">By hosting your domains in Azure, you can manage your DNS records by using the same credentials, APIs, tools, and billing that you use for your other Azure services.</span></span> <span data-ttu-id="e2546-132">To use a custom domain name, such as contoso.com, create DNS records that map the custom domain name to the IP address.</span><span class="sxs-lookup"><span data-stu-id="e2546-132">To use a custom domain name, such as contoso.com, create DNS records that map the custom domain name to the IP address.</span></span> <span data-ttu-id="e2546-133">For more information, see [Configure a custom domain name in API Management](../api-management/configure-custom-domain.md).</span><span class="sxs-lookup"><span data-stu-id="e2546-133">For more information, see [Configure a custom domain name in API Management](../api-management/configure-custom-domain.md).</span></span>

- <span data-ttu-id="e2546-134">**Azure Active Directory (Azure AD)**: You can use [Azure AD](https://docs.microsoft.com/azure/active-directory/) or another identity provider for authentication.</span><span class="sxs-lookup"><span data-stu-id="e2546-134">**Azure Active Directory (Azure AD)**: You can use [Azure AD](https://docs.microsoft.com/azure/active-directory/) or another identity provider for authentication.</span></span> <span data-ttu-id="e2546-135">Azure AD provides authentication for accessing API endpoints by passing a [JSON Web Token for API Management](../api-management/policies/authorize-request-based-on-jwt-claims.md) to validate.</span><span class="sxs-lookup"><span data-stu-id="e2546-135">Azure AD provides authentication for accessing API endpoints by passing a [JSON Web Token for API Management](../api-management/policies/authorize-request-based-on-jwt-claims.md) to validate.</span></span> <span data-ttu-id="e2546-136">For Standard and Premium tiers, Azure AD can secure access to the API Management Developer portal.</span><span class="sxs-lookup"><span data-stu-id="e2546-136">For Standard and Premium tiers, Azure AD can secure access to the API Management Developer portal.</span></span>

## <a name="patterns"></a><span data-ttu-id="e2546-137">Patterns</span><span class="sxs-lookup"><span data-stu-id="e2546-137">Patterns</span></span> 

<span data-ttu-id="e2546-138">This architecture uses some patterns that are fundamental to operation:</span><span class="sxs-lookup"><span data-stu-id="e2546-138">This architecture uses some patterns that are fundamental to operation:</span></span>

* <span data-ttu-id="e2546-139">Existing back-end HTTP APIs are published through the API Management Developer portal.</span><span class="sxs-lookup"><span data-stu-id="e2546-139">Existing back-end HTTP APIs are published through the API Management Developer portal.</span></span> <span data-ttu-id="e2546-140">In the portal, developers, who are either internal to your organization, external, or both,</span><span class="sxs-lookup"><span data-stu-id="e2546-140">In the portal, developers, who are either internal to your organization, external, or both,</span></span>  
<span data-ttu-id="e2546-141">can integrate calls to these APIs into applications.</span><span class="sxs-lookup"><span data-stu-id="e2546-141">can integrate calls to these APIs into applications.</span></span>

* <span data-ttu-id="e2546-142">Composite APIs are built by using logic apps, which orchestrate calls to software as a service (SaaS) systems, Azure services, and any APIs that are published to API Management.</span><span class="sxs-lookup"><span data-stu-id="e2546-142">Composite APIs are built by using logic apps, which orchestrate calls to software as a service (SaaS) systems, Azure services, and any APIs that are published to API Management.</span></span> <span data-ttu-id="e2546-143">Logic apps are also [published through the API Management Developer portal](../api-management/import-logic-app-as-api.md).</span><span class="sxs-lookup"><span data-stu-id="e2546-143">Logic apps are also [published through the API Management Developer portal](../api-management/import-logic-app-as-api.md).</span></span>

* <span data-ttu-id="e2546-144">Applications use Azure AD for [acquiring an OAuth 2.0 security token](../api-management/api-management-howto-protect-backend-with-aad.md) that's required to gain access to an API.</span><span class="sxs-lookup"><span data-stu-id="e2546-144">Applications use Azure AD for [acquiring an OAuth 2.0 security token](../api-management/api-management-howto-protect-backend-with-aad.md) that's required to gain access to an API.</span></span>

* <span data-ttu-id="e2546-145">Azure API Management [validates the security token](../api-management/api-management-howto-protect-backend-with-aad.md) and then passes the request to the back-end API or logic app.</span><span class="sxs-lookup"><span data-stu-id="e2546-145">Azure API Management [validates the security token](../api-management/api-management-howto-protect-backend-with-aad.md) and then passes the request to the back-end API or logic app.</span></span>

* <span data-ttu-id="e2546-146">Azure Service Bus queues are used for [decoupling](../service-bus-messaging/service-bus-messaging-overview.md) application activity and for [smoothing spikes in load](https://docs.microsoft.com/azure/architecture/patterns/queue-based-load-leveling).</span><span class="sxs-lookup"><span data-stu-id="e2546-146">Azure Service Bus queues are used for [decoupling](../service-bus-messaging/service-bus-messaging-overview.md) application activity and for [smoothing spikes in load](https://docs.microsoft.com/azure/architecture/patterns/queue-based-load-leveling).</span></span> <span data-ttu-id="e2546-147">Messages are added to queues by logic apps, third-party apps, or (not shown) by publishing the queue as an HTTP API through API Management.</span><span class="sxs-lookup"><span data-stu-id="e2546-147">Messages are added to queues by logic apps, third-party apps, or (not shown) by publishing the queue as an HTTP API through API Management.</span></span>

* <span data-ttu-id="e2546-148">When messages are added to a Service Bus queue, an event fires.</span><span class="sxs-lookup"><span data-stu-id="e2546-148">When messages are added to a Service Bus queue, an event fires.</span></span> <span data-ttu-id="e2546-149">The event triggers a logic app, which then processes the message.</span><span class="sxs-lookup"><span data-stu-id="e2546-149">The event triggers a logic app, which then processes the message.</span></span>

* <span data-ttu-id="e2546-150">Other Azure services, such as Azure Blob Storage and Azure Event Hubs, also publish events to Event Grid.</span><span class="sxs-lookup"><span data-stu-id="e2546-150">Other Azure services, such as Azure Blob Storage and Azure Event Hubs, also publish events to Event Grid.</span></span> <span data-ttu-id="e2546-151">These services trigger logic apps to receive the event and then perform subsequent actions.</span><span class="sxs-lookup"><span data-stu-id="e2546-151">These services trigger logic apps to receive the event and then perform subsequent actions.</span></span>

## <a name="recommendations"></a><span data-ttu-id="e2546-152">Recommendations</span><span class="sxs-lookup"><span data-stu-id="e2546-152">Recommendations</span></span>

<span data-ttu-id="e2546-153">Your specific requirements might differ from the generic architecture that's described by this article.</span><span class="sxs-lookup"><span data-stu-id="e2546-153">Your specific requirements might differ from the generic architecture that's described by this article.</span></span> <span data-ttu-id="e2546-154">Use the recommendations in this section as a starting point.</span><span class="sxs-lookup"><span data-stu-id="e2546-154">Use the recommendations in this section as a starting point.</span></span>

### <a name="service-bus-tier"></a><span data-ttu-id="e2546-155">Service Bus tier</span><span class="sxs-lookup"><span data-stu-id="e2546-155">Service Bus tier</span></span>

<span data-ttu-id="e2546-156">Use the Service Bus Premium tier, which supports Event Grid notifications.</span><span class="sxs-lookup"><span data-stu-id="e2546-156">Use the Service Bus Premium tier, which supports Event Grid notifications.</span></span> <span data-ttu-id="e2546-157">For more information, see [Service Bus pricing](https://azure.microsoft.com/pricing/details/service-bus/).</span><span class="sxs-lookup"><span data-stu-id="e2546-157">For more information, see [Service Bus pricing](https://azure.microsoft.com/pricing/details/service-bus/).</span></span>

### <a name="event-grid-pricing"></a><span data-ttu-id="e2546-158">Event Grid pricing</span><span class="sxs-lookup"><span data-stu-id="e2546-158">Event Grid pricing</span></span>

<span data-ttu-id="e2546-159">Event Grid uses a serverless model.</span><span class="sxs-lookup"><span data-stu-id="e2546-159">Event Grid uses a serverless model.</span></span> <span data-ttu-id="e2546-160">Billing is calculated based on the number of operations (event executions).</span><span class="sxs-lookup"><span data-stu-id="e2546-160">Billing is calculated based on the number of operations (event executions).</span></span> <span data-ttu-id="e2546-161">For more information, see [Event Grid pricing](https://azure.microsoft.com/pricing/details/event-grid/).</span><span class="sxs-lookup"><span data-stu-id="e2546-161">For more information, see [Event Grid pricing](https://azure.microsoft.com/pricing/details/event-grid/).</span></span> <span data-ttu-id="e2546-162">Currently, there are no tier considerations for Event Grid.</span><span class="sxs-lookup"><span data-stu-id="e2546-162">Currently, there are no tier considerations for Event Grid.</span></span>

### <a name="use-peeklock-to-consume-service-bus-messages"></a><span data-ttu-id="e2546-163">Use PeekLock to consume Service Bus messages</span><span class="sxs-lookup"><span data-stu-id="e2546-163">Use PeekLock to consume Service Bus messages</span></span>

<span data-ttu-id="e2546-164">When you create a logic app to consume Service Bus messages, have your logic app use [PeekLock](../service-bus-messaging/service-bus-fundamentals-hybrid-solutions.md#queues) for accessing a group of messages.</span><span class="sxs-lookup"><span data-stu-id="e2546-164">When you create a logic app to consume Service Bus messages, have your logic app use [PeekLock](../service-bus-messaging/service-bus-fundamentals-hybrid-solutions.md#queues) for accessing a group of messages.</span></span> <span data-ttu-id="e2546-165">When you use PeekLock, the logic app can perform steps to validate each message before completing or abandoning the message.</span><span class="sxs-lookup"><span data-stu-id="e2546-165">When you use PeekLock, the logic app can perform steps to validate each message before completing or abandoning the message.</span></span> <span data-ttu-id="e2546-166">This approach protects against accidental message loss.</span><span class="sxs-lookup"><span data-stu-id="e2546-166">This approach protects against accidental message loss.</span></span>

### <a name="check-for-multiple-objects-when-an-event-grid-trigger-fires"></a><span data-ttu-id="e2546-167">Check for multiple objects when an Event Grid trigger fires</span><span class="sxs-lookup"><span data-stu-id="e2546-167">Check for multiple objects when an Event Grid trigger fires</span></span>

<span data-ttu-id="e2546-168">When an Event Grid trigger fires, this action simply means that "at least one of these things happened."</span><span class="sxs-lookup"><span data-stu-id="e2546-168">When an Event Grid trigger fires, this action simply means that "at least one of these things happened."</span></span> <span data-ttu-id="e2546-169">For example, when Event Grid triggers a logic app on a message that appears in a Service Bus queue, the logic app should always assume that there might be one or more messages available to process.</span><span class="sxs-lookup"><span data-stu-id="e2546-169">For example, when Event Grid triggers a logic app on a message that appears in a Service Bus queue, the logic app should always assume that there might be one or more messages available to process.</span></span>

### <a name="region"></a><span data-ttu-id="e2546-170">Region</span><span class="sxs-lookup"><span data-stu-id="e2546-170">Region</span></span>

<span data-ttu-id="e2546-171">To minimize network latency, choose the same region for API Management, Logic Apps, and Service Bus.</span><span class="sxs-lookup"><span data-stu-id="e2546-171">To minimize network latency, choose the same region for API Management, Logic Apps, and Service Bus.</span></span> <span data-ttu-id="e2546-172">In general, choose the region that's closest to your users.</span><span class="sxs-lookup"><span data-stu-id="e2546-172">In general, choose the region that's closest to your users.</span></span>

<span data-ttu-id="e2546-173">The resource group also has a region.</span><span class="sxs-lookup"><span data-stu-id="e2546-173">The resource group also has a region.</span></span> <span data-ttu-id="e2546-174">This region specifies where to store deployment metadata and where to execute the deployment template.</span><span class="sxs-lookup"><span data-stu-id="e2546-174">This region specifies where to store deployment metadata and where to execute the deployment template.</span></span> <span data-ttu-id="e2546-175">To improve availability during deployment, put the resource group and resources in the same region.</span><span class="sxs-lookup"><span data-stu-id="e2546-175">To improve availability during deployment, put the resource group and resources in the same region.</span></span>

## <a name="scalability"></a><span data-ttu-id="e2546-176">Scalability</span><span class="sxs-lookup"><span data-stu-id="e2546-176">Scalability</span></span>

<span data-ttu-id="e2546-177">To achieve higher scalability, the Service Bus Premium tier can scale out the number of messaging units.</span><span class="sxs-lookup"><span data-stu-id="e2546-177">To achieve higher scalability, the Service Bus Premium tier can scale out the number of messaging units.</span></span> <span data-ttu-id="e2546-178">Premium tier configurations can have one, two, or four messaging units.</span><span class="sxs-lookup"><span data-stu-id="e2546-178">Premium tier configurations can have one, two, or four messaging units.</span></span> <span data-ttu-id="e2546-179">For more information about scaling Service Bus, see [Best practices for performance improvements by using Service Bus Messaging](../service-bus-messaging/service-bus-performance-improvements.md).</span><span class="sxs-lookup"><span data-stu-id="e2546-179">For more information about scaling Service Bus, see [Best practices for performance improvements by using Service Bus Messaging](../service-bus-messaging/service-bus-performance-improvements.md).</span></span>

## <a name="availability"></a><span data-ttu-id="e2546-180">Availability</span><span class="sxs-lookup"><span data-stu-id="e2546-180">Availability</span></span>

* <span data-ttu-id="e2546-181">For Basic, Standard, and Premium tiers, the service level agreement (SLA) for Azure API Management is currently 99.9%.</span><span class="sxs-lookup"><span data-stu-id="e2546-181">For Basic, Standard, and Premium tiers, the service level agreement (SLA) for Azure API Management is currently 99.9%.</span></span> <span data-ttu-id="e2546-182">For premium tier configurations with a deployment that has least one unit in two or more regions, the SLA is 99.95%.</span><span class="sxs-lookup"><span data-stu-id="e2546-182">For premium tier configurations with a deployment that has least one unit in two or more regions, the SLA is 99.95%.</span></span>

* <span data-ttu-id="e2546-183">The SLA for Azure Logic Apps is currently 99.9%.</span><span class="sxs-lookup"><span data-stu-id="e2546-183">The SLA for Azure Logic Apps is currently 99.9%.</span></span>

### <a name="disaster-recovery"></a><span data-ttu-id="e2546-184">Disaster recovery</span><span class="sxs-lookup"><span data-stu-id="e2546-184">Disaster recovery</span></span>

<span data-ttu-id="e2546-185">To enable failover if a serious outage occurs, consider implementing geo-disaster recovery in Service Bus Premium.</span><span class="sxs-lookup"><span data-stu-id="e2546-185">To enable failover if a serious outage occurs, consider implementing geo-disaster recovery in Service Bus Premium.</span></span> <span data-ttu-id="e2546-186">For more information, see [Azure Service Bus geo-disaster recovery](../service-bus-messaging/service-bus-geo-dr.md).</span><span class="sxs-lookup"><span data-stu-id="e2546-186">For more information, see [Azure Service Bus geo-disaster recovery](../service-bus-messaging/service-bus-geo-dr.md).</span></span>

## <a name="manageability"></a><span data-ttu-id="e2546-187">Manageability</span><span class="sxs-lookup"><span data-stu-id="e2546-187">Manageability</span></span>

<span data-ttu-id="e2546-188">Create separate resource groups for production, development, and test environments.</span><span class="sxs-lookup"><span data-stu-id="e2546-188">Create separate resource groups for production, development, and test environments.</span></span> <span data-ttu-id="e2546-189">Separate resource groups make it easier to manage deployments, delete test deployments, and assign access rights.</span><span class="sxs-lookup"><span data-stu-id="e2546-189">Separate resource groups make it easier to manage deployments, delete test deployments, and assign access rights.</span></span>

<span data-ttu-id="e2546-190">When you assign resources to resource groups, consider these factors:</span><span class="sxs-lookup"><span data-stu-id="e2546-190">When you assign resources to resource groups, consider these factors:</span></span>

* <span data-ttu-id="e2546-191">**Lifecycle**: In general, put resources that have the same lifecycle in the same resource group.</span><span class="sxs-lookup"><span data-stu-id="e2546-191">**Lifecycle**: In general, put resources that have the same lifecycle in the same resource group.</span></span>

* <span data-ttu-id="e2546-192">**Access**: To apply access policies to the resources in a group, you can use [role-based access control (RBAC)](../role-based-access-control/overview.md).</span><span class="sxs-lookup"><span data-stu-id="e2546-192">**Access**: To apply access policies to the resources in a group, you can use [role-based access control (RBAC)](../role-based-access-control/overview.md).</span></span>

* <span data-ttu-id="e2546-193">**Billing**: You can view rollup costs for the resource group.</span><span class="sxs-lookup"><span data-stu-id="e2546-193">**Billing**: You can view rollup costs for the resource group.</span></span>

* <span data-ttu-id="e2546-194">**Pricing tier for API Management**: Use the Developer tier for your development and test environments.</span><span class="sxs-lookup"><span data-stu-id="e2546-194">**Pricing tier for API Management**: Use the Developer tier for your development and test environments.</span></span> <span data-ttu-id="e2546-195">To minimize costs during preproduction, deploy a replica of your production environment, run your tests, and then shut down.</span><span class="sxs-lookup"><span data-stu-id="e2546-195">To minimize costs during preproduction, deploy a replica of your production environment, run your tests, and then shut down.</span></span>

<span data-ttu-id="e2546-196">For more information, see [Azure Resource Manager overview](../azure-resource-manager/resource-group-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e2546-196">For more information, see [Azure Resource Manager overview](../azure-resource-manager/resource-group-overview.md).</span></span>

## <a name="deployment"></a><span data-ttu-id="e2546-197">Deployment</span><span class="sxs-lookup"><span data-stu-id="e2546-197">Deployment</span></span>

* <span data-ttu-id="e2546-198">To deploy API Management, Logic Apps, Event Grid, and Service Bus, use the [Azure Resource Manager templates](../azure-resource-manager/resource-group-authoring-templates.md).</span><span class="sxs-lookup"><span data-stu-id="e2546-198">To deploy API Management, Logic Apps, Event Grid, and Service Bus, use the [Azure Resource Manager templates](../azure-resource-manager/resource-group-authoring-templates.md).</span></span> <span data-ttu-id="e2546-199">Templates make automating deployments easier by using PowerShell or the Azure CLI.</span><span class="sxs-lookup"><span data-stu-id="e2546-199">Templates make automating deployments easier by using PowerShell or the Azure CLI.</span></span>

* <span data-ttu-id="e2546-200">Put API Management, any individual logic apps, Event Grid topics, and Service Bus namespaces in their own separate Resource Manager templates.</span><span class="sxs-lookup"><span data-stu-id="e2546-200">Put API Management, any individual logic apps, Event Grid topics, and Service Bus namespaces in their own separate Resource Manager templates.</span></span> <span data-ttu-id="e2546-201">By using separate templates, you can store the resources in source control systems.</span><span class="sxs-lookup"><span data-stu-id="e2546-201">By using separate templates, you can store the resources in source control systems.</span></span> <span data-ttu-id="e2546-202">You can then deploy these templates together or individually as part of a continuous integration/continuous deployment (CI/CD) process.</span><span class="sxs-lookup"><span data-stu-id="e2546-202">You can then deploy these templates together or individually as part of a continuous integration/continuous deployment (CI/CD) process.</span></span>

## <a name="diagnostics-and-monitoring"></a><span data-ttu-id="e2546-203">Diagnostics and monitoring</span><span class="sxs-lookup"><span data-stu-id="e2546-203">Diagnostics and monitoring</span></span>

<span data-ttu-id="e2546-204">Like API Management and Logic Apps, you can monitor Service Bus by using Azure Monitor, which is enabled by default.</span><span class="sxs-lookup"><span data-stu-id="e2546-204">Like API Management and Logic Apps, you can monitor Service Bus by using Azure Monitor, which is enabled by default.</span></span> <span data-ttu-id="e2546-205">Azure Monitor provides information based on the metrics that are configured for each service.</span><span class="sxs-lookup"><span data-stu-id="e2546-205">Azure Monitor provides information based on the metrics that are configured for each service.</span></span> 

## <a name="security"></a><span data-ttu-id="e2546-206">Security</span><span class="sxs-lookup"><span data-stu-id="e2546-206">Security</span></span>

<span data-ttu-id="e2546-207">To secure Service Bus, use shared access signature (SAS).</span><span class="sxs-lookup"><span data-stu-id="e2546-207">To secure Service Bus, use shared access signature (SAS).</span></span> <span data-ttu-id="e2546-208">For example, you can grant a user access to Service Bus resources with specific rights by using [SAS authentication](../service-bus-messaging/service-bus-sas.md).</span><span class="sxs-lookup"><span data-stu-id="e2546-208">For example, you can grant a user access to Service Bus resources with specific rights by using [SAS authentication](../service-bus-messaging/service-bus-sas.md).</span></span> <span data-ttu-id="e2546-209">For more information, see [Service Bus authentication and authorization](../service-bus-messaging/service-bus-authentication-and-authorization.md).</span><span class="sxs-lookup"><span data-stu-id="e2546-209">For more information, see [Service Bus authentication and authorization](../service-bus-messaging/service-bus-authentication-and-authorization.md).</span></span>

<span data-ttu-id="e2546-210">If you need to expose a Service Bus queue as an HTTP endpoint, for example, to post new messages, use API Management to secure the queue by fronting the endpoint.</span><span class="sxs-lookup"><span data-stu-id="e2546-210">If you need to expose a Service Bus queue as an HTTP endpoint, for example, to post new messages, use API Management to secure the queue by fronting the endpoint.</span></span> <span data-ttu-id="e2546-211">You can then secure the endpoint with certificates or OAuth authentication as appropriate.</span><span class="sxs-lookup"><span data-stu-id="e2546-211">You can then secure the endpoint with certificates or OAuth authentication as appropriate.</span></span> <span data-ttu-id="e2546-212">The easiest way you can secure an endpoint is using a logic app with an HTTP request/response trigger as an intermediary.</span><span class="sxs-lookup"><span data-stu-id="e2546-212">The easiest way you can secure an endpoint is using a logic app with an HTTP request/response trigger as an intermediary.</span></span>

<span data-ttu-id="e2546-213">The Event Grid service secures event delivery through a validation code.</span><span class="sxs-lookup"><span data-stu-id="e2546-213">The Event Grid service secures event delivery through a validation code.</span></span> <span data-ttu-id="e2546-214">If you use Logic Apps to consume the event, validation is automatically performed.</span><span class="sxs-lookup"><span data-stu-id="e2546-214">If you use Logic Apps to consume the event, validation is automatically performed.</span></span> <span data-ttu-id="e2546-215">For more information, see [Event Grid security and authentication](../event-grid/security-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="e2546-215">For more information, see [Event Grid security and authentication](../event-grid/security-authentication.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="e2546-216">Next steps</span><span class="sxs-lookup"><span data-stu-id="e2546-216">Next steps</span></span>

* <span data-ttu-id="e2546-217">Learn about [simple enterprise integration](logic-apps-architectures-simple-enterprise-integration.md)</span><span class="sxs-lookup"><span data-stu-id="e2546-217">Learn about [simple enterprise integration](logic-apps-architectures-simple-enterprise-integration.md)</span></span>
