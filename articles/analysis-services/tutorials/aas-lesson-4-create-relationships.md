---
title: 'Azure Analysis Services tutorial lesson 4: Create relationships | Microsoft Docs'
description: Describes how to create relationships in the Azure Analysis Services tutorial project.
author: minewiskan
manager: kfile
ms.service: azure-analysis-services
ms.topic: conceptual
ms.date: 07/03/2018
ms.author: owend
ms.reviewer: minewiskan
ms.openlocfilehash: 5007e18db0af40621ab4b30a16d705d3a5b3915c
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44865166"
---
# <a name="create-relationships"></a><span data-ttu-id="c9f13-103">Create relationships</span><span class="sxs-lookup"><span data-stu-id="c9f13-103">Create relationships</span></span>

<span data-ttu-id="c9f13-104">In this lesson, you verify the relationships that were created automatically when you imported data and add new relationships between different tables.</span><span class="sxs-lookup"><span data-stu-id="c9f13-104">In this lesson, you verify the relationships that were created automatically when you imported data and add new relationships between different tables.</span></span> <span data-ttu-id="c9f13-105">A relationship is a connection between two tables that establishes how the data in those tables should be correlated.</span><span class="sxs-lookup"><span data-stu-id="c9f13-105">A relationship is a connection between two tables that establishes how the data in those tables should be correlated.</span></span> <span data-ttu-id="c9f13-106">For example, the DimProduct table and the DimProductSubcategory table have a relationship based on the fact that each product belongs to a subcategory.</span><span class="sxs-lookup"><span data-stu-id="c9f13-106">For example, the DimProduct table and the DimProductSubcategory table have a relationship based on the fact that each product belongs to a subcategory.</span></span> <span data-ttu-id="c9f13-107">To learn more, see [Relationships](https://docs.microsoft.com/sql/analysis-services/tabular-models/relationships-ssas-tabular).</span><span class="sxs-lookup"><span data-stu-id="c9f13-107">To learn more, see [Relationships](https://docs.microsoft.com/sql/analysis-services/tabular-models/relationships-ssas-tabular).</span></span>
  
<span data-ttu-id="c9f13-108">Estimated time to complete this lesson: **10 minutes**</span><span class="sxs-lookup"><span data-stu-id="c9f13-108">Estimated time to complete this lesson: **10 minutes**</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="c9f13-109">Prerequisites</span><span class="sxs-lookup"><span data-stu-id="c9f13-109">Prerequisites</span></span>  
<span data-ttu-id="c9f13-110">This topic is part of a tabular modeling tutorial, which should be completed in order.</span><span class="sxs-lookup"><span data-stu-id="c9f13-110">This topic is part of a tabular modeling tutorial, which should be completed in order.</span></span> <span data-ttu-id="c9f13-111">Before performing the tasks in this lesson, you should have completed the previous lesson: [Lesson 3: Mark as Date Table](../tutorials/aas-lesson-3-mark-as-date-table.md).</span><span class="sxs-lookup"><span data-stu-id="c9f13-111">Before performing the tasks in this lesson, you should have completed the previous lesson: [Lesson 3: Mark as Date Table](../tutorials/aas-lesson-3-mark-as-date-table.md).</span></span> 
  
## <a name="review-existing-relationships-and-add-new-relationships"></a><span data-ttu-id="c9f13-112">Review existing relationships and add new relationships</span><span class="sxs-lookup"><span data-stu-id="c9f13-112">Review existing relationships and add new relationships</span></span>  
<span data-ttu-id="c9f13-113">When you imported data by using Get Data, you got seven tables from the AdventureWorksDW2014 database.</span><span class="sxs-lookup"><span data-stu-id="c9f13-113">When you imported data by using Get Data, you got seven tables from the AdventureWorksDW2014 database.</span></span> <span data-ttu-id="c9f13-114">Generally, when you import data from a relational source, existing relationships are automatically imported together with the data.</span><span class="sxs-lookup"><span data-stu-id="c9f13-114">Generally, when you import data from a relational source, existing relationships are automatically imported together with the data.</span></span> <span data-ttu-id="c9f13-115">In order for Get Data to automatically create relationships in the data model, there must be relationsips between tables at the data source.</span><span class="sxs-lookup"><span data-stu-id="c9f13-115">In order for Get Data to automatically create relationships in the data model, there must be relationsips between tables at the data source.</span></span>

<span data-ttu-id="c9f13-116">Before you proceed with authoring your model, you should verify those relationships between tables were created properly.</span><span class="sxs-lookup"><span data-stu-id="c9f13-116">Before you proceed with authoring your model, you should verify those relationships between tables were created properly.</span></span> <span data-ttu-id="c9f13-117">For this tutorial, you also add three new relationships.</span><span class="sxs-lookup"><span data-stu-id="c9f13-117">For this tutorial, you also add three new relationships.</span></span>  

  
#### <a name="to-review-existing-relationships"></a><span data-ttu-id="c9f13-118">To review existing relationships</span><span class="sxs-lookup"><span data-stu-id="c9f13-118">To review existing relationships</span></span>  
  
1.  <span data-ttu-id="c9f13-119">Click the **Model** menu > **Model View** > **Diagram View**.</span><span class="sxs-lookup"><span data-stu-id="c9f13-119">Click the **Model** menu > **Model View** > **Diagram View**.</span></span>  

    <span data-ttu-id="c9f13-120">The model designer now appears in Diagram View, a graphical format displaying all the tables you imported with lines between them.</span><span class="sxs-lookup"><span data-stu-id="c9f13-120">The model designer now appears in Diagram View, a graphical format displaying all the tables you imported with lines between them.</span></span> <span data-ttu-id="c9f13-121">The lines between tables indicate the relationships that were automatically created when you imported the data.</span><span class="sxs-lookup"><span data-stu-id="c9f13-121">The lines between tables indicate the relationships that were automatically created when you imported the data.</span></span>
    
    ![aas-lesson4-diagram](../tutorials/media/aas-lesson4-diagram.png)
  
    > [!NOTE]
    > <span data-ttu-id="c9f13-123">If you don't see any relationships between tables, it likely means there are no relationships between those tables at the datasource.</span><span class="sxs-lookup"><span data-stu-id="c9f13-123">If you don't see any relationships between tables, it likely means there are no relationships between those tables at the datasource.</span></span>

    <span data-ttu-id="c9f13-124">Include as many of the tables as possible by using minimap controls in the lower-right corner of the model designer.</span><span class="sxs-lookup"><span data-stu-id="c9f13-124">Include as many of the tables as possible by using minimap controls in the lower-right corner of the model designer.</span></span> <span data-ttu-id="c9f13-125">You can also click and drag tables to different locations, bringing tables closer together, or putting them in a particular order.</span><span class="sxs-lookup"><span data-stu-id="c9f13-125">You can also click and drag tables to different locations, bringing tables closer together, or putting them in a particular order.</span></span> <span data-ttu-id="c9f13-126">Moving tables does not affect the relationships between the tables.</span><span class="sxs-lookup"><span data-stu-id="c9f13-126">Moving tables does not affect the relationships between the tables.</span></span> <span data-ttu-id="c9f13-127">To view all the columns in a particular table, click and drag on a table edge to expand or make it smaller.</span><span class="sxs-lookup"><span data-stu-id="c9f13-127">To view all the columns in a particular table, click and drag on a table edge to expand or make it smaller.</span></span>  
  
2.  <span data-ttu-id="c9f13-128">Click the solid line between the **DimCustomer** table and the **DimGeography** table.</span><span class="sxs-lookup"><span data-stu-id="c9f13-128">Click the solid line between the **DimCustomer** table and the **DimGeography** table.</span></span> <span data-ttu-id="c9f13-129">The solid line between these two tables shows this relationship is active, that is, it is used by default when calculating DAX formulas.</span><span class="sxs-lookup"><span data-stu-id="c9f13-129">The solid line between these two tables shows this relationship is active, that is, it is used by default when calculating DAX formulas.</span></span>  
  
    <span data-ttu-id="c9f13-130">Notice the **GeographyKey** column in the **DimCustomer** table and the **GeographyKey** column in the **DimGeography** table now both each appear within a box.</span><span class="sxs-lookup"><span data-stu-id="c9f13-130">Notice the **GeographyKey** column in the **DimCustomer** table and the **GeographyKey** column in the **DimGeography** table now both each appear within a box.</span></span> <span data-ttu-id="c9f13-131">These columns are used in the relationship.</span><span class="sxs-lookup"><span data-stu-id="c9f13-131">These columns are used in the relationship.</span></span> <span data-ttu-id="c9f13-132">The relationship’s properties now also appear in the **Properties** window.</span><span class="sxs-lookup"><span data-stu-id="c9f13-132">The relationship’s properties now also appear in the **Properties** window.</span></span>  
  
    > [!TIP]  
    > <span data-ttu-id="c9f13-133">In addition to using the model designer in diagram view, you can also use the Manage Relationships dialog box to show the relationships between all tables in a table format.</span><span class="sxs-lookup"><span data-stu-id="c9f13-133">In addition to using the model designer in diagram view, you can also use the Manage Relationships dialog box to show the relationships between all tables in a table format.</span></span> <span data-ttu-id="c9f13-134">In Tabular Model Explorer, right-click **Relationships** > **Manage Relationships**.</span><span class="sxs-lookup"><span data-stu-id="c9f13-134">In Tabular Model Explorer, right-click **Relationships** > **Manage Relationships**.</span></span>
  
3.  <span data-ttu-id="c9f13-135">Verify the following relationships were created when each of the tables were imported from the AdventureWorksDW database:</span><span class="sxs-lookup"><span data-stu-id="c9f13-135">Verify the following relationships were created when each of the tables were imported from the AdventureWorksDW database:</span></span>  
  
    |<span data-ttu-id="c9f13-136">Active</span><span class="sxs-lookup"><span data-stu-id="c9f13-136">Active</span></span>|<span data-ttu-id="c9f13-137">Table</span><span class="sxs-lookup"><span data-stu-id="c9f13-137">Table</span></span>|<span data-ttu-id="c9f13-138">Related Lookup Table</span><span class="sxs-lookup"><span data-stu-id="c9f13-138">Related Lookup Table</span></span>|  
    |----------|---------|------------------------|  
    |<span data-ttu-id="c9f13-139">Yes</span><span class="sxs-lookup"><span data-stu-id="c9f13-139">Yes</span></span>|<span data-ttu-id="c9f13-140">**DimCustomer [GeographyKey]**</span><span class="sxs-lookup"><span data-stu-id="c9f13-140">**DimCustomer [GeographyKey]**</span></span>|<span data-ttu-id="c9f13-141">**DimGeography [GeographyKey]**</span><span class="sxs-lookup"><span data-stu-id="c9f13-141">**DimGeography [GeographyKey]**</span></span>|  
    |<span data-ttu-id="c9f13-142">Yes</span><span class="sxs-lookup"><span data-stu-id="c9f13-142">Yes</span></span>|<span data-ttu-id="c9f13-143">**DimProduct [ProductSubcategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="c9f13-143">**DimProduct [ProductSubcategoryKey]**</span></span>|<span data-ttu-id="c9f13-144">**DimProductSubcategory [ProductSubcategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="c9f13-144">**DimProductSubcategory [ProductSubcategoryKey]**</span></span>|  
    |<span data-ttu-id="c9f13-145">Yes</span><span class="sxs-lookup"><span data-stu-id="c9f13-145">Yes</span></span>|<span data-ttu-id="c9f13-146">**DimProductSubcategory [ProductCategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="c9f13-146">**DimProductSubcategory [ProductCategoryKey]**</span></span>|<span data-ttu-id="c9f13-147">**DimProductCategory [ProductCategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="c9f13-147">**DimProductCategory [ProductCategoryKey]**</span></span>|  
    |<span data-ttu-id="c9f13-148">Yes</span><span class="sxs-lookup"><span data-stu-id="c9f13-148">Yes</span></span>|<span data-ttu-id="c9f13-149">**FactInternetSales [CustomerKey]**</span><span class="sxs-lookup"><span data-stu-id="c9f13-149">**FactInternetSales [CustomerKey]**</span></span>|<span data-ttu-id="c9f13-150">**DimCustomer [CustomerKey]**</span><span class="sxs-lookup"><span data-stu-id="c9f13-150">**DimCustomer [CustomerKey]**</span></span>|  
    |<span data-ttu-id="c9f13-151">Yes</span><span class="sxs-lookup"><span data-stu-id="c9f13-151">Yes</span></span>|<span data-ttu-id="c9f13-152">**FactInternetSales [ProductKey]**</span><span class="sxs-lookup"><span data-stu-id="c9f13-152">**FactInternetSales [ProductKey]**</span></span>|<span data-ttu-id="c9f13-153">**DimProduct [ProductKey]**</span><span class="sxs-lookup"><span data-stu-id="c9f13-153">**DimProduct [ProductKey]**</span></span>|  
  
    <span data-ttu-id="c9f13-154">If any of the relationships are missing, verify your model includes the following tables: DimCustomer, DimDate, DimGeography, DimProduct, DimProductCategory, DimProductSubcategory, and FactInternetSales.</span><span class="sxs-lookup"><span data-stu-id="c9f13-154">If any of the relationships are missing, verify your model includes the following tables: DimCustomer, DimDate, DimGeography, DimProduct, DimProductCategory, DimProductSubcategory, and FactInternetSales.</span></span> <span data-ttu-id="c9f13-155">If tables from the same datasource connection are imported at separate times, any relationships between those tables are not be created and must be created manually.</span><span class="sxs-lookup"><span data-stu-id="c9f13-155">If tables from the same datasource connection are imported at separate times, any relationships between those tables are not be created and must be created manually.</span></span> <span data-ttu-id="c9f13-156">If no relationships appear, it means there are no relationships at the datasource.</span><span class="sxs-lookup"><span data-stu-id="c9f13-156">If no relationships appear, it means there are no relationships at the datasource.</span></span> <span data-ttu-id="c9f13-157">You can create them manually in the data model.</span><span class="sxs-lookup"><span data-stu-id="c9f13-157">You can create them manually in the data model.</span></span>

### <a name="take-a-closer-look"></a><span data-ttu-id="c9f13-158">Take a closer look</span><span class="sxs-lookup"><span data-stu-id="c9f13-158">Take a closer look</span></span>
<span data-ttu-id="c9f13-159">In Diagram View, notice an arrow, an asterisk, and a number on the lines that show the relationship between tables.</span><span class="sxs-lookup"><span data-stu-id="c9f13-159">In Diagram View, notice an arrow, an asterisk, and a number on the lines that show the relationship between tables.</span></span>

![aas-lesson4-line](../tutorials/media/aas-lesson4-line.png)

<span data-ttu-id="c9f13-161">The arrow shows the filter direction.</span><span class="sxs-lookup"><span data-stu-id="c9f13-161">The arrow shows the filter direction.</span></span> <span data-ttu-id="c9f13-162">The asterisk shows this table is the many side in the relationship's cardinality, and the one shows this table is the one side of the relationship.</span><span class="sxs-lookup"><span data-stu-id="c9f13-162">The asterisk shows this table is the many side in the relationship's cardinality, and the one shows this table is the one side of the relationship.</span></span> <span data-ttu-id="c9f13-163">If you need to edit a relationship; for example, change the relationship's filter direction or cardinality, double-click the relationship line to open the Edit Relationship dialog.</span><span class="sxs-lookup"><span data-stu-id="c9f13-163">If you need to edit a relationship; for example, change the relationship's filter direction or cardinality, double-click the relationship line to open the Edit Relationship dialog.</span></span>

![aas-lesson4-edit](../tutorials/media/aas-lesson4-edit.png)

<span data-ttu-id="c9f13-165">These features are meant for advanced data modeling and are outside the scope of this tutorial.</span><span class="sxs-lookup"><span data-stu-id="c9f13-165">These features are meant for advanced data modeling and are outside the scope of this tutorial.</span></span> <span data-ttu-id="c9f13-166">To learn more, see [Bi-directional cross filters for tabular models in Analysis Services](https://docs.microsoft.com/sql/analysis-services/tabular-models/bi-directional-cross-filters-tabular-models-analysis-services).</span><span class="sxs-lookup"><span data-stu-id="c9f13-166">To learn more, see [Bi-directional cross filters for tabular models in Analysis Services](https://docs.microsoft.com/sql/analysis-services/tabular-models/bi-directional-cross-filters-tabular-models-analysis-services).</span></span>

<span data-ttu-id="c9f13-167">In some cases, you may need to create additional relationships between tables in your model to support certain business logic.</span><span class="sxs-lookup"><span data-stu-id="c9f13-167">In some cases, you may need to create additional relationships between tables in your model to support certain business logic.</span></span> <span data-ttu-id="c9f13-168">For this tutorial, you need to create three additional relationships between the FactInternetSales table and the DimDate table.</span><span class="sxs-lookup"><span data-stu-id="c9f13-168">For this tutorial, you need to create three additional relationships between the FactInternetSales table and the DimDate table.</span></span>  
  
#### <a name="to-add-new-relationships-between-tables"></a><span data-ttu-id="c9f13-169">To add new relationships between tables</span><span class="sxs-lookup"><span data-stu-id="c9f13-169">To add new relationships between tables</span></span>  
  
1.  <span data-ttu-id="c9f13-170">In the model designer, in the **FactInternetSales** table, click, and hold on the **OrderDate** column, then drag the cursor to the **Date** column in the **DimDate** table, and then release.</span><span class="sxs-lookup"><span data-stu-id="c9f13-170">In the model designer, in the **FactInternetSales** table, click, and hold on the **OrderDate** column, then drag the cursor to the **Date** column in the **DimDate** table, and then release.</span></span>  

    <span data-ttu-id="c9f13-171">A solid line appears showing you have created an active relationship between the **OrderDate** column in the **Internet Sales** table, and the **Date** column in the **Date** table.</span><span class="sxs-lookup"><span data-stu-id="c9f13-171">A solid line appears showing you have created an active relationship between the **OrderDate** column in the **Internet Sales** table, and the **Date** column in the **Date** table.</span></span> 
  
      ![aas-lesson4-new](../tutorials/media/aas-lesson4-new.png) 
  
    > [!NOTE]  
    > <span data-ttu-id="c9f13-173">When creating relationships, the cardinality and filter direction between the primary table and the related lookup table is automatically selected.</span><span class="sxs-lookup"><span data-stu-id="c9f13-173">When creating relationships, the cardinality and filter direction between the primary table and the related lookup table is automatically selected.</span></span>  
  
2.  <span data-ttu-id="c9f13-174">In the **FactInternetSales** table, click and hold on the **DueDate** column, then drag the cursor to the **Date** column in the **DimDate** table, and then release.</span><span class="sxs-lookup"><span data-stu-id="c9f13-174">In the **FactInternetSales** table, click and hold on the **DueDate** column, then drag the cursor to the **Date** column in the **DimDate** table, and then release.</span></span>  
  
    <span data-ttu-id="c9f13-175">A dotted line appears showing you have created an inactive relationship between the **DueDate** column in the **FactInternetSales** table, and the **Date** column in the **DimDate** table.</span><span class="sxs-lookup"><span data-stu-id="c9f13-175">A dotted line appears showing you have created an inactive relationship between the **DueDate** column in the **FactInternetSales** table, and the **Date** column in the **DimDate** table.</span></span> <span data-ttu-id="c9f13-176">You can have multiple relationships between tables, but only one relationship can be active at a time.</span><span class="sxs-lookup"><span data-stu-id="c9f13-176">You can have multiple relationships between tables, but only one relationship can be active at a time.</span></span> <span data-ttu-id="c9f13-177">Inactive relationships can be made active to perform special aggregations in custom DAX expressions.</span><span class="sxs-lookup"><span data-stu-id="c9f13-177">Inactive relationships can be made active to perform special aggregations in custom DAX expressions.</span></span>  
  
3.  <span data-ttu-id="c9f13-178">Finally, create one more relationship.</span><span class="sxs-lookup"><span data-stu-id="c9f13-178">Finally, create one more relationship.</span></span> <span data-ttu-id="c9f13-179">In the **FactInternetSales** table, click and hold on the **ShipDate** column, then drag the cursor to the **Date** column in the **DimDate** table, and then release.</span><span class="sxs-lookup"><span data-stu-id="c9f13-179">In the **FactInternetSales** table, click and hold on the **ShipDate** column, then drag the cursor to the **Date** column in the **DimDate** table, and then release.</span></span>  
    
     ![aas-lesson4-newinactive](../tutorials/media/aas-lesson4-newinactive.png)
  
## <a name="whats-next"></a><span data-ttu-id="c9f13-181">What's next?</span><span class="sxs-lookup"><span data-stu-id="c9f13-181">What's next?</span></span>
<span data-ttu-id="c9f13-182">[Lesson 5: Create calculated columns](../tutorials/aas-lesson-5-create-calculated-columns.md).</span><span class="sxs-lookup"><span data-stu-id="c9f13-182">[Lesson 5: Create calculated columns](../tutorials/aas-lesson-5-create-calculated-columns.md).</span></span>
  
  
  
