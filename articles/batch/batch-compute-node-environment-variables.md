---
title: Azure Batch compute node environment variables | Microsoft Docs
ms.custom: ''
ms.date: 2017-02-01
ms.prod: azure
ms.reviewer: ''
ms.service: batch
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 3990f0c8-b627-432f-9551-5ce10f9bb0ca
caps.latest.revision: 14
author: tamram
ms.author: tamram
manager: timlt
ms.openlocfilehash: e31f2a5e5186ea27d7da7d0d5d5837a2cda41a11
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44670921"
---
# <a name="azure-batch-compute-node-environment-variables"></a><span data-ttu-id="06056-102">Azure Batch compute node environment variables</span><span class="sxs-lookup"><span data-stu-id="06056-102">Azure Batch compute node environment variables</span></span>
<span data-ttu-id="06056-103">The [Azure Batch service](https://azure.microsoft.com/services/batch/) sets the following environment variables on compute nodes.</span><span class="sxs-lookup"><span data-stu-id="06056-103">The [Azure Batch service](https://azure.microsoft.com/services/batch/) sets the following environment variables on compute nodes.</span></span> <span data-ttu-id="06056-104">You can reference these environment variables in task command lines, and in the programs and scripts run by the command lines.</span><span class="sxs-lookup"><span data-stu-id="06056-104">You can reference these environment variables in task command lines, and in the programs and scripts run by the command lines.</span></span>

<span data-ttu-id="06056-105">For additional information about using environment variables with Batch, see [Environment settings for tasks](https://docs.microsoft.com/azure/batch/batch-api-basics#environment-settings-for-tasks).</span><span class="sxs-lookup"><span data-stu-id="06056-105">For additional information about using environment variables with Batch, see [Environment settings for tasks](https://docs.microsoft.com/azure/batch/batch-api-basics#environment-settings-for-tasks).</span></span>

## <a name="environment-variable-visibility"></a><span data-ttu-id="06056-106">Environment variable visibility</span><span class="sxs-lookup"><span data-stu-id="06056-106">Environment variable visibility</span></span>

<span data-ttu-id="06056-107">These environment variables are visible only in the context of the **task user**, the user account on the node under which a task is executed.</span><span class="sxs-lookup"><span data-stu-id="06056-107">These environment variables are visible only in the context of the **task user**, the user account on the node under which a task is executed.</span></span> <span data-ttu-id="06056-108">You will *not* see these if you [connect remotely](https://azure.microsoft.com/documentation/articles/batch-api-basics/#connecting-to-compute-nodes) to a compute node via Remote Desktop Protocol (RDP) or Secure Shell (SSH) and list the environment variables.</span><span class="sxs-lookup"><span data-stu-id="06056-108">You will *not* see these if you [connect remotely](https://azure.microsoft.com/documentation/articles/batch-api-basics/#connecting-to-compute-nodes) to a compute node via Remote Desktop Protocol (RDP) or Secure Shell (SSH) and list the environment variables.</span></span> <span data-ttu-id="06056-109">This is because the user account that is used for remote connection is not the same as the account that is used by the task.</span><span class="sxs-lookup"><span data-stu-id="06056-109">This is because the user account that is used for remote connection is not the same as the account that is used by the task.</span></span>

## <a name="command-line-expansion-of-environment-variables"></a><span data-ttu-id="06056-110">Command-line expansion of environment variables</span><span class="sxs-lookup"><span data-stu-id="06056-110">Command-line expansion of environment variables</span></span>

<span data-ttu-id="06056-111">The command lines executed by tasks on compute nodes do not run under a shell.</span><span class="sxs-lookup"><span data-stu-id="06056-111">The command lines executed by tasks on compute nodes do not run under a shell.</span></span> <span data-ttu-id="06056-112">Therefore, these command lines cannot natively take advantage of shell features such as environment variable expansion (this includes the `PATH`).</span><span class="sxs-lookup"><span data-stu-id="06056-112">Therefore, these command lines cannot natively take advantage of shell features such as environment variable expansion (this includes the `PATH`).</span></span> <span data-ttu-id="06056-113">To take advantage of such features, you must **invoke the shell** in the command line.</span><span class="sxs-lookup"><span data-stu-id="06056-113">To take advantage of such features, you must **invoke the shell** in the command line.</span></span> <span data-ttu-id="06056-114">For example, by launching `cmd.exe` on Windows compute nodes or `/bin/sh` on Linux nodes:</span><span class="sxs-lookup"><span data-stu-id="06056-114">For example, by launching `cmd.exe` on Windows compute nodes or `/bin/sh` on Linux nodes:</span></span>

`cmd /c MyTaskApplication.exe %MY_ENV_VAR%`

`/bin/sh -c MyTaskApplication $MY_ENV_VAR`

## <a name="environment-variables"></a><span data-ttu-id="06056-115">Environment variables</span><span class="sxs-lookup"><span data-stu-id="06056-115">Environment variables</span></span>

| <span data-ttu-id="06056-116">Variable name</span><span class="sxs-lookup"><span data-stu-id="06056-116">Variable name</span></span>         | <span data-ttu-id="06056-117">Description</span><span class="sxs-lookup"><span data-stu-id="06056-117">Description</span></span>                                                              | <span data-ttu-id="06056-118">Availability</span><span class="sxs-lookup"><span data-stu-id="06056-118">Availability</span></span> | <span data-ttu-id="06056-119">Example</span><span class="sxs-lookup"><span data-stu-id="06056-119">Example</span></span> |
|-----------------------------------|--------------------------------------------------------------------------|--------------|---------|
| `AZ_BATCH_ACCOUNT_NAME`           | <span data-ttu-id="06056-120">The name of the Batch account that the task belongs to.</span><span class="sxs-lookup"><span data-stu-id="06056-120">The name of the Batch account that the task belongs to.</span></span> | <span data-ttu-id="06056-121">All tasks.</span><span class="sxs-lookup"><span data-stu-id="06056-121">All tasks.</span></span> | `mybatchaccount` |
| `AZ_BATCH_CERTIFICATES_DIR`       | <span data-ttu-id="06056-122">A directory within the [task working directory][files_dirs] in which certificates are stored for Linux compute nodes.</span><span class="sxs-lookup"><span data-stu-id="06056-122">A directory within the [task working directory][files_dirs] in which certificates are stored for Linux compute nodes.</span></span> <span data-ttu-id="06056-123">Note that this environment variable does not apply to Windows compute nodes.</span><span class="sxs-lookup"><span data-stu-id="06056-123">Note that this environment variable does not apply to Windows compute nodes.</span></span> | <span data-ttu-id="06056-124">All tasks.</span><span class="sxs-lookup"><span data-stu-id="06056-124">All tasks.</span></span> | `/mnt/batch/tasks/workitems/batchjob001/job-1/task001/certs` |
| `AZ_BATCH_JOB_ID`                 | <span data-ttu-id="06056-125">The ID of the job that the task belongs to.</span><span class="sxs-lookup"><span data-stu-id="06056-125">The ID of the job that the task belongs to.</span></span> | <span data-ttu-id="06056-126">All tasks except start task.</span><span class="sxs-lookup"><span data-stu-id="06056-126">All tasks except start task.</span></span> | `batchjob001` |
| `AZ_BATCH_JOB_PREP_DIR`           | <span data-ttu-id="06056-127">The full path of the job preparation [task directory][files_dirs] on the node.</span><span class="sxs-lookup"><span data-stu-id="06056-127">The full path of the job preparation [task directory][files_dirs] on the node.</span></span> | <span data-ttu-id="06056-128">All tasks except start task and job preparation task.</span><span class="sxs-lookup"><span data-stu-id="06056-128">All tasks except start task and job preparation task.</span></span> <span data-ttu-id="06056-129">Only available if the job is configured with a job preparation task.</span><span class="sxs-lookup"><span data-stu-id="06056-129">Only available if the job is configured with a job preparation task.</span></span> | `C:\user\tasks\workitems\jobprepreleasesamplejob\job-1\jobpreparation` |
| `AZ_BATCH_JOB_PREP_WORKING_DIR`   | <span data-ttu-id="06056-130">The full path of the job preparation [task working directory][files_dirs] on the node.</span><span class="sxs-lookup"><span data-stu-id="06056-130">The full path of the job preparation [task working directory][files_dirs] on the node.</span></span> | <span data-ttu-id="06056-131">All tasks except start task and job preparation task.</span><span class="sxs-lookup"><span data-stu-id="06056-131">All tasks except start task and job preparation task.</span></span> <span data-ttu-id="06056-132">Only available if the job is configured with a job preparation task.</span><span class="sxs-lookup"><span data-stu-id="06056-132">Only available if the job is configured with a job preparation task.</span></span> | `C:\user\tasks\workitems\jobprepreleasesamplejob\job-1\jobpreparation\wd` |
| `AZ_BATCH_NODE_ID`                | <span data-ttu-id="06056-133">The ID of the node that the task is assigned to.</span><span class="sxs-lookup"><span data-stu-id="06056-133">The ID of the node that the task is assigned to.</span></span> | <span data-ttu-id="06056-134">All tasks.</span><span class="sxs-lookup"><span data-stu-id="06056-134">All tasks.</span></span> | `tvm-1219235766_3-20160919t172711z` |
| `AZ_BATCH_NODE_ROOT_DIR`          | <span data-ttu-id="06056-135">The full path of the root of all [Batch directories][files_dirs] on the node.</span><span class="sxs-lookup"><span data-stu-id="06056-135">The full path of the root of all [Batch directories][files_dirs] on the node.</span></span> | <span data-ttu-id="06056-136">All tasks.</span><span class="sxs-lookup"><span data-stu-id="06056-136">All tasks.</span></span> | `C:\user\tasks` |
| `AZ_BATCH_NODE_SHARED_DIR`        | <span data-ttu-id="06056-137">The full path of the [shared directory][files_dirs] on the node.</span><span class="sxs-lookup"><span data-stu-id="06056-137">The full path of the [shared directory][files_dirs] on the node.</span></span> <span data-ttu-id="06056-138">All tasks that execute on a node have read/write access to this directory.</span><span class="sxs-lookup"><span data-stu-id="06056-138">All tasks that execute on a node have read/write access to this directory.</span></span> <span data-ttu-id="06056-139">Tasks that execute on other nodes do not have remote access to this directory (it is not a "shared" network directory).</span><span class="sxs-lookup"><span data-stu-id="06056-139">Tasks that execute on other nodes do not have remote access to this directory (it is not a "shared" network directory).</span></span> | <span data-ttu-id="06056-140">All tasks.</span><span class="sxs-lookup"><span data-stu-id="06056-140">All tasks.</span></span> | `C:\user\tasks\shared` |
| `AZ_BATCH_NODE_STARTUP_DIR`       | <span data-ttu-id="06056-141">The full path of the [start task directory][files_dirs] on the node.</span><span class="sxs-lookup"><span data-stu-id="06056-141">The full path of the [start task directory][files_dirs] on the node.</span></span> | <span data-ttu-id="06056-142">All tasks.</span><span class="sxs-lookup"><span data-stu-id="06056-142">All tasks.</span></span> | `C:\user\tasks\startup` |
| `AZ_BATCH_POOL_ID`                | <span data-ttu-id="06056-143">The ID of the pool that the task is running on.</span><span class="sxs-lookup"><span data-stu-id="06056-143">The ID of the pool that the task is running on.</span></span> | <span data-ttu-id="06056-144">All tasks.</span><span class="sxs-lookup"><span data-stu-id="06056-144">All tasks.</span></span> | `batchpool001` |
| `AZ_BATCH_TASK_DIR`               | <span data-ttu-id="06056-145">The full path of the [task directory][files_dirs] on the node.</span><span class="sxs-lookup"><span data-stu-id="06056-145">The full path of the [task directory][files_dirs] on the node.</span></span> <span data-ttu-id="06056-146">This directory contains the `stdout.txt` and `stderr.txt` for the task, and the `AZ_BATCH_TASK_WORKING_DIR`.</span><span class="sxs-lookup"><span data-stu-id="06056-146">This directory contains the `stdout.txt` and `stderr.txt` for the task, and the `AZ_BATCH_TASK_WORKING_DIR`.</span></span> | <span data-ttu-id="06056-147">All tasks.</span><span class="sxs-lookup"><span data-stu-id="06056-147">All tasks.</span></span> | `C:\user\tasks\workitems\batchjob001\job-1\task001` |
| `AZ_BATCH_TASK_ID`                | <span data-ttu-id="06056-148">The ID of the current task.</span><span class="sxs-lookup"><span data-stu-id="06056-148">The ID of the current task.</span></span> | <span data-ttu-id="06056-149">All tasks except start task.</span><span class="sxs-lookup"><span data-stu-id="06056-149">All tasks except start task.</span></span> | `task001` |
| `AZ_BATCH_TASK_WORKING_DIR`       | <span data-ttu-id="06056-150">The full path of the [task working directory][files_dirs] on the node.</span><span class="sxs-lookup"><span data-stu-id="06056-150">The full path of the [task working directory][files_dirs] on the node.</span></span> <span data-ttu-id="06056-151">The currently running task has read/write access to this directory.</span><span class="sxs-lookup"><span data-stu-id="06056-151">The currently running task has read/write access to this directory.</span></span> | <span data-ttu-id="06056-152">All tasks.</span><span class="sxs-lookup"><span data-stu-id="06056-152">All tasks.</span></span> | `C:\user\tasks\workitems\batchjob001\job-1\task001\wd` |
| `CCP_NODES`                       | <span data-ttu-id="06056-153">The list of nodes and number of cores per node that are allocated to a [multi-instance task][multi_instance].</span><span class="sxs-lookup"><span data-stu-id="06056-153">The list of nodes and number of cores per node that are allocated to a [multi-instance task][multi_instance].</span></span> <span data-ttu-id="06056-154">Nodes and cores are listed in the format `numNodes<space>node1IP<space>node1Cores<space>`</span><span class="sxs-lookup"><span data-stu-id="06056-154">Nodes and cores are listed in the format `numNodes<space>node1IP<space>node1Cores<space>`</span></span><br/><span data-ttu-id="06056-155">`node2IP<space>node2Cores<space> ...`, where the number of nodes is followed by one or more node IP addresses and the number of cores for each.</span><span class="sxs-lookup"><span data-stu-id="06056-155">`node2IP<space>node2Cores<space> ...`, where the number of nodes is followed by one or more node IP addresses and the number of cores for each.</span></span> |  <span data-ttu-id="06056-156">Multi-instance primary and subtasks.</span><span class="sxs-lookup"><span data-stu-id="06056-156">Multi-instance primary and subtasks.</span></span> |`2 10.0.0.4 1 10.0.0.5 1` |
| `AZ_BATCH_NODE_LIST`              | <span data-ttu-id="06056-157">The list of nodes that are allocated to a [multi-instance task][multi_instance] in the format `nodeIP;nodeIP`.</span><span class="sxs-lookup"><span data-stu-id="06056-157">The list of nodes that are allocated to a [multi-instance task][multi_instance] in the format `nodeIP;nodeIP`.</span></span> | <span data-ttu-id="06056-158">Multi-instance primary and subtasks.</span><span class="sxs-lookup"><span data-stu-id="06056-158">Multi-instance primary and subtasks.</span></span> | `10.0.0.4;10.0.0.5` |
| `AZ_BATCH_HOST_LIST`              | <span data-ttu-id="06056-159">The list of nodes that are allocated to a [multi-instance task][multi_instance] in the format `nodeIP,nodeIP`.</span><span class="sxs-lookup"><span data-stu-id="06056-159">The list of nodes that are allocated to a [multi-instance task][multi_instance] in the format `nodeIP,nodeIP`.</span></span> | <span data-ttu-id="06056-160">Multi-instance primary and subtasks.</span><span class="sxs-lookup"><span data-stu-id="06056-160">Multi-instance primary and subtasks.</span></span> | `10.0.0.4,10.0.0.5` |
| `AZ_BATCH_MASTER_NODE`            | <span data-ttu-id="06056-161">The IP address and port of the compute node on which the primary task of a [multi-instance task][multi_instance] runs.</span><span class="sxs-lookup"><span data-stu-id="06056-161">The IP address and port of the compute node on which the primary task of a [multi-instance task][multi_instance] runs.</span></span> | <span data-ttu-id="06056-162">Multi-instance primary and subtasks.</span><span class="sxs-lookup"><span data-stu-id="06056-162">Multi-instance primary and subtasks.</span></span> | `10.0.0.4:6000`|
| `AZ_BATCH_TASK_SHARED_DIR` | <span data-ttu-id="06056-163">A directory path that is identical for the primary task and every subtask of a [multi-instance task][multi_instance].</span><span class="sxs-lookup"><span data-stu-id="06056-163">A directory path that is identical for the primary task and every subtask of a [multi-instance task][multi_instance].</span></span> <span data-ttu-id="06056-164">The path exists on every node on which the multi-instance task runs, and is read/write accessible to the task commands running on that node (both the [coordination command][coord_cmd] and the [application command][app_cmd]).</span><span class="sxs-lookup"><span data-stu-id="06056-164">The path exists on every node on which the multi-instance task runs, and is read/write accessible to the task commands running on that node (both the [coordination command][coord_cmd] and the [application command][app_cmd]).</span></span> <span data-ttu-id="06056-165">Subtasks or a primary task that execute on other nodes do not have remote access to this directory (it is not a “shared” network directory).</span><span class="sxs-lookup"><span data-stu-id="06056-165">Subtasks or a primary task that execute on other nodes do not have remote access to this directory (it is not a “shared” network directory).</span></span> | <span data-ttu-id="06056-166">Multi-instance primary and subtasks.</span><span class="sxs-lookup"><span data-stu-id="06056-166">Multi-instance primary and subtasks.</span></span> | `C:\user\tasks\workitems\multiinstancesamplejob\job-1\multiinstancesampletask` |
| `AZ_BATCH_IS_CURRENT_NODE_MASTER` | <span data-ttu-id="06056-167">Specifies whether the current node is the master node for a [multi-instance task][multi_instance].</span><span class="sxs-lookup"><span data-stu-id="06056-167">Specifies whether the current node is the master node for a [multi-instance task][multi_instance].</span></span> <span data-ttu-id="06056-168">Possible values are `true` and `false`.</span><span class="sxs-lookup"><span data-stu-id="06056-168">Possible values are `true` and `false`.</span></span>| <span data-ttu-id="06056-169">Multi-instance primary and subtasks.</span><span class="sxs-lookup"><span data-stu-id="06056-169">Multi-instance primary and subtasks.</span></span> | `true` |


[files_dirs]: https://azure.microsoft.com/documentation/articles/batch-api-basics/#files-and-directories
[multi_instance]: https://azure.microsoft.com/documentation/articles/batch-mpi/
[coord_cmd]: https://azure.microsoft.com/documentation/articles/batch-mpi/#coordination-command
[app_cmd]: https://azure.microsoft.com/documentation/articles/batch-mpi/#application-command