---
title: Configuration and management issues for Microsoft Azure Cloud Services FAQ| Microsoft Docs
description: This article lists the frequently asked questions about configuration and management for Microsoft Azure Cloud Services.
services: cloud-services
documentationcenter: ''
author: genlin
manager: cshepard
editor: ''
tags: top-support-issue
ms.assetid: 84985660-2cfd-483a-8378-50eef6a0151d
ms.service: cloud-services
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/23/2018
ms.author: genli
ms.openlocfilehash: cd6d57f2216744b3ea16477f021045646752c644
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44968730"
---
# <a name="configuration-and-management-issues-for-azure-cloud-services-frequently-asked-questions-faqs"></a><span data-ttu-id="7c1d1-103">Configuration and management issues for Azure Cloud Services: Frequently asked questions (FAQs)</span><span class="sxs-lookup"><span data-stu-id="7c1d1-103">Configuration and management issues for Azure Cloud Services: Frequently asked questions (FAQs)</span></span>

<span data-ttu-id="7c1d1-104">This article includes frequently asked questions about configuration and management issues for [Microsoft Azure Cloud Services](https://azure.microsoft.com/services/cloud-services).</span><span class="sxs-lookup"><span data-stu-id="7c1d1-104">This article includes frequently asked questions about configuration and management issues for [Microsoft Azure Cloud Services](https://azure.microsoft.com/services/cloud-services).</span></span> <span data-ttu-id="7c1d1-105">You can also consult the [Cloud Services VM Size page](cloud-services-sizes-specs.md) for size information.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-105">You can also consult the [Cloud Services VM Size page](cloud-services-sizes-specs.md) for size information.</span></span>

[!INCLUDE [support-disclaimer](../../includes/support-disclaimer.md)]

<span data-ttu-id="7c1d1-106">**Certificates**</span><span class="sxs-lookup"><span data-stu-id="7c1d1-106">**Certificates**</span></span>

- [<span data-ttu-id="7c1d1-107">Why is the certificate chain of my Cloud Service SSL certificate incomplete?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-107">Why is the certificate chain of my Cloud Service SSL certificate incomplete?</span></span>](#why-is-the-certificate-chain-of-my-cloud-service-ssl-certificate-incomplete)
- [<span data-ttu-id="7c1d1-108">What is the purpose of the "Windows Azure Tools Encryption Certificate for Extensions"?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-108">What is the purpose of the "Windows Azure Tools Encryption Certificate for Extensions"?</span></span>](#what-is-the-purpose-of-the-windows-azure-tools-encryption-certificate-for-extensions)
- [<span data-ttu-id="7c1d1-109">How can I generate a Certificate Signing Request (CSR) without "RDP-ing" in to the instance?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-109">How can I generate a Certificate Signing Request (CSR) without "RDP-ing" in to the instance?</span></span>](#how-can-i-generate-a-certificate-signing-request-csr-without-rdp-ing-in-to-the-instance)
- [<span data-ttu-id="7c1d1-110">My Cloud Service Management Certificate is expiring. How to renew it?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-110">My Cloud Service Management Certificate is expiring. How to renew it?</span></span>](#my-cloud-service-management-certificate-is-expiring-how-to-renew-it)
- [<span data-ttu-id="7c1d1-111">How to automate the installation of main SSL certificate(.pfx) and intermediate certificate(.p7b)?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-111">How to automate the installation of main SSL certificate(.pfx) and intermediate certificate(.p7b)?</span></span>](#how-to-automate-the-installation-of-main-ssl-certificatepfx-and-intermediate-certificatep7b)
- [<span data-ttu-id="7c1d1-112">What is the purpose of the "Microsoft Azure Service Management for MachineKey" certificate?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-112">What is the purpose of the "Microsoft Azure Service Management for MachineKey" certificate?</span></span>](#what-is-the-purpose-of-the-microsoft-azure-service-management-for-machinekey-certificate)

<span data-ttu-id="7c1d1-113">**Monitoring and logging**</span><span class="sxs-lookup"><span data-stu-id="7c1d1-113">**Monitoring and logging**</span></span>

- [<span data-ttu-id="7c1d1-114">What are the upcoming Cloud Service capabilities in the Azure portal which can help manage and monitor applications?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-114">What are the upcoming Cloud Service capabilities in the Azure portal which can help manage and monitor applications?</span></span>](#what-are-the-upcoming-cloud-service-capabilities-in-the-azure-portal-which-can-help-manage-and-monitor-applications)
- [<span data-ttu-id="7c1d1-115">Why does IIS stop writing to the log directory?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-115">Why does IIS stop writing to the log directory?</span></span>](#why-does-iis-stop-writing-to-the-log-directory)
- [<span data-ttu-id="7c1d1-116">How do I enable WAD logging for Cloud Services?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-116">How do I enable WAD logging for Cloud Services?</span></span>](#how-do-i-enable-wad-logging-for-cloud-services)

<span data-ttu-id="7c1d1-117">**Network configuration**</span><span class="sxs-lookup"><span data-stu-id="7c1d1-117">**Network configuration**</span></span>

- [<span data-ttu-id="7c1d1-118">How do I set the idle timeout for Azure load balancer?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-118">How do I set the idle timeout for Azure load balancer?</span></span>](#how-do-i-set-the-idle-timeout-for-azure-load-balancer)
- [<span data-ttu-id="7c1d1-119">How do I associate a static IP address to my Cloud Service?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-119">How do I associate a static IP address to my Cloud Service?</span></span>](#how-do-i-associate-a-static-ip-address-to-my-cloud-service)
- [<span data-ttu-id="7c1d1-120">What are the features and capabilities that Azure basic IPS/IDS and DDOS provides?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-120">What are the features and capabilities that Azure basic IPS/IDS and DDOS provides?</span></span>](#what-are-the-features-and-capabilities-that-azure-basic-ipsids-and-ddos-provides)
- [<span data-ttu-id="7c1d1-121">How to enable HTTP/2 on Cloud Services VM?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-121">How to enable HTTP/2 on Cloud Services VM?</span></span>](#how-to-enable-http2-on-cloud-services-vm)

<span data-ttu-id="7c1d1-122">**Permissions**</span><span class="sxs-lookup"><span data-stu-id="7c1d1-122">**Permissions**</span></span>

- [<span data-ttu-id="7c1d1-123">Can Microsoft internal engineers remote desktop to Cloud Service instances without permission?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-123">Can Microsoft internal engineers remote desktop to Cloud Service instances without permission?</span></span>](#can-microsoft-internal-engineers-remote-desktop-to-cloud-service-instances-without-permission)
- [<span data-ttu-id="7c1d1-124">I cannot remote desktop to Cloud Service VM  by using the RDP file. I get following error: An authentication error has occurred (Code: 0x80004005)</span><span class="sxs-lookup"><span data-stu-id="7c1d1-124">I cannot remote desktop to Cloud Service VM  by using the RDP file. I get following error: An authentication error has occurred (Code: 0x80004005)</span></span>](#i-cannot-remote-desktop-to-cloud-service-vm--by-using-the-rdp-file-i-get-following-error-an-authentication-error-has-occurred-code-0x80004005)

<span data-ttu-id="7c1d1-125">**Scaling**</span><span class="sxs-lookup"><span data-stu-id="7c1d1-125">**Scaling**</span></span>

- [<span data-ttu-id="7c1d1-126">I cannot scale beyond X instances</span><span class="sxs-lookup"><span data-stu-id="7c1d1-126">I cannot scale beyond X instances</span></span>](#i-cannot-scale-beyond-x-instances)
- [<span data-ttu-id="7c1d1-127">How can I configure Auto-Scale based on Memory metrics?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-127">How can I configure Auto-Scale based on Memory metrics?</span></span>](#how-can-i-configure-auto-scale-based-on-memory-metrics)

<span data-ttu-id="7c1d1-128">**Generic**</span><span class="sxs-lookup"><span data-stu-id="7c1d1-128">**Generic**</span></span>

- [<span data-ttu-id="7c1d1-129">How do I add "nosniff" to my website?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-129">How do I add "nosniff" to my website?</span></span>](#how-do-i-add-nosniff-to-my-website)
- [<span data-ttu-id="7c1d1-130">How do I customize IIS for a web role?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-130">How do I customize IIS for a web role?</span></span>](#how-do-i-customize-iis-for-a-web-role)
- [<span data-ttu-id="7c1d1-131">What is the quota limit for my Cloud Service?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-131">What is the quota limit for my Cloud Service?</span></span>](#what-is-the-quota-limit-for-my-cloud-service)
- [<span data-ttu-id="7c1d1-132">Why does the drive on my Cloud Service VM show very little free disk space?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-132">Why does the drive on my Cloud Service VM show very little free disk space?</span></span>](#why-does-the-drive-on-my-cloud-service-vm-show-very-little-free-disk-space)
- [<span data-ttu-id="7c1d1-133">How can I add an Antimalware extension for my Cloud Services in an automated way?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-133">How can I add an Antimalware extension for my Cloud Services in an automated way?</span></span>](#how-can-i-add-an-antimalware-extension-for-my-cloud-services-in-an-automated-way)
- [<span data-ttu-id="7c1d1-134">How to enable Server Name Indication (SNI) for Cloud Services?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-134">How to enable Server Name Indication (SNI) for Cloud Services?</span></span>](#how-to-enable-server-name-indication-sni-for-cloud-services)
- [<span data-ttu-id="7c1d1-135">How can I add tags to my Azure Cloud Service?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-135">How can I add tags to my Azure Cloud Service?</span></span>](#how-can-i-add-tags-to-my-azure-cloud-service)
- [<span data-ttu-id="7c1d1-136">The Azure portal doesn't display the SDK version of my Cloud Service. How can I get that?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-136">The Azure portal doesn't display the SDK version of my Cloud Service. How can I get that?</span></span>](#the-azure-portal-doesnt-display-the-sdk-version-of-my-cloud-service-how-can-i-get-that)
- [<span data-ttu-id="7c1d1-137">I want to shut down the Cloud Service for several months. How to reduce the billing cost of Cloud Service without losing the IP address?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-137">I want to shut down the Cloud Service for several months. How to reduce the billing cost of Cloud Service without losing the IP address?</span></span>](#i-want-to-shut-down-the-cloud-service-for-several-months-how-to-reduce-the-billing-cost-of-cloud-service-without-losing-the-ip-address)


## <a name="certificates"></a><span data-ttu-id="7c1d1-138">Certificates</span><span class="sxs-lookup"><span data-stu-id="7c1d1-138">Certificates</span></span>

### <a name="why-is-the-certificate-chain-of-my-cloud-service-ssl-certificate-incomplete"></a><span data-ttu-id="7c1d1-139">Why is the certificate chain of my Cloud Service SSL certificate incomplete?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-139">Why is the certificate chain of my Cloud Service SSL certificate incomplete?</span></span>
    
<span data-ttu-id="7c1d1-140">We recommend that customers install the full certificate chain (leaf cert, intermediate certs, and root cert) instead of just the leaf certificate.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-140">We recommend that customers install the full certificate chain (leaf cert, intermediate certs, and root cert) instead of just the leaf certificate.</span></span> <span data-ttu-id="7c1d1-141">When you install just the leaf certificate, you rely on Windows to build the certificate chain by walking the CTL.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-141">When you install just the leaf certificate, you rely on Windows to build the certificate chain by walking the CTL.</span></span> <span data-ttu-id="7c1d1-142">If intermittent network or DNS issues occur in Azure or Windows Update when Windows is trying to validate the certificate, the certificate may be considered invalid.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-142">If intermittent network or DNS issues occur in Azure or Windows Update when Windows is trying to validate the certificate, the certificate may be considered invalid.</span></span> <span data-ttu-id="7c1d1-143">By installing the full certificate chain, this problem can be avoided.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-143">By installing the full certificate chain, this problem can be avoided.</span></span> <span data-ttu-id="7c1d1-144">The blog at [How to install a chained SSL certificate](https://blogs.msdn.microsoft.com/azuredevsupport/2010/02/24/how-to-install-a-chained-ssl-certificate/) shows how to do this.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-144">The blog at [How to install a chained SSL certificate](https://blogs.msdn.microsoft.com/azuredevsupport/2010/02/24/how-to-install-a-chained-ssl-certificate/) shows how to do this.</span></span>

### <a name="what-is-the-purpose-of-the-windows-azure-tools-encryption-certificate-for-extensions"></a><span data-ttu-id="7c1d1-145">What is the purpose of the "Windows Azure Tools Encryption Certificate for Extensions"?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-145">What is the purpose of the "Windows Azure Tools Encryption Certificate for Extensions"?</span></span>

<span data-ttu-id="7c1d1-146">These certificates are automatically created whenever an extension is added to the Cloud Service.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-146">These certificates are automatically created whenever an extension is added to the Cloud Service.</span></span> <span data-ttu-id="7c1d1-147">Most commonly, this is the WAD extension or the RDP extension, but it could be others, such as the Antimalware or Log Collector extension.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-147">Most commonly, this is the WAD extension or the RDP extension, but it could be others, such as the Antimalware or Log Collector extension.</span></span> <span data-ttu-id="7c1d1-148">These certificates are only used for encrypting and decrypting the private configuration for the extension.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-148">These certificates are only used for encrypting and decrypting the private configuration for the extension.</span></span> <span data-ttu-id="7c1d1-149">The expiration date is never checked, so it doesn’t matter if the certificate is expired.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-149">The expiration date is never checked, so it doesn’t matter if the certificate is expired.</span></span> 

<span data-ttu-id="7c1d1-150">You can ignore these certificates.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-150">You can ignore these certificates.</span></span> <span data-ttu-id="7c1d1-151">If you want to clean up the certificates, you can try deleting them all.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-151">If you want to clean up the certificates, you can try deleting them all.</span></span> <span data-ttu-id="7c1d1-152">Azure will throw an error if you try to delete a certificate that is in use.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-152">Azure will throw an error if you try to delete a certificate that is in use.</span></span>

### <a name="how-can-i-generate-a-certificate-signing-request-csr-without-rdp-ing-in-to-the-instance"></a><span data-ttu-id="7c1d1-153">How can I generate a Certificate Signing Request (CSR) without "RDP-ing" in to the instance?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-153">How can I generate a Certificate Signing Request (CSR) without "RDP-ing" in to the instance?</span></span>

<span data-ttu-id="7c1d1-154">See the following guidance document:</span><span class="sxs-lookup"><span data-stu-id="7c1d1-154">See the following guidance document:</span></span>

[<span data-ttu-id="7c1d1-155">Obtaining a certificate for use with Windows Azure Web Sites (WAWS)</span><span class="sxs-lookup"><span data-stu-id="7c1d1-155">Obtaining a certificate for use with Windows Azure Web Sites (WAWS)</span></span>](https://azure.microsoft.com/blog/obtaining-a-certificate-for-use-with-windows-azure-web-sites-waws/)

<span data-ttu-id="7c1d1-156">The CSR is just a text file.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-156">The CSR is just a text file.</span></span> <span data-ttu-id="7c1d1-157">It does not have to be created from the machine where the certificate will ultimately be used.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-157">It does not have to be created from the machine where the certificate will ultimately be used.</span></span><span data-ttu-id="7c1d1-158"> Although this document is written for an App Service, the CSR creation is generic and applies also for Cloud Services.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-158"> Although this document is written for an App Service, the CSR creation is generic and applies also for Cloud Services.</span></span>

### <a name="my-cloud-service-management-certificate-is-expiring-how-to-renew-it"></a><span data-ttu-id="7c1d1-159">My Cloud Service Management Certificate is expiring.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-159">My Cloud Service Management Certificate is expiring.</span></span> <span data-ttu-id="7c1d1-160">How to renew it?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-160">How to renew it?</span></span>

<span data-ttu-id="7c1d1-161">You can use following PowerShell commands to renew your Management Certificates:</span><span class="sxs-lookup"><span data-stu-id="7c1d1-161">You can use following PowerShell commands to renew your Management Certificates:</span></span>

    Add-AzureAccount
    Select-AzureSubscription -Current -SubscriptionName <your subscription name>
    Get-AzurePublishSettingsFile

<span data-ttu-id="7c1d1-162">The **Get-AzurePublishSettingsFile** will create a new management certificate in **Subscription** > **Management Certificates** in the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-162">The **Get-AzurePublishSettingsFile** will create a new management certificate in **Subscription** > **Management Certificates** in the Azure portal.</span></span> <span data-ttu-id="7c1d1-163">The name of the new certificate looks like "YourSubscriptionNam]-[CurrentDate]-credentials".</span><span class="sxs-lookup"><span data-stu-id="7c1d1-163">The name of the new certificate looks like "YourSubscriptionNam]-[CurrentDate]-credentials".</span></span>

### <a name="how-to-automate-the-installation-of-main-ssl-certificatepfx-and-intermediate-certificatep7b"></a><span data-ttu-id="7c1d1-164">How to automate the installation of main SSL certificate(.pfx) and intermediate certificate(.p7b)?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-164">How to automate the installation of main SSL certificate(.pfx) and intermediate certificate(.p7b)?</span></span>

<span data-ttu-id="7c1d1-165">You can automate this task by using a startup script (batch/cmd/PowerShell) and register that startup script in the service definition file.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-165">You can automate this task by using a startup script (batch/cmd/PowerShell) and register that startup script in the service definition file.</span></span> <span data-ttu-id="7c1d1-166">Add both the startup script and certificate(.p7b file) in the project folder of the same directory of the startup script.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-166">Add both the startup script and certificate(.p7b file) in the project folder of the same directory of the startup script.</span></span>

### <a name="what-is-the-purpose-of-the-microsoft-azure-service-management-for-machinekey-certificate"></a><span data-ttu-id="7c1d1-167">What is the purpose of the "Microsoft Azure Service Management for MachineKey" certificate?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-167">What is the purpose of the "Microsoft Azure Service Management for MachineKey" certificate?</span></span>

<span data-ttu-id="7c1d1-168">This certificate is used to encrypt machine keys on Azure Web Roles.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-168">This certificate is used to encrypt machine keys on Azure Web Roles.</span></span> <span data-ttu-id="7c1d1-169">To learn more, check out this advisory[https://docs.microsoft.com/security-updates/securityadvisories/2018/4092731].</span><span class="sxs-lookup"><span data-stu-id="7c1d1-169">To learn more, check out this advisory[https://docs.microsoft.com/security-updates/securityadvisories/2018/4092731].</span></span>

<span data-ttu-id="7c1d1-170">For more information, see the following articles:</span><span class="sxs-lookup"><span data-stu-id="7c1d1-170">For more information, see the following articles:</span></span>
- [<span data-ttu-id="7c1d1-171">How to configure and run startup tasks for a Cloud Service</span><span class="sxs-lookup"><span data-stu-id="7c1d1-171">How to configure and run startup tasks for a Cloud Service</span></span>](https://docs.microsoft.com/azure/cloud-services/cloud-services-startup-tasks)
- [<span data-ttu-id="7c1d1-172">Common Cloud Service startup tasks</span><span class="sxs-lookup"><span data-stu-id="7c1d1-172">Common Cloud Service startup tasks</span></span>](https://docs.microsoft.com/azure/cloud-services/cloud-services-startup-tasks-common)

## <a name="monitoring-and-logging"></a><span data-ttu-id="7c1d1-173">Monitoring and logging</span><span class="sxs-lookup"><span data-stu-id="7c1d1-173">Monitoring and logging</span></span>

### <a name="what-are-the-upcoming-cloud-service-capabilities-in-the-azure-portal-which-can-help-manage-and-monitor-applications"></a><span data-ttu-id="7c1d1-174">What are the upcoming Cloud Service capabilities in the Azure portal which can help manage and monitor applications?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-174">What are the upcoming Cloud Service capabilities in the Azure portal which can help manage and monitor applications?</span></span>

<span data-ttu-id="7c1d1-175">Ability to generate a new certificate for Remote Desktop Protocol (RDP) is coming soon.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-175">Ability to generate a new certificate for Remote Desktop Protocol (RDP) is coming soon.</span></span> <span data-ttu-id="7c1d1-176">Alternatively, you can run this script:</span><span class="sxs-lookup"><span data-stu-id="7c1d1-176">Alternatively, you can run this script:</span></span>

```powershell
$cert = New-SelfSignedCertificate -DnsName yourdomain.cloudapp.net -CertStoreLocation "cert:\LocalMachine\My" -KeyLength 20 48 -KeySpec "KeyExchange"
$password = ConvertTo-SecureString -String "your-password" -Force -AsPlainText
Export-PfxCertificate -Cert $cert -FilePath ".\my-cert-file.pfx" -Password $password
```
<span data-ttu-id="7c1d1-177">Ability to choose blob or local for your csdef and cscfg upload location is coming soon.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-177">Ability to choose blob or local for your csdef and cscfg upload location is coming soon.</span></span> <span data-ttu-id="7c1d1-178">Using [New-AzureDeployment](/powershell/module/servicemanagement/azure/new-azuredeployment?view=azuresmps-4.0.0), you can set each location value.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-178">Using [New-AzureDeployment](/powershell/module/servicemanagement/azure/new-azuredeployment?view=azuresmps-4.0.0), you can set each location value.</span></span>

<span data-ttu-id="7c1d1-179">Ability to monitor metrics at the instance level.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-179">Ability to monitor metrics at the instance level.</span></span> <span data-ttu-id="7c1d1-180">Additional monitoring capabilities are available in [How to Monitor Cloud Services](cloud-services-how-to-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="7c1d1-180">Additional monitoring capabilities are available in [How to Monitor Cloud Services](cloud-services-how-to-monitor.md).</span></span>

### <a name="why-does-iis-stop-writing-to-the-log-directory"></a><span data-ttu-id="7c1d1-181">Why does IIS stop writing to the log directory?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-181">Why does IIS stop writing to the log directory?</span></span>
<span data-ttu-id="7c1d1-182">You have exhausted the local storage quota for writing to the log directory.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-182">You have exhausted the local storage quota for writing to the log directory.</span></span><span data-ttu-id="7c1d1-183"> To correct this, you can do one of three things:</span><span class="sxs-lookup"><span data-stu-id="7c1d1-183"> To correct this, you can do one of three things:</span></span>
* <span data-ttu-id="7c1d1-184">Enable diagnostics for IIS and have the diagnostics periodically moved to blob storage.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-184">Enable diagnostics for IIS and have the diagnostics periodically moved to blob storage.</span></span>
* <span data-ttu-id="7c1d1-185">Manually remove log files from the logging directory.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-185">Manually remove log files from the logging directory.</span></span>
* <span data-ttu-id="7c1d1-186">Increase quota limit for local resources.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-186">Increase quota limit for local resources.</span></span>

<span data-ttu-id="7c1d1-187">For more information, see the following documents:</span><span class="sxs-lookup"><span data-stu-id="7c1d1-187">For more information, see the following documents:</span></span>
* [<span data-ttu-id="7c1d1-188">Store and view diagnostic data in Azure Storage</span><span class="sxs-lookup"><span data-stu-id="7c1d1-188">Store and view diagnostic data in Azure Storage</span></span>](cloud-services-dotnet-diagnostics-storage.md)
* [<span data-ttu-id="7c1d1-189">IIS Logs stop writing in Cloud Service</span><span class="sxs-lookup"><span data-stu-id="7c1d1-189">IIS Logs stop writing in Cloud Service</span></span>](https://blogs.msdn.microsoft.com/cie/2013/12/21/iis-logs-stops-writing-in-cloud-service/)

### <a name="how-do-i-enable-wad-logging-for-cloud-services"></a><span data-ttu-id="7c1d1-190">How do I enable WAD logging for Cloud Services?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-190">How do I enable WAD logging for Cloud Services?</span></span>
<span data-ttu-id="7c1d1-191">You can enable Windows Azure Diagnostics (WAD) logging through following options:</span><span class="sxs-lookup"><span data-stu-id="7c1d1-191">You can enable Windows Azure Diagnostics (WAD) logging through following options:</span></span>
1. [<span data-ttu-id="7c1d1-192">Enable from Visual Studio</span><span class="sxs-lookup"><span data-stu-id="7c1d1-192">Enable from Visual Studio</span></span>](https://docs.microsoft.com/azure/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines#turn-on-diagnostics-in-cloud-service-projects-before-you-deploy-them)
2. [<span data-ttu-id="7c1d1-193">Enable through .Net code</span><span class="sxs-lookup"><span data-stu-id="7c1d1-193">Enable through .Net code</span></span>](https://docs.microsoft.com/azure/cloud-services/cloud-services-dotnet-diagnostics)
3. [<span data-ttu-id="7c1d1-194">Enable through Powershell</span><span class="sxs-lookup"><span data-stu-id="7c1d1-194">Enable through Powershell</span></span>](https://docs.microsoft.com/azure/cloud-services/cloud-services-diagnostics-powershell)

<span data-ttu-id="7c1d1-195">In order to get the current WAD settings of your Cloud Service, you can use [Get-AzureServiceDiagnosticsExtensions](https://docs.microsoft.com/azure/cloud-services/cloud-services-diagnostics-powershell#get-current-diagnostics-extension-configuration) ps cmd or you can view it through portal from “Cloud Services --> Extensions” blade.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-195">In order to get the current WAD settings of your Cloud Service, you can use [Get-AzureServiceDiagnosticsExtensions](https://docs.microsoft.com/azure/cloud-services/cloud-services-diagnostics-powershell#get-current-diagnostics-extension-configuration) ps cmd or you can view it through portal from “Cloud Services --> Extensions” blade.</span></span>


## <a name="network-configuration"></a><span data-ttu-id="7c1d1-196">Network configuration</span><span class="sxs-lookup"><span data-stu-id="7c1d1-196">Network configuration</span></span>

### <a name="how-do-i-set-the-idle-timeout-for-azure-load-balancer"></a><span data-ttu-id="7c1d1-197">How do I set the idle timeout for Azure load balancer?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-197">How do I set the idle timeout for Azure load balancer?</span></span>
<span data-ttu-id="7c1d1-198">You can specify the timeout in your service definition (csdef) file like this:</span><span class="sxs-lookup"><span data-stu-id="7c1d1-198">You can specify the timeout in your service definition (csdef) file like this:</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<ServiceDefinition name="mgVS2015Worker" xmlns="http://schemas.microsoft.com/ServiceHosting/2008/10/ServiceDefinition" schemaVersion="2015-04.2.6">
  <WorkerRole name="WorkerRole1" vmsize="Small">
    <ConfigurationSettings>
      <Setting name="Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString" />
    </ConfigurationSettings>
    <Imports>
      <Import moduleName="RemoteAccess" />
      <Import moduleName="RemoteForwarder" />
    </Imports>
    <Endpoints>
      <InputEndpoint name="Endpoint1" protocol="tcp" port="10100"   idleTimeoutInMinutes="30" />
    </Endpoints>
  </WorkerRole>
```
<span data-ttu-id="7c1d1-199">See [New: Configurable Idle Timeout for Azure Load Balancer](https://azure.microsoft.com/blog/new-configurable-idle-timeout-for-azure-load-balancer/) for more information.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-199">See [New: Configurable Idle Timeout for Azure Load Balancer](https://azure.microsoft.com/blog/new-configurable-idle-timeout-for-azure-load-balancer/) for more information.</span></span>

### <a name="how-do-i-associate-a-static-ip-address-to-my-cloud-service"></a><span data-ttu-id="7c1d1-200">How do I associate a static IP address to my Cloud Service?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-200">How do I associate a static IP address to my Cloud Service?</span></span>
<span data-ttu-id="7c1d1-201">To set up a static IP address, you need to create a reserved IP.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-201">To set up a static IP address, you need to create a reserved IP.</span></span> <span data-ttu-id="7c1d1-202">This reserved IP can be associated to a new Cloud Service or to an existing deployment.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-202">This reserved IP can be associated to a new Cloud Service or to an existing deployment.</span></span> <span data-ttu-id="7c1d1-203">See the following documents for details:</span><span class="sxs-lookup"><span data-stu-id="7c1d1-203">See the following documents for details:</span></span>
* [<span data-ttu-id="7c1d1-204">How to create a reserved IP address</span><span class="sxs-lookup"><span data-stu-id="7c1d1-204">How to create a reserved IP address</span></span>](../virtual-network/virtual-networks-reserved-public-ip.md#manage-reserved-vips)
* [<span data-ttu-id="7c1d1-205">Reserve the IP address of an existing Cloud Service</span><span class="sxs-lookup"><span data-stu-id="7c1d1-205">Reserve the IP address of an existing Cloud Service</span></span>](../virtual-network/virtual-networks-reserved-public-ip.md#reserve-the-ip-address-of-an-existing-cloud-service)
* [<span data-ttu-id="7c1d1-206">Associate a reserved IP to a new Cloud Service</span><span class="sxs-lookup"><span data-stu-id="7c1d1-206">Associate a reserved IP to a new Cloud Service</span></span>](../virtual-network/virtual-networks-reserved-public-ip.md#associate-a-reserved-ip-to-a-new-cloud-service)
* [<span data-ttu-id="7c1d1-207">Associate a reserved IP to a running deployment</span><span class="sxs-lookup"><span data-stu-id="7c1d1-207">Associate a reserved IP to a running deployment</span></span>](../virtual-network/virtual-networks-reserved-public-ip.md#associate-a-reserved-ip-to-a-running-deployment)
* [<span data-ttu-id="7c1d1-208">Associate a reserved IP to a Cloud Service by using a service configuration file</span><span class="sxs-lookup"><span data-stu-id="7c1d1-208">Associate a reserved IP to a Cloud Service by using a service configuration file</span></span>](../virtual-network/virtual-networks-reserved-public-ip.md#associate-a-reserved-ip-to-a-cloud-service-by-using-a-service-configuration-file)

### <a name="what-are-the-features-and-capabilities-that-azure-basic-ipsids-and-ddos-provides"></a><span data-ttu-id="7c1d1-209">What are the features and capabilities that Azure basic IPS/IDS and DDOS provides?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-209">What are the features and capabilities that Azure basic IPS/IDS and DDOS provides?</span></span>
<span data-ttu-id="7c1d1-210">Azure has IPS/IDS in datacenter physical servers to defend against threats.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-210">Azure has IPS/IDS in datacenter physical servers to defend against threats.</span></span> <span data-ttu-id="7c1d1-211">In addition, customers can deploy third-party security solutions, such as web application firewalls, network firewalls, antimalware, intrusion detection, prevention systems (IDS/IPS), and more.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-211">In addition, customers can deploy third-party security solutions, such as web application firewalls, network firewalls, antimalware, intrusion detection, prevention systems (IDS/IPS), and more.</span></span> <span data-ttu-id="7c1d1-212">For more information, see [Protect your data and assets and comply with global security standards](https://www.microsoft.com/en-us/trustcenter/Security/AzureSecurity).</span><span class="sxs-lookup"><span data-stu-id="7c1d1-212">For more information, see [Protect your data and assets and comply with global security standards](https://www.microsoft.com/en-us/trustcenter/Security/AzureSecurity).</span></span>

<span data-ttu-id="7c1d1-213">Microsoft continuously monitors servers, networks, and applications to detect threats.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-213">Microsoft continuously monitors servers, networks, and applications to detect threats.</span></span> <span data-ttu-id="7c1d1-214">Azure's multipronged threat-management approach uses intrusion detection, distributed denial-of-service (DDoS) attack prevention, penetration testing, behavioral analytics, anomaly detection, and machine learning to constantly strengthen its defense and reduce risks.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-214">Azure's multipronged threat-management approach uses intrusion detection, distributed denial-of-service (DDoS) attack prevention, penetration testing, behavioral analytics, anomaly detection, and machine learning to constantly strengthen its defense and reduce risks.</span></span> <span data-ttu-id="7c1d1-215">Microsoft Antimalware for Azure protects Azure Cloud Services and virtual machines.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-215">Microsoft Antimalware for Azure protects Azure Cloud Services and virtual machines.</span></span> <span data-ttu-id="7c1d1-216">You have the option to deploy third-party security solutions in addition, such as web application fire walls, network firewalls, antimalware, intrusion detection and prevention systems (IDS/IPS), and more.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-216">You have the option to deploy third-party security solutions in addition, such as web application fire walls, network firewalls, antimalware, intrusion detection and prevention systems (IDS/IPS), and more.</span></span>

### <a name="how-to-enable-http2-on-cloud-services-vm"></a><span data-ttu-id="7c1d1-217">How to enable HTTP/2 on Cloud Services VM?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-217">How to enable HTTP/2 on Cloud Services VM?</span></span>

<span data-ttu-id="7c1d1-218">Windows 10 and Windows Server 2016 come with support for HTTP/2 on both client and server side.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-218">Windows 10 and Windows Server 2016 come with support for HTTP/2 on both client and server side.</span></span> <span data-ttu-id="7c1d1-219">If your client (browser) is connecting to the IIS server over TLS that negotiates HTTP/2 via TLS extensions, then you do not need to make any change on the server-side.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-219">If your client (browser) is connecting to the IIS server over TLS that negotiates HTTP/2 via TLS extensions, then you do not need to make any change on the server-side.</span></span> <span data-ttu-id="7c1d1-220">This is because, over TLS, the h2-14 header specifying use of HTTP/2 is sent by default.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-220">This is because, over TLS, the h2-14 header specifying use of HTTP/2 is sent by default.</span></span> <span data-ttu-id="7c1d1-221">If on the other hand your client is sending an Upgrade header to upgrade to HTTP/2, then you need to make the change below on the server side to ensure that the Upgrade works and you end up with an HTTP/2 connection.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-221">If on the other hand your client is sending an Upgrade header to upgrade to HTTP/2, then you need to make the change below on the server side to ensure that the Upgrade works and you end up with an HTTP/2 connection.</span></span> 

1. <span data-ttu-id="7c1d1-222">Run regedit.exe.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-222">Run regedit.exe.</span></span>
2. <span data-ttu-id="7c1d1-223">Browse to registry key: HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\HTTP\Parameters.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-223">Browse to registry key: HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\HTTP\Parameters.</span></span>
3. <span data-ttu-id="7c1d1-224">Create a new DWORD value named **DuoEnabled**.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-224">Create a new DWORD value named **DuoEnabled**.</span></span>
4. <span data-ttu-id="7c1d1-225">Set its value to 1.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-225">Set its value to 1.</span></span>
5. <span data-ttu-id="7c1d1-226">Restart your server.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-226">Restart your server.</span></span>
6. <span data-ttu-id="7c1d1-227">Go to your **Default Web Site** and under **Bindings**, create a new TLS binding with the self-signed certificate just created.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-227">Go to your **Default Web Site** and under **Bindings**, create a new TLS binding with the self-signed certificate just created.</span></span> 

<span data-ttu-id="7c1d1-228">For more information, see:</span><span class="sxs-lookup"><span data-stu-id="7c1d1-228">For more information, see:</span></span>

- [<span data-ttu-id="7c1d1-229">HTTP/2 on IIS</span><span class="sxs-lookup"><span data-stu-id="7c1d1-229">HTTP/2 on IIS</span></span>](https://blogs.iis.net/davidso/http2)
- [<span data-ttu-id="7c1d1-230">Video: HTTP/2 in Windows 10: Browser, Apps and Web Server</span><span class="sxs-lookup"><span data-stu-id="7c1d1-230">Video: HTTP/2 in Windows 10: Browser, Apps and Web Server</span></span>](https://channel9.msdn.com/Events/Build/2015/3-88)
         

<span data-ttu-id="7c1d1-231">These steps could be automated via a startup task, so that whenever a new PaaS instance gets created, it can do the changes above in the system registry.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-231">These steps could be automated via a startup task, so that whenever a new PaaS instance gets created, it can do the changes above in the system registry.</span></span> <span data-ttu-id="7c1d1-232">For more information, see [How to configure and run startup tasks for a Cloud Service](cloud-services-startup-tasks.md).</span><span class="sxs-lookup"><span data-stu-id="7c1d1-232">For more information, see [How to configure and run startup tasks for a Cloud Service](cloud-services-startup-tasks.md).</span></span>

 
<span data-ttu-id="7c1d1-233">Once this has been done, you can verify whether the HTTP/2 has been enabled or not by using one of the following methods:</span><span class="sxs-lookup"><span data-stu-id="7c1d1-233">Once this has been done, you can verify whether the HTTP/2 has been enabled or not by using one of the following methods:</span></span>

- <span data-ttu-id="7c1d1-234">Enable Protocol version in IIS logs and look into the IIS logs.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-234">Enable Protocol version in IIS logs and look into the IIS logs.</span></span> <span data-ttu-id="7c1d1-235">It will show HTTP/2 in the logs.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-235">It will show HTTP/2 in the logs.</span></span> 
- <span data-ttu-id="7c1d1-236">Enable F12 Developer Tool in Internet Explorer/Edge and switch to the Network tab to verify the protocol.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-236">Enable F12 Developer Tool in Internet Explorer/Edge and switch to the Network tab to verify the protocol.</span></span> 

<span data-ttu-id="7c1d1-237">For more information, see [HTTP/2 on IIS](https://blogs.iis.net/davidso/http2).</span><span class="sxs-lookup"><span data-stu-id="7c1d1-237">For more information, see [HTTP/2 on IIS](https://blogs.iis.net/davidso/http2).</span></span>

## <a name="permissions"></a><span data-ttu-id="7c1d1-238">Permissions</span><span class="sxs-lookup"><span data-stu-id="7c1d1-238">Permissions</span></span>

### <a name="how-can-i-implement-role-based-access-for-cloud-services"></a><span data-ttu-id="7c1d1-239">How can I implement role-based access for Cloud Services?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-239">How can I implement role-based access for Cloud Services?</span></span>
<span data-ttu-id="7c1d1-240">Cloud Services doesn't support the role-based access control (RBAC) model, as it's not an Azure Resource Manager based service.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-240">Cloud Services doesn't support the role-based access control (RBAC) model, as it's not an Azure Resource Manager based service.</span></span>

<span data-ttu-id="7c1d1-241">See [Understand the different roles in Azure](../role-based-access-control/rbac-and-directory-admin-roles.md).</span><span class="sxs-lookup"><span data-stu-id="7c1d1-241">See [Understand the different roles in Azure](../role-based-access-control/rbac-and-directory-admin-roles.md).</span></span>

## <a name="remote-desktop"></a><span data-ttu-id="7c1d1-242">Remote desktop</span><span class="sxs-lookup"><span data-stu-id="7c1d1-242">Remote desktop</span></span>

### <a name="can-microsoft-internal-engineers-remote-desktop-to-cloud-service-instances-without-permission"></a><span data-ttu-id="7c1d1-243">Can Microsoft internal engineers remote desktop to Cloud Service instances without permission?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-243">Can Microsoft internal engineers remote desktop to Cloud Service instances without permission?</span></span>
<span data-ttu-id="7c1d1-244">Microsoft follows a strict process that will not allow internal engineers to remote desktop into your Cloud Service without written permission (email or other written communication) from the owner or their designee.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-244">Microsoft follows a strict process that will not allow internal engineers to remote desktop into your Cloud Service without written permission (email or other written communication) from the owner or their designee.</span></span>

### <a name="i-cannot-remote-desktop-to-cloud-service-vm--by-using-the-rdp-file-i-get-following-error-an-authentication-error-has-occurred-code-0x80004005"></a><span data-ttu-id="7c1d1-245">I cannot remote desktop to Cloud Service VM  by using the RDP file.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-245">I cannot remote desktop to Cloud Service VM  by using the RDP file.</span></span> <span data-ttu-id="7c1d1-246">I get following error: An authentication error has occurred (Code: 0x80004005)</span><span class="sxs-lookup"><span data-stu-id="7c1d1-246">I get following error: An authentication error has occurred (Code: 0x80004005)</span></span>

<span data-ttu-id="7c1d1-247">This error may occur if you use the RDP file from a machine that is joined to Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-247">This error may occur if you use the RDP file from a machine that is joined to Azure Active Directory.</span></span> <span data-ttu-id="7c1d1-248">To resolve this issue, follow these steps:</span><span class="sxs-lookup"><span data-stu-id="7c1d1-248">To resolve this issue, follow these steps:</span></span>

1. <span data-ttu-id="7c1d1-249">Right-click the RDP file you downloaded and then select **Edit**.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-249">Right-click the RDP file you downloaded and then select **Edit**.</span></span>
2. <span data-ttu-id="7c1d1-250">Add "&#92;" as prefix before the username.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-250">Add "&#92;" as prefix before the username.</span></span> <span data-ttu-id="7c1d1-251">For example, use **.\username** instead of  **username**.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-251">For example, use **.\username** instead of  **username**.</span></span>

## <a name="scaling"></a><span data-ttu-id="7c1d1-252">Scaling</span><span class="sxs-lookup"><span data-stu-id="7c1d1-252">Scaling</span></span>

### <a name="i-cannot-scale-beyond-x-instances"></a><span data-ttu-id="7c1d1-253">I cannot scale beyond X instances</span><span class="sxs-lookup"><span data-stu-id="7c1d1-253">I cannot scale beyond X instances</span></span>
<span data-ttu-id="7c1d1-254">Your Azure Subscription has a limit on the number of cores you can use.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-254">Your Azure Subscription has a limit on the number of cores you can use.</span></span> <span data-ttu-id="7c1d1-255">Scaling will not work if you have used all the cores available.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-255">Scaling will not work if you have used all the cores available.</span></span> <span data-ttu-id="7c1d1-256">For example, if you have a limit of 100 cores, this means you could have 100 A1 sized virtual machine instances for your Cloud Service, or 50 A2 sized virtual machine instances.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-256">For example, if you have a limit of 100 cores, this means you could have 100 A1 sized virtual machine instances for your Cloud Service, or 50 A2 sized virtual machine instances.</span></span>

### <a name="how-can-i-configure-auto-scale-based-on-memory-metrics"></a><span data-ttu-id="7c1d1-257">How can I configure Auto-Scale based on Memory metrics?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-257">How can I configure Auto-Scale based on Memory metrics?</span></span>

<span data-ttu-id="7c1d1-258">Auto-scale based on Memory metrics for a Cloud Services is not currently supported.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-258">Auto-scale based on Memory metrics for a Cloud Services is not currently supported.</span></span> 

<span data-ttu-id="7c1d1-259">To work around this problem, you can use Application Insights.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-259">To work around this problem, you can use Application Insights.</span></span> <span data-ttu-id="7c1d1-260">Auto-Scale supports Application Insights as a Metrics Source and can scale the role instance count based on guest metric like "Memory".</span><span class="sxs-lookup"><span data-stu-id="7c1d1-260">Auto-Scale supports Application Insights as a Metrics Source and can scale the role instance count based on guest metric like "Memory".</span></span>  <span data-ttu-id="7c1d1-261">You have to configure Application Insights in your Cloud Service project package file (\*.cspkg) and enable Azure Diagnostics extension on the service to implement this feat.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-261">You have to configure Application Insights in your Cloud Service project package file (\*.cspkg) and enable Azure Diagnostics extension on the service to implement this feat.</span></span>

<span data-ttu-id="7c1d1-262">For more details on how to utilize a custom metric via Application Insights to configure Auto-Scale on  Cloud Services, see [Get started with auto scale by custom metric in Azure](../monitoring-and-diagnostics/monitoring-autoscale-scale-by-custom-metric.md)</span><span class="sxs-lookup"><span data-stu-id="7c1d1-262">For more details on how to utilize a custom metric via Application Insights to configure Auto-Scale on  Cloud Services, see [Get started with auto scale by custom metric in Azure](../monitoring-and-diagnostics/monitoring-autoscale-scale-by-custom-metric.md)</span></span>

<span data-ttu-id="7c1d1-263">For more information on how to integrate Azure Diagnostics with Application Insights for Cloud Services, see [Send Cloud Service, Virtual Machine, or Service Fabric diagnostic data to Application Insights](../monitoring-and-diagnostics/azure-diagnostics-configure-application-insights.md)</span><span class="sxs-lookup"><span data-stu-id="7c1d1-263">For more information on how to integrate Azure Diagnostics with Application Insights for Cloud Services, see [Send Cloud Service, Virtual Machine, or Service Fabric diagnostic data to Application Insights](../monitoring-and-diagnostics/azure-diagnostics-configure-application-insights.md)</span></span>

<span data-ttu-id="7c1d1-264">For more information about to enable Application Insights for Cloud Services, see [Application Insights for Azure Cloud Services](https://docs.microsoft.com/azure/application-insights/app-insights-cloudservices)</span><span class="sxs-lookup"><span data-stu-id="7c1d1-264">For more information about to enable Application Insights for Cloud Services, see [Application Insights for Azure Cloud Services](https://docs.microsoft.com/azure/application-insights/app-insights-cloudservices)</span></span>

<span data-ttu-id="7c1d1-265">For more information about how to enable Azure Diagnostics Logging for Cloud Services, see [Set up diagnostics for Azure Cloud Services and virtual machines](../vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines.md#turn-on-diagnostics-in-cloud-service-projects-before-you-deploy-them)</span><span class="sxs-lookup"><span data-stu-id="7c1d1-265">For more information about how to enable Azure Diagnostics Logging for Cloud Services, see [Set up diagnostics for Azure Cloud Services and virtual machines](../vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines.md#turn-on-diagnostics-in-cloud-service-projects-before-you-deploy-them)</span></span>

## <a name="generic"></a><span data-ttu-id="7c1d1-266">Generic</span><span class="sxs-lookup"><span data-stu-id="7c1d1-266">Generic</span></span>

### <a name="how-do-i-add-nosniff-to-my-website"></a><span data-ttu-id="7c1d1-267">How do I add "nosniff" to my website?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-267">How do I add "nosniff" to my website?</span></span>
<span data-ttu-id="7c1d1-268">To prevent clients from sniffing the MIME types, add a setting in your *web.config* file.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-268">To prevent clients from sniffing the MIME types, add a setting in your *web.config* file.</span></span>

```xml
<configuration>
   <system.webServer>
      <httpProtocol>
         <customHeaders>
            <add name="X-Content-Type-Options" value="nosniff" />
         </customHeaders>
      </httpProtocol>
   </system.webServer>
</configuration>
```

<span data-ttu-id="7c1d1-269">You can also add this as a setting in IIS.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-269">You can also add this as a setting in IIS.</span></span> <span data-ttu-id="7c1d1-270">Use the following command with the [common startup tasks](cloud-services-startup-tasks-common.md#configure-iis-startup-with-appcmdexe) article.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-270">Use the following command with the [common startup tasks](cloud-services-startup-tasks-common.md#configure-iis-startup-with-appcmdexe) article.</span></span>

```cmd
%windir%\system32\inetsrv\appcmd set config /section:httpProtocol /+customHeaders.[name='X-Content-Type-Options',value='nosniff']
```

### <a name="how-do-i-customize-iis-for-a-web-role"></a><span data-ttu-id="7c1d1-271">How do I customize IIS for a web role?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-271">How do I customize IIS for a web role?</span></span>
<span data-ttu-id="7c1d1-272">Use the IIS startup script from the [common startup tasks](cloud-services-startup-tasks-common.md#configure-iis-startup-with-appcmdexe) article.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-272">Use the IIS startup script from the [common startup tasks](cloud-services-startup-tasks-common.md#configure-iis-startup-with-appcmdexe) article.</span></span>

### <a name="what-is-the-quota-limit-for-my-cloud-service"></a><span data-ttu-id="7c1d1-273">What is the quota limit for my Cloud Service?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-273">What is the quota limit for my Cloud Service?</span></span>
<span data-ttu-id="7c1d1-274">See [Service-specific limits](../azure-subscription-service-limits.md#subscription-limits).</span><span class="sxs-lookup"><span data-stu-id="7c1d1-274">See [Service-specific limits](../azure-subscription-service-limits.md#subscription-limits).</span></span>

### <a name="why-does-the-drive-on-my-cloud-service-vm-show-very-little-free-disk-space"></a><span data-ttu-id="7c1d1-275">Why does the drive on my Cloud Service VM show very little free disk space?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-275">Why does the drive on my Cloud Service VM show very little free disk space?</span></span>
<span data-ttu-id="7c1d1-276">This is expected behavior, and it shouldn't cause any issue to your application.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-276">This is expected behavior, and it shouldn't cause any issue to your application.</span></span> <span data-ttu-id="7c1d1-277">Journaling is turned on for the %approot% drive in Azure PaaS VMs, which essentially consumes double the amount of space that files normally take up.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-277">Journaling is turned on for the %approot% drive in Azure PaaS VMs, which essentially consumes double the amount of space that files normally take up.</span></span> <span data-ttu-id="7c1d1-278">However there are several things to be aware of that essentially turn this into a non-issue.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-278">However there are several things to be aware of that essentially turn this into a non-issue.</span></span>

<span data-ttu-id="7c1d1-279">The %approot% drive size is calculated as <size of .cspkg + max journal size + a margin of free space>, or 1.5 GB, whichever is larger.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-279">The %approot% drive size is calculated as <size of .cspkg + max journal size + a margin of free space>, or 1.5 GB, whichever is larger.</span></span> <span data-ttu-id="7c1d1-280">The size of your VM has no bearing on this calculation.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-280">The size of your VM has no bearing on this calculation.</span></span> <span data-ttu-id="7c1d1-281">(The VM size only affects the size of the temporary C: drive.)</span><span class="sxs-lookup"><span data-stu-id="7c1d1-281">(The VM size only affects the size of the temporary C: drive.)</span></span> 

<span data-ttu-id="7c1d1-282">It is unsupported to write to the %approot% drive.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-282">It is unsupported to write to the %approot% drive.</span></span> <span data-ttu-id="7c1d1-283">If you are writing to the Azure VM, you must do so in a temporary LocalStorage resource (or other option, such as Blob storage, Azure Files, etc.).</span><span class="sxs-lookup"><span data-stu-id="7c1d1-283">If you are writing to the Azure VM, you must do so in a temporary LocalStorage resource (or other option, such as Blob storage, Azure Files, etc.).</span></span> <span data-ttu-id="7c1d1-284">So the amount of free space on the %approot% folder is not meaningful.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-284">So the amount of free space on the %approot% folder is not meaningful.</span></span> <span data-ttu-id="7c1d1-285">If you are not sure if your application is writing to the %approot% drive, you can always let your service run for a few days and then compare the "before" and "after" sizes.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-285">If you are not sure if your application is writing to the %approot% drive, you can always let your service run for a few days and then compare the "before" and "after" sizes.</span></span> 

<span data-ttu-id="7c1d1-286">Azure will not write anything to the %approot% drive.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-286">Azure will not write anything to the %approot% drive.</span></span> <span data-ttu-id="7c1d1-287">Once the VHD is created from your .cspkg and mounted into the Azure VM, the only thing that might write to this drive is your application.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-287">Once the VHD is created from your .cspkg and mounted into the Azure VM, the only thing that might write to this drive is your application.</span></span> 

<span data-ttu-id="7c1d1-288">The journal settings are non-configurable, so you can't turn it off.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-288">The journal settings are non-configurable, so you can't turn it off.</span></span>

### <a name="how-can-i-add-an-antimalware-extension-for-my-cloud-services-in-an-automated-way"></a><span data-ttu-id="7c1d1-289">How can I add an Antimalware extension for my Cloud Services in an automated way?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-289">How can I add an Antimalware extension for my Cloud Services in an automated way?</span></span>

<span data-ttu-id="7c1d1-290">You can enable Antimalware extension using PowerShell script in the Startup Task.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-290">You can enable Antimalware extension using PowerShell script in the Startup Task.</span></span> <span data-ttu-id="7c1d1-291">Follow the steps in these articles to implement it:</span><span class="sxs-lookup"><span data-stu-id="7c1d1-291">Follow the steps in these articles to implement it:</span></span> 
 
- [<span data-ttu-id="7c1d1-292">Create a PowerShell startup task</span><span class="sxs-lookup"><span data-stu-id="7c1d1-292">Create a PowerShell startup task</span></span>](cloud-services-startup-tasks-common.md#create-a-powershell-startup-task)
- [<span data-ttu-id="7c1d1-293">Set-AzureServiceAntimalwareExtension</span><span class="sxs-lookup"><span data-stu-id="7c1d1-293">Set-AzureServiceAntimalwareExtension</span></span>](https://docs.microsoft.com/powershell/module/servicemanagement/azure/Set-AzureServiceAntimalwareExtension?view=azuresmps-4.0.0 )

<span data-ttu-id="7c1d1-294">For more information about Antimalware deployment scenarios and how to enable it from the portal, see [Antimalware Deployment Scenarios](../security/azure-security-antimalware.md#antimalware-deployment-scenarios).</span><span class="sxs-lookup"><span data-stu-id="7c1d1-294">For more information about Antimalware deployment scenarios and how to enable it from the portal, see [Antimalware Deployment Scenarios](../security/azure-security-antimalware.md#antimalware-deployment-scenarios).</span></span>

### <a name="how-to-enable-server-name-indication-sni-for-cloud-services"></a><span data-ttu-id="7c1d1-295">How to enable Server Name Indication (SNI) for Cloud Services?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-295">How to enable Server Name Indication (SNI) for Cloud Services?</span></span>

<span data-ttu-id="7c1d1-296">You can enable SNI in Cloud Services by using one of the following methods:</span><span class="sxs-lookup"><span data-stu-id="7c1d1-296">You can enable SNI in Cloud Services by using one of the following methods:</span></span>

<span data-ttu-id="7c1d1-297">**Method 1: Use PowerShell**</span><span class="sxs-lookup"><span data-stu-id="7c1d1-297">**Method 1: Use PowerShell**</span></span>

<span data-ttu-id="7c1d1-298">The SNI binding can be configured using the PowerShell cmdlet **New-WebBinding** in a startup task for a Cloud Service role instance as below:</span><span class="sxs-lookup"><span data-stu-id="7c1d1-298">The SNI binding can be configured using the PowerShell cmdlet **New-WebBinding** in a startup task for a Cloud Service role instance as below:</span></span>
    
    New-WebBinding -Name $WebsiteName -Protocol "https" -Port 443 -IPAddress $IPAddress -HostHeader $HostHeader -SslFlags $sslFlags 
    
<span data-ttu-id="7c1d1-299">As described [here](https://technet.microsoft.com/library/ee790567.aspx), the $sslFlags could be one of the values as the following:</span><span class="sxs-lookup"><span data-stu-id="7c1d1-299">As described [here](https://technet.microsoft.com/library/ee790567.aspx), the $sslFlags could be one of the values as the following:</span></span>

|<span data-ttu-id="7c1d1-300">Value</span><span class="sxs-lookup"><span data-stu-id="7c1d1-300">Value</span></span>|<span data-ttu-id="7c1d1-301">Meaning</span><span class="sxs-lookup"><span data-stu-id="7c1d1-301">Meaning</span></span>|
------|------
|<span data-ttu-id="7c1d1-302">0</span><span class="sxs-lookup"><span data-stu-id="7c1d1-302">0</span></span>|<span data-ttu-id="7c1d1-303">No SNI</span><span class="sxs-lookup"><span data-stu-id="7c1d1-303">No SNI</span></span>|
|<span data-ttu-id="7c1d1-304">1</span><span class="sxs-lookup"><span data-stu-id="7c1d1-304">1</span></span>|<span data-ttu-id="7c1d1-305">SNI Enabled</span><span class="sxs-lookup"><span data-stu-id="7c1d1-305">SNI Enabled</span></span> |
|<span data-ttu-id="7c1d1-306">2</span><span class="sxs-lookup"><span data-stu-id="7c1d1-306">2</span></span> |<span data-ttu-id="7c1d1-307">Non SNI binding which uses Central Certificate Store</span><span class="sxs-lookup"><span data-stu-id="7c1d1-307">Non SNI binding which uses Central Certificate Store</span></span>|
|<span data-ttu-id="7c1d1-308">3</span><span class="sxs-lookup"><span data-stu-id="7c1d1-308">3</span></span>|<span data-ttu-id="7c1d1-309">SNI binding which uses Central Certificate store</span><span class="sxs-lookup"><span data-stu-id="7c1d1-309">SNI binding which uses Central Certificate store</span></span> |
 
<span data-ttu-id="7c1d1-310">**Method 2: Use code**</span><span class="sxs-lookup"><span data-stu-id="7c1d1-310">**Method 2: Use code**</span></span>

<span data-ttu-id="7c1d1-311">The SNI binding could also be configured via code in the role startup as described on this [blog post](https://blogs.msdn.microsoft.com/jianwu/2014/12/17/expose-ssl-service-to-multi-domains-from-the-same-cloud-service/):</span><span class="sxs-lookup"><span data-stu-id="7c1d1-311">The SNI binding could also be configured via code in the role startup as described on this [blog post](https://blogs.msdn.microsoft.com/jianwu/2014/12/17/expose-ssl-service-to-multi-domains-from-the-same-cloud-service/):</span></span>

    
    //<code snip> 
                    var serverManager = new ServerManager(); 
                    var site = serverManager.Sites[0]; 
                    var binding = site.Bindings.Add(“:443:www.test1.com”, newCert.GetCertHash(), “My”); 
                    binding.SetAttributeValue(“sslFlags”, 1); //enables the SNI 
                    serverManager.CommitChanges(); 
    //</code snip> 
    
<span data-ttu-id="7c1d1-312">Using any of the approaches above, the respective certificates (\*.pfx) for the specific hostnames have to be first installed on the role instances using a startup task or via code in order for the SNI binding to be effective.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-312">Using any of the approaches above, the respective certificates (\*.pfx) for the specific hostnames have to be first installed on the role instances using a startup task or via code in order for the SNI binding to be effective.</span></span>

### <a name="how-can-i-add-tags-to-my-azure-cloud-service"></a><span data-ttu-id="7c1d1-313">How can I add tags to my Azure Cloud Service?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-313">How can I add tags to my Azure Cloud Service?</span></span> 

<span data-ttu-id="7c1d1-314">Cloud Service is a Classic resource.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-314">Cloud Service is a Classic resource.</span></span> <span data-ttu-id="7c1d1-315">Only resources created through Azure Resource Manager support tags.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-315">Only resources created through Azure Resource Manager support tags.</span></span> <span data-ttu-id="7c1d1-316">You cannot apply tags to Classic resources such as Cloud Service.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-316">You cannot apply tags to Classic resources such as Cloud Service.</span></span> 

### <a name="the-azure-portal-doesnt-display-the-sdk-version-of-my-cloud-service-how-can-i-get-that"></a><span data-ttu-id="7c1d1-317">The Azure portal doesn't display the SDK version of my Cloud Service.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-317">The Azure portal doesn't display the SDK version of my Cloud Service.</span></span> <span data-ttu-id="7c1d1-318">How can I get that?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-318">How can I get that?</span></span>

<span data-ttu-id="7c1d1-319">We are working on bringing this feature on the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-319">We are working on bringing this feature on the Azure portal.</span></span> <span data-ttu-id="7c1d1-320">Meanwhile, you can use following PowerShell commands to get the SDK version:</span><span class="sxs-lookup"><span data-stu-id="7c1d1-320">Meanwhile, you can use following PowerShell commands to get the SDK version:</span></span>

    Get-AzureService -ServiceName "<Cloud Service name>" | Get-AzureDeployment | Where-Object -Property SdkVersion -NE -Value "" | select ServiceName,SdkVersion,OSVersion,Slot

### <a name="i-want-to-shut-down-the-cloud-service-for-several-months-how-to-reduce-the-billing-cost-of-cloud-service-without-losing-the-ip-address"></a><span data-ttu-id="7c1d1-321">I want to shut down the Cloud Service for several months.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-321">I want to shut down the Cloud Service for several months.</span></span> <span data-ttu-id="7c1d1-322">How to reduce the billing cost of Cloud Service without losing the IP address?</span><span class="sxs-lookup"><span data-stu-id="7c1d1-322">How to reduce the billing cost of Cloud Service without losing the IP address?</span></span>

<span data-ttu-id="7c1d1-323">An already deployed Cloud Service gets billed for the Compute and Storage it uses.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-323">An already deployed Cloud Service gets billed for the Compute and Storage it uses.</span></span> <span data-ttu-id="7c1d1-324">So even if you shut down the Azure VM, you will still get billed for the Storage.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-324">So even if you shut down the Azure VM, you will still get billed for the Storage.</span></span> 

<span data-ttu-id="7c1d1-325">Here is what you can do to reduce your billing without losing the IP address for your service:</span><span class="sxs-lookup"><span data-stu-id="7c1d1-325">Here is what you can do to reduce your billing without losing the IP address for your service:</span></span>

1. <span data-ttu-id="7c1d1-326">[Reserve the IP address](../virtual-network/virtual-networks-reserved-public-ip.md) before you delete the deployments.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-326">[Reserve the IP address](../virtual-network/virtual-networks-reserved-public-ip.md) before you delete the deployments.</span></span>  <span data-ttu-id="7c1d1-327">You will only be billed for this IP address.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-327">You will only be billed for this IP address.</span></span> <span data-ttu-id="7c1d1-328">For more information about IP address billing, see [IP addresses pricing](https://azure.microsoft.com/pricing/details/ip-addresses/).</span><span class="sxs-lookup"><span data-stu-id="7c1d1-328">For more information about IP address billing, see [IP addresses pricing](https://azure.microsoft.com/pricing/details/ip-addresses/).</span></span>
2. <span data-ttu-id="7c1d1-329">Delete the deployments.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-329">Delete the deployments.</span></span> <span data-ttu-id="7c1d1-330">Don’t delete the xxx.cloudapp.net, so that you can use it for future.</span><span class="sxs-lookup"><span data-stu-id="7c1d1-330">Don’t delete the xxx.cloudapp.net, so that you can use it for future.</span></span>
3. <span data-ttu-id="7c1d1-331">If you want to redeploy the Cloud Service by using the same reserve IP that you reserved in your subscription, see [Reserved IP addresses for Cloud Services and Virtual Machines](https://azure.microsoft.com/blog/reserved-ip-addresses/).</span><span class="sxs-lookup"><span data-stu-id="7c1d1-331">If you want to redeploy the Cloud Service by using the same reserve IP that you reserved in your subscription, see [Reserved IP addresses for Cloud Services and Virtual Machines](https://azure.microsoft.com/blog/reserved-ip-addresses/).</span></span>

