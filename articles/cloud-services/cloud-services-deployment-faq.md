---
title: Deployment issues for Microsoft Azure Cloud Services FAQ| Microsoft Docs
description: This article lists the frequently asked questions about deployment for Microsoft Azure Cloud Services.
services: cloud-services
documentationcenter: ''
author: genlin
manager: cshepard
editor: ''
tags: top-support-issue
ms.assetid: 84985660-2cfd-483a-8378-50eef6a0151d
ms.service: cloud-services
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/11/2018
ms.author: genli
ms.openlocfilehash: dc312bad8fc9861ce465001f9be8d1b18673ee06
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44856503"
---
# <a name="deployment-issues-for-azure-cloud-services-frequently-asked-questions-faqs"></a><span data-ttu-id="38adf-103">Deployment issues for Azure Cloud Services: Frequently asked questions (FAQs)</span><span class="sxs-lookup"><span data-stu-id="38adf-103">Deployment issues for Azure Cloud Services: Frequently asked questions (FAQs)</span></span>

<span data-ttu-id="38adf-104">This article includes frequently asked questions about deployment issues for [Microsoft Azure Cloud Services](https://azure.microsoft.com/services/cloud-services).</span><span class="sxs-lookup"><span data-stu-id="38adf-104">This article includes frequently asked questions about deployment issues for [Microsoft Azure Cloud Services](https://azure.microsoft.com/services/cloud-services).</span></span> <span data-ttu-id="38adf-105">You can also consult the [Cloud Services VM Size page](cloud-services-sizes-specs.md) for size information.</span><span class="sxs-lookup"><span data-stu-id="38adf-105">You can also consult the [Cloud Services VM Size page](cloud-services-sizes-specs.md) for size information.</span></span>

[!INCLUDE [support-disclaimer](../../includes/support-disclaimer.md)]

## <a name="why-does-deploying-a-cloud-service-to-the-staging-slot-sometimes-fail-with-a-resource-allocation-error-if-there-is-already-an-existing-deployment-in-the-production-slot"></a><span data-ttu-id="38adf-106">Why does deploying a cloud service to the staging slot sometimes fail with a resource allocation error if there is already an existing deployment in the production slot?</span><span class="sxs-lookup"><span data-stu-id="38adf-106">Why does deploying a cloud service to the staging slot sometimes fail with a resource allocation error if there is already an existing deployment in the production slot?</span></span>
<span data-ttu-id="38adf-107">If a cloud service has a deployment in either slot, the entire cloud service is pinned to a specific cluster.</span><span class="sxs-lookup"><span data-stu-id="38adf-107">If a cloud service has a deployment in either slot, the entire cloud service is pinned to a specific cluster.</span></span> <span data-ttu-id="38adf-108">This means that if a deployment already exists in the production slot, a new staging deployment can only be allocated in the same cluster as the production slot.</span><span class="sxs-lookup"><span data-stu-id="38adf-108">This means that if a deployment already exists in the production slot, a new staging deployment can only be allocated in the same cluster as the production slot.</span></span>

<span data-ttu-id="38adf-109">Allocation failures occur when the cluster where your cloud service is located does not have enough physical compute resources to satisfy your deployment request.</span><span class="sxs-lookup"><span data-stu-id="38adf-109">Allocation failures occur when the cluster where your cloud service is located does not have enough physical compute resources to satisfy your deployment request.</span></span>

<span data-ttu-id="38adf-110">For help mitigating such allocation failures, see [Cloud Service allocation failure: Solutions](cloud-services-allocation-failures.md#solutions).</span><span class="sxs-lookup"><span data-stu-id="38adf-110">For help mitigating such allocation failures, see [Cloud Service allocation failure: Solutions](cloud-services-allocation-failures.md#solutions).</span></span>

## <a name="why-does-scaling-up-or-scaling-out-a-cloud-service-deployment-sometimes-result-in-allocation-failure"></a><span data-ttu-id="38adf-111">Why does scaling up or scaling out a cloud service deployment sometimes result in allocation failure?</span><span class="sxs-lookup"><span data-stu-id="38adf-111">Why does scaling up or scaling out a cloud service deployment sometimes result in allocation failure?</span></span>
<span data-ttu-id="38adf-112">When a cloud service is deployed, it usually gets pinned to a specific cluster.</span><span class="sxs-lookup"><span data-stu-id="38adf-112">When a cloud service is deployed, it usually gets pinned to a specific cluster.</span></span> <span data-ttu-id="38adf-113">This means scaling up/out an existing cloud service must allocate new instances in the same cluster.</span><span class="sxs-lookup"><span data-stu-id="38adf-113">This means scaling up/out an existing cloud service must allocate new instances in the same cluster.</span></span> <span data-ttu-id="38adf-114">If the cluster is nearing capacity or the desired VM size/type is not available, the request may fail.</span><span class="sxs-lookup"><span data-stu-id="38adf-114">If the cluster is nearing capacity or the desired VM size/type is not available, the request may fail.</span></span>

<span data-ttu-id="38adf-115">For help mitigating such allocation failures, see [Cloud Service allocation failure: Solutions](cloud-services-allocation-failures.md#solutions).</span><span class="sxs-lookup"><span data-stu-id="38adf-115">For help mitigating such allocation failures, see [Cloud Service allocation failure: Solutions](cloud-services-allocation-failures.md#solutions).</span></span>

## <a name="why-does-deploying-a-cloud-service-into-an-affinity-group-sometimes-result-in-allocation-failure"></a><span data-ttu-id="38adf-116">Why does deploying a cloud service into an affinity group sometimes result in allocation failure?</span><span class="sxs-lookup"><span data-stu-id="38adf-116">Why does deploying a cloud service into an affinity group sometimes result in allocation failure?</span></span>
<span data-ttu-id="38adf-117">A new deployment to an empty cloud service can be allocated by the fabric in any cluster in that region, unless the cloud service is pinned to an affinity group.</span><span class="sxs-lookup"><span data-stu-id="38adf-117">A new deployment to an empty cloud service can be allocated by the fabric in any cluster in that region, unless the cloud service is pinned to an affinity group.</span></span> <span data-ttu-id="38adf-118">Deployments to the same affinity group will be attempted on the same cluster.</span><span class="sxs-lookup"><span data-stu-id="38adf-118">Deployments to the same affinity group will be attempted on the same cluster.</span></span> <span data-ttu-id="38adf-119">If the cluster is nearing capacity, the request may fail.</span><span class="sxs-lookup"><span data-stu-id="38adf-119">If the cluster is nearing capacity, the request may fail.</span></span>

<span data-ttu-id="38adf-120">For help mitigating such allocation failures, see [Cloud Service allocation failure: Solutions](cloud-services-allocation-failures.md#solutions).</span><span class="sxs-lookup"><span data-stu-id="38adf-120">For help mitigating such allocation failures, see [Cloud Service allocation failure: Solutions](cloud-services-allocation-failures.md#solutions).</span></span>

## <a name="why-does-changing-vm-size-or-adding-a-new-vm-to-an-existing-cloud-service-sometimes-result-in-allocation-failure"></a><span data-ttu-id="38adf-121">Why does changing VM size or adding a new VM to an existing cloud service sometimes result in allocation failure?</span><span class="sxs-lookup"><span data-stu-id="38adf-121">Why does changing VM size or adding a new VM to an existing cloud service sometimes result in allocation failure?</span></span>
<span data-ttu-id="38adf-122">The clusters in a datacenter may have different configurations of machine types (e.g., A series, Av2 series, D series, Dv2 series, G series, H series, etc.).</span><span class="sxs-lookup"><span data-stu-id="38adf-122">The clusters in a datacenter may have different configurations of machine types (e.g., A series, Av2 series, D series, Dv2 series, G series, H series, etc.).</span></span> <span data-ttu-id="38adf-123">But not all the clusters would necessarily have all the kinds of VMs.</span><span class="sxs-lookup"><span data-stu-id="38adf-123">But not all the clusters would necessarily have all the kinds of VMs.</span></span> <span data-ttu-id="38adf-124">For example, if you try to add a D series VM to a cloud service that is already deployed in an A series-only cluster, you will experience an allocation failure.</span><span class="sxs-lookup"><span data-stu-id="38adf-124">For example, if you try to add a D series VM to a cloud service that is already deployed in an A series-only cluster, you will experience an allocation failure.</span></span> <span data-ttu-id="38adf-125">This will also happen if you try to change VM SKU sizes (for example, switching from an A series to a D series).</span><span class="sxs-lookup"><span data-stu-id="38adf-125">This will also happen if you try to change VM SKU sizes (for example, switching from an A series to a D series).</span></span>

<span data-ttu-id="38adf-126">For help mitigating such allocation failures, see [Cloud Service allocation failure: Solutions](cloud-services-allocation-failures.md#solutions).</span><span class="sxs-lookup"><span data-stu-id="38adf-126">For help mitigating such allocation failures, see [Cloud Service allocation failure: Solutions](cloud-services-allocation-failures.md#solutions).</span></span>

<span data-ttu-id="38adf-127">To check the sizes available in your region, see [Microsoft Azure: Products available by region](https://azure.microsoft.com/regions/services).</span><span class="sxs-lookup"><span data-stu-id="38adf-127">To check the sizes available in your region, see [Microsoft Azure: Products available by region](https://azure.microsoft.com/regions/services).</span></span>

## <a name="why-does-deploying-a-cloud-service-sometime-fail-due-to-limitsquotasconstraints-on-my-subscription-or-service"></a><span data-ttu-id="38adf-128">Why does deploying a cloud service sometime fail due to limits/quotas/constraints on my subscription or service?</span><span class="sxs-lookup"><span data-stu-id="38adf-128">Why does deploying a cloud service sometime fail due to limits/quotas/constraints on my subscription or service?</span></span>
<span data-ttu-id="38adf-129">Deployment of a cloud service may fail if the resources that are required to be allocated exceed the default or maximum quota allowed for your service at the region/datacenter level.</span><span class="sxs-lookup"><span data-stu-id="38adf-129">Deployment of a cloud service may fail if the resources that are required to be allocated exceed the default or maximum quota allowed for your service at the region/datacenter level.</span></span> <span data-ttu-id="38adf-130">For more information, see [Cloud Services limits](../azure-subscription-service-limits.md#cloud-services-limits).</span><span class="sxs-lookup"><span data-stu-id="38adf-130">For more information, see [Cloud Services limits](../azure-subscription-service-limits.md#cloud-services-limits).</span></span>

<span data-ttu-id="38adf-131">You could also track the current usage/quota for your subscription at the portal: Azure portal => Subscriptions => \<appropriate subscription> => “Usage + quota”.</span><span class="sxs-lookup"><span data-stu-id="38adf-131">You could also track the current usage/quota for your subscription at the portal: Azure portal => Subscriptions => \<appropriate subscription> => “Usage + quota”.</span></span>

<span data-ttu-id="38adf-132">Resource usage/consumption-related information can also be retrieved via the Azure Billing APIs.</span><span class="sxs-lookup"><span data-stu-id="38adf-132">Resource usage/consumption-related information can also be retrieved via the Azure Billing APIs.</span></span> <span data-ttu-id="38adf-133">See [Azure Resource Usage API (Preview)](../billing/billing-usage-rate-card-overview.md#azure-resource-usage-api-preview).</span><span class="sxs-lookup"><span data-stu-id="38adf-133">See [Azure Resource Usage API (Preview)](../billing/billing-usage-rate-card-overview.md#azure-resource-usage-api-preview).</span></span>

## <a name="how-can-i-change-the-size-of-a-deployed-cloud-service-vm-without-redeploying-it"></a><span data-ttu-id="38adf-134">How can I change the size of a deployed cloud service VM without redeploying it?</span><span class="sxs-lookup"><span data-stu-id="38adf-134">How can I change the size of a deployed cloud service VM without redeploying it?</span></span>
<span data-ttu-id="38adf-135">You cannot change the VM size of a deployed cloud service without redeploying it.</span><span class="sxs-lookup"><span data-stu-id="38adf-135">You cannot change the VM size of a deployed cloud service without redeploying it.</span></span> <span data-ttu-id="38adf-136">The VM size is built into the CSDEF, which can only be updated with a redeploy.</span><span class="sxs-lookup"><span data-stu-id="38adf-136">The VM size is built into the CSDEF, which can only be updated with a redeploy.</span></span>

<span data-ttu-id="38adf-137">For more information, see [How to update a cloud service](cloud-services-update-azure-service.md).</span><span class="sxs-lookup"><span data-stu-id="38adf-137">For more information, see [How to update a cloud service](cloud-services-update-azure-service.md).</span></span>

## <a name="why-am-i-not-able-to-deploy-cloud-services-through-service-management-apis-or-powershell-when-using-azure-resource-manager-storage-account"></a><span data-ttu-id="38adf-138">Why am I not able to deploy Cloud Services through Service Management APIs or PowerShell when using Azure Resource Manager Storage account?</span><span class="sxs-lookup"><span data-stu-id="38adf-138">Why am I not able to deploy Cloud Services through Service Management APIs or PowerShell when using Azure Resource Manager Storage account?</span></span> 

<span data-ttu-id="38adf-139">Since the Cloud Service is a Classic resource which is not directly compatible with the Azure Resource Manager model, you can't associate it with the Azure Resource Manager Storage accounts.</span><span class="sxs-lookup"><span data-stu-id="38adf-139">Since the Cloud Service is a Classic resource which is not directly compatible with the Azure Resource Manager model, you can't associate it with the Azure Resource Manager Storage accounts.</span></span> <span data-ttu-id="38adf-140">Here are few options:</span><span class="sxs-lookup"><span data-stu-id="38adf-140">Here are few options:</span></span> 
 
- <span data-ttu-id="38adf-141">Deploying through REST API.</span><span class="sxs-lookup"><span data-stu-id="38adf-141">Deploying through REST API.</span></span>

    <span data-ttu-id="38adf-142">When you deploy through Service Management REST API, you could get around the limitation by specifying a SAS URL to the blob storage, which will work with both Classic and Azure Resource Manager Storage account.</span><span class="sxs-lookup"><span data-stu-id="38adf-142">When you deploy through Service Management REST API, you could get around the limitation by specifying a SAS URL to the blob storage, which will work with both Classic and Azure Resource Manager Storage account.</span></span> <span data-ttu-id="38adf-143">Read more about the 'PackageUrl' property [here](https://msdn.microsoft.com/library/azure/ee460813.aspx).</span><span class="sxs-lookup"><span data-stu-id="38adf-143">Read more about the 'PackageUrl' property [here](https://msdn.microsoft.com/library/azure/ee460813.aspx).</span></span>
  
- <span data-ttu-id="38adf-144">Deploying through [Azure portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="38adf-144">Deploying through [Azure portal](https://portal.azure.com).</span></span>

    <span data-ttu-id="38adf-145">This will work from the [Azure portal](https://portal.azure.com) as the call goes through a proxy/shim which allows communication between Azure Resource Manager and Classic resources.</span><span class="sxs-lookup"><span data-stu-id="38adf-145">This will work from the [Azure portal](https://portal.azure.com) as the call goes through a proxy/shim which allows communication between Azure Resource Manager and Classic resources.</span></span> 
 
## <a name="why-does-azure-portal-require-me-to-provide-a-storage-account-for-deployment"></a><span data-ttu-id="38adf-146">Why does Azure portal require me to provide a storage account for deployment?</span><span class="sxs-lookup"><span data-stu-id="38adf-146">Why does Azure portal require me to provide a storage account for deployment?</span></span> 

<span data-ttu-id="38adf-147">In the classic portal, the package was uploaded to the management API layer directly, and then the API layer would temporarily put the package into an internal storage account.</span><span class="sxs-lookup"><span data-stu-id="38adf-147">In the classic portal, the package was uploaded to the management API layer directly, and then the API layer would temporarily put the package into an internal storage account.</span></span>  <span data-ttu-id="38adf-148">This process causes performance and scalability problems because the API layer was not designed to be a file upload service.</span><span class="sxs-lookup"><span data-stu-id="38adf-148">This process causes performance and scalability problems because the API layer was not designed to be a file upload service.</span></span>  <span data-ttu-id="38adf-149">In the Azure portal (Resource Manager deployment model), we have bypassed the interim step of first uploading to the API layer, resulting in faster and more reliable deployments.</span><span class="sxs-lookup"><span data-stu-id="38adf-149">In the Azure portal (Resource Manager deployment model), we have bypassed the interim step of first uploading to the API layer, resulting in faster and more reliable deployments.</span></span> 

<span data-ttu-id="38adf-150">As for the cost, it is very small and you can reuse the same storage account across all deployments.</span><span class="sxs-lookup"><span data-stu-id="38adf-150">As for the cost, it is very small and you can reuse the same storage account across all deployments.</span></span> <span data-ttu-id="38adf-151">You can use the [storage cost calculator](https://azure.microsoft.com/pricing/calculator/#storage1) to determine the cost to upload the service package (CSPKG), download the CSPKG, then delete the CSPKG.</span><span class="sxs-lookup"><span data-stu-id="38adf-151">You can use the [storage cost calculator](https://azure.microsoft.com/pricing/calculator/#storage1) to determine the cost to upload the service package (CSPKG), download the CSPKG, then delete the CSPKG.</span></span> 
