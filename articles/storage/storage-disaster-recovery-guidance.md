---
title: What to do in the event of an Azure Storage outage | Microsoft Docs
description: What to do in the event of an Azure Storage outage
services: storage
documentationcenter: .net
author: robinsh
manager: timlt
editor: tysonn
ms.assetid: 8f040b0f-8926-4831-ac07-79f646f31926
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 1/19/2017
ms.author: robinsh
ms.openlocfilehash: 83ab487f382eb84aa64b927bdf5560eec5cbbd6d
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44555354"
---
# <a name="what-to-do-if-an-azure-storage-outage-occurs"></a><span data-ttu-id="be7b1-103">What to do if an Azure Storage outage occurs</span><span class="sxs-lookup"><span data-stu-id="be7b1-103">What to do if an Azure Storage outage occurs</span></span>
<span data-ttu-id="be7b1-104">At Microsoft, we work hard to make sure our services are always available.</span><span class="sxs-lookup"><span data-stu-id="be7b1-104">At Microsoft, we work hard to make sure our services are always available.</span></span> <span data-ttu-id="be7b1-105">Sometimes, forces beyond our control impact us in ways that cause unplanned service outages in one or more regions.</span><span class="sxs-lookup"><span data-stu-id="be7b1-105">Sometimes, forces beyond our control impact us in ways that cause unplanned service outages in one or more regions.</span></span> <span data-ttu-id="be7b1-106">To help you handle these rare occurrences, we provide the following high-level guidance for Azure Storage services.</span><span class="sxs-lookup"><span data-stu-id="be7b1-106">To help you handle these rare occurrences, we provide the following high-level guidance for Azure Storage services.</span></span>

## <a name="how-to-prepare"></a><span data-ttu-id="be7b1-107">How to prepare</span><span class="sxs-lookup"><span data-stu-id="be7b1-107">How to prepare</span></span>
<span data-ttu-id="be7b1-108">It is critical for every customer to prepare their own disaster recovery plan.</span><span class="sxs-lookup"><span data-stu-id="be7b1-108">It is critical for every customer to prepare their own disaster recovery plan.</span></span> <span data-ttu-id="be7b1-109">The effort to recover from a storage outage typically involves both operations personnel and automated procedures in order to reactivate your applications in a functioning state.</span><span class="sxs-lookup"><span data-stu-id="be7b1-109">The effort to recover from a storage outage typically involves both operations personnel and automated procedures in order to reactivate your applications in a functioning state.</span></span> <span data-ttu-id="be7b1-110">Please refer to the Azure documentation below to build your own disaster recovery plan:</span><span class="sxs-lookup"><span data-stu-id="be7b1-110">Please refer to the Azure documentation below to build your own disaster recovery plan:</span></span>

* [<span data-ttu-id="be7b1-111">Disaster recovery and high availability for Azure applications</span><span class="sxs-lookup"><span data-stu-id="be7b1-111">Disaster recovery and high availability for Azure applications</span></span>](../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md)
* [<span data-ttu-id="be7b1-112">Azure resiliency technical guidance</span><span class="sxs-lookup"><span data-stu-id="be7b1-112">Azure resiliency technical guidance</span></span>](../resiliency/resiliency-technical-guidance.md)
* [<span data-ttu-id="be7b1-113">Azure Site Recovery service</span><span class="sxs-lookup"><span data-stu-id="be7b1-113">Azure Site Recovery service</span></span>](https://azure.microsoft.com/services/site-recovery/)
* [<span data-ttu-id="be7b1-114">Azure Storage replication</span><span class="sxs-lookup"><span data-stu-id="be7b1-114">Azure Storage replication</span></span>](storage-redundancy.md)
* [<span data-ttu-id="be7b1-115">Azure Backup service</span><span class="sxs-lookup"><span data-stu-id="be7b1-115">Azure Backup service</span></span>](https://azure.microsoft.com/services/backup/)

## <a name="how-to-detect"></a><span data-ttu-id="be7b1-116">How to detect</span><span class="sxs-lookup"><span data-stu-id="be7b1-116">How to detect</span></span>
<span data-ttu-id="be7b1-117">The recommended way to determine the Azure service status is to subscribe to the [Azure Service Health Dashboard](https://azure.microsoft.com/status/).</span><span class="sxs-lookup"><span data-stu-id="be7b1-117">The recommended way to determine the Azure service status is to subscribe to the [Azure Service Health Dashboard](https://azure.microsoft.com/status/).</span></span>

## <a name="what-to-do-if-a-storage-outage-occurs"></a><span data-ttu-id="be7b1-118">What to do if a Storage outage occurs</span><span class="sxs-lookup"><span data-stu-id="be7b1-118">What to do if a Storage outage occurs</span></span>
<span data-ttu-id="be7b1-119">If one or more Storage services are temporarily unavailable at one or more regions, there are two options for you to consider.</span><span class="sxs-lookup"><span data-stu-id="be7b1-119">If one or more Storage services are temporarily unavailable at one or more regions, there are two options for you to consider.</span></span> <span data-ttu-id="be7b1-120">If you desire immediate access to your data, please consider Option 2.</span><span class="sxs-lookup"><span data-stu-id="be7b1-120">If you desire immediate access to your data, please consider Option 2.</span></span>

### <a name="option-1-wait-for-recovery"></a><span data-ttu-id="be7b1-121">Option 1: Wait for recovery</span><span class="sxs-lookup"><span data-stu-id="be7b1-121">Option 1: Wait for recovery</span></span>
<span data-ttu-id="be7b1-122">In this case, no action on your part is required.</span><span class="sxs-lookup"><span data-stu-id="be7b1-122">In this case, no action on your part is required.</span></span> <span data-ttu-id="be7b1-123">We are working diligently to restore the Azure service availability.</span><span class="sxs-lookup"><span data-stu-id="be7b1-123">We are working diligently to restore the Azure service availability.</span></span> <span data-ttu-id="be7b1-124">You can monitor the service status on the [Azure Service Health Dashboard](https://azure.microsoft.com/status/).</span><span class="sxs-lookup"><span data-stu-id="be7b1-124">You can monitor the service status on the [Azure Service Health Dashboard](https://azure.microsoft.com/status/).</span></span>

### <a name="option-2-copy-data-from-secondary"></a><span data-ttu-id="be7b1-125">Option 2: Copy data from secondary</span><span class="sxs-lookup"><span data-stu-id="be7b1-125">Option 2: Copy data from secondary</span></span>
<span data-ttu-id="be7b1-126">If you chose [Read-access geo-redundant storage (RA-GRS)](storage-redundancy.md#read-access-geo-redundant-storage) (recommended) for your storage accounts, you will have read access to your data from the secondary region.</span><span class="sxs-lookup"><span data-stu-id="be7b1-126">If you chose [Read-access geo-redundant storage (RA-GRS)](storage-redundancy.md#read-access-geo-redundant-storage) (recommended) for your storage accounts, you will have read access to your data from the secondary region.</span></span> <span data-ttu-id="be7b1-127">You can use tools such as [AzCopy](storage-use-azcopy.md), [Azure PowerShell](storage-powershell-guide-full.md), and the [Azure Data Movement library](https://azure.microsoft.com/blog/introducing-azure-storage-data-movement-library-preview-2/) to copy data from the secondary region into another storage account in an unimpacted region, and then point your applications to that storage account for both read and write availability.</span><span class="sxs-lookup"><span data-stu-id="be7b1-127">You can use tools such as [AzCopy](storage-use-azcopy.md), [Azure PowerShell](storage-powershell-guide-full.md), and the [Azure Data Movement library](https://azure.microsoft.com/blog/introducing-azure-storage-data-movement-library-preview-2/) to copy data from the secondary region into another storage account in an unimpacted region, and then point your applications to that storage account for both read and write availability.</span></span>

## <a name="what-to-expect-if-a-storage-failover-occurs"></a><span data-ttu-id="be7b1-128">What to expect if a Storage failover occurs</span><span class="sxs-lookup"><span data-stu-id="be7b1-128">What to expect if a Storage failover occurs</span></span>
<span data-ttu-id="be7b1-129">If you chose [Geo-redundant storage (GRS)](storage-redundancy.md#geo-redundant-storage) or [Read-access geo-redundant storage (RA-GRS)](storage-redundancy.md#read-access-geo-redundant-storage) (recommended), Azure Storage will keep your data durable in two regions (primary and secondary).</span><span class="sxs-lookup"><span data-stu-id="be7b1-129">If you chose [Geo-redundant storage (GRS)](storage-redundancy.md#geo-redundant-storage) or [Read-access geo-redundant storage (RA-GRS)](storage-redundancy.md#read-access-geo-redundant-storage) (recommended), Azure Storage will keep your data durable in two regions (primary and secondary).</span></span> <span data-ttu-id="be7b1-130">In both regions, Azure Storage constantly maintains multiple replicas of your data.</span><span class="sxs-lookup"><span data-stu-id="be7b1-130">In both regions, Azure Storage constantly maintains multiple replicas of your data.</span></span>

<span data-ttu-id="be7b1-131">When a regional disaster affects your primary region, we will first try to restore the service in that region.</span><span class="sxs-lookup"><span data-stu-id="be7b1-131">When a regional disaster affects your primary region, we will first try to restore the service in that region.</span></span> <span data-ttu-id="be7b1-132">Dependent upon the nature of the disaster and its impacts, in some rare occasions we may not be able to restore the primary region.</span><span class="sxs-lookup"><span data-stu-id="be7b1-132">Dependent upon the nature of the disaster and its impacts, in some rare occasions we may not be able to restore the primary region.</span></span> <span data-ttu-id="be7b1-133">At that point, we will perform a geo-failover.</span><span class="sxs-lookup"><span data-stu-id="be7b1-133">At that point, we will perform a geo-failover.</span></span> <span data-ttu-id="be7b1-134">The cross-region data replication is an asynchronous process which can involve a delay, so it is possible that changes that have not yet been replicated to the secondary region may be lost.</span><span class="sxs-lookup"><span data-stu-id="be7b1-134">The cross-region data replication is an asynchronous process which can involve a delay, so it is possible that changes that have not yet been replicated to the secondary region may be lost.</span></span> <span data-ttu-id="be7b1-135">You can query the ["Last Sync Time" of your storage account](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/) to get details on the replication status.</span><span class="sxs-lookup"><span data-stu-id="be7b1-135">You can query the ["Last Sync Time" of your storage account](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/) to get details on the replication status.</span></span>

<span data-ttu-id="be7b1-136">A couple of points regarding the storage geo-failover experience:</span><span class="sxs-lookup"><span data-stu-id="be7b1-136">A couple of points regarding the storage geo-failover experience:</span></span>

* <span data-ttu-id="be7b1-137">Storage geo-failover will only be triggered by the Azure Storage team – there is no customer action required.</span><span class="sxs-lookup"><span data-stu-id="be7b1-137">Storage geo-failover will only be triggered by the Azure Storage team – there is no customer action required.</span></span>
* <span data-ttu-id="be7b1-138">Your existing storage service endpoints for blobs, tables, queues, and files will remain the same after the failover; the DNS entry will need to be updated to switch from the primary region to the secondary region.</span><span class="sxs-lookup"><span data-stu-id="be7b1-138">Your existing storage service endpoints for blobs, tables, queues, and files will remain the same after the failover; the DNS entry will need to be updated to switch from the primary region to the secondary region.</span></span>
* <span data-ttu-id="be7b1-139">Before and during the geo-failover, you won't have write access to your storage account due to the impact of the disaster but you can still read from the secondary if your storage account has been configured as RA-GRS.</span><span class="sxs-lookup"><span data-stu-id="be7b1-139">Before and during the geo-failover, you won't have write access to your storage account due to the impact of the disaster but you can still read from the secondary if your storage account has been configured as RA-GRS.</span></span>
* <span data-ttu-id="be7b1-140">When the geo-failover has been completed and the DNS changes propagated, read and write access to your storage account will be resumed; this points to what used to be your secondary endpoint.</span><span class="sxs-lookup"><span data-stu-id="be7b1-140">When the geo-failover has been completed and the DNS changes propagated, read and write access to your storage account will be resumed; this points to what used to be your secondary endpoint.</span></span> 
* <span data-ttu-id="be7b1-141">Note that you will have write access if you have GRS or RA-GRS configured for the storage account.</span><span class="sxs-lookup"><span data-stu-id="be7b1-141">Note that you will have write access if you have GRS or RA-GRS configured for the storage account.</span></span> 
* <span data-ttu-id="be7b1-142">You can query ["Last Geo Failover Time" of your storage account](https://msdn.microsoft.com/library/azure/ee460802.aspx) to get more details.</span><span class="sxs-lookup"><span data-stu-id="be7b1-142">You can query ["Last Geo Failover Time" of your storage account](https://msdn.microsoft.com/library/azure/ee460802.aspx) to get more details.</span></span>
* <span data-ttu-id="be7b1-143">After the failover, your storage account will be fully functioning, but in a "degraded" status, as it is actually hosted in a standalone region with no geo-replication possible.</span><span class="sxs-lookup"><span data-stu-id="be7b1-143">After the failover, your storage account will be fully functioning, but in a "degraded" status, as it is actually hosted in a standalone region with no geo-replication possible.</span></span> <span data-ttu-id="be7b1-144">To mitigate this risk, we will restore the original primary region and then do a geo-failback to restore the original state.</span><span class="sxs-lookup"><span data-stu-id="be7b1-144">To mitigate this risk, we will restore the original primary region and then do a geo-failback to restore the original state.</span></span> <span data-ttu-id="be7b1-145">If the original primary region is unrecoverable, we will allocate another secondary region.</span><span class="sxs-lookup"><span data-stu-id="be7b1-145">If the original primary region is unrecoverable, we will allocate another secondary region.</span></span>
  <span data-ttu-id="be7b1-146">For more details on the infrastructure of Azure Storage geo replication, please refer to the article on the Storage team blog about [Redundancy Options and RA-GRS](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/).</span><span class="sxs-lookup"><span data-stu-id="be7b1-146">For more details on the infrastructure of Azure Storage geo replication, please refer to the article on the Storage team blog about [Redundancy Options and RA-GRS](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/).</span></span>

## <a name="best-practices-for-protecting-your-data"></a><span data-ttu-id="be7b1-147">Best Practices for protecting your data</span><span class="sxs-lookup"><span data-stu-id="be7b1-147">Best Practices for protecting your data</span></span>
<span data-ttu-id="be7b1-148">There are some recommended approaches to back up your storage data on a regular basis.</span><span class="sxs-lookup"><span data-stu-id="be7b1-148">There are some recommended approaches to back up your storage data on a regular basis.</span></span>

* <span data-ttu-id="be7b1-149">VM Disks – Use the [Azure Backup service](https://azure.microsoft.com/services/backup/) to back up the VM disks used by your Azure virtual machines.</span><span class="sxs-lookup"><span data-stu-id="be7b1-149">VM Disks – Use the [Azure Backup service](https://azure.microsoft.com/services/backup/) to back up the VM disks used by your Azure virtual machines.</span></span>
* <span data-ttu-id="be7b1-150">Block blobs –Create a [snapshot](https://msdn.microsoft.com/library/azure/hh488361.aspx) of each block blob, or copy the blobs to another storage account in another region using [AzCopy](storage-use-azcopy.md), [Azure PowerShell](storage-powershell-guide-full.md), or the [Azure Data Movement library](https://azure.microsoft.com/blog/introducing-azure-storage-data-movement-library-preview-2/).</span><span class="sxs-lookup"><span data-stu-id="be7b1-150">Block blobs –Create a [snapshot](https://msdn.microsoft.com/library/azure/hh488361.aspx) of each block blob, or copy the blobs to another storage account in another region using [AzCopy](storage-use-azcopy.md), [Azure PowerShell](storage-powershell-guide-full.md), or the [Azure Data Movement library](https://azure.microsoft.com/blog/introducing-azure-storage-data-movement-library-preview-2/).</span></span>
* <span data-ttu-id="be7b1-151">Tables – use [AzCopy](storage-use-azcopy.md) to export the table data into another storage account in another region.</span><span class="sxs-lookup"><span data-stu-id="be7b1-151">Tables – use [AzCopy](storage-use-azcopy.md) to export the table data into another storage account in another region.</span></span>
* <span data-ttu-id="be7b1-152">Files – use [AzCopy](storage-use-azcopy.md) or [Azure PowerShell](storage-powershell-guide-full.md) to copy your files to another storage account in another region.</span><span class="sxs-lookup"><span data-stu-id="be7b1-152">Files – use [AzCopy](storage-use-azcopy.md) or [Azure PowerShell](storage-powershell-guide-full.md) to copy your files to another storage account in another region.</span></span>

<span data-ttu-id="be7b1-153">For information about creating applications that take full advantage of the RA-GRS feature, please check out [Designing Highly Available Applications using RA-GRS Storage](storage-designing-ha-apps-with-ragrs.md)</span><span class="sxs-lookup"><span data-stu-id="be7b1-153">For information about creating applications that take full advantage of the RA-GRS feature, please check out [Designing Highly Available Applications using RA-GRS Storage](storage-designing-ha-apps-with-ragrs.md)</span></span>

