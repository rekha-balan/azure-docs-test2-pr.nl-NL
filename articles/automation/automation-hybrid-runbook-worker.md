---
title: Azure Automation Hybrid Runbook Worker
description: This article provides information on installing and using Hybrid Runbook Worker, which is a feature of Azure Automation that you can use to run runbooks on machines in your local datacenter or cloud provider.
services: automation
ms.service: automation
ms.component: process-automation
author: georgewallace
ms.author: gwallace
ms.date: 04/25/2018
ms.topic: conceptual
manager: carmonm
ms.openlocfilehash: e834a1cfa7eba3c1ff12523982e6704c73ef8078
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44782514"
---
# <a name="automate-resources-in-your-datacenter-or-cloud-by-using-hybrid-runbook-worker"></a><span data-ttu-id="2b4a3-103">Automate resources in your datacenter or cloud by using Hybrid Runbook Worker</span><span class="sxs-lookup"><span data-stu-id="2b4a3-103">Automate resources in your datacenter or cloud by using Hybrid Runbook Worker</span></span>

<span data-ttu-id="2b4a3-104">Runbooks in Azure Automation might not be able to access resources in other clouds or in your on-premises environment because they run on the Azure cloud platform.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-104">Runbooks in Azure Automation might not be able to access resources in other clouds or in your on-premises environment because they run on the Azure cloud platform.</span></span> <span data-ttu-id="2b4a3-105">You can use the Hybrid Runbook Worker feature of Azure Automation to run runbooks directly on the computer that's hosting the role and against resources in the environment to manage those local resources.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-105">You can use the Hybrid Runbook Worker feature of Azure Automation to run runbooks directly on the computer that's hosting the role and against resources in the environment to manage those local resources.</span></span> <span data-ttu-id="2b4a3-106">Runbooks are stored and managed in Azure Automation and then delivered to one or more designated computers.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-106">Runbooks are stored and managed in Azure Automation and then delivered to one or more designated computers.</span></span>

<span data-ttu-id="2b4a3-107">The following image illustrates this functionality:</span><span class="sxs-lookup"><span data-stu-id="2b4a3-107">The following image illustrates this functionality:</span></span>

![Hybrid Runbook Worker overview](media/automation-hybrid-runbook-worker/automation.png)

<span data-ttu-id="2b4a3-109">Each Hybrid Runbook Worker is a member of a Hybrid Runbook Worker group that you specify when you install the agent.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-109">Each Hybrid Runbook Worker is a member of a Hybrid Runbook Worker group that you specify when you install the agent.</span></span> <span data-ttu-id="2b4a3-110">A group can include a single agent, but you can install multiple agents in a group for high availability.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-110">A group can include a single agent, but you can install multiple agents in a group for high availability.</span></span>

<span data-ttu-id="2b4a3-111">When you start a runbook on a Hybrid Runbook Worker, you specify the group that it runs on.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-111">When you start a runbook on a Hybrid Runbook Worker, you specify the group that it runs on.</span></span> <span data-ttu-id="2b4a3-112">Each worker in the group polls Azure Automation to see if any jobs are available.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-112">Each worker in the group polls Azure Automation to see if any jobs are available.</span></span> <span data-ttu-id="2b4a3-113">If a job is available, the first worker to get the job takes it.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-113">If a job is available, the first worker to get the job takes it.</span></span> <span data-ttu-id="2b4a3-114">You can't specify a particular worker.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-114">You can't specify a particular worker.</span></span>

## <a name="install-a-hybrid-runbook-worker"></a><span data-ttu-id="2b4a3-115">Install a Hybrid Runbook Worker</span><span class="sxs-lookup"><span data-stu-id="2b4a3-115">Install a Hybrid Runbook Worker</span></span>

<span data-ttu-id="2b4a3-116">The process to install a Hybrid Runbook Worker depends on the OS.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-116">The process to install a Hybrid Runbook Worker depends on the OS.</span></span> <span data-ttu-id="2b4a3-117">The following table contains links to the methods that you can use for the installation.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-117">The following table contains links to the methods that you can use for the installation.</span></span> 

<span data-ttu-id="2b4a3-118">To install and configure a Windows Hybrid Runbook Worker, you can use two methods.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-118">To install and configure a Windows Hybrid Runbook Worker, you can use two methods.</span></span> <span data-ttu-id="2b4a3-119">The recommended method is using an Automation runbook to completely automate the process of configuring a Windows computer.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-119">The recommended method is using an Automation runbook to completely automate the process of configuring a Windows computer.</span></span> <span data-ttu-id="2b4a3-120">The second method is following a step-by-step procedure to manually install and configure the role.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-120">The second method is following a step-by-step procedure to manually install and configure the role.</span></span> <span data-ttu-id="2b4a3-121">For Linux machines, you run a Python script to install the agent on the machine.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-121">For Linux machines, you run a Python script to install the agent on the machine.</span></span>

|<span data-ttu-id="2b4a3-122">OS</span><span class="sxs-lookup"><span data-stu-id="2b4a3-122">OS</span></span>  |<span data-ttu-id="2b4a3-123">Deployment types</span><span class="sxs-lookup"><span data-stu-id="2b4a3-123">Deployment types</span></span>  |
|---------|---------|
|<span data-ttu-id="2b4a3-124">Windows</span><span class="sxs-lookup"><span data-stu-id="2b4a3-124">Windows</span></span>     | [<span data-ttu-id="2b4a3-125">PowerShell</span><span class="sxs-lookup"><span data-stu-id="2b4a3-125">PowerShell</span></span>](automation-windows-hrw-install.md#automated-deployment)<br>[<span data-ttu-id="2b4a3-126">Manual</span><span class="sxs-lookup"><span data-stu-id="2b4a3-126">Manual</span></span>](automation-windows-hrw-install.md#manual-deployment)        |
|<span data-ttu-id="2b4a3-127">Linux</span><span class="sxs-lookup"><span data-stu-id="2b4a3-127">Linux</span></span>     | [<span data-ttu-id="2b4a3-128">Python</span><span class="sxs-lookup"><span data-stu-id="2b4a3-128">Python</span></span>](automation-linux-hrw-install.md#installing-a-linux-hybrid-runbook-worker)        |

> [!NOTE]
> <span data-ttu-id="2b4a3-129">To manage the configuration of your servers that support the Hybrid Runbook Worker role with Desired State Configuration (DSC), you need to add them as DSC nodes.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-129">To manage the configuration of your servers that support the Hybrid Runbook Worker role with Desired State Configuration (DSC), you need to add them as DSC nodes.</span></span> <span data-ttu-id="2b4a3-130">For more information about onboarding them for management with DSC, see [Onboarding machines for management by Azure Automation DSC](automation-dsc-onboarding.md).</span><span class="sxs-lookup"><span data-stu-id="2b4a3-130">For more information about onboarding them for management with DSC, see [Onboarding machines for management by Azure Automation DSC](automation-dsc-onboarding.md).</span></span>
>
><span data-ttu-id="2b4a3-131">If you enable the [Update Management solution](automation-update-management.md), any computer that's connected to your Azure Log Analytics workspace is automatically configured as a Hybrid Runbook Worker to support runbooks included in this solution.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-131">If you enable the [Update Management solution](automation-update-management.md), any computer that's connected to your Azure Log Analytics workspace is automatically configured as a Hybrid Runbook Worker to support runbooks included in this solution.</span></span> <span data-ttu-id="2b4a3-132">However, the computer is not registered with any Hybrid Worker groups already defined in your Automation account.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-132">However, the computer is not registered with any Hybrid Worker groups already defined in your Automation account.</span></span> <span data-ttu-id="2b4a3-133">The computer can be added to a Hybrid Runbook Worker group in your Automation account to support Automation runbooks as long as you're using the same account for both the solution and the Hybrid Runbook Worker group membership.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-133">The computer can be added to a Hybrid Runbook Worker group in your Automation account to support Automation runbooks as long as you're using the same account for both the solution and the Hybrid Runbook Worker group membership.</span></span> <span data-ttu-id="2b4a3-134">This functionality has been added to version 7.2.12024.0 of Hybrid Runbook Worker.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-134">This functionality has been added to version 7.2.12024.0 of Hybrid Runbook Worker.</span></span>

<span data-ttu-id="2b4a3-135">Review the [information for planning your network](#network-planning) before you begin deploying a Hybrid Runbook Worker.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-135">Review the [information for planning your network](#network-planning) before you begin deploying a Hybrid Runbook Worker.</span></span> <span data-ttu-id="2b4a3-136">After you successfully deploy the worker, review [Run runbooks on a Hybrid Runbook Worker](automation-hrw-run-runbooks.md) to learn how to configure your runbooks to automate processes in your on-premises datacenter or other cloud environment.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-136">After you successfully deploy the worker, review [Run runbooks on a Hybrid Runbook Worker](automation-hrw-run-runbooks.md) to learn how to configure your runbooks to automate processes in your on-premises datacenter or other cloud environment.</span></span>

## <a name="remove-a-hybrid-runbook-worker"></a><span data-ttu-id="2b4a3-137">Remove a Hybrid Runbook Worker</span><span class="sxs-lookup"><span data-stu-id="2b4a3-137">Remove a Hybrid Runbook Worker</span></span>

<span data-ttu-id="2b4a3-138">You can remove one or more Hybrid Runbook Workers from a group, or you can remove the group, depending on your requirements.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-138">You can remove one or more Hybrid Runbook Workers from a group, or you can remove the group, depending on your requirements.</span></span> <span data-ttu-id="2b4a3-139">To remove a Hybrid Runbook Worker from an on-premises computer, perform the following steps:</span><span class="sxs-lookup"><span data-stu-id="2b4a3-139">To remove a Hybrid Runbook Worker from an on-premises computer, perform the following steps:</span></span>

1. <span data-ttu-id="2b4a3-140">In the Azure portal, go to your Automation account.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-140">In the Azure portal, go to your Automation account.</span></span>
2. <span data-ttu-id="2b4a3-141">Under **Settings**, select **Keys** and note the values for **URL** and **Primary Access Key**.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-141">Under **Settings**, select **Keys** and note the values for **URL** and **Primary Access Key**.</span></span> <span data-ttu-id="2b4a3-142">You need this information for the next step.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-142">You need this information for the next step.</span></span>

### <a name="windows"></a><span data-ttu-id="2b4a3-143">Windows</span><span class="sxs-lookup"><span data-stu-id="2b4a3-143">Windows</span></span>

<span data-ttu-id="2b4a3-144">Open a PowerShell session in Administrator mode and run the following command.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-144">Open a PowerShell session in Administrator mode and run the following command.</span></span> <span data-ttu-id="2b4a3-145">Use the **-Verbose** switch for a detailed log of the removal process.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-145">Use the **-Verbose** switch for a detailed log of the removal process.</span></span>

```powershell
Remove-HybridRunbookWorker -url <URL> -key <PrimaryAccessKey>
```

<span data-ttu-id="2b4a3-146">To remove stale machines from your Hybrid Worker group, use the optional `machineName` parameter.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-146">To remove stale machines from your Hybrid Worker group, use the optional `machineName` parameter.</span></span>

```powershell-interactive
Remove-HybridRunbookWorker -url <URL> -key <PrimaryAccessKey> -machineName <ComputerName>
```

### <a name="linux"></a><span data-ttu-id="2b4a3-147">Linux</span><span class="sxs-lookup"><span data-stu-id="2b4a3-147">Linux</span></span>

```bash
sudo python onboarding.py --deregister --endpoint="<URL>" --key="<PrimaryAccessKey>" --groupname="Example" --workspaceid="<workspaceId>"
```

> [!NOTE]
> <span data-ttu-id="2b4a3-148">This code does not remove the Microsoft Monitoring Agent from the computer, only the functionality and configuration of the Hybrid Runbook Worker role.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-148">This code does not remove the Microsoft Monitoring Agent from the computer, only the functionality and configuration of the Hybrid Runbook Worker role.</span></span>

## <a name="remove-a-hybrid-worker-group"></a><span data-ttu-id="2b4a3-149">Remove a Hybrid Worker group</span><span class="sxs-lookup"><span data-stu-id="2b4a3-149">Remove a Hybrid Worker group</span></span>

<span data-ttu-id="2b4a3-150">To remove a group, you first need to remove the Hybrid Runbook Worker from every computer that is a member of the group by using the procedure shown earlier.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-150">To remove a group, you first need to remove the Hybrid Runbook Worker from every computer that is a member of the group by using the procedure shown earlier.</span></span> <span data-ttu-id="2b4a3-151">Then, perform the following steps to remove the group:</span><span class="sxs-lookup"><span data-stu-id="2b4a3-151">Then, perform the following steps to remove the group:</span></span>

1. <span data-ttu-id="2b4a3-152">Open the Automation account in the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-152">Open the Automation account in the Azure portal.</span></span>
1. <span data-ttu-id="2b4a3-153">Under **Process Automation**, select **Hybrid worker groups**.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-153">Under **Process Automation**, select **Hybrid worker groups**.</span></span> <span data-ttu-id="2b4a3-154">Select the group that you want to delete.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-154">Select the group that you want to delete.</span></span> <span data-ttu-id="2b4a3-155">The properties page for that group appears.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-155">The properties page for that group appears.</span></span>

   ![Properties page](media/automation-hybrid-runbook-worker/automation-hybrid-runbook-worker-group-properties.png)

1. <span data-ttu-id="2b4a3-157">On the properties page for the selected group, select **Delete**.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-157">On the properties page for the selected group, select **Delete**.</span></span> <span data-ttu-id="2b4a3-158">A message asks you to confirm this action.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-158">A message asks you to confirm this action.</span></span> <span data-ttu-id="2b4a3-159">Select **Yes** if you're sure that you want to proceed.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-159">Select **Yes** if you're sure that you want to proceed.</span></span>

   ![Confirmation message](media/automation-hybrid-runbook-worker/automation-hybrid-runbook-worker-confirm-delete.png)

   <span data-ttu-id="2b4a3-161">This process can take several seconds to finish.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-161">This process can take several seconds to finish.</span></span> <span data-ttu-id="2b4a3-162">You can track its progress under **Notifications** from the menu.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-162">You can track its progress under **Notifications** from the menu.</span></span>

## <a name="network-planning"></a><span data-ttu-id="2b4a3-163">Configure your network</span><span class="sxs-lookup"><span data-stu-id="2b4a3-163">Configure your network</span></span>

### <a name="hybrid-worker-role"></a><span data-ttu-id="2b4a3-164">Hybrid Worker role</span><span class="sxs-lookup"><span data-stu-id="2b4a3-164">Hybrid Worker role</span></span>

<span data-ttu-id="2b4a3-165">For the Hybrid Runbook Worker to connect to and register with Log Analytics, it must have access to the port number and the URLs that are described in this section.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-165">For the Hybrid Runbook Worker to connect to and register with Log Analytics, it must have access to the port number and the URLs that are described in this section.</span></span> <span data-ttu-id="2b4a3-166">This access is in addition to the [ports and URLs required for Microsoft Monitoring Agent](../log-analytics/log-analytics-agent-windows.md) to connect to Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-166">This access is in addition to the [ports and URLs required for Microsoft Monitoring Agent](../log-analytics/log-analytics-agent-windows.md) to connect to Log Analytics.</span></span> 

<span data-ttu-id="2b4a3-167">If you use a proxy server for communication between the agent and the Log Analytics service, ensure that the appropriate resources are accessible.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-167">If you use a proxy server for communication between the agent and the Log Analytics service, ensure that the appropriate resources are accessible.</span></span> <span data-ttu-id="2b4a3-168">If you use a firewall to restrict access to the internet, you must configure your firewall to permit access.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-168">If you use a firewall to restrict access to the internet, you must configure your firewall to permit access.</span></span> <span data-ttu-id="2b4a3-169">If you use the OMS gateway as a proxy, ensure it is configured for hybrid workers.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-169">If you use the OMS gateway as a proxy, ensure it is configured for hybrid workers.</span></span> <span data-ttu-id="2b4a3-170">For instructions on how to do this, see [Configure the OMS Gateway for Automation Hybrid Workers](https://docs.microsoft.com/en-us/azure/log-analytics/log-analytics-oms-gateway#configure-for-automation-hybrid-workers).</span><span class="sxs-lookup"><span data-stu-id="2b4a3-170">For instructions on how to do this, see [Configure the OMS Gateway for Automation Hybrid Workers](https://docs.microsoft.com/en-us/azure/log-analytics/log-analytics-oms-gateway#configure-for-automation-hybrid-workers).</span></span>

<span data-ttu-id="2b4a3-171">The following port and URLs are required for the Hybrid Runbook Worker role to communicate with Automation:</span><span class="sxs-lookup"><span data-stu-id="2b4a3-171">The following port and URLs are required for the Hybrid Runbook Worker role to communicate with Automation:</span></span>

* <span data-ttu-id="2b4a3-172">Port: Only TCP 443 is required for outbound internet access.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-172">Port: Only TCP 443 is required for outbound internet access.</span></span>
* <span data-ttu-id="2b4a3-173">Global URL: \*.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-173">Global URL: \*.azure-automation.net</span></span>
* <span data-ttu-id="2b4a3-174">Global URL of US Gov Virginia: \*.azure-automation.us</span><span class="sxs-lookup"><span data-stu-id="2b4a3-174">Global URL of US Gov Virginia: \*.azure-automation.us</span></span>
* <span data-ttu-id="2b4a3-175">Agent service: https://\<workspaceId\>.agentsvc.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-175">Agent service: https://\<workspaceId\>.agentsvc.azure-automation.net</span></span>

<span data-ttu-id="2b4a3-176">It is recommended to use the addresses listed when defining exceptions.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-176">It is recommended to use the addresses listed when defining exceptions.</span></span> <span data-ttu-id="2b4a3-177">For IP addresses you can download the [Microsoft Azure Datacenter IP Ranges](https://www.microsoft.com/download/details.aspx?id=41653).</span><span class="sxs-lookup"><span data-stu-id="2b4a3-177">For IP addresses you can download the [Microsoft Azure Datacenter IP Ranges](https://www.microsoft.com/download/details.aspx?id=41653).</span></span> <span data-ttu-id="2b4a3-178">This file is updated weekly, and reflects the currently deployed ranges and any upcoming changes to the IP ranges.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-178">This file is updated weekly, and reflects the currently deployed ranges and any upcoming changes to the IP ranges.</span></span>

<span data-ttu-id="2b4a3-179">If you have an Automation account that's defined for a specific region, you can restrict communication to that regional datacenter.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-179">If you have an Automation account that's defined for a specific region, you can restrict communication to that regional datacenter.</span></span> <span data-ttu-id="2b4a3-180">The following table provides the DNS record for each region:</span><span class="sxs-lookup"><span data-stu-id="2b4a3-180">The following table provides the DNS record for each region:</span></span>

| <span data-ttu-id="2b4a3-181">**Region**</span><span class="sxs-lookup"><span data-stu-id="2b4a3-181">**Region**</span></span> | <span data-ttu-id="2b4a3-182">**DNS record**</span><span class="sxs-lookup"><span data-stu-id="2b4a3-182">**DNS record**</span></span> |
| --- | --- |
| <span data-ttu-id="2b4a3-183">West Central US</span><span class="sxs-lookup"><span data-stu-id="2b4a3-183">West Central US</span></span> | <span data-ttu-id="2b4a3-184">wcus-jobruntimedata-prod-su1.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-184">wcus-jobruntimedata-prod-su1.azure-automation.net</span></span></br><span data-ttu-id="2b4a3-185">wcus-agentservice-prod-1.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-185">wcus-agentservice-prod-1.azure-automation.net</span></span> |
| <span data-ttu-id="2b4a3-186">South Central US</span><span class="sxs-lookup"><span data-stu-id="2b4a3-186">South Central US</span></span> |<span data-ttu-id="2b4a3-187">scus-jobruntimedata-prod-su1.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-187">scus-jobruntimedata-prod-su1.azure-automation.net</span></span></br><span data-ttu-id="2b4a3-188">scus-agentservice-prod-1.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-188">scus-agentservice-prod-1.azure-automation.net</span></span> |
| <span data-ttu-id="2b4a3-189">East US 2</span><span class="sxs-lookup"><span data-stu-id="2b4a3-189">East US 2</span></span> |<span data-ttu-id="2b4a3-190">eus2-jobruntimedata-prod-su1.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-190">eus2-jobruntimedata-prod-su1.azure-automation.net</span></span></br><span data-ttu-id="2b4a3-191">eus2-agentservice-prod-1.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-191">eus2-agentservice-prod-1.azure-automation.net</span></span> |
| <span data-ttu-id="2b4a3-192">Canada Central</span><span class="sxs-lookup"><span data-stu-id="2b4a3-192">Canada Central</span></span> |<span data-ttu-id="2b4a3-193">cc-jobruntimedata-prod-su1.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-193">cc-jobruntimedata-prod-su1.azure-automation.net</span></span></br><span data-ttu-id="2b4a3-194">cc-agentservice-prod-1.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-194">cc-agentservice-prod-1.azure-automation.net</span></span> |
| <span data-ttu-id="2b4a3-195">West Europe</span><span class="sxs-lookup"><span data-stu-id="2b4a3-195">West Europe</span></span> |<span data-ttu-id="2b4a3-196">we-jobruntimedata-prod-su1.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-196">we-jobruntimedata-prod-su1.azure-automation.net</span></span></br><span data-ttu-id="2b4a3-197">we-agentservice-prod-1.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-197">we-agentservice-prod-1.azure-automation.net</span></span> |
| <span data-ttu-id="2b4a3-198">North Europe</span><span class="sxs-lookup"><span data-stu-id="2b4a3-198">North Europe</span></span> |<span data-ttu-id="2b4a3-199">ne-jobruntimedata-prod-su1.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-199">ne-jobruntimedata-prod-su1.azure-automation.net</span></span></br><span data-ttu-id="2b4a3-200">ne-agentservice-prod-1.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-200">ne-agentservice-prod-1.azure-automation.net</span></span> |
| <span data-ttu-id="2b4a3-201">South East Asia</span><span class="sxs-lookup"><span data-stu-id="2b4a3-201">South East Asia</span></span> |<span data-ttu-id="2b4a3-202">sea-jobruntimedata-prod-su1.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-202">sea-jobruntimedata-prod-su1.azure-automation.net</span></span></br><span data-ttu-id="2b4a3-203">sea-agentservice-prod-1.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-203">sea-agentservice-prod-1.azure-automation.net</span></span>|
| <span data-ttu-id="2b4a3-204">Central India</span><span class="sxs-lookup"><span data-stu-id="2b4a3-204">Central India</span></span> |<span data-ttu-id="2b4a3-205">cid-jobruntimedata-prod-su1.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-205">cid-jobruntimedata-prod-su1.azure-automation.net</span></span></br><span data-ttu-id="2b4a3-206">cid-agentservice-prod-1.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-206">cid-agentservice-prod-1.azure-automation.net</span></span> |
| <span data-ttu-id="2b4a3-207">Japan East</span><span class="sxs-lookup"><span data-stu-id="2b4a3-207">Japan East</span></span> |<span data-ttu-id="2b4a3-208">jpe-jobruntimedata-prod-su1.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-208">jpe-jobruntimedata-prod-su1.azure-automation.net</span></span></br><span data-ttu-id="2b4a3-209">jpe-agentservice-prod-1.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-209">jpe-agentservice-prod-1.azure-automation.net</span></span> |
| <span data-ttu-id="2b4a3-210">Australia South East</span><span class="sxs-lookup"><span data-stu-id="2b4a3-210">Australia South East</span></span> |<span data-ttu-id="2b4a3-211">ase-jobruntimedata-prod-su1.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-211">ase-jobruntimedata-prod-su1.azure-automation.net</span></span></br><span data-ttu-id="2b4a3-212">ase-agentservice-prod-1.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-212">ase-agentservice-prod-1.azure-automation.net</span></span> |
| <span data-ttu-id="2b4a3-213">UK South</span><span class="sxs-lookup"><span data-stu-id="2b4a3-213">UK South</span></span> | <span data-ttu-id="2b4a3-214">uks-jobruntimedata-prod-su1.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-214">uks-jobruntimedata-prod-su1.azure-automation.net</span></span></br><span data-ttu-id="2b4a3-215">uks-agentservice-prod-1.azure-automation.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-215">uks-agentservice-prod-1.azure-automation.net</span></span> |
| <span data-ttu-id="2b4a3-216">US Gov Virginia</span><span class="sxs-lookup"><span data-stu-id="2b4a3-216">US Gov Virginia</span></span> | <span data-ttu-id="2b4a3-217">usge-jobruntimedata-prod-su1.azure-automation.us</span><span class="sxs-lookup"><span data-stu-id="2b4a3-217">usge-jobruntimedata-prod-su1.azure-automation.us</span></span><br><span data-ttu-id="2b4a3-218">usge-agentservice-prod-1.azure-automation.us</span><span class="sxs-lookup"><span data-stu-id="2b4a3-218">usge-agentservice-prod-1.azure-automation.us</span></span> |

<span data-ttu-id="2b4a3-219">For a list of region IP addresses instead of region names, download the [Azure Datacenter IP address](https://www.microsoft.com/download/details.aspx?id=41653) XML file from the Microsoft Download Center.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-219">For a list of region IP addresses instead of region names, download the [Azure Datacenter IP address](https://www.microsoft.com/download/details.aspx?id=41653) XML file from the Microsoft Download Center.</span></span>

> [!NOTE]
> <span data-ttu-id="2b4a3-220">The Azure Datacenter IP address XML file lists the IP address ranges that are used in the Microsoft Azure datacenters.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-220">The Azure Datacenter IP address XML file lists the IP address ranges that are used in the Microsoft Azure datacenters.</span></span> <span data-ttu-id="2b4a3-221">The file includes compute, SQL, and storage ranges.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-221">The file includes compute, SQL, and storage ranges.</span></span>
>
><span data-ttu-id="2b4a3-222">An updated file is posted weekly.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-222">An updated file is posted weekly.</span></span> <span data-ttu-id="2b4a3-223">The file reflects the currently deployed ranges and any upcoming changes to the IP ranges.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-223">The file reflects the currently deployed ranges and any upcoming changes to the IP ranges.</span></span> <span data-ttu-id="2b4a3-224">New ranges that appear in the file aren't used in the datacenters for at least one week.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-224">New ranges that appear in the file aren't used in the datacenters for at least one week.</span></span>
>
> <span data-ttu-id="2b4a3-225">It's a good idea to download the new XML file every week.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-225">It's a good idea to download the new XML file every week.</span></span> <span data-ttu-id="2b4a3-226">Then, update your site to correctly identify services running in Azure.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-226">Then, update your site to correctly identify services running in Azure.</span></span> <span data-ttu-id="2b4a3-227">Azure ExpressRoute users should note that this file is used to update the Border Gateway Protocol (BGP) advertisement of Azure space in the first week of each month.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-227">Azure ExpressRoute users should note that this file is used to update the Border Gateway Protocol (BGP) advertisement of Azure space in the first week of each month.</span></span>

### <a name="update-management"></a><span data-ttu-id="2b4a3-228">Update Management</span><span class="sxs-lookup"><span data-stu-id="2b4a3-228">Update Management</span></span>

<span data-ttu-id="2b4a3-229">In addition to the standard addresses and ports that the Hybrid Runbook Worker requires, the following addresses are required specifically for Update Management.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-229">In addition to the standard addresses and ports that the Hybrid Runbook Worker requires, the following addresses are required specifically for Update Management.</span></span> <span data-ttu-id="2b4a3-230">Communication to these addresses is done over port 443.</span><span class="sxs-lookup"><span data-stu-id="2b4a3-230">Communication to these addresses is done over port 443.</span></span>

|<span data-ttu-id="2b4a3-231">Azure Public</span><span class="sxs-lookup"><span data-stu-id="2b4a3-231">Azure Public</span></span>  |<span data-ttu-id="2b4a3-232">Azure Government</span><span class="sxs-lookup"><span data-stu-id="2b4a3-232">Azure Government</span></span>  |
|---------|---------|
|<span data-ttu-id="2b4a3-233">\*.ods.opinsights.azure.com</span><span class="sxs-lookup"><span data-stu-id="2b4a3-233">\*.ods.opinsights.azure.com</span></span>     |<span data-ttu-id="2b4a3-234">\*.ods.opinsights.azure.us</span><span class="sxs-lookup"><span data-stu-id="2b4a3-234">\*.ods.opinsights.azure.us</span></span>         |
|<span data-ttu-id="2b4a3-235">\*.oms.opinsights.azure.com</span><span class="sxs-lookup"><span data-stu-id="2b4a3-235">\*.oms.opinsights.azure.com</span></span>     | <span data-ttu-id="2b4a3-236">\*.oms.opinsights.azure.us</span><span class="sxs-lookup"><span data-stu-id="2b4a3-236">\*.oms.opinsights.azure.us</span></span>        |
|<span data-ttu-id="2b4a3-237">\*.blob.core.windows.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-237">\*.blob.core.windows.net</span></span>|<span data-ttu-id="2b4a3-238">\*.blob.core.usgovcloudapi.net</span><span class="sxs-lookup"><span data-stu-id="2b4a3-238">\*.blob.core.usgovcloudapi.net</span></span>|

## <a name="troubleshoot"></a><span data-ttu-id="2b4a3-239">Troubleshoot</span><span class="sxs-lookup"><span data-stu-id="2b4a3-239">Troubleshoot</span></span>

<span data-ttu-id="2b4a3-240">To learn how to troubleshoot your Hybrid Runbook Workers, see [Troubleshooting Hybrid Runbook Workers](troubleshoot/hybrid-runbook-worker.md#general)</span><span class="sxs-lookup"><span data-stu-id="2b4a3-240">To learn how to troubleshoot your Hybrid Runbook Workers, see [Troubleshooting Hybrid Runbook Workers](troubleshoot/hybrid-runbook-worker.md#general)</span></span>

## <a name="next-steps"></a><span data-ttu-id="2b4a3-241">Next steps</span><span class="sxs-lookup"><span data-stu-id="2b4a3-241">Next steps</span></span>

<span data-ttu-id="2b4a3-242">To learn how to configure your runbooks to automate processes in your on-premises datacenter or other cloud environment, see [Run runbooks on a Hybrid Runbook Worker](automation-hrw-run-runbooks.md).</span><span class="sxs-lookup"><span data-stu-id="2b4a3-242">To learn how to configure your runbooks to automate processes in your on-premises datacenter or other cloud environment, see [Run runbooks on a Hybrid Runbook Worker](automation-hrw-run-runbooks.md).</span></span>
