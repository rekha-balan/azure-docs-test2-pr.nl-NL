---
title: Start/Stop VMs during off-hours [Preview] Solution | Microsoft Docs
description: The VM Management solutions starts and stops your Azure Resource Manager Virtual Machines on a schedule and proactively monitor from Log Analytics.
services: automation
documentationCenter: ''
authors: mgoedtel
manager: carmonm
editor: ''
ms.assetid: 06c27f72-ac4c-4923-90a6-21f46db21883
ms.service: automation
ms.workload: infrastructure-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/14/2017
ms.author: magoedte
ms.openlocfilehash: 5de08a05d34750e86ebbbb224e9f4a34ca4282d7
ms.sourcegitcommit: 5b9d839c0c0a94b293fdafe1d6e5429506c07e05
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/02/2018
ms.locfileid: "44549483"
---
# <a name="startstop-vms-during-off-hours-preview-solution-in-automation"></a><span data-ttu-id="33530-103">Start/Stop VMs during off-hours [Preview] solution in Automation</span><span class="sxs-lookup"><span data-stu-id="33530-103">Start/Stop VMs during off-hours [Preview] solution in Automation</span></span>

<span data-ttu-id="33530-104">The Start/Stop VMs during off-hours [Preview] solution starts and stops your Azure Resource Manager virtual machines on a user-defined schedule and provides insight into the success of the Automation jobs that start and stop your virtual machines with OMS Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="33530-104">The Start/Stop VMs during off-hours [Preview] solution starts and stops your Azure Resource Manager virtual machines on a user-defined schedule and provides insight into the success of the Automation jobs that start and stop your virtual machines with OMS Log Analytics.</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="33530-105">Prerequisites</span><span class="sxs-lookup"><span data-stu-id="33530-105">Prerequisites</span></span>

- <span data-ttu-id="33530-106">The runbooks work with an [Azure Run As account](automation-sec-configure-azure-runas-account.md).</span><span class="sxs-lookup"><span data-stu-id="33530-106">The runbooks work with an [Azure Run As account](automation-sec-configure-azure-runas-account.md).</span></span>  <span data-ttu-id="33530-107">The Run As account is the preferred authentication method since it uses certificate authentication instead of a password that may expire or change frequently.</span><span class="sxs-lookup"><span data-stu-id="33530-107">The Run As account is the preferred authentication method since it uses certificate authentication instead of a password that may expire or change frequently.</span></span>  

- <span data-ttu-id="33530-108">This solution can only manage VMs which are in the same subscription and resource group as where the Automation account resides.</span><span class="sxs-lookup"><span data-stu-id="33530-108">This solution can only manage VMs which are in the same subscription and resource group as where the Automation account resides.</span></span>  

- <span data-ttu-id="33530-109">This solution only deploys to the following Azure regions - Australia Southeast, East US, Southeast Asia, and West Europe.</span><span class="sxs-lookup"><span data-stu-id="33530-109">This solution only deploys to the following Azure regions - Australia Southeast, East US, Southeast Asia, and West Europe.</span></span>  <span data-ttu-id="33530-110">The runbooks that manage the VM schedule can target VMs in any region.</span><span class="sxs-lookup"><span data-stu-id="33530-110">The runbooks that manage the VM schedule can target VMs in any region.</span></span>  

- <span data-ttu-id="33530-111">To send email notifications when the start and stop VM runbooks complete, an Office 365  business-class subscription is required.</span><span class="sxs-lookup"><span data-stu-id="33530-111">To send email notifications when the start and stop VM runbooks complete, an Office 365  business-class subscription is required.</span></span>  

## <a name="solution-components"></a><span data-ttu-id="33530-112">Solution components</span><span class="sxs-lookup"><span data-stu-id="33530-112">Solution components</span></span>

<span data-ttu-id="33530-113">This solution consists of the following resources that will be imported and added to your Automation account.</span><span class="sxs-lookup"><span data-stu-id="33530-113">This solution consists of the following resources that will be imported and added to your Automation account.</span></span>

### <a name="runbooks"></a><span data-ttu-id="33530-114">Runbooks</span><span class="sxs-lookup"><span data-stu-id="33530-114">Runbooks</span></span>

<span data-ttu-id="33530-115">Runbook</span><span class="sxs-lookup"><span data-stu-id="33530-115">Runbook</span></span> | <span data-ttu-id="33530-116">Description</span><span class="sxs-lookup"><span data-stu-id="33530-116">Description</span></span>|
--------|------------|
<span data-ttu-id="33530-117">CleanSolution-MS-Mgmt-VM</span><span class="sxs-lookup"><span data-stu-id="33530-117">CleanSolution-MS-Mgmt-VM</span></span> | <span data-ttu-id="33530-118">This runbook will remove all contained resources, and schedules when you go to delete the solution from your subscription.</span><span class="sxs-lookup"><span data-stu-id="33530-118">This runbook will remove all contained resources, and schedules when you go to delete the solution from your subscription.</span></span>|  
<span data-ttu-id="33530-119">SendMailO365-MS-Mgmt</span><span class="sxs-lookup"><span data-stu-id="33530-119">SendMailO365-MS-Mgmt</span></span> | <span data-ttu-id="33530-120">This runbook sends an email through Office 365 Exchange.</span><span class="sxs-lookup"><span data-stu-id="33530-120">This runbook sends an email through Office 365 Exchange.</span></span>|
<span data-ttu-id="33530-121">StartByResourceGroup-MS-Mgmt-VM</span><span class="sxs-lookup"><span data-stu-id="33530-121">StartByResourceGroup-MS-Mgmt-VM</span></span> | <span data-ttu-id="33530-122">This runbook is intended to start VMs (both classic and ARM based VMs) that resides in a given list of Azure resource group(s).</span><span class="sxs-lookup"><span data-stu-id="33530-122">This runbook is intended to start VMs (both classic and ARM based VMs) that resides in a given list of Azure resource group(s).</span></span>
<span data-ttu-id="33530-123">StopByResourceGroup-MS-Mgmt-VM</span><span class="sxs-lookup"><span data-stu-id="33530-123">StopByResourceGroup-MS-Mgmt-VM</span></span> | <span data-ttu-id="33530-124">This runbook is intended to stop VMs (both classic and ARM based VMs) that resides in a given list of Azure resource group(s).</span><span class="sxs-lookup"><span data-stu-id="33530-124">This runbook is intended to stop VMs (both classic and ARM based VMs) that resides in a given list of Azure resource group(s).</span></span>|
<br>

### <a name="variables"></a><span data-ttu-id="33530-125">Variables</span><span class="sxs-lookup"><span data-stu-id="33530-125">Variables</span></span>

<span data-ttu-id="33530-126">Variable</span><span class="sxs-lookup"><span data-stu-id="33530-126">Variable</span></span> | <span data-ttu-id="33530-127">Description</span><span class="sxs-lookup"><span data-stu-id="33530-127">Description</span></span>|
---------|------------|
<span data-ttu-id="33530-128">**SendMailO365-MS-Mgmt** Runbook</span><span class="sxs-lookup"><span data-stu-id="33530-128">**SendMailO365-MS-Mgmt** Runbook</span></span> ||
<span data-ttu-id="33530-129">SendMailO365-IsSendEmail-MS-Mgmt</span><span class="sxs-lookup"><span data-stu-id="33530-129">SendMailO365-IsSendEmail-MS-Mgmt</span></span> | <span data-ttu-id="33530-130">Specifies if StartByResourceGroup-MS-Mgmt-VM and StopByResourceGroup-MS-Mgmt-VM runbooks can send email notification upon completion.</span><span class="sxs-lookup"><span data-stu-id="33530-130">Specifies if StartByResourceGroup-MS-Mgmt-VM and StopByResourceGroup-MS-Mgmt-VM runbooks can send email notification upon completion.</span></span>  <span data-ttu-id="33530-131">Select **True** to enable and **False** to disable email alerting.</span><span class="sxs-lookup"><span data-stu-id="33530-131">Select **True** to enable and **False** to disable email alerting.</span></span> <span data-ttu-id="33530-132">Default value is **False**.</span><span class="sxs-lookup"><span data-stu-id="33530-132">Default value is **False**.</span></span>| 
<span data-ttu-id="33530-133">**StartByResourceGroup-MS-Mgmt-VM** Runbook</span><span class="sxs-lookup"><span data-stu-id="33530-133">**StartByResourceGroup-MS-Mgmt-VM** Runbook</span></span> ||
<span data-ttu-id="33530-134">StartByResourceGroup-ExcludeList-MS-Mgmt-VM</span><span class="sxs-lookup"><span data-stu-id="33530-134">StartByResourceGroup-ExcludeList-MS-Mgmt-VM</span></span> | <span data-ttu-id="33530-135">Enter VM names to be excluded from management operation; separate names by using semi-colon(;).</span><span class="sxs-lookup"><span data-stu-id="33530-135">Enter VM names to be excluded from management operation; separate names by using semi-colon(;).</span></span> <span data-ttu-id="33530-136">Values are case-sensitive and wildcard (asterisk) is supported.</span><span class="sxs-lookup"><span data-stu-id="33530-136">Values are case-sensitive and wildcard (asterisk) is supported.</span></span>|
<span data-ttu-id="33530-137">StartByResourceGroup-SendMailO365-EmailBodyPreFix-MS-Mgmt</span><span class="sxs-lookup"><span data-stu-id="33530-137">StartByResourceGroup-SendMailO365-EmailBodyPreFix-MS-Mgmt</span></span> | <span data-ttu-id="33530-138">Text that can be appended to the beginning of the email message body.</span><span class="sxs-lookup"><span data-stu-id="33530-138">Text that can be appended to the beginning of the email message body.</span></span>|
<span data-ttu-id="33530-139">StartByResourceGroup-SendMailO365-EmailRunBookAccount-MS-Mgmt</span><span class="sxs-lookup"><span data-stu-id="33530-139">StartByResourceGroup-SendMailO365-EmailRunBookAccount-MS-Mgmt</span></span> | <span data-ttu-id="33530-140">Specifies the name of the Automation Account that contains the Email runbook.</span><span class="sxs-lookup"><span data-stu-id="33530-140">Specifies the name of the Automation Account that contains the Email runbook.</span></span>  <span data-ttu-id="33530-141">**Do not modify this variable.**</span><span class="sxs-lookup"><span data-stu-id="33530-141">**Do not modify this variable.**</span></span>|
<span data-ttu-id="33530-142">StartByResourceGroup-SendMailO365-EmailRunbookName-MS-Mgmt</span><span class="sxs-lookup"><span data-stu-id="33530-142">StartByResourceGroup-SendMailO365-EmailRunbookName-MS-Mgmt</span></span> | <span data-ttu-id="33530-143">Specifies the name of the email runbook.</span><span class="sxs-lookup"><span data-stu-id="33530-143">Specifies the name of the email runbook.</span></span>  <span data-ttu-id="33530-144">This is used by the StartByResourceGroup-MS-Mgmt-VM and StopByResourceGroup-MS-Mgmt-VM runbooks to send email.</span><span class="sxs-lookup"><span data-stu-id="33530-144">This is used by the StartByResourceGroup-MS-Mgmt-VM and StopByResourceGroup-MS-Mgmt-VM runbooks to send email.</span></span>  <span data-ttu-id="33530-145">**Do not modify this variable.**</span><span class="sxs-lookup"><span data-stu-id="33530-145">**Do not modify this variable.**</span></span>|
<span data-ttu-id="33530-146">StartByResourceGroup-SendMailO365-EmailRunbookResourceGroup-MS-Mgmt</span><span class="sxs-lookup"><span data-stu-id="33530-146">StartByResourceGroup-SendMailO365-EmailRunbookResourceGroup-MS-Mgmt</span></span> | <span data-ttu-id="33530-147">Specifies the name of the Resource group that contains the Email runbook.</span><span class="sxs-lookup"><span data-stu-id="33530-147">Specifies the name of the Resource group that contains the Email runbook.</span></span>  <span data-ttu-id="33530-148">**Do not modify this variable.**</span><span class="sxs-lookup"><span data-stu-id="33530-148">**Do not modify this variable.**</span></span>|
<span data-ttu-id="33530-149">StartByResourceGroup-SendMailO365-EmailSubject-MS-Mgmt</span><span class="sxs-lookup"><span data-stu-id="33530-149">StartByResourceGroup-SendMailO365-EmailSubject-MS-Mgmt</span></span> | <span data-ttu-id="33530-150">Specifies the text for the subject line of the email.</span><span class="sxs-lookup"><span data-stu-id="33530-150">Specifies the text for the subject line of the email.</span></span>|  
<span data-ttu-id="33530-151">StartByResourceGroup-SendMailO365-EmailToAddress-MS-Mgmt</span><span class="sxs-lookup"><span data-stu-id="33530-151">StartByResourceGroup-SendMailO365-EmailToAddress-MS-Mgmt</span></span> | <span data-ttu-id="33530-152">Specifies the recipient(s) of the email.</span><span class="sxs-lookup"><span data-stu-id="33530-152">Specifies the recipient(s) of the email.</span></span>  <span data-ttu-id="33530-153">Enter separate names by using semi-colon(;).</span><span class="sxs-lookup"><span data-stu-id="33530-153">Enter separate names by using semi-colon(;).</span></span>|
<span data-ttu-id="33530-154">StartByResourceGroup-TargetResourceGroups-MS-Mgmt-VM</span><span class="sxs-lookup"><span data-stu-id="33530-154">StartByResourceGroup-TargetResourceGroups-MS-Mgmt-VM</span></span> | <span data-ttu-id="33530-155">Enter VM names to be excluded from management operation; separate names by using semi-colon(;).</span><span class="sxs-lookup"><span data-stu-id="33530-155">Enter VM names to be excluded from management operation; separate names by using semi-colon(;).</span></span> <span data-ttu-id="33530-156">Values are case-sensitive and wildcard (asterisk) is supported.</span><span class="sxs-lookup"><span data-stu-id="33530-156">Values are case-sensitive and wildcard (asterisk) is supported.</span></span>  <span data-ttu-id="33530-157">Default value (asterisk) will include all resource groups in the subscription.</span><span class="sxs-lookup"><span data-stu-id="33530-157">Default value (asterisk) will include all resource groups in the subscription.</span></span>|
<span data-ttu-id="33530-158">StartByResourceGroup-TargetSubscriptionID-MS-Mgmt-VM</span><span class="sxs-lookup"><span data-stu-id="33530-158">StartByResourceGroup-TargetSubscriptionID-MS-Mgmt-VM</span></span> | <span data-ttu-id="33530-159">Specifies the subscription that contains VMs to be managed by this solution.</span><span class="sxs-lookup"><span data-stu-id="33530-159">Specifies the subscription that contains VMs to be managed by this solution.</span></span>  <span data-ttu-id="33530-160">This must be the same subscription where the Automation account of this solution resides.</span><span class="sxs-lookup"><span data-stu-id="33530-160">This must be the same subscription where the Automation account of this solution resides.</span></span>|
<span data-ttu-id="33530-161">**StopByResourceGroup-MS-Mgmt-VM** Runbook</span><span class="sxs-lookup"><span data-stu-id="33530-161">**StopByResourceGroup-MS-Mgmt-VM** Runbook</span></span> ||
<span data-ttu-id="33530-162">StopByResourceGroup-ExcludeList-MS-Mgmt-VM</span><span class="sxs-lookup"><span data-stu-id="33530-162">StopByResourceGroup-ExcludeList-MS-Mgmt-VM</span></span> | <span data-ttu-id="33530-163">Enter VM names to be excluded from management operation; separate names by using semi-colon(;).</span><span class="sxs-lookup"><span data-stu-id="33530-163">Enter VM names to be excluded from management operation; separate names by using semi-colon(;).</span></span> <span data-ttu-id="33530-164">Values are case-sensitive and wildcard (asterisk) is supported.</span><span class="sxs-lookup"><span data-stu-id="33530-164">Values are case-sensitive and wildcard (asterisk) is supported.</span></span>|
<span data-ttu-id="33530-165">StopByResourceGroup-SendMailO365-EmailBodyPreFix-MS-Mgmt</span><span class="sxs-lookup"><span data-stu-id="33530-165">StopByResourceGroup-SendMailO365-EmailBodyPreFix-MS-Mgmt</span></span> | <span data-ttu-id="33530-166">Text that can be appended to the beginning of the email message body.</span><span class="sxs-lookup"><span data-stu-id="33530-166">Text that can be appended to the beginning of the email message body.</span></span>|
<span data-ttu-id="33530-167">StopByResourceGroup-SendMailO365-EmailRunBookAccount-MS-Mgmt</span><span class="sxs-lookup"><span data-stu-id="33530-167">StopByResourceGroup-SendMailO365-EmailRunBookAccount-MS-Mgmt</span></span> | <span data-ttu-id="33530-168">Specifies the name of the Automation Account that contains the Email runbook.</span><span class="sxs-lookup"><span data-stu-id="33530-168">Specifies the name of the Automation Account that contains the Email runbook.</span></span>  <span data-ttu-id="33530-169">**Do not modify this variable.**</span><span class="sxs-lookup"><span data-stu-id="33530-169">**Do not modify this variable.**</span></span>|
<span data-ttu-id="33530-170">StopByResourceGroup-SendMailO365-EmailRunbookResourceGroup-MS-Mgmt</span><span class="sxs-lookup"><span data-stu-id="33530-170">StopByResourceGroup-SendMailO365-EmailRunbookResourceGroup-MS-Mgmt</span></span> | <span data-ttu-id="33530-171">Specifies the name of the Resource group that contains the Email runbook.</span><span class="sxs-lookup"><span data-stu-id="33530-171">Specifies the name of the Resource group that contains the Email runbook.</span></span>  <span data-ttu-id="33530-172">**Do not modify this variable.**</span><span class="sxs-lookup"><span data-stu-id="33530-172">**Do not modify this variable.**</span></span>|
<span data-ttu-id="33530-173">StopByResourceGroup-SendMailO365-EmailSubject-MS-Mgmt</span><span class="sxs-lookup"><span data-stu-id="33530-173">StopByResourceGroup-SendMailO365-EmailSubject-MS-Mgmt</span></span> | <span data-ttu-id="33530-174">Specifies the text for the subject line of the email.</span><span class="sxs-lookup"><span data-stu-id="33530-174">Specifies the text for the subject line of the email.</span></span>|  
<span data-ttu-id="33530-175">StopByResourceGroup-SendMailO365-EmailToAddress-MS-Mgmt</span><span class="sxs-lookup"><span data-stu-id="33530-175">StopByResourceGroup-SendMailO365-EmailToAddress-MS-Mgmt</span></span> | <span data-ttu-id="33530-176">Specifies the recipient(s) of the email.</span><span class="sxs-lookup"><span data-stu-id="33530-176">Specifies the recipient(s) of the email.</span></span>  <span data-ttu-id="33530-177">Enter separate names by using semi-colon(;).</span><span class="sxs-lookup"><span data-stu-id="33530-177">Enter separate names by using semi-colon(;).</span></span>|
<span data-ttu-id="33530-178">StopByResourceGroup-TargetResourceGroups-MS-Mgmt-VM</span><span class="sxs-lookup"><span data-stu-id="33530-178">StopByResourceGroup-TargetResourceGroups-MS-Mgmt-VM</span></span> | <span data-ttu-id="33530-179">Enter VM names to be excluded from management operation; separate names by using semi-colon(;).</span><span class="sxs-lookup"><span data-stu-id="33530-179">Enter VM names to be excluded from management operation; separate names by using semi-colon(;).</span></span> <span data-ttu-id="33530-180">Values are case-sensitive and wildcard (asterisk) is supported.</span><span class="sxs-lookup"><span data-stu-id="33530-180">Values are case-sensitive and wildcard (asterisk) is supported.</span></span>  <span data-ttu-id="33530-181">Default value (asterisk) will include all resource groups in the subscription.</span><span class="sxs-lookup"><span data-stu-id="33530-181">Default value (asterisk) will include all resource groups in the subscription.</span></span>|
<span data-ttu-id="33530-182">StopByResourceGroup-TargetSubscriptionID-MS-Mgmt-VM</span><span class="sxs-lookup"><span data-stu-id="33530-182">StopByResourceGroup-TargetSubscriptionID-MS-Mgmt-VM</span></span> | <span data-ttu-id="33530-183">Specifies the subscription that contains VMs to be managed by this solution.</span><span class="sxs-lookup"><span data-stu-id="33530-183">Specifies the subscription that contains VMs to be managed by this solution.</span></span>  <span data-ttu-id="33530-184">This must be the same subscription where the Automation account of this solution resides.</span><span class="sxs-lookup"><span data-stu-id="33530-184">This must be the same subscription where the Automation account of this solution resides.</span></span>|  
<br>

### <a name="schedules"></a><span data-ttu-id="33530-185">Schedules</span><span class="sxs-lookup"><span data-stu-id="33530-185">Schedules</span></span>

<span data-ttu-id="33530-186">Schedule</span><span class="sxs-lookup"><span data-stu-id="33530-186">Schedule</span></span> | <span data-ttu-id="33530-187">Description</span><span class="sxs-lookup"><span data-stu-id="33530-187">Description</span></span>|
---------|------------|
<span data-ttu-id="33530-188">StartByResourceGroup-Schedule-MS-Mgmt</span><span class="sxs-lookup"><span data-stu-id="33530-188">StartByResourceGroup-Schedule-MS-Mgmt</span></span> | <span data-ttu-id="33530-189">Schedule for StartByResourceGroup runbook, which performs the startup of VMs managed by this solution.</span><span class="sxs-lookup"><span data-stu-id="33530-189">Schedule for StartByResourceGroup runbook, which performs the startup of VMs managed by this solution.</span></span> <span data-ttu-id="33530-190">When created, it defaults to UTC time zone.</span><span class="sxs-lookup"><span data-stu-id="33530-190">When created, it defaults to UTC time zone.</span></span>|
<span data-ttu-id="33530-191">StopByResourceGroup-Schedule-MS-Mgmt</span><span class="sxs-lookup"><span data-stu-id="33530-191">StopByResourceGroup-Schedule-MS-Mgmt</span></span> | <span data-ttu-id="33530-192">Schedule for StopByResourceGroup runbook, which performs the shutdown of VMs managed by this solution.</span><span class="sxs-lookup"><span data-stu-id="33530-192">Schedule for StopByResourceGroup runbook, which performs the shutdown of VMs managed by this solution.</span></span> <span data-ttu-id="33530-193">When created, it defaults to UTC time zone.</span><span class="sxs-lookup"><span data-stu-id="33530-193">When created, it defaults to UTC time zone.</span></span>|

### <a name="credentials"></a><span data-ttu-id="33530-194">Credentials</span><span class="sxs-lookup"><span data-stu-id="33530-194">Credentials</span></span>

<span data-ttu-id="33530-195">Credential</span><span class="sxs-lookup"><span data-stu-id="33530-195">Credential</span></span> | <span data-ttu-id="33530-196">Description</span><span class="sxs-lookup"><span data-stu-id="33530-196">Description</span></span>|
-----------|------------|
<span data-ttu-id="33530-197">O365Credential</span><span class="sxs-lookup"><span data-stu-id="33530-197">O365Credential</span></span> | <span data-ttu-id="33530-198">Specifies a valid Office 365 user account to send email.</span><span class="sxs-lookup"><span data-stu-id="33530-198">Specifies a valid Office 365 user account to send email.</span></span>  <span data-ttu-id="33530-199">Only required if variable SendMailO365-IsSendEmail-MS-Mgmt is set to **True**.</span><span class="sxs-lookup"><span data-stu-id="33530-199">Only required if variable SendMailO365-IsSendEmail-MS-Mgmt is set to **True**.</span></span>

## <a name="configuration"></a><span data-ttu-id="33530-200">Configuration</span><span class="sxs-lookup"><span data-stu-id="33530-200">Configuration</span></span>

<span data-ttu-id="33530-201">Perform the following steps to add the Start/Stop VMs during off-hours [Preview] solution to your Automation account and then configure the variables to customize the solution.</span><span class="sxs-lookup"><span data-stu-id="33530-201">Perform the following steps to add the Start/Stop VMs during off-hours [Preview] solution to your Automation account and then configure the variables to customize the solution.</span></span>

1. <span data-ttu-id="33530-202">From the home-screen in the Azure portal, select the **Marketplace** tile.</span><span class="sxs-lookup"><span data-stu-id="33530-202">From the home-screen in the Azure portal, select the **Marketplace** tile.</span></span>  <span data-ttu-id="33530-203">If the tile is no longer pinned to your home-screen, from the left navigation pane, select **New**.</span><span class="sxs-lookup"><span data-stu-id="33530-203">If the tile is no longer pinned to your home-screen, from the left navigation pane, select **New**.</span></span>  
2. <span data-ttu-id="33530-204">In the Marketplace blade, type **Start VM** in the search box, and then select the solution **Start/Stop VMs during off-hours [Preview]** from the search results.</span><span class="sxs-lookup"><span data-stu-id="33530-204">In the Marketplace blade, type **Start VM** in the search box, and then select the solution **Start/Stop VMs during off-hours [Preview]** from the search results.</span></span>  
3. <span data-ttu-id="33530-205">In the **Start/Stop VMs during off-hours [Preview]** blade for the selected solution, review the summary information and then click **Create**.</span><span class="sxs-lookup"><span data-stu-id="33530-205">In the **Start/Stop VMs during off-hours [Preview]** blade for the selected solution, review the summary information and then click **Create**.</span></span>  
4. <span data-ttu-id="33530-206">The **Add Solution** blade appears where you are prompted to configure the solution before you can import it into your Automation subscription.</span><span class="sxs-lookup"><span data-stu-id="33530-206">The **Add Solution** blade appears where you are prompted to configure the solution before you can import it into your Automation subscription.</span></span><br><br> <span data-ttu-id="33530-207">![VM Management Add Solution blade](https://docstestmedia1.blob.core.windows.net/azure-media/articles/automation/media/automation-solution-vm-management/vm-management-solution-add-solution-blade.png)</span><span class="sxs-lookup"><span data-stu-id="33530-207">![VM Management Add Solution blade](https://docstestmedia1.blob.core.windows.net/azure-media/articles/automation/media/automation-solution-vm-management/vm-management-solution-add-solution-blade.png)</span></span><br><br>
5.  <span data-ttu-id="33530-208">On the **Add Solution** blade, select **Workspace** and here you select an OMS workspace that is linked to the same Azure subscription that the Automation account is in or create a new OMS workspace.</span><span class="sxs-lookup"><span data-stu-id="33530-208">On the **Add Solution** blade, select **Workspace** and here you select an OMS workspace that is linked to the same Azure subscription that the Automation account is in or create a new OMS workspace.</span></span>  <span data-ttu-id="33530-209">If you do not have an OMS workspace, you can select **Create New Workspace** and on the **OMS Workspace** blade perform the following:</span><span class="sxs-lookup"><span data-stu-id="33530-209">If you do not have an OMS workspace, you can select **Create New Workspace** and on the **OMS Workspace** blade perform the following:</span></span> 
   - <span data-ttu-id="33530-210">Specify a name for the new **OMS Workspace**.</span><span class="sxs-lookup"><span data-stu-id="33530-210">Specify a name for the new **OMS Workspace**.</span></span>
   - <span data-ttu-id="33530-211">Select a **Subscription** to link to by selecting from the drop-down list if the default selected is not appropriate.</span><span class="sxs-lookup"><span data-stu-id="33530-211">Select a **Subscription** to link to by selecting from the drop-down list if the default selected is not appropriate.</span></span>
   - <span data-ttu-id="33530-212">For **Resource Group**, you can create a new resource group or select an existing resource group.</span><span class="sxs-lookup"><span data-stu-id="33530-212">For **Resource Group**, you can create a new resource group or select an existing resource group.</span></span>  
   - <span data-ttu-id="33530-213">Select a **Location**.</span><span class="sxs-lookup"><span data-stu-id="33530-213">Select a **Location**.</span></span>  <span data-ttu-id="33530-214">Currently the only locations provided for selection are **Australia Southeast**, **East US**, **Southeast Asia**, and **West Europe**.</span><span class="sxs-lookup"><span data-stu-id="33530-214">Currently the only locations provided for selection are **Australia Southeast**, **East US**, **Southeast Asia**, and **West Europe**.</span></span>
   - <span data-ttu-id="33530-215">Select a **Pricing tier**.</span><span class="sxs-lookup"><span data-stu-id="33530-215">Select a **Pricing tier**.</span></span>  <span data-ttu-id="33530-216">The solution is offered in two tiers: free and OMS paid tier.</span><span class="sxs-lookup"><span data-stu-id="33530-216">The solution is offered in two tiers: free and OMS paid tier.</span></span>  <span data-ttu-id="33530-217">The free tier has a limit on the amount of data collected daily, retention period, and runbook job runtime minutes.</span><span class="sxs-lookup"><span data-stu-id="33530-217">The free tier has a limit on the amount of data collected daily, retention period, and runbook job runtime minutes.</span></span>  <span data-ttu-id="33530-218">The OMS paid tier does not have a limit on the amount of data collected daily.</span><span class="sxs-lookup"><span data-stu-id="33530-218">The OMS paid tier does not have a limit on the amount of data collected daily.</span></span>  

        > [!NOTE]
        > <span data-ttu-id="33530-219">While the Standalone paid tier is displayed as an option, it is not applicable.</span><span class="sxs-lookup"><span data-stu-id="33530-219">While the Standalone paid tier is displayed as an option, it is not applicable.</span></span>  <span data-ttu-id="33530-220">If you select it and proceed with the creation of this solution in your subscription, it will fail.</span><span class="sxs-lookup"><span data-stu-id="33530-220">If you select it and proceed with the creation of this solution in your subscription, it will fail.</span></span>  <span data-ttu-id="33530-221">This will be addressed when this solution is officially released.</span><span class="sxs-lookup"><span data-stu-id="33530-221">This will be addressed when this solution is officially released.</span></span><br><span data-ttu-id="33530-222">If you use this solution, it will only use automation job minutes and log ingestion.</span><span class="sxs-lookup"><span data-stu-id="33530-222">If you use this solution, it will only use automation job minutes and log ingestion.</span></span>  <span data-ttu-id="33530-223">The solution does not add additional OMS nodes to your environment.</span><span class="sxs-lookup"><span data-stu-id="33530-223">The solution does not add additional OMS nodes to your environment.</span></span>  

6. <span data-ttu-id="33530-224">After providing the required information on the **OMS workspace** blade, click **Create**.</span><span class="sxs-lookup"><span data-stu-id="33530-224">After providing the required information on the **OMS workspace** blade, click **Create**.</span></span>  <span data-ttu-id="33530-225">While the information is verified and the workspace is created, you can track its progress under **Notifications** from the menu.</span><span class="sxs-lookup"><span data-stu-id="33530-225">While the information is verified and the workspace is created, you can track its progress under **Notifications** from the menu.</span></span>  <span data-ttu-id="33530-226">You will be returned to the **Add Solution** blade.</span><span class="sxs-lookup"><span data-stu-id="33530-226">You will be returned to the **Add Solution** blade.</span></span>  
7. <span data-ttu-id="33530-227">On the **Add Solution** blade, select **Automation Account**.</span><span class="sxs-lookup"><span data-stu-id="33530-227">On the **Add Solution** blade, select **Automation Account**.</span></span>  <span data-ttu-id="33530-228">If you are creating a new OMS workspace, you will be required to also create a new Automation account that will be associated with the new OMS workspace specified earlier, including your Azure subscription, resource group and region.</span><span class="sxs-lookup"><span data-stu-id="33530-228">If you are creating a new OMS workspace, you will be required to also create a new Automation account that will be associated with the new OMS workspace specified earlier, including your Azure subscription, resource group and region.</span></span>  <span data-ttu-id="33530-229">You can select **Create an Automation account** and on the **Add Automation account** blade, provide the following:</span><span class="sxs-lookup"><span data-stu-id="33530-229">You can select **Create an Automation account** and on the **Add Automation account** blade, provide the following:</span></span> 
  - <span data-ttu-id="33530-230">In the **Name** field, enter the name of the Automation account.</span><span class="sxs-lookup"><span data-stu-id="33530-230">In the **Name** field, enter the name of the Automation account.</span></span>

    <span data-ttu-id="33530-231">All other options are automatically populated based on the OMS workspace selected and these options cannot be modified.</span><span class="sxs-lookup"><span data-stu-id="33530-231">All other options are automatically populated based on the OMS workspace selected and these options cannot be modified.</span></span>  <span data-ttu-id="33530-232">An Azure Run As account is the default authentication method for the runbooks included in this solution.</span><span class="sxs-lookup"><span data-stu-id="33530-232">An Azure Run As account is the default authentication method for the runbooks included in this solution.</span></span>  <span data-ttu-id="33530-233">Once you click **OK**, the configuration options are validated and the Automation account is created.</span><span class="sxs-lookup"><span data-stu-id="33530-233">Once you click **OK**, the configuration options are validated and the Automation account is created.</span></span>  <span data-ttu-id="33530-234">You can track its progress under **Notifications** from the menu.</span><span class="sxs-lookup"><span data-stu-id="33530-234">You can track its progress under **Notifications** from the menu.</span></span> 

    <span data-ttu-id="33530-235">Otherwise, you can select an existing Automation Run As account.</span><span class="sxs-lookup"><span data-stu-id="33530-235">Otherwise, you can select an existing Automation Run As account.</span></span>  <span data-ttu-id="33530-236">Note that the account you select cannot already be linked to another OMS workspace, otherwise a message will be presented in the blade to inform you.</span><span class="sxs-lookup"><span data-stu-id="33530-236">Note that the account you select cannot already be linked to another OMS workspace, otherwise a message will be presented in the blade to inform you.</span></span>  <span data-ttu-id="33530-237">If it is already linked, you will need to select a different Automation Run As account or create a new one.</span><span class="sxs-lookup"><span data-stu-id="33530-237">If it is already linked, you will need to select a different Automation Run As account or create a new one.</span></span><br><br> ![Automation Account Already Linked to OMS Workspace](https://docstestmedia1.blob.core.windows.net/azure-media/articles/automation/media/automation-solution-vm-management/vm-management-solution-add-solution-blade-autoacct-warning.png)<br>

8. <span data-ttu-id="33530-239">Finally on the **Add Solution** blade, select **Configuration** and the **Parameters** blade appears.</span><span class="sxs-lookup"><span data-stu-id="33530-239">Finally on the **Add Solution** blade, select **Configuration** and the **Parameters** blade appears.</span></span>  <span data-ttu-id="33530-240">On the **Parameters** blade, you are prompted to:</span><span class="sxs-lookup"><span data-stu-id="33530-240">On the **Parameters** blade, you are prompted to:</span></span>  
   - <span data-ttu-id="33530-241">Specify the **Target ResourceGroup Names**, which is a resource group name that contains VMs to be managed by this solution.</span><span class="sxs-lookup"><span data-stu-id="33530-241">Specify the **Target ResourceGroup Names**, which is a resource group name that contains VMs to be managed by this solution.</span></span>  <span data-ttu-id="33530-242">You can enter more than one name and separate each using a semi-colon (values are case-sensitive).</span><span class="sxs-lookup"><span data-stu-id="33530-242">You can enter more than one name and separate each using a semi-colon (values are case-sensitive).</span></span>  <span data-ttu-id="33530-243">Using a wildcard is supported if you want to target VMs in all resource groups in the subscription.</span><span class="sxs-lookup"><span data-stu-id="33530-243">Using a wildcard is supported if you want to target VMs in all resource groups in the subscription.</span></span>
   - <span data-ttu-id="33530-244">Select a **Schedule** which is a recurring date and time for starting and stopping the VM's in the target resource group(s).</span><span class="sxs-lookup"><span data-stu-id="33530-244">Select a **Schedule** which is a recurring date and time for starting and stopping the VM's in the target resource group(s).</span></span>  <span data-ttu-id="33530-245">By default, the schedule is configured to the UTC time zone and selecting a different region is not available.</span><span class="sxs-lookup"><span data-stu-id="33530-245">By default, the schedule is configured to the UTC time zone and selecting a different region is not available.</span></span>  <span data-ttu-id="33530-246">If you wish to configure the schedule to your specific time zone after configuring the solution, see [Modifying the startup and shutdown schedule](#modifying-the-startup-and-shutdown-schedule) below.</span><span class="sxs-lookup"><span data-stu-id="33530-246">If you wish to configure the schedule to your specific time zone after configuring the solution, see [Modifying the startup and shutdown schedule](#modifying-the-startup-and-shutdown-schedule) below.</span></span>    

10. <span data-ttu-id="33530-247">Once you have completed configuring the initial settings required for the solution, select **Create**.</span><span class="sxs-lookup"><span data-stu-id="33530-247">Once you have completed configuring the initial settings required for the solution, select **Create**.</span></span>  <span data-ttu-id="33530-248">All settings will be validated and then it will attempt to deploy the solution in your subscription.</span><span class="sxs-lookup"><span data-stu-id="33530-248">All settings will be validated and then it will attempt to deploy the solution in your subscription.</span></span>  <span data-ttu-id="33530-249">This process can take several seconds to complete and you can track its progress under **Notifications** from the menu.</span><span class="sxs-lookup"><span data-stu-id="33530-249">This process can take several seconds to complete and you can track its progress under **Notifications** from the menu.</span></span> 

## <a name="collection-frequency"></a><span data-ttu-id="33530-250">Collection frequency</span><span class="sxs-lookup"><span data-stu-id="33530-250">Collection frequency</span></span>

<span data-ttu-id="33530-251">Automation job log and job stream data is ingested into the OMS repository every five minutes.</span><span class="sxs-lookup"><span data-stu-id="33530-251">Automation job log and job stream data is ingested into the OMS repository every five minutes.</span></span>  

## <a name="using-the-solution"></a><span data-ttu-id="33530-252">Using the solution</span><span class="sxs-lookup"><span data-stu-id="33530-252">Using the solution</span></span>

<span data-ttu-id="33530-253">When you add the VM Management solution, in your OMS workspace the **StartStopVM View** tile will be added to your OMS dashboard.</span><span class="sxs-lookup"><span data-stu-id="33530-253">When you add the VM Management solution, in your OMS workspace the **StartStopVM View** tile will be added to your OMS dashboard.</span></span>  <span data-ttu-id="33530-254">This tile displays a count and graphical representation of the runbooks jobs for the solution that have started and have completed successfully.</span><span class="sxs-lookup"><span data-stu-id="33530-254">This tile displays a count and graphical representation of the runbooks jobs for the solution that have started and have completed successfully.</span></span><br><br> <span data-ttu-id="33530-255">![VM Management StartStopVM View Tile](https://docstestmedia1.blob.core.windows.net/azure-media/articles/automation/media/automation-solution-vm-management/vm-management-solution-startstopvm-view-tile.png)</span><span class="sxs-lookup"><span data-stu-id="33530-255">![VM Management StartStopVM View Tile](https://docstestmedia1.blob.core.windows.net/azure-media/articles/automation/media/automation-solution-vm-management/vm-management-solution-startstopvm-view-tile.png)</span></span>  

<span data-ttu-id="33530-256">In your Automation account, you can access and manage the solution by selecting the **Solutions** tile and then from the **Solutions** blade, selecting the solution **Start-Stop-VM[Workspace]** from the list.</span><span class="sxs-lookup"><span data-stu-id="33530-256">In your Automation account, you can access and manage the solution by selecting the **Solutions** tile and then from the **Solutions** blade, selecting the solution **Start-Stop-VM[Workspace]** from the list.</span></span><br><br> <span data-ttu-id="33530-257">![Automation Solutions List](https://docstestmedia1.blob.core.windows.net/azure-media/articles/automation/media/automation-solution-vm-management/vm-management-solution-autoaccount-solution-list.png)</span><span class="sxs-lookup"><span data-stu-id="33530-257">![Automation Solutions List](https://docstestmedia1.blob.core.windows.net/azure-media/articles/automation/media/automation-solution-vm-management/vm-management-solution-autoaccount-solution-list.png)</span></span>  

<span data-ttu-id="33530-258">Selecting the solution will display the **Start-Stop-VM[Workspace]** solution blade, where you can review important details such as the **StartStopVM** tile, like in your OMS workspace, which displays a count and graphical representation of the runbooks jobs for the solution that have started and have completed successfully.</span><span class="sxs-lookup"><span data-stu-id="33530-258">Selecting the solution will display the **Start-Stop-VM[Workspace]** solution blade, where you can review important details such as the **StartStopVM** tile, like in your OMS workspace, which displays a count and graphical representation of the runbooks jobs for the solution that have started and have completed successfully.</span></span><br><br> <span data-ttu-id="33530-259">![Automation VM Solution Blade](https://docstestmedia1.blob.core.windows.net/azure-media/articles/automation/media/automation-solution-vm-management/vm-management-solution-solution-blade.png)</span><span class="sxs-lookup"><span data-stu-id="33530-259">![Automation VM Solution Blade](https://docstestmedia1.blob.core.windows.net/azure-media/articles/automation/media/automation-solution-vm-management/vm-management-solution-solution-blade.png)</span></span>  

<span data-ttu-id="33530-260">From here you can also open your OMS workspace and perform further analysis of the job records.</span><span class="sxs-lookup"><span data-stu-id="33530-260">From here you can also open your OMS workspace and perform further analysis of the job records.</span></span>  <span data-ttu-id="33530-261">Just click **All settings**, and in the **Settings** blade, select **Quick Start** and then in the **Quick Start** blade select **OMS Portal**.</span><span class="sxs-lookup"><span data-stu-id="33530-261">Just click **All settings**, and in the **Settings** blade, select **Quick Start** and then in the **Quick Start** blade select **OMS Portal**.</span></span>   <span data-ttu-id="33530-262">This will open a new tab or new browser session and present your OMS workspace associated with your Automation account and subscription.</span><span class="sxs-lookup"><span data-stu-id="33530-262">This will open a new tab or new browser session and present your OMS workspace associated with your Automation account and subscription.</span></span>  


### <a name="configuring-e-mail-notifications"></a><span data-ttu-id="33530-263">Configuring e-mail notifications</span><span class="sxs-lookup"><span data-stu-id="33530-263">Configuring e-mail notifications</span></span>

<span data-ttu-id="33530-264">To enable email notifications when the start and stop VM runbooks complete, you will need to modify the **O365Credential** credential and at a minimum, the following variables:</span><span class="sxs-lookup"><span data-stu-id="33530-264">To enable email notifications when the start and stop VM runbooks complete, you will need to modify the **O365Credential** credential and at a minimum, the following variables:</span></span>

 - <span data-ttu-id="33530-265">SendMailO365-IsSendEmail-MS-Mgmt</span><span class="sxs-lookup"><span data-stu-id="33530-265">SendMailO365-IsSendEmail-MS-Mgmt</span></span>
 - <span data-ttu-id="33530-266">StartByResourceGroup-SendMailO365-EmailToAddress-MS-Mgmt</span><span class="sxs-lookup"><span data-stu-id="33530-266">StartByResourceGroup-SendMailO365-EmailToAddress-MS-Mgmt</span></span>
 - <span data-ttu-id="33530-267">StopByResourceGroup-SendMailO365-EmailToAddress-MS-Mgmt</span><span class="sxs-lookup"><span data-stu-id="33530-267">StopByResourceGroup-SendMailO365-EmailToAddress-MS-Mgmt</span></span>

<span data-ttu-id="33530-268">To configure the **O365Credential** credential, perform the following steps:</span><span class="sxs-lookup"><span data-stu-id="33530-268">To configure the **O365Credential** credential, perform the following steps:</span></span>

1. <span data-ttu-id="33530-269">From your automation account, click **All Settings** at the top of the window.</span><span class="sxs-lookup"><span data-stu-id="33530-269">From your automation account, click **All Settings** at the top of the window.</span></span> 
2. <span data-ttu-id="33530-270">On the **Settings** blade under the section **Automation Resources**, select **Assets**.</span><span class="sxs-lookup"><span data-stu-id="33530-270">On the **Settings** blade under the section **Automation Resources**, select **Assets**.</span></span> 
3. <span data-ttu-id="33530-271">On the **Assets** blade, select the **Credential** tile and from the **Credential** blade, select the **O365Credential**.</span><span class="sxs-lookup"><span data-stu-id="33530-271">On the **Assets** blade, select the **Credential** tile and from the **Credential** blade, select the **O365Credential**.</span></span>  
4. <span data-ttu-id="33530-272">Enter a valid Office 365 username and password and then click **Save** to save your changes.</span><span class="sxs-lookup"><span data-stu-id="33530-272">Enter a valid Office 365 username and password and then click **Save** to save your changes.</span></span>  

<span data-ttu-id="33530-273">To configure the variables highlighted earlier, perform the following steps:</span><span class="sxs-lookup"><span data-stu-id="33530-273">To configure the variables highlighted earlier, perform the following steps:</span></span>

1. <span data-ttu-id="33530-274">From your automation account, click **All Settings** at the top of the window.</span><span class="sxs-lookup"><span data-stu-id="33530-274">From your automation account, click **All Settings** at the top of the window.</span></span> 
2. <span data-ttu-id="33530-275">On the **Settings** blade under the section **Automation Resources**, select **Assets**.</span><span class="sxs-lookup"><span data-stu-id="33530-275">On the **Settings** blade under the section **Automation Resources**, select **Assets**.</span></span> 
3. <span data-ttu-id="33530-276">On the **Assets** blade, select the **Variables** tile and from the **Variables** blade, select the variable listed above and then modify its value following the description for it specified in the [variable](##variables) section earlier.</span><span class="sxs-lookup"><span data-stu-id="33530-276">On the **Assets** blade, select the **Variables** tile and from the **Variables** blade, select the variable listed above and then modify its value following the description for it specified in the [variable](##variables) section earlier.</span></span>  
4. <span data-ttu-id="33530-277">Click **Save** to save the changes to the variable.</span><span class="sxs-lookup"><span data-stu-id="33530-277">Click **Save** to save the changes to the variable.</span></span>   

### <a name="modifying-the-startup-and-shutdown-schedule"></a><span data-ttu-id="33530-278">Modifying the startup and shutdown schedule</span><span class="sxs-lookup"><span data-stu-id="33530-278">Modifying the startup and shutdown schedule</span></span>

<span data-ttu-id="33530-279">Managing the startup and shutdown schedule in this solution follows the same steps as outlined in [Scheduling a runbook in Azure Automation](automation-schedules.md).</span><span class="sxs-lookup"><span data-stu-id="33530-279">Managing the startup and shutdown schedule in this solution follows the same steps as outlined in [Scheduling a runbook in Azure Automation](automation-schedules.md).</span></span>  <span data-ttu-id="33530-280">Remember, you cannot modify the schedule configuration.</span><span class="sxs-lookup"><span data-stu-id="33530-280">Remember, you cannot modify the schedule configuration.</span></span>  <span data-ttu-id="33530-281">You will need to disable the existing schedule and then create a new one and then link to the **StartByResourceGroup-MS-Mgmt-VM** or **StopByResourceGroup-MS-Mgmt-VM** runbook that you want the schedule to apply to.</span><span class="sxs-lookup"><span data-stu-id="33530-281">You will need to disable the existing schedule and then create a new one and then link to the **StartByResourceGroup-MS-Mgmt-VM** or **StopByResourceGroup-MS-Mgmt-VM** runbook that you want the schedule to apply to.</span></span>   

## <a name="log-analytics-records"></a><span data-ttu-id="33530-282">Log Analytics records</span><span class="sxs-lookup"><span data-stu-id="33530-282">Log Analytics records</span></span>

<span data-ttu-id="33530-283">Automation creates two types of records in the OMS repository.</span><span class="sxs-lookup"><span data-stu-id="33530-283">Automation creates two types of records in the OMS repository.</span></span>

### <a name="job-logs"></a><span data-ttu-id="33530-284">Job logs</span><span class="sxs-lookup"><span data-stu-id="33530-284">Job logs</span></span>

<span data-ttu-id="33530-285">Property</span><span class="sxs-lookup"><span data-stu-id="33530-285">Property</span></span> | <span data-ttu-id="33530-286">Description</span><span class="sxs-lookup"><span data-stu-id="33530-286">Description</span></span>|
----------|----------|
<span data-ttu-id="33530-287">Caller</span><span class="sxs-lookup"><span data-stu-id="33530-287">Caller</span></span> |  <span data-ttu-id="33530-288">Who initiated the operation.</span><span class="sxs-lookup"><span data-stu-id="33530-288">Who initiated the operation.</span></span>  <span data-ttu-id="33530-289">Possible values are either an email address or system for scheduled jobs.</span><span class="sxs-lookup"><span data-stu-id="33530-289">Possible values are either an email address or system for scheduled jobs.</span></span>|
<span data-ttu-id="33530-290">Category</span><span class="sxs-lookup"><span data-stu-id="33530-290">Category</span></span> | <span data-ttu-id="33530-291">Classification of the type of data.</span><span class="sxs-lookup"><span data-stu-id="33530-291">Classification of the type of data.</span></span>  <span data-ttu-id="33530-292">For Automation, the value is JobLogs.</span><span class="sxs-lookup"><span data-stu-id="33530-292">For Automation, the value is JobLogs.</span></span>|
<span data-ttu-id="33530-293">CorrelationId</span><span class="sxs-lookup"><span data-stu-id="33530-293">CorrelationId</span></span> | <span data-ttu-id="33530-294">GUID that is the Correlation Id of the runbook job.</span><span class="sxs-lookup"><span data-stu-id="33530-294">GUID that is the Correlation Id of the runbook job.</span></span>|
<span data-ttu-id="33530-295">JobId</span><span class="sxs-lookup"><span data-stu-id="33530-295">JobId</span></span> | <span data-ttu-id="33530-296">GUID that is the Id of the runbook job.</span><span class="sxs-lookup"><span data-stu-id="33530-296">GUID that is the Id of the runbook job.</span></span>|
<span data-ttu-id="33530-297">operationName</span><span class="sxs-lookup"><span data-stu-id="33530-297">operationName</span></span> | <span data-ttu-id="33530-298">Specifies the type of operation performed in Azure.</span><span class="sxs-lookup"><span data-stu-id="33530-298">Specifies the type of operation performed in Azure.</span></span>  <span data-ttu-id="33530-299">For Automation, the value will be Job.</span><span class="sxs-lookup"><span data-stu-id="33530-299">For Automation, the value will be Job.</span></span>|
<span data-ttu-id="33530-300">resourceId</span><span class="sxs-lookup"><span data-stu-id="33530-300">resourceId</span></span> | <span data-ttu-id="33530-301">Specifies the resource type in Azure.</span><span class="sxs-lookup"><span data-stu-id="33530-301">Specifies the resource type in Azure.</span></span>  <span data-ttu-id="33530-302">For Automation, the value is the Automation account associated with the runbook.</span><span class="sxs-lookup"><span data-stu-id="33530-302">For Automation, the value is the Automation account associated with the runbook.</span></span>|
<span data-ttu-id="33530-303">ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="33530-303">ResourceGroup</span></span> | <span data-ttu-id="33530-304">Specifies the resource group  name of the runbook job.</span><span class="sxs-lookup"><span data-stu-id="33530-304">Specifies the resource group  name of the runbook job.</span></span>|
<span data-ttu-id="33530-305">ResourceProvider</span><span class="sxs-lookup"><span data-stu-id="33530-305">ResourceProvider</span></span> | <span data-ttu-id="33530-306">Specifies the Azure service that supplies the resources you can deploy and manage.</span><span class="sxs-lookup"><span data-stu-id="33530-306">Specifies the Azure service that supplies the resources you can deploy and manage.</span></span>  <span data-ttu-id="33530-307">For Automation, the value is Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="33530-307">For Automation, the value is Azure Automation.</span></span>|
<span data-ttu-id="33530-308">ResourceType</span><span class="sxs-lookup"><span data-stu-id="33530-308">ResourceType</span></span> | <span data-ttu-id="33530-309">Specifies the resource type in Azure.</span><span class="sxs-lookup"><span data-stu-id="33530-309">Specifies the resource type in Azure.</span></span>  <span data-ttu-id="33530-310">For Automation, the value is the Automation account associated with the runbook.</span><span class="sxs-lookup"><span data-stu-id="33530-310">For Automation, the value is the Automation account associated with the runbook.</span></span>|
<span data-ttu-id="33530-311">resultType</span><span class="sxs-lookup"><span data-stu-id="33530-311">resultType</span></span> | <span data-ttu-id="33530-312">The status of the runbook job.</span><span class="sxs-lookup"><span data-stu-id="33530-312">The status of the runbook job.</span></span>  <span data-ttu-id="33530-313">Possible values are:</span><span class="sxs-lookup"><span data-stu-id="33530-313">Possible values are:</span></span><br><span data-ttu-id="33530-314">- Started</span><span class="sxs-lookup"><span data-stu-id="33530-314">- Started</span></span><br><span data-ttu-id="33530-315">- Stopped</span><span class="sxs-lookup"><span data-stu-id="33530-315">- Stopped</span></span><br><span data-ttu-id="33530-316">- Suspended</span><span class="sxs-lookup"><span data-stu-id="33530-316">- Suspended</span></span><br><span data-ttu-id="33530-317">- Failed</span><span class="sxs-lookup"><span data-stu-id="33530-317">- Failed</span></span><br><span data-ttu-id="33530-318">- Succeeded</span><span class="sxs-lookup"><span data-stu-id="33530-318">- Succeeded</span></span>|
<span data-ttu-id="33530-319">resultDescription</span><span class="sxs-lookup"><span data-stu-id="33530-319">resultDescription</span></span> | <span data-ttu-id="33530-320">Describes the runbook job result state.</span><span class="sxs-lookup"><span data-stu-id="33530-320">Describes the runbook job result state.</span></span>  <span data-ttu-id="33530-321">Possible values are:</span><span class="sxs-lookup"><span data-stu-id="33530-321">Possible values are:</span></span><br><span data-ttu-id="33530-322">- Job is started</span><span class="sxs-lookup"><span data-stu-id="33530-322">- Job is started</span></span><br><span data-ttu-id="33530-323">- Job Failed</span><span class="sxs-lookup"><span data-stu-id="33530-323">- Job Failed</span></span><br><span data-ttu-id="33530-324">- Job Completed</span><span class="sxs-lookup"><span data-stu-id="33530-324">- Job Completed</span></span>|
<span data-ttu-id="33530-325">RunbookName</span><span class="sxs-lookup"><span data-stu-id="33530-325">RunbookName</span></span> | <span data-ttu-id="33530-326">Specifies the name of the runbook.</span><span class="sxs-lookup"><span data-stu-id="33530-326">Specifies the name of the runbook.</span></span>|
<span data-ttu-id="33530-327">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="33530-327">SourceSystem</span></span> | <span data-ttu-id="33530-328">Specifies the source system for the data submitted.</span><span class="sxs-lookup"><span data-stu-id="33530-328">Specifies the source system for the data submitted.</span></span>  <span data-ttu-id="33530-329">For Automation, the value will be :OpsManager</span><span class="sxs-lookup"><span data-stu-id="33530-329">For Automation, the value will be :OpsManager</span></span>|
<span data-ttu-id="33530-330">StreamType</span><span class="sxs-lookup"><span data-stu-id="33530-330">StreamType</span></span> | <span data-ttu-id="33530-331">Specifies the type of event.</span><span class="sxs-lookup"><span data-stu-id="33530-331">Specifies the type of event.</span></span> <span data-ttu-id="33530-332">Possible values are:</span><span class="sxs-lookup"><span data-stu-id="33530-332">Possible values are:</span></span><br><span data-ttu-id="33530-333">- Verbose</span><span class="sxs-lookup"><span data-stu-id="33530-333">- Verbose</span></span><br><span data-ttu-id="33530-334">- Output</span><span class="sxs-lookup"><span data-stu-id="33530-334">- Output</span></span><br><span data-ttu-id="33530-335">- Error</span><span class="sxs-lookup"><span data-stu-id="33530-335">- Error</span></span><br><span data-ttu-id="33530-336">- Warning</span><span class="sxs-lookup"><span data-stu-id="33530-336">- Warning</span></span>|
<span data-ttu-id="33530-337">SubscriptionId</span><span class="sxs-lookup"><span data-stu-id="33530-337">SubscriptionId</span></span> | <span data-ttu-id="33530-338">Specifies the subscription ID of the job.</span><span class="sxs-lookup"><span data-stu-id="33530-338">Specifies the subscription ID of the job.</span></span>
<span data-ttu-id="33530-339">Time</span><span class="sxs-lookup"><span data-stu-id="33530-339">Time</span></span> | <span data-ttu-id="33530-340">Date and time when the runbook job executed.</span><span class="sxs-lookup"><span data-stu-id="33530-340">Date and time when the runbook job executed.</span></span>|


### <a name="job-streams"></a><span data-ttu-id="33530-341">Job streams</span><span class="sxs-lookup"><span data-stu-id="33530-341">Job streams</span></span>

<span data-ttu-id="33530-342">Property</span><span class="sxs-lookup"><span data-stu-id="33530-342">Property</span></span> | <span data-ttu-id="33530-343">Description</span><span class="sxs-lookup"><span data-stu-id="33530-343">Description</span></span>|
----------|----------|
<span data-ttu-id="33530-344">Caller</span><span class="sxs-lookup"><span data-stu-id="33530-344">Caller</span></span> |  <span data-ttu-id="33530-345">Who initiated the operation.</span><span class="sxs-lookup"><span data-stu-id="33530-345">Who initiated the operation.</span></span>  <span data-ttu-id="33530-346">Possible values are either an email address or system for scheduled jobs.</span><span class="sxs-lookup"><span data-stu-id="33530-346">Possible values are either an email address or system for scheduled jobs.</span></span>|
<span data-ttu-id="33530-347">Category</span><span class="sxs-lookup"><span data-stu-id="33530-347">Category</span></span> | <span data-ttu-id="33530-348">Classification of the type of data.</span><span class="sxs-lookup"><span data-stu-id="33530-348">Classification of the type of data.</span></span>  <span data-ttu-id="33530-349">For Automation, the value is JobStreams.</span><span class="sxs-lookup"><span data-stu-id="33530-349">For Automation, the value is JobStreams.</span></span>|
<span data-ttu-id="33530-350">JobId</span><span class="sxs-lookup"><span data-stu-id="33530-350">JobId</span></span> | <span data-ttu-id="33530-351">GUID that is the Id of the runbook job.</span><span class="sxs-lookup"><span data-stu-id="33530-351">GUID that is the Id of the runbook job.</span></span>|
<span data-ttu-id="33530-352">operationName</span><span class="sxs-lookup"><span data-stu-id="33530-352">operationName</span></span> | <span data-ttu-id="33530-353">Specifies the type of operation performed in Azure.</span><span class="sxs-lookup"><span data-stu-id="33530-353">Specifies the type of operation performed in Azure.</span></span>  <span data-ttu-id="33530-354">For Automation, the value will be Job.</span><span class="sxs-lookup"><span data-stu-id="33530-354">For Automation, the value will be Job.</span></span>|
<span data-ttu-id="33530-355">ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="33530-355">ResourceGroup</span></span> | <span data-ttu-id="33530-356">Specifies the resource group  name of the runbook job.</span><span class="sxs-lookup"><span data-stu-id="33530-356">Specifies the resource group  name of the runbook job.</span></span>|
<span data-ttu-id="33530-357">resourceId</span><span class="sxs-lookup"><span data-stu-id="33530-357">resourceId</span></span> | <span data-ttu-id="33530-358">Specifies the resource Id in Azure.</span><span class="sxs-lookup"><span data-stu-id="33530-358">Specifies the resource Id in Azure.</span></span>  <span data-ttu-id="33530-359">For Automation, the value is the Automation account associated with the runbook.</span><span class="sxs-lookup"><span data-stu-id="33530-359">For Automation, the value is the Automation account associated with the runbook.</span></span>|
<span data-ttu-id="33530-360">ResourceProvider</span><span class="sxs-lookup"><span data-stu-id="33530-360">ResourceProvider</span></span> | <span data-ttu-id="33530-361">Specifies the Azure service that supplies the resources you can deploy and manage.</span><span class="sxs-lookup"><span data-stu-id="33530-361">Specifies the Azure service that supplies the resources you can deploy and manage.</span></span>  <span data-ttu-id="33530-362">For Automation, the value is Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="33530-362">For Automation, the value is Azure Automation.</span></span>|
<span data-ttu-id="33530-363">ResourceType</span><span class="sxs-lookup"><span data-stu-id="33530-363">ResourceType</span></span> | <span data-ttu-id="33530-364">Specifies the resource type in Azure.</span><span class="sxs-lookup"><span data-stu-id="33530-364">Specifies the resource type in Azure.</span></span>  <span data-ttu-id="33530-365">For Automation, the value is the Automation account associated with the runbook.</span><span class="sxs-lookup"><span data-stu-id="33530-365">For Automation, the value is the Automation account associated with the runbook.</span></span>|
<span data-ttu-id="33530-366">resultType</span><span class="sxs-lookup"><span data-stu-id="33530-366">resultType</span></span> | <span data-ttu-id="33530-367">The result of the runbook job at the time the event was generated.</span><span class="sxs-lookup"><span data-stu-id="33530-367">The result of the runbook job at the time the event was generated.</span></span>  <span data-ttu-id="33530-368">Possible values are:</span><span class="sxs-lookup"><span data-stu-id="33530-368">Possible values are:</span></span><br><span data-ttu-id="33530-369">- InProgress</span><span class="sxs-lookup"><span data-stu-id="33530-369">- InProgress</span></span>|
<span data-ttu-id="33530-370">resultDescription</span><span class="sxs-lookup"><span data-stu-id="33530-370">resultDescription</span></span> | <span data-ttu-id="33530-371">Includes the output stream from the runbook.</span><span class="sxs-lookup"><span data-stu-id="33530-371">Includes the output stream from the runbook.</span></span>|
<span data-ttu-id="33530-372">RunbookName</span><span class="sxs-lookup"><span data-stu-id="33530-372">RunbookName</span></span> | <span data-ttu-id="33530-373">The name of the runbook.</span><span class="sxs-lookup"><span data-stu-id="33530-373">The name of the runbook.</span></span>|
<span data-ttu-id="33530-374">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="33530-374">SourceSystem</span></span> | <span data-ttu-id="33530-375">Specifies the source system for the data submitted.</span><span class="sxs-lookup"><span data-stu-id="33530-375">Specifies the source system for the data submitted.</span></span>  <span data-ttu-id="33530-376">For Automation, the value will be OpsManager</span><span class="sxs-lookup"><span data-stu-id="33530-376">For Automation, the value will be OpsManager</span></span>|
<span data-ttu-id="33530-377">StreamType</span><span class="sxs-lookup"><span data-stu-id="33530-377">StreamType</span></span> | <span data-ttu-id="33530-378">The type of job stream.</span><span class="sxs-lookup"><span data-stu-id="33530-378">The type of job stream.</span></span> <span data-ttu-id="33530-379">Possible values are:</span><span class="sxs-lookup"><span data-stu-id="33530-379">Possible values are:</span></span><br><span data-ttu-id="33530-380">-Progress</span><span class="sxs-lookup"><span data-stu-id="33530-380">-Progress</span></span><br><span data-ttu-id="33530-381">- Output</span><span class="sxs-lookup"><span data-stu-id="33530-381">- Output</span></span><br><span data-ttu-id="33530-382">- Warning</span><span class="sxs-lookup"><span data-stu-id="33530-382">- Warning</span></span><br><span data-ttu-id="33530-383">- Error</span><span class="sxs-lookup"><span data-stu-id="33530-383">- Error</span></span><br><span data-ttu-id="33530-384">- Debug</span><span class="sxs-lookup"><span data-stu-id="33530-384">- Debug</span></span><br><span data-ttu-id="33530-385">- Verbose</span><span class="sxs-lookup"><span data-stu-id="33530-385">- Verbose</span></span>|
<span data-ttu-id="33530-386">Time</span><span class="sxs-lookup"><span data-stu-id="33530-386">Time</span></span> | <span data-ttu-id="33530-387">Date and time when the runbook job executed.</span><span class="sxs-lookup"><span data-stu-id="33530-387">Date and time when the runbook job executed.</span></span>|

<span data-ttu-id="33530-388">When you perform any log search that returns records of category of **JobLogs** or **JobStreams**, you can select the **JobLogs** or **JobStreams** view which displays a set of tiles summarizing the updates returned by the search.</span><span class="sxs-lookup"><span data-stu-id="33530-388">When you perform any log search that returns records of category of **JobLogs** or **JobStreams**, you can select the **JobLogs** or **JobStreams** view which displays a set of tiles summarizing the updates returned by the search.</span></span>

## <a name="sample-log-searches"></a><span data-ttu-id="33530-389">Sample log searches</span><span class="sxs-lookup"><span data-stu-id="33530-389">Sample log searches</span></span>

<span data-ttu-id="33530-390">The following table provides sample log searches for job records collected by this solution.</span><span class="sxs-lookup"><span data-stu-id="33530-390">The following table provides sample log searches for job records collected by this solution.</span></span> 

<span data-ttu-id="33530-391">Query</span><span class="sxs-lookup"><span data-stu-id="33530-391">Query</span></span> | <span data-ttu-id="33530-392">Description</span><span class="sxs-lookup"><span data-stu-id="33530-392">Description</span></span>|
----------|----------|
<span data-ttu-id="33530-393">Find jobs for runbook StartVM that have completed successfully</span><span class="sxs-lookup"><span data-stu-id="33530-393">Find jobs for runbook StartVM that have completed successfully</span></span> | <span data-ttu-id="33530-394">Category=JobLogs RunbookName_s="StartByResourceGroup-MS-Mgmt-VM" ResultType=Succeeded &#124; measure count() by JobId_g</span><span class="sxs-lookup"><span data-stu-id="33530-394">Category=JobLogs RunbookName_s="StartByResourceGroup-MS-Mgmt-VM" ResultType=Succeeded &#124; measure count() by JobId_g</span></span>|
<span data-ttu-id="33530-395">Find jobs for runbook StopVM that have completed successfully</span><span class="sxs-lookup"><span data-stu-id="33530-395">Find jobs for runbook StopVM that have completed successfully</span></span> | <span data-ttu-id="33530-396">Category=JobLogs RunbookName_s="StartByResourceGroup-MS-Mgmt-VM" ResultType=Failed &#124; measure count() by JobId_g</span><span class="sxs-lookup"><span data-stu-id="33530-396">Category=JobLogs RunbookName_s="StartByResourceGroup-MS-Mgmt-VM" ResultType=Failed &#124; measure count() by JobId_g</span></span>
<span data-ttu-id="33530-397">Show job status over time for StartVM and StopVM runbooks</span><span class="sxs-lookup"><span data-stu-id="33530-397">Show job status over time for StartVM and StopVM runbooks</span></span> | <span data-ttu-id="33530-398">Category=JobLogs RunbookName_s="StartByResourceGroup-MS-Mgmt-VM" OR "StopByResourceGroup-MS-Mgmt-VM" NOT(ResultType="started")</span><span class="sxs-lookup"><span data-stu-id="33530-398">Category=JobLogs RunbookName_s="StartByResourceGroup-MS-Mgmt-VM" OR "StopByResourceGroup-MS-Mgmt-VM" NOT(ResultType="started")</span></span> | <span data-ttu-id="33530-399">measure Count() by ResultType interval 1day</span><span class="sxs-lookup"><span data-stu-id="33530-399">measure Count() by ResultType interval 1day</span></span>|

## <a name="removing-the-solution"></a><span data-ttu-id="33530-400">Removing the solution</span><span class="sxs-lookup"><span data-stu-id="33530-400">Removing the solution</span></span>

<span data-ttu-id="33530-401">If you decide you no longer need to use the solution any further, you can delete it from the Automation account.</span><span class="sxs-lookup"><span data-stu-id="33530-401">If you decide you no longer need to use the solution any further, you can delete it from the Automation account.</span></span>  <span data-ttu-id="33530-402">Deleting the solution will only remove the runbooks, it will not delete the schedules or variables that were created when the solution was added.</span><span class="sxs-lookup"><span data-stu-id="33530-402">Deleting the solution will only remove the runbooks, it will not delete the schedules or variables that were created when the solution was added.</span></span>  <span data-ttu-id="33530-403">Those assets you will need to delete manually if you are not using them with other runbooks.</span><span class="sxs-lookup"><span data-stu-id="33530-403">Those assets you will need to delete manually if you are not using them with other runbooks.</span></span>  

<span data-ttu-id="33530-404">To delete the solution, perform the following steps:</span><span class="sxs-lookup"><span data-stu-id="33530-404">To delete the solution, perform the following steps:</span></span>

1.  <span data-ttu-id="33530-405">From your automation account, select the **Solutions** tile.</span><span class="sxs-lookup"><span data-stu-id="33530-405">From your automation account, select the **Solutions** tile.</span></span>  
2.  <span data-ttu-id="33530-406">On the **Solutions** blade, select the solution **Start-Stop-VM[Workspace]**.</span><span class="sxs-lookup"><span data-stu-id="33530-406">On the **Solutions** blade, select the solution **Start-Stop-VM[Workspace]**.</span></span>  <span data-ttu-id="33530-407">On the **VMManagementSolution[Workspace]** blade, from the menu click **Delete**.</span><span class="sxs-lookup"><span data-stu-id="33530-407">On the **VMManagementSolution[Workspace]** blade, from the menu click **Delete**.</span></span><br><br> <span data-ttu-id="33530-408">![Delete VM Mgmt Solution](https://docstestmedia1.blob.core.windows.net/azure-media/articles/automation/media/automation-solution-vm-management/vm-management-solution-delete.png)</span><span class="sxs-lookup"><span data-stu-id="33530-408">![Delete VM Mgmt Solution](https://docstestmedia1.blob.core.windows.net/azure-media/articles/automation/media/automation-solution-vm-management/vm-management-solution-delete.png)</span></span>
3.  <span data-ttu-id="33530-409">In the **Delete Solution** window, confirm you want to delete the solution.</span><span class="sxs-lookup"><span data-stu-id="33530-409">In the **Delete Solution** window, confirm you want to delete the solution.</span></span>
4.  <span data-ttu-id="33530-410">While the information is verified and the solution is deleted, you can track its progress under **Notifications** from the menu.</span><span class="sxs-lookup"><span data-stu-id="33530-410">While the information is verified and the solution is deleted, you can track its progress under **Notifications** from the menu.</span></span>  <span data-ttu-id="33530-411">You will be returned to the **VMManagementSolution[Workspace]** blade after the process to remove solution starts.</span><span class="sxs-lookup"><span data-stu-id="33530-411">You will be returned to the **VMManagementSolution[Workspace]** blade after the process to remove solution starts.</span></span>  

<span data-ttu-id="33530-412">The Automation account and OMS workspace are not deleted as part of this process.</span><span class="sxs-lookup"><span data-stu-id="33530-412">The Automation account and OMS workspace are not deleted as part of this process.</span></span>  <span data-ttu-id="33530-413">If you do not want to retain the OMS workspace, you will need to manually delete it.</span><span class="sxs-lookup"><span data-stu-id="33530-413">If you do not want to retain the OMS workspace, you will need to manually delete it.</span></span>  <span data-ttu-id="33530-414">This can be accomplished also from the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="33530-414">This can be accomplished also from the Azure portal.</span></span>   <span data-ttu-id="33530-415">From the home-screen in the Azure portal, select **Log Analytics** and then on the **Log Analytics** blade, select the workspace and click **Delete** from the menu on the workspace settings blade.</span><span class="sxs-lookup"><span data-stu-id="33530-415">From the home-screen in the Azure portal, select **Log Analytics** and then on the **Log Analytics** blade, select the workspace and click **Delete** from the menu on the workspace settings blade.</span></span>  
      
## <a name="next-steps"></a><span data-ttu-id="33530-416">Next steps</span><span class="sxs-lookup"><span data-stu-id="33530-416">Next steps</span></span>

- <span data-ttu-id="33530-417">To learn more about how to construct different search queries and review the Automation job logs with Log Analytics, see [Log searches in Log Analytics](../log-analytics/log-analytics-log-searches.md)</span><span class="sxs-lookup"><span data-stu-id="33530-417">To learn more about how to construct different search queries and review the Automation job logs with Log Analytics, see [Log searches in Log Analytics](../log-analytics/log-analytics-log-searches.md)</span></span>
- <span data-ttu-id="33530-418">To learn more about runbook execution, how to monitor runbook jobs, and other technical details, see [Track a runbook job](automation-runbook-execution.md)</span><span class="sxs-lookup"><span data-stu-id="33530-418">To learn more about runbook execution, how to monitor runbook jobs, and other technical details, see [Track a runbook job](automation-runbook-execution.md)</span></span>
- <span data-ttu-id="33530-419">To learn more about OMS Log Analytics and data collection sources, see [Collecting Azure storage data in Log Analytics overview](../log-analytics/log-analytics-azure-storage.md)</span><span class="sxs-lookup"><span data-stu-id="33530-419">To learn more about OMS Log Analytics and data collection sources, see [Collecting Azure storage data in Log Analytics overview](../log-analytics/log-analytics-azure-storage.md)</span></span>






   







