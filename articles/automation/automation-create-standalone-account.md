---
title: Create a standalone Azure Automation account
description: This article walks you through the steps of creating, testing, and using an example security principal authentication in Azure Automation.
services: automation
ms.service: automation
ms.component: process-automation
author: georgewallace
ms.author: gwallace
ms.date: 03/15/2018
ms.topic: conceptual
manager: carmonm
ms.openlocfilehash: 021ab6cd29634c2e2f17234e188edce2a14449cf
ms.sourcegitcommit: d1451406a010fd3aa854dc8e5b77dc5537d8050e
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44773493"
---
# <a name="create-a-standalone-azure-automation-account"></a><span data-ttu-id="12604-103">Create a standalone Azure Automation account</span><span class="sxs-lookup"><span data-stu-id="12604-103">Create a standalone Azure Automation account</span></span>

<span data-ttu-id="12604-104">This article shows you how to create an Azure Automation account in the Azure portal.</span><span class="sxs-lookup"><span data-stu-id="12604-104">This article shows you how to create an Azure Automation account in the Azure portal.</span></span> <span data-ttu-id="12604-105">You can use the portal Automation account to evaluate and learn about Automation without using additional management solutions or integration with Azure Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="12604-105">You can use the portal Automation account to evaluate and learn about Automation without using additional management solutions or integration with Azure Log Analytics.</span></span> <span data-ttu-id="12604-106">You can add those management solutions or integrate with Log Analytics for advanced monitoring of runbook jobs at any point in the future.</span><span class="sxs-lookup"><span data-stu-id="12604-106">You can add those management solutions or integrate with Log Analytics for advanced monitoring of runbook jobs at any point in the future.</span></span>

<span data-ttu-id="12604-107">With an Automation account, you can authenticate runbooks by managing resources in either Azure Resource Manager or the classic deployment model.</span><span class="sxs-lookup"><span data-stu-id="12604-107">With an Automation account, you can authenticate runbooks by managing resources in either Azure Resource Manager or the classic deployment model.</span></span>

<span data-ttu-id="12604-108">When you create an Automation account in the Azure portal, these accounts are automatically created:</span><span class="sxs-lookup"><span data-stu-id="12604-108">When you create an Automation account in the Azure portal, these accounts are automatically created:</span></span>

* <span data-ttu-id="12604-109">**Run As account**.</span><span class="sxs-lookup"><span data-stu-id="12604-109">**Run As account**.</span></span> <span data-ttu-id="12604-110">This account does the following tasks:</span><span class="sxs-lookup"><span data-stu-id="12604-110">This account does the following tasks:</span></span>
  * <span data-ttu-id="12604-111">Creates a service principal in Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="12604-111">Creates a service principal in Azure Active Directory (Azure AD).</span></span>
  * <span data-ttu-id="12604-112">Creates a certificate.</span><span class="sxs-lookup"><span data-stu-id="12604-112">Creates a certificate.</span></span>
  * <span data-ttu-id="12604-113">Assigns the Contributor Role-Based Access Control (RBAC), which manages Azure Resource Manager resources by using runbooks.</span><span class="sxs-lookup"><span data-stu-id="12604-113">Assigns the Contributor Role-Based Access Control (RBAC), which manages Azure Resource Manager resources by using runbooks.</span></span>
* <span data-ttu-id="12604-114">**Classic Run As account**.</span><span class="sxs-lookup"><span data-stu-id="12604-114">**Classic Run As account**.</span></span> <span data-ttu-id="12604-115">This account uploads a management certificate.</span><span class="sxs-lookup"><span data-stu-id="12604-115">This account uploads a management certificate.</span></span> <span data-ttu-id="12604-116">The certificate manages classic resources by using runbooks.</span><span class="sxs-lookup"><span data-stu-id="12604-116">The certificate manages classic resources by using runbooks.</span></span>

<span data-ttu-id="12604-117">With these accounts created for you, you can quickly start building and deploying runbooks to support your automation needs.</span><span class="sxs-lookup"><span data-stu-id="12604-117">With these accounts created for you, you can quickly start building and deploying runbooks to support your automation needs.</span></span>

## <a name="permissions-required-to-create-an-automation-account"></a><span data-ttu-id="12604-118">Permissions required to create an Automation account</span><span class="sxs-lookup"><span data-stu-id="12604-118">Permissions required to create an Automation account</span></span>

<span data-ttu-id="12604-119">To create or update an Automation account, and to complete the tasks described in this article, you must have the following privileges and permissions:</span><span class="sxs-lookup"><span data-stu-id="12604-119">To create or update an Automation account, and to complete the tasks described in this article, you must have the following privileges and permissions:</span></span>

* <span data-ttu-id="12604-120">To create an Automation account, your Azure AD user account must be added to a role with permissions equivalent to the Owner role for **Microsoft. Automation** resources.</span><span class="sxs-lookup"><span data-stu-id="12604-120">To create an Automation account, your Azure AD user account must be added to a role with permissions equivalent to the Owner role for **Microsoft. Automation** resources.</span></span> <span data-ttu-id="12604-121">For more information, see [Role-Based Access Control in Azure Automation](automation-role-based-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="12604-121">For more information, see [Role-Based Access Control in Azure Automation](automation-role-based-access-control.md).</span></span>
* <span data-ttu-id="12604-122">In the Azure portal, under **Azure Active Directory** > **MANAGE** > **App registrations**, if **App registrations** is set to **Yes**, non-admin users in your Azure AD tenant can [register Active Directory applications](../azure-resource-manager/resource-group-create-service-principal-portal.md#check-azure-subscription-permissions).</span><span class="sxs-lookup"><span data-stu-id="12604-122">In the Azure portal, under **Azure Active Directory** > **MANAGE** > **App registrations**, if **App registrations** is set to **Yes**, non-admin users in your Azure AD tenant can [register Active Directory applications](../azure-resource-manager/resource-group-create-service-principal-portal.md#check-azure-subscription-permissions).</span></span> <span data-ttu-id="12604-123">If **App registrations** is set to **No**, the user who performs this action must be a global administrator in Azure AD.</span><span class="sxs-lookup"><span data-stu-id="12604-123">If **App registrations** is set to **No**, the user who performs this action must be a global administrator in Azure AD.</span></span>

<span data-ttu-id="12604-124">If you aren't a member of the subscription’s Active Directory instance before you are added to the subscription's global administrator/coadministrator role, you are added to Active Directory as a guest.</span><span class="sxs-lookup"><span data-stu-id="12604-124">If you aren't a member of the subscription’s Active Directory instance before you are added to the subscription's global administrator/coadministrator role, you are added to Active Directory as a guest.</span></span> <span data-ttu-id="12604-125">In this scenario, you see this message on the **Add Automation Account** page: “You do not have permissions to create."</span><span class="sxs-lookup"><span data-stu-id="12604-125">In this scenario, you see this message on the **Add Automation Account** page: “You do not have permissions to create."</span></span>

<span data-ttu-id="12604-126">If a user is added to the global administrator/coadministrator role first, you can remove them from the subscription's Active Directory instance, and then readd them to the full User role in Active Directory.</span><span class="sxs-lookup"><span data-stu-id="12604-126">If a user is added to the global administrator/coadministrator role first, you can remove them from the subscription's Active Directory instance, and then readd them to the full User role in Active Directory.</span></span>

<span data-ttu-id="12604-127">To verify user roles:</span><span class="sxs-lookup"><span data-stu-id="12604-127">To verify user roles:</span></span>

1. <span data-ttu-id="12604-128">In the Azure portal, go to the **Azure Active Directory** pane.</span><span class="sxs-lookup"><span data-stu-id="12604-128">In the Azure portal, go to the **Azure Active Directory** pane.</span></span>
1. <span data-ttu-id="12604-129">Select **Users and groups**.</span><span class="sxs-lookup"><span data-stu-id="12604-129">Select **Users and groups**.</span></span>
1. <span data-ttu-id="12604-130">Select **All users**.</span><span class="sxs-lookup"><span data-stu-id="12604-130">Select **All users**.</span></span>
1. <span data-ttu-id="12604-131">After you select a specific user, select **Profile**.</span><span class="sxs-lookup"><span data-stu-id="12604-131">After you select a specific user, select **Profile**.</span></span> <span data-ttu-id="12604-132">The value of the **User type** attribute under the user's profile should not be **Guest**.</span><span class="sxs-lookup"><span data-stu-id="12604-132">The value of the **User type** attribute under the user's profile should not be **Guest**.</span></span>

## <a name="create-a-new-automation-account-in-the-azure-portal"></a><span data-ttu-id="12604-133">Create a new Automation account in the Azure portal</span><span class="sxs-lookup"><span data-stu-id="12604-133">Create a new Automation account in the Azure portal</span></span>

<span data-ttu-id="12604-134">To create an Azure Automation account in the Azure portal, complete the following steps:</span><span class="sxs-lookup"><span data-stu-id="12604-134">To create an Azure Automation account in the Azure portal, complete the following steps:</span></span>

1. <span data-ttu-id="12604-135">Sign in to the Azure portal with an account that's a member of the subscription Administrators role and a coadministrator of the subscription.</span><span class="sxs-lookup"><span data-stu-id="12604-135">Sign in to the Azure portal with an account that's a member of the subscription Administrators role and a coadministrator of the subscription.</span></span>
1. <span data-ttu-id="12604-136">Select **+ Create a Resource**.</span><span class="sxs-lookup"><span data-stu-id="12604-136">Select **+ Create a Resource**.</span></span>
1. <span data-ttu-id="12604-137">Search for **Automation**.</span><span class="sxs-lookup"><span data-stu-id="12604-137">Search for **Automation**.</span></span> <span data-ttu-id="12604-138">In the search results, select **Automation**.</span><span class="sxs-lookup"><span data-stu-id="12604-138">In the search results, select **Automation**.</span></span>

   ![Search for and select Automation & Control in the Azure Marketplace](media/automation-create-standalone-account/automation-marketplace-select-create-automationacct.png)

1. <span data-ttu-id="12604-140">On the next screen select **Create**.</span><span class="sxs-lookup"><span data-stu-id="12604-140">On the next screen select **Create**.</span></span>
  <span data-ttu-id="12604-141">![Add Automation account](media/automation-create-standalone-account/automation-create-automationacct-properties.png)</span><span class="sxs-lookup"><span data-stu-id="12604-141">![Add Automation account](media/automation-create-standalone-account/automation-create-automationacct-properties.png)</span></span>

  > [!NOTE]
  > <span data-ttu-id="12604-142">If you see the following message in the **Add Automation Account** pane, your account is not a member of the subscription Administrators role and a coadministrator of the subscription.</span><span class="sxs-lookup"><span data-stu-id="12604-142">If you see the following message in the **Add Automation Account** pane, your account is not a member of the subscription Administrators role and a coadministrator of the subscription.</span></span>
  >
  > ![Add Automation account warning](media/automation-create-standalone-account/create-account-without-perms.png)
  >
1. <span data-ttu-id="12604-144">In the **Add Automation Account** pane, in the **Name** box, enter a name for your new Automation account.</span><span class="sxs-lookup"><span data-stu-id="12604-144">In the **Add Automation Account** pane, in the **Name** box, enter a name for your new Automation account.</span></span> <span data-ttu-id="12604-145">This name cannot be changed after it is chosen.</span><span class="sxs-lookup"><span data-stu-id="12604-145">This name cannot be changed after it is chosen.</span></span>
1. <span data-ttu-id="12604-146">If you have more than one subscription, in the **Subscription** box, specify the subscription you want to use for the new account.</span><span class="sxs-lookup"><span data-stu-id="12604-146">If you have more than one subscription, in the **Subscription** box, specify the subscription you want to use for the new account.</span></span>
1. <span data-ttu-id="12604-147">For **Resource group**, enter or select a new or existing resource group.</span><span class="sxs-lookup"><span data-stu-id="12604-147">For **Resource group**, enter or select a new or existing resource group.</span></span>
1. <span data-ttu-id="12604-148">For **Location**, select an Azure datacenter location.</span><span class="sxs-lookup"><span data-stu-id="12604-148">For **Location**, select an Azure datacenter location.</span></span>
1. <span data-ttu-id="12604-149">For the **Create Azure Run As account** option, ensure that **Yes** is selected, and then select **Create**.</span><span class="sxs-lookup"><span data-stu-id="12604-149">For the **Create Azure Run As account** option, ensure that **Yes** is selected, and then select **Create**.</span></span>

  > [!NOTE]
  > <span data-ttu-id="12604-150">If you choose not to create the Run As account by selecting **No** for **Create Azure Run As account**, a message appears in the **Add Automation Account** pane.</span><span class="sxs-lookup"><span data-stu-id="12604-150">If you choose not to create the Run As account by selecting **No** for **Create Azure Run As account**, a message appears in the **Add Automation Account** pane.</span></span> <span data-ttu-id="12604-151">Although the account is created in the Azure portal, the account doesn't have a corresponding authentication identity in your classic deployment model subscription or in the Azure Resource Manager subscription directory service.</span><span class="sxs-lookup"><span data-stu-id="12604-151">Although the account is created in the Azure portal, the account doesn't have a corresponding authentication identity in your classic deployment model subscription or in the Azure Resource Manager subscription directory service.</span></span> <span data-ttu-id="12604-152">Therefore, the Automation account doesn't have access to resources in your subscription.</span><span class="sxs-lookup"><span data-stu-id="12604-152">Therefore, the Automation account doesn't have access to resources in your subscription.</span></span> <span data-ttu-id="12604-153">This prevents any runbooks that reference this account from being able to authenticate and perform tasks against resources in those deployment models.</span><span class="sxs-lookup"><span data-stu-id="12604-153">This prevents any runbooks that reference this account from being able to authenticate and perform tasks against resources in those deployment models.</span></span>
  >
  > ![Add Automation account warning](media/automation-create-standalone-account/create-account-decline-create-runas-msg.png)
  >
  > <span data-ttu-id="12604-155">When the service principal is not created, the Contributor role is not assigned.</span><span class="sxs-lookup"><span data-stu-id="12604-155">When the service principal is not created, the Contributor role is not assigned.</span></span>
  >

1. <span data-ttu-id="12604-156">To track the progress of the Automation account creation, in the menu, select **Notifications**.</span><span class="sxs-lookup"><span data-stu-id="12604-156">To track the progress of the Automation account creation, in the menu, select **Notifications**.</span></span>

### <a name="resources-included"></a><span data-ttu-id="12604-157">Resources included</span><span class="sxs-lookup"><span data-stu-id="12604-157">Resources included</span></span>

<span data-ttu-id="12604-158">When the Automation account is successfully created, several resources are automatically created for you.</span><span class="sxs-lookup"><span data-stu-id="12604-158">When the Automation account is successfully created, several resources are automatically created for you.</span></span> <span data-ttu-id="12604-159">After creation, these runbooks can be safely deleted if you do not wish to keep them.</span><span class="sxs-lookup"><span data-stu-id="12604-159">After creation, these runbooks can be safely deleted if you do not wish to keep them.</span></span> <span data-ttu-id="12604-160">The Run As Accounts, can be used to authenticate to your account in a runbook, and should be left unless you create another one or do not require them.</span><span class="sxs-lookup"><span data-stu-id="12604-160">The Run As Accounts, can be used to authenticate to your account in a runbook, and should be left unless you create another one or do not require them.</span></span> <span data-ttu-id="12604-161">The following table summarizes resources for the Run As account.</span><span class="sxs-lookup"><span data-stu-id="12604-161">The following table summarizes resources for the Run As account.</span></span>

| <span data-ttu-id="12604-162">Resource</span><span class="sxs-lookup"><span data-stu-id="12604-162">Resource</span></span> | <span data-ttu-id="12604-163">Description</span><span class="sxs-lookup"><span data-stu-id="12604-163">Description</span></span> |
| --- | --- |
| <span data-ttu-id="12604-164">AzureAutomationTutorial Runbook</span><span class="sxs-lookup"><span data-stu-id="12604-164">AzureAutomationTutorial Runbook</span></span> |<span data-ttu-id="12604-165">An example graphical runbook that demonstrates how to authenticate by using the Run As account.</span><span class="sxs-lookup"><span data-stu-id="12604-165">An example graphical runbook that demonstrates how to authenticate by using the Run As account.</span></span> <span data-ttu-id="12604-166">The runbook gets all Resource Manager resources.</span><span class="sxs-lookup"><span data-stu-id="12604-166">The runbook gets all Resource Manager resources.</span></span> |
| <span data-ttu-id="12604-167">AzureAutomationTutorialScript Runbook</span><span class="sxs-lookup"><span data-stu-id="12604-167">AzureAutomationTutorialScript Runbook</span></span> |<span data-ttu-id="12604-168">An example PowerShell runbook that demonstrates how to authenticate by using the Run As account.</span><span class="sxs-lookup"><span data-stu-id="12604-168">An example PowerShell runbook that demonstrates how to authenticate by using the Run As account.</span></span> <span data-ttu-id="12604-169">The runbook gets all Resource Manager resources.</span><span class="sxs-lookup"><span data-stu-id="12604-169">The runbook gets all Resource Manager resources.</span></span> |
| <span data-ttu-id="12604-170">AzureAutomationTutorialPython2 Runbook</span><span class="sxs-lookup"><span data-stu-id="12604-170">AzureAutomationTutorialPython2 Runbook</span></span> |<span data-ttu-id="12604-171">An example Python runbook that demonstrates how to authenticate by using the Run As account.</span><span class="sxs-lookup"><span data-stu-id="12604-171">An example Python runbook that demonstrates how to authenticate by using the Run As account.</span></span> <span data-ttu-id="12604-172">The runbook lists all resource groups present in the subscription.</span><span class="sxs-lookup"><span data-stu-id="12604-172">The runbook lists all resource groups present in the subscription.</span></span> |
| <span data-ttu-id="12604-173">AzureRunAsCertificate</span><span class="sxs-lookup"><span data-stu-id="12604-173">AzureRunAsCertificate</span></span> |<span data-ttu-id="12604-174">A certificate asset that's automatically created when the Automation account is created, or by using a PowerShell script for an existing account.</span><span class="sxs-lookup"><span data-stu-id="12604-174">A certificate asset that's automatically created when the Automation account is created, or by using a PowerShell script for an existing account.</span></span> <span data-ttu-id="12604-175">The certificate authenticates with Azure so you can manage Azure Resource Manager resources from runbooks.</span><span class="sxs-lookup"><span data-stu-id="12604-175">The certificate authenticates with Azure so you can manage Azure Resource Manager resources from runbooks.</span></span> <span data-ttu-id="12604-176">This certificate has a one-year lifespan.</span><span class="sxs-lookup"><span data-stu-id="12604-176">This certificate has a one-year lifespan.</span></span> |
| <span data-ttu-id="12604-177">AzureRunAsConnection</span><span class="sxs-lookup"><span data-stu-id="12604-177">AzureRunAsConnection</span></span> |<span data-ttu-id="12604-178">A connection asset that's automatically created when the Automation account is created, or by using a PowerShell script for an existing account.</span><span class="sxs-lookup"><span data-stu-id="12604-178">A connection asset that's automatically created when the Automation account is created, or by using a PowerShell script for an existing account.</span></span> |

<span data-ttu-id="12604-179">The following table summarizes resources for the Classic Run As account.</span><span class="sxs-lookup"><span data-stu-id="12604-179">The following table summarizes resources for the Classic Run As account.</span></span>

| <span data-ttu-id="12604-180">Resource</span><span class="sxs-lookup"><span data-stu-id="12604-180">Resource</span></span> | <span data-ttu-id="12604-181">Description</span><span class="sxs-lookup"><span data-stu-id="12604-181">Description</span></span> |
| --- | --- |
| <span data-ttu-id="12604-182">AzureClassicAutomationTutorial Runbook</span><span class="sxs-lookup"><span data-stu-id="12604-182">AzureClassicAutomationTutorial Runbook</span></span> |<span data-ttu-id="12604-183">An example graphical runbook.</span><span class="sxs-lookup"><span data-stu-id="12604-183">An example graphical runbook.</span></span> <span data-ttu-id="12604-184">The runbook gets all classic VMs in a subscription by using the Classic Run As Account (certificate).</span><span class="sxs-lookup"><span data-stu-id="12604-184">The runbook gets all classic VMs in a subscription by using the Classic Run As Account (certificate).</span></span> <span data-ttu-id="12604-185">Then, it displays the VM names and status.</span><span class="sxs-lookup"><span data-stu-id="12604-185">Then, it displays the VM names and status.</span></span> |
| <span data-ttu-id="12604-186">AzureClassicAutomationTutorial Script Runbook</span><span class="sxs-lookup"><span data-stu-id="12604-186">AzureClassicAutomationTutorial Script Runbook</span></span> |<span data-ttu-id="12604-187">An example PowerShell runbook.</span><span class="sxs-lookup"><span data-stu-id="12604-187">An example PowerShell runbook.</span></span> <span data-ttu-id="12604-188">The runbook gets all classic VMs in a subscription by using the Classic Run As Account (certificate).</span><span class="sxs-lookup"><span data-stu-id="12604-188">The runbook gets all classic VMs in a subscription by using the Classic Run As Account (certificate).</span></span> <span data-ttu-id="12604-189">Then, it displays the VM names and status.</span><span class="sxs-lookup"><span data-stu-id="12604-189">Then, it displays the VM names and status.</span></span> |
| <span data-ttu-id="12604-190">AzureClassicRunAsCertificate</span><span class="sxs-lookup"><span data-stu-id="12604-190">AzureClassicRunAsCertificate</span></span> |<span data-ttu-id="12604-191">A certificate asset that's automatically created.</span><span class="sxs-lookup"><span data-stu-id="12604-191">A certificate asset that's automatically created.</span></span> <span data-ttu-id="12604-192">The certificate authenticates with Azure so you can manage Azure classic resources from runbooks.</span><span class="sxs-lookup"><span data-stu-id="12604-192">The certificate authenticates with Azure so you can manage Azure classic resources from runbooks.</span></span> <span data-ttu-id="12604-193">This certificate has a one-year lifespan.</span><span class="sxs-lookup"><span data-stu-id="12604-193">This certificate has a one-year lifespan.</span></span> |
| <span data-ttu-id="12604-194">AzureClassicRunAsConnection</span><span class="sxs-lookup"><span data-stu-id="12604-194">AzureClassicRunAsConnection</span></span> |<span data-ttu-id="12604-195">A connection asset that's automatically created.</span><span class="sxs-lookup"><span data-stu-id="12604-195">A connection asset that's automatically created.</span></span> <span data-ttu-id="12604-196">The asset authenticates with Azure so you can manage Azure classic resources from runbooks.</span><span class="sxs-lookup"><span data-stu-id="12604-196">The asset authenticates with Azure so you can manage Azure classic resources from runbooks.</span></span> |

## <a name="next-steps"></a><span data-ttu-id="12604-197">Next steps</span><span class="sxs-lookup"><span data-stu-id="12604-197">Next steps</span></span>

* <span data-ttu-id="12604-198">To learn more about graphical authoring, see [Graphical authoring in Azure Automation](automation-graphical-authoring-intro.md).</span><span class="sxs-lookup"><span data-stu-id="12604-198">To learn more about graphical authoring, see [Graphical authoring in Azure Automation](automation-graphical-authoring-intro.md).</span></span>
* <span data-ttu-id="12604-199">To get started with PowerShell runbooks, see [My first PowerShell runbook](automation-first-runbook-textual-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="12604-199">To get started with PowerShell runbooks, see [My first PowerShell runbook](automation-first-runbook-textual-powershell.md).</span></span>
* <span data-ttu-id="12604-200">To get started with PowerShell workflow runbooks, see [My first PowerShell workflow runbook](automation-first-runbook-textual.md).</span><span class="sxs-lookup"><span data-stu-id="12604-200">To get started with PowerShell workflow runbooks, see [My first PowerShell workflow runbook](automation-first-runbook-textual.md).</span></span>
* <span data-ttu-id="12604-201">To get started with Python2 runbooks, see [My first Python2 runbook](automation-first-runbook-textual-python2.md).</span><span class="sxs-lookup"><span data-stu-id="12604-201">To get started with Python2 runbooks, see [My first Python2 runbook](automation-first-runbook-textual-python2.md).</span></span>
